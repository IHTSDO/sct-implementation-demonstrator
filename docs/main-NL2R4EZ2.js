import{a as Doe}from"./chunk-QMQTSFHS.js";import{a as ht,b as Ri,c as d5,d as Lt,e as Ro,f as Mt}from"./chunk-EQDQRRRY.js";var _f=Lt((L4,N4)=>{"use strict";(function(t,i){typeof define=="function"&&define.amd?define([],i):typeof L4<"u"?i():(i(),t.FileSaver={})})(L4,function(){"use strict";function t(o,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function i(o,u,l){var c=new XMLHttpRequest;c.open("GET",o),c.responseType="blob",c.onload=function(){s(c.response,u,l)},c.onerror=function(){console.error("could not download file")},c.send()}function e(o){var u=new XMLHttpRequest;u.open("HEAD",o,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function r(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(u)}}var n=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,a=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=n.saveAs||(typeof window!="object"||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(o,u,l){var c=n.URL||n.webkitURL,h=document.createElement("a");u=u||o.name||"download",h.download=u,h.rel="noopener",typeof o=="string"?(h.href=o,h.origin===location.origin?r(h):e(h.href)?i(o,u,l):r(h,h.target="_blank")):(h.href=c.createObjectURL(o),setTimeout(function(){c.revokeObjectURL(h.href)},4e4),setTimeout(function(){r(h)},0))}:"msSaveOrOpenBlob"in navigator?function(o,u,l){if(u=u||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(t(o,l),u);else if(e(o))i(o,u,l);else{var c=document.createElement("a");c.href=o,c.target="_blank",setTimeout(function(){r(c)})}}:function(o,u,l,c){if(c=c||open("","_blank"),c&&(c.document.title=c.document.body.innerText="downloading..."),typeof o=="string")return i(o,u,l);var h=o.type==="application/octet-stream",d=/constructor/i.test(n.HTMLElement)||n.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||h&&d||a)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var v=m.result;v=f?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=v:location=v,c=null},m.readAsDataURL(o)}else{var p=n.URL||n.webkitURL,g=p.createObjectURL(o);c?c.location=g:location.href=g,c=null,setTimeout(function(){p.revokeObjectURL(g)},4e4)}});n.saveAs=s.saveAs=s,typeof N4<"u"&&(N4.exports=s)})});var WQ=Lt((rxt,LIe)=>{LIe.exports={words:["ahole","anus","ash0le","ash0les","asholes","ass","Ass Monkey","Assface","assh0le","assh0lez","asshole","assholes","assholz","asswipe","azzhole","bassterds","bastard","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches","Blow Job","boffing","butthole","buttwipe","c0ck","c0cks","c0k","Carpet Muncher","cawk","cawks","Clit","cnts","cntz","cock","cockhead","cock-head","cocks","CockSucker","cock-sucker","crap","cum","cunt","cunts","cuntz","dick","dild0","dild0s","dildo","dildos","dilld0","dilld0s","dominatricks","dominatrics","dominatrix","dyke","enema","f u c k","f u c k e r","fag","fag1t","faget","fagg1t","faggit","faggot","fagg0t","fagit","fags","fagz","faig","faigs","fart","flipping the bird","fuck","fucker","fuckin","fucking","fucks","Fudge Packer","fuk","Fukah","Fuken","fuker","Fukin","Fukk","Fukkah","Fukken","Fukker","Fukkin","g00k","God-damned","h00r","h0ar","h0re","hells","hoar","hoor","hoore","jackoff","jap","japs","jerk-off","jisim","jiss","jizm","jizz","knob","knobs","knobz","kunt","kunts","kuntz","Lezzian","Lipshits","Lipshitz","masochist","masokist","massterbait","masstrbait","masstrbate","masterbaiter","masterbate","masterbates","Motha Fucker","Motha Fuker","Motha Fukkah","Motha Fukker","Mother Fucker","Mother Fukah","Mother Fuker","Mother Fukkah","Mother Fukker","mother-fucker","Mutha Fucker","Mutha Fukah","Mutha Fuker","Mutha Fukkah","Mutha Fukker","n1gr","nastt","nigger;","nigur;","niiger;","niigr;","orafis","orgasim;","orgasm","orgasum","oriface","orifice","orifiss","packi","packie","packy","paki","pakie","paky","pecker","peeenus","peeenusss","peenus","peinus","pen1s","penas","penis","penis-breath","penus","penuus","Phuc","Phuck","Phuk","Phuker","Phukker","polac","polack","polak","Poonani","pr1c","pr1ck","pr1k","pusse","pussee","pussy","puuke","puuker","qweir","recktum","rectum","retard","sadist","scank","schlong","screwing","semen","sex","sexy","Sh!t","sh1t","sh1ter","sh1ts","sh1tter","sh1tz","shit","shits","shitter","Shitty","Shity","shitz","Shyt","Shyte","Shytty","Shyty","skanck","skank","skankee","skankey","skanks","Skanky","slag","slut","sluts","Slutty","slutz","son-of-a-bitch","tit","turd","va1jina","vag1na","vagiina","vagina","vaj1na","vajina","vullva","vulva","w0p","wh00r","wh0re","whore","xrated","xxx","b!+ch","bitch","blowjob","clit","arschloch","fuck","shit","ass","asshole","b!tch","b17ch","b1tch","bastard","bi+ch","boiolas","buceta","c0ck","cawk","chink","cipa","clits","cock","cum","cunt","dildo","dirsa","ejakulate","fatass","fcuk","fuk","fux0r","hoer","hore","jism","kawk","l3itch","l3i+ch","masturbate","masterbat*","masterbat3","motherfucker","s.o.b.","mofo","nazi","nigga","nigger","nutsack","phuck","pimpis","pusse","pussy","scrotum","sh!t","shemale","shi+","sh!+","slut","smut","teets","tits","boobs","b00bs","teez","testical","testicle","titt","w00se","jackoff","wank","whoar","whore","*damn","*dyke","*fuck*","*shit*","@$$","amcik","andskota","arse*","assrammer","ayir","bi7ch","bitch*","bollock*","breasts","butt-pirate","cabron","cazzo","chraa","chuj","Cock*","cunt*","d4mn","daygo","dego","dick*","dike*","dupa","dziwka","ejackulate","Ekrem*","Ekto","enculer","faen","fag*","fanculo","fanny","feces","feg","Felcher","ficken","fitt*","Flikker","foreskin","Fotze","Fu(*","fuk*","futkretzn","gook","guiena","h0r","h4x0r","hell","helvete","hoer*","honkey","Huevon","hui","injun","jizz","kanker*","kike","klootzak","kraut","knulle","kuk","kuksuger","Kurac","kurwa","kusi*","kyrpa*","lesbo","mamhoon","masturbat*","merd*","mibun","monkleigh","mouliewop","muie","mulkku","muschi","nazis","nepesaurio","nigger*","orospu","paska*","perse","picka","pierdol*","pillu*","pimmel","piss*","pizda","poontsee","poop","porn","p0rn","pr0n","preteen","pula","pule","puta","puto","qahbeh","queef*","rautenberg","schaffer","scheiss*","schlampe","schmuck","screw","sh!t*","sharmuta","sharmute","shipal","shiz","skribz","skurwysyn","sphencter","spic","spierdalaj","splooge","suka","b00b*","testicle*","titt*","twat","vittu","wank*","wetback*","wichser","wop*","yed","zabourah"]}});var YQ=Lt((sxt,XQ)=>{"use strict";XQ.exports={"4r5e":1,"5h1t":1,"5hit":1,a55:1,anal:1,anus:1,ar5e:1,arrse:1,arse:1,ass:1,"ass-fucker":1,asses:1,assfucker:1,assfukka:1,asshole:1,assholes:1,asswhole:1,a_s_s:1,"b!tch":1,b00bs:1,b17ch:1,b1tch:1,ballbag:1,balls:1,ballsack:1,bastard:1,beastial:1,beastiality:1,bellend:1,bestial:1,bestiality:1,"bi+ch":1,biatch:1,bitch:1,bitcher:1,bitchers:1,bitches:1,bitchin:1,bitching:1,bloody:1,"blow job":1,blowjob:1,blowjobs:1,boiolas:1,bollock:1,bollok:1,boner:1,boob:1,boobs:1,booobs:1,boooobs:1,booooobs:1,booooooobs:1,breasts:1,buceta:1,bugger:1,bum:1,"bunny fucker":1,butt:1,butthole:1,buttmuch:1,buttplug:1,c0ck:1,c0cksucker:1,"carpet muncher":1,cawk:1,chink:1,cipa:1,cl1t:1,clit:1,clitoris:1,clits:1,cnut:1,cock:1,"cock-sucker":1,cockface:1,cockhead:1,cockmunch:1,cockmuncher:1,cocks:1,cocksuck:1,cocksucked:1,cocksucker:1,cocksucking:1,cocksucks:1,cocksuka:1,cocksukka:1,cok:1,cokmuncher:1,coksucka:1,coon:1,cox:1,crap:1,cum:1,cummer:1,cumming:1,cums:1,cumshot:1,cunilingus:1,cunillingus:1,cunnilingus:1,cunt:1,cuntlick:1,cuntlicker:1,cuntlicking:1,cunts:1,cyalis:1,cyberfuc:1,cyberfuck:1,cyberfucked:1,cyberfucker:1,cyberfuckers:1,cyberfucking:1,d1ck:1,damn:1,dick:1,dickhead:1,dildo:1,dildos:1,dink:1,dinks:1,dirsa:1,dlck:1,"dog-fucker":1,doggin:1,dogging:1,donkeyribber:1,doosh:1,duche:1,dyke:1,ejaculate:1,ejaculated:1,ejaculates:1,ejaculating:1,ejaculatings:1,ejaculation:1,ejakulate:1,"f u c k":1,"f u c k e r":1,f4nny:1,fag:1,fagging:1,faggitt:1,faggot:1,faggs:1,fagot:1,fagots:1,fags:1,fanny:1,fannyflaps:1,fannyfucker:1,fanyy:1,fatass:1,fcuk:1,fcuker:1,fcuking:1,feck:1,fecker:1,felching:1,fellate:1,fellatio:1,fingerfuck:1,fingerfucked:1,fingerfucker:1,fingerfuckers:1,fingerfucking:1,fingerfucks:1,fistfuck:1,fistfucked:1,fistfucker:1,fistfuckers:1,fistfucking:1,fistfuckings:1,fistfucks:1,flange:1,fook:1,fooker:1,fuck:1,fucka:1,fucked:1,fucker:1,fuckers:1,fuckhead:1,fuckheads:1,fuckin:1,fucking:1,fuckings:1,fuckingshitmotherfucker:1,fuckme:1,fucks:1,fuckwhit:1,fuckwit:1,"fudge packer":1,fudgepacker:1,fuk:1,fuker:1,fukker:1,fukkin:1,fuks:1,fukwhit:1,fukwit:1,fux:1,fux0r:1,f_u_c_k:1,gangbang:1,gangbanged:1,gangbangs:1,gaylord:1,gaysex:1,goatse:1,God:1,"god-dam":1,"god-damned":1,goddamn:1,goddamned:1,hardcoresex:1,hell:1,heshe:1,hoar:1,hoare:1,hoer:1,homo:1,hore:1,horniest:1,horny:1,hotsex:1,"jack-off":1,jackoff:1,jap:1,"jerk-off":1,jism:1,jiz:1,jizm:1,jizz:1,kawk:1,knob:1,knobead:1,knobed:1,knobend:1,knobhead:1,knobjocky:1,knobjokey:1,kock:1,kondum:1,kondums:1,kum:1,kummer:1,kumming:1,kums:1,kunilingus:1,"l3i+ch":1,l3itch:1,labia:1,lust:1,lusting:1,m0f0:1,m0fo:1,m45terbate:1,ma5terb8:1,ma5terbate:1,masochist:1,"master-bate":1,masterb8:1,"masterbat*":1,masterbat3:1,masterbate:1,masterbation:1,masterbations:1,masturbate:1,"mo-fo":1,mof0:1,mofo:1,mothafuck:1,mothafucka:1,mothafuckas:1,mothafuckaz:1,mothafucked:1,mothafucker:1,mothafuckers:1,mothafuckin:1,mothafucking:1,mothafuckings:1,mothafucks:1,"mother fucker":1,motherfuck:1,motherfucked:1,motherfucker:1,motherfuckers:1,motherfuckin:1,motherfucking:1,motherfuckings:1,motherfuckka:1,motherfucks:1,muff:1,mutha:1,muthafecker:1,muthafuckker:1,muther:1,mutherfucker:1,n1gga:1,n1gger:1,nazi:1,nigg3r:1,nigg4h:1,nigga:1,niggah:1,niggas:1,niggaz:1,nigger:1,niggers:1,nob:1,"nob jokey":1,nobhead:1,nobjocky:1,nobjokey:1,numbnuts:1,nutsack:1,orgasim:1,orgasims:1,orgasm:1,orgasms:1,p0rn:1,pawn:1,pecker:1,penis:1,penisfucker:1,phonesex:1,phuck:1,phuk:1,phuked:1,phuking:1,phukked:1,phukking:1,phuks:1,phuq:1,pigfucker:1,pimpis:1,piss:1,pissed:1,pisser:1,pissers:1,pisses:1,pissflaps:1,pissin:1,pissing:1,pissoff:1,poop:1,porn:1,porno:1,pornography:1,pornos:1,prick:1,pricks:1,pron:1,pube:1,pusse:1,pussi:1,pussies:1,pussy:1,pussys:1,rectum:1,retard:1,rimjaw:1,rimming:1,"s hit":1,"s.o.b.":1,sadist:1,schlong:1,screwing:1,scroat:1,scrote:1,scrotum:1,semen:1,sex:1,"sh!+":1,"sh!t":1,sh1t:1,shag:1,shagger:1,shaggin:1,shagging:1,shemale:1,"shi+":1,shit:1,shitdick:1,shite:1,shited:1,shitey:1,shitfuck:1,shitfull:1,shithead:1,shiting:1,shitings:1,shits:1,shitted:1,shitter:1,shitters:1,shitting:1,shittings:1,shitty:1,skank:1,slut:1,sluts:1,smegma:1,smut:1,snatch:1,"son-of-a-bitch":1,spac:1,spunk:1,s_h_i_t:1,t1tt1e5:1,t1tties:1,teets:1,teez:1,testical:1,testicle:1,tit:1,titfuck:1,tits:1,titt:1,tittie5:1,tittiefucker:1,titties:1,tittyfuck:1,tittywank:1,titwank:1,tosser:1,turd:1,tw4t:1,twat:1,twathead:1,twatty:1,twunt:1,twunter:1,v14gra:1,v1gra:1,vagina:1,viagra:1,vulva:1,w00se:1,wang:1,wank:1,wanker:1,wanky:1,whoar:1,whore:1,willies:1,willy:1,xrated:1,xxx:1}});var QQ=Lt((axt,$Q)=>{"use strict";$Q.exports=["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","ass","ass-fucker","asses","assfucker","assfukka","asshole","assholes","asswhole","a_s_s","b!tch","b00bs","b17ch","b1tch","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","bi+ch","biatch","bitch","bitcher","bitchers","bitches","bitchin","bitching","bloody","blow job","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bum","bunny fucker","butt","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","damn","dick","dickhead","dildo","dildos","dink","dinks","dirsa","dlck","dog-fucker","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f u c k","f u c k e r","f4nny","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","flange","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucks","fuckwhit","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","f_u_c_k","gangbang","gangbanged","gangbangs","gaylord","gaysex","goatse","God","god-dam","god-damned","goddamn","goddamned","hardcoresex","hell","heshe","hoar","hoare","hoer","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","mutha","muthafecker","muthafuckker","muther","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nob jokey","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s hit","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","snatch","son-of-a-bitch","spac","spunk","s_h_i_t","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx"]});var ZQ=Lt((oxt,KQ)=>{"use strict";KQ.exports=/\b(4r5e|5h1t|5hit|a55|anal|anus|ar5e|arrse|arse|ass|ass-fucker|asses|assfucker|assfukka|asshole|assholes|asswhole|a_s_s|b!tch|b00bs|b17ch|b1tch|ballbag|balls|ballsack|bastard|beastial|beastiality|bellend|bestial|bestiality|bi\+ch|biatch|bitch|bitcher|bitchers|bitches|bitchin|bitching|bloody|blow job|blowjob|blowjobs|boiolas|bollock|bollok|boner|boob|boobs|booobs|boooobs|booooobs|booooooobs|breasts|buceta|bugger|bum|bunny fucker|butt|butthole|buttmuch|buttplug|c0ck|c0cksucker|carpet muncher|cawk|chink|cipa|cl1t|clit|clitoris|clits|cnut|cock|cock-sucker|cockface|cockhead|cockmunch|cockmuncher|cocks|cocksuck|cocksucked|cocksucker|cocksucking|cocksucks|cocksuka|cocksukka|cok|cokmuncher|coksucka|coon|cox|crap|cum|cummer|cumming|cums|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cuntlick|cuntlicker|cuntlicking|cunts|cyalis|cyberfuc|cyberfuck|cyberfucked|cyberfucker|cyberfuckers|cyberfucking|d1ck|damn|dick|dickhead|dildo|dildos|dink|dinks|dirsa|dlck|dog-fucker|doggin|dogging|donkeyribber|doosh|duche|dyke|ejaculate|ejaculated|ejaculates|ejaculating|ejaculatings|ejaculation|ejakulate|f u c k|f u c k e r|f4nny|fag|fagging|faggitt|faggot|faggs|fagot|fagots|fags|fanny|fannyflaps|fannyfucker|fanyy|fatass|fcuk|fcuker|fcuking|feck|fecker|felching|fellate|fellatio|fingerfuck|fingerfucked|fingerfucker|fingerfuckers|fingerfucking|fingerfucks|fistfuck|fistfucked|fistfucker|fistfuckers|fistfucking|fistfuckings|fistfucks|flange|fook|fooker|fuck|fucka|fucked|fucker|fuckers|fuckhead|fuckheads|fuckin|fucking|fuckings|fuckingshitmotherfucker|fuckme|fucks|fuckwhit|fuckwit|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux|fux0r|f_u_c_k|gangbang|gangbanged|gangbangs|gaylord|gaysex|goatse|God|god-dam|god-damned|goddamn|goddamned|hardcoresex|hell|heshe|hoar|hoare|hoer|homo|hore|horniest|horny|hotsex|jack-off|jackoff|jap|jerk-off|jism|jiz|jizm|jizz|kawk|knob|knobead|knobed|knobend|knobhead|knobjocky|knobjokey|kock|kondum|kondums|kum|kummer|kumming|kums|kunilingus|l3i\+ch|l3itch|labia|lust|lusting|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat*|masterbat3|masterbate|masterbation|masterbations|masturbate|mo-fo|mof0|mofo|mothafuck|mothafucka|mothafuckas|mothafuckaz|mothafucked|mothafucker|mothafuckers|mothafuckin|mothafucking|mothafuckings|mothafucks|mother fucker|motherfuck|motherfucked|motherfucker|motherfuckers|motherfuckin|motherfucking|motherfuckings|motherfuckka|motherfucks|muff|mutha|muthafecker|muthafuckker|muther|mutherfucker|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|nob|nob jokey|nobhead|nobjocky|nobjokey|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|pawn|pecker|penis|penisfucker|phonesex|phuck|phuk|phuked|phuking|phukked|phukking|phuks|phuq|pigfucker|pimpis|piss|pissed|pisser|pissers|pisses|pissflaps|pissin|pissing|pissoff|poop|porn|porno|pornography|pornos|prick|pricks|pron|pube|pusse|pussi|pussies|pussy|pussys|rectum|retard|rimjaw|rimming|s hit|s.o.b.|sadist|schlong|screwing|scroat|scrote|scrotum|semen|sex|sh!\+|sh!t|sh1t|shag|shagger|shaggin|shagging|shemale|shi\+|shit|shitdick|shite|shited|shitey|shitfuck|shitfull|shithead|shiting|shitings|shits|shitted|shitter|shitters|shitting|shittings|shitty|skank|slut|sluts|smegma|smut|snatch|son-of-a-bitch|spac|spunk|s_h_i_t|t1tt1e5|t1tties|teets|teez|testical|testicle|tit|titfuck|tits|titt|tittie5|tittiefucker|titties|tittyfuck|tittywank|titwank|tosser|turd|tw4t|twat|twathead|twatty|twunt|twunter|v14gra|v1gra|vagina|viagra|vulva|w00se|wang|wank|wanker|wanky|whoar|whore|willies|willy|xrated|xxx)\b/gi});var qQ=Lt((lxt,JQ)=>{"use strict";JQ.exports={object:YQ(),array:QQ(),regex:ZQ()}});var tK=Lt((cxt,eK)=>{"use strict";var NIe=WQ().words,BIe=qQ().array,BL=class{constructor(i={}){Object.assign(this,{list:i.emptyList&&[]||Array.prototype.concat.apply(NIe,[BIe,i.list||[]]),exclude:i.exclude||[],splitRegex:i.splitRegex||/\b/,placeHolder:i.placeHolder||"*",regex:i.regex||/[^a-zA-Z0-9|\$|\@]|\^/g,replaceRegex:i.replaceRegex||/\w/g})}isProfane(i){return this.list.filter(e=>{let r=new RegExp(`\\b${e.replace(/(\W)/g,"\\$1")}\\b`,"gi");return!this.exclude.includes(e.toLowerCase())&&r.test(i)}).length>0||!1}replaceWord(i){return i.replace(this.regex,"").replace(this.replaceRegex,this.placeHolder)}clean(i){return i.split(this.splitRegex).map(e=>this.isProfane(e)?this.replaceWord(e):e).join(this.splitRegex.exec(i)[0])}addWords(){let i=Array.from(arguments);this.list.push(...i),i.map(e=>e.toLowerCase()).forEach(e=>{this.exclude.includes(e)&&this.exclude.splice(this.exclude.indexOf(e),1)})}removeWords(){this.exclude.push(...Array.from(arguments).map(i=>i.toLowerCase()))}};eK.exports=BL});var aK=Lt((fxt,sK)=>{"use strict";function dDe(){this.__data__=[],this.size=0}sK.exports=dDe});var VL=Lt((pxt,oK)=>{"use strict";function hDe(t,i){return t===i||t!==t&&i!==i}oK.exports=hDe});var Aw=Lt((mxt,lK)=>{"use strict";var fDe=VL();function pDe(t,i){for(var e=t.length;e--;)if(fDe(t[e][0],i))return e;return-1}lK.exports=pDe});var uK=Lt((gxt,cK)=>{"use strict";var mDe=Aw(),gDe=Array.prototype,vDe=gDe.splice;function yDe(t){var i=this.__data__,e=mDe(i,t);if(e<0)return!1;var r=i.length-1;return e==r?i.pop():vDe.call(i,e,1),--this.size,!0}cK.exports=yDe});var hK=Lt((vxt,dK)=>{"use strict";var xDe=Aw();function bDe(t){var i=this.__data__,e=xDe(i,t);return e<0?void 0:i[e][1]}dK.exports=bDe});var pK=Lt((yxt,fK)=>{"use strict";var _De=Aw();function wDe(t){return _De(this.__data__,t)>-1}fK.exports=wDe});var gK=Lt((xxt,mK)=>{"use strict";var CDe=Aw();function SDe(t,i){var e=this.__data__,r=CDe(e,t);return r<0?(++this.size,e.push([t,i])):e[r][1]=i,this}mK.exports=SDe});var Mw=Lt((bxt,vK)=>{"use strict";var TDe=aK(),EDe=uK(),ADe=hK(),MDe=pK(),IDe=gK();function J1(t){var i=-1,e=t==null?0:t.length;for(this.clear();++i<e;){var r=t[i];this.set(r[0],r[1])}}J1.prototype.clear=TDe;J1.prototype.delete=EDe;J1.prototype.get=ADe;J1.prototype.has=MDe;J1.prototype.set=IDe;vK.exports=J1});var xK=Lt((_xt,yK)=>{"use strict";var DDe=Mw();function PDe(){this.__data__=new DDe,this.size=0}yK.exports=PDe});var _K=Lt((wxt,bK)=>{"use strict";function RDe(t){var i=this.__data__,e=i.delete(t);return this.size=i.size,e}bK.exports=RDe});var CK=Lt((Cxt,wK)=>{"use strict";function kDe(t){return this.__data__.get(t)}wK.exports=kDe});var TK=Lt((Sxt,SK)=>{"use strict";function FDe(t){return this.__data__.has(t)}SK.exports=FDe});var zL=Lt((Txt,EK)=>{"use strict";var ODe=typeof global=="object"&&global&&global.Object===Object&&global;EK.exports=ODe});var Mh=Lt((Ext,AK)=>{"use strict";var LDe=zL(),NDe=typeof self=="object"&&self&&self.Object===Object&&self,BDe=LDe||NDe||Function("return this")();AK.exports=BDe});var TM=Lt((Axt,MK)=>{"use strict";var VDe=Mh(),zDe=VDe.Symbol;MK.exports=zDe});var RK=Lt((Mxt,PK)=>{"use strict";var IK=TM(),DK=Object.prototype,UDe=DK.hasOwnProperty,HDe=DK.toString,Iw=IK?IK.toStringTag:void 0;function GDe(t){var i=UDe.call(t,Iw),e=t[Iw];try{t[Iw]=void 0;var r=!0}catch{}var n=HDe.call(t);return r&&(i?t[Iw]=e:delete t[Iw]),n}PK.exports=GDe});var FK=Lt((Ixt,kK)=>{"use strict";var jDe=Object.prototype,WDe=jDe.toString;function XDe(t){return WDe.call(t)}kK.exports=XDe});var Dw=Lt((Dxt,NK)=>{"use strict";var OK=TM(),YDe=RK(),$De=FK(),QDe="[object Null]",KDe="[object Undefined]",LK=OK?OK.toStringTag:void 0;function ZDe(t){return t==null?t===void 0?KDe:QDe:LK&&LK in Object(t)?YDe(t):$De(t)}NK.exports=ZDe});var q1=Lt((Pxt,BK)=>{"use strict";function JDe(t){var i=typeof t;return t!=null&&(i=="object"||i=="function")}BK.exports=JDe});var UL=Lt((Rxt,VK)=>{"use strict";var qDe=Dw(),e5e=q1(),t5e="[object AsyncFunction]",i5e="[object Function]",n5e="[object GeneratorFunction]",r5e="[object Proxy]";function s5e(t){if(!e5e(t))return!1;var i=qDe(t);return i==i5e||i==n5e||i==t5e||i==r5e}VK.exports=s5e});var UK=Lt((kxt,zK)=>{"use strict";var a5e=Mh(),o5e=a5e["__core-js_shared__"];zK.exports=o5e});var jK=Lt((Fxt,GK)=>{"use strict";var HL=UK(),HK=function(){var t=/[^.]+$/.exec(HL&&HL.keys&&HL.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function l5e(t){return!!HK&&HK in t}GK.exports=l5e});var GL=Lt((Oxt,WK)=>{"use strict";var c5e=Function.prototype,u5e=c5e.toString;function d5e(t){if(t!=null){try{return u5e.call(t)}catch{}try{return t+""}catch{}}return""}WK.exports=d5e});var YK=Lt((Lxt,XK)=>{"use strict";var h5e=UL(),f5e=jK(),p5e=q1(),m5e=GL(),g5e=/[\\^$.*+?()[\]{}|]/g,v5e=/^\[object .+?Constructor\]$/,y5e=Function.prototype,x5e=Object.prototype,b5e=y5e.toString,_5e=x5e.hasOwnProperty,w5e=RegExp("^"+b5e.call(_5e).replace(g5e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function C5e(t){if(!p5e(t)||f5e(t))return!1;var i=h5e(t)?w5e:v5e;return i.test(m5e(t))}XK.exports=C5e});var QK=Lt((Nxt,$K)=>{"use strict";function S5e(t,i){return t?.[i]}$K.exports=S5e});var p0=Lt((Bxt,KK)=>{"use strict";var T5e=YK(),E5e=QK();function A5e(t,i){var e=E5e(t,i);return T5e(e)?e:void 0}KK.exports=A5e});var EM=Lt((Vxt,ZK)=>{"use strict";var M5e=p0(),I5e=Mh(),D5e=M5e(I5e,"Map");ZK.exports=D5e});var Pw=Lt((zxt,JK)=>{"use strict";var P5e=p0(),R5e=P5e(Object,"create");JK.exports=R5e});var tZ=Lt((Uxt,eZ)=>{"use strict";var qK=Pw();function k5e(){this.__data__=qK?qK(null):{},this.size=0}eZ.exports=k5e});var nZ=Lt((Hxt,iZ)=>{"use strict";function F5e(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i}iZ.exports=F5e});var sZ=Lt((Gxt,rZ)=>{"use strict";var O5e=Pw(),L5e="__lodash_hash_undefined__",N5e=Object.prototype,B5e=N5e.hasOwnProperty;function V5e(t){var i=this.__data__;if(O5e){var e=i[t];return e===L5e?void 0:e}return B5e.call(i,t)?i[t]:void 0}rZ.exports=V5e});var oZ=Lt((jxt,aZ)=>{"use strict";var z5e=Pw(),U5e=Object.prototype,H5e=U5e.hasOwnProperty;function G5e(t){var i=this.__data__;return z5e?i[t]!==void 0:H5e.call(i,t)}aZ.exports=G5e});var cZ=Lt((Wxt,lZ)=>{"use strict";var j5e=Pw(),W5e="__lodash_hash_undefined__";function X5e(t,i){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=j5e&&i===void 0?W5e:i,this}lZ.exports=X5e});var dZ=Lt((Xxt,uZ)=>{"use strict";var Y5e=tZ(),$5e=nZ(),Q5e=sZ(),K5e=oZ(),Z5e=cZ();function ex(t){var i=-1,e=t==null?0:t.length;for(this.clear();++i<e;){var r=t[i];this.set(r[0],r[1])}}ex.prototype.clear=Y5e;ex.prototype.delete=$5e;ex.prototype.get=Q5e;ex.prototype.has=K5e;ex.prototype.set=Z5e;uZ.exports=ex});var pZ=Lt((Yxt,fZ)=>{"use strict";var hZ=dZ(),J5e=Mw(),q5e=EM();function ePe(){this.size=0,this.__data__={hash:new hZ,map:new(q5e||J5e),string:new hZ}}fZ.exports=ePe});var gZ=Lt(($xt,mZ)=>{"use strict";function tPe(t){var i=typeof t;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?t!=="__proto__":t===null}mZ.exports=tPe});var Rw=Lt((Qxt,vZ)=>{"use strict";var iPe=gZ();function nPe(t,i){var e=t.__data__;return iPe(i)?e[typeof i=="string"?"string":"hash"]:e.map}vZ.exports=nPe});var xZ=Lt((Kxt,yZ)=>{"use strict";var rPe=Rw();function sPe(t){var i=rPe(this,t).delete(t);return this.size-=i?1:0,i}yZ.exports=sPe});var _Z=Lt((Zxt,bZ)=>{"use strict";var aPe=Rw();function oPe(t){return aPe(this,t).get(t)}bZ.exports=oPe});var CZ=Lt((Jxt,wZ)=>{"use strict";var lPe=Rw();function cPe(t){return lPe(this,t).has(t)}wZ.exports=cPe});var TZ=Lt((qxt,SZ)=>{"use strict";var uPe=Rw();function dPe(t,i){var e=uPe(this,t),r=e.size;return e.set(t,i),this.size+=e.size==r?0:1,this}SZ.exports=dPe});var AZ=Lt((ebt,EZ)=>{"use strict";var hPe=pZ(),fPe=xZ(),pPe=_Z(),mPe=CZ(),gPe=TZ();function tx(t){var i=-1,e=t==null?0:t.length;for(this.clear();++i<e;){var r=t[i];this.set(r[0],r[1])}}tx.prototype.clear=hPe;tx.prototype.delete=fPe;tx.prototype.get=pPe;tx.prototype.has=mPe;tx.prototype.set=gPe;EZ.exports=tx});var IZ=Lt((tbt,MZ)=>{"use strict";var vPe=Mw(),yPe=EM(),xPe=AZ(),bPe=200;function _Pe(t,i){var e=this.__data__;if(e instanceof vPe){var r=e.__data__;if(!yPe||r.length<bPe-1)return r.push([t,i]),this.size=++e.size,this;e=this.__data__=new xPe(r)}return e.set(t,i),this.size=e.size,this}MZ.exports=_Pe});var PZ=Lt((ibt,DZ)=>{"use strict";var wPe=Mw(),CPe=xK(),SPe=_K(),TPe=CK(),EPe=TK(),APe=IZ();function ix(t){var i=this.__data__=new wPe(t);this.size=i.size}ix.prototype.clear=CPe;ix.prototype.delete=SPe;ix.prototype.get=TPe;ix.prototype.has=EPe;ix.prototype.set=APe;DZ.exports=ix});var kZ=Lt((nbt,RZ)=>{"use strict";function MPe(t,i){for(var e=-1,r=t==null?0:t.length;++e<r&&i(t[e],e,t)!==!1;);return t}RZ.exports=MPe});var OZ=Lt((rbt,FZ)=>{"use strict";var IPe=p0(),DPe=function(){try{var t=IPe(Object,"defineProperty");return t({},"",{}),t}catch{}}();FZ.exports=DPe});var jL=Lt((sbt,NZ)=>{"use strict";var LZ=OZ();function PPe(t,i,e){i=="__proto__"&&LZ?LZ(t,i,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[i]=e}NZ.exports=PPe});var WL=Lt((abt,BZ)=>{"use strict";var RPe=jL(),kPe=VL(),FPe=Object.prototype,OPe=FPe.hasOwnProperty;function LPe(t,i,e){var r=t[i];(!(OPe.call(t,i)&&kPe(r,e))||e===void 0&&!(i in t))&&RPe(t,i,e)}BZ.exports=LPe});var kw=Lt((obt,VZ)=>{"use strict";var NPe=WL(),BPe=jL();function VPe(t,i,e,r){var n=!e;e||(e={});for(var a=-1,s=i.length;++a<s;){var o=i[a],u=r?r(e[o],t[o],o,e,t):void 0;u===void 0&&(u=t[o]),n?BPe(e,o,u):NPe(e,o,u)}return e}VZ.exports=VPe});var UZ=Lt((lbt,zZ)=>{"use strict";function zPe(t,i){for(var e=-1,r=Array(t);++e<t;)r[e]=i(e);return r}zZ.exports=zPe});var nx=Lt((cbt,HZ)=>{"use strict";function UPe(t){return t!=null&&typeof t=="object"}HZ.exports=UPe});var jZ=Lt((ubt,GZ)=>{"use strict";var HPe=Dw(),GPe=nx(),jPe="[object Arguments]";function WPe(t){return GPe(t)&&HPe(t)==jPe}GZ.exports=WPe});var $Z=Lt((dbt,YZ)=>{"use strict";var WZ=jZ(),XPe=nx(),XZ=Object.prototype,YPe=XZ.hasOwnProperty,$Pe=XZ.propertyIsEnumerable,QPe=WZ(function(){return arguments}())?WZ:function(t){return XPe(t)&&YPe.call(t,"callee")&&!$Pe.call(t,"callee")};YZ.exports=QPe});var AM=Lt((hbt,QZ)=>{"use strict";var KPe=Array.isArray;QZ.exports=KPe});var ZZ=Lt((fbt,KZ)=>{"use strict";function ZPe(){return!1}KZ.exports=ZPe});var XL=Lt((Fw,rx)=>{"use strict";var JPe=Mh(),qPe=ZZ(),eJ=typeof Fw=="object"&&Fw&&!Fw.nodeType&&Fw,JZ=eJ&&typeof rx=="object"&&rx&&!rx.nodeType&&rx,eRe=JZ&&JZ.exports===eJ,qZ=eRe?JPe.Buffer:void 0,tRe=qZ?qZ.isBuffer:void 0,iRe=tRe||qPe;rx.exports=iRe});var iJ=Lt((pbt,tJ)=>{"use strict";var nRe=9007199254740991,rRe=/^(?:0|[1-9]\d*)$/;function sRe(t,i){var e=typeof t;return i=i??nRe,!!i&&(e=="number"||e!="symbol"&&rRe.test(t))&&t>-1&&t%1==0&&t<i}tJ.exports=sRe});var YL=Lt((mbt,nJ)=>{"use strict";var aRe=9007199254740991;function oRe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=aRe}nJ.exports=oRe});var sJ=Lt((gbt,rJ)=>{"use strict";var lRe=Dw(),cRe=YL(),uRe=nx(),dRe="[object Arguments]",hRe="[object Array]",fRe="[object Boolean]",pRe="[object Date]",mRe="[object Error]",gRe="[object Function]",vRe="[object Map]",yRe="[object Number]",xRe="[object Object]",bRe="[object RegExp]",_Re="[object Set]",wRe="[object String]",CRe="[object WeakMap]",SRe="[object ArrayBuffer]",TRe="[object DataView]",ERe="[object Float32Array]",ARe="[object Float64Array]",MRe="[object Int8Array]",IRe="[object Int16Array]",DRe="[object Int32Array]",PRe="[object Uint8Array]",RRe="[object Uint8ClampedArray]",kRe="[object Uint16Array]",FRe="[object Uint32Array]",$s={};$s[ERe]=$s[ARe]=$s[MRe]=$s[IRe]=$s[DRe]=$s[PRe]=$s[RRe]=$s[kRe]=$s[FRe]=!0;$s[dRe]=$s[hRe]=$s[SRe]=$s[fRe]=$s[TRe]=$s[pRe]=$s[mRe]=$s[gRe]=$s[vRe]=$s[yRe]=$s[xRe]=$s[bRe]=$s[_Re]=$s[wRe]=$s[CRe]=!1;function ORe(t){return uRe(t)&&cRe(t.length)&&!!$s[lRe(t)]}rJ.exports=ORe});var MM=Lt((vbt,aJ)=>{"use strict";function LRe(t){return function(i){return t(i)}}aJ.exports=LRe});var IM=Lt((Ow,sx)=>{"use strict";var NRe=zL(),oJ=typeof Ow=="object"&&Ow&&!Ow.nodeType&&Ow,Lw=oJ&&typeof sx=="object"&&sx&&!sx.nodeType&&sx,BRe=Lw&&Lw.exports===oJ,$L=BRe&&NRe.process,VRe=function(){try{var t=Lw&&Lw.require&&Lw.require("util").types;return t||$L&&$L.binding&&$L.binding("util")}catch{}}();sx.exports=VRe});var dJ=Lt((ybt,uJ)=>{"use strict";var zRe=sJ(),URe=MM(),lJ=IM(),cJ=lJ&&lJ.isTypedArray,HRe=cJ?URe(cJ):zRe;uJ.exports=HRe});var QL=Lt((xbt,hJ)=>{"use strict";var GRe=UZ(),jRe=$Z(),WRe=AM(),XRe=XL(),YRe=iJ(),$Re=dJ(),QRe=Object.prototype,KRe=QRe.hasOwnProperty;function ZRe(t,i){var e=WRe(t),r=!e&&jRe(t),n=!e&&!r&&XRe(t),a=!e&&!r&&!n&&$Re(t),s=e||r||n||a,o=s?GRe(t.length,String):[],u=o.length;for(var l in t)(i||KRe.call(t,l))&&!(s&&(l=="length"||n&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||YRe(l,u)))&&o.push(l);return o}hJ.exports=ZRe});var DM=Lt((bbt,fJ)=>{"use strict";var JRe=Object.prototype;function qRe(t){var i=t&&t.constructor,e=typeof i=="function"&&i.prototype||JRe;return t===e}fJ.exports=qRe});var KL=Lt((_bt,pJ)=>{"use strict";function eke(t,i){return function(e){return t(i(e))}}pJ.exports=eke});var gJ=Lt((wbt,mJ)=>{"use strict";var tke=KL(),ike=tke(Object.keys,Object);mJ.exports=ike});var yJ=Lt((Cbt,vJ)=>{"use strict";var nke=DM(),rke=gJ(),ske=Object.prototype,ake=ske.hasOwnProperty;function oke(t){if(!nke(t))return rke(t);var i=[];for(var e in Object(t))ake.call(t,e)&&e!="constructor"&&i.push(e);return i}vJ.exports=oke});var ZL=Lt((Sbt,xJ)=>{"use strict";var lke=UL(),cke=YL();function uke(t){return t!=null&&cke(t.length)&&!lke(t)}xJ.exports=uke});var PM=Lt((Tbt,bJ)=>{"use strict";var dke=QL(),hke=yJ(),fke=ZL();function pke(t){return fke(t)?dke(t):hke(t)}bJ.exports=pke});var wJ=Lt((Ebt,_J)=>{"use strict";var mke=kw(),gke=PM();function vke(t,i){return t&&mke(i,gke(i),t)}_J.exports=vke});var SJ=Lt((Abt,CJ)=>{"use strict";function yke(t){var i=[];if(t!=null)for(var e in Object(t))i.push(e);return i}CJ.exports=yke});var EJ=Lt((Mbt,TJ)=>{"use strict";var xke=q1(),bke=DM(),_ke=SJ(),wke=Object.prototype,Cke=wke.hasOwnProperty;function Ske(t){if(!xke(t))return _ke(t);var i=bke(t),e=[];for(var r in t)r=="constructor"&&(i||!Cke.call(t,r))||e.push(r);return e}TJ.exports=Ske});var RM=Lt((Ibt,AJ)=>{"use strict";var Tke=QL(),Eke=EJ(),Ake=ZL();function Mke(t){return Ake(t)?Tke(t,!0):Eke(t)}AJ.exports=Mke});var IJ=Lt((Dbt,MJ)=>{"use strict";var Ike=kw(),Dke=RM();function Pke(t,i){return t&&Ike(i,Dke(i),t)}MJ.exports=Pke});var FJ=Lt((Nw,ax)=>{"use strict";var Rke=Mh(),kJ=typeof Nw=="object"&&Nw&&!Nw.nodeType&&Nw,DJ=kJ&&typeof ax=="object"&&ax&&!ax.nodeType&&ax,kke=DJ&&DJ.exports===kJ,PJ=kke?Rke.Buffer:void 0,RJ=PJ?PJ.allocUnsafe:void 0;function Fke(t,i){if(i)return t.slice();var e=t.length,r=RJ?RJ(e):new t.constructor(e);return t.copy(r),r}ax.exports=Fke});var LJ=Lt((Pbt,OJ)=>{"use strict";function Oke(t,i){var e=-1,r=t.length;for(i||(i=Array(r));++e<r;)i[e]=t[e];return i}OJ.exports=Oke});var BJ=Lt((Rbt,NJ)=>{"use strict";function Lke(t,i){for(var e=-1,r=t==null?0:t.length,n=0,a=[];++e<r;){var s=t[e];i(s,e,t)&&(a[n++]=s)}return a}NJ.exports=Lke});var JL=Lt((kbt,VJ)=>{"use strict";function Nke(){return[]}VJ.exports=Nke});var kM=Lt((Fbt,UJ)=>{"use strict";var Bke=BJ(),Vke=JL(),zke=Object.prototype,Uke=zke.propertyIsEnumerable,zJ=Object.getOwnPropertySymbols,Hke=zJ?function(t){return t==null?[]:(t=Object(t),Bke(zJ(t),function(i){return Uke.call(t,i)}))}:Vke;UJ.exports=Hke});var GJ=Lt((Obt,HJ)=>{"use strict";var Gke=kw(),jke=kM();function Wke(t,i){return Gke(t,jke(t),i)}HJ.exports=Wke});var qL=Lt((Lbt,jJ)=>{"use strict";function Xke(t,i){for(var e=-1,r=i.length,n=t.length;++e<r;)t[n+e]=i[e];return t}jJ.exports=Xke});var eN=Lt((Nbt,WJ)=>{"use strict";var Yke=KL(),$ke=Yke(Object.getPrototypeOf,Object);WJ.exports=$ke});var tN=Lt((Bbt,XJ)=>{"use strict";var Qke=qL(),Kke=eN(),Zke=kM(),Jke=JL(),qke=Object.getOwnPropertySymbols,e3e=qke?function(t){for(var i=[];t;)Qke(i,Zke(t)),t=Kke(t);return i}:Jke;XJ.exports=e3e});var $J=Lt((Vbt,YJ)=>{"use strict";var t3e=kw(),i3e=tN();function n3e(t,i){return t3e(t,i3e(t),i)}YJ.exports=n3e});var iN=Lt((zbt,QJ)=>{"use strict";var r3e=qL(),s3e=AM();function a3e(t,i,e){var r=i(t);return s3e(t)?r:r3e(r,e(t))}QJ.exports=a3e});var ZJ=Lt((Ubt,KJ)=>{"use strict";var o3e=iN(),l3e=kM(),c3e=PM();function u3e(t){return o3e(t,c3e,l3e)}KJ.exports=u3e});var qJ=Lt((Hbt,JJ)=>{"use strict";var d3e=iN(),h3e=tN(),f3e=RM();function p3e(t){return d3e(t,f3e,h3e)}JJ.exports=p3e});var tq=Lt((Gbt,eq)=>{"use strict";var m3e=p0(),g3e=Mh(),v3e=m3e(g3e,"DataView");eq.exports=v3e});var nq=Lt((jbt,iq)=>{"use strict";var y3e=p0(),x3e=Mh(),b3e=y3e(x3e,"Promise");iq.exports=b3e});var sq=Lt((Wbt,rq)=>{"use strict";var _3e=p0(),w3e=Mh(),C3e=_3e(w3e,"Set");rq.exports=C3e});var oq=Lt((Xbt,aq)=>{"use strict";var S3e=p0(),T3e=Mh(),E3e=S3e(T3e,"WeakMap");aq.exports=E3e});var FM=Lt((Ybt,pq)=>{"use strict";var nN=tq(),rN=EM(),sN=nq(),aN=sq(),oN=oq(),fq=Dw(),ox=GL(),lq="[object Map]",A3e="[object Object]",cq="[object Promise]",uq="[object Set]",dq="[object WeakMap]",hq="[object DataView]",M3e=ox(nN),I3e=ox(rN),D3e=ox(sN),P3e=ox(aN),R3e=ox(oN),qg=fq;(nN&&qg(new nN(new ArrayBuffer(1)))!=hq||rN&&qg(new rN)!=lq||sN&&qg(sN.resolve())!=cq||aN&&qg(new aN)!=uq||oN&&qg(new oN)!=dq)&&(qg=function(t){var i=fq(t),e=i==A3e?t.constructor:void 0,r=e?ox(e):"";if(r)switch(r){case M3e:return hq;case I3e:return lq;case D3e:return cq;case P3e:return uq;case R3e:return dq}return i});pq.exports=qg});var gq=Lt(($bt,mq)=>{"use strict";var k3e=Object.prototype,F3e=k3e.hasOwnProperty;function O3e(t){var i=t.length,e=new t.constructor(i);return i&&typeof t[0]=="string"&&F3e.call(t,"index")&&(e.index=t.index,e.input=t.input),e}mq.exports=O3e});var yq=Lt((Qbt,vq)=>{"use strict";var L3e=Mh(),N3e=L3e.Uint8Array;vq.exports=N3e});var OM=Lt((Kbt,bq)=>{"use strict";var xq=yq();function B3e(t){var i=new t.constructor(t.byteLength);return new xq(i).set(new xq(t)),i}bq.exports=B3e});var wq=Lt((Zbt,_q)=>{"use strict";var V3e=OM();function z3e(t,i){var e=i?V3e(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}_q.exports=z3e});var Sq=Lt((Jbt,Cq)=>{"use strict";var U3e=/\w*$/;function H3e(t){var i=new t.constructor(t.source,U3e.exec(t));return i.lastIndex=t.lastIndex,i}Cq.exports=H3e});var Iq=Lt((qbt,Mq)=>{"use strict";var Tq=TM(),Eq=Tq?Tq.prototype:void 0,Aq=Eq?Eq.valueOf:void 0;function G3e(t){return Aq?Object(Aq.call(t)):{}}Mq.exports=G3e});var Pq=Lt((e_t,Dq)=>{"use strict";var j3e=OM();function W3e(t,i){var e=i?j3e(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}Dq.exports=W3e});var kq=Lt((t_t,Rq)=>{"use strict";var X3e=OM(),Y3e=wq(),$3e=Sq(),Q3e=Iq(),K3e=Pq(),Z3e="[object Boolean]",J3e="[object Date]",q3e="[object Map]",e4e="[object Number]",t4e="[object RegExp]",i4e="[object Set]",n4e="[object String]",r4e="[object Symbol]",s4e="[object ArrayBuffer]",a4e="[object DataView]",o4e="[object Float32Array]",l4e="[object Float64Array]",c4e="[object Int8Array]",u4e="[object Int16Array]",d4e="[object Int32Array]",h4e="[object Uint8Array]",f4e="[object Uint8ClampedArray]",p4e="[object Uint16Array]",m4e="[object Uint32Array]";function g4e(t,i,e){var r=t.constructor;switch(i){case s4e:return X3e(t);case Z3e:case J3e:return new r(+t);case a4e:return Y3e(t,e);case o4e:case l4e:case c4e:case u4e:case d4e:case h4e:case f4e:case p4e:case m4e:return K3e(t,e);case q3e:return new r;case e4e:case n4e:return new r(t);case t4e:return $3e(t);case i4e:return new r;case r4e:return Q3e(t)}}Rq.exports=g4e});var Lq=Lt((i_t,Oq)=>{"use strict";var v4e=q1(),Fq=Object.create,y4e=function(){function t(){}return function(i){if(!v4e(i))return{};if(Fq)return Fq(i);t.prototype=i;var e=new t;return t.prototype=void 0,e}}();Oq.exports=y4e});var Bq=Lt((n_t,Nq)=>{"use strict";var x4e=Lq(),b4e=eN(),_4e=DM();function w4e(t){return typeof t.constructor=="function"&&!_4e(t)?x4e(b4e(t)):{}}Nq.exports=w4e});var zq=Lt((r_t,Vq)=>{"use strict";var C4e=FM(),S4e=nx(),T4e="[object Map]";function E4e(t){return S4e(t)&&C4e(t)==T4e}Vq.exports=E4e});var jq=Lt((s_t,Gq)=>{"use strict";var A4e=zq(),M4e=MM(),Uq=IM(),Hq=Uq&&Uq.isMap,I4e=Hq?M4e(Hq):A4e;Gq.exports=I4e});var Xq=Lt((a_t,Wq)=>{"use strict";var D4e=FM(),P4e=nx(),R4e="[object Set]";function k4e(t){return P4e(t)&&D4e(t)==R4e}Wq.exports=k4e});var Kq=Lt((o_t,Qq)=>{"use strict";var F4e=Xq(),O4e=MM(),Yq=IM(),$q=Yq&&Yq.isSet,L4e=$q?O4e($q):F4e;Qq.exports=L4e});var tee=Lt((l_t,eee)=>{"use strict";var N4e=PZ(),B4e=kZ(),V4e=WL(),z4e=wJ(),U4e=IJ(),H4e=FJ(),G4e=LJ(),j4e=GJ(),W4e=$J(),X4e=ZJ(),Y4e=qJ(),$4e=FM(),Q4e=gq(),K4e=kq(),Z4e=Bq(),J4e=AM(),q4e=XL(),eFe=jq(),tFe=q1(),iFe=Kq(),nFe=PM(),rFe=RM(),sFe=1,aFe=2,oFe=4,Zq="[object Arguments]",lFe="[object Array]",cFe="[object Boolean]",uFe="[object Date]",dFe="[object Error]",Jq="[object Function]",hFe="[object GeneratorFunction]",fFe="[object Map]",pFe="[object Number]",qq="[object Object]",mFe="[object RegExp]",gFe="[object Set]",vFe="[object String]",yFe="[object Symbol]",xFe="[object WeakMap]",bFe="[object ArrayBuffer]",_Fe="[object DataView]",wFe="[object Float32Array]",CFe="[object Float64Array]",SFe="[object Int8Array]",TFe="[object Int16Array]",EFe="[object Int32Array]",AFe="[object Uint8Array]",MFe="[object Uint8ClampedArray]",IFe="[object Uint16Array]",DFe="[object Uint32Array]",Us={};Us[Zq]=Us[lFe]=Us[bFe]=Us[_Fe]=Us[cFe]=Us[uFe]=Us[wFe]=Us[CFe]=Us[SFe]=Us[TFe]=Us[EFe]=Us[fFe]=Us[pFe]=Us[qq]=Us[mFe]=Us[gFe]=Us[vFe]=Us[yFe]=Us[AFe]=Us[MFe]=Us[IFe]=Us[DFe]=!0;Us[dFe]=Us[Jq]=Us[xFe]=!1;function LM(t,i,e,r,n,a){var s,o=i&sFe,u=i&aFe,l=i&oFe;if(e&&(s=n?e(t,r,n,a):e(t)),s!==void 0)return s;if(!tFe(t))return t;var c=J4e(t);if(c){if(s=Q4e(t),!o)return G4e(t,s)}else{var h=$4e(t),d=h==Jq||h==hFe;if(q4e(t))return H4e(t,o);if(h==qq||h==Zq||d&&!n){if(s=u||d?{}:Z4e(t),!o)return u?W4e(t,U4e(s,t)):j4e(t,z4e(s,t))}else{if(!Us[h])return n?t:{};s=K4e(t,h,o)}}a||(a=new N4e);var f=a.get(t);if(f)return f;a.set(t,s),iFe(t)?t.forEach(function(g){s.add(LM(g,i,e,g,t,a))}):eFe(t)&&t.forEach(function(g,v){s.set(v,LM(g,i,e,v,t,a))});var m=l?u?Y4e:X4e:u?rFe:nFe,p=c?void 0:m(t);return B4e(p||t,function(g,v){p&&(v=g,g=t[v]),V4e(s,v,LM(g,i,e,v,t,a))}),s}eee.exports=LM});var nee=Lt((c_t,iee)=>{"use strict";var PFe=tee(),RFe=1,kFe=4;function FFe(t){return PFe(t,RFe|kFe)}iee.exports=FFe});var DN=Lt((ZM,Xee)=>{"use strict";(function(t,i){typeof ZM=="object"&&typeof Xee<"u"?i(ZM):typeof define=="function"&&define.amd?define(["exports"],i):(t=typeof globalThis<"u"?globalThis:t||self,i(t.leaflet={}))})(ZM,function(t){"use strict";var i="1.9.4";function e(E){var P,W,ne,he;for(W=1,ne=arguments.length;W<ne;W++){he=arguments[W];for(P in he)E[P]=he[P]}return E}var r=Object.create||function(){function E(){}return function(P){return E.prototype=P,new E}}();function n(E,P){var W=Array.prototype.slice;if(E.bind)return E.bind.apply(E,W.call(arguments,1));var ne=W.call(arguments,2);return function(){return E.apply(P,ne.length?ne.concat(W.call(arguments)):arguments)}}var a=0;function s(E){return"_leaflet_id"in E||(E._leaflet_id=++a),E._leaflet_id}function o(E,P,W){var ne,he,Se,Ge;return Ge=function(){ne=!1,he&&(Se.apply(W,he),he=!1)},Se=function(){ne?he=arguments:(E.apply(W,arguments),setTimeout(Ge,P),ne=!0)},Se}function u(E,P,W){var ne=P[1],he=P[0],Se=ne-he;return E===ne&&W?E:((E-he)%Se+Se)%Se+he}function l(){return!1}function c(E,P){if(P===!1)return E;var W=Math.pow(10,P===void 0?6:P);return Math.round(E*W)/W}function h(E){return E.trim?E.trim():E.replace(/^\s+|\s+$/g,"")}function d(E){return h(E).split(/\s+/)}function f(E,P){Object.prototype.hasOwnProperty.call(E,"options")||(E.options=E.options?r(E.options):{});for(var W in P)E.options[W]=P[W];return E.options}function m(E,P,W){var ne=[];for(var he in E)ne.push(encodeURIComponent(W?he.toUpperCase():he)+"="+encodeURIComponent(E[he]));return(!P||P.indexOf("?")===-1?"?":"&")+ne.join("&")}var p=/\{ *([\w_ -]+) *\}/g;function g(E,P){return E.replace(p,function(W,ne){var he=P[ne];if(he===void 0)throw new Error("No value provided for variable "+W);return typeof he=="function"&&(he=he(P)),he})}var v=Array.isArray||function(E){return Object.prototype.toString.call(E)==="[object Array]"};function y(E,P){for(var W=0;W<E.length;W++)if(E[W]===P)return W;return-1}var x="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(E){return window["webkit"+E]||window["moz"+E]||window["ms"+E]}var w=0;function C(E){var P=+new Date,W=Math.max(0,16-(P-w));return w=P+W,window.setTimeout(E,W)}var _=window.requestAnimationFrame||b("RequestAnimationFrame")||C,S=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(E){window.clearTimeout(E)};function T(E,P,W){if(W&&_===C)E.call(P);else return _.call(window,n(E,P))}function A(E){E&&S.call(window,E)}var M={__proto__:null,extend:e,create:r,bind:n,get lastId(){return a},stamp:s,throttle:o,wrapNum:u,falseFn:l,formatNum:c,trim:h,splitWords:d,setOptions:f,getParamString:m,template:g,isArray:v,indexOf:y,emptyImageUrl:x,requestFn:_,cancelFn:S,requestAnimFrame:T,cancelAnimFrame:A};function I(){}I.extend=function(E){var P=function(){f(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},W=P.__super__=this.prototype,ne=r(W);ne.constructor=P,P.prototype=ne;for(var he in this)Object.prototype.hasOwnProperty.call(this,he)&&he!=="prototype"&&he!=="__super__"&&(P[he]=this[he]);return E.statics&&e(P,E.statics),E.includes&&(D(E.includes),e.apply(null,[ne].concat(E.includes))),e(ne,E),delete ne.statics,delete ne.includes,ne.options&&(ne.options=W.options?r(W.options):{},e(ne.options,E.options)),ne._initHooks=[],ne.callInitHooks=function(){if(!this._initHooksCalled){W.callInitHooks&&W.callInitHooks.call(this),this._initHooksCalled=!0;for(var Se=0,Ge=ne._initHooks.length;Se<Ge;Se++)ne._initHooks[Se].call(this)}},P},I.include=function(E){var P=this.prototype.options;return e(this.prototype,E),E.options&&(this.prototype.options=P,this.mergeOptions(E.options)),this},I.mergeOptions=function(E){return e(this.prototype.options,E),this},I.addInitHook=function(E){var P=Array.prototype.slice.call(arguments,1),W=typeof E=="function"?E:function(){this[E].apply(this,P)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(W),this};function D(E){if(!(typeof L>"u"||!L||!L.Mixin)){E=v(E)?E:[E];for(var P=0;P<E.length;P++)E[P]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var k={on:function(E,P,W){if(typeof E=="object")for(var ne in E)this._on(ne,E[ne],P);else{E=d(E);for(var he=0,Se=E.length;he<Se;he++)this._on(E[he],P,W)}return this},off:function(E,P,W){if(!arguments.length)delete this._events;else if(typeof E=="object")for(var ne in E)this._off(ne,E[ne],P);else{E=d(E);for(var he=arguments.length===1,Se=0,Ge=E.length;Se<Ge;Se++)he?this._off(E[Se]):this._off(E[Se],P,W)}return this},_on:function(E,P,W,ne){if(typeof P!="function"){console.warn("wrong listener type: "+typeof P);return}if(this._listens(E,P,W)===!1){W===this&&(W=void 0);var he={fn:P,ctx:W};ne&&(he.once=!0),this._events=this._events||{},this._events[E]=this._events[E]||[],this._events[E].push(he)}},_off:function(E,P,W){var ne,he,Se;if(this._events&&(ne=this._events[E],!!ne)){if(arguments.length===1){if(this._firingCount)for(he=0,Se=ne.length;he<Se;he++)ne[he].fn=l;delete this._events[E];return}if(typeof P!="function"){console.warn("wrong listener type: "+typeof P);return}var Ge=this._listens(E,P,W);if(Ge!==!1){var ut=ne[Ge];this._firingCount&&(ut.fn=l,this._events[E]=ne=ne.slice()),ne.splice(Ge,1)}}},fire:function(E,P,W){if(!this.listens(E,W))return this;var ne=e({},P,{type:E,target:this,sourceTarget:P&&P.sourceTarget||this});if(this._events){var he=this._events[E];if(he){this._firingCount=this._firingCount+1||1;for(var Se=0,Ge=he.length;Se<Ge;Se++){var ut=he[Se],At=ut.fn;ut.once&&this.off(E,At,ut.ctx),At.call(ut.ctx||this,ne)}this._firingCount--}}return W&&this._propagateEvent(ne),this},listens:function(E,P,W,ne){typeof E!="string"&&console.warn('"string" type argument expected');var he=P;typeof P!="function"&&(ne=!!P,he=void 0,W=void 0);var Se=this._events&&this._events[E];if(Se&&Se.length&&this._listens(E,he,W)!==!1)return!0;if(ne){for(var Ge in this._eventParents)if(this._eventParents[Ge].listens(E,P,W,ne))return!0}return!1},_listens:function(E,P,W){if(!this._events)return!1;var ne=this._events[E]||[];if(!P)return!!ne.length;W===this&&(W=void 0);for(var he=0,Se=ne.length;he<Se;he++)if(ne[he].fn===P&&ne[he].ctx===W)return he;return!1},once:function(E,P,W){if(typeof E=="object")for(var ne in E)this._on(ne,E[ne],P,!0);else{E=d(E);for(var he=0,Se=E.length;he<Se;he++)this._on(E[he],P,W,!0)}return this},addEventParent:function(E){return this._eventParents=this._eventParents||{},this._eventParents[s(E)]=E,this},removeEventParent:function(E){return this._eventParents&&delete this._eventParents[s(E)],this},_propagateEvent:function(E){for(var P in this._eventParents)this._eventParents[P].fire(E.type,e({layer:E.target,propagatedFrom:E.target},E),!0)}};k.addEventListener=k.on,k.removeEventListener=k.clearAllEventListeners=k.off,k.addOneTimeEventListener=k.once,k.fireEvent=k.fire,k.hasEventListeners=k.listens;var G=I.extend(k);function R(E,P,W){this.x=W?Math.round(E):E,this.y=W?Math.round(P):P}var H=Math.trunc||function(E){return E>0?Math.floor(E):Math.ceil(E)};R.prototype={clone:function(){return new R(this.x,this.y)},add:function(E){return this.clone()._add(j(E))},_add:function(E){return this.x+=E.x,this.y+=E.y,this},subtract:function(E){return this.clone()._subtract(j(E))},_subtract:function(E){return this.x-=E.x,this.y-=E.y,this},divideBy:function(E){return this.clone()._divideBy(E)},_divideBy:function(E){return this.x/=E,this.y/=E,this},multiplyBy:function(E){return this.clone()._multiplyBy(E)},_multiplyBy:function(E){return this.x*=E,this.y*=E,this},scaleBy:function(E){return new R(this.x*E.x,this.y*E.y)},unscaleBy:function(E){return new R(this.x/E.x,this.y/E.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=H(this.x),this.y=H(this.y),this},distanceTo:function(E){E=j(E);var P=E.x-this.x,W=E.y-this.y;return Math.sqrt(P*P+W*W)},equals:function(E){return E=j(E),E.x===this.x&&E.y===this.y},contains:function(E){return E=j(E),Math.abs(E.x)<=Math.abs(this.x)&&Math.abs(E.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}};function j(E,P,W){return E instanceof R?E:v(E)?new R(E[0],E[1]):E==null?E:typeof E=="object"&&"x"in E&&"y"in E?new R(E.x,E.y):new R(E,P,W)}function Z(E,P){if(E)for(var W=P?[E,P]:E,ne=0,he=W.length;ne<he;ne++)this.extend(W[ne])}Z.prototype={extend:function(E){var P,W;if(!E)return this;if(E instanceof R||typeof E[0]=="number"||"x"in E)P=W=j(E);else if(E=ee(E),P=E.min,W=E.max,!P||!W)return this;return!this.min&&!this.max?(this.min=P.clone(),this.max=W.clone()):(this.min.x=Math.min(P.x,this.min.x),this.max.x=Math.max(W.x,this.max.x),this.min.y=Math.min(P.y,this.min.y),this.max.y=Math.max(W.y,this.max.y)),this},getCenter:function(E){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,E)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(E){var P,W;return typeof E[0]=="number"||E instanceof R?E=j(E):E=ee(E),E instanceof Z?(P=E.min,W=E.max):P=W=E,P.x>=this.min.x&&W.x<=this.max.x&&P.y>=this.min.y&&W.y<=this.max.y},intersects:function(E){E=ee(E);var P=this.min,W=this.max,ne=E.min,he=E.max,Se=he.x>=P.x&&ne.x<=W.x,Ge=he.y>=P.y&&ne.y<=W.y;return Se&&Ge},overlaps:function(E){E=ee(E);var P=this.min,W=this.max,ne=E.min,he=E.max,Se=he.x>P.x&&ne.x<W.x,Ge=he.y>P.y&&ne.y<W.y;return Se&&Ge},isValid:function(){return!!(this.min&&this.max)},pad:function(E){var P=this.min,W=this.max,ne=Math.abs(P.x-W.x)*E,he=Math.abs(P.y-W.y)*E;return ee(j(P.x-ne,P.y-he),j(W.x+ne,W.y+he))},equals:function(E){return E?(E=ee(E),this.min.equals(E.getTopLeft())&&this.max.equals(E.getBottomRight())):!1}};function ee(E,P){return!E||E instanceof Z?E:new Z(E,P)}function Y(E,P){if(E)for(var W=P?[E,P]:E,ne=0,he=W.length;ne<he;ne++)this.extend(W[ne])}Y.prototype={extend:function(E){var P=this._southWest,W=this._northEast,ne,he;if(E instanceof O)ne=E,he=E;else if(E instanceof Y){if(ne=E._southWest,he=E._northEast,!ne||!he)return this}else return E?this.extend(F(E)||V(E)):this;return!P&&!W?(this._southWest=new O(ne.lat,ne.lng),this._northEast=new O(he.lat,he.lng)):(P.lat=Math.min(ne.lat,P.lat),P.lng=Math.min(ne.lng,P.lng),W.lat=Math.max(he.lat,W.lat),W.lng=Math.max(he.lng,W.lng)),this},pad:function(E){var P=this._southWest,W=this._northEast,ne=Math.abs(P.lat-W.lat)*E,he=Math.abs(P.lng-W.lng)*E;return new Y(new O(P.lat-ne,P.lng-he),new O(W.lat+ne,W.lng+he))},getCenter:function(){return new O((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new O(this.getNorth(),this.getWest())},getSouthEast:function(){return new O(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(E){typeof E[0]=="number"||E instanceof O||"lat"in E?E=F(E):E=V(E);var P=this._southWest,W=this._northEast,ne,he;return E instanceof Y?(ne=E.getSouthWest(),he=E.getNorthEast()):ne=he=E,ne.lat>=P.lat&&he.lat<=W.lat&&ne.lng>=P.lng&&he.lng<=W.lng},intersects:function(E){E=V(E);var P=this._southWest,W=this._northEast,ne=E.getSouthWest(),he=E.getNorthEast(),Se=he.lat>=P.lat&&ne.lat<=W.lat,Ge=he.lng>=P.lng&&ne.lng<=W.lng;return Se&&Ge},overlaps:function(E){E=V(E);var P=this._southWest,W=this._northEast,ne=E.getSouthWest(),he=E.getNorthEast(),Se=he.lat>P.lat&&ne.lat<W.lat,Ge=he.lng>P.lng&&ne.lng<W.lng;return Se&&Ge},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(E,P){return E?(E=V(E),this._southWest.equals(E.getSouthWest(),P)&&this._northEast.equals(E.getNorthEast(),P)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function V(E,P){return E instanceof Y?E:new Y(E,P)}function O(E,P,W){if(isNaN(E)||isNaN(P))throw new Error("Invalid LatLng object: ("+E+", "+P+")");this.lat=+E,this.lng=+P,W!==void 0&&(this.alt=+W)}O.prototype={equals:function(E,P){if(!E)return!1;E=F(E);var W=Math.max(Math.abs(this.lat-E.lat),Math.abs(this.lng-E.lng));return W<=(P===void 0?1e-9:P)},toString:function(E){return"LatLng("+c(this.lat,E)+", "+c(this.lng,E)+")"},distanceTo:function(E){return ie.distance(this,F(E))},wrap:function(){return ie.wrapLatLng(this)},toBounds:function(E){var P=180*E/40075017,W=P/Math.cos(Math.PI/180*this.lat);return V([this.lat-P,this.lng-W],[this.lat+P,this.lng+W])},clone:function(){return new O(this.lat,this.lng,this.alt)}};function F(E,P,W){return E instanceof O?E:v(E)&&typeof E[0]!="object"?E.length===3?new O(E[0],E[1],E[2]):E.length===2?new O(E[0],E[1]):null:E==null?E:typeof E=="object"&&"lat"in E?new O(E.lat,"lng"in E?E.lng:E.lon,E.alt):P===void 0?null:new O(E,P,W)}var X={latLngToPoint:function(E,P){var W=this.projection.project(E),ne=this.scale(P);return this.transformation._transform(W,ne)},pointToLatLng:function(E,P){var W=this.scale(P),ne=this.transformation.untransform(E,W);return this.projection.unproject(ne)},project:function(E){return this.projection.project(E)},unproject:function(E){return this.projection.unproject(E)},scale:function(E){return 256*Math.pow(2,E)},zoom:function(E){return Math.log(E/256)/Math.LN2},getProjectedBounds:function(E){if(this.infinite)return null;var P=this.projection.bounds,W=this.scale(E),ne=this.transformation.transform(P.min,W),he=this.transformation.transform(P.max,W);return new Z(ne,he)},infinite:!1,wrapLatLng:function(E){var P=this.wrapLng?u(E.lng,this.wrapLng,!0):E.lng,W=this.wrapLat?u(E.lat,this.wrapLat,!0):E.lat,ne=E.alt;return new O(W,P,ne)},wrapLatLngBounds:function(E){var P=E.getCenter(),W=this.wrapLatLng(P),ne=P.lat-W.lat,he=P.lng-W.lng;if(ne===0&&he===0)return E;var Se=E.getSouthWest(),Ge=E.getNorthEast(),ut=new O(Se.lat-ne,Se.lng-he),At=new O(Ge.lat-ne,Ge.lng-he);return new Y(ut,At)}},ie=e({},X,{wrapLng:[-180,180],R:6371e3,distance:function(E,P){var W=Math.PI/180,ne=E.lat*W,he=P.lat*W,Se=Math.sin((P.lat-E.lat)*W/2),Ge=Math.sin((P.lng-E.lng)*W/2),ut=Se*Se+Math.cos(ne)*Math.cos(he)*Ge*Ge,At=2*Math.atan2(Math.sqrt(ut),Math.sqrt(1-ut));return this.R*At}}),re=6378137,q={R:re,MAX_LATITUDE:85.0511287798,project:function(E){var P=Math.PI/180,W=this.MAX_LATITUDE,ne=Math.max(Math.min(W,E.lat),-W),he=Math.sin(ne*P);return new R(this.R*E.lng*P,this.R*Math.log((1+he)/(1-he))/2)},unproject:function(E){var P=180/Math.PI;return new O((2*Math.atan(Math.exp(E.y/this.R))-Math.PI/2)*P,E.x*P/this.R)},bounds:function(){var E=re*Math.PI;return new Z([-E,-E],[E,E])}()};function ae(E,P,W,ne){if(v(E)){this._a=E[0],this._b=E[1],this._c=E[2],this._d=E[3];return}this._a=E,this._b=P,this._c=W,this._d=ne}ae.prototype={transform:function(E,P){return this._transform(E.clone(),P)},_transform:function(E,P){return P=P||1,E.x=P*(this._a*E.x+this._b),E.y=P*(this._c*E.y+this._d),E},untransform:function(E,P){return P=P||1,new R((E.x/P-this._b)/this._a,(E.y/P-this._d)/this._c)}};function ue(E,P,W,ne){return new ae(E,P,W,ne)}var me=e({},ie,{code:"EPSG:3857",projection:q,transformation:function(){var E=.5/(Math.PI*q.R);return ue(E,.5,-E,.5)}()}),be=e({},me,{code:"EPSG:900913"});function ke(E){return document.createElementNS("http://www.w3.org/2000/svg",E)}function ze(E,P){var W="",ne,he,Se,Ge,ut,At;for(ne=0,Se=E.length;ne<Se;ne++){for(ut=E[ne],he=0,Ge=ut.length;he<Ge;he++)At=ut[he],W+=(he?"L":"M")+At.x+" "+At.y;W+=P?mi.svg?"z":"x":""}return W||"M0 0"}var De=document.documentElement.style,ge="ActiveXObject"in window,Et=ge&&!document.addEventListener,ct="msLaunchUri"in navigator&&!("documentMode"in document),We=ms("webkit"),Ue=ms("android"),qe=ms("android 2")||ms("android 3"),it=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ft=Ue&&ms("Google")&&it<537&&!("AudioNode"in window),at=!!window.opera,bt=!ct&&ms("chrome"),ai=ms("gecko")&&!We&&!at&&!ge,ei=!bt&&ms("safari"),li=ms("phantom"),fi="OTransition"in De,vi=navigator.platform.indexOf("Win")===0,Ht=ge&&"transition"in De,xi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!qe,Ti="MozPerspective"in De,Tr=!window.L_DISABLE_3D&&(Ht||xi||Ti)&&!fi&&!li,mn=typeof orientation<"u"||ms("mobile"),wn=mn&&We,Xr=mn&&xi,gn=!window.PointerEvent&&window.MSPointerEvent,Xo=!!(window.PointerEvent||gn),Nr="ontouchstart"in window||!!window.TouchEvent,To=!window.L_NO_TOUCH&&(Nr||Xo),lo=mn&&at,Er=mn&&ai,sn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,On=function(){var E=!1;try{var P=Object.defineProperty({},"passive",{get:function(){E=!0}});window.addEventListener("testPassiveEventSupport",l,P),window.removeEventListener("testPassiveEventSupport",l,P)}catch{}return E}(),Pc=function(){return!!document.createElement("canvas").getContext}(),ps=!!(document.createElementNS&&ke("svg").createSVGRect),Yo=!!ps&&function(){var E=document.createElement("div");return E.innerHTML="<svg/>",(E.firstChild&&E.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ja=!ps&&function(){try{var E=document.createElement("div");E.innerHTML='<v:shape adj="1"/>';var P=E.firstChild;return P.style.behavior="url(#default#VML)",P&&typeof P.adj=="object"}catch{return!1}}(),Ji=navigator.platform.indexOf("Mac")===0,Br=navigator.platform.indexOf("Linux")===0;function ms(E){return navigator.userAgent.toLowerCase().indexOf(E)>=0}var mi={ie:ge,ielt9:Et,edge:ct,webkit:We,android:Ue,android23:qe,androidStock:Ft,opera:at,chrome:bt,gecko:ai,safari:ei,phantom:li,opera12:fi,win:vi,ie3d:Ht,webkit3d:xi,gecko3d:Ti,any3d:Tr,mobile:mn,mobileWebkit:wn,mobileWebkit3d:Xr,msPointer:gn,pointer:Xo,touch:To,touchNative:Nr,mobileOpera:lo,mobileGecko:Er,retina:sn,passiveEvents:On,canvas:Pc,svg:ps,vml:ja,inlineSvg:Yo,mac:Ji,linux:Br},Yr=mi.msPointer?"MSPointerDown":"pointerdown",_s=mi.msPointer?"MSPointerMove":"pointermove",xe=mi.msPointer?"MSPointerUp":"pointerup",Ne=mi.msPointer?"MSPointerCancel":"pointercancel",Re={touchstart:Yr,touchmove:_s,touchend:xe,touchcancel:Ne},Fe={touchstart:wi,touchmove:qt,touchend:qt,touchcancel:qt},Oe={},Be=!1;function st(E,P,W){return P==="touchstart"&&Qt(),Fe[P]?(W=Fe[P].bind(this,W),E.addEventListener(Re[P],W,!1),W):(console.warn("wrong event specified:",P),l)}function Ct(E,P,W){if(!Re[P]){console.warn("wrong event specified:",P);return}E.removeEventListener(Re[P],W,!1)}function nt(E){Oe[E.pointerId]=E}function ot(E){Oe[E.pointerId]&&(Oe[E.pointerId]=E)}function lt(E){delete Oe[E.pointerId]}function Qt(){Be||(document.addEventListener(Yr,nt,!0),document.addEventListener(_s,ot,!0),document.addEventListener(xe,lt,!0),document.addEventListener(Ne,lt,!0),Be=!0)}function qt(E,P){if(P.pointerType!==(P.MSPOINTER_TYPE_MOUSE||"mouse")){P.touches=[];for(var W in Oe)P.touches.push(Oe[W]);P.changedTouches=[P],E(P)}}function wi(E,P){P.MSPOINTER_TYPE_TOUCH&&P.pointerType===P.MSPOINTER_TYPE_TOUCH&&Cs(P),qt(E,P)}function oi(E){var P={},W,ne;for(ne in E)W=E[ne],P[ne]=W&&W.bind?W.bind(E):W;return E=P,P.type="dblclick",P.detail=2,P.isTrusted=!1,P._simulated=!0,P}var ii=200;function en(E,P){E.addEventListener("dblclick",P);var W=0,ne;function he(Se){if(Se.detail!==1){ne=Se.detail;return}if(!(Se.pointerType==="mouse"||Se.sourceCapabilities&&!Se.sourceCapabilities.firesTouchEvents)){var Ge=Zd(Se);if(!(Ge.some(function(At){return At instanceof HTMLLabelElement&&At.attributes.for})&&!Ge.some(function(At){return At instanceof HTMLInputElement||At instanceof HTMLSelectElement}))){var ut=Date.now();ut-W<=ii?(ne++,ne===2&&P(oi(Se))):ne=1,W=ut}}}return E.addEventListener("click",he),{dblclick:P,simDblclick:he}}function er(E,P){E.removeEventListener("dblclick",P.dblclick),E.removeEventListener("click",P.simDblclick)}var ws=Mo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),lr=Mo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),$r=lr==="webkitTransition"||lr==="OTransition"?lr+"End":"transitionend";function bl(E){return typeof E=="string"?document.getElementById(E):E}function Eo(E,P){var W=E.style[P]||E.currentStyle&&E.currentStyle[P];if((!W||W==="auto")&&document.defaultView){var ne=document.defaultView.getComputedStyle(E,null);W=ne?ne[P]:null}return W==="auto"?null:W}function Cn(E,P,W){var ne=document.createElement(E);return ne.className=P||"",W&&W.appendChild(ne),ne}function nr(E){var P=E.parentNode;P&&P.removeChild(E)}function La(E){for(;E.firstChild;)E.removeChild(E.firstChild)}function kr(E){var P=E.parentNode;P&&P.lastChild!==E&&P.appendChild(E)}function ic(E){var P=E.parentNode;P&&P.firstChild!==E&&P.insertBefore(E,P.firstChild)}function Yd(E,P){if(E.classList!==void 0)return E.classList.contains(P);var W=co(E);return W.length>0&&new RegExp("(^|\\s)"+P+"(\\s|$)").test(W)}function xn(E,P){if(E.classList!==void 0)for(var W=d(P),ne=0,he=W.length;ne<he;ne++)E.classList.add(W[ne]);else if(!Yd(E,P)){var Se=co(E);ep(E,(Se?Se+" ":"")+P)}}function rs(E,P){E.classList!==void 0?E.classList.remove(P):ep(E,h((" "+co(E)+" ").replace(" "+P+" "," ")))}function ep(E,P){E.className.baseVal===void 0?E.className=P:E.className.baseVal=P}function co(E){return E.correspondingElement&&(E=E.correspondingElement),E.className.baseVal===void 0?E.className:E.className.baseVal}function xa(E,P){"opacity"in E.style?E.style.opacity=P:"filter"in E.style&&Ao(E,P)}function Ao(E,P){var W=!1,ne="DXImageTransform.Microsoft.Alpha";try{W=E.filters.item(ne)}catch{if(P===1)return}P=Math.round(P*100),W?(W.Enabled=P!==100,W.Opacity=P):E.style.filter+=" progid:"+ne+"(opacity="+P+")"}function Mo(E){for(var P=document.documentElement.style,W=0;W<E.length;W++)if(E[W]in P)return E[W];return!1}function ba(E,P,W){var ne=P||new R(0,0);E.style[ws]=(mi.ie3d?"translate("+ne.x+"px,"+ne.y+"px)":"translate3d("+ne.x+"px,"+ne.y+"px,0)")+(W?" scale("+W+")":"")}function ss(E,P){E._leaflet_pos=P,mi.any3d?ba(E,P):(E.style.left=P.x+"px",E.style.top=P.y+"px")}function $o(E){return E._leaflet_pos||new R(0,0)}var rd,cr,sd;if("onselectstart"in document)rd=function(){hn(window,"selectstart",Cs)},cr=function(){Ar(window,"selectstart",Cs)};else{var Qo=Mo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rd=function(){if(Qo){var E=document.documentElement.style;sd=E[Qo],E[Qo]="none"}},cr=function(){Qo&&(document.documentElement.style[Qo]=sd,sd=void 0)}}function mu(){hn(window,"dragstart",Cs)}function tp(){Ar(window,"dragstart",Cs)}var $d,nc;function ad(E){for(;E.tabIndex===-1;)E=E.parentNode;E.style&&(gu(),$d=E,nc=E.style.outlineStyle,E.style.outlineStyle="none",hn(window,"keydown",gu))}function gu(){$d&&($d.style.outlineStyle=nc,$d=void 0,nc=void 0,Ar(window,"keydown",gu))}function ip(E){do E=E.parentNode;while((!E.offsetWidth||!E.offsetHeight)&&E!==document.body);return E}function Os(E){var P=E.getBoundingClientRect();return{x:P.width/E.offsetWidth||1,y:P.height/E.offsetHeight||1,boundingClientRect:P}}var Rc={__proto__:null,TRANSFORM:ws,TRANSITION:lr,TRANSITION_END:$r,get:bl,getStyle:Eo,create:Cn,remove:nr,empty:La,toFront:kr,toBack:ic,hasClass:Yd,addClass:xn,removeClass:rs,setClass:ep,getClass:co,setOpacity:xa,testProp:Mo,setTransform:ba,setPosition:ss,getPosition:$o,get disableTextSelection(){return rd},get enableTextSelection(){return cr},disableImageDrag:mu,enableImageDrag:tp,preventOutline:ad,restoreOutline:gu,getSizedParentNode:ip,getScale:Os};function hn(E,P,W,ne){if(P&&typeof P=="object")for(var he in P)zh(E,he,P[he],W);else{P=d(P);for(var Se=0,Ge=P.length;Se<Ge;Se++)zh(E,P[Se],W,ne)}return this}var Yi="_leaflet_events";function Ar(E,P,W,ne){if(arguments.length===1)vu(E),delete E[Yi];else if(P&&typeof P=="object")for(var he in P)Uh(E,he,P[he],W);else if(P=d(P),arguments.length===2)vu(E,function(ut){return y(P,ut)!==-1});else for(var Se=0,Ge=P.length;Se<Ge;Se++)Uh(E,P[Se],W,ne);return this}function vu(E,P){for(var W in E[Yi]){var ne=W.split(/\d/)[0];(!P||P(ne))&&Uh(E,ne,null,null,W)}}var _l={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function zh(E,P,W,ne){var he=P+s(W)+(ne?"_"+s(ne):"");if(E[Yi]&&E[Yi][he])return this;var Se=function(ut){return W.call(ne||E,ut||window.event)},Ge=Se;!mi.touchNative&&mi.pointer&&P.indexOf("touch")===0?Se=st(E,P,Se):mi.touch&&P==="dblclick"?Se=en(E,Se):"addEventListener"in E?P==="touchstart"||P==="touchmove"||P==="wheel"||P==="mousewheel"?E.addEventListener(_l[P]||P,Se,mi.passiveEvents?{passive:!1}:!1):P==="mouseenter"||P==="mouseleave"?(Se=function(ut){ut=ut||window.event,rc(E,ut)&&Ge(ut)},E.addEventListener(_l[P],Se,!1)):E.addEventListener(P,Ge,!1):E.attachEvent("on"+P,Se),E[Yi]=E[Yi]||{},E[Yi][he]=Se}function Uh(E,P,W,ne,he){he=he||P+s(W)+(ne?"_"+s(ne):"");var Se=E[Yi]&&E[Yi][he];if(!Se)return this;!mi.touchNative&&mi.pointer&&P.indexOf("touch")===0?Ct(E,P,Se):mi.touch&&P==="dblclick"?er(E,Se):"removeEventListener"in E?E.removeEventListener(_l[P]||P,Se,!1):E.detachEvent("on"+P,Se),E[Yi][he]=null}function la(E){return E.stopPropagation?E.stopPropagation():E.originalEvent?E.originalEvent._stopped=!0:E.cancelBubble=!0,this}function Qd(E){return zh(E,"wheel",la),this}function Kd(E){return hn(E,"mousedown touchstart dblclick contextmenu",la),E._leaflet_disable_click=!0,this}function Cs(E){return E.preventDefault?E.preventDefault():E.returnValue=!1,this}function wl(E){return Cs(E),la(E),this}function Zd(E){if(E.composedPath)return E.composedPath();for(var P=[],W=E.target;W;)P.push(W),W=W.parentNode;return P}function Cl(E,P){if(!P)return new R(E.clientX,E.clientY);var W=Os(P),ne=W.boundingClientRect;return new R((E.clientX-ne.left)/W.x-P.clientLeft,(E.clientY-ne.top)/W.y-P.clientTop)}var Sl=mi.linux&&mi.chrome?window.devicePixelRatio:mi.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function np(E){return mi.edge?E.wheelDeltaY/2:E.deltaY&&E.deltaMode===0?-E.deltaY/Sl:E.deltaY&&E.deltaMode===1?-E.deltaY*20:E.deltaY&&E.deltaMode===2?-E.deltaY*60:E.deltaX||E.deltaZ?0:E.wheelDelta?(E.wheelDeltaY||E.wheelDelta)/2:E.detail&&Math.abs(E.detail)<32765?-E.detail*20:E.detail?E.detail/-32765*60:0}function rc(E,P){var W=P.relatedTarget;if(!W)return!0;try{for(;W&&W!==E;)W=W.parentNode}catch{return!1}return W!==E}var Qr={__proto__:null,on:hn,off:Ar,stopPropagation:la,disableScrollPropagation:Qd,disableClickPropagation:Kd,preventDefault:Cs,stop:wl,getPropagationPath:Zd,getMousePosition:Cl,getWheelDelta:np,isExternalTarget:rc,addListener:hn,removeListener:Ar},Jd=G.extend({run:function(E,P,W,ne){this.stop(),this._el=E,this._inProgress=!0,this._duration=W||.25,this._easeOutPower=1/Math.max(ne||.5,.2),this._startPos=$o(E),this._offset=P.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(E){var P=+new Date-this._startTime,W=this._duration*1e3;P<W?this._runFrame(this._easeOut(P/W),E):(this._runFrame(1),this._complete())},_runFrame:function(E,P){var W=this._startPos.add(this._offset.multiplyBy(E));P&&W._round(),ss(this._el,W),this.fire("step")},_complete:function(){A(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(E){return 1-Math.pow(1-E,this._easeOutPower)}}),Yn=G.extend({options:{crs:me,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(E,P){P=f(this,P),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(E),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),P.maxBounds&&this.setMaxBounds(P.maxBounds),P.zoom!==void 0&&(this._zoom=this._limitZoom(P.zoom)),P.center&&P.zoom!==void 0&&this.setView(F(P.center),P.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=lr&&mi.any3d&&!mi.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),hn(this._proxy,$r,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(E,P,W){if(P=P===void 0?this._zoom:this._limitZoom(P),E=this._limitCenter(F(E),P,this.options.maxBounds),W=W||{},this._stop(),this._loaded&&!W.reset&&W!==!0){W.animate!==void 0&&(W.zoom=e({animate:W.animate},W.zoom),W.pan=e({animate:W.animate,duration:W.duration},W.pan));var ne=this._zoom!==P?this._tryAnimatedZoom&&this._tryAnimatedZoom(E,P,W.zoom):this._tryAnimatedPan(E,W.pan);if(ne)return clearTimeout(this._sizeTimer),this}return this._resetView(E,P,W.pan&&W.pan.noMoveStart),this},setZoom:function(E,P){return this._loaded?this.setView(this.getCenter(),E,{zoom:P}):(this._zoom=E,this)},zoomIn:function(E,P){return E=E||(mi.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+E,P)},zoomOut:function(E,P){return E=E||(mi.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-E,P)},setZoomAround:function(E,P,W){var ne=this.getZoomScale(P),he=this.getSize().divideBy(2),Se=E instanceof R?E:this.latLngToContainerPoint(E),Ge=Se.subtract(he).multiplyBy(1-1/ne),ut=this.containerPointToLatLng(he.add(Ge));return this.setView(ut,P,{zoom:W})},_getBoundsCenterZoom:function(E,P){P=P||{},E=E.getBounds?E.getBounds():V(E);var W=j(P.paddingTopLeft||P.padding||[0,0]),ne=j(P.paddingBottomRight||P.padding||[0,0]),he=this.getBoundsZoom(E,!1,W.add(ne));if(he=typeof P.maxZoom=="number"?Math.min(P.maxZoom,he):he,he===1/0)return{center:E.getCenter(),zoom:he};var Se=ne.subtract(W).divideBy(2),Ge=this.project(E.getSouthWest(),he),ut=this.project(E.getNorthEast(),he),At=this.unproject(Ge.add(ut).divideBy(2).add(Se),he);return{center:At,zoom:he}},fitBounds:function(E,P){if(E=V(E),!E.isValid())throw new Error("Bounds are not valid.");var W=this._getBoundsCenterZoom(E,P);return this.setView(W.center,W.zoom,P)},fitWorld:function(E){return this.fitBounds([[-90,-180],[90,180]],E)},panTo:function(E,P){return this.setView(E,this._zoom,{pan:P})},panBy:function(E,P){if(E=j(E).round(),P=P||{},!E.x&&!E.y)return this.fire("moveend");if(P.animate!==!0&&!this.getSize().contains(E))return this._resetView(this.unproject(this.project(this.getCenter()).add(E)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Jd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),P.noMoveStart||this.fire("movestart"),P.animate!==!1){xn(this._mapPane,"leaflet-pan-anim");var W=this._getMapPanePos().subtract(E).round();this._panAnim.run(this._mapPane,W,P.duration||.25,P.easeLinearity)}else this._rawPanBy(E),this.fire("move").fire("moveend");return this},flyTo:function(E,P,W){if(W=W||{},W.animate===!1||!mi.any3d)return this.setView(E,P,W);this._stop();var ne=this.project(this.getCenter()),he=this.project(E),Se=this.getSize(),Ge=this._zoom;E=F(E),P=P===void 0?Ge:P;var ut=Math.max(Se.x,Se.y),At=ut*this.getZoomScale(Ge,P),Kt=he.distanceTo(ne)||1,Ei=1.42,nn=Ei*Ei;function Ln(Sa){var W0=Sa?-1:1,qh=Sa?At:ut,Nc=At*At-ut*ut+W0*nn*nn*Kt*Kt,e5=2*qh*nn*Kt,nb=Nc/e5,rb=Math.sqrt(nb*nb+1)-nb,z2=rb<1e-9?-18:Math.log(rb);return z2}function Na(Sa){return(Math.exp(Sa)-Math.exp(-Sa))/2}function Wa(Sa){return(Math.exp(Sa)+Math.exp(-Sa))/2}function Lc(Sa){return Na(Sa)/Wa(Sa)}var el=Ln(0);function mm(Sa){return ut*(Wa(el)/Wa(el+Ei*Sa))}function ZD(Sa){return ut*(Wa(el)*Lc(el+Ei*Sa)-Na(el))/nn}function JD(Sa){return 1-Math.pow(1-Sa,1.5)}var qD=Date.now(),sh=(Ln(1)-el)/Ei,Eu=W.duration?1e3*W.duration:1e3*sh*.8;function gd(){var Sa=(Date.now()-qD)/Eu,W0=JD(Sa)*sh;Sa<=1?(this._flyToFrame=T(gd,this),this._move(this.unproject(ne.add(he.subtract(ne).multiplyBy(ZD(W0)/Kt)),Ge),this.getScaleZoom(ut/mm(W0),Ge),{flyTo:!0})):this._move(E,P)._moveEnd(!0)}return this._moveStart(!0,W.noMoveStart),gd.call(this),this},flyToBounds:function(E,P){var W=this._getBoundsCenterZoom(E,P);return this.flyTo(W.center,W.zoom,P)},setMaxBounds:function(E){return E=V(E),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),E.isValid()?(this.options.maxBounds=E,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(E){var P=this.options.minZoom;return this.options.minZoom=E,this._loaded&&P!==E&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(E):this},setMaxZoom:function(E){var P=this.options.maxZoom;return this.options.maxZoom=E,this._loaded&&P!==E&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(E):this},panInsideBounds:function(E,P){this._enforcingBounds=!0;var W=this.getCenter(),ne=this._limitCenter(W,this._zoom,V(E));return W.equals(ne)||this.panTo(ne,P),this._enforcingBounds=!1,this},panInside:function(E,P){P=P||{};var W=j(P.paddingTopLeft||P.padding||[0,0]),ne=j(P.paddingBottomRight||P.padding||[0,0]),he=this.project(this.getCenter()),Se=this.project(E),Ge=this.getPixelBounds(),ut=ee([Ge.min.add(W),Ge.max.subtract(ne)]),At=ut.getSize();if(!ut.contains(Se)){this._enforcingBounds=!0;var Kt=Se.subtract(ut.getCenter()),Ei=ut.extend(Se).getSize().subtract(At);he.x+=Kt.x<0?-Ei.x:Ei.x,he.y+=Kt.y<0?-Ei.y:Ei.y,this.panTo(this.unproject(he),P),this._enforcingBounds=!1}return this},invalidateSize:function(E){if(!this._loaded)return this;E=e({animate:!1,pan:!0},E===!0?{animate:!0}:E);var P=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var W=this.getSize(),ne=P.divideBy(2).round(),he=W.divideBy(2).round(),Se=ne.subtract(he);return!Se.x&&!Se.y?this:(E.animate&&E.pan?this.panBy(Se):(E.pan&&this._rawPanBy(Se),this.fire("move"),E.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:P,newSize:W}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(E){if(E=this._locateOptions=e({timeout:1e4,watch:!1},E),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var P=n(this._handleGeolocationResponse,this),W=n(this._handleGeolocationError,this);return E.watch?this._locationWatchId=navigator.geolocation.watchPosition(P,W,E):navigator.geolocation.getCurrentPosition(P,W,E),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(E){if(this._container._leaflet_id){var P=E.code,W=E.message||(P===1?"permission denied":P===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:P,message:"Geolocation error: "+W+"."})}},_handleGeolocationResponse:function(E){if(this._container._leaflet_id){var P=E.coords.latitude,W=E.coords.longitude,ne=new O(P,W),he=ne.toBounds(E.coords.accuracy*2),Se=this._locateOptions;if(Se.setView){var Ge=this.getBoundsZoom(he);this.setView(ne,Se.maxZoom?Math.min(Ge,Se.maxZoom):Ge)}var ut={latlng:ne,bounds:he,timestamp:E.timestamp};for(var At in E.coords)typeof E.coords[At]=="number"&&(ut[At]=E.coords[At]);this.fire("locationfound",ut)}},addHandler:function(E,P){if(!P)return this;var W=this[E]=new P(this);return this._handlers.push(W),this.options[E]&&W.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),nr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(A(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var E;for(E in this._layers)this._layers[E].remove();for(E in this._panes)nr(this._panes[E]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(E,P){var W="leaflet-pane"+(E?" leaflet-"+E.replace("Pane","")+"-pane":""),ne=Cn("div",W,P||this._mapPane);return E&&(this._panes[E]=ne),ne},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var E=this.getPixelBounds(),P=this.unproject(E.getBottomLeft()),W=this.unproject(E.getTopRight());return new Y(P,W)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(E,P,W){E=V(E),W=j(W||[0,0]);var ne=this.getZoom()||0,he=this.getMinZoom(),Se=this.getMaxZoom(),Ge=E.getNorthWest(),ut=E.getSouthEast(),At=this.getSize().subtract(W),Kt=ee(this.project(ut,ne),this.project(Ge,ne)).getSize(),Ei=mi.any3d?this.options.zoomSnap:1,nn=At.x/Kt.x,Ln=At.y/Kt.y,Na=P?Math.max(nn,Ln):Math.min(nn,Ln);return ne=this.getScaleZoom(Na,ne),Ei&&(ne=Math.round(ne/(Ei/100))*(Ei/100),ne=P?Math.ceil(ne/Ei)*Ei:Math.floor(ne/Ei)*Ei),Math.max(he,Math.min(Se,ne))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(E,P){var W=this._getTopLeftPoint(E,P);return new Z(W,W.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(E){return this.options.crs.getProjectedBounds(E===void 0?this.getZoom():E)},getPane:function(E){return typeof E=="string"?this._panes[E]:E},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(E,P){var W=this.options.crs;return P=P===void 0?this._zoom:P,W.scale(E)/W.scale(P)},getScaleZoom:function(E,P){var W=this.options.crs;P=P===void 0?this._zoom:P;var ne=W.zoom(E*W.scale(P));return isNaN(ne)?1/0:ne},project:function(E,P){return P=P===void 0?this._zoom:P,this.options.crs.latLngToPoint(F(E),P)},unproject:function(E,P){return P=P===void 0?this._zoom:P,this.options.crs.pointToLatLng(j(E),P)},layerPointToLatLng:function(E){var P=j(E).add(this.getPixelOrigin());return this.unproject(P)},latLngToLayerPoint:function(E){var P=this.project(F(E))._round();return P._subtract(this.getPixelOrigin())},wrapLatLng:function(E){return this.options.crs.wrapLatLng(F(E))},wrapLatLngBounds:function(E){return this.options.crs.wrapLatLngBounds(V(E))},distance:function(E,P){return this.options.crs.distance(F(E),F(P))},containerPointToLayerPoint:function(E){return j(E).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(E){return j(E).add(this._getMapPanePos())},containerPointToLatLng:function(E){var P=this.containerPointToLayerPoint(j(E));return this.layerPointToLatLng(P)},latLngToContainerPoint:function(E){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(E)))},mouseEventToContainerPoint:function(E){return Cl(E,this._container)},mouseEventToLayerPoint:function(E){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(E))},mouseEventToLatLng:function(E){return this.layerPointToLatLng(this.mouseEventToLayerPoint(E))},_initContainer:function(E){var P=this._container=bl(E);if(P){if(P._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");hn(P,"scroll",this._onScroll,this),this._containerId=s(P)},_initLayout:function(){var E=this._container;this._fadeAnimated=this.options.fadeAnimation&&mi.any3d,xn(E,"leaflet-container"+(mi.touch?" leaflet-touch":"")+(mi.retina?" leaflet-retina":"")+(mi.ielt9?" leaflet-oldie":"")+(mi.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var P=Eo(E,"position");P!=="absolute"&&P!=="relative"&&P!=="fixed"&&P!=="sticky"&&(E.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var E=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ss(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xn(E.markerPane,"leaflet-zoom-hide"),xn(E.shadowPane,"leaflet-zoom-hide"))},_resetView:function(E,P,W){ss(this._mapPane,new R(0,0));var ne=!this._loaded;this._loaded=!0,P=this._limitZoom(P),this.fire("viewprereset");var he=this._zoom!==P;this._moveStart(he,W)._move(E,P)._moveEnd(he),this.fire("viewreset"),ne&&this.fire("load")},_moveStart:function(E,P){return E&&this.fire("zoomstart"),P||this.fire("movestart"),this},_move:function(E,P,W,ne){P===void 0&&(P=this._zoom);var he=this._zoom!==P;return this._zoom=P,this._lastCenter=E,this._pixelOrigin=this._getNewPixelOrigin(E),ne?W&&W.pinch&&this.fire("zoom",W):((he||W&&W.pinch)&&this.fire("zoom",W),this.fire("move",W)),this},_moveEnd:function(E){return E&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return A(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(E){ss(this._mapPane,this._getMapPanePos().subtract(E))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(E){this._targets={},this._targets[s(this._container)]=this;var P=E?Ar:hn;P(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&P(window,"resize",this._onResize,this),mi.any3d&&this.options.transform3DLimit&&(E?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){A(this._resizeRequest),this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var E=this._getMapPanePos();Math.max(Math.abs(E.x),Math.abs(E.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(E,P){for(var W=[],ne,he=P==="mouseout"||P==="mouseover",Se=E.target||E.srcElement,Ge=!1;Se;){if(ne=this._targets[s(Se)],ne&&(P==="click"||P==="preclick")&&this._draggableMoved(ne)){Ge=!0;break}if(ne&&ne.listens(P,!0)&&(he&&!rc(Se,E)||(W.push(ne),he))||Se===this._container)break;Se=Se.parentNode}return!W.length&&!Ge&&!he&&this.listens(P,!0)&&(W=[this]),W},_isClickDisabled:function(E){for(;E&&E!==this._container;){if(E._leaflet_disable_click)return!0;E=E.parentNode}},_handleDOMEvent:function(E){var P=E.target||E.srcElement;if(!(!this._loaded||P._leaflet_disable_events||E.type==="click"&&this._isClickDisabled(P))){var W=E.type;W==="mousedown"&&ad(P),this._fireDOMEvent(E,W)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(E,P,W){if(E.type==="click"){var ne=e({},E);ne.type="preclick",this._fireDOMEvent(ne,ne.type,W)}var he=this._findEventTargets(E,P);if(W){for(var Se=[],Ge=0;Ge<W.length;Ge++)W[Ge].listens(P,!0)&&Se.push(W[Ge]);he=Se.concat(he)}if(he.length){P==="contextmenu"&&Cs(E);var ut=he[0],At={originalEvent:E};if(E.type!=="keypress"&&E.type!=="keydown"&&E.type!=="keyup"){var Kt=ut.getLatLng&&(!ut._radius||ut._radius<=10);At.containerPoint=Kt?this.latLngToContainerPoint(ut.getLatLng()):this.mouseEventToContainerPoint(E),At.layerPoint=this.containerPointToLayerPoint(At.containerPoint),At.latlng=Kt?ut.getLatLng():this.layerPointToLatLng(At.layerPoint)}for(Ge=0;Ge<he.length;Ge++)if(he[Ge].fire(P,At,!0),At.originalEvent._stopped||he[Ge].options.bubblingMouseEvents===!1&&y(this._mouseEvents,P)!==-1)return}},_draggableMoved:function(E){return E=E.dragging&&E.dragging.enabled()?E:this,E.dragging&&E.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var E=0,P=this._handlers.length;E<P;E++)this._handlers[E].disable()},whenReady:function(E,P){return this._loaded?E.call(P||this,{target:this}):this.on("load",E,P),this},_getMapPanePos:function(){return $o(this._mapPane)||new R(0,0)},_moved:function(){var E=this._getMapPanePos();return E&&!E.equals([0,0])},_getTopLeftPoint:function(E,P){var W=E&&P!==void 0?this._getNewPixelOrigin(E,P):this.getPixelOrigin();return W.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(E,P){var W=this.getSize()._divideBy(2);return this.project(E,P)._subtract(W)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(E,P,W){var ne=this._getNewPixelOrigin(W,P);return this.project(E,P)._subtract(ne)},_latLngBoundsToNewLayerBounds:function(E,P,W){var ne=this._getNewPixelOrigin(W,P);return ee([this.project(E.getSouthWest(),P)._subtract(ne),this.project(E.getNorthWest(),P)._subtract(ne),this.project(E.getSouthEast(),P)._subtract(ne),this.project(E.getNorthEast(),P)._subtract(ne)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(E){return this.latLngToLayerPoint(E).subtract(this._getCenterLayerPoint())},_limitCenter:function(E,P,W){if(!W)return E;var ne=this.project(E,P),he=this.getSize().divideBy(2),Se=new Z(ne.subtract(he),ne.add(he)),Ge=this._getBoundsOffset(Se,W,P);return Math.abs(Ge.x)<=1&&Math.abs(Ge.y)<=1?E:this.unproject(ne.add(Ge),P)},_limitOffset:function(E,P){if(!P)return E;var W=this.getPixelBounds(),ne=new Z(W.min.add(E),W.max.add(E));return E.add(this._getBoundsOffset(ne,P))},_getBoundsOffset:function(E,P,W){var ne=ee(this.project(P.getNorthEast(),W),this.project(P.getSouthWest(),W)),he=ne.min.subtract(E.min),Se=ne.max.subtract(E.max),Ge=this._rebound(he.x,-Se.x),ut=this._rebound(he.y,-Se.y);return new R(Ge,ut)},_rebound:function(E,P){return E+P>0?Math.round(E-P)/2:Math.max(0,Math.ceil(E))-Math.max(0,Math.floor(P))},_limitZoom:function(E){var P=this.getMinZoom(),W=this.getMaxZoom(),ne=mi.any3d?this.options.zoomSnap:1;return ne&&(E=Math.round(E/ne)*ne),Math.max(P,Math.min(W,E))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){rs(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(E,P){var W=this._getCenterOffset(E)._trunc();return(P&&P.animate)!==!0&&!this.getSize().contains(W)?!1:(this.panBy(W,P),!0)},_createAnimProxy:function(){var E=this._proxy=Cn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(E),this.on("zoomanim",function(P){var W=ws,ne=this._proxy.style[W];ba(this._proxy,this.project(P.center,P.zoom),this.getZoomScale(P.zoom,1)),ne===this._proxy.style[W]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var E=this.getCenter(),P=this.getZoom();ba(this._proxy,this.project(E,P),this.getZoomScale(P,1))},_catchTransitionEnd:function(E){this._animatingZoom&&E.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(E,P,W){if(this._animatingZoom)return!0;if(W=W||{},!this._zoomAnimated||W.animate===!1||this._nothingToAnimate()||Math.abs(P-this._zoom)>this.options.zoomAnimationThreshold)return!1;var ne=this.getZoomScale(P),he=this._getCenterOffset(E)._divideBy(1-1/ne);return W.animate!==!0&&!this.getSize().contains(he)?!1:(T(function(){this._moveStart(!0,W.noMoveStart||!1)._animateZoom(E,P,!0)},this),!0)},_animateZoom:function(E,P,W,ne){this._mapPane&&(W&&(this._animatingZoom=!0,this._animateToCenter=E,this._animateToZoom=P,xn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:E,zoom:P,noUpdate:ne}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&rs(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rp(E,P){return new Yn(E,P)}var uo=I.extend({options:{position:"topright"},initialize:function(E){f(this,E)},getPosition:function(){return this.options.position},setPosition:function(E){var P=this._map;return P&&P.removeControl(this),this.options.position=E,P&&P.addControl(this),this},getContainer:function(){return this._container},addTo:function(E){this.remove(),this._map=E;var P=this._container=this.onAdd(E),W=this.getPosition(),ne=E._controlCorners[W];return xn(P,"leaflet-control"),W.indexOf("bottom")!==-1?ne.insertBefore(P,ne.firstChild):ne.appendChild(P),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(nr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(E){this._map&&E&&E.screenX>0&&E.screenY>0&&this._map.getContainer().focus()}}),yu=function(E){return new uo(E)};Yn.include({addControl:function(E){return E.addTo(this),this},removeControl:function(E){return E.remove(),this},_initControlPos:function(){var E=this._controlCorners={},P="leaflet-",W=this._controlContainer=Cn("div",P+"control-container",this._container);function ne(he,Se){var Ge=P+he+" "+P+Se;E[he+Se]=Cn("div",Ge,W)}ne("top","left"),ne("top","right"),ne("bottom","left"),ne("bottom","right")},_clearControlPos:function(){for(var E in this._controlCorners)nr(this._controlCorners[E]);nr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Io=uo.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(E,P,W,ne){return W<ne?-1:ne<W?1:0}},initialize:function(E,P,W){f(this,W),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var ne in E)this._addLayer(E[ne],ne);for(ne in P)this._addLayer(P[ne],ne,!0)},onAdd:function(E){this._initLayout(),this._update(),this._map=E,E.on("zoomend",this._checkDisabledLayers,this);for(var P=0;P<this._layers.length;P++)this._layers[P].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(E){return uo.prototype.addTo.call(this,E),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var E=0;E<this._layers.length;E++)this._layers[E].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(E,P){return this._addLayer(E,P),this._map?this._update():this},addOverlay:function(E,P){return this._addLayer(E,P,!0),this._map?this._update():this},removeLayer:function(E){E.off("add remove",this._onLayerChange,this);var P=this._getLayer(s(E));return P&&this._layers.splice(this._layers.indexOf(P),1),this._map?this._update():this},expand:function(){xn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var E=this._map.getSize().y-(this._container.offsetTop+50);return E<this._section.clientHeight?(xn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=E+"px"):rs(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return rs(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var E="leaflet-control-layers",P=this._container=Cn("div",E),W=this.options.collapsed;P.setAttribute("aria-haspopup",!0),Kd(P),Qd(P);var ne=this._section=Cn("section",E+"-list");W&&(this._map.on("click",this.collapse,this),hn(P,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var he=this._layersLink=Cn("a",E+"-toggle",P);he.href="#",he.title="Layers",he.setAttribute("role","button"),hn(he,{keydown:function(Se){Se.keyCode===13&&this._expandSafely()},click:function(Se){Cs(Se),this._expandSafely()}},this),W||this.expand(),this._baseLayersList=Cn("div",E+"-base",ne),this._separator=Cn("div",E+"-separator",ne),this._overlaysList=Cn("div",E+"-overlays",ne),P.appendChild(ne)},_getLayer:function(E){for(var P=0;P<this._layers.length;P++)if(this._layers[P]&&s(this._layers[P].layer)===E)return this._layers[P]},_addLayer:function(E,P,W){this._map&&E.on("add remove",this._onLayerChange,this),this._layers.push({layer:E,name:P,overlay:W}),this.options.sortLayers&&this._layers.sort(n(function(ne,he){return this.options.sortFunction(ne.layer,he.layer,ne.name,he.name)},this)),this.options.autoZIndex&&E.setZIndex&&(this._lastZIndex++,E.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;La(this._baseLayersList),La(this._overlaysList),this._layerControlInputs=[];var E,P,W,ne,he=0;for(W=0;W<this._layers.length;W++)ne=this._layers[W],this._addItem(ne),P=P||ne.overlay,E=E||!ne.overlay,he+=ne.overlay?0:1;return this.options.hideSingleBase&&(E=E&&he>1,this._baseLayersList.style.display=E?"":"none"),this._separator.style.display=P&&E?"":"none",this},_onLayerChange:function(E){this._handlingClick||this._update();var P=this._getLayer(s(E.target)),W=P.overlay?E.type==="add"?"overlayadd":"overlayremove":E.type==="add"?"baselayerchange":null;W&&this._map.fire(W,P)},_createRadioElement:function(E,P){var W='<input type="radio" class="leaflet-control-layers-selector" name="'+E+'"'+(P?' checked="checked"':"")+"/>",ne=document.createElement("div");return ne.innerHTML=W,ne.firstChild},_addItem:function(E){var P=document.createElement("label"),W=this._map.hasLayer(E.layer),ne;E.overlay?(ne=document.createElement("input"),ne.type="checkbox",ne.className="leaflet-control-layers-selector",ne.defaultChecked=W):ne=this._createRadioElement("leaflet-base-layers_"+s(this),W),this._layerControlInputs.push(ne),ne.layerId=s(E.layer),hn(ne,"click",this._onInputClick,this);var he=document.createElement("span");he.innerHTML=" "+E.name;var Se=document.createElement("span");P.appendChild(Se),Se.appendChild(ne),Se.appendChild(he);var Ge=E.overlay?this._overlaysList:this._baseLayersList;return Ge.appendChild(P),this._checkDisabledLayers(),P},_onInputClick:function(){if(!this._preventClick){var E=this._layerControlInputs,P,W,ne=[],he=[];this._handlingClick=!0;for(var Se=E.length-1;Se>=0;Se--)P=E[Se],W=this._getLayer(P.layerId).layer,P.checked?ne.push(W):P.checked||he.push(W);for(Se=0;Se<he.length;Se++)this._map.hasLayer(he[Se])&&this._map.removeLayer(he[Se]);for(Se=0;Se<ne.length;Se++)this._map.hasLayer(ne[Se])||this._map.addLayer(ne[Se]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var E=this._layerControlInputs,P,W,ne=this._map.getZoom(),he=E.length-1;he>=0;he--)P=E[he],W=this._getLayer(P.layerId).layer,P.disabled=W.options.minZoom!==void 0&&ne<W.options.minZoom||W.options.maxZoom!==void 0&&ne>W.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var E=this._section;this._preventClick=!0,hn(E,"click",Cs),this.expand();var P=this;setTimeout(function(){Ar(E,"click",Cs),P._preventClick=!1})}}),kc=function(E,P,W){return new Io(E,P,W)},Ko=uo.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(E){var P="leaflet-control-zoom",W=Cn("div",P+" leaflet-bar"),ne=this.options;return this._zoomInButton=this._createButton(ne.zoomInText,ne.zoomInTitle,P+"-in",W,this._zoomIn),this._zoomOutButton=this._createButton(ne.zoomOutText,ne.zoomOutTitle,P+"-out",W,this._zoomOut),this._updateDisabled(),E.on("zoomend zoomlevelschange",this._updateDisabled,this),W},onRemove:function(E){E.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(E){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(E.shiftKey?3:1))},_zoomOut:function(E){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(E.shiftKey?3:1))},_createButton:function(E,P,W,ne,he){var Se=Cn("a",W,ne);return Se.innerHTML=E,Se.href="#",Se.title=P,Se.setAttribute("role","button"),Se.setAttribute("aria-label",P),Kd(Se),hn(Se,"click",wl),hn(Se,"click",he,this),hn(Se,"click",this._refocusOnMap,this),Se},_updateDisabled:function(){var E=this._map,P="leaflet-disabled";rs(this._zoomInButton,P),rs(this._zoomOutButton,P),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||E._zoom===E.getMinZoom())&&(xn(this._zoomOutButton,P),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||E._zoom===E.getMaxZoom())&&(xn(this._zoomInButton,P),this._zoomInButton.setAttribute("aria-disabled","true"))}});Yn.mergeOptions({zoomControl:!0}),Yn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ko,this.addControl(this.zoomControl))});var xu=function(E){return new Ko(E)},Tl=uo.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(E){var P="leaflet-control-scale",W=Cn("div",P),ne=this.options;return this._addScales(ne,P+"-line",W),E.on(ne.updateWhenIdle?"moveend":"move",this._update,this),E.whenReady(this._update,this),W},onRemove:function(E){E.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(E,P,W){E.metric&&(this._mScale=Cn("div",P,W)),E.imperial&&(this._iScale=Cn("div",P,W))},_update:function(){var E=this._map,P=E.getSize().y/2,W=E.distance(E.containerPointToLatLng([0,P]),E.containerPointToLatLng([this.options.maxWidth,P]));this._updateScales(W)},_updateScales:function(E){this.options.metric&&E&&this._updateMetric(E),this.options.imperial&&E&&this._updateImperial(E)},_updateMetric:function(E){var P=this._getRoundNum(E),W=P<1e3?P+" m":P/1e3+" km";this._updateScale(this._mScale,W,P/E)},_updateImperial:function(E){var P=E*3.2808399,W,ne,he;P>5280?(W=P/5280,ne=this._getRoundNum(W),this._updateScale(this._iScale,ne+" mi",ne/W)):(he=this._getRoundNum(P),this._updateScale(this._iScale,he+" ft",he/P))},_updateScale:function(E,P,W){E.style.width=Math.round(this.options.maxWidth*W)+"px",E.innerHTML=P},_getRoundNum:function(E){var P=Math.pow(10,(Math.floor(E)+"").length-1),W=E/P;return W=W>=10?10:W>=5?5:W>=3?3:W>=2?2:1,P*W}}),bu=function(E){return new Tl(E)},od='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',qd=uo.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(mi.inlineSvg?od+" ":"")+"Leaflet</a>"},initialize:function(E){f(this,E),this._attributions={}},onAdd:function(E){E.attributionControl=this,this._container=Cn("div","leaflet-control-attribution"),Kd(this._container);for(var P in E._layers)E._layers[P].getAttribution&&this.addAttribution(E._layers[P].getAttribution());return this._update(),E.on("layeradd",this._addAttribution,this),this._container},onRemove:function(E){E.off("layeradd",this._addAttribution,this)},_addAttribution:function(E){E.layer.getAttribution&&(this.addAttribution(E.layer.getAttribution()),E.layer.once("remove",function(){this.removeAttribution(E.layer.getAttribution())},this))},setPrefix:function(E){return this.options.prefix=E,this._update(),this},addAttribution:function(E){return E?(this._attributions[E]||(this._attributions[E]=0),this._attributions[E]++,this._update(),this):this},removeAttribution:function(E){return E?(this._attributions[E]&&(this._attributions[E]--,this._update()),this):this},_update:function(){if(this._map){var E=[];for(var P in this._attributions)this._attributions[P]&&E.push(P);var W=[];this.options.prefix&&W.push(this.options.prefix),E.length&&W.push(E.join(", ")),this._container.innerHTML=W.join(' <span aria-hidden="true">|</span> ')}}});Yn.mergeOptions({attributionControl:!0}),Yn.addInitHook(function(){this.options.attributionControl&&new qd().addTo(this)});var _u=function(E){return new qd(E)};uo.Layers=Io,uo.Zoom=Ko,uo.Scale=Tl,uo.Attribution=qd,yu.layers=kc,yu.zoom=xu,yu.scale=bu,yu.attribution=_u;var Zo=I.extend({initialize:function(E){this._map=E},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Zo.addTo=function(E,P){return E.addHandler(P,this),this};var ld={Events:k},Hh=mi.touch?"touchstart mousedown":"mousedown",El=G.extend({options:{clickTolerance:3},initialize:function(E,P,W,ne){f(this,ne),this._element=E,this._dragStartTarget=P||E,this._preventOutline=W},enable:function(){this._enabled||(hn(this._dragStartTarget,Hh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(El._dragging===this&&this.finishDrag(!0),Ar(this._dragStartTarget,Hh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(E){if(this._enabled&&(this._moved=!1,!Yd(this._element,"leaflet-zoom-anim"))){if(E.touches&&E.touches.length!==1){El._dragging===this&&this.finishDrag();return}if(!(El._dragging||E.shiftKey||E.which!==1&&E.button!==1&&!E.touches)&&(El._dragging=this,this._preventOutline&&ad(this._element),mu(),rd(),!this._moving)){this.fire("down");var P=E.touches?E.touches[0]:E,W=ip(this._element);this._startPoint=new R(P.clientX,P.clientY),this._startPos=$o(this._element),this._parentScale=Os(W);var ne=E.type==="mousedown";hn(document,ne?"mousemove":"touchmove",this._onMove,this),hn(document,ne?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(E){if(this._enabled){if(E.touches&&E.touches.length>1){this._moved=!0;return}var P=E.touches&&E.touches.length===1?E.touches[0]:E,W=new R(P.clientX,P.clientY)._subtract(this._startPoint);!W.x&&!W.y||Math.abs(W.x)+Math.abs(W.y)<this.options.clickTolerance||(W.x/=this._parentScale.x,W.y/=this._parentScale.y,Cs(E),this._moved||(this.fire("dragstart"),this._moved=!0,xn(document.body,"leaflet-dragging"),this._lastTarget=E.target||E.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(W),this._moving=!0,this._lastEvent=E,this._updatePosition())}},_updatePosition:function(){var E={originalEvent:this._lastEvent};this.fire("predrag",E),ss(this._element,this._newPos),this.fire("drag",E)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(E){rs(document.body,"leaflet-dragging"),this._lastTarget&&(rs(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ar(document,"mousemove touchmove",this._onMove,this),Ar(document,"mouseup touchend touchcancel",this._onUp,this),tp(),cr();var P=this._moved&&this._moving;this._moving=!1,El._dragging=!1,P&&this.fire("dragend",{noInertia:E,distance:this._newPos.distanceTo(this._startPos)})}});function sc(E,P,W){var ne,he=[1,4,2,8],Se,Ge,ut,At,Kt,Ei,nn,Ln;for(Se=0,Ei=E.length;Se<Ei;Se++)E[Se]._code=Xe(E[Se],P);for(ut=0;ut<4;ut++){for(nn=he[ut],ne=[],Se=0,Ei=E.length,Ge=Ei-1;Se<Ei;Ge=Se++)At=E[Se],Kt=E[Ge],At._code&nn?Kt._code&nn||(Ln=Ve(Kt,At,nn,P,W),Ln._code=Xe(Ln,P),ne.push(Ln)):(Kt._code&nn&&(Ln=Ve(Kt,At,nn,P,W),Ln._code=Xe(Ln,P),ne.push(Ln)),ne.push(At));E=ne}return E}function eh(E,P){var W,ne,he,Se,Ge,ut,At,Kt,Ei;if(!E||E.length===0)throw new Error("latlngs not passed");Ot(E)||(console.warn("latlngs are not flat! Only the first ring will be used"),E=E[0]);var nn=F([0,0]),Ln=V(E),Na=Ln.getNorthWest().distanceTo(Ln.getSouthWest())*Ln.getNorthEast().distanceTo(Ln.getNorthWest());Na<1700&&(nn=cd(E));var Wa=E.length,Lc=[];for(W=0;W<Wa;W++){var el=F(E[W]);Lc.push(P.project(F([el.lat-nn.lat,el.lng-nn.lng])))}for(ut=At=Kt=0,W=0,ne=Wa-1;W<Wa;ne=W++)he=Lc[W],Se=Lc[ne],Ge=he.y*Se.x-Se.y*he.x,At+=(he.x+Se.x)*Ge,Kt+=(he.y+Se.y)*Ge,ut+=Ge*3;ut===0?Ei=Lc[0]:Ei=[At/ut,Kt/ut];var mm=P.unproject(j(Ei));return F([mm.lat+nn.lat,mm.lng+nn.lng])}function cd(E){for(var P=0,W=0,ne=0,he=0;he<E.length;he++){var Se=F(E[he]);P+=Se.lat,W+=Se.lng,ne++}return F([P/ne,W/ne])}var Gh={__proto__:null,clipPolygon:sc,polygonCenter:eh,centroid:cd};function jh(E,P){if(!P||!E.length)return E.slice();var W=P*P;return E=oc(E,W),E=Wh(E,W),E}function ud(E,P,W){return Math.sqrt(St(E,P,W,!0))}function Fc(E,P,W){return St(E,P,W)}function Wh(E,P){var W=E.length,ne=typeof Uint8Array<"u"?Uint8Array:Array,he=new ne(W);he[0]=he[W-1]=1,ac(E,he,P,0,W-1);var Se,Ge=[];for(Se=0;Se<W;Se++)he[Se]&&Ge.push(E[Se]);return Ge}function ac(E,P,W,ne,he){var Se=0,Ge,ut,At;for(ut=ne+1;ut<=he-1;ut++)At=St(E[ut],E[ne],E[he],!0),At>Se&&(Ge=ut,Se=At);Se>W&&(P[Ge]=1,ac(E,P,W,ne,Ge),ac(E,P,W,Ge,he))}function oc(E,P){for(var W=[E[0]],ne=1,he=0,Se=E.length;ne<Se;ne++)rt(E[ne],E[he])>P&&(W.push(E[ne]),he=ne);return he<Se-1&&W.push(E[Se-1]),W}var te;function ve(E,P,W,ne,he){var Se=ne?te:Xe(E,W),Ge=Xe(P,W),ut,At,Kt;for(te=Ge;;){if(!(Se|Ge))return[E,P];if(Se&Ge)return!1;ut=Se||Ge,At=Ve(E,P,ut,W,he),Kt=Xe(At,W),ut===Se?(E=At,Se=Kt):(P=At,Ge=Kt)}}function Ve(E,P,W,ne,he){var Se=P.x-E.x,Ge=P.y-E.y,ut=ne.min,At=ne.max,Kt,Ei;return W&8?(Kt=E.x+Se*(At.y-E.y)/Ge,Ei=At.y):W&4?(Kt=E.x+Se*(ut.y-E.y)/Ge,Ei=ut.y):W&2?(Kt=At.x,Ei=E.y+Ge*(At.x-E.x)/Se):W&1&&(Kt=ut.x,Ei=E.y+Ge*(ut.x-E.x)/Se),new R(Kt,Ei,he)}function Xe(E,P){var W=0;return E.x<P.min.x?W|=1:E.x>P.max.x&&(W|=2),E.y<P.min.y?W|=4:E.y>P.max.y&&(W|=8),W}function rt(E,P){var W=P.x-E.x,ne=P.y-E.y;return W*W+ne*ne}function St(E,P,W,ne){var he=P.x,Se=P.y,Ge=W.x-he,ut=W.y-Se,At=Ge*Ge+ut*ut,Kt;return At>0&&(Kt=((E.x-he)*Ge+(E.y-Se)*ut)/At,Kt>1?(he=W.x,Se=W.y):Kt>0&&(he+=Ge*Kt,Se+=ut*Kt)),Ge=E.x-he,ut=E.y-Se,ne?Ge*Ge+ut*ut:new R(he,Se)}function Ot(E){return!v(E[0])||typeof E[0][0]!="object"&&typeof E[0][0]<"u"}function bi(E){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ot(E)}function Li(E,P){var W,ne,he,Se,Ge,ut,At,Kt;if(!E||E.length===0)throw new Error("latlngs not passed");Ot(E)||(console.warn("latlngs are not flat! Only the first ring will be used"),E=E[0]);var Ei=F([0,0]),nn=V(E),Ln=nn.getNorthWest().distanceTo(nn.getSouthWest())*nn.getNorthEast().distanceTo(nn.getNorthWest());Ln<1700&&(Ei=cd(E));var Na=E.length,Wa=[];for(W=0;W<Na;W++){var Lc=F(E[W]);Wa.push(P.project(F([Lc.lat-Ei.lat,Lc.lng-Ei.lng])))}for(W=0,ne=0;W<Na-1;W++)ne+=Wa[W].distanceTo(Wa[W+1])/2;if(ne===0)Kt=Wa[0];else for(W=0,Se=0;W<Na-1;W++)if(Ge=Wa[W],ut=Wa[W+1],he=Ge.distanceTo(ut),Se+=he,Se>ne){At=(Se-ne)/he,Kt=[ut.x-At*(ut.x-Ge.x),ut.y-At*(ut.y-Ge.y)];break}var el=P.unproject(j(Kt));return F([el.lat+Ei.lat,el.lng+Ei.lng])}var z={__proto__:null,simplify:jh,pointToSegmentDistance:ud,closestPointOnSegment:Fc,clipSegment:ve,_getEdgeIntersection:Ve,_getBitCode:Xe,_sqClosestPointOnSegment:St,isFlat:Ot,_flat:bi,polylineCenter:Li},ce={project:function(E){return new R(E.lng,E.lat)},unproject:function(E){return new O(E.y,E.x)},bounds:new Z([-180,-90],[180,90])},fe={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(E){var P=Math.PI/180,W=this.R,ne=E.lat*P,he=this.R_MINOR/W,Se=Math.sqrt(1-he*he),Ge=Se*Math.sin(ne),ut=Math.tan(Math.PI/4-ne/2)/Math.pow((1-Ge)/(1+Ge),Se/2);return ne=-W*Math.log(Math.max(ut,1e-10)),new R(E.lng*P*W,ne)},unproject:function(E){for(var P=180/Math.PI,W=this.R,ne=this.R_MINOR/W,he=Math.sqrt(1-ne*ne),Se=Math.exp(-E.y/W),Ge=Math.PI/2-2*Math.atan(Se),ut=0,At=.1,Kt;ut<15&&Math.abs(At)>1e-7;ut++)Kt=he*Math.sin(Ge),Kt=Math.pow((1-Kt)/(1+Kt),he/2),At=Math.PI/2-2*Math.atan(Se*Kt)-Ge,Ge+=At;return new O(Ge*P,E.x*P/W)}},Ee={__proto__:null,LonLat:ce,Mercator:fe,SphericalMercator:q},Ze=e({},ie,{code:"EPSG:3395",projection:fe,transformation:function(){var E=.5/(Math.PI*fe.R);return ue(E,.5,-E,.5)}()}),dt=e({},ie,{code:"EPSG:4326",projection:ce,transformation:ue(1/180,1,-1/180,.5)}),ni=e({},X,{projection:ce,transformation:ue(1,0,-1,0),scale:function(E){return Math.pow(2,E)},zoom:function(E){return Math.log(E)/Math.LN2},distance:function(E,P){var W=P.lng-E.lng,ne=P.lat-E.lat;return Math.sqrt(W*W+ne*ne)},infinite:!0});X.Earth=ie,X.EPSG3395=Ze,X.EPSG3857=me,X.EPSG900913=be,X.EPSG4326=dt,X.Simple=ni;var Qi=G.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(E){return E.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(E){return E&&E.removeLayer(this),this},getPane:function(E){return this._map.getPane(E?this.options[E]||E:this.options.pane)},addInteractiveTarget:function(E){return this._map._targets[s(E)]=this,this},removeInteractiveTarget:function(E){return delete this._map._targets[s(E)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(E){var P=E.target;if(P.hasLayer(this)){if(this._map=P,this._zoomAnimated=P._zoomAnimated,this.getEvents){var W=this.getEvents();P.on(W,this),this.once("remove",function(){P.off(W,this)},this)}this.onAdd(P),this.fire("add"),P.fire("layeradd",{layer:this})}}});Yn.include({addLayer:function(E){if(!E._layerAdd)throw new Error("The provided object is not a Layer.");var P=s(E);return this._layers[P]?this:(this._layers[P]=E,E._mapToAdd=this,E.beforeAdd&&E.beforeAdd(this),this.whenReady(E._layerAdd,E),this)},removeLayer:function(E){var P=s(E);return this._layers[P]?(this._loaded&&E.onRemove(this),delete this._layers[P],this._loaded&&(this.fire("layerremove",{layer:E}),E.fire("remove")),E._map=E._mapToAdd=null,this):this},hasLayer:function(E){return s(E)in this._layers},eachLayer:function(E,P){for(var W in this._layers)E.call(P,this._layers[W]);return this},_addLayers:function(E){E=E?v(E)?E:[E]:[];for(var P=0,W=E.length;P<W;P++)this.addLayer(E[P])},_addZoomLimit:function(E){(!isNaN(E.options.maxZoom)||!isNaN(E.options.minZoom))&&(this._zoomBoundLayers[s(E)]=E,this._updateZoomLevels())},_removeZoomLimit:function(E){var P=s(E);this._zoomBoundLayers[P]&&(delete this._zoomBoundLayers[P],this._updateZoomLevels())},_updateZoomLevels:function(){var E=1/0,P=-1/0,W=this._getZoomSpan();for(var ne in this._zoomBoundLayers){var he=this._zoomBoundLayers[ne].options;E=he.minZoom===void 0?E:Math.min(E,he.minZoom),P=he.maxZoom===void 0?P:Math.max(P,he.maxZoom)}this._layersMaxZoom=P===-1/0?void 0:P,this._layersMinZoom=E===1/0?void 0:E,W!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ur=Qi.extend({initialize:function(E,P){f(this,P),this._layers={};var W,ne;if(E)for(W=0,ne=E.length;W<ne;W++)this.addLayer(E[W])},addLayer:function(E){var P=this.getLayerId(E);return this._layers[P]=E,this._map&&this._map.addLayer(E),this},removeLayer:function(E){var P=E in this._layers?E:this.getLayerId(E);return this._map&&this._layers[P]&&this._map.removeLayer(this._layers[P]),delete this._layers[P],this},hasLayer:function(E){var P=typeof E=="number"?E:this.getLayerId(E);return P in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(E){var P=Array.prototype.slice.call(arguments,1),W,ne;for(W in this._layers)ne=this._layers[W],ne[E]&&ne[E].apply(ne,P);return this},onAdd:function(E){this.eachLayer(E.addLayer,E)},onRemove:function(E){this.eachLayer(E.removeLayer,E)},eachLayer:function(E,P){for(var W in this._layers)E.call(P,this._layers[W]);return this},getLayer:function(E){return this._layers[E]},getLayers:function(){var E=[];return this.eachLayer(E.push,E),E},setZIndex:function(E){return this.invoke("setZIndex",E)},getLayerId:function(E){return s(E)}}),bn=function(E,P){return new ur(E,P)},rr=ur.extend({addLayer:function(E){return this.hasLayer(E)?this:(E.addEventParent(this),ur.prototype.addLayer.call(this,E),this.fire("layeradd",{layer:E}))},removeLayer:function(E){return this.hasLayer(E)?(E in this._layers&&(E=this._layers[E]),E.removeEventParent(this),ur.prototype.removeLayer.call(this,E),this.fire("layerremove",{layer:E})):this},setStyle:function(E){return this.invoke("setStyle",E)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var E=new Y;for(var P in this._layers){var W=this._layers[P];E.extend(W.getBounds?W.getBounds():W.getLatLng())}return E}}),ca=function(E,P){return new rr(E,P)},ho=I.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(E){f(this,E)},createIcon:function(E){return this._createIcon("icon",E)},createShadow:function(E){return this._createIcon("shadow",E)},_createIcon:function(E,P){var W=this._getIconUrl(E);if(!W){if(E==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var ne=this._createImg(W,P&&P.tagName==="IMG"?P:null);return this._setIconStyles(ne,E),(this.options.crossOrigin||this.options.crossOrigin==="")&&(ne.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),ne},_setIconStyles:function(E,P){var W=this.options,ne=W[P+"Size"];typeof ne=="number"&&(ne=[ne,ne]);var he=j(ne),Se=j(P==="shadow"&&W.shadowAnchor||W.iconAnchor||he&&he.divideBy(2,!0));E.className="leaflet-marker-"+P+" "+(W.className||""),Se&&(E.style.marginLeft=-Se.x+"px",E.style.marginTop=-Se.y+"px"),he&&(E.style.width=he.x+"px",E.style.height=he.y+"px")},_createImg:function(E,P){return P=P||document.createElement("img"),P.src=E,P},_getIconUrl:function(E){return mi.retina&&this.options[E+"RetinaUrl"]||this.options[E+"Url"]}});function fo(E){return new ho(E)}var Jo=ho.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(E){return typeof Jo.imagePath!="string"&&(Jo.imagePath=this._detectIconPath()),(this.options.imagePath||Jo.imagePath)+ho.prototype._getIconUrl.call(this,E)},_stripUrl:function(E){var P=function(W,ne,he){var Se=ne.exec(W);return Se&&Se[he]};return E=P(E,/^url\((['"])?(.+)\1\)$/,2),E&&P(E,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var E=Cn("div","leaflet-default-icon-path",document.body),P=Eo(E,"background-image")||Eo(E,"backgroundImage");if(document.body.removeChild(E),P=this._stripUrl(P),P)return P;var W=document.querySelector('link[href$="leaflet.css"]');return W?W.href.substring(0,W.href.length-11-1):""}}),dd=Zo.extend({initialize:function(E){this._marker=E},addHooks:function(){var E=this._marker._icon;this._draggable||(this._draggable=new El(E,E,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xn(E,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&rs(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(E){var P=this._marker,W=P._map,ne=this._marker.options.autoPanSpeed,he=this._marker.options.autoPanPadding,Se=$o(P._icon),Ge=W.getPixelBounds(),ut=W.getPixelOrigin(),At=ee(Ge.min._subtract(ut).add(he),Ge.max._subtract(ut).subtract(he));if(!At.contains(Se)){var Kt=j((Math.max(At.max.x,Se.x)-At.max.x)/(Ge.max.x-At.max.x)-(Math.min(At.min.x,Se.x)-At.min.x)/(Ge.min.x-At.min.x),(Math.max(At.max.y,Se.y)-At.max.y)/(Ge.max.y-At.max.y)-(Math.min(At.min.y,Se.y)-At.min.y)/(Ge.min.y-At.min.y)).multiplyBy(ne);W.panBy(Kt,{animate:!1}),this._draggable._newPos._add(Kt),this._draggable._startPos._add(Kt),ss(P._icon,this._draggable._newPos),this._onDrag(E),this._panRequest=T(this._adjustPan.bind(this,E))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(E){this._marker.options.autoPan&&(A(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,E)))},_onDrag:function(E){var P=this._marker,W=P._shadow,ne=$o(P._icon),he=P._map.layerPointToLatLng(ne);W&&ss(W,ne),P._latlng=he,E.latlng=he,E.oldLatLng=this._oldLatLng,P.fire("move",E).fire("drag",E)},_onDragEnd:function(E){A(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",E)}}),Xh=Qi.extend({options:{icon:new Jo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(E,P){f(this,P),this._latlng=F(E)},onAdd:function(E){this._zoomAnimated=this._zoomAnimated&&E.options.markerZoomAnimation,this._zoomAnimated&&E.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(E){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&E.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(E){var P=this._latlng;return this._latlng=F(E),this.update(),this.fire("move",{oldLatLng:P,latlng:this._latlng})},setZIndexOffset:function(E){return this.options.zIndexOffset=E,this.update()},getIcon:function(){return this.options.icon},setIcon:function(E){return this.options.icon=E,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var E=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(E)}return this},_initIcon:function(){var E=this.options,P="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),W=E.icon.createIcon(this._icon),ne=!1;W!==this._icon&&(this._icon&&this._removeIcon(),ne=!0,E.title&&(W.title=E.title),W.tagName==="IMG"&&(W.alt=E.alt||"")),xn(W,P),E.keyboard&&(W.tabIndex="0",W.setAttribute("role","button")),this._icon=W,E.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&hn(W,"focus",this._panOnFocus,this);var he=E.icon.createShadow(this._shadow),Se=!1;he!==this._shadow&&(this._removeShadow(),Se=!0),he&&(xn(he,P),he.alt=""),this._shadow=he,E.opacity<1&&this._updateOpacity(),ne&&this.getPane().appendChild(this._icon),this._initInteraction(),he&&Se&&this.getPane(E.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ar(this._icon,"focus",this._panOnFocus,this),nr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nr(this._shadow),this._shadow=null},_setPos:function(E){this._icon&&ss(this._icon,E),this._shadow&&ss(this._shadow,E),this._zIndex=E.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(E){this._icon&&(this._icon.style.zIndex=this._zIndex+E)},_animateZoom:function(E){var P=this._map._latLngToNewLayerPoint(this._latlng,E.zoom,E.center).round();this._setPos(P)},_initInteraction:function(){if(this.options.interactive&&(xn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),dd)){var E=this.options.draggable;this.dragging&&(E=this.dragging.enabled(),this.dragging.disable()),this.dragging=new dd(this),E&&this.dragging.enable()}},setOpacity:function(E){return this.options.opacity=E,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var E=this.options.opacity;this._icon&&xa(this._icon,E),this._shadow&&xa(this._shadow,E)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var E=this._map;if(E){var P=this.options.icon.options,W=P.iconSize?j(P.iconSize):j(0,0),ne=P.iconAnchor?j(P.iconAnchor):j(0,0);E.panInside(this._latlng,{paddingTopLeft:ne,paddingBottomRight:W.subtract(ne)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function lm(E,P){return new Xh(E,P)}var Ls=Qi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(E){this._renderer=E.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(E){return f(this,E),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&E&&Object.prototype.hasOwnProperty.call(E,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),th=Ls.extend({options:{fill:!0,radius:10},initialize:function(E,P){f(this,P),this._latlng=F(E),this._radius=this.options.radius},setLatLng:function(E){var P=this._latlng;return this._latlng=F(E),this.redraw(),this.fire("move",{oldLatLng:P,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(E){return this.options.radius=this._radius=E,this.redraw()},getRadius:function(){return this._radius},setStyle:function(E){var P=E&&E.radius||this._radius;return Ls.prototype.setStyle.call(this,E),this.setRadius(P),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var E=this._radius,P=this._radiusY||E,W=this._clickTolerance(),ne=[E+W,P+W];this._pxBounds=new Z(this._point.subtract(ne),this._point.add(ne))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(E){return E.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function cm(E,P){return new th(E,P)}var Yh=th.extend({initialize:function(E,P,W){if(typeof P=="number"&&(P=e({},W,{radius:P})),f(this,P),this._latlng=F(E),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(E){return this._mRadius=E,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var E=[this._radius,this._radiusY||this._radius];return new Y(this._map.layerPointToLatLng(this._point.subtract(E)),this._map.layerPointToLatLng(this._point.add(E)))},setStyle:Ls.prototype.setStyle,_project:function(){var E=this._latlng.lng,P=this._latlng.lat,W=this._map,ne=W.options.crs;if(ne.distance===ie.distance){var he=Math.PI/180,Se=this._mRadius/ie.R/he,Ge=W.project([P+Se,E]),ut=W.project([P-Se,E]),At=Ge.add(ut).divideBy(2),Kt=W.unproject(At).lat,Ei=Math.acos((Math.cos(Se*he)-Math.sin(P*he)*Math.sin(Kt*he))/(Math.cos(P*he)*Math.cos(Kt*he)))/he;(isNaN(Ei)||Ei===0)&&(Ei=Se/Math.cos(Math.PI/180*P)),this._point=At.subtract(W.getPixelOrigin()),this._radius=isNaN(Ei)?0:At.x-W.project([Kt,E-Ei]).x,this._radiusY=At.y-Ge.y}else{var nn=ne.unproject(ne.project(this._latlng).subtract([this._mRadius,0]));this._point=W.latLngToLayerPoint(this._latlng),this._radius=this._point.x-W.latLngToLayerPoint(nn).x}this._updateBounds()}});function B0(E,P,W){return new Yh(E,P,W)}var Js=Ls.extend({options:{smoothFactor:1,noClip:!1},initialize:function(E,P){f(this,P),this._setLatLngs(E)},getLatLngs:function(){return this._latlngs},setLatLngs:function(E){return this._setLatLngs(E),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(E){for(var P=1/0,W=null,ne=St,he,Se,Ge=0,ut=this._parts.length;Ge<ut;Ge++)for(var At=this._parts[Ge],Kt=1,Ei=At.length;Kt<Ei;Kt++){he=At[Kt-1],Se=At[Kt];var nn=ne(E,he,Se,!0);nn<P&&(P=nn,W=ne(E,he,Se))}return W&&(W.distance=Math.sqrt(P)),W},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Li(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(E,P){return P=P||this._defaultShape(),E=F(E),P.push(E),this._bounds.extend(E),this.redraw()},_setLatLngs:function(E){this._bounds=new Y,this._latlngs=this._convertLatLngs(E)},_defaultShape:function(){return Ot(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(E){for(var P=[],W=Ot(E),ne=0,he=E.length;ne<he;ne++)W?(P[ne]=F(E[ne]),this._bounds.extend(P[ne])):P[ne]=this._convertLatLngs(E[ne]);return P},_project:function(){var E=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,E),this._bounds.isValid()&&E.isValid()&&(this._rawPxBounds=E,this._updateBounds())},_updateBounds:function(){var E=this._clickTolerance(),P=new R(E,E);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(P),this._rawPxBounds.max.add(P)]))},_projectLatlngs:function(E,P,W){var ne=E[0]instanceof O,he=E.length,Se,Ge;if(ne){for(Ge=[],Se=0;Se<he;Se++)Ge[Se]=this._map.latLngToLayerPoint(E[Se]),W.extend(Ge[Se]);P.push(Ge)}else for(Se=0;Se<he;Se++)this._projectLatlngs(E[Se],P,W)},_clipPoints:function(){var E=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(E))){if(this.options.noClip){this._parts=this._rings;return}var P=this._parts,W,ne,he,Se,Ge,ut,At;for(W=0,he=0,Se=this._rings.length;W<Se;W++)for(At=this._rings[W],ne=0,Ge=At.length;ne<Ge-1;ne++)ut=ve(At[ne],At[ne+1],E,ne,!0),ut&&(P[he]=P[he]||[],P[he].push(ut[0]),(ut[1]!==At[ne+1]||ne===Ge-2)&&(P[he].push(ut[1]),he++))}},_simplifyPoints:function(){for(var E=this._parts,P=this.options.smoothFactor,W=0,ne=E.length;W<ne;W++)E[W]=jh(E[W],P)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(E,P){var W,ne,he,Se,Ge,ut,At=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(E))return!1;for(W=0,Se=this._parts.length;W<Se;W++)for(ut=this._parts[W],ne=0,Ge=ut.length,he=Ge-1;ne<Ge;he=ne++)if(!(!P&&ne===0)&&ud(E,ut[he],ut[ne])<=At)return!0;return!1}});function qx(E,P){return new Js(E,P)}Js._flat=bi;var hd=Js.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return eh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(E){var P=Js.prototype._convertLatLngs.call(this,E),W=P.length;return W>=2&&P[0]instanceof O&&P[0].equals(P[W-1])&&P.pop(),P},_setLatLngs:function(E){Js.prototype._setLatLngs.call(this,E),Ot(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ot(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var E=this._renderer._bounds,P=this.options.weight,W=new R(P,P);if(E=new Z(E.min.subtract(W),E.max.add(W)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(E))){if(this.options.noClip){this._parts=this._rings;return}for(var ne=0,he=this._rings.length,Se;ne<he;ne++)Se=sc(this._rings[ne],E,!0),Se.length&&this._parts.push(Se)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(E){var P=!1,W,ne,he,Se,Ge,ut,At,Kt;if(!this._pxBounds||!this._pxBounds.contains(E))return!1;for(Se=0,At=this._parts.length;Se<At;Se++)for(W=this._parts[Se],Ge=0,Kt=W.length,ut=Kt-1;Ge<Kt;ut=Ge++)ne=W[Ge],he=W[ut],ne.y>E.y!=he.y>E.y&&E.x<(he.x-ne.x)*(E.y-ne.y)/(he.y-ne.y)+ne.x&&(P=!P);return P||Js.prototype._containsPoint.call(this,E,!0)}});function Rv(E,P){return new hd(E,P)}var _a=rr.extend({initialize:function(E,P){f(this,P),this._layers={},E&&this.addData(E)},addData:function(E){var P=v(E)?E:E.features,W,ne,he;if(P){for(W=0,ne=P.length;W<ne;W++)he=P[W],(he.geometries||he.geometry||he.features||he.coordinates)&&this.addData(he);return this}var Se=this.options;if(Se.filter&&!Se.filter(E))return this;var Ge=ih(E,Se);return Ge?(Ge.feature=Cu(E),Ge.defaultOptions=Ge.options,this.resetStyle(Ge),Se.onEachFeature&&Se.onEachFeature(E,Ge),this.addLayer(Ge)):this},resetStyle:function(E){return E===void 0?this.eachLayer(this.resetStyle,this):(E.options=e({},E.defaultOptions),this._setLayerStyle(E,this.options.style),this)},setStyle:function(E){return this.eachLayer(function(P){this._setLayerStyle(P,E)},this)},_setLayerStyle:function(E,P){E.setStyle&&(typeof P=="function"&&(P=P(E.feature)),E.setStyle(P))}});function ih(E,P){var W=E.type==="Feature"?E.geometry:E,ne=W?W.coordinates:null,he=[],Se=P&&P.pointToLayer,Ge=P&&P.coordsToLatLng||um,ut,At,Kt,Ei;if(!ne&&!W)return null;switch(W.type){case"Point":return ut=Ge(ne),V0(Se,E,ut,P);case"MultiPoint":for(Kt=0,Ei=ne.length;Kt<Ei;Kt++)ut=Ge(ne[Kt]),he.push(V0(Se,E,ut,P));return new rr(he);case"LineString":case"MultiLineString":return At=wu(ne,W.type==="LineString"?0:1,Ge),new Js(At,P);case"Polygon":case"MultiPolygon":return At=wu(ne,W.type==="Polygon"?1:2,Ge),new hd(At,P);case"GeometryCollection":for(Kt=0,Ei=W.geometries.length;Kt<Ei;Kt++){var nn=ih({geometry:W.geometries[Kt],type:"Feature",properties:E.properties},P);nn&&he.push(nn)}return new rr(he);case"FeatureCollection":for(Kt=0,Ei=W.features.length;Kt<Ei;Kt++){var Ln=ih(W.features[Kt],P);Ln&&he.push(Ln)}return new rr(he);default:throw new Error("Invalid GeoJSON object.")}}function V0(E,P,W,ne){return E?E(P,W):new Xh(W,ne&&ne.markersInheritOptions&&ne)}function um(E){return new O(E[1],E[0],E[2])}function wu(E,P,W){for(var ne=[],he=0,Se=E.length,Ge;he<Se;he++)Ge=P?wu(E[he],P-1,W):(W||um)(E[he]),ne.push(Ge);return ne}function nh(E,P){return E=F(E),E.alt!==void 0?[c(E.lng,P),c(E.lat,P),c(E.alt,P)]:[c(E.lng,P),c(E.lat,P)]}function po(E,P,W,ne){for(var he=[],Se=0,Ge=E.length;Se<Ge;Se++)he.push(P?po(E[Se],Ot(E[Se])?0:P-1,W,ne):nh(E[Se],ne));return!P&&W&&he.length>0&&he.push(he[0].slice()),he}function wa(E,P){return E.feature?e({},E.feature,{geometry:P}):Cu(P)}function Cu(E){return E.type==="Feature"||E.type==="FeatureCollection"?E:{type:"Feature",properties:{},geometry:E}}var Su={toGeoJSON:function(E){return wa(this,{type:"Point",coordinates:nh(this.getLatLng(),E)})}};Xh.include(Su),Yh.include(Su),th.include(Su),Js.include({toGeoJSON:function(E){var P=!Ot(this._latlngs),W=po(this._latlngs,P?1:0,!1,E);return wa(this,{type:(P?"Multi":"")+"LineString",coordinates:W})}}),hd.include({toGeoJSON:function(E){var P=!Ot(this._latlngs),W=P&&!Ot(this._latlngs[0]),ne=po(this._latlngs,W?2:P?1:0,!0,E);return P||(ne=[ne]),wa(this,{type:(W?"Multi":"")+"Polygon",coordinates:ne})}}),ur.include({toMultiPoint:function(E){var P=[];return this.eachLayer(function(W){P.push(W.toGeoJSON(E).geometry.coordinates)}),wa(this,{type:"MultiPoint",coordinates:P})},toGeoJSON:function(E){var P=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(P==="MultiPoint")return this.toMultiPoint(E);var W=P==="GeometryCollection",ne=[];return this.eachLayer(function(he){if(he.toGeoJSON){var Se=he.toGeoJSON(E);if(W)ne.push(Se.geometry);else{var Ge=Cu(Se);Ge.type==="FeatureCollection"?ne.push.apply(ne,Ge.features):ne.push(Ge)}}}),W?wa(this,{geometries:ne,type:"GeometryCollection"}):{type:"FeatureCollection",features:ne}}});function fd(E,P){return new _a(E,P)}var dm=fd,Oc=Qi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(E,P,W){this._url=E,this._bounds=V(P),f(this,W)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(E){return this.options.opacity=E,this._image&&this._updateOpacity(),this},setStyle:function(E){return E.opacity&&this.setOpacity(E.opacity),this},bringToFront:function(){return this._map&&kr(this._image),this},bringToBack:function(){return this._map&&ic(this._image),this},setUrl:function(E){return this._url=E,this._image&&(this._image.src=E),this},setBounds:function(E){return this._bounds=V(E),this._map&&this._reset(),this},getEvents:function(){var E={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(E.zoomanim=this._animateZoom),E},setZIndex:function(E){return this.options.zIndex=E,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var E=this._url.tagName==="IMG",P=this._image=E?this._url:Cn("img");if(xn(P,"leaflet-image-layer"),this._zoomAnimated&&xn(P,"leaflet-zoom-animated"),this.options.className&&xn(P,this.options.className),P.onselectstart=l,P.onmousemove=l,P.onload=n(this.fire,this,"load"),P.onerror=n(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),E){this._url=P.src;return}P.src=this._url,P.alt=this.options.alt},_animateZoom:function(E){var P=this._map.getZoomScale(E.zoom),W=this._map._latLngBoundsToNewLayerBounds(this._bounds,E.zoom,E.center).min;ba(this._image,W,P)},_reset:function(){var E=this._image,P=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),W=P.getSize();ss(E,P.min),E.style.width=W.x+"px",E.style.height=W.y+"px"},_updateOpacity:function(){xa(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var E=this.options.errorOverlayUrl;E&&this._url!==E&&(this._url=E,this._image.src=E)},getCenter:function(){return this._bounds.getCenter()}}),ua=function(E,P,W){return new Oc(E,P,W)},hm=Oc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var E=this._url.tagName==="VIDEO",P=this._image=E?this._url:Cn("video");if(xn(P,"leaflet-image-layer"),this._zoomAnimated&&xn(P,"leaflet-zoom-animated"),this.options.className&&xn(P,this.options.className),P.onselectstart=l,P.onmousemove=l,P.onloadeddata=n(this.fire,this,"load"),E){for(var W=P.getElementsByTagName("source"),ne=[],he=0;he<W.length;he++)ne.push(W[he].src);this._url=W.length>0?ne:[P.src];return}v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(P.style,"objectFit")&&(P.style.objectFit="fill"),P.autoplay=!!this.options.autoplay,P.loop=!!this.options.loop,P.muted=!!this.options.muted,P.playsInline=!!this.options.playsInline;for(var Se=0;Se<this._url.length;Se++){var Ge=Cn("source");Ge.src=this._url[Se],P.appendChild(Ge)}}});function qo(E,P,W){return new hm(E,P,W)}var lc=Oc.extend({_initImage:function(){var E=this._image=this._url;xn(E,"leaflet-image-layer"),this._zoomAnimated&&xn(E,"leaflet-zoom-animated"),this.options.className&&xn(E,this.options.className),E.onselectstart=l,E.onmousemove=l}});function fm(E,P,W){return new lc(E,P,W)}var cc=Qi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(E,P){E&&(E instanceof O||v(E))?(this._latlng=F(E),f(this,P)):(f(this,E),this._source=P),this.options.content&&(this._content=this.options.content)},openOn:function(E){return E=arguments.length?E:this._source._map,E.hasLayer(this)||E.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(E){return this._map?this.close():(arguments.length?this._source=E:E=this._source,this._prepareOpen(),this.openOn(E._map)),this},onAdd:function(E){this._zoomAnimated=E._zoomAnimated,this._container||this._initLayout(),E._fadeAnimated&&xa(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),E._fadeAnimated&&xa(this._container,1),this.bringToFront(),this.options.interactive&&(xn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(E){E._fadeAnimated?(xa(this._container,0),this._removeTimeout=setTimeout(n(nr,void 0,this._container),200)):nr(this._container),this.options.interactive&&(rs(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(E){return this._latlng=F(E),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(E){return this._content=E,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var E={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(E.zoomanim=this._animateZoom),E},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&kr(this._container),this},bringToBack:function(){return this._map&&ic(this._container),this},_prepareOpen:function(E){var P=this._source;if(!P._map)return!1;if(P instanceof rr){P=null;var W=this._source._layers;for(var ne in W)if(W[ne]._map){P=W[ne];break}if(!P)return!1;this._source=P}if(!E)if(P.getCenter)E=P.getCenter();else if(P.getLatLng)E=P.getLatLng();else if(P.getBounds)E=P.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(E),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var E=this._contentNode,P=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof P=="string")E.innerHTML=P;else{for(;E.hasChildNodes();)E.removeChild(E.firstChild);E.appendChild(P)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var E=this._map.latLngToLayerPoint(this._latlng),P=j(this.options.offset),W=this._getAnchor();this._zoomAnimated?ss(this._container,E.add(W)):P=P.add(E).add(W);var ne=this._containerBottom=-P.y,he=this._containerLeft=-Math.round(this._containerWidth/2)+P.x;this._container.style.bottom=ne+"px",this._container.style.left=he+"px"}},_getAnchor:function(){return[0,0]}});Yn.include({_initOverlay:function(E,P,W,ne){var he=P;return he instanceof E||(he=new E(ne).setContent(P)),W&&he.setLatLng(W),he}}),Qi.include({_initOverlay:function(E,P,W,ne){var he=W;return he instanceof E?(f(he,ne),he._source=this):(he=P&&!ne?P:new E(ne,this),he.setContent(W)),he}});var $h=cc.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(E){return E=arguments.length?E:this._source._map,!E.hasLayer(this)&&E._popup&&E._popup.options.autoClose&&E.removeLayer(E._popup),E._popup=this,cc.prototype.openOn.call(this,E)},onAdd:function(E){cc.prototype.onAdd.call(this,E),E.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ls||this._source.on("preclick",la))},onRemove:function(E){cc.prototype.onRemove.call(this,E),E.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ls||this._source.off("preclick",la))},getEvents:function(){var E=cc.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(E.preclick=this.close),this.options.keepInView&&(E.moveend=this._adjustPan),E},_initLayout:function(){var E="leaflet-popup",P=this._container=Cn("div",E+" "+(this.options.className||"")+" leaflet-zoom-animated"),W=this._wrapper=Cn("div",E+"-content-wrapper",P);if(this._contentNode=Cn("div",E+"-content",W),Kd(P),Qd(this._contentNode),hn(P,"contextmenu",la),this._tipContainer=Cn("div",E+"-tip-container",P),this._tip=Cn("div",E+"-tip",this._tipContainer),this.options.closeButton){var ne=this._closeButton=Cn("a",E+"-close-button",P);ne.setAttribute("role","button"),ne.setAttribute("aria-label","Close popup"),ne.href="#close",ne.innerHTML='<span aria-hidden="true">&#215;</span>',hn(ne,"click",function(he){Cs(he),this.close()},this)}},_updateLayout:function(){var E=this._contentNode,P=E.style;P.width="",P.whiteSpace="nowrap";var W=E.offsetWidth;W=Math.min(W,this.options.maxWidth),W=Math.max(W,this.options.minWidth),P.width=W+1+"px",P.whiteSpace="",P.height="";var ne=E.offsetHeight,he=this.options.maxHeight,Se="leaflet-popup-scrolled";he&&ne>he?(P.height=he+"px",xn(E,Se)):rs(E,Se),this._containerWidth=this._container.offsetWidth},_animateZoom:function(E){var P=this._map._latLngToNewLayerPoint(this._latlng,E.zoom,E.center),W=this._getAnchor();ss(this._container,P.add(W))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var E=this._map,P=parseInt(Eo(this._container,"marginBottom"),10)||0,W=this._container.offsetHeight+P,ne=this._containerWidth,he=new R(this._containerLeft,-W-this._containerBottom);he._add($o(this._container));var Se=E.layerPointToContainerPoint(he),Ge=j(this.options.autoPanPadding),ut=j(this.options.autoPanPaddingTopLeft||Ge),At=j(this.options.autoPanPaddingBottomRight||Ge),Kt=E.getSize(),Ei=0,nn=0;Se.x+ne+At.x>Kt.x&&(Ei=Se.x+ne-Kt.x+At.x),Se.x-Ei-ut.x<0&&(Ei=Se.x-ut.x),Se.y+W+At.y>Kt.y&&(nn=Se.y+W-Kt.y+At.y),Se.y-nn-ut.y<0&&(nn=Se.y-ut.y),(Ei||nn)&&(this.options.keepInView&&(this._autopanning=!0),E.fire("autopanstart").panBy([Ei,nn]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),sp=function(E,P){return new $h(E,P)};Yn.mergeOptions({closePopupOnClick:!0}),Yn.include({openPopup:function(E,P,W){return this._initOverlay($h,E,P,W).openOn(this),this},closePopup:function(E){return E=arguments.length?E:this._popup,E&&E.close(),this}}),Qi.include({bindPopup:function(E,P){return this._popup=this._initOverlay($h,this._popup,E,P),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(E){return this._popup&&(this instanceof rr||(this._popup._source=this),this._popup._prepareOpen(E||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(E){return this._popup&&this._popup.setContent(E),this},getPopup:function(){return this._popup},_openPopup:function(E){if(!(!this._popup||!this._map)){wl(E);var P=E.layer||E.target;if(this._popup._source===P&&!(P instanceof Ls)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(E.latlng);return}this._popup._source=P,this.openPopup(E.latlng)}},_movePopup:function(E){this._popup.setLatLng(E.latlng)},_onKeyPress:function(E){E.originalEvent.keyCode===13&&this._openPopup(E)}});var pd=cc.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(E){cc.prototype.onAdd.call(this,E),this.setOpacity(this.options.opacity),E.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(E){cc.prototype.onRemove.call(this,E),E.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var E=cc.prototype.getEvents.call(this);return this.options.permanent||(E.preclick=this.close),E},_initLayout:function(){var E="leaflet-tooltip",P=E+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Cn("div",P),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(E){var P,W,ne=this._map,he=this._container,Se=ne.latLngToContainerPoint(ne.getCenter()),Ge=ne.layerPointToContainerPoint(E),ut=this.options.direction,At=he.offsetWidth,Kt=he.offsetHeight,Ei=j(this.options.offset),nn=this._getAnchor();ut==="top"?(P=At/2,W=Kt):ut==="bottom"?(P=At/2,W=0):ut==="center"?(P=At/2,W=Kt/2):ut==="right"?(P=0,W=Kt/2):ut==="left"?(P=At,W=Kt/2):Ge.x<Se.x?(ut="right",P=0,W=Kt/2):(ut="left",P=At+(Ei.x+nn.x)*2,W=Kt/2),E=E.subtract(j(P,W,!0)).add(Ei).add(nn),rs(he,"leaflet-tooltip-right"),rs(he,"leaflet-tooltip-left"),rs(he,"leaflet-tooltip-top"),rs(he,"leaflet-tooltip-bottom"),xn(he,"leaflet-tooltip-"+ut),ss(he,E)},_updatePosition:function(){var E=this._map.latLngToLayerPoint(this._latlng);this._setPosition(E)},setOpacity:function(E){this.options.opacity=E,this._container&&xa(this._container,E)},_animateZoom:function(E){var P=this._map._latLngToNewLayerPoint(this._latlng,E.zoom,E.center);this._setPosition(P)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qh=function(E,P){return new pd(E,P)};Yn.include({openTooltip:function(E,P,W){return this._initOverlay(pd,E,P,W).openOn(this),this},closeTooltip:function(E){return E.close(),this}}),Qi.include({bindTooltip:function(E,P){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(pd,this._tooltip,E,P),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(E){if(!(!E&&this._tooltipHandlersAdded)){var P=E?"off":"on",W={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?W.add=this._openTooltip:(W.mouseover=this._openTooltip,W.mouseout=this.closeTooltip,W.click=this._openTooltip,this._map?this._addFocusListeners():W.add=this._addFocusListeners),this._tooltip.options.sticky&&(W.mousemove=this._moveTooltip),this[P](W),this._tooltipHandlersAdded=!E}},openTooltip:function(E){return this._tooltip&&(this instanceof rr||(this._tooltip._source=this),this._tooltip._prepareOpen(E)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(E){return this._tooltip&&this._tooltip.setContent(E),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(E){var P=typeof E.getElement=="function"&&E.getElement();P&&(hn(P,"focus",function(){this._tooltip._source=E,this.openTooltip()},this),hn(P,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(E){var P=typeof E.getElement=="function"&&E.getElement();P&&P.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(E){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var P=this;this._map.once("moveend",function(){P._openOnceFlag=!1,P._openTooltip(E)});return}this._tooltip._source=E.layer||E.target,this.openTooltip(this._tooltip.options.sticky?E.latlng:void 0)}},_moveTooltip:function(E){var P=E.latlng,W,ne;this._tooltip.options.sticky&&E.originalEvent&&(W=this._map.mouseEventToContainerPoint(E.originalEvent),ne=this._map.containerPointToLayerPoint(W),P=this._map.layerPointToLatLng(ne)),this._tooltip.setLatLng(P)}});var Kh=ho.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(E){var P=E&&E.tagName==="DIV"?E:document.createElement("div"),W=this.options;if(W.html instanceof Element?(La(P),P.appendChild(W.html)):P.innerHTML=W.html!==!1?W.html:"",W.bgPos){var ne=j(W.bgPos);P.style.backgroundPosition=-ne.x+"px "+-ne.y+"px"}return this._setIconStyles(P,"icon"),P},createShadow:function(){return null}});function pm(E){return new Kh(E)}ho.Default=Jo;var Tu=Qi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:mi.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(E){f(this,E)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(E){E._addZoomLimit(this)},onRemove:function(E){this._removeAllTiles(),nr(this._container),E._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(kr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ic(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(E){return this.options.opacity=E,this._updateOpacity(),this},setZIndex:function(E){return this.options.zIndex=E,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var E=this._clampZoom(this._map.getZoom());E!==this._tileZoom&&(this._tileZoom=E,this._updateLevels()),this._update()}return this},getEvents:function(){var E={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),E.move=this._onMove),this._zoomAnimated&&(E.zoomanim=this._animateZoom),E},createTile:function(){return document.createElement("div")},getTileSize:function(){var E=this.options.tileSize;return E instanceof R?E:new R(E,E)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(E){for(var P=this.getPane().children,W=-E(-1/0,1/0),ne=0,he=P.length,Se;ne<he;ne++)Se=P[ne].style.zIndex,P[ne]!==this._container&&Se&&(W=E(W,+Se));isFinite(W)&&(this.options.zIndex=W+E(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!mi.ielt9){xa(this._container,this.options.opacity);var E=+new Date,P=!1,W=!1;for(var ne in this._tiles){var he=this._tiles[ne];if(!(!he.current||!he.loaded)){var Se=Math.min(1,(E-he.loaded)/200);xa(he.el,Se),Se<1?P=!0:(he.active?W=!0:this._onOpaqueTile(he),he.active=!0)}}W&&!this._noPrune&&this._pruneTiles(),P&&(A(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=Cn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var E=this._tileZoom,P=this.options.maxZoom;if(E!==void 0){for(var W in this._levels)W=Number(W),this._levels[W].el.children.length||W===E?(this._levels[W].el.style.zIndex=P-Math.abs(E-W),this._onUpdateLevel(W)):(nr(this._levels[W].el),this._removeTilesAtZoom(W),this._onRemoveLevel(W),delete this._levels[W]);var ne=this._levels[E],he=this._map;return ne||(ne=this._levels[E]={},ne.el=Cn("div","leaflet-tile-container leaflet-zoom-animated",this._container),ne.el.style.zIndex=P,ne.origin=he.project(he.unproject(he.getPixelOrigin()),E).round(),ne.zoom=E,this._setZoomTransform(ne,he.getCenter(),he.getZoom()),l(ne.el.offsetWidth),this._onCreateLevel(ne)),this._level=ne,ne}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var E,P,W=this._map.getZoom();if(W>this.options.maxZoom||W<this.options.minZoom){this._removeAllTiles();return}for(E in this._tiles)P=this._tiles[E],P.retain=P.current;for(E in this._tiles)if(P=this._tiles[E],P.current&&!P.active){var ne=P.coords;this._retainParent(ne.x,ne.y,ne.z,ne.z-5)||this._retainChildren(ne.x,ne.y,ne.z,ne.z+2)}for(E in this._tiles)this._tiles[E].retain||this._removeTile(E)}},_removeTilesAtZoom:function(E){for(var P in this._tiles)this._tiles[P].coords.z===E&&this._removeTile(P)},_removeAllTiles:function(){for(var E in this._tiles)this._removeTile(E)},_invalidateAll:function(){for(var E in this._levels)nr(this._levels[E].el),this._onRemoveLevel(Number(E)),delete this._levels[E];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(E,P,W,ne){var he=Math.floor(E/2),Se=Math.floor(P/2),Ge=W-1,ut=new R(+he,+Se);ut.z=+Ge;var At=this._tileCoordsToKey(ut),Kt=this._tiles[At];return Kt&&Kt.active?(Kt.retain=!0,!0):(Kt&&Kt.loaded&&(Kt.retain=!0),Ge>ne?this._retainParent(he,Se,Ge,ne):!1)},_retainChildren:function(E,P,W,ne){for(var he=2*E;he<2*E+2;he++)for(var Se=2*P;Se<2*P+2;Se++){var Ge=new R(he,Se);Ge.z=W+1;var ut=this._tileCoordsToKey(Ge),At=this._tiles[ut];if(At&&At.active){At.retain=!0;continue}else At&&At.loaded&&(At.retain=!0);W+1<ne&&this._retainChildren(he,Se,W+1,ne)}},_resetView:function(E){var P=E&&(E.pinch||E.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),P,P)},_animateZoom:function(E){this._setView(E.center,E.zoom,!0,E.noUpdate)},_clampZoom:function(E){var P=this.options;return P.minNativeZoom!==void 0&&E<P.minNativeZoom?P.minNativeZoom:P.maxNativeZoom!==void 0&&P.maxNativeZoom<E?P.maxNativeZoom:E},_setView:function(E,P,W,ne){var he=Math.round(P);this.options.maxZoom!==void 0&&he>this.options.maxZoom||this.options.minZoom!==void 0&&he<this.options.minZoom?he=void 0:he=this._clampZoom(he);var Se=this.options.updateWhenZooming&&he!==this._tileZoom;(!ne||Se)&&(this._tileZoom=he,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),he!==void 0&&this._update(E),W||this._pruneTiles(),this._noPrune=!!W),this._setZoomTransforms(E,P)},_setZoomTransforms:function(E,P){for(var W in this._levels)this._setZoomTransform(this._levels[W],E,P)},_setZoomTransform:function(E,P,W){var ne=this._map.getZoomScale(W,E.zoom),he=E.origin.multiplyBy(ne).subtract(this._map._getNewPixelOrigin(P,W)).round();mi.any3d?ba(E.el,he,ne):ss(E.el,he)},_resetGrid:function(){var E=this._map,P=E.options.crs,W=this._tileSize=this.getTileSize(),ne=this._tileZoom,he=this._map.getPixelWorldBounds(this._tileZoom);he&&(this._globalTileRange=this._pxBoundsToTileRange(he)),this._wrapX=P.wrapLng&&!this.options.noWrap&&[Math.floor(E.project([0,P.wrapLng[0]],ne).x/W.x),Math.ceil(E.project([0,P.wrapLng[1]],ne).x/W.y)],this._wrapY=P.wrapLat&&!this.options.noWrap&&[Math.floor(E.project([P.wrapLat[0],0],ne).y/W.x),Math.ceil(E.project([P.wrapLat[1],0],ne).y/W.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(E){var P=this._map,W=P._animatingZoom?Math.max(P._animateToZoom,P.getZoom()):P.getZoom(),ne=P.getZoomScale(W,this._tileZoom),he=P.project(E,this._tileZoom).floor(),Se=P.getSize().divideBy(ne*2);return new Z(he.subtract(Se),he.add(Se))},_update:function(E){var P=this._map;if(P){var W=this._clampZoom(P.getZoom());if(E===void 0&&(E=P.getCenter()),this._tileZoom!==void 0){var ne=this._getTiledPixelBounds(E),he=this._pxBoundsToTileRange(ne),Se=he.getCenter(),Ge=[],ut=this.options.keepBuffer,At=new Z(he.getBottomLeft().subtract([ut,-ut]),he.getTopRight().add([ut,-ut]));if(!(isFinite(he.min.x)&&isFinite(he.min.y)&&isFinite(he.max.x)&&isFinite(he.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Kt in this._tiles){var Ei=this._tiles[Kt].coords;(Ei.z!==this._tileZoom||!At.contains(new R(Ei.x,Ei.y)))&&(this._tiles[Kt].current=!1)}if(Math.abs(W-this._tileZoom)>1){this._setView(E,W);return}for(var nn=he.min.y;nn<=he.max.y;nn++)for(var Ln=he.min.x;Ln<=he.max.x;Ln++){var Na=new R(Ln,nn);if(Na.z=this._tileZoom,!!this._isValidTile(Na)){var Wa=this._tiles[this._tileCoordsToKey(Na)];Wa?Wa.current=!0:Ge.push(Na)}}if(Ge.sort(function(el,mm){return el.distanceTo(Se)-mm.distanceTo(Se)}),Ge.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Lc=document.createDocumentFragment();for(Ln=0;Ln<Ge.length;Ln++)this._addTile(Ge[Ln],Lc);this._level.el.appendChild(Lc)}}}},_isValidTile:function(E){var P=this._map.options.crs;if(!P.infinite){var W=this._globalTileRange;if(!P.wrapLng&&(E.x<W.min.x||E.x>W.max.x)||!P.wrapLat&&(E.y<W.min.y||E.y>W.max.y))return!1}if(!this.options.bounds)return!0;var ne=this._tileCoordsToBounds(E);return V(this.options.bounds).overlaps(ne)},_keyToBounds:function(E){return this._tileCoordsToBounds(this._keyToTileCoords(E))},_tileCoordsToNwSe:function(E){var P=this._map,W=this.getTileSize(),ne=E.scaleBy(W),he=ne.add(W),Se=P.unproject(ne,E.z),Ge=P.unproject(he,E.z);return[Se,Ge]},_tileCoordsToBounds:function(E){var P=this._tileCoordsToNwSe(E),W=new Y(P[0],P[1]);return this.options.noWrap||(W=this._map.wrapLatLngBounds(W)),W},_tileCoordsToKey:function(E){return E.x+":"+E.y+":"+E.z},_keyToTileCoords:function(E){var P=E.split(":"),W=new R(+P[0],+P[1]);return W.z=+P[2],W},_removeTile:function(E){var P=this._tiles[E];P&&(nr(P.el),delete this._tiles[E],this.fire("tileunload",{tile:P.el,coords:this._keyToTileCoords(E)}))},_initTile:function(E){xn(E,"leaflet-tile");var P=this.getTileSize();E.style.width=P.x+"px",E.style.height=P.y+"px",E.onselectstart=l,E.onmousemove=l,mi.ielt9&&this.options.opacity<1&&xa(E,this.options.opacity)},_addTile:function(E,P){var W=this._getTilePos(E),ne=this._tileCoordsToKey(E),he=this.createTile(this._wrapCoords(E),n(this._tileReady,this,E));this._initTile(he),this.createTile.length<2&&T(n(this._tileReady,this,E,null,he)),ss(he,W),this._tiles[ne]={el:he,coords:E,current:!0},P.appendChild(he),this.fire("tileloadstart",{tile:he,coords:E})},_tileReady:function(E,P,W){P&&this.fire("tileerror",{error:P,tile:W,coords:E});var ne=this._tileCoordsToKey(E);W=this._tiles[ne],W&&(W.loaded=+new Date,this._map._fadeAnimated?(xa(W.el,0),A(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(W.active=!0,this._pruneTiles()),P||(xn(W.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:W.el,coords:E})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),mi.ielt9||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))},_getTilePos:function(E){return E.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(E){var P=new R(this._wrapX?u(E.x,this._wrapX):E.x,this._wrapY?u(E.y,this._wrapY):E.y);return P.z=E.z,P},_pxBoundsToTileRange:function(E){var P=this.getTileSize();return new Z(E.min.unscaleBy(P).floor(),E.max.unscaleBy(P).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var E in this._tiles)if(!this._tiles[E].loaded)return!1;return!0}});function Zh(E){return new Tu(E)}var md=Tu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(E,P){this._url=E,P=f(this,P),P.detectRetina&&mi.retina&&P.maxZoom>0?(P.tileSize=Math.floor(P.tileSize/2),P.zoomReverse?(P.zoomOffset--,P.minZoom=Math.min(P.maxZoom,P.minZoom+1)):(P.zoomOffset++,P.maxZoom=Math.max(P.minZoom,P.maxZoom-1)),P.minZoom=Math.max(0,P.minZoom)):P.zoomReverse?P.minZoom=Math.min(P.maxZoom,P.minZoom):P.maxZoom=Math.max(P.minZoom,P.maxZoom),typeof P.subdomains=="string"&&(P.subdomains=P.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(E,P){return this._url===E&&P===void 0&&(P=!0),this._url=E,P||this.redraw(),this},createTile:function(E,P){var W=document.createElement("img");return hn(W,"load",n(this._tileOnLoad,this,P,W)),hn(W,"error",n(this._tileOnError,this,P,W)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(W.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(W.referrerPolicy=this.options.referrerPolicy),W.alt="",W.src=this.getTileUrl(E),W},getTileUrl:function(E){var P={r:mi.retina?"@2x":"",s:this._getSubdomain(E),x:E.x,y:E.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var W=this._globalTileRange.max.y-E.y;this.options.tms&&(P.y=W),P["-y"]=W}return g(this._url,e(P,this.options))},_tileOnLoad:function(E,P){mi.ielt9?setTimeout(n(E,this,null,P),0):E(null,P)},_tileOnError:function(E,P,W){var ne=this.options.errorTileUrl;ne&&P.getAttribute("src")!==ne&&(P.src=ne),E(W,P)},_onTileRemove:function(E){E.tile.onload=null},_getZoomForUrl:function(){var E=this._tileZoom,P=this.options.maxZoom,W=this.options.zoomReverse,ne=this.options.zoomOffset;return W&&(E=P-E),E+ne},_getSubdomain:function(E){var P=Math.abs(E.x+E.y)%this.options.subdomains.length;return this.options.subdomains[P]},_abortLoading:function(){var E,P;for(E in this._tiles)if(this._tiles[E].coords.z!==this._tileZoom&&(P=this._tiles[E].el,P.onload=l,P.onerror=l,!P.complete)){P.src=x;var W=this._tiles[E].coords;nr(P),delete this._tiles[E],this.fire("tileabort",{tile:P,coords:W})}},_removeTile:function(E){var P=this._tiles[E];if(P)return P.el.setAttribute("src",x),Tu.prototype._removeTile.call(this,E)},_tileReady:function(E,P,W){if(!(!this._map||W&&W.getAttribute("src")===x))return Tu.prototype._tileReady.call(this,E,P,W)}});function uc(E,P){return new md(E,P)}var dc=md.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(E,P){this._url=E;var W=e({},this.defaultWmsParams);for(var ne in P)ne in this.options||(W[ne]=P[ne]);P=f(this,P);var he=P.detectRetina&&mi.retina?2:1,Se=this.getTileSize();W.width=Se.x*he,W.height=Se.y*he,this.wmsParams=W},onAdd:function(E){this._crs=this.options.crs||E.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var P=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[P]=this._crs.code,md.prototype.onAdd.call(this,E)},getTileUrl:function(E){var P=this._tileCoordsToNwSe(E),W=this._crs,ne=ee(W.project(P[0]),W.project(P[1])),he=ne.min,Se=ne.max,Ge=(this._wmsVersion>=1.3&&this._crs===dt?[he.y,he.x,Se.y,Se.x]:[he.x,he.y,Se.x,Se.y]).join(","),ut=md.prototype.getTileUrl.call(this,E);return ut+m(this.wmsParams,ut,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ge},setParams:function(E,P){return e(this.wmsParams,E),P||this.redraw(),this}});function gs(E,P){return new dc(E,P)}md.WMS=dc,uc.wms=gs;var dr=Qi.extend({options:{padding:.1},initialize:function(E){f(this,E),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var E={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(E.zoomanim=this._onAnimZoom),E},_onAnimZoom:function(E){this._updateTransform(E.center,E.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(E,P){var W=this._map.getZoomScale(P,this._zoom),ne=this._map.getSize().multiplyBy(.5+this.options.padding),he=this._map.project(this._center,P),Se=ne.multiplyBy(-W).add(he).subtract(this._map._getNewPixelOrigin(E,P));mi.any3d?ba(this._container,Se,W):ss(this._container,Se)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var E in this._layers)this._layers[E]._reset()},_onZoomEnd:function(){for(var E in this._layers)this._layers[E]._project()},_updatePaths:function(){for(var E in this._layers)this._layers[E]._update()},_update:function(){var E=this.options.padding,P=this._map.getSize(),W=this._map.containerPointToLayerPoint(P.multiplyBy(-E)).round();this._bounds=new Z(W,W.add(P.multiplyBy(1+E*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qs=dr.extend({options:{tolerance:0},getEvents:function(){var E=dr.prototype.getEvents.call(this);return E.viewprereset=this._onViewPreReset,E},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){dr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var E=this._container=document.createElement("canvas");hn(E,"mousemove",this._onMouseMove,this),hn(E,"click dblclick mousedown mouseup contextmenu",this._onClick,this),hn(E,"mouseout",this._handleMouseOut,this),E._leaflet_disable_events=!0,this._ctx=E.getContext("2d")},_destroyContainer:function(){A(this._redrawRequest),delete this._ctx,nr(this._container),Ar(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var E;this._redrawBounds=null;for(var P in this._layers)E=this._layers[P],E._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){dr.prototype._update.call(this);var E=this._bounds,P=this._container,W=E.getSize(),ne=mi.retina?2:1;ss(P,E.min),P.width=ne*W.x,P.height=ne*W.y,P.style.width=W.x+"px",P.style.height=W.y+"px",mi.retina&&this._ctx.scale(2,2),this._ctx.translate(-E.min.x,-E.min.y),this.fire("update")}},_reset:function(){dr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(E){this._updateDashArray(E),this._layers[s(E)]=E;var P=E._order={layer:E,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=P),this._drawLast=P,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(E){this._requestRedraw(E)},_removePath:function(E){var P=E._order,W=P.next,ne=P.prev;W?W.prev=ne:this._drawLast=ne,ne?ne.next=W:this._drawFirst=W,delete E._order,delete this._layers[s(E)],this._requestRedraw(E)},_updatePath:function(E){this._extendRedrawBounds(E),E._project(),E._update(),this._requestRedraw(E)},_updateStyle:function(E){this._updateDashArray(E),this._requestRedraw(E)},_updateDashArray:function(E){if(typeof E.options.dashArray=="string"){var P=E.options.dashArray.split(/[, ]+/),W=[],ne,he;for(he=0;he<P.length;he++){if(ne=Number(P[he]),isNaN(ne))return;W.push(ne)}E.options._dashArray=W}else E.options._dashArray=E.options.dashArray},_requestRedraw:function(E){this._map&&(this._extendRedrawBounds(E),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(E){if(E._pxBounds){var P=(E.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(E._pxBounds.min.subtract([P,P])),this._redrawBounds.extend(E._pxBounds.max.add([P,P]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var E=this._redrawBounds;if(E){var P=E.getSize();this._ctx.clearRect(E.min.x,E.min.y,P.x,P.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var E,P=this._redrawBounds;if(this._ctx.save(),P){var W=P.getSize();this._ctx.beginPath(),this._ctx.rect(P.min.x,P.min.y,W.x,W.y),this._ctx.clip()}this._drawing=!0;for(var ne=this._drawFirst;ne;ne=ne.next)E=ne.layer,(!P||E._pxBounds&&E._pxBounds.intersects(P))&&E._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(E,P){if(this._drawing){var W,ne,he,Se,Ge=E._parts,ut=Ge.length,At=this._ctx;if(ut){for(At.beginPath(),W=0;W<ut;W++){for(ne=0,he=Ge[W].length;ne<he;ne++)Se=Ge[W][ne],At[ne?"lineTo":"moveTo"](Se.x,Se.y);P&&At.closePath()}this._fillStroke(At,E)}}},_updateCircle:function(E){if(!(!this._drawing||E._empty())){var P=E._point,W=this._ctx,ne=Math.max(Math.round(E._radius),1),he=(Math.max(Math.round(E._radiusY),1)||ne)/ne;he!==1&&(W.save(),W.scale(1,he)),W.beginPath(),W.arc(P.x,P.y/he,ne,0,Math.PI*2,!1),he!==1&&W.restore(),this._fillStroke(W,E)}},_fillStroke:function(E,P){var W=P.options;W.fill&&(E.globalAlpha=W.fillOpacity,E.fillStyle=W.fillColor||W.color,E.fill(W.fillRule||"evenodd")),W.stroke&&W.weight!==0&&(E.setLineDash&&E.setLineDash(P.options&&P.options._dashArray||[]),E.globalAlpha=W.opacity,E.lineWidth=W.weight,E.strokeStyle=W.color,E.lineCap=W.lineCap,E.lineJoin=W.lineJoin,E.stroke())},_onClick:function(E){for(var P=this._map.mouseEventToLayerPoint(E),W,ne,he=this._drawFirst;he;he=he.next)W=he.layer,W.options.interactive&&W._containsPoint(P)&&(!(E.type==="click"||E.type==="preclick")||!this._map._draggableMoved(W))&&(ne=W);this._fireEvent(ne?[ne]:!1,E)},_onMouseMove:function(E){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var P=this._map.mouseEventToLayerPoint(E);this._handleMouseHover(E,P)}},_handleMouseOut:function(E){var P=this._hoveredLayer;P&&(rs(this._container,"leaflet-interactive"),this._fireEvent([P],E,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(E,P){if(!this._mouseHoverThrottled){for(var W,ne,he=this._drawFirst;he;he=he.next)W=he.layer,W.options.interactive&&W._containsPoint(P)&&(ne=W);ne!==this._hoveredLayer&&(this._handleMouseOut(E),ne&&(xn(this._container,"leaflet-interactive"),this._fireEvent([ne],E,"mouseover"),this._hoveredLayer=ne)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,E),this._mouseHoverThrottled=!0,setTimeout(n(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(E,P,W){this._map._fireDOMEvent(P,W||P.type,E)},_bringToFront:function(E){var P=E._order;if(P){var W=P.next,ne=P.prev;if(W)W.prev=ne;else return;ne?ne.next=W:W&&(this._drawFirst=W),P.prev=this._drawLast,this._drawLast.next=P,P.next=null,this._drawLast=P,this._requestRedraw(E)}},_bringToBack:function(E){var P=E._order;if(P){var W=P.next,ne=P.prev;if(ne)ne.next=W;else return;W?W.prev=ne:ne&&(this._drawLast=ne),P.prev=null,P.next=this._drawFirst,this._drawFirst.prev=P,this._drawFirst=P,this._requestRedraw(E)}}});function Ca(E){return mi.canvas?new qs(E):null}var hc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(E){return document.createElement("<lvml:"+E+' class="lvml">')}}catch{}return function(E){return document.createElement("<"+E+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),z0={_initContainer:function(){this._container=Cn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(dr.prototype._update.call(this),this.fire("update"))},_initPath:function(E){var P=E._container=hc("shape");xn(P,"leaflet-vml-shape "+(this.options.className||"")),P.coordsize="1 1",E._path=hc("path"),P.appendChild(E._path),this._updateStyle(E),this._layers[s(E)]=E},_addPath:function(E){var P=E._container;this._container.appendChild(P),E.options.interactive&&E.addInteractiveTarget(P)},_removePath:function(E){var P=E._container;nr(P),E.removeInteractiveTarget(P),delete this._layers[s(E)]},_updateStyle:function(E){var P=E._stroke,W=E._fill,ne=E.options,he=E._container;he.stroked=!!ne.stroke,he.filled=!!ne.fill,ne.stroke?(P||(P=E._stroke=hc("stroke")),he.appendChild(P),P.weight=ne.weight+"px",P.color=ne.color,P.opacity=ne.opacity,ne.dashArray?P.dashStyle=v(ne.dashArray)?ne.dashArray.join(" "):ne.dashArray.replace(/( *, *)/g," "):P.dashStyle="",P.endcap=ne.lineCap.replace("butt","flat"),P.joinstyle=ne.lineJoin):P&&(he.removeChild(P),E._stroke=null),ne.fill?(W||(W=E._fill=hc("fill")),he.appendChild(W),W.color=ne.fillColor||ne.color,W.opacity=ne.fillOpacity):W&&(he.removeChild(W),E._fill=null)},_updateCircle:function(E){var P=E._point.round(),W=Math.round(E._radius),ne=Math.round(E._radiusY||W);this._setPath(E,E._empty()?"M0 0":"AL "+P.x+","+P.y+" "+W+","+ne+" 0,"+65535*360)},_setPath:function(E,P){E._path.v=P},_bringToFront:function(E){kr(E._container)},_bringToBack:function(E){ic(E._container)}},rh=mi.vml?hc:ke,Jh=dr.extend({_initContainer:function(){this._container=rh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=rh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nr(this._container),Ar(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){dr.prototype._update.call(this);var E=this._bounds,P=E.getSize(),W=this._container;(!this._svgSize||!this._svgSize.equals(P))&&(this._svgSize=P,W.setAttribute("width",P.x),W.setAttribute("height",P.y)),ss(W,E.min),W.setAttribute("viewBox",[E.min.x,E.min.y,P.x,P.y].join(" ")),this.fire("update")}},_initPath:function(E){var P=E._path=rh("path");E.options.className&&xn(P,E.options.className),E.options.interactive&&xn(P,"leaflet-interactive"),this._updateStyle(E),this._layers[s(E)]=E},_addPath:function(E){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(E._path),E.addInteractiveTarget(E._path)},_removePath:function(E){nr(E._path),E.removeInteractiveTarget(E._path),delete this._layers[s(E)]},_updatePath:function(E){E._project(),E._update()},_updateStyle:function(E){var P=E._path,W=E.options;P&&(W.stroke?(P.setAttribute("stroke",W.color),P.setAttribute("stroke-opacity",W.opacity),P.setAttribute("stroke-width",W.weight),P.setAttribute("stroke-linecap",W.lineCap),P.setAttribute("stroke-linejoin",W.lineJoin),W.dashArray?P.setAttribute("stroke-dasharray",W.dashArray):P.removeAttribute("stroke-dasharray"),W.dashOffset?P.setAttribute("stroke-dashoffset",W.dashOffset):P.removeAttribute("stroke-dashoffset")):P.setAttribute("stroke","none"),W.fill?(P.setAttribute("fill",W.fillColor||W.color),P.setAttribute("fill-opacity",W.fillOpacity),P.setAttribute("fill-rule",W.fillRule||"evenodd")):P.setAttribute("fill","none"))},_updatePoly:function(E,P){this._setPath(E,ze(E._parts,P))},_updateCircle:function(E){var P=E._point,W=Math.max(Math.round(E._radius),1),ne=Math.max(Math.round(E._radiusY),1)||W,he="a"+W+","+ne+" 0 1,0 ",Se=E._empty()?"M0 0":"M"+(P.x-W)+","+P.y+he+W*2+",0 "+he+-W*2+",0 ";this._setPath(E,Se)},_setPath:function(E,P){E._path.setAttribute("d",P)},_bringToFront:function(E){kr(E._path)},_bringToBack:function(E){ic(E._path)}});mi.vml&&Jh.include(z0);function kv(E){return mi.svg||mi.vml?new Jh(E):null}Yn.include({getRenderer:function(E){var P=E.options.renderer||this._getPaneRenderer(E.options.pane)||this.options.renderer||this._renderer;return P||(P=this._renderer=this._createRenderer()),this.hasLayer(P)||this.addLayer(P),P},_getPaneRenderer:function(E){if(E==="overlayPane"||E===void 0)return!1;var P=this._paneRenderers[E];return P===void 0&&(P=this._createRenderer({pane:E}),this._paneRenderers[E]=P),P},_createRenderer:function(E){return this.options.preferCanvas&&Ca(E)||kv(E)}});var U0=hd.extend({initialize:function(E,P){hd.prototype.initialize.call(this,this._boundsToLatLngs(E),P)},setBounds:function(E){return this.setLatLngs(this._boundsToLatLngs(E))},_boundsToLatLngs:function(E){return E=V(E),[E.getSouthWest(),E.getNorthWest(),E.getNorthEast(),E.getSouthEast()]}});function fc(E,P){return new U0(E,P)}Jh.create=rh,Jh.pointsToPath=ze,_a.geometryToLayer=ih,_a.coordsToLatLng=um,_a.coordsToLatLngs=wu,_a.latLngToCoords=nh,_a.latLngsToCoords=po,_a.getFeature=wa,_a.asFeature=Cu,Yn.mergeOptions({boxZoom:!0});var pc=Zo.extend({initialize:function(E){this._map=E,this._container=E._container,this._pane=E._panes.overlayPane,this._resetStateTimeout=0,E.on("unload",this._destroy,this)},addHooks:function(){hn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ar(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(E){if(!E.shiftKey||E.which!==1&&E.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),rd(),mu(),this._startPoint=this._map.mouseEventToContainerPoint(E),hn(document,{contextmenu:wl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(E){this._moved||(this._moved=!0,this._box=Cn("div","leaflet-zoom-box",this._container),xn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(E);var P=new Z(this._point,this._startPoint),W=P.getSize();ss(this._box,P.min),this._box.style.width=W.x+"px",this._box.style.height=W.y+"px"},_finish:function(){this._moved&&(nr(this._box),rs(this._container,"leaflet-crosshair")),cr(),tp(),Ar(document,{contextmenu:wl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(E){if(!(E.which!==1&&E.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var P=new Y(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(P).fire("boxzoomend",{boxZoomBounds:P})}},_onKeyDown:function(E){E.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Yn.addInitHook("addHandler","boxZoom",pc),Yn.mergeOptions({doubleClickZoom:!0});var H0=Zo.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(E){var P=this._map,W=P.getZoom(),ne=P.options.zoomDelta,he=E.originalEvent.shiftKey?W-ne:W+ne;P.options.doubleClickZoom==="center"?P.setZoom(he):P.setZoomAround(E.containerPoint,he)}});Yn.addInitHook("addHandler","doubleClickZoom",H0),Yn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var G0=Zo.extend({addHooks:function(){if(!this._draggable){var E=this._map;this._draggable=new El(E._mapPane,E._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),E.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),E.on("zoomend",this._onZoomEnd,this),E.whenReady(this._onZoomEnd,this))}xn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){rs(this._map._container,"leaflet-grab"),rs(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var E=this._map;if(E._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var P=V(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(P.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(P.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;E.fire("movestart").fire("dragstart"),E.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(E){if(this._map.options.inertia){var P=this._lastTime=+new Date,W=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(W),this._times.push(P),this._prunePositions(P)}this._map.fire("move",E).fire("drag",E)},_prunePositions:function(E){for(;this._positions.length>1&&E-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var E=this._map.getSize().divideBy(2),P=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=P.subtract(E).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(E,P){return E-(E-P)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var E=this._draggable._newPos.subtract(this._draggable._startPos),P=this._offsetLimit;E.x<P.min.x&&(E.x=this._viscousLimit(E.x,P.min.x)),E.y<P.min.y&&(E.y=this._viscousLimit(E.y,P.min.y)),E.x>P.max.x&&(E.x=this._viscousLimit(E.x,P.max.x)),E.y>P.max.y&&(E.y=this._viscousLimit(E.y,P.max.y)),this._draggable._newPos=this._draggable._startPos.add(E)}},_onPreDragWrap:function(){var E=this._worldWidth,P=Math.round(E/2),W=this._initialWorldOffset,ne=this._draggable._newPos.x,he=(ne-P+W)%E+P-W,Se=(ne+P+W)%E-P-W,Ge=Math.abs(he+W)<Math.abs(Se+W)?he:Se;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ge},_onDragEnd:function(E){var P=this._map,W=P.options,ne=!W.inertia||E.noInertia||this._times.length<2;if(P.fire("dragend",E),ne)P.fire("moveend");else{this._prunePositions(+new Date);var he=this._lastPos.subtract(this._positions[0]),Se=(this._lastTime-this._times[0])/1e3,Ge=W.easeLinearity,ut=he.multiplyBy(Ge/Se),At=ut.distanceTo([0,0]),Kt=Math.min(W.inertiaMaxSpeed,At),Ei=ut.multiplyBy(Kt/At),nn=Kt/(W.inertiaDeceleration*Ge),Ln=Ei.multiplyBy(-nn/2).round();!Ln.x&&!Ln.y?P.fire("moveend"):(Ln=P._limitOffset(Ln,P.options.maxBounds),T(function(){P.panBy(Ln,{duration:nn,easeLinearity:Ge,noMoveStart:!0,animate:!0})}))}}});Yn.addInitHook("addHandler","dragging",G0),Yn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var eb=Zo.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(E){this._map=E,this._setPanDelta(E.options.keyboardPanDelta),this._setZoomDelta(E.options.zoomDelta)},addHooks:function(){var E=this._map._container;E.tabIndex<=0&&(E.tabIndex="0"),hn(E,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ar(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var E=document.body,P=document.documentElement,W=E.scrollTop||P.scrollTop,ne=E.scrollLeft||P.scrollLeft;this._map._container.focus(),window.scrollTo(ne,W)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(E){var P=this._panKeys={},W=this.keyCodes,ne,he;for(ne=0,he=W.left.length;ne<he;ne++)P[W.left[ne]]=[-1*E,0];for(ne=0,he=W.right.length;ne<he;ne++)P[W.right[ne]]=[E,0];for(ne=0,he=W.down.length;ne<he;ne++)P[W.down[ne]]=[0,E];for(ne=0,he=W.up.length;ne<he;ne++)P[W.up[ne]]=[0,-1*E]},_setZoomDelta:function(E){var P=this._zoomKeys={},W=this.keyCodes,ne,he;for(ne=0,he=W.zoomIn.length;ne<he;ne++)P[W.zoomIn[ne]]=E;for(ne=0,he=W.zoomOut.length;ne<he;ne++)P[W.zoomOut[ne]]=-E},_addHooks:function(){hn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ar(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(E){if(!(E.altKey||E.ctrlKey||E.metaKey)){var P=E.keyCode,W=this._map,ne;if(P in this._panKeys){if(!W._panAnim||!W._panAnim._inProgress)if(ne=this._panKeys[P],E.shiftKey&&(ne=j(ne).multiplyBy(3)),W.options.maxBounds&&(ne=W._limitOffset(j(ne),W.options.maxBounds)),W.options.worldCopyJump){var he=W.wrapLatLng(W.unproject(W.project(W.getCenter()).add(ne)));W.panTo(he)}else W.panBy(ne)}else if(P in this._zoomKeys)W.setZoom(W.getZoom()+(E.shiftKey?3:1)*this._zoomKeys[P]);else if(P===27&&W._popup&&W._popup.options.closeOnEscapeKey)W.closePopup();else return;wl(E)}}});Yn.addInitHook("addHandler","keyboard",eb),Yn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var j0=Zo.extend({addHooks:function(){hn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ar(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(E){var P=np(E),W=this._map.options.wheelDebounceTime;this._delta+=P,this._lastMousePos=this._map.mouseEventToContainerPoint(E),this._startTime||(this._startTime=+new Date);var ne=Math.max(W-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),ne),wl(E)},_performZoom:function(){var E=this._map,P=E.getZoom(),W=this._map.options.zoomSnap||0;E._stop();var ne=this._delta/(this._map.options.wheelPxPerZoomLevel*4),he=4*Math.log(2/(1+Math.exp(-Math.abs(ne))))/Math.LN2,Se=W?Math.ceil(he/W)*W:he,Ge=E._limitZoom(P+(this._delta>0?Se:-Se))-P;this._delta=0,this._startTime=null,Ge&&(E.options.scrollWheelZoom==="center"?E.setZoom(P+Ge):E.setZoomAround(this._lastMousePos,P+Ge))}});Yn.addInitHook("addHandler","scrollWheelZoom",j0);var Fv=600;Yn.mergeOptions({tapHold:mi.touchNative&&mi.safari&&mi.mobile,tapTolerance:15});var Ov=Zo.extend({addHooks:function(){hn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ar(this._map._container,"touchstart",this._onDown,this)},_onDown:function(E){if(clearTimeout(this._holdTimeout),E.touches.length===1){var P=E.touches[0];this._startPos=this._newPos=new R(P.clientX,P.clientY),this._holdTimeout=setTimeout(n(function(){this._cancel(),this._isTapValid()&&(hn(document,"touchend",Cs),hn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",P))},this),Fv),hn(document,"touchend touchcancel contextmenu",this._cancel,this),hn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function E(){Ar(document,"touchend",Cs),Ar(document,"touchend touchcancel",E)},_cancel:function(){clearTimeout(this._holdTimeout),Ar(document,"touchend touchcancel contextmenu",this._cancel,this),Ar(document,"touchmove",this._onMove,this)},_onMove:function(E){var P=E.touches[0];this._newPos=new R(P.clientX,P.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(E,P){var W=new MouseEvent(E,{bubbles:!0,cancelable:!0,view:window,screenX:P.screenX,screenY:P.screenY,clientX:P.clientX,clientY:P.clientY});W._simulated=!0,P.target.dispatchEvent(W)}});Yn.addInitHook("addHandler","tapHold",Ov),Yn.mergeOptions({touchZoom:mi.touch,bounceAtZoomLimits:!0});var tb=Zo.extend({addHooks:function(){xn(this._map._container,"leaflet-touch-zoom"),hn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){rs(this._map._container,"leaflet-touch-zoom"),Ar(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(E){var P=this._map;if(!(!E.touches||E.touches.length!==2||P._animatingZoom||this._zooming)){var W=P.mouseEventToContainerPoint(E.touches[0]),ne=P.mouseEventToContainerPoint(E.touches[1]);this._centerPoint=P.getSize()._divideBy(2),this._startLatLng=P.containerPointToLatLng(this._centerPoint),P.options.touchZoom!=="center"&&(this._pinchStartLatLng=P.containerPointToLatLng(W.add(ne)._divideBy(2))),this._startDist=W.distanceTo(ne),this._startZoom=P.getZoom(),this._moved=!1,this._zooming=!0,P._stop(),hn(document,"touchmove",this._onTouchMove,this),hn(document,"touchend touchcancel",this._onTouchEnd,this),Cs(E)}},_onTouchMove:function(E){if(!(!E.touches||E.touches.length!==2||!this._zooming)){var P=this._map,W=P.mouseEventToContainerPoint(E.touches[0]),ne=P.mouseEventToContainerPoint(E.touches[1]),he=W.distanceTo(ne)/this._startDist;if(this._zoom=P.getScaleZoom(he,this._startZoom),!P.options.bounceAtZoomLimits&&(this._zoom<P.getMinZoom()&&he<1||this._zoom>P.getMaxZoom()&&he>1)&&(this._zoom=P._limitZoom(this._zoom)),P.options.touchZoom==="center"){if(this._center=this._startLatLng,he===1)return}else{var Se=W._add(ne)._divideBy(2)._subtract(this._centerPoint);if(he===1&&Se.x===0&&Se.y===0)return;this._center=P.unproject(P.project(this._pinchStartLatLng,this._zoom).subtract(Se),this._zoom)}this._moved||(P._moveStart(!0,!1),this._moved=!0),A(this._animRequest);var Ge=n(P._move,P,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=T(Ge,this,!0),Cs(E)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,A(this._animRequest),Ar(document,"touchmove",this._onTouchMove,this),Ar(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Yn.addInitHook("addHandler","touchZoom",tb),Yn.BoxZoom=pc,Yn.DoubleClickZoom=H0,Yn.Drag=G0,Yn.Keyboard=eb,Yn.ScrollWheelZoom=j0,Yn.TapHold=Ov,Yn.TouchZoom=tb,t.Bounds=Z,t.Browser=mi,t.CRS=X,t.Canvas=qs,t.Circle=Yh,t.CircleMarker=th,t.Class=I,t.Control=uo,t.DivIcon=Kh,t.DivOverlay=cc,t.DomEvent=Qr,t.DomUtil=Rc,t.Draggable=El,t.Evented=G,t.FeatureGroup=rr,t.GeoJSON=_a,t.GridLayer=Tu,t.Handler=Zo,t.Icon=ho,t.ImageOverlay=Oc,t.LatLng=O,t.LatLngBounds=Y,t.Layer=Qi,t.LayerGroup=ur,t.LineUtil=z,t.Map=Yn,t.Marker=Xh,t.Mixin=ld,t.Path=Ls,t.Point=R,t.PolyUtil=Gh,t.Polygon=hd,t.Polyline=Js,t.Popup=$h,t.PosAnimation=Jd,t.Projection=Ee,t.Rectangle=U0,t.Renderer=dr,t.SVG=Jh,t.SVGOverlay=lc,t.TileLayer=md,t.Tooltip=pd,t.Transformation=ae,t.Util=M,t.VideoOverlay=hm,t.bind=n,t.bounds=ee,t.canvas=Ca,t.circle=B0,t.circleMarker=cm,t.control=yu,t.divIcon=pm,t.extend=e,t.featureGroup=ca,t.geoJSON=fd,t.geoJson=dm,t.gridLayer=Zh,t.icon=fo,t.imageOverlay=ua,t.latLng=F,t.latLngBounds=V,t.layerGroup=bn,t.map=rp,t.marker=lm,t.point=j,t.polygon=Rv,t.polyline=qx,t.popup=sp,t.rectangle=fc,t.setOptions=f,t.stamp=s,t.svg=kv,t.svgOverlay=fm,t.tileLayer=uc,t.tooltip=Qh,t.transformation=ue,t.version=i,t.videoOverlay=qo;var ib=window.L;t.noConflict=function(){return window.L=ib,this},window.L=t})});var u2=Lt((c2,Z8)=>{"use strict";(function(i,e){typeof c2=="object"&&typeof Z8=="object"?Z8.exports=e():typeof define=="function"&&define.amd?define("Phaser",[],e):typeof c2=="object"?c2.Phaser=e():i.Phaser=e()})(c2,()=>(()=>{var t={50792:n=>{"use strict";var a=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function u(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function l(d,f,m,p,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new u(m,p||d,g),y=s?s+f:f;return d._events[y]?d._events[y].fn?d._events[y]=[d._events[y],v]:d._events[y].push(v):(d._events[y]=v,d._eventsCount++),d}function c(d,f){--d._eventsCount===0?d._events=new o:delete d._events[f]}function h(){this._events=new o,this._eventsCount=0}h.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)a.call(m,p)&&f.push(s?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},h.prototype.listeners=function(f){var m=s?s+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,y=new Array(v);g<v;g++)y[g]=p[g].fn;return y},h.prototype.listenerCount=function(f){var m=s?s+f:f,p=this._events[m];return p?p.fn?1:p.length:0},h.prototype.emit=function(f,m,p,g,v,y){var x=s?s+f:f;if(!this._events[x])return!1;var b=this._events[x],w=arguments.length,C,_;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,m),!0;case 3:return b.fn.call(b.context,m,p),!0;case 4:return b.fn.call(b.context,m,p,g),!0;case 5:return b.fn.call(b.context,m,p,g,v),!0;case 6:return b.fn.call(b.context,m,p,g,v,y),!0}for(_=1,C=new Array(w-1);_<w;_++)C[_-1]=arguments[_];b.fn.apply(b.context,C)}else{var S=b.length,T;for(_=0;_<S;_++)switch(b[_].once&&this.removeListener(f,b[_].fn,void 0,!0),w){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,m);break;case 3:b[_].fn.call(b[_].context,m,p);break;case 4:b[_].fn.call(b[_].context,m,p,g);break;default:if(!C)for(T=1,C=new Array(w-1);T<w;T++)C[T-1]=arguments[T];b[_].fn.apply(b[_].context,C)}}return!0},h.prototype.on=function(f,m,p){return l(this,f,m,p,!1)},h.prototype.once=function(f,m,p){return l(this,f,m,p,!0)},h.prototype.removeListener=function(f,m,p,g){var v=s?s+f:f;if(!this._events[v])return this;if(!m)return c(this,v),this;var y=this._events[v];if(y.fn)y.fn===m&&(!g||y.once)&&(!p||y.context===p)&&c(this,v);else{for(var x=0,b=[],w=y.length;x<w;x++)(y[x].fn!==m||g&&!y[x].once||p&&y[x].context!==p)&&b.push(y[x]);b.length?this._events[v]=b.length===1?b[0]:b:c(this,v)}return this},h.prototype.removeAllListeners=function(f){var m;return f?(m=s?s+f:f,this._events[m]&&c(this,m)):(this._events=new o,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=s,h.EventEmitter=h,n.exports=h},11517:(n,a,s)=>{var o=s(38829),u=function(l,c,h,d){for(var f=l[0],m=1;m<l.length;m++){var p=l[m];o(p,f,c,h,d),f=p}return l};n.exports=u},80318:(n,a,s)=>{var o=s(66979),u=function(l,c,h,d,f){return o(l,"angle",c,h,d,f)};n.exports=u},60757:n=>{var a=function(s,o,u){for(var l=0;l<s.length;l++){var c=s[l];o.call(u,c)}return s};n.exports=a},69927:n=>{var a=function(s,o,u){u===void 0&&(u=0);for(var l=u;l<s.length;l++){var c=s[l],h=!0;for(var d in o)c[d]!==o[d]&&(h=!1);if(h)return c}return null};n.exports=a},32265:n=>{var a=function(s,o,u){u===void 0&&(u=0);for(var l=s.length-1;l>=u;l--){var c=s[l],h=!0;for(var d in o)c[d]!==o[d]&&(h=!1);if(h)return c}return null};n.exports=a},94420:(n,a,s)=>{var o=s(11879),u=s(60461),l=s(95540),c=s(29747),h=s(41481),d=new h({sys:{queueDepthSort:c,events:{once:c}}},0,0,1,1).setOrigin(0,0),f=function(m,p){p===void 0&&(p={});var g=p.hasOwnProperty("width"),v=p.hasOwnProperty("height"),y=l(p,"width",-1),x=l(p,"height",-1),b=l(p,"cellWidth",1),w=l(p,"cellHeight",b),C=l(p,"position",u.TOP_LEFT),_=l(p,"x",0),S=l(p,"y",0),T=0,A=0,M=y*b,I=x*w;d.setPosition(_,S),d.setSize(b,w);for(var D=0;D<m.length;D++)if(o(m[D],d,C),g&&y===-1)d.x+=b;else if(v&&x===-1)d.y+=w;else if(v&&!g){if(A+=w,d.y+=w,A===I&&(A=0,T+=b,d.y=S,d.x+=b,T===M))break}else if(T+=b,d.x+=b,T===M&&(T=0,A+=w,d.x=_,d.y+=w,A===I))break;return m};n.exports=f},41721:(n,a,s)=>{var o=s(66979),u=function(l,c,h,d,f){return o(l,"alpha",c,h,d,f)};n.exports=u},67285:(n,a,s)=>{var o=s(66979),u=function(l,c,h,d,f){return o(l,"x",c,h,d,f)};n.exports=u},9074:(n,a,s)=>{var o=s(66979),u=function(l,c,h,d,f,m,p){return h==null&&(h=c),o(l,"x",c,d,m,p),o(l,"y",h,f,m,p)};n.exports=u},75222:(n,a,s)=>{var o=s(66979),u=function(l,c,h,d,f){return o(l,"y",c,h,d,f)};n.exports=u},22983:n=>{var a=function(s,o,u,l){u===void 0&&(u=0),l===void 0&&(l=6.28);for(var c=u,h=(l-u)/s.length,d=o.x,f=o.y,m=o.radius,p=0;p<s.length;p++)s[p].x=d+m*Math.cos(c),s[p].y=f+m*Math.sin(c),c+=h;return s};n.exports=a},95253:n=>{var a=function(s,o,u,l){u===void 0&&(u=0),l===void 0&&(l=6.28);for(var c=u,h=(l-u)/s.length,d=o.width/2,f=o.height/2,m=0;m<s.length;m++)s[m].x=o.x+d*Math.cos(c),s[m].y=o.y+f*Math.sin(c),c+=h;return s};n.exports=a},88505:(n,a,s)=>{var o=s(15258),u=s(26708),l=function(c,h,d){var f;d?f=u(h,d,c.length):f=o(h,c.length);for(var m=0;m<c.length;m++){var p=c[m],g=f[m];p.x=g.x,p.y=g.y}return c};n.exports=l},41346:(n,a,s)=>{var o=s(14649),u=s(86003),l=s(49498),c=function(h,d,f){f===void 0&&(f=0);var m=o(d,!1,h.length);f>0?u(m,f):f<0&&l(m,Math.abs(f));for(var p=0;p<h.length;p++)h[p].x=m[p].x,h[p].y=m[p].y;return h};n.exports=c},11575:(n,a,s)=>{var o=s(84993),u=function(l,c,h){var d=o({x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2},h),f=o({x1:c.x2,y1:c.y2,x2:c.x3,y2:c.y3},h),m=o({x1:c.x3,y1:c.y3,x2:c.x1,y2:c.y1},h);d.pop(),f.pop(),m.pop(),d=d.concat(f,m);for(var p=d.length/l.length,g=0,v=0;v<l.length;v++){var y=l[v],x=d[Math.floor(g)];y.x=x.x,y.y=x.y,g+=p}return l};n.exports=u},29953:n=>{var a=function(s,o,u){for(var l=0;l<s.length;l++){var c=s[l];c.anims&&c.anims.play(o,u)}return s};n.exports=a},66979:n=>{var a=function(s,o,u,l,c,h){l===void 0&&(l=0),c===void 0&&(c=0),h===void 0&&(h=1);var d,f=0,m=s.length;if(h===1)for(d=c;d<m;d++)s[d][o]+=u+f*l,f++;else for(d=c;d>=0;d--)s[d][o]+=u+f*l,f++;return s};n.exports=a},43967:n=>{var a=function(s,o,u,l,c,h){l===void 0&&(l=0),c===void 0&&(c=0),h===void 0&&(h=1);var d,f=0,m=s.length;if(h===1)for(d=c;d<m;d++)s[d][o]=u+f*l,f++;else for(d=c;d>=0;d--)s[d][o]=u+f*l,f++;return s};n.exports=a},88926:(n,a,s)=>{var o=s(28176),u=function(l,c){for(var h=0;h<l.length;h++)o(c,l[h]);return l};n.exports=u},33286:(n,a,s)=>{var o=s(24820),u=function(l,c){for(var h=0;h<l.length;h++)o(c,l[h]);return l};n.exports=u},96e3:(n,a,s)=>{var o=s(65822),u=function(l,c){for(var h=0;h<l.length;h++)o(c,l[h]);return l};n.exports=u},28789:(n,a,s)=>{var o=s(26597),u=function(l,c){for(var h=0;h<l.length;h++)o(c,l[h]);return l};n.exports=u},97154:(n,a,s)=>{var o=s(90260),u=function(l,c){for(var h=0;h<l.length;h++)o(c,l[h]);return l};n.exports=u},20510:(n,a,s)=>{var o=s(66979),u=function(l,c,h,d,f){return o(l,"rotation",c,h,d,f)};n.exports=u},91051:(n,a,s)=>{var o=s(1163),u=s(20339),l=function(c,h,d){for(var f=h.x,m=h.y,p=0;p<c.length;p++){var g=c[p];o(g,f,m,d,Math.max(1,u(g.x,g.y,f,m)))}return c};n.exports=l},76332:(n,a,s)=>{var o=s(1163),u=function(l,c,h,d){var f=c.x,m=c.y;if(d===0)return l;for(var p=0;p<l.length;p++)o(l[p],f,m,h,d);return l};n.exports=u},61619:(n,a,s)=>{var o=s(66979),u=function(l,c,h,d,f){return o(l,"scaleX",c,h,d,f)};n.exports=u},94868:(n,a,s)=>{var o=s(66979),u=function(l,c,h,d,f,m,p){return h==null&&(h=c),o(l,"scaleX",c,d,m,p),o(l,"scaleY",h,f,m,p)};n.exports=u},95532:(n,a,s)=>{var o=s(66979),u=function(l,c,h,d,f){return o(l,"scaleY",c,h,d,f)};n.exports=u},8689:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d,f){return o(l,"alpha",c,h,d,f)};n.exports=u},2645:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d){return o(l,"blendMode",c,0,h,d)};n.exports=u},32372:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d,f){return o(l,"depth",c,h,d,f)};n.exports=u},85373:n=>{var a=function(s,o,u){for(var l=0;l<s.length;l++)s[l].setInteractive(o,u);return s};n.exports=a},81583:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d,f,m,p){return h==null&&(h=c),o(l,"originX",c,d,m,p),o(l,"originY",h,f,m,p),l.forEach(function(g){g.updateDisplayOrigin()}),l};n.exports=u},79939:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d,f){return o(l,"rotation",c,h,d,f)};n.exports=u},2699:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d,f,m,p){return h==null&&(h=c),o(l,"scaleX",c,d,m,p),o(l,"scaleY",h,f,m,p)};n.exports=u},98739:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d,f){return o(l,"scaleX",c,h,d,f)};n.exports=u},98476:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d,f){return o(l,"scaleY",c,h,d,f)};n.exports=u},6207:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d,f,m,p){return h==null&&(h=c),o(l,"scrollFactorX",c,d,m,p),o(l,"scrollFactorY",h,f,m,p)};n.exports=u},6607:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d,f){return o(l,"scrollFactorX",c,h,d,f)};n.exports=u},72248:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d,f){return o(l,"scrollFactorY",c,h,d,f)};n.exports=u},14036:n=>{var a=function(s,o,u,l,c){for(var h=0;h<s.length;h++)s[h].setTint(o,u,l,c);return s};n.exports=a},50159:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d){return o(l,"visible",c,0,h,d)};n.exports=u},77597:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d,f){return o(l,"x",c,h,d,f)};n.exports=u},83194:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d,f,m,p){return h==null&&(h=c),o(l,"x",c,d,m,p),o(l,"y",h,f,m,p)};n.exports=u},67678:(n,a,s)=>{var o=s(43967),u=function(l,c,h,d,f){return o(l,"y",c,h,d,f)};n.exports=u},35850:(n,a,s)=>{var o=s(26099),u=function(l,c,h,d,f){d===void 0&&(d=0),f===void 0&&(f=new o);var m,p,g=l.length;if(g===1)m=l[0].x,p=l[0].y,l[0].x=c,l[0].y=h;else{var v=1,y=0;d===0&&(y=g-1,v=g-2),m=l[y].x,p=l[y].y,l[y].x=c,l[y].y=h;for(var x=0;x<g;x++)if(!(v>=g||v===-1)){var b=l[v],w=b.x,C=b.y;b.x=m,b.y=p,m=w,p=C,d===0?v--:v++}}return f.x=m,f.y=p,f};n.exports=u},8628:(n,a,s)=>{var o=s(33680),u=function(l){return o(l)};n.exports=u},21837:(n,a,s)=>{var o=s(7602),u=function(l,c,h,d,f){f===void 0&&(f=!1);var m=Math.abs(d-h)/l.length,p;if(f)for(p=0;p<l.length;p++)l[p][c]+=o(p*m,h,d);else for(p=0;p<l.length;p++)l[p][c]=o(p*m,h,d);return l};n.exports=u},21910:(n,a,s)=>{var o=s(54261),u=function(l,c,h,d,f){f===void 0&&(f=!1);var m=Math.abs(d-h)/l.length,p;if(f)for(p=0;p<l.length;p++)l[p][c]+=o(p*m,h,d);else for(p=0;p<l.length;p++)l[p][c]=o(p*m,h,d);return l};n.exports=u},62054:n=>{var a=function(s,o,u,l,c){if(c===void 0&&(c=!1),s.length===0)return s;if(s.length===1)return c?s[0][o]+=(l+u)/2:s[0][o]=(l+u)/2,s;var h=Math.abs(l-u)/(s.length-1),d;if(c)for(d=0;d<s.length;d++)s[d][o]+=d*h+u;else for(d=0;d<s.length;d++)s[d][o]=d*h+u;return s};n.exports=a},79815:n=>{var a=function(s){for(var o=0;o<s.length;o++)s[o].visible=!s[o].visible;return s};n.exports=a},39665:(n,a,s)=>{var o=s(15994),u=function(l,c,h){h===void 0&&(h=0);for(var d=0;d<l.length;d++){var f=l[d];f.x=o(f.x,c.left-h,c.right+h),f.y=o(f.y,c.top-h,c.bottom+h)}return l};n.exports=u},61061:(n,a,s)=>{n.exports={AlignTo:s(11517),Angle:s(80318),Call:s(60757),GetFirst:s(69927),GetLast:s(32265),GridAlign:s(94420),IncAlpha:s(41721),IncX:s(67285),IncXY:s(9074),IncY:s(75222),PlaceOnCircle:s(22983),PlaceOnEllipse:s(95253),PlaceOnLine:s(88505),PlaceOnRectangle:s(41346),PlaceOnTriangle:s(11575),PlayAnimation:s(29953),PropertyValueInc:s(66979),PropertyValueSet:s(43967),RandomCircle:s(88926),RandomEllipse:s(33286),RandomLine:s(96e3),RandomRectangle:s(28789),RandomTriangle:s(97154),Rotate:s(20510),RotateAround:s(91051),RotateAroundDistance:s(76332),ScaleX:s(61619),ScaleXY:s(94868),ScaleY:s(95532),SetAlpha:s(8689),SetBlendMode:s(2645),SetDepth:s(32372),SetHitArea:s(85373),SetOrigin:s(81583),SetRotation:s(79939),SetScale:s(2699),SetScaleX:s(98739),SetScaleY:s(98476),SetScrollFactor:s(6207),SetScrollFactorX:s(6607),SetScrollFactorY:s(72248),SetTint:s(14036),SetVisible:s(50159),SetX:s(77597),SetXY:s(83194),SetY:s(67678),ShiftPosition:s(35850),Shuffle:s(8628),SmootherStep:s(21910),SmoothStep:s(21837),Spread:s(62054),ToggleVisible:s(79815),WrapInRectangle:s(39665)}},42099:(n,a,s)=>{var o=s(45319),u=s(83419),l=s(74943),c=s(81957),h=s(41138),d=s(35154),f=s(90126),m=new u({initialize:function(g,v,y){this.manager=g,this.key=v,this.type="frame",this.frames=this.getFrames(g.textureManager,d(y,"frames",[]),d(y,"defaultTextureKey",null),d(y,"sortFrames",!0)),this.frameRate=d(y,"frameRate",null),this.duration=d(y,"duration",null),this.msPerFrame,this.skipMissedFrames=d(y,"skipMissedFrames",!0),this.delay=d(y,"delay",0),this.repeat=d(y,"repeat",0),this.repeatDelay=d(y,"repeatDelay",0),this.yoyo=d(y,"yoyo",!1),this.showBeforeDelay=d(y,"showBeforeDelay",!1),this.showOnStart=d(y,"showOnStart",!1),this.hideOnComplete=d(y,"hideOnComplete",!1),this.randomFrame=d(y,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(l.PAUSE_ALL,this.pause,this),this.manager.on(l.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(p,g,v,y){v===null&&y===null?(p.frameRate=24,p.duration=24/g*1e3):v&&y===null?(p.duration=v,p.frameRate=g/(v/1e3)):(p.frameRate=y,p.duration=g/y*1e3),p.msPerFrame=1e3/p.frameRate},addFrame:function(p){return this.addFrameAt(this.frames.length,p)},addFrameAt:function(p,g){var v=this.getFrames(this.manager.textureManager,g);if(v.length>0){if(p===0)this.frames=v.concat(this.frames);else if(p===this.frames.length)this.frames=this.frames.concat(v);else{var y=this.frames.slice(0,p),x=this.frames.slice(p);this.frames=y.concat(v,x)}this.updateFrameSequence()}return this},checkFrame:function(p){return p>=0&&p<this.frames.length},getFirstTick:function(p){p.accumulator=0,p.nextTick=p.currentFrame.duration?p.currentFrame.duration:p.msPerFrame},getFrameAt:function(p){return this.frames[p]},getFrames:function(p,g,v,y){y===void 0&&(y=!0);var x=[],b,w,C=1,_,S;if(typeof g=="string"){if(S=g,!p.exists(S))return console.warn('Texture "%s" not found',S),x;var T=p.get(S),A=T.getFrameNames();y&&f(A),g=[],A.forEach(function(R){g.push({key:S,frame:R})})}if(!Array.isArray(g)||g.length===0)return x;for(_=0;_<g.length;_++){var M=g[_],I=d(M,"key",v);if(I){var D=d(M,"frame",0),k=p.getFrame(I,D);if(!k){console.warn('Texture "%s" not found',I);continue}w=new h(I,D,C,k),w.duration=d(M,"duration",0),w.isFirst=!b,b&&(b.nextFrame=w,w.prevFrame=b),x.push(w),b=w,C++}}if(x.length>0){w.isLast=!0,w.nextFrame=x[0],x[0].prevFrame=w;var G=1/(x.length-1);for(_=0;_<x.length;_++)x[_].progress=_*G}return x},getNextTick:function(p){p.accumulator-=p.nextTick,p.nextTick=p.currentFrame.duration?p.currentFrame.duration:p.msPerFrame},getFrameByProgress:function(p){return p=o(p,0,1),c(p,this.frames,"progress")},nextFrame:function(p){var g=p.currentFrame;g.isLast?p.yoyo?this.handleYoyoFrame(p,!1):p.repeatCounter>0?p.inReverse&&p.forward?p.forward=!1:this.repeatAnimation(p):p.complete():this.updateAndGetNextTick(p,g.nextFrame)},handleYoyoFrame:function(p,g){if(g||(g=!1),p.inReverse===!g&&p.repeatCounter>0){(p.repeatDelay===0||p.pendingRepeat)&&(p.forward=g),this.repeatAnimation(p);return}if(p.inReverse!==g&&p.repeatCounter===0){p.complete();return}p.forward=g;var v=g?p.currentFrame.nextFrame:p.currentFrame.prevFrame;this.updateAndGetNextTick(p,v)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(p){var g=p.currentFrame;g.isFirst?p.yoyo?this.handleYoyoFrame(p,!0):p.repeatCounter>0?p.inReverse&&!p.forward?this.repeatAnimation(p):(p.forward=!0,this.repeatAnimation(p)):p.complete():this.updateAndGetNextTick(p,g.prevFrame)},updateAndGetNextTick:function(p,g){p.setCurrentFrame(g),this.getNextTick(p)},removeFrame:function(p){var g=this.frames.indexOf(p);return g!==-1&&this.removeFrameAt(g),this},removeFrameAt:function(p){return this.frames.splice(p,1),this.updateFrameSequence(),this},repeatAnimation:function(p){if(p._pendingStop===2){if(p._pendingStopValue===0)return p.stop();p._pendingStopValue--}p.repeatDelay>0&&!p.pendingRepeat?(p.pendingRepeat=!0,p.accumulator-=p.nextTick,p.nextTick+=p.repeatDelay):(p.repeatCounter--,p.forward?p.setCurrentFrame(p.currentFrame.nextFrame):p.setCurrentFrame(p.currentFrame.prevFrame),p.isPlaying&&(this.getNextTick(p),p.handleRepeat()))},toJSON:function(){var p={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(g){p.frames.push(g.toJSON())}),p},updateFrameSequence:function(){for(var p=this.frames.length,g=1/(p-1),v,y=0;y<p;y++)v=this.frames[y],v.index=y+1,v.isFirst=!1,v.isLast=!1,v.progress=y*g,y===0?(v.isFirst=!0,p===1?(v.isLast=!0,v.nextFrame=v,v.prevFrame=v):(v.isLast=!1,v.prevFrame=this.frames[p-1],v.nextFrame=this.frames[y+1])):y===p-1&&p>1?(v.isLast=!0,v.prevFrame=this.frames[p-2],v.nextFrame=this.frames[0]):p>1&&(v.prevFrame=this.frames[y-1],v.nextFrame=this.frames[y+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(l.PAUSE_ALL,this.pause,this),this.manager.off(l.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var p=0;p<this.frames.length;p++)this.frames[p].destroy();this.frames=[],this.manager=null}});n.exports=m},41138:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h,d,f,m){m===void 0&&(m=!1),this.textureKey=c,this.textureFrame=h,this.index=d,this.frame=f,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=m},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});n.exports=u},60848:(n,a,s)=>{var o=s(42099),u=s(83419),l=s(90330),c=s(50792),h=s(74943),d=s(8443),f=s(95540),m=s(35154),p=s(36383),g=s(20283),v=s(41836),y=new u({Extends:c,initialize:function(b){c.call(this),this.game=b,this.textureManager=null,this.globalTimeScale=1,this.anims=new l,this.mixes=new l,this.paused=!1,this.name="AnimationManager",b.events.once(d.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(d.DESTROY,this.destroy,this)},addMix:function(x,b,w){var C=this.anims,_=this.mixes,S=typeof x=="string"?x:x.key,T=typeof b=="string"?b:b.key;if(C.has(S)&&C.has(T)){var A=_.get(S);A||(A={}),A[T]=w,_.set(S,A)}return this},removeMix:function(x,b){var w=this.mixes,C=typeof x=="string"?x:x.key,_=w.get(C);if(_)if(b){var S=typeof b=="string"?b:b.key;_.hasOwnProperty(S)&&delete _[S]}else b||w.delete(C);return this},getMix:function(x,b){var w=this.mixes,C=typeof x=="string"?x:x.key,_=typeof b=="string"?b:b.key,S=w.get(C);return S&&S.hasOwnProperty(_)?S[_]:0},add:function(x,b){return this.anims.has(x)?(console.warn("Animation key exists: "+x),this):(b.key=x,this.anims.set(x,b),this.emit(h.ADD_ANIMATION,x,b),this)},exists:function(x){return this.anims.has(x)},createFromAseprite:function(x,b,w){var C=[],_=this.game.cache.json.get(x);if(!_)return console.warn("No Aseprite data found for: "+x),C;var S=this,T=m(_,"meta",null),A=m(_,"frames",null);if(T&&A){var M=m(T,"frameTags",[]);M.forEach(function(I){var D=[],k=f(I,"name",null),G=f(I,"from",0),R=f(I,"to",0),H=f(I,"direction","forward");if(k&&(!b||b&&b.indexOf(k)>-1)){for(var j=0,Z=G;Z<=R;Z++){var ee=Z.toString(),Y=A[ee];if(Y){var V=f(Y,"duration",p.MAX_SAFE_INTEGER);D.push({key:x,frame:ee,duration:V}),j+=V}}H==="reverse"&&(D=D.reverse());var O={key:k,frames:D,duration:j,yoyo:H==="pingpong"},F;w?w.anims&&(F=w.anims.create(O)):F=S.create(O),F&&C.push(F)}})}return C},create:function(x){var b=x.key,w=!1;return b&&(w=this.get(b),w?console.warn("AnimationManager key already exists: "+b):(w=new o(this,b,x),this.anims.set(b,w),this.emit(h.ADD_ANIMATION,b,w))),w},fromJSON:function(x,b){b===void 0&&(b=!1),b&&this.anims.clear(),typeof x=="string"&&(x=JSON.parse(x));var w=[];if(x.hasOwnProperty("anims")&&Array.isArray(x.anims)){for(var C=0;C<x.anims.length;C++)w.push(this.create(x.anims[C]));x.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=x.globalTimeScale)}else x.hasOwnProperty("key")&&x.type==="frame"&&w.push(this.create(x));return w},generateFrameNames:function(x,b){var w=m(b,"prefix",""),C=m(b,"start",0),_=m(b,"end",0),S=m(b,"suffix",""),T=m(b,"zeroPad",0),A=m(b,"outputArray",[]),M=m(b,"frames",!1);if(!this.textureManager.exists(x))return console.warn('Texture "%s" not found',x),A;var I=this.textureManager.get(x);if(!I)return A;var D;if(b)for(M||(M=g(C,_)),D=0;D<M.length;D++){var k=w+v(M[D],T,"0",1)+S;I.has(k)?A.push({key:x,frame:k}):console.warn('Frame "%s" not found in texture "%s"',k,x)}else for(M=I.getFrameNames(),D=0;D<M.length;D++)A.push({key:x,frame:M[D]});return A},generateFrameNumbers:function(x,b){var w=m(b,"start",0),C=m(b,"end",-1),_=m(b,"first",!1),S=m(b,"outputArray",[]),T=m(b,"frames",!1);if(!this.textureManager.exists(x))return console.warn('Texture "%s" not found',x),S;var A=this.textureManager.get(x);if(!A)return S;_&&A.has(_)&&S.push({key:x,frame:_}),T||(C===-1&&(C=A.frameTotal-2),T=g(w,C));for(var M=0;M<T.length;M++){var I=T[M];A.has(I)?S.push({key:x,frame:I}):console.warn('Frame "%s" not found in texture "%s"',I,x)}return S},get:function(x){return this.anims.get(x)},getAnimsFromTexture:function(x){for(var b=this.textureManager.get(x),w=b.key,C=this.anims.getArray(),_=[],S=0;S<C.length;S++)for(var T=C[S],A=T.frames,M=0;M<A.length;M++)if(A[M].textureKey===w){_.push(T.key);break}return _},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(h.PAUSE_ALL)),this},play:function(x,b){Array.isArray(b)||(b=[b]);for(var w=0;w<b.length;w++)b[w].anims.play(x);return this},staggerPlay:function(x,b,w,C){w===void 0&&(w=0),C===void 0&&(C=!0),Array.isArray(b)||(b=[b]);var _=b.length;C||_--;for(var S=0;S<b.length;S++){var T=w<0?Math.abs(w)*(_-S):w*S;b[S].anims.playAfterDelay(x,T)}return this},remove:function(x){var b=this.get(x);return b&&(this.emit(h.REMOVE_ANIMATION,x,b),this.anims.delete(x),this.removeMix(x)),b},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(h.RESUME_ALL)),this},toJSON:function(x){var b={anims:[],globalTimeScale:this.globalTimeScale};return x!==void 0&&x!==""?b.anims.push(this.anims.get(x).toJSON()):this.anims.each(function(w,C){b.anims.push(C.toJSON())}),b},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});n.exports=y},9674:(n,a,s)=>{var o=s(42099),u=s(30976),l=s(83419),c=s(90330),h=s(74943),d=s(95540),f=new l({initialize:function(p){this.parent=p,this.animationManager=p.scene.sys.anims,this.animationManager.on(h.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(m){var p=this.parent;if(m===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,p;Array.isArray(m)||(m=[m]);for(var g=0;g<m.length;g++){var v=m[g];this.nextAnim?this.nextAnimsQueue.push(v):this.nextAnim=v}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(m){this.isPlaying&&this.stop();var p=this.animationManager,g=typeof m=="string"?m:d(m,"key",null),v=this.exists(g)?this.get(g):p.get(g);if(!v)console.warn("Missing animation: "+g);else{this.currentAnim=v;var y=v.getTotalFrames(),x=d(m,"frameRate",v.frameRate),b=d(m,"duration",v.duration);v.calculateDuration(this,y,b,x),this.delay=d(m,"delay",v.delay),this.repeat=d(m,"repeat",v.repeat),this.repeatDelay=d(m,"repeatDelay",v.repeatDelay),this.yoyo=d(m,"yoyo",v.yoyo),this.showBeforeDelay=d(m,"showBeforeDelay",v.showBeforeDelay),this.showOnStart=d(m,"showOnStart",v.showOnStart),this.hideOnComplete=d(m,"hideOnComplete",v.hideOnComplete),this.skipMissedFrames=d(m,"skipMissedFrames",v.skipMissedFrames),this.randomFrame=d(m,"randomFrame",v.randomFrame),this.timeScale=d(m,"timeScale",this.timeScale);var w=d(m,"startFrame",0);w>y&&(w=0),this.randomFrame&&(w=u(0,y-1));var C=v.frames[w];w===0&&!this.forward&&(C=v.getLastFrame()),this.currentFrame=C}return this.parent},pause:function(m){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),m!==void 0&&this.setCurrentFrame(m),this.parent},resume:function(m){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),m!==void 0&&this.setCurrentFrame(m),this.parent},playAfterDelay:function(m,p){if(!this.isPlaying)this.delayCounter=p,this.play(m,!0);else{var g=this.nextAnim,v=this.nextAnimsQueue;g&&v.unshift(g),this.nextAnim=m,this._pendingStop=1,this._pendingStopValue=p}return this.parent},playAfterRepeat:function(m,p){if(p===void 0&&(p=1),!this.isPlaying)this.play(m);else{var g=this.nextAnim,v=this.nextAnimsQueue;g&&v.unshift(g),this.repeatCounter!==-1&&p>this.repeatCounter&&(p=this.repeatCounter),this.nextAnim=m,this._pendingStop=2,this._pendingStopValue=p}return this.parent},play:function(m,p){p===void 0&&(p=!1);var g=this.currentAnim,v=this.parent,y=typeof m=="string"?m:m.key;if(p&&this.isPlaying&&g.key===y)return v;if(g&&this.isPlaying){var x=this.animationManager.getMix(g.key,m);if(x>0)return this.playAfterDelay(m,x)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(m)},playReverse:function(m,p){p===void 0&&(p=!1);var g=typeof m=="string"?m:m.key;return p&&this.isPlaying&&this.currentAnim.key===g?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(m))},startAnimation:function(m){this.load(m);var p=this.currentAnim,g=this.parent;return p&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,p.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),g},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(h.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(h.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(h.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(h.ANIMATION_COMPLETE,h.ANIMATION_COMPLETE_KEY)},emitEvents:function(m,p){var g=this.currentAnim;if(g){var v=this.currentFrame,y=this.parent,x=v.textureFrame;y.emit(m,g,v,y,x),p&&y.emit(p+g.key,g,v,y,x)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var m=this.currentFrame;if(!m)return 0;var p=m.progress;return this.inReverse&&(p*=-1),p},setProgress:function(m){return this.forward||(m=1-m),this.setCurrentFrame(this.currentAnim.getFrameByProgress(m)),this.parent},setRepeat:function(m){return this.repeatCounter=m===-1?Number.MAX_VALUE:m,this.parent},globalRemove:function(m,p){p===void 0&&(p=this.currentAnim),this.isPlaying&&p.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(m,p){m===void 0&&(m=!1),p===void 0&&(p=!1);var g=this.currentAnim,v=this.parent;return g?(p&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),g.getFirstTick(this),this.emitEvents(h.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!m,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(g.frames[0]),this.parent):v},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var m=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(m)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var m=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(m)}return this.parent},stopAfterDelay:function(m){return this._pendingStop=1,this._pendingStopValue=m,this.parent},stopAfterRepeat:function(m){return m===void 0&&(m=1),this.repeatCounter!==-1&&m>this.repeatCounter&&(m=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=m,this.parent},stopOnFrame:function(m){return this._pendingStop=3,this._pendingStopValue=m,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(m,p){var g=this.currentAnim;if(!(!this.isPlaying||!g||g.paused)){if(this.accumulator+=p*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=p,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?g.nextFrame(this):g.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var v=0;do this.forward?g.nextFrame(this):g.previousFrame(this),v++;while(this.isPlaying&&this.accumulator>this.nextTick&&v<60)}}},setCurrentFrame:function(m){var p=this.parent;return this.currentFrame=m,p.texture=m.frame.texture,p.frame=m.frame,p.isCropped&&p.frame.updateCropUVs(p._crop,p.flipX,p.flipY),m.setAlpha&&(p.alpha=m.alpha),p.setSizeToFrame(),p._originComponent&&(m.frame.customPivot?p.setOrigin(m.frame.pivotX,m.frame.pivotY):p.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(h.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===m&&this.stop()),p},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(m){return this.anims?this.anims.get(m):null},exists:function(m){return this.anims?this.anims.has(m):!1},create:function(m){var p=m.key,g=!1;return p&&(g=this.get(p),g?console.warn("Animation key already exists: "+p):(g=new o(this,p,m),this.anims||(this.anims=new c),this.anims.set(p,g))),g},createFromAseprite:function(m,p){return this.animationManager.createFromAseprite(m,p,this.parent)},generateFrameNames:function(m,p){return this.animationManager.generateFrameNames(m,p)},generateFrameNumbers:function(m,p){return this.animationManager.generateFrameNumbers(m,p)},remove:function(m){var p=this.get(m);return p&&(this.currentAnim===p&&this.stop(),this.anims.delete(m)),p},destroy:function(){this.animationManager.off(h.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});n.exports=f},57090:n=>{n.exports="add"},25312:n=>{n.exports="animationcomplete"},89580:n=>{n.exports="animationcomplete-"},52860:n=>{n.exports="animationrepeat"},63850:n=>{n.exports="animationrestart"},99085:n=>{n.exports="animationstart"},28087:n=>{n.exports="animationstop"},1794:n=>{n.exports="animationupdate"},52562:n=>{n.exports="pauseall"},57953:n=>{n.exports="remove"},68339:n=>{n.exports="resumeall"},74943:(n,a,s)=>{n.exports={ADD_ANIMATION:s(57090),ANIMATION_COMPLETE:s(25312),ANIMATION_COMPLETE_KEY:s(89580),ANIMATION_REPEAT:s(52860),ANIMATION_RESTART:s(63850),ANIMATION_START:s(99085),ANIMATION_STOP:s(28087),ANIMATION_UPDATE:s(1794),PAUSE_ALL:s(52562),REMOVE_ANIMATION:s(57953),RESUME_ALL:s(68339)}},60421:(n,a,s)=>{n.exports={Animation:s(42099),AnimationFrame:s(41138),AnimationManager:s(60848),AnimationState:s(9674),Events:s(74943)}},2161:(n,a,s)=>{var o=s(83419),u=s(90330),l=s(50792),c=s(24736),h=new o({initialize:function(){this.entries=new u,this.events=new l},add:function(d,f){return this.entries.set(d,f),this.events.emit(c.ADD,this,d,f),this},has:function(d){return this.entries.has(d)},exists:function(d){return this.entries.has(d)},get:function(d){return this.entries.get(d)},remove:function(d){var f=this.get(d);return f&&(this.entries.delete(d),this.events.emit(c.REMOVE,this,d,f.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});n.exports=h},24047:(n,a,s)=>{var o=s(2161),u=s(83419),l=s(8443),c=new u({initialize:function(d){this.game=d,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(l.DESTROY,this.destroy,this)},addCustom:function(h){return this.custom.hasOwnProperty(h)||(this.custom[h]=new o),this.custom[h]},destroy:function(){for(var h=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],d=0;d<h.length;d++)this[h[d]].destroy(),this[h[d]]=null;for(var f in this.custom)this.custom[f].destroy();this.custom=null,this.game=null}});n.exports=c},51464:n=>{n.exports="add"},59261:n=>{n.exports="remove"},24736:(n,a,s)=>{n.exports={ADD:s(51464),REMOVE:s(59261)}},83388:(n,a,s)=>{n.exports={BaseCache:s(2161),CacheManager:s(24047),Events:s(24736)}},71911:(n,a,s)=>{var o=s(83419),u=s(31401),l=s(39506),c=s(50792),h=s(19715),d=s(87841),f=s(61340),m=s(80333),p=s(26099),g=new o({Extends:c,Mixins:[u.AlphaSingle,u.Visible],initialize:function(y,x,b,w){y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=0),c.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new d,this.dirty=!0,this._x=y,this._y=x,this._width=b,this._height=w,this._bounds=new d,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new f,this.transparent=!0,this.backgroundColor=m("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new p(b/2,w/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(v){this.renderList.push(v)},setOrigin:function(v,y){return v===void 0&&(v=.5),y===void 0&&(y=v),this.originX=v,this.originY=y,this},getScroll:function(v,y,x){x===void 0&&(x=new p);var b=this.width*.5,w=this.height*.5;return x.x=v-b,x.y=y-w,this.useBounds&&(x.x=this.clampX(x.x),x.y=this.clampY(x.y)),x},centerOnX:function(v){var y=this.width*.5;return this.midPoint.x=v,this.scrollX=v-y,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(v){var y=this.height*.5;return this.midPoint.y=v,this.scrollY=v-y,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(v,y){return this.centerOnX(v),this.centerOnY(y),this},centerToBounds:function(){if(this.useBounds){var v=this._bounds,y=this.width*.5,x=this.height*.5;this.midPoint.set(v.centerX,v.centerY),this.scrollX=v.centerX-y,this.scrollY=v.centerY-x}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(v){if(this.disableCull)return v;var y=this.matrix.matrix,x=y[0],b=y[1],w=y[2],C=y[3],_=x*C-b*w;if(!_)return v;var S=y[4],T=y[5],A=this.scrollX,M=this.scrollY,I=this.width,D=this.height,k=this.y,G=k+D,R=this.x,H=R+I,j=this.culledObjects,Z=v.length;_=1/_,j.length=0;for(var ee=0;ee<Z;++ee){var Y=v[ee];if(!Y.hasOwnProperty("width")||Y.parentContainer){j.push(Y);continue}var V=Y.width,O=Y.height,F=Y.x-A*Y.scrollFactorX-V*Y.originX,X=Y.y-M*Y.scrollFactorY-O*Y.originY,ie=F*x+X*w+S,re=F*b+X*C+T,q=(F+V)*x+(X+O)*w+S,ae=(F+V)*b+(X+O)*C+T;q>R&&ie<H&&ae>k&&re<G&&j.push(Y)}return j},getWorldPoint:function(v,y,x){x===void 0&&(x=new p);var b=this.matrix.matrix,w=b[0],C=b[1],_=b[2],S=b[3],T=b[4],A=b[5],M=w*S-C*_;if(!M)return x.x=v,x.y=y,x;M=1/M;var I=S*M,D=-C*M,k=-_*M,G=w*M,R=(_*A-S*T)*M,H=(C*T-w*A)*M,j=Math.cos(this.rotation),Z=Math.sin(this.rotation),ee=this.zoomX,Y=this.zoomY,V=this.scrollX,O=this.scrollY,F=v+(V*j-O*Z)*ee,X=y+(V*Z+O*j)*Y;return x.x=F*I+X*k+R,x.y=F*D+X*G+H,x},ignore:function(v){var y=this.id;Array.isArray(v)||(v=[v]);for(var x=0;x<v.length;x++){var b=v[x];Array.isArray(b)?this.ignore(b):b.isParent?this.ignore(b.getChildren()):b.cameraFilter|=y}return this},clampX:function(v){var y=this._bounds,x=this.displayWidth,b=y.x+(x-this.width)/2,w=Math.max(b,b+y.width-x);return v<b?v=b:v>w&&(v=w),v},clampY:function(v){var y=this._bounds,x=this.displayHeight,b=y.y+(x-this.height)/2,w=Math.max(b,b+y.height-x);return v<b?v=b:v>w&&(v=w),v},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(v){return v===void 0&&(v=0),this.rotation=l(v),this},setBackgroundColor:function(v){return v===void 0&&(v="rgba(0,0,0,0)"),this.backgroundColor=m(v),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(v,y,x,b,w){return w===void 0&&(w=!1),this._bounds.setTo(v,y,x,b),this.dirty=!0,this.useBounds=!0,w?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(v){v===void 0&&(v=new d);var y=this._bounds;return v.setTo(y.x,y.y,y.width,y.height),v},setName:function(v){return v===void 0&&(v=""),this.name=v,this},setPosition:function(v,y){return y===void 0&&(y=v),this.x=v,this.y=y,this},setRotation:function(v){return v===void 0&&(v=0),this.rotation=v,this},setRoundPixels:function(v){return this.roundPixels=v,this},setScene:function(v,y){y===void 0&&(y=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=v,this.isSceneCamera=y;var x=v.sys;return this.sceneManager=x.game.scene,this.scaleManager=x.scale,this.cameraManager=x.cameras,this.updateSystem(),this},setScroll:function(v,y){return y===void 0&&(y=v),this.scrollX=v,this.scrollY=y,this},setSize:function(v,y){return y===void 0&&(y=v),this.width=v,this.height=y,this},setViewport:function(v,y,x,b){return this.x=v,this.y=y,this.width=x,this.height=b,this},setZoom:function(v,y){return v===void 0&&(v=1),y===void 0&&(y=v),v===0&&(v=.001),y===0&&(y=.001),this.zoomX=v,this.zoomY=y,this},setMask:function(v,y){return y===void 0&&(y=!0),this.mask=v,this._maskCamera=y?this.cameraManager.default:this,this},clearMask:function(v){return v===void 0&&(v=!1),v&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var v={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(v.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),v},update:function(){},setIsSceneCamera:function(v){return this.isSceneCamera=v,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var v=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,y=this.sceneManager;v&&!this._customViewport?y.customViewports++:!v&&this._customViewport&&y.customViewports--,this.dirty=!0,this._customViewport=v}},destroy:function(){this.emit(h.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(v){this._x=v,this.updateSystem()}},y:{get:function(){return this._y},set:function(v){this._y=v,this.updateSystem()}},width:{get:function(){return this._width},set:function(v){this._width=v,this.updateSystem()}},height:{get:function(){return this._height},set:function(v){this._height=v,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(v){v!==this._scrollX&&(this._scrollX=v,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(v){v!==this._scrollY&&(this._scrollY=v,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(v){this._zoomX=v,this._zoomY=v,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(v){this._zoomX=v,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(v){this._zoomY=v,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});n.exports=g},38058:(n,a,s)=>{var o=s(71911),u=s(67502),l=s(45319),c=s(83419),h=s(31401),d=s(20052),f=s(19715),m=s(28915),p=s(87841),g=s(26099),v=new c({Extends:o,Mixins:[h.PostPipeline],initialize:function(x,b,w,C){o.call(this,x,b,w,C),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new d.Fade(this),this.flashEffect=new d.Flash(this),this.shakeEffect=new d.Shake(this),this.panEffect=new d.Pan(this),this.rotateToEffect=new d.RotateTo(this),this.zoomEffect=new d.Zoom(this),this.lerp=new g(1,1),this.followOffset=new g,this.deadzone=null,this._follow=null},setDeadzone:function(y,x){if(y===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=y,this.deadzone.height=x):this.deadzone=new p(0,0,y,x),this._follow){var b=this.width/2,w=this.height/2,C=this._follow.x-this.followOffset.x,_=this._follow.y-this.followOffset.y;this.midPoint.set(C,_),this.scrollX=C-b,this.scrollY=_-w}u(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(y,x,b,w,C,_){return this.fadeEffect.start(!1,y,x,b,w,!0,C,_)},fadeOut:function(y,x,b,w,C,_){return this.fadeEffect.start(!0,y,x,b,w,!0,C,_)},fadeFrom:function(y,x,b,w,C,_,S){return this.fadeEffect.start(!1,y,x,b,w,C,_,S)},fade:function(y,x,b,w,C,_,S){return this.fadeEffect.start(!0,y,x,b,w,C,_,S)},flash:function(y,x,b,w,C,_,S){return this.flashEffect.start(y,x,b,w,C,_,S)},shake:function(y,x,b,w,C){return this.shakeEffect.start(y,x,b,w,C)},pan:function(y,x,b,w,C,_,S){return this.panEffect.start(y,x,b,w,C,_,S)},rotateTo:function(y,x,b,w,C,_,S){return this.rotateToEffect.start(y,x,b,w,C,_,S)},zoomTo:function(y,x,b,w,C,_){return this.zoomEffect.start(y,x,b,w,C,_)},preRender:function(){this.renderList.length=0;var y=this.width,x=this.height,b=y*.5,w=x*.5,C=this.zoomX,_=this.zoomY,S=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(C)&&Number.isInteger(_);var T=y*this.originX,A=x*this.originY,M=this._follow,I=this.deadzone,D=this.scrollX,k=this.scrollY;I&&u(I,this.midPoint.x,this.midPoint.y);var G=!1;if(M&&!this.panEffect.isRunning){var R=this.lerp,H=M.x-this.followOffset.x,j=M.y-this.followOffset.y;I?(H<I.x?D=m(D,D-(I.x-H),R.x):H>I.right&&(D=m(D,D+(H-I.right),R.x)),j<I.y?k=m(k,k-(I.y-j),R.y):j>I.bottom&&(k=m(k,k+(j-I.bottom),R.y))):(D=m(D,H-T,R.x),k=m(k,j-A,R.y)),G=!0}this.roundPixels&&(D=Math.floor(D),k=Math.floor(k)),this.useBounds&&(D=this.clampX(D),k=this.clampY(k)),this.scrollX=D,this.scrollY=k;var Z=D+b,ee=k+w;this.midPoint.set(Z,ee);var Y=Math.floor(y/C+.5),V=Math.floor(x/_+.5),O=Math.floor(Z-Y/2+.5),F=Math.floor(ee-V/2+.5);this.worldView.setTo(O,F,Y,V),S.applyITRS(Math.floor(this.x+T+.5),Math.floor(this.y+A+.5),this.rotation,C,_),S.translate(-T,-A),this.shakeEffect.preRender(),G&&this.emit(f.FOLLOW_UPDATE,this,M)},setLerp:function(y,x){return y===void 0&&(y=1),x===void 0&&(x=y),this.lerp.set(y,x),this},setFollowOffset:function(y,x){return y===void 0&&(y=0),x===void 0&&(x=0),this.followOffset.set(y,x),this},startFollow:function(y,x,b,w,C,_){x===void 0&&(x=!1),b===void 0&&(b=1),w===void 0&&(w=b),C===void 0&&(C=0),_===void 0&&(_=C),this._follow=y,this.roundPixels=x,b=l(b,0,1),w=l(w,0,1),this.lerp.set(b,w),this.followOffset.set(C,_);var S=this.width/2,T=this.height/2,A=y.x-C,M=y.y-_;return this.midPoint.set(A,M),this.scrollX=A-S,this.scrollY=M-T,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(y,x){this.visible&&(this.rotateToEffect.update(y,x),this.panEffect.update(y,x),this.zoomEffect.update(y,x),this.shakeEffect.update(y,x),this.flashEffect.update(y,x),this.fadeEffect.update(y,x))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});n.exports=v},32743:(n,a,s)=>{var o=s(38058),u=s(83419),l=s(95540),c=s(37277),h=s(37303),d=s(97480),f=s(44594),m=new u({initialize:function(g){this.scene=g,this.systems=g.sys,this.roundPixels=g.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,g.sys.events.once(f.BOOT,this.boot,this),g.sys.events.on(f.START,this.start,this)},boot:function(){var p=this.systems;p.settings.cameras?this.fromJSON(p.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,p.scale.width,p.scale.height).setScene(this.scene),p.game.scale.on(d.RESIZE,this.onResize,this),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){if(!this.main){var p=this.systems;p.settings.cameras?this.fromJSON(p.settings.cameras):this.add(),this.main=this.cameras[0]}var g=this.systems.events;g.on(f.UPDATE,this.update,this),g.once(f.SHUTDOWN,this.shutdown,this)},add:function(p,g,v,y,x,b){p===void 0&&(p=0),g===void 0&&(g=0),v===void 0&&(v=this.scene.sys.scale.width),y===void 0&&(y=this.scene.sys.scale.height),x===void 0&&(x=!1),b===void 0&&(b="");var w=new o(p,g,v,y);return w.setName(b),w.setScene(this.scene),w.setRoundPixels(this.roundPixels),w.id=this.getNextID(),this.cameras.push(w),x&&(this.main=w),w},addExisting:function(p,g){g===void 0&&(g=!1);var v=this.cameras.indexOf(p);return v===-1?(p.id=this.getNextID(),p.setRoundPixels(this.roundPixels),this.cameras.push(p),g&&(this.main=p),p):null},getNextID:function(){for(var p=this.cameras,g=1,v=0;v<32;v++){for(var y=!1,x=0;x<p.length;x++){var b=p[x];if(b&&b.id===g){y=!0;continue}}if(y)g=g<<1;else return g}return 0},getTotal:function(p){p===void 0&&(p=!1);for(var g=0,v=this.cameras,y=0;y<v.length;y++){var x=v[y];(!p||p&&x.visible)&&g++}return g},fromJSON:function(p){Array.isArray(p)||(p=[p]);for(var g=this.scene.sys.scale.width,v=this.scene.sys.scale.height,y=0;y<p.length;y++){var x=p[y],b=l(x,"x",0),w=l(x,"y",0),C=l(x,"width",g),_=l(x,"height",v),S=this.add(b,w,C,_);S.name=l(x,"name",""),S.zoom=l(x,"zoom",1),S.rotation=l(x,"rotation",0),S.scrollX=l(x,"scrollX",0),S.scrollY=l(x,"scrollY",0),S.roundPixels=l(x,"roundPixels",!1),S.visible=l(x,"visible",!0);var T=l(x,"backgroundColor",!1);T&&S.setBackgroundColor(T);var A=l(x,"bounds",null);if(A){var M=l(A,"x",0),I=l(A,"y",0),D=l(A,"width",g),k=l(A,"height",v);S.setBounds(M,I,D,k)}}return this},getCamera:function(p){for(var g=this.cameras,v=0;v<g.length;v++)if(g[v].name===p)return g[v];return null},getCamerasBelowPointer:function(p){for(var g=this.cameras,v=p.x,y=p.y,x=[],b=0;b<g.length;b++){var w=g[b];w.visible&&w.inputEnabled&&h(w,v,y)&&x.unshift(w)}return x},remove:function(p,g){g===void 0&&(g=!0),Array.isArray(p)||(p=[p]);for(var v=0,y=this.cameras,x=0;x<p.length;x++){var b=y.indexOf(p[x]);b!==-1&&(g?y[b].destroy():y[b].renderList=[],y.splice(b,1),v++)}return!this.main&&y[0]&&(this.main=y[0]),v},render:function(p,g){for(var v=this.scene,y=this.cameras,x=0;x<y.length;x++){var b=y[x];if(b.visible&&b.alpha>0){b.preRender();var w=this.getVisibleChildren(g.getChildren(),b);p.render(v,w,b)}}},getVisibleChildren:function(p,g){return p.filter(function(v){return v.willRender(g)})},resetAll:function(){for(var p=0;p<this.cameras.length;p++)this.cameras[p].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(p,g){for(var v=0;v<this.cameras.length;v++)this.cameras[v].update(p,g)},onResize:function(p,g,v,y,x){for(var b=0;b<this.cameras.length;b++){var w=this.cameras[b];w._x===0&&w._y===0&&w._width===y&&w._height===x&&w.setSize(g.width,g.height)}},resize:function(p,g){for(var v=0;v<this.cameras.length;v++)this.cameras[v].setSize(p,g)},shutdown:function(){this.main=void 0;for(var p=0;p<this.cameras.length;p++)this.cameras[p].destroy();this.cameras=[];var g=this.systems.events;g.off(f.UPDATE,this.update,this),g.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(f.START,this.start,this),this.systems.events.off(f.DESTROY,this.destroy,this),this.systems.game.scale.off(d.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});c.register("CameraManager",m,"cameras"),n.exports=m},5020:(n,a,s)=>{var o=s(45319),u=s(83419),l=s(19715),c=new u({initialize:function(d){this.camera=d,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(h,d,f,m,p,g,v,y){if(h===void 0&&(h=!0),d===void 0&&(d=1e3),f===void 0&&(f=0),m===void 0&&(m=0),p===void 0&&(p=0),g===void 0&&(g=!1),v===void 0&&(v=null),y===void 0&&(y=this.camera.scene),!g&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=d,this.direction=h,this.progress=0,this.red=f,this.green=m,this.blue=p,this.alpha=h?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=y;var x=h?l.FADE_OUT_START:l.FADE_IN_START;return this.camera.emit(x,this.camera,this,d,f,m,p),this.camera},update:function(h,d){this.isRunning&&(this._elapsed+=d,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(h){if(!this.isRunning&&!this.isComplete)return!1;var d=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(d.x,d.y,d.width,d.height),!0},postRenderWebGL:function(h,d){if(!this.isRunning&&!this.isComplete)return!1;var f=this.camera,m=this.red/255,p=this.green/255,g=this.blue/255;return h.drawFillRect(f.x,f.y,f.width,f.height,d(g,p,m,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var h=this.direction?l.FADE_OUT_COMPLETE:l.FADE_IN_COMPLETE;this.camera.emit(h,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=c},10662:(n,a,s)=>{var o=s(45319),u=s(83419),l=s(19715),c=new u({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(h,d,f,m,p,g,v){return h===void 0&&(h=250),d===void 0&&(d=255),f===void 0&&(f=255),m===void 0&&(m=255),p===void 0&&(p=!1),g===void 0&&(g=null),v===void 0&&(v=this.camera.scene),!p&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=h,this.progress=0,this.red=d,this.green=f,this.blue=m,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=g,this._onUpdateScope=v,this.camera.emit(l.FLASH_START,this.camera,this,h,d,f,m),this.camera)},update:function(h,d){this.isRunning&&(this._elapsed+=d,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(h){if(!this.isRunning)return!1;var d=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(d.x,d.y,d.width,d.height),!0},postRenderWebGL:function(h,d){if(!this.isRunning)return!1;var f=this.camera,m=this.red/255,p=this.green/255,g=this.blue/255;return h.drawFillRect(f.x,f.y,f.width,f.height,d(g,p,m,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=c},20359:(n,a,s)=>{var o=s(45319),u=s(83419),l=s(62640),c=s(19715),h=s(26099),d=new u({initialize:function(m){this.camera=m,this.isRunning=!1,this.duration=0,this.source=new h,this.current=new h,this.destination=new h,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(f,m,p,g,v,y,x){p===void 0&&(p=1e3),g===void 0&&(g=l.Linear),v===void 0&&(v=!1),y===void 0&&(y=null),x===void 0&&(x=this.camera.scene);var b=this.camera;return!v&&this.isRunning||(this.isRunning=!0,this.duration=p,this.progress=0,this.source.set(b.scrollX,b.scrollY),this.destination.set(f,m),b.getScroll(f,m,this.current),typeof g=="string"&&l.hasOwnProperty(g)?this.ease=l[g]:typeof g=="function"&&(this.ease=g),this._elapsed=0,this._onUpdate=y,this._onUpdateScope=x,this.camera.emit(c.PAN_START,this.camera,this,p,f,m)),b},update:function(f,m){if(this.isRunning){this._elapsed+=m;var p=o(this._elapsed/this.duration,0,1);this.progress=p;var g=this.camera;if(this._elapsed<this.duration){var v=this.ease(p);g.getScroll(this.destination.x,this.destination.y,this.current);var y=this.source.x+(this.current.x-this.source.x)*v,x=this.source.y+(this.current.y-this.source.y)*v;g.setScroll(y,x),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,g,p,y,x)}else g.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,g,p,g.scrollX,g.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=d},34208:(n,a,s)=>{var o=s(45319),u=s(83419),l=s(19715),c=s(62640),h=new u({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(d,f,m,p,g,v,y){m===void 0&&(m=1e3),p===void 0&&(p=c.Linear),g===void 0&&(g=!1),v===void 0&&(v=null),y===void 0&&(y=this.camera.scene),f===void 0&&(f=!1),this.shortestPath=f;var x=d;d<0?(x=-1*d,this.clockwise=!1):this.clockwise=!0;var b=360*Math.PI/180;x=x-Math.floor(x/b)*b;var w=this.camera;if(!g&&this.isRunning)return w;if(this.isRunning=!0,this.duration=m,this.progress=0,this.source=w.rotation,this.destination=x,typeof p=="string"&&c.hasOwnProperty(p)?this.ease=c[p]:typeof p=="function"&&(this.ease=p),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=y,this.shortestPath){var C=0,_=0;this.destination>this.source?C=Math.abs(this.destination-this.source):C=Math.abs(this.destination+b)-this.source,this.source>this.destination?_=Math.abs(this.source-this.destination):_=Math.abs(this.source+b)-this.destination,C<_?this.clockwise=!0:C>_&&(this.clockwise=!1)}return this.camera.emit(l.ROTATE_START,this.camera,this,m,x),w},update:function(d,f){if(this.isRunning){this._elapsed+=f;var m=o(this._elapsed/this.duration,0,1);this.progress=m;var p=this.camera;if(this._elapsed<this.duration){var g=this.ease(m);this.current=p.rotation;var v=0,y=360*Math.PI/180,x=this.destination,b=this.current;this.clockwise===!1&&(x=this.current,b=this.destination),x>=b?v=Math.abs(x-b):v=Math.abs(x+y)-b;var w=0;this.clockwise?w=p.rotation+v*g:w=p.rotation-v*g,p.rotation=w,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,p,m,w)}else p.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,p,m,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=h},30330:(n,a,s)=>{var o=s(45319),u=s(83419),l=s(19715),c=s(26099),h=new u({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.intensity=new c,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(d,f,m,p,g){return d===void 0&&(d=100),f===void 0&&(f=.05),m===void 0&&(m=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),!m&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=d,this.progress=0,typeof f=="number"?this.intensity.set(f):this.intensity.set(f.x,f.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=p,this._onUpdateScope=g,this.camera.emit(l.SHAKE_START,this.camera,this,d,f),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(d,f){if(this.isRunning)if(this._elapsed+=f,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var m=this.intensity,p=this.camera.width,g=this.camera.height,v=this.camera.zoom;this._offsetX=(Math.random()*m.x*p*2-m.x*p)*v,this._offsetY=(Math.random()*m.y*g*2-m.y*g)*v,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});n.exports=h},45641:(n,a,s)=>{var o=s(45319),u=s(83419),l=s(62640),c=s(19715),h=new u({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(d,f,m,p,g,v){f===void 0&&(f=1e3),m===void 0&&(m=l.Linear),p===void 0&&(p=!1),g===void 0&&(g=null),v===void 0&&(v=this.camera.scene);var y=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=f,this.progress=0,this.source=y.zoom,this.destination=d,typeof m=="string"&&l.hasOwnProperty(m)?this.ease=l[m]:typeof m=="function"&&(this.ease=m),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=v,this.camera.emit(c.ZOOM_START,this.camera,this,f,d)),y},update:function(d,f){this.isRunning&&(this._elapsed+=f,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=h},20052:(n,a,s)=>{n.exports={Fade:s(5020),Flash:s(10662),Pan:s(20359),Shake:s(30330),RotateTo:s(34208),Zoom:s(45641)}},16438:n=>{n.exports="cameradestroy"},32726:n=>{n.exports="camerafadeincomplete"},87807:n=>{n.exports="camerafadeinstart"},45917:n=>{n.exports="camerafadeoutcomplete"},95666:n=>{n.exports="camerafadeoutstart"},47056:n=>{n.exports="cameraflashcomplete"},91261:n=>{n.exports="cameraflashstart"},45047:n=>{n.exports="followupdate"},81927:n=>{n.exports="camerapancomplete"},74264:n=>{n.exports="camerapanstart"},54419:n=>{n.exports="postrender"},79330:n=>{n.exports="prerender"},93183:n=>{n.exports="camerarotatecomplete"},80112:n=>{n.exports="camerarotatestart"},62252:n=>{n.exports="camerashakecomplete"},86017:n=>{n.exports="camerashakestart"},539:n=>{n.exports="camerazoomcomplete"},51892:n=>{n.exports="camerazoomstart"},19715:(n,a,s)=>{n.exports={DESTROY:s(16438),FADE_IN_COMPLETE:s(32726),FADE_IN_START:s(87807),FADE_OUT_COMPLETE:s(45917),FADE_OUT_START:s(95666),FLASH_COMPLETE:s(47056),FLASH_START:s(91261),FOLLOW_UPDATE:s(45047),PAN_COMPLETE:s(81927),PAN_START:s(74264),POST_RENDER:s(54419),PRE_RENDER:s(79330),ROTATE_COMPLETE:s(93183),ROTATE_START:s(80112),SHAKE_COMPLETE:s(62252),SHAKE_START:s(86017),ZOOM_COMPLETE:s(539),ZOOM_START:s(51892)}},87969:(n,a,s)=>{n.exports={Camera:s(38058),BaseCamera:s(71911),CameraManager:s(32743),Effects:s(20052),Events:s(19715)}},63091:(n,a,s)=>{var o=s(83419),u=s(35154),l=new o({initialize:function(h){this.camera=u(h,"camera",null),this.left=u(h,"left",null),this.right=u(h,"right",null),this.up=u(h,"up",null),this.down=u(h,"down",null),this.zoomIn=u(h,"zoomIn",null),this.zoomOut=u(h,"zoomOut",null),this.zoomSpeed=u(h,"zoomSpeed",.01),this.minZoom=u(h,"minZoom",.001),this.maxZoom=u(h,"maxZoom",1e3),this.speedX=0,this.speedY=0;var d=u(h,"speed",null);typeof d=="number"?(this.speedX=d,this.speedY=d):(this.speedX=u(h,"speed.x",0),this.speedY=u(h,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(c){return this.camera=c,this},update:function(c){if(this.active){c===void 0&&(c=1);var h=this.camera;this.up&&this.up.isDown?h.scrollY-=this.speedY*c|0:this.down&&this.down.isDown&&(h.scrollY+=this.speedY*c|0),this.left&&this.left.isDown?h.scrollX-=this.speedX*c|0:this.right&&this.right.isDown&&(h.scrollX+=this.speedX*c|0),this.zoomIn&&this.zoomIn.isDown?(h.zoom-=this.zoomSpeed,h.zoom<this.minZoom&&(h.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(h.zoom+=this.zoomSpeed,h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=l},58818:(n,a,s)=>{var o=s(83419),u=s(35154),l=new o({initialize:function(h){this.camera=u(h,"camera",null),this.left=u(h,"left",null),this.right=u(h,"right",null),this.up=u(h,"up",null),this.down=u(h,"down",null),this.zoomIn=u(h,"zoomIn",null),this.zoomOut=u(h,"zoomOut",null),this.zoomSpeed=u(h,"zoomSpeed",.01),this.minZoom=u(h,"minZoom",.001),this.maxZoom=u(h,"maxZoom",1e3),this.accelX=0,this.accelY=0;var d=u(h,"acceleration",null);typeof d=="number"?(this.accelX=d,this.accelY=d):(this.accelX=u(h,"acceleration.x",0),this.accelY=u(h,"acceleration.y",0)),this.dragX=0,this.dragY=0;var f=u(h,"drag",null);typeof f=="number"?(this.dragX=f,this.dragY=f):(this.dragX=u(h,"drag.x",0),this.dragY=u(h,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var m=u(h,"maxSpeed",null);typeof m=="number"?(this.maxSpeedX=m,this.maxSpeedY=m):(this.maxSpeedX=u(h,"maxSpeed.x",0),this.maxSpeedY=u(h,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(c){return this.camera=c,this},update:function(c){if(this.active){c===void 0&&(c=1);var h=this.camera;this._speedX>0?(this._speedX-=this.dragX*c,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*c,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*c,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*c,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(h.scrollX-=this._speedX*c|0),this._speedY!==0&&(h.scrollY-=this._speedY*c|0),this._zoom!==0&&(h.zoom+=this._zoom,h.zoom<this.minZoom?h.zoom=this.minZoom:h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=l},38865:(n,a,s)=>{n.exports={FixedKeyControl:s(63091),SmoothedKeyControl:s(58818)}},26638:(n,a,s)=>{n.exports={Controls:s(38865),Scene2D:s(87969)}},8054:(n,a,s)=>{var o={VERSION:"3.87",LOG_VERSION:"v387",BlendModes:s(10312),ScaleModes:s(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};n.exports=o},69547:(n,a,s)=>{var o=s(83419),u=s(8054),l=s(42363),c=s(82264),h=s(95540),d=s(35154),f=s(41212),m=s(29747),p=s(75508),g=s(36060),v=s(80333),y=new o({initialize:function(b){b===void 0&&(b={});var w=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],C="#ffffff",_=d(b,"scale",null);this.width=d(_,"width",1024,b),this.height=d(_,"height",768,b),this.zoom=d(_,"zoom",1,b),this.parent=d(_,"parent",void 0,b),this.scaleMode=d(_,_?"mode":"scaleMode",0,b),this.expandParent=d(_,"expandParent",!0,b),this.autoRound=d(_,"autoRound",!1,b),this.autoCenter=d(_,"autoCenter",0,b),this.resizeInterval=d(_,"resizeInterval",500,b),this.fullscreenTarget=d(_,"fullscreenTarget",null,b),this.minWidth=d(_,"min.width",0,b),this.maxWidth=d(_,"max.width",0,b),this.minHeight=d(_,"min.height",0,b),this.maxHeight=d(_,"max.height",0,b),this.snapWidth=d(_,"snap.width",0,b),this.snapHeight=d(_,"snap.height",0,b),this.renderType=d(b,"type",u.AUTO),this.canvas=d(b,"canvas",null),this.context=d(b,"context",null),this.canvasStyle=d(b,"canvasStyle",null),this.customEnvironment=d(b,"customEnvironment",!1),this.sceneConfig=d(b,"scene",null),this.seed=d(b,"seed",[(Date.now()*Math.random()).toString()]),p.RND=new p.RandomDataGenerator(this.seed),this.gameTitle=d(b,"title",""),this.gameURL=d(b,"url","https://phaser.io/"+u.LOG_VERSION),this.gameVersion=d(b,"version",""),this.autoFocus=d(b,"autoFocus",!0),this.stableSort=d(b,"stableSort",-1),this.stableSort===-1&&(this.stableSort=c.browser.es2019?1:0),c.features.stableSort=this.stableSort,this.domCreateContainer=d(b,"dom.createContainer",!1),this.domPointerEvents=d(b,"dom.pointerEvents","none"),this.inputKeyboard=d(b,"input.keyboard",!0),this.inputKeyboardEventTarget=d(b,"input.keyboard.target",window),this.inputKeyboardCapture=d(b,"input.keyboard.capture",[]),this.inputMouse=d(b,"input.mouse",!0),this.inputMouseEventTarget=d(b,"input.mouse.target",null),this.inputMousePreventDefaultDown=d(b,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=d(b,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=d(b,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=d(b,"input.mouse.preventDefaultWheel",!0),this.inputTouch=d(b,"input.touch",c.input.touch),this.inputTouchEventTarget=d(b,"input.touch.target",null),this.inputTouchCapture=d(b,"input.touch.capture",!0),this.inputActivePointers=d(b,"input.activePointers",1),this.inputSmoothFactor=d(b,"input.smoothFactor",0),this.inputWindowEvents=d(b,"input.windowEvents",!0),this.inputGamepad=d(b,"input.gamepad",!1),this.inputGamepadEventTarget=d(b,"input.gamepad.target",window),this.disableContextMenu=d(b,"disableContextMenu",!1),this.audio=d(b,"audio",{}),this.hideBanner=d(b,"banner",null)===!1,this.hidePhaser=d(b,"banner.hidePhaser",!1),this.bannerTextColor=d(b,"banner.text",C),this.bannerBackgroundColor=d(b,"banner.background",w),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=d(b,"fps",null),this.disablePreFX=d(b,"disablePreFX",!1),this.disablePostFX=d(b,"disablePostFX",!1);var S=d(b,"render",null);this.pipeline=d(S,"pipeline",null,b),this.autoMobilePipeline=d(S,"autoMobilePipeline",!0,b),this.defaultPipeline=d(S,"defaultPipeline",g.MULTI_PIPELINE,b),this.antialias=d(S,"antialias",!0,b),this.antialiasGL=d(S,"antialiasGL",!0,b),this.mipmapFilter=d(S,"mipmapFilter","",b),this.desynchronized=d(S,"desynchronized",!1,b),this.roundPixels=d(S,"roundPixels",!1,b),this.pixelArt=d(S,"pixelArt",this.zoom!==1,b),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=d(S,"transparent",!1,b),this.clearBeforeRender=d(S,"clearBeforeRender",!0,b),this.preserveDrawingBuffer=d(S,"preserveDrawingBuffer",!1,b),this.premultipliedAlpha=d(S,"premultipliedAlpha",!0,b),this.failIfMajorPerformanceCaveat=d(S,"failIfMajorPerformanceCaveat",!1,b),this.powerPreference=d(S,"powerPreference","default",b),this.batchSize=d(S,"batchSize",4096,b),this.maxTextures=d(S,"maxTextures",-1,b),this.maxLights=d(S,"maxLights",10,b);var T=d(b,"backgroundColor",0);this.backgroundColor=v(T),this.transparent&&(this.backgroundColor=v(0),this.backgroundColor.alpha=0),this.preBoot=d(b,"callbacks.preBoot",m),this.postBoot=d(b,"callbacks.postBoot",m),this.physics=d(b,"physics",{}),this.defaultPhysicsSystem=d(this.physics,"default",!1),this.loaderBaseURL=d(b,"loader.baseURL",""),this.loaderPath=d(b,"loader.path",""),this.loaderMaxParallelDownloads=d(b,"loader.maxParallelDownloads",c.os.android?6:32),this.loaderCrossOrigin=d(b,"loader.crossOrigin",void 0),this.loaderResponseType=d(b,"loader.responseType",""),this.loaderAsync=d(b,"loader.async",!0),this.loaderUser=d(b,"loader.user",""),this.loaderPassword=d(b,"loader.password",""),this.loaderTimeout=d(b,"loader.timeout",0),this.loaderMaxRetries=d(b,"loader.maxRetries",2),this.loaderWithCredentials=d(b,"loader.withCredentials",!1),this.loaderImageLoadType=d(b,"loader.imageLoadType","XHR"),this.loaderLocalScheme=d(b,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=d(b,"fx.glow.quality",.1),this.glowFXDistance=d(b,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var A=d(b,"plugins",null),M=l.DefaultScene;A&&(Array.isArray(A)?this.defaultPlugins=A:f(A)&&(this.installGlobalPlugins=h(A,"global",[]),this.installScenePlugins=h(A,"scene",[]),Array.isArray(A.default)?M=A.default:Array.isArray(A.defaultMerge)&&(M=M.concat(A.defaultMerge)))),this.defaultPlugins=M;var I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=d(b,"images.default",I+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=d(b,"images.missing",I+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=d(b,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=u.WEBGL:window.FORCE_CANVAS&&(this.renderType=u.CANVAS))}});n.exports=y},86054:(n,a,s)=>{var o=s(20623),u=s(27919),l=s(8054),c=s(89357),h=function(d){var f=d.config;if((f.customEnvironment||f.canvas)&&f.renderType===l.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!f.customEnvironment&&!f.canvas&&f.renderType!==l.HEADLESS)if(f.renderType===l.AUTO&&(f.renderType=c.webGL?l.WEBGL:l.CANVAS),f.renderType===l.WEBGL){if(!c.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(f.renderType===l.CANVAS){if(!c.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+f.renderType);f.antialias||u.disableSmoothing();var m=d.scale.baseSize,p=m.width,g=m.height;if(f.canvas?(d.canvas=f.canvas,d.canvas.width=p,d.canvas.height=g):d.canvas=u.create(d,p,g,f.renderType),f.canvasStyle&&(d.canvas.style=f.canvasStyle),f.antialias||o.setCrisp(d.canvas),f.renderType!==l.HEADLESS){var v,y;v=s(68627),y=s(74797),f.renderType===l.WEBGL?d.renderer=new y(d):(d.renderer=new v(d),d.context=d.renderer.gameContext)}};n.exports=h},96391:(n,a,s)=>{var o=s(8054),u=function(l){var c=l.config;if(!c.hideBanner){var h="WebGL";c.renderType===o.CANVAS?h="Canvas":c.renderType===o.HEADLESS&&(h="Headless");var d=c.audio,f=l.device.audio,m;if(f.webAudio&&!d.disableWebAudio?m="Web Audio":d.noAudio||!f.webAudio&&!f.audioData?m="No Audio":m="HTML5 Audio",l.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var p="",g=[p];if(Array.isArray(c.bannerBackgroundColor)){var v;c.bannerBackgroundColor.forEach(function(x){p=p.concat("%c "),g.push("background: "+x),v=x}),g[g.length-1]="color: "+c.bannerTextColor+"; background: "+v}else p=p.concat("%c "),g.push("color: "+c.bannerTextColor+"; background: "+c.bannerBackgroundColor);g.push("background: transparent"),c.gameTitle&&(p=p.concat(c.gameTitle),c.gameVersion&&(p=p.concat(" v"+c.gameVersion)),c.hidePhaser||(p=p.concat(" / ")));var y="";c.hidePhaser||(p=p.concat("Phaser v"+o.VERSION+y+" ("+h+" | "+m+")")),p=p.concat(" %c "+c.gameURL),g[0]=p,console.log.apply(console,g)}}};n.exports=u},50127:(n,a,s)=>{var o=s(40366),u=s(60848),l=s(24047),c=s(27919),h=s(83419),d=s(69547),f=s(83719),m=s(86054),p=s(45893),g=s(96391),v=s(82264),y=s(57264),x=s(50792),b=s(8443),w=s(7003),C=s(37277),_=s(77332),S=s(76531),T=s(60903),A=s(69442),M=s(17130),I=s(65898),D=s(51085),k=s(14747);if(0)var G;var R=new h({initialize:function(j){this.config=new d(j),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new x,this.anims=new u(this),this.textures=new M(this),this.cache=new l(this),this.registry=new p(this,new x),this.input=new w(this,this.config),this.scene=new T(this,this.config.sceneConfig),this.device=v,this.scale=new S(this,this.config),this.sound=null,this.sound=k.create(this),this.loop=new I(this,this.config.fps),this.plugins=new _(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,y(this.boot.bind(this))},boot:function(){if(!C.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),m(this),f(this),g(this),o(this.canvas,this.config.parent),this.textures.once(A.READY,this.texturesReady,this),this.events.emit(b.BOOT)},texturesReady:function(){this.events.emit(b.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),D(this);var H=this.events;H.on(b.HIDDEN,this.onHidden,this),H.on(b.VISIBLE,this.onVisible,this),H.on(b.BLUR,this.onBlur,this),H.on(b.FOCUS,this.onFocus,this)},step:function(H,j){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var Z=this.events;Z.emit(b.PRE_STEP,H,j),Z.emit(b.STEP,H,j),this.scene.update(H,j),Z.emit(b.POST_STEP,H,j);var ee=this.renderer;ee.preRender(),Z.emit(b.PRE_RENDER,ee,H,j),this.scene.render(ee),ee.postRender(),Z.emit(b.POST_RENDER,ee,H,j)}},headlessStep:function(H,j){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var Z=this.events;Z.emit(b.PRE_STEP,H,j),Z.emit(b.STEP,H,j),this.scene.update(H,j),Z.emit(b.POST_STEP,H,j),this.scene.isProcessing=!1,Z.emit(b.PRE_RENDER,null,H,j),Z.emit(b.POST_RENDER,null,H,j)}},onHidden:function(){this.loop.pause(),this.events.emit(b.PAUSE)},pause:function(){var H=this.isPaused;this.isPaused=!0,H||this.events.emit(b.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(b.RESUME,this.loop.pauseDuration)},resume:function(){var H=this.isPaused;this.isPaused=!1,H&&this.events.emit(b.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(H,j){j===void 0&&(j=!1),this.pendingDestroy=!0,this.removeCanvas=H,this.noReturn=j},runDestroy:function(){this.scene.destroy(),this.events.emit(b.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(c.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});n.exports=R},65898:(n,a,s)=>{var o=s(83419),u=s(35154),l=s(29747),c=s(43092),h=new o({initialize:function(f,m){this.game=f,this.raf=new c,this.started=!1,this.running=!1,this.minFps=u(m,"min",5),this.targetFps=u(m,"target",60),this.fpsLimit=u(m,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=l,this.forceSetTimeOut=u(m,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=u(m,"deltaHistory",10),this.panicMax=u(m,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=u(m,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var d=window.performance.now();this.time=d,this.lastTime=d,this.nextFpsUpdate=d+1e3,this.framesThisSecond=0;for(var f=0;f<this.deltaSmoothingMax;f++)this.deltaHistory[f]=Math.min(this._target,this.deltaHistory[f]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(d){if(this.started)return this;this.started=!0,this.running=!0;for(var f=0;f<this.deltaSmoothingMax;f++)this.deltaHistory[f]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=d;var m=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(m,this.forceSetTimeOut,this._target)},smoothDelta:function(d){var f=this.deltaIndex,m=this.deltaHistory,p=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,d=Math.min(d,this._target)),d>this._min&&(d=m[f],d=Math.min(d,this._min)),m[f]=d,this.deltaIndex++,this.deltaIndex>=p&&(this.deltaIndex=0);for(var g=0,v=0;v<p;v++)g+=m[v];return g/=p,g},updateFPS:function(d){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=d+1e3,this.framesThisSecond=0},stepLimitFPS:function(d){this.now=d;var f=Math.max(0,d-this.lastTime);this.rawDelta=f,this.time+=this.rawDelta,this.smoothStep&&(f=this.smoothDelta(f)),this.delta+=f,d>=this.nextFpsUpdate&&this.updateFPS(d),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(d,this.delta),this.delta=0),this.lastTime=d,this.frame++},step:function(d){this.now=d;var f=Math.max(0,d-this.lastTime);this.rawDelta=f,this.time+=this.rawDelta,this.smoothStep&&(f=this.smoothDelta(f)),this.delta=f,d>=this.nextFpsUpdate&&this.updateFPS(d),this.framesThisSecond++,this.callback(d,f),this.lastTime=d,this.frame++},tick:function(){var d=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(d):this.step(d)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(d){d===void 0&&(d=!1);var f=window.performance.now();if(!this.running){d&&(this.startTime+=-this.lastTime+(this.lastTime+f));var m=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(m,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=f+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});n.exports=h},51085:(n,a,s)=>{var o=s(8443),u=function(l){var c,h=l.events;if(document.hidden!==void 0)c="visibilitychange";else{var d=["webkit","moz","ms"];d.forEach(function(m){document[m+"Hidden"]!==void 0&&(document.hidden=function(){return document[m+"Hidden"]},c=m+"visibilitychange")})}var f=function(m){document.hidden||m.type==="pause"?h.emit(o.HIDDEN):h.emit(o.VISIBLE)};c&&document.addEventListener(c,f,!1),window.onblur=function(){h.emit(o.BLUR)},window.onfocus=function(){h.emit(o.FOCUS)},window.focus&&l.config.autoFocus&&window.focus()};n.exports=u},97217:n=>{n.exports="blur"},47548:n=>{n.exports="boot"},19814:n=>{n.exports="contextlost"},68446:n=>{n.exports="destroy"},41700:n=>{n.exports="focus"},25432:n=>{n.exports="hidden"},65942:n=>{n.exports="pause"},59211:n=>{n.exports="postrender"},47789:n=>{n.exports="poststep"},39066:n=>{n.exports="prerender"},460:n=>{n.exports="prestep"},16175:n=>{n.exports="ready"},42331:n=>{n.exports="resume"},11966:n=>{n.exports="step"},32969:n=>{n.exports="systemready"},94830:n=>{n.exports="visible"},8443:(n,a,s)=>{n.exports={BLUR:s(97217),BOOT:s(47548),CONTEXT_LOST:s(19814),DESTROY:s(68446),FOCUS:s(41700),HIDDEN:s(25432),PAUSE:s(65942),POST_RENDER:s(59211),POST_STEP:s(47789),PRE_RENDER:s(39066),PRE_STEP:s(460),READY:s(16175),RESUME:s(42331),STEP:s(11966),SYSTEM_READY:s(32969),VISIBLE:s(94830)}},42857:(n,a,s)=>{n.exports={Config:s(69547),CreateRenderer:s(86054),DebugHeader:s(96391),Events:s(8443),TimeStep:s(65898),VisibilityHandler:s(51085)}},99584:(n,a,s)=>{var o=s(5290),u=s(27919),l=s(35154),c=function(h){var d=l(h,"data",[]),f=l(h,"canvas",null),m=l(h,"palette",o),p=l(h,"pixelWidth",1),g=l(h,"pixelHeight",p),v=l(h,"resizeCanvas",!0),y=l(h,"clearCanvas",!0),x=l(h,"preRender",null),b=l(h,"postRender",null),w=Math.floor(Math.abs(d[0].length*p)),C=Math.floor(Math.abs(d.length*g));f||(f=u.create2D(this,w,C),v=!1,y=!1),v&&(f.width=w,f.height=C);var _=f.getContext("2d",{willReadFrequently:!0});y&&_.clearRect(0,0,w,C),x&&x(f,_);for(var S=0;S<d.length;S++)for(var T=d[S],A=0;A<T.length;A++){var M=T[A];M!=="."&&M!==" "&&(_.fillStyle=m[M],_.fillRect(A*p,S*g,p,g))}return b&&b(f,_),f};n.exports=c},15822:(n,a,s)=>{n.exports={GenerateTexture:s(99584),Palettes:s(57763)}},5290:n=>{n.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:n=>{n.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:n=>{n.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:n=>{n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:n=>{n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(n,a,s)=>{n.exports={ARNE16:s(5290),C64:s(23816),CGA:s(9866),JMP:s(77552),MSX:s(92259)}},46728:(n,a,s)=>{var o=s(83419),u=s(36316),l=s(80021),c=s(26099),h=new o({Extends:l,initialize:function(f,m,p,g){l.call(this,"CubicBezierCurve"),Array.isArray(f)&&(g=new c(f[6],f[7]),p=new c(f[4],f[5]),m=new c(f[2],f[3]),f=new c(f[0],f[1])),this.p0=f,this.p1=m,this.p2=p,this.p3=g},getStartPoint:function(d){return d===void 0&&(d=new c),d.copy(this.p0)},getResolution:function(d){return d},getPoint:function(d,f){f===void 0&&(f=new c);var m=this.p0,p=this.p1,g=this.p2,v=this.p3;return f.set(u(d,m.x,p.x,g.x,v.x),u(d,m.y,p.y,g.y,v.y))},draw:function(d,f){f===void 0&&(f=32);var m=this.getPoints(f);d.beginPath(),d.moveTo(this.p0.x,this.p0.y);for(var p=1;p<m.length;p++)d.lineTo(m[p].x,m[p].y);return d.strokePath(),d},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});h.fromJSON=function(d){var f=d.points,m=new c(f[0],f[1]),p=new c(f[2],f[3]),g=new c(f[4],f[5]),v=new c(f[6],f[7]);return new h(m,p,g,v)},n.exports=h},80021:(n,a,s)=>{var o=s(83419),u=s(19217),l=s(87841),c=s(26099),h=new o({initialize:function(f){this.type=f,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new c,this._tmpVec2B=new c},draw:function(d,f){return f===void 0&&(f=32),d.strokePoints(this.getPoints(f))},getBounds:function(d,f){d||(d=new l),f===void 0&&(f=16);var m=this.getLength();f>m&&(f=m/2);var p=Math.max(1,Math.round(m/f));return u(this.getSpacedPoints(p),d)},getDistancePoints:function(d){var f=this.getLength(),m=Math.max(1,f/d);return this.getSpacedPoints(m)},getEndPoint:function(d){return d===void 0&&(d=new c),this.getPointAt(1,d)},getLength:function(){var d=this.getLengths();return d[d.length-1]},getLengths:function(d){if(d===void 0&&(d=this.arcLengthDivisions),this.cacheArcLengths.length===d+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var f=[],m,p=this.getPoint(0,this._tmpVec2A),g=0;f.push(0);for(var v=1;v<=d;v++)m=this.getPoint(v/d,this._tmpVec2B),g+=m.distance(p),f.push(g),p.copy(m);return this.cacheArcLengths=f,f},getPointAt:function(d,f){var m=this.getUtoTmapping(d);return this.getPoint(m,f)},getPoints:function(d,f,m){m===void 0&&(m=[]),d||(f?d=this.getLength()/f:d=this.defaultDivisions);for(var p=0;p<=d;p++)m.push(this.getPoint(p/d));return m},getRandomPoint:function(d){return d===void 0&&(d=new c),this.getPoint(Math.random(),d)},getSpacedPoints:function(d,f,m){m===void 0&&(m=[]),d||(f?d=this.getLength()/f:d=this.defaultDivisions);for(var p=0;p<=d;p++){var g=this.getUtoTmapping(p/d,null,d);m.push(this.getPoint(g))}return m},getStartPoint:function(d){return d===void 0&&(d=new c),this.getPointAt(0,d)},getTangent:function(d,f){f===void 0&&(f=new c);var m=1e-4,p=d-m,g=d+m;return p<0&&(p=0),g>1&&(g=1),this.getPoint(p,this._tmpVec2A),this.getPoint(g,f),f.subtract(this._tmpVec2A).normalize()},getTangentAt:function(d,f){var m=this.getUtoTmapping(d);return this.getTangent(m,f)},getTFromDistance:function(d,f){return d<=0?0:this.getUtoTmapping(0,d,f)},getUtoTmapping:function(d,f,m){var p=this.getLengths(m),g=0,v=p.length,y;f?y=Math.min(f,p[v-1]):y=d*p[v-1];for(var x=0,b=v-1,w;x<=b;)if(g=Math.floor(x+(b-x)/2),w=p[g]-y,w<0)x=g+1;else if(w>0)b=g-1;else{b=g;break}if(g=b,p[g]===y)return g/(v-1);var C=p[g],_=p[g+1],S=_-C,T=(y-C)/S;return(g+T)/(v-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});n.exports=h},73825:(n,a,s)=>{var o=s(83419),u=s(80021),l=s(39506),c=s(35154),h=s(43396),d=s(26099),f=new o({Extends:u,initialize:function(p,g,v,y,x,b,w,C){if(typeof p=="object"){var _=p;p=c(_,"x",0),g=c(_,"y",0),v=c(_,"xRadius",0),y=c(_,"yRadius",v),x=c(_,"startAngle",0),b=c(_,"endAngle",360),w=c(_,"clockwise",!1),C=c(_,"rotation",0)}else y===void 0&&(y=v),x===void 0&&(x=0),b===void 0&&(b=360),w===void 0&&(w=!1),C===void 0&&(C=0);u.call(this,"EllipseCurve"),this.p0=new d(p,g),this._xRadius=v,this._yRadius=y,this._startAngle=l(x),this._endAngle=l(b),this._clockwise=w,this._rotation=l(C)},getStartPoint:function(m){return m===void 0&&(m=new d),this.getPoint(0,m)},getResolution:function(m){return m*2},getPoint:function(m,p){p===void 0&&(p=new d);for(var g=Math.PI*2,v=this._endAngle-this._startAngle,y=Math.abs(v)<Number.EPSILON;v<0;)v+=g;for(;v>g;)v-=g;v<Number.EPSILON&&(y?v=0:v=g),this._clockwise&&!y&&(v===g?v=-g:v=v-g);var x=this._startAngle+m*v,b=this.p0.x+this._xRadius*Math.cos(x),w=this.p0.y+this._yRadius*Math.sin(x);if(this._rotation!==0){var C=Math.cos(this._rotation),_=Math.sin(this._rotation),S=b-this.p0.x,T=w-this.p0.y;b=S*C-T*_+this.p0.x,w=S*_+T*C+this.p0.y}return p.set(b,w)},setXRadius:function(m){return this.xRadius=m,this},setYRadius:function(m){return this.yRadius=m,this},setWidth:function(m){return this.xRadius=m/2,this},setHeight:function(m){return this.yRadius=m/2,this},setStartAngle:function(m){return this.startAngle=m,this},setEndAngle:function(m){return this.endAngle=m,this},setClockwise:function(m){return this.clockwise=m,this},setRotation:function(m){return this.rotation=m,this},x:{get:function(){return this.p0.x},set:function(m){this.p0.x=m}},y:{get:function(){return this.p0.y},set:function(m){this.p0.y=m}},xRadius:{get:function(){return this._xRadius},set:function(m){this._xRadius=m}},yRadius:{get:function(){return this._yRadius},set:function(m){this._yRadius=m}},startAngle:{get:function(){return h(this._startAngle)},set:function(m){this._startAngle=l(m)}},endAngle:{get:function(){return h(this._endAngle)},set:function(m){this._endAngle=l(m)}},clockwise:{get:function(){return this._clockwise},set:function(m){this._clockwise=m}},angle:{get:function(){return h(this._rotation)},set:function(m){this._rotation=l(m)}},rotation:{get:function(){return this._rotation},set:function(m){this._rotation=m}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:h(this._startAngle),endAngle:h(this._endAngle),clockwise:this._clockwise,rotation:h(this._rotation)}}});f.fromJSON=function(m){return new f(m)},n.exports=f},33951:(n,a,s)=>{var o=s(83419),u=s(80021),l=s(19217),c=s(87841),h=s(26099),d=new o({Extends:u,initialize:function(m,p){u.call(this,"LineCurve"),Array.isArray(m)&&(p=new h(m[2],m[3]),m=new h(m[0],m[1])),this.p0=m,this.p1=p,this.arcLengthDivisions=1},getBounds:function(f){return f===void 0&&(f=new c),l([this.p0,this.p1],f)},getStartPoint:function(f){return f===void 0&&(f=new h),f.copy(this.p0)},getResolution:function(f){return f===void 0&&(f=1),f},getPoint:function(f,m){return m===void 0&&(m=new h),f===1?m.copy(this.p1):(m.copy(this.p1).subtract(this.p0).scale(f).add(this.p0),m)},getPointAt:function(f,m){return this.getPoint(f,m)},getTangent:function(f,m){return m===void 0&&(m=new h),m.copy(this.p1).subtract(this.p0).normalize(),m},getUtoTmapping:function(f,m,p){var g;if(m){var v=this.getLengths(p),y=v[v.length-1],x=Math.min(m,y);g=x/y}else g=f;return g},draw:function(f){return f.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),f},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});d.fromJSON=function(f){var m=f.points,p=new h(m[0],m[1]),g=new h(m[2],m[3]);return new d(p,g)},n.exports=d},14744:(n,a,s)=>{var o=s(83419),u=s(80021),l=s(32112),c=s(26099),h=new o({Extends:u,initialize:function(f,m,p){u.call(this,"QuadraticBezierCurve"),Array.isArray(f)&&(p=new c(f[4],f[5]),m=new c(f[2],f[3]),f=new c(f[0],f[1])),this.p0=f,this.p1=m,this.p2=p},getStartPoint:function(d){return d===void 0&&(d=new c),d.copy(this.p0)},getResolution:function(d){return d},getPoint:function(d,f){f===void 0&&(f=new c);var m=this.p0,p=this.p1,g=this.p2;return f.set(l(d,m.x,p.x,g.x),l(d,m.y,p.y,g.y))},draw:function(d,f){f===void 0&&(f=32);var m=this.getPoints(f);d.beginPath(),d.moveTo(this.p0.x,this.p0.y);for(var p=1;p<m.length;p++)d.lineTo(m[p].x,m[p].y);return d.strokePath(),d},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});h.fromJSON=function(d){var f=d.points,m=new c(f[0],f[1]),p=new c(f[2],f[3]),g=new c(f[4],f[5]);return new h(m,p,g)},n.exports=h},42534:(n,a,s)=>{var o=s(87842),u=s(83419),l=s(80021),c=s(26099),h=new u({Extends:l,initialize:function(f){f===void 0&&(f=[]),l.call(this,"SplineCurve"),this.points=[],this.addPoints(f)},addPoints:function(d){for(var f=0;f<d.length;f++){var m=new c;typeof d[f]=="number"?(m.x=d[f],m.y=d[f+1],f++):Array.isArray(d[f])?(m.x=d[f][0],m.y=d[f][1]):(m.x=d[f].x,m.y=d[f].y),this.points.push(m)}return this},addPoint:function(d,f){var m=new c(d,f);return this.points.push(m),m},getStartPoint:function(d){return d===void 0&&(d=new c),d.copy(this.points[0])},getResolution:function(d){return d*this.points.length},getPoint:function(d,f){f===void 0&&(f=new c);var m=this.points,p=(m.length-1)*d,g=Math.floor(p),v=p-g,y=m[g===0?g:g-1],x=m[g],b=m[g>m.length-2?m.length-1:g+1],w=m[g>m.length-3?m.length-1:g+2];return f.set(o(v,y.x,x.x,b.x,w.x),o(v,y.y,x.y,b.y,w.y))},toJSON:function(){for(var d=[],f=0;f<this.points.length;f++)d.push(this.points[f].x),d.push(this.points[f].y);return{type:this.type,points:d}}});h.fromJSON=function(d){return new h(d.points)},n.exports=h},25410:(n,a,s)=>{n.exports={Path:s(46669),MoveTo:s(68618),CubicBezier:s(46728),Curve:s(80021),Ellipse:s(73825),Line:s(33951),QuadraticBezier:s(14744),Spline:s(42534)}},68618:(n,a,s)=>{var o=s(83419),u=s(26099),l=new o({initialize:function(h,d){this.active=!1,this.p0=new u(h,d)},getPoint:function(c,h){return h===void 0&&(h=new u),h.copy(this.p0)},getPointAt:function(c,h){return this.getPoint(c,h)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});n.exports=l},46669:(n,a,s)=>{var o=s(83419),u=s(46728),l=s(73825),c=s(39429),h=s(33951),d=s(68618),f=s(14744),m=s(87841),p=s(42534),g=s(26099),v=s(36383),y=new o({initialize:function(b,w){b===void 0&&(b=0),w===void 0&&(w=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new g,this._tmpVec2A=new g,this._tmpVec2B=new g,typeof b=="object"?this.fromJSON(b):this.startPoint.set(b,w)},add:function(x){return this.curves.push(x),this},circleTo:function(x,b,w){return b===void 0&&(b=!1),this.ellipseTo(x,x,0,360,b,w)},closePath:function(){var x=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);return x.equals(b)||this.curves.push(new h(b,x)),this},cubicBezierTo:function(x,b,w,C,_,S){var T=this.getEndPoint(),A,M,I;return x instanceof g?(A=x,M=b,I=w):(A=new g(w,C),M=new g(_,S),I=new g(x,b)),this.add(new u(T,A,M,I))},quadraticBezierTo:function(x,b,w,C){var _=this.getEndPoint(),S,T;return x instanceof g?(S=x,T=b):(S=new g(w,C),T=new g(x,b)),this.add(new f(_,S,T))},draw:function(x,b){for(var w=0;w<this.curves.length;w++){var C=this.curves[w];C.active&&C.draw(x,b)}return x},ellipseTo:function(x,b,w,C,_,S){var T=new l(0,0,x,b,w,C,_,S),A=this.getEndPoint(this._tmpVec2A),M=T.getStartPoint(this._tmpVec2B);return A.subtract(M),T.x=A.x,T.y=A.y,this.add(T)},fromJSON:function(x){this.curves=[],this.cacheLengths=[],this.startPoint.set(x.x,x.y),this.autoClose=x.autoClose;for(var b=0;b<x.curves.length;b++){var w=x.curves[b];switch(w.type){case"LineCurve":this.add(h.fromJSON(w));break;case"EllipseCurve":this.add(l.fromJSON(w));break;case"SplineCurve":this.add(p.fromJSON(w));break;case"CubicBezierCurve":this.add(u.fromJSON(w));break;case"QuadraticBezierCurve":this.add(f.fromJSON(w));break}}return this},getBounds:function(x,b){x===void 0&&(x=new m),b===void 0&&(b=16),x.x=Number.MAX_VALUE,x.y=Number.MAX_VALUE;for(var w=new m,C=v.MIN_SAFE_INTEGER,_=v.MIN_SAFE_INTEGER,S=0;S<this.curves.length;S++){var T=this.curves[S];T.active&&(T.getBounds(w,b),x.x=Math.min(x.x,w.x),x.y=Math.min(x.y,w.y),C=Math.max(C,w.right),_=Math.max(_,w.bottom))}return x.right=C,x.bottom=_,x},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var x=[],b=0,w=0;w<this.curves.length;w++)b+=this.curves[w].getLength(),x.push(b);return this.cacheLengths=x,x},getCurveAt:function(x){for(var b=x*this.getLength(),w=this.getCurveLengths(),C=0;C<w.length;){if(w[C]>=b)return this.curves[C];C++}return null},getEndPoint:function(x){return x===void 0&&(x=new g),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,x):x.copy(this.startPoint),x},getLength:function(){var x=this.getCurveLengths();return x[x.length-1]},getPoint:function(x,b){b===void 0&&(b=new g);for(var w=x*this.getLength(),C=this.getCurveLengths(),_=0;_<C.length;){if(C[_]>=w){var S=C[_]-w,T=this.curves[_],A=T.getLength(),M=A===0?0:1-S/A;return T.getPointAt(M,b)}_++}return null},getPoints:function(x,b){!x&&!b&&(x=this.defaultDivisions);for(var w=[],C,_=0;_<this.curves.length;_++){var S=this.curves[_];if(S.active)for(var T=S.getResolution(x),A=S.getPoints(T,b),M=0;M<A.length;M++){var I=A[M];C&&C.equals(I)||(w.push(I),C=I)}}return this.autoClose&&w.length>1&&!w[w.length-1].equals(w[0])&&w.push(w[0]),w},getRandomPoint:function(x){return x===void 0&&(x=new g),this.getPoint(Math.random(),x)},getSpacedPoints:function(x){x===void 0&&(x=40);for(var b=[],w=0;w<=x;w++)b.push(this.getPoint(w/x));return this.autoClose&&b.push(b[0]),b},getStartPoint:function(x){return x===void 0&&(x=new g),x.copy(this.startPoint)},getTangent:function(x,b){b===void 0&&(b=new g);for(var w=x*this.getLength(),C=this.getCurveLengths(),_=0;_<C.length;){if(C[_]>=w){var S=C[_]-w,T=this.curves[_],A=T.getLength(),M=A===0?0:1-S/A;return T.getTangentAt(M,b)}_++}return null},lineTo:function(x,b){x instanceof g?this._tmpVec2B.copy(x):typeof x=="object"?this._tmpVec2B.setFromObject(x):this._tmpVec2B.set(x,b);var w=this.getEndPoint(this._tmpVec2A);return this.add(new h([w.x,w.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(x){return x.unshift(this.getEndPoint()),this.add(new p(x))},moveTo:function(x,b){return x instanceof g?this.add(new d(x.x,x.y)):this.add(new d(x,b))},toJSON:function(){for(var x=[],b=0;b<this.curves.length;b++)x.push(this.curves[b].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:x}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});c.register("path",function(x,b){return new y(x,b)}),n.exports=y},45893:(n,a,s)=>{var o=s(83419),u=s(24882),l=new o({initialize:function(h,d){this.parent=h,this.events=d,d||(this.events=h.events?h.events:h),this.list={},this.values={},this._frozen=!1,!h.hasOwnProperty("sys")&&this.events&&this.events.once(u.DESTROY,this.destroy,this)},get:function(c){var h=this.list;if(Array.isArray(c)){for(var d=[],f=0;f<c.length;f++)d.push(h[c[f]]);return d}else return h[c]},getAll:function(){var c={};for(var h in this.list)this.list.hasOwnProperty(h)&&(c[h]=this.list[h]);return c},query:function(c){var h={};for(var d in this.list)this.list.hasOwnProperty(d)&&d.match(c)&&(h[d]=this.list[d]);return h},set:function(c,h){if(this._frozen)return this;if(typeof c=="string")return this.setValue(c,h);for(var d in c)this.setValue(d,c[d]);return this},inc:function(c,h){if(this._frozen)return this;h===void 0&&(h=1);var d=this.get(c);return d===void 0&&(d=0),this.set(c,d+h),this},toggle:function(c){return this._frozen?this:(this.set(c,!this.get(c)),this)},setValue:function(c,h){if(this._frozen)return this;if(this.has(c))this.values[c]=h;else{var d=this,f=this.list,m=this.events,p=this.parent;Object.defineProperty(this.values,c,{enumerable:!0,configurable:!0,get:function(){return f[c]},set:function(g){if(!d._frozen){var v=f[c];f[c]=g,m.emit(u.CHANGE_DATA,p,c,g,v),m.emit(u.CHANGE_DATA_KEY+c,p,g,v)}}}),f[c]=h,m.emit(u.SET_DATA,p,c,h)}return this},each:function(c,h){for(var d=[this.parent,null,void 0],f=1;f<arguments.length;f++)d.push(arguments[f]);for(var m in this.list)d[1]=m,d[2]=this.list[m],c.apply(h,d);return this},merge:function(c,h){h===void 0&&(h=!0);for(var d in c)c.hasOwnProperty(d)&&(h||!h&&!this.has(d))&&this.setValue(d,c[d]);return this},remove:function(c){if(this._frozen)return this;if(Array.isArray(c))for(var h=0;h<c.length;h++)this.removeValue(c[h]);else return this.removeValue(c);return this},removeValue:function(c){if(this.has(c)){var h=this.list[c];delete this.list[c],delete this.values[c],this.events.emit(u.REMOVE_DATA,this.parent,c,h)}return this},pop:function(c){var h=void 0;return!this._frozen&&this.has(c)&&(h=this.list[c],delete this.list[c],delete this.values[c],this.events.emit(u.REMOVE_DATA,this.parent,c,h)),h},has:function(c){return this.list.hasOwnProperty(c)},setFreeze:function(c){return this._frozen=c,this},reset:function(){for(var c in this.list)delete this.list[c],delete this.values[c];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(u.CHANGE_DATA),this.events.off(u.SET_DATA),this.events.off(u.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(c){this._frozen=!!c}},count:{get:function(){var c=0;for(var h in this.list)this.list[h]!==void 0&&c++;return c}}});n.exports=l},63646:(n,a,s)=>{var o=s(83419),u=s(45893),l=s(37277),c=s(44594),h=new o({Extends:u,initialize:function(f){u.call(this,f,f.sys.events),this.scene=f,this.systems=f.sys,f.sys.events.once(c.BOOT,this.boot,this),f.sys.events.on(c.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(c.DESTROY,this.destroy,this)},start:function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){u.prototype.destroy.call(this),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});l.register("DataManagerPlugin",h,"data"),n.exports=h},10700:n=>{n.exports="changedata"},93608:n=>{n.exports="changedata-"},60883:n=>{n.exports="destroy"},69780:n=>{n.exports="removedata"},22166:n=>{n.exports="setdata"},24882:(n,a,s)=>{n.exports={CHANGE_DATA:s(10700),CHANGE_DATA_KEY:s(93608),DESTROY:s(60883),REMOVE_DATA:s(69780),SET_DATA:s(22166)}},44965:(n,a,s)=>{n.exports={DataManager:s(45893),DataManagerPlugin:s(63646),Events:s(24882)}},7098:(n,a,s)=>{var o=s(84148),u={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function l(){if(typeof importScripts=="function")return u;u.audioData=!!window.Audio,u.webAudio=!!(window.AudioContext||window.webkitAudioContext);var c=document.createElement("audio"),h=!!c.canPlayType;try{if(h){var d=function(p,g){var v=c.canPlayType("audio/"+p).replace(/^no$/,"");return g?!!(v||c.canPlayType("audio/"+g).replace(/^no$/,"")):!!v};if(u.ogg=d('ogg; codecs="vorbis"'),u.opus=d('ogg; codecs="opus"',"opus"),u.mp3=d("mpeg"),u.wav=d("wav"),u.m4a=d("x-m4a"),u.aac=d("aac"),u.flac=d("flac","x-flac"),u.webm=d('webm; codecs="vorbis"'),c.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)u.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var f=parseInt(RegExp.$1,10),m=parseInt(RegExp.$2,10);(f===10&&m>=11||f>10)&&(u.dolby=!0)}}}}catch{}return u}n.exports=l()},84148:(n,a,s)=>{var o=s(25892),u={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function l(){var c=navigator.userAgent;return/Edg\/\d+/.test(c)?(u.edge=!0,u.es2019=!0):/OPR/.test(c)?(u.opera=!0,u.es2019=!0):/Chrome\/(\d+)/.test(c)&&!o.windowsPhone?(u.chrome=!0,u.chromeVersion=parseInt(RegExp.$1,10),u.es2019=u.chromeVersion>69):/Firefox\D+(\d+)/.test(c)?(u.firefox=!0,u.firefoxVersion=parseInt(RegExp.$1,10),u.es2019=u.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(c)&&o.iOS?(u.mobileSafari=!0,u.es2019=!0):/MSIE (\d+\.\d+);/.test(c)?(u.ie=!0,u.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(c)&&!o.windowsPhone?(u.safari=!0,u.safariVersion=parseInt(RegExp.$1,10),u.es2019=u.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(c)&&(u.ie=!0,u.trident=!0,u.tridentVersion=parseInt(RegExp.$1,10),u.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(c)&&(u.silk=!0),u}n.exports=l()},89289:(n,a,s)=>{var o=s(27919),u={supportInverseAlpha:!1,supportNewBlendModes:!1};function l(){var d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",f="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",m=new Image;return m.onload=function(){var p=new Image;p.onload=function(){var g=o.create2D(p,6),v=g.getContext("2d",{willReadFrequently:!0});if(v.globalCompositeOperation="multiply",v.drawImage(m,0,0),v.drawImage(p,2,0),!v.getImageData(2,0,1,1))return!1;var y=v.getImageData(2,0,1,1).data;o.remove(p),u.supportNewBlendModes=y[0]===255&&y[1]===0&&y[2]===0},p.src=d+"/wCKxvRF"+f},m.src=d+"AP804Oa6"+f,!1}function c(){var d=o.create2D(this,2),f=d.getContext("2d",{willReadFrequently:!0});f.fillStyle="rgba(10, 20, 30, 0.5)",f.fillRect(0,0,1,1);var m=f.getImageData(0,0,1,1);if(m===null)return!1;f.putImageData(m,1,0);var p=f.getImageData(1,0,1,1),g=p.data[0]===m.data[0]&&p.data[1]===m.data[1]&&p.data[2]===m.data[2]&&p.data[3]===m.data[3];return o.remove(this),g}function h(){return typeof importScripts!="function"&&document!==void 0&&(u.supportNewBlendModes=l(),u.supportInverseAlpha=c()),u}n.exports=h()},89357:(n,a,s)=>{var o=s(25892),u=s(84148),l=s(27919),c={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function h(){var f=new ArrayBuffer(4),m=new Uint8Array(f),p=new Uint32Array(f);return m[0]=161,m[1]=178,m[2]=195,m[3]=212,p[0]===3569595041?!0:p[0]===2712847316?!1:null}function d(){if(typeof importScripts=="function")return c;c.canvas=!!window.CanvasRenderingContext2D;try{c.localStorage=!!localStorage.getItem}catch{c.localStorage=!1}c.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,c.fileSystem=!!window.requestFileSystem;var f=!1,m=function(){if(window.WebGLRenderingContext)try{var p=l.createWebGL(this),g=p.getContext("webgl")||p.getContext("experimental-webgl"),v=l.create2D(this),y=v.getContext("2d",{willReadFrequently:!0}),x=y.createImageData(1,1);return f=x.data instanceof Uint8ClampedArray,l.remove(p),l.remove(v),!!g}catch{return!1}return!1};return c.webGL=m(),c.worker=!!window.Worker,c.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,c.getUserMedia=c.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,u.firefox&&u.firefoxVersion<21&&(c.getUserMedia=!1),!o.iOS&&(u.ie||u.firefox||u.chrome)&&(c.canvasBitBltShift=!0),(u.safari||u.mobileSafari)&&(c.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(c.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(c.littleEndian=h()),c.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&c.littleEndian!==null&&f,c}n.exports=d()},91639:n=>{var a={available:!1,cancel:"",keyboard:!1,request:""};function s(){if(typeof importScripts=="function")return a;var o,u="Fullscreen",l="FullScreen",c=["request"+u,"request"+l,"webkitRequest"+u,"webkitRequest"+l,"msRequest"+u,"msRequest"+l,"mozRequest"+l,"mozRequest"+u];for(o=0;o<c.length;o++)if(document.documentElement[c[o]]){a.available=!0,a.request=c[o];break}var h=["cancel"+l,"exit"+u,"webkitCancel"+l,"webkitExit"+u,"msCancel"+l,"msExit"+u,"mozCancel"+l,"mozExit"+u];if(a.available){for(o=0;o<h.length;o++)if(document[h[o]]){a.cancel=h[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(a.keyboard=!0),Object.defineProperty(a,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),a}n.exports=s()},31784:(n,a,s)=>{var o=s(84148),u={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function l(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(u.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(u.mspointer=!0),navigator.getGamepads&&(u.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?u.wheelEvent="wheel":"onmousewheel"in window?u.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(u.wheelEvent="DOMMouseScroll")),u}n.exports=l()},25892:n=>{var a={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function s(){if(typeof importScripts=="function")return a;var o=navigator.userAgent;/Windows/.test(o)?a.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(a.iOS=!0,a.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),a.iOSVersion=parseInt(RegExp.$1,10)):a.macOS=!0:/Android/.test(o)?a.android=!0:/Linux/.test(o)?a.linux=!0:/iP[ao]d|iPhone/i.test(o)?(a.iOS=!0,navigator.appVersion.match(/OS (\d+)/),a.iOSVersion=parseInt(RegExp.$1,10),a.iPhone=o.toLowerCase().indexOf("iphone")!==-1,a.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?a.kindle=!0:/CrOS/.test(o)&&(a.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(a.android=!1,a.iOS=!1,a.macOS=!1,a.windows=!0,a.windowsPhone=!0);var u=/Silk/.test(o);return(a.windows||a.macOS||a.linux&&!u||a.chromeOS)&&(a.desktop=!0),(a.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(a.desktop=!1),navigator.standalone&&(a.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(a.cordova=!0),window.ejecta!==void 0&&(a.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(a.node=!0),a.node&&typeof process.versions=="object"&&(a.nodeWebkit=!!process.versions["node-webkit"],a.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(a.crosswalk=!0),a.pixelRatio=window.devicePixelRatio||1,a}n.exports=s()},43267:(n,a,s)=>{var o=s(95540),u={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function l(){if(typeof importScripts=="function")return u;var c=document.createElement("video"),h=!!c.canPlayType,d=/^no$/;try{h&&(c.canPlayType('video/ogg; codecs="theora"').replace(d,"")&&(u.ogg=!0),c.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(d,"")&&(u.h264=!0,u.mp4=!0),c.canPlayType("video/x-m4v").replace(d,"")&&(u.m4v=!0),c.canPlayType('video/webm; codecs="vp8, vorbis"').replace(d,"")&&(u.webm=!0),c.canPlayType('video/webm; codecs="vp9"').replace(d,"")&&(u.vp9=!0),c.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(d,"")&&(u.hls=!0))}catch{}return c.parentNode&&c.parentNode.removeChild(c),u.getVideoURL=function(f){Array.isArray(f)||(f=[f]);for(var m=0;m<f.length;m++){var p=o(f[m],"url",f[m]);if(p.indexOf("blob:")===0)return{url:p,type:""};var g;if(p.indexOf("data:")===0?g=p.split(",")[0].match(/\/(.*?);/):g=p.match(/\.([a-zA-Z0-9]+)($|\?)/),g=o(f[m],"type",g?g[1]:"").toLowerCase(),u[g])return{url:p,type:g}}return null},u}n.exports=l()},82264:(n,a,s)=>{n.exports={os:s(25892),browser:s(84148),features:s(89357),input:s(31784),audio:s(7098),video:s(43267),fullscreen:s(91639),canvasFeatures:s(89289)}},89422:(n,a,s)=>{var o=s(83419),u=new Float32Array(20),l=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(c){return this._matrix.set(c),this._dirty=!0,this},reset:function(){var c=this._matrix;return c.fill(0),c[0]=1,c[6]=1,c[12]=1,c[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var c=this._data;return this._dirty&&(c.set(this._matrix),c[4]/=255,c[9]/=255,c[14]/=255,c[19]/=255,this._dirty=!1),c},brightness:function(c,h){c===void 0&&(c=0),h===void 0&&(h=!1);var d=c;return this.multiply([d,0,0,0,0,0,d,0,0,0,0,0,d,0,0,0,0,0,1,0],h)},saturate:function(c,h){c===void 0&&(c=0),h===void 0&&(h=!1);var d=c*2/3+1,f=(d-1)*-.5;return this.multiply([d,f,f,0,0,f,d,f,0,0,f,f,d,0,0,0,0,0,1,0],h)},desaturate:function(c){return c===void 0&&(c=!1),this.saturate(-1,c)},hue:function(c,h){c===void 0&&(c=0),h===void 0&&(h=!1),c=c/180*Math.PI;var d=Math.cos(c),f=Math.sin(c),m=.213,p=.715,g=.072;return this.multiply([m+d*(1-m)+f*-m,p+d*-p+f*-p,g+d*-g+f*(1-g),0,0,m+d*-m+f*.143,p+d*(1-p)+f*.14,g+d*-g+f*-.283,0,0,m+d*-m+f*-(1-m),p+d*-p+f*p,g+d*(1-g)+f*g,0,0,0,0,0,1,0],h)},grayscale:function(c,h){return c===void 0&&(c=1),h===void 0&&(h=!1),this.saturate(-c,h)},blackWhite:function(c){return c===void 0&&(c=!1),this.multiply(l.BLACK_WHITE,c)},contrast:function(c,h){c===void 0&&(c=0),h===void 0&&(h=!1);var d=c+1,f=-.5*(d-1);return this.multiply([d,0,0,0,f,0,d,0,0,f,0,0,d,0,f,0,0,0,1,0],h)},negative:function(c){return c===void 0&&(c=!1),this.multiply(l.NEGATIVE,c)},desaturateLuminance:function(c){return c===void 0&&(c=!1),this.multiply(l.DESATURATE_LUMINANCE,c)},sepia:function(c){return c===void 0&&(c=!1),this.multiply(l.SEPIA,c)},night:function(c,h){return c===void 0&&(c=.1),h===void 0&&(h=!1),this.multiply([c*-2,-c,0,0,0,-c,0,c,0,0,0,c,c*2,0,0,0,0,0,1,0],h)},lsd:function(c){return c===void 0&&(c=!1),this.multiply(l.LSD,c)},brown:function(c){return c===void 0&&(c=!1),this.multiply(l.BROWN,c)},vintagePinhole:function(c){return c===void 0&&(c=!1),this.multiply(l.VINTAGE,c)},kodachrome:function(c){return c===void 0&&(c=!1),this.multiply(l.KODACHROME,c)},technicolor:function(c){return c===void 0&&(c=!1),this.multiply(l.TECHNICOLOR,c)},polaroid:function(c){return c===void 0&&(c=!1),this.multiply(l.POLAROID,c)},shiftToBGR:function(c){return c===void 0&&(c=!1),this.multiply(l.SHIFT_BGR,c)},multiply:function(c,h){h===void 0&&(h=!1),h||this.reset();var d=this._matrix,f=u;return f.set(d),d.set([f[0]*c[0]+f[1]*c[5]+f[2]*c[10]+f[3]*c[15],f[0]*c[1]+f[1]*c[6]+f[2]*c[11]+f[3]*c[16],f[0]*c[2]+f[1]*c[7]+f[2]*c[12]+f[3]*c[17],f[0]*c[3]+f[1]*c[8]+f[2]*c[13]+f[3]*c[18],f[0]*c[4]+f[1]*c[9]+f[2]*c[14]+f[3]*c[19]+f[4],f[5]*c[0]+f[6]*c[5]+f[7]*c[10]+f[8]*c[15],f[5]*c[1]+f[6]*c[6]+f[7]*c[11]+f[8]*c[16],f[5]*c[2]+f[6]*c[7]+f[7]*c[12]+f[8]*c[17],f[5]*c[3]+f[6]*c[8]+f[7]*c[13]+f[8]*c[18],f[5]*c[4]+f[6]*c[9]+f[7]*c[14]+f[8]*c[19]+f[9],f[10]*c[0]+f[11]*c[5]+f[12]*c[10]+f[13]*c[15],f[10]*c[1]+f[11]*c[6]+f[12]*c[11]+f[13]*c[16],f[10]*c[2]+f[11]*c[7]+f[12]*c[12]+f[13]*c[17],f[10]*c[3]+f[11]*c[8]+f[12]*c[13]+f[13]*c[18],f[10]*c[4]+f[11]*c[9]+f[12]*c[14]+f[13]*c[19]+f[14],f[15]*c[0]+f[16]*c[5]+f[17]*c[10]+f[18]*c[15],f[15]*c[1]+f[16]*c[6]+f[17]*c[11]+f[18]*c[16],f[15]*c[2]+f[16]*c[7]+f[17]*c[12]+f[18]*c[17],f[15]*c[3]+f[16]*c[8]+f[17]*c[13]+f[18]*c[18],f[15]*c[4]+f[16]*c[9]+f[17]*c[14]+f[18]*c[19]+f[19]]),this._dirty=!0,this}});l.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],l.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],l.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],l.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],l.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],l.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],l.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],l.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],l.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],l.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],l.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],n.exports=l},51767:(n,a,s)=>{var o=s(83419),u=s(29747),l=new o({initialize:function(h,d,f){this._rgb=[0,0,0],this.onChangeCallback=u,this.dirty=!1,this.set(h,d,f)},set:function(c,h,d){return c===void 0&&(c=0),h===void 0&&(h=0),d===void 0&&(d=0),this._rgb=[c,h,d],this.onChange(),this},equals:function(c,h,d){var f=this._rgb;return f[0]===c&&f[1]===h&&f[2]===d},onChange:function(){this.dirty=!0;var c=this._rgb;this.onChangeCallback.call(this,c[0],c[1],c[2])},r:{get:function(){return this._rgb[0]},set:function(c){this._rgb[0]=c,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(c){this._rgb[1]=c,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(c){this._rgb[2]=c,this.onChange()}},destroy:function(){this.onChangeCallback=null}});n.exports=l},60461:n=>{var a={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};n.exports=a},54312:(n,a,s)=>{var o=s(62235),u=s(35893),l=s(86327),c=s(88417),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),c(d,u(f)+m),l(d,o(f)+p),d};n.exports=h},46768:(n,a,s)=>{var o=s(62235),u=s(26541),l=s(86327),c=s(385),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),c(d,u(f)-m),l(d,o(f)+p),d};n.exports=h},35827:(n,a,s)=>{var o=s(62235),u=s(54380),l=s(86327),c=s(40136),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),c(d,u(f)+m),l(d,o(f)+p),d};n.exports=h},46871:(n,a,s)=>{var o=s(66786),u=s(35893),l=s(7702),c=function(h,d,f,m){return f===void 0&&(f=0),m===void 0&&(m=0),o(h,u(d)+f,l(d)+m),h};n.exports=c},5198:(n,a,s)=>{var o=s(7702),u=s(26541),l=s(20786),c=s(385),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),c(d,u(f)-m),l(d,o(f)+p),d};n.exports=h},11879:(n,a,s)=>{var o=s(60461),u=[];u[o.BOTTOM_CENTER]=s(54312),u[o.BOTTOM_LEFT]=s(46768),u[o.BOTTOM_RIGHT]=s(35827),u[o.CENTER]=s(46871),u[o.LEFT_CENTER]=s(5198),u[o.RIGHT_CENTER]=s(80503),u[o.TOP_CENTER]=s(89698),u[o.TOP_LEFT]=s(922),u[o.TOP_RIGHT]=s(21373),u[o.LEFT_BOTTOM]=u[o.BOTTOM_LEFT],u[o.LEFT_TOP]=u[o.TOP_LEFT],u[o.RIGHT_BOTTOM]=u[o.BOTTOM_RIGHT],u[o.RIGHT_TOP]=u[o.TOP_RIGHT];var l=function(c,h,d,f,m){return u[d](c,h,f,m)};n.exports=l},80503:(n,a,s)=>{var o=s(7702),u=s(54380),l=s(20786),c=s(40136),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),c(d,u(f)+m),l(d,o(f)+p),d};n.exports=h},89698:(n,a,s)=>{var o=s(35893),u=s(17717),l=s(88417),c=s(66737),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),l(d,o(f)+m),c(d,u(f)-p),d};n.exports=h},922:(n,a,s)=>{var o=s(26541),u=s(17717),l=s(385),c=s(66737),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),l(d,o(f)-m),c(d,u(f)-p),d};n.exports=h},21373:(n,a,s)=>{var o=s(54380),u=s(17717),l=s(40136),c=s(66737),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),l(d,o(f)+m),c(d,u(f)-p),d};n.exports=h},91660:(n,a,s)=>{n.exports={BottomCenter:s(54312),BottomLeft:s(46768),BottomRight:s(35827),Center:s(46871),LeftCenter:s(5198),QuickSet:s(11879),RightCenter:s(80503),TopCenter:s(89698),TopLeft:s(922),TopRight:s(21373)}},71926:(n,a,s)=>{var o=s(60461),u=s(79291),l={In:s(91660),To:s(16694)};l=u(!1,l,o),n.exports=l},21578:(n,a,s)=>{var o=s(62235),u=s(35893),l=s(88417),c=s(66737),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),l(d,u(f)+m),c(d,o(f)+p),d};n.exports=h},10210:(n,a,s)=>{var o=s(62235),u=s(26541),l=s(385),c=s(66737),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),l(d,u(f)-m),c(d,o(f)+p),d};n.exports=h},82341:(n,a,s)=>{var o=s(62235),u=s(54380),l=s(40136),c=s(66737),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),l(d,u(f)+m),c(d,o(f)+p),d};n.exports=h},87958:(n,a,s)=>{var o=s(62235),u=s(26541),l=s(86327),c=s(40136),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),c(d,u(f)-m),l(d,o(f)+p),d};n.exports=h},40080:(n,a,s)=>{var o=s(7702),u=s(26541),l=s(20786),c=s(40136),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),c(d,u(f)-m),l(d,o(f)+p),d};n.exports=h},88466:(n,a,s)=>{var o=s(26541),u=s(17717),l=s(40136),c=s(66737),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),l(d,o(f)-m),c(d,u(f)-p),d};n.exports=h},38829:(n,a,s)=>{var o=s(60461),u=[];u[o.BOTTOM_CENTER]=s(21578),u[o.BOTTOM_LEFT]=s(10210),u[o.BOTTOM_RIGHT]=s(82341),u[o.LEFT_BOTTOM]=s(87958),u[o.LEFT_CENTER]=s(40080),u[o.LEFT_TOP]=s(88466),u[o.RIGHT_BOTTOM]=s(19211),u[o.RIGHT_CENTER]=s(34609),u[o.RIGHT_TOP]=s(48741),u[o.TOP_CENTER]=s(49440),u[o.TOP_LEFT]=s(81288),u[o.TOP_RIGHT]=s(61323);var l=function(c,h,d,f,m){return u[d](c,h,f,m)};n.exports=l},19211:(n,a,s)=>{var o=s(62235),u=s(54380),l=s(86327),c=s(385),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),c(d,u(f)+m),l(d,o(f)+p),d};n.exports=h},34609:(n,a,s)=>{var o=s(7702),u=s(54380),l=s(20786),c=s(385),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),c(d,u(f)+m),l(d,o(f)+p),d};n.exports=h},48741:(n,a,s)=>{var o=s(54380),u=s(17717),l=s(385),c=s(66737),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),l(d,o(f)+m),c(d,u(f)-p),d};n.exports=h},49440:(n,a,s)=>{var o=s(35893),u=s(17717),l=s(86327),c=s(88417),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),c(d,o(f)+m),l(d,u(f)-p),d};n.exports=h},81288:(n,a,s)=>{var o=s(26541),u=s(17717),l=s(86327),c=s(385),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),c(d,o(f)-m),l(d,u(f)-p),d};n.exports=h},61323:(n,a,s)=>{var o=s(54380),u=s(17717),l=s(86327),c=s(40136),h=function(d,f,m,p){return m===void 0&&(m=0),p===void 0&&(p=0),c(d,o(f)+m),l(d,u(f)-p),d};n.exports=h},16694:(n,a,s)=>{n.exports={BottomCenter:s(21578),BottomLeft:s(10210),BottomRight:s(82341),LeftBottom:s(87958),LeftCenter:s(40080),LeftTop:s(88466),QuickSet:s(38829),RightBottom:s(19211),RightCenter:s(34609),RightTop:s(48741),TopCenter:s(49440),TopLeft:s(81288),TopRight:s(61323)}},66786:(n,a,s)=>{var o=s(88417),u=s(20786),l=function(c,h,d){return o(c,h),u(c,d)};n.exports=l},62235:n=>{var a=function(s){return s.y+s.height-s.height*s.originY};n.exports=a},72873:(n,a,s)=>{var o=s(62235),u=s(26541),l=s(54380),c=s(17717),h=s(87841),d=function(f,m){m===void 0&&(m=new h);var p=u(f),g=c(f);return m.x=p,m.y=g,m.width=l(f)-p,m.height=o(f)-g,m};n.exports=d},35893:n=>{var a=function(s){return s.x-s.width*s.originX+s.width*.5};n.exports=a},7702:n=>{var a=function(s){return s.y-s.height*s.originY+s.height*.5};n.exports=a},26541:n=>{var a=function(s){return s.x-s.width*s.originX};n.exports=a},87431:n=>{var a=function(s){return s.width*s.originX};n.exports=a},46928:n=>{var a=function(s){return s.height*s.originY};n.exports=a},54380:n=>{var a=function(s){return s.x+s.width-s.width*s.originX};n.exports=a},17717:n=>{var a=function(s){return s.y-s.height*s.originY};n.exports=a},86327:n=>{var a=function(s,o){return s.y=o-s.height+s.height*s.originY,s};n.exports=a},88417:n=>{var a=function(s,o){var u=s.width*s.originX;return s.x=o+u-s.width*.5,s};n.exports=a},20786:n=>{var a=function(s,o){var u=s.height*s.originY;return s.y=o+u-s.height*.5,s};n.exports=a},385:n=>{var a=function(s,o){return s.x=o+s.width*s.originX,s};n.exports=a},40136:n=>{var a=function(s,o){return s.x=o-s.width+s.width*s.originX,s};n.exports=a},66737:n=>{var a=function(s,o){return s.y=o+s.height*s.originY,s};n.exports=a},58724:(n,a,s)=>{n.exports={CenterOn:s(66786),GetBottom:s(62235),GetBounds:s(72873),GetCenterX:s(35893),GetCenterY:s(7702),GetLeft:s(26541),GetOffsetX:s(87431),GetOffsetY:s(46928),GetRight:s(54380),GetTop:s(17717),SetBottom:s(86327),SetCenterX:s(88417),SetCenterY:s(20786),SetLeft:s(385),SetRight:s(40136),SetTop:s(66737)}},20623:n=>{var a={setCrisp:function(s){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(u){s.style["image-rendering"]=u}),s.style.msInterpolationMode="nearest-neighbor",s},setBicubic:function(s){return s.style["image-rendering"]="auto",s.style.msInterpolationMode="bicubic",s}};n.exports=a},27919:(n,a,s)=>{var o=s(8054),u=s(68703),l=[],c=!1,h=function(){var d=function(w,C,_,S,T){C===void 0&&(C=1),_===void 0&&(_=1),S===void 0&&(S=o.CANVAS),T===void 0&&(T=!1);var A,M=p(S);return M===null?(M={parent:w,canvas:document.createElement("canvas"),type:S},S===o.CANVAS&&l.push(M),A=M.canvas):(M.parent=w,A=M.canvas),T&&(M.parent=A),A.width=C,A.height=_,c&&S===o.CANVAS&&u.disable(A.getContext("2d",{willReadFrequently:!1})),A},f=function(w,C,_){return d(w,C,_,o.CANVAS)},m=function(w,C,_){return d(w,C,_,o.WEBGL)},p=function(w){if(w===void 0&&(w=o.CANVAS),w===o.WEBGL)return null;for(var C=0;C<l.length;C++){var _=l[C];if(!_.parent&&_.type===w)return _}return null},g=function(w){var C=w instanceof HTMLCanvasElement;l.forEach(function(_){(C&&_.canvas===w||!C&&_.parent===w)&&(_.parent=null,_.canvas.width=1,_.canvas.height=1)})},v=function(){var w=0;return l.forEach(function(C){C.parent&&w++}),w},y=function(){return l.length-v()},x=function(){c=!0},b=function(){c=!1};return{create2D:f,create:d,createWebGL:m,disableSmoothing:x,enableSmoothing:b,first:p,free:y,pool:l,remove:g,total:v}};n.exports=h()},68703:n=>{var a="",s=function(){var o=function(h){for(var d=["i","webkitI","msI","mozI","oI"],f=0;f<d.length;f++){var m=d[f]+"mageSmoothingEnabled";if(m in h)return m}return null},u=function(h){return a===""&&(a=o(h)),a&&(h[a]=!0),h},l=function(h){return a===""&&(a=o(h)),a&&(h[a]=!1),h},c=function(h){return a!==null?h[a]:null};return{disable:l,enable:u,getPrefix:o,isEnabled:c}};n.exports=s()},65208:n=>{var a=function(s,o){return o===void 0&&(o="none"),s.style.msTouchAction=o,s.style["ms-touch-action"]=o,s.style["touch-action"]=o,s};n.exports=a},91610:n=>{var a=function(s,o){o===void 0&&(o="none");var u=["-webkit-","-khtml-","-moz-","-ms-",""];return u.forEach(function(l){s.style[l+"user-select"]=o}),s.style["-webkit-touch-callout"]=o,s.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",s};n.exports=a},26253:(n,a,s)=>{n.exports={CanvasInterpolation:s(20623),CanvasPool:s(27919),Smoothing:s(68703),TouchAction:s(65208),UserSelect:s(91610)}},40987:(n,a,s)=>{var o=s(83419),u=s(37589),l=s(1e3),c=s(7537),h=s(87837),d=new o({initialize:function(m,p,g,v){m===void 0&&(m=0),p===void 0&&(p=0),g===void 0&&(g=0),v===void 0&&(v=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(m,p,g,v)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(f,m,p,g,v){return g===void 0&&(g=255),v===void 0&&(v=!0),this._locked=!0,this.red=f,this.green=m,this.blue=p,this.alpha=g,this._locked=!1,this.update(v)},setGLTo:function(f,m,p,g){return g===void 0&&(g=1),this._locked=!0,this.redGL=f,this.greenGL=m,this.blueGL=p,this.alphaGL=g,this._locked=!1,this.update(!0)},setFromRGB:function(f){return this._locked=!0,this.red=f.r,this.green=f.g,this.blue=f.b,f.hasOwnProperty("a")&&(this.alpha=f.a),this._locked=!1,this.update(!0)},setFromHSV:function(f,m,p){return c(f,m,p,this)},update:function(f){if(f===void 0&&(f=!1),this._locked)return this;var m=this.r,p=this.g,g=this.b,v=this.a;return this._color=u(m,p,g),this._color32=l(m,p,g,v),this._rgba="rgba("+m+","+p+","+g+","+v/255+")",f&&h(m,p,g,this),this},updateHSV:function(){var f=this.r,m=this.g,p=this.b;return h(f,m,p,this),this},clone:function(){return new d(this.r,this.g,this.b,this.a)},gray:function(f){return this.setTo(f,f,f)},random:function(f,m){f===void 0&&(f=0),m===void 0&&(m=255);var p=Math.floor(f+Math.random()*(m-f)),g=Math.floor(f+Math.random()*(m-f)),v=Math.floor(f+Math.random()*(m-f));return this.setTo(p,g,v)},randomGray:function(f,m){f===void 0&&(f=0),m===void 0&&(m=255);var p=Math.floor(f+Math.random()*(m-f));return this.setTo(p,p,p)},saturate:function(f){return this.s+=f/100,this},desaturate:function(f){return this.s-=f/100,this},lighten:function(f){return this.v+=f/100,this},darken:function(f){return this.v-=f/100,this},brighten:function(f){var m=this.r,p=this.g,g=this.b;return m=Math.max(0,Math.min(255,m-Math.round(255*-(f/100)))),p=Math.max(0,Math.min(255,p-Math.round(255*-(f/100)))),g=Math.max(0,Math.min(255,g-Math.round(255*-(f/100)))),this.setTo(m,p,g)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(f){this.gl[0]=Math.min(Math.abs(f),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(f){this.gl[1]=Math.min(Math.abs(f),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(f){this.gl[2]=Math.min(Math.abs(f),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(f){this.gl[3]=Math.min(Math.abs(f),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(f){f=Math.floor(Math.abs(f)),this.r=Math.min(f,255),this.gl[0]=f/255,this.update(!0)}},green:{get:function(){return this.g},set:function(f){f=Math.floor(Math.abs(f)),this.g=Math.min(f,255),this.gl[1]=f/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(f){f=Math.floor(Math.abs(f)),this.b=Math.min(f,255),this.gl[2]=f/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(f){f=Math.floor(Math.abs(f)),this.a=Math.min(f,255),this.gl[3]=f/255,this.update()}},h:{get:function(){return this._h},set:function(f){this._h=f,c(f,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(f){this._s=f,c(this._h,f,this._v,this)}},v:{get:function(){return this._v},set:function(f){this._v=f,c(this._h,this._s,f,this)}}});n.exports=d},92728:(n,a,s)=>{var o=s(37589),u=function(l){l===void 0&&(l=1024);var c=[],h=255,d,f=255,m=0,p=0;for(d=0;d<=h;d++)c.push({r:f,g:d,b:p,color:o(f,d,p)});for(m=255,d=h;d>=0;d--)c.push({r:d,g:m,b:p,color:o(d,m,p)});for(f=0,d=0;d<=h;d++,m--)c.push({r:f,g:m,b:d,color:o(f,m,d)});for(m=0,p=255,d=0;d<=h;d++,p--,f++)c.push({r:f,g:m,b:p,color:o(f,m,p)});if(l===1024)return c;var g=[],v=0,y=1024/l;for(d=0;d<l;d++)g.push(c[Math.floor(v)]),v+=y;return g};n.exports=u},91588:n=>{var a=function(s){var o={r:s>>16&255,g:s>>8&255,b:s&255,a:255};return s>16777215&&(o.a=s>>>24),o};n.exports=a},62957:n=>{var a=function(s){var o=s.toString(16);return o.length===1?"0"+o:o};n.exports=a},37589:n=>{var a=function(s,o,u){return s<<16|o<<8|u};n.exports=a},1e3:n=>{var a=function(s,o,u,l){return l<<24|s<<16|o<<8|u};n.exports=a},62183:(n,a,s)=>{var o=s(40987),u=s(89528),l=function(c,h,d){var f=d,m=d,p=d;if(h!==0){var g=d<.5?d*(1+h):d+h-d*h,v=2*d-g;f=u(v,g,c+1/3),m=u(v,g,c),p=u(v,g,c-1/3)}var y=new o;return y.setGLTo(f,m,p,1)};n.exports=l},27939:(n,a,s)=>{var o=s(7537),u=function(l,c){l===void 0&&(l=1),c===void 0&&(c=1);for(var h=[],d=0;d<=359;d++)h.push(o(d/359,l,c));return h};n.exports=u},7537:(n,a,s)=>{var o=s(37589);function u(c,h,d,f){var m=(c+h*6)%6,p=Math.min(m,4-m,1);return Math.round(255*(f-f*d*Math.max(0,p)))}var l=function(c,h,d,f){h===void 0&&(h=1),d===void 0&&(d=1);var m=u(5,c,h,d),p=u(3,c,h,d),g=u(1,c,h,d);return f?f.setTo?f.setTo(m,p,g,f.alpha,!0):(f.r=m,f.g=p,f.b=g,f.color=o(m,p,g),f):{r:m,g:p,b:g,color:o(m,p,g)}};n.exports=l},70238:(n,a,s)=>{var o=s(40987),u=function(l){var c=new o;l=l.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(p,g,v,y){return g+g+v+v+y+y});var h=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);if(h){var d=parseInt(h[1],16),f=parseInt(h[2],16),m=parseInt(h[3],16);c.setTo(d,f,m)}return c};n.exports=u},89528:n=>{var a=function(s,o,u){return u<0&&(u+=1),u>1&&(u-=1),u<.16666666666666666?s+(o-s)*6*u:u<.5?o:u<.6666666666666666?s+(o-s)*(.6666666666666666-u)*6:s};n.exports=a},30100:(n,a,s)=>{var o=s(40987),u=s(90664),l=function(c){var h=u(c);return new o(h.r,h.g,h.b,h.a)};n.exports=l},90664:n=>{var a=function(s){return s>16777215?{a:s>>>24,r:s>>16&255,g:s>>8&255,b:s&255}:{a:255,r:s>>16&255,g:s>>8&255,b:s&255}};n.exports=a},13699:(n,a,s)=>{var o=s(28915),u=function(h,d,f,m,p,g,v,y){v===void 0&&(v=100),y===void 0&&(y=0);var x=y/v;return{r:o(h,m,x),g:o(d,p,x),b:o(f,g,x)}},l=function(h,d,f,m){return f===void 0&&(f=100),m===void 0&&(m=0),u(h.r,h.g,h.b,d.r,d.g,d.b,f,m)},c=function(h,d,f,m,p,g){return p===void 0&&(p=100),g===void 0&&(g=0),u(h.r,h.g,h.b,d,f,m,p,g)};n.exports={RGBWithRGB:u,ColorWithRGB:c,ColorWithColor:l}},68957:(n,a,s)=>{var o=s(40987),u=function(l){return new o(l.r,l.g,l.b,l.a)};n.exports=u},87388:(n,a,s)=>{var o=s(40987),u=function(l){var c=new o,h=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(l.toLowerCase());if(h){var d=parseInt(h[1],10),f=parseInt(h[2],10),m=parseInt(h[3],10),p=h[4]!==void 0?parseFloat(h[4]):1;c.setTo(d,f,m,p*255)}return c};n.exports=u},87837:n=>{var a=function(s,o,u,l){l===void 0&&(l={h:0,s:0,v:0}),s/=255,o/=255,u/=255;var c=Math.min(s,o,u),h=Math.max(s,o,u),d=h-c,f=0,m=h===0?0:d/h,p=h;return h!==c&&(h===s?f=(o-u)/d+(o<u?6:0):h===o?f=(u-s)/d+2:h===u&&(f=(s-o)/d+4),f/=6),l.hasOwnProperty("_h")?(l._h=f,l._s=m,l._v=p):(l.h=f,l.s=m,l.v=p),l};n.exports=a},75723:(n,a,s)=>{var o=s(62957),u=function(l,c,h,d,f){return d===void 0&&(d=255),f===void 0&&(f="#"),f==="#"?"#"+((1<<24)+(l<<16)+(c<<8)+h).toString(16).slice(1,7):"0x"+o(d)+o(l)+o(c)+o(h)};n.exports=u},85386:(n,a,s)=>{var o=s(30976),u=s(40987),l=function(c,h){return c===void 0&&(c=0),h===void 0&&(h=255),new u(o(c,h),o(c,h),o(c,h))};n.exports=l},80333:(n,a,s)=>{var o=s(70238),u=s(30100),l=s(68957),c=s(87388),h=function(d){var f=typeof d;switch(f){case"string":return d.substr(0,3).toLowerCase()==="rgb"?c(d):o(d);case"number":return u(d);case"object":return l(d)}};n.exports=h},3956:(n,a,s)=>{var o=s(40987);o.ColorSpectrum=s(92728),o.ColorToRGBA=s(91588),o.ComponentToHex=s(62957),o.GetColor=s(37589),o.GetColor32=s(1e3),o.HexStringToColor=s(70238),o.HSLToColor=s(62183),o.HSVColorWheel=s(27939),o.HSVToRGB=s(7537),o.HueToComponent=s(89528),o.IntegerToColor=s(30100),o.IntegerToRGB=s(90664),o.Interpolate=s(13699),o.ObjectToColor=s(68957),o.RandomRGB=s(85386),o.RGBStringToColor=s(87388),o.RGBToHSV=s(87837),o.RGBToString=s(75723),o.ValueToColor=s(80333),n.exports=o},27460:(n,a,s)=>{n.exports={Align:s(71926),BaseShader:s(73894),Bounds:s(58724),Canvas:s(26253),Color:s(3956),ColorMatrix:s(89422),Masks:s(69781),RGB:s(51767)}},6858:(n,a,s)=>{var o=s(83419),u=s(39429),l=new o({initialize:function(h,d,f,m,p,g){d||(d=h.sys.make.image({x:f,y:m,key:p,frame:g,add:!1})),this.bitmapMask=d,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(c){this.bitmapMask=c},preRenderWebGL:function(c,h,d){c.pipelines.BITMAPMASK_PIPELINE.beginMask(this,h,d)},postRenderWebGL:function(c,h,d){c.pipelines.BITMAPMASK_PIPELINE.endMask(this,h,d)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});u.register("bitmapMask",function(c,h,d,f,m){return new l(this.scene,c,h,d,f,m)}),n.exports=l},80661:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h){this.geometryMask=h,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(l){return this.geometryMask=l,this},setInvertAlpha:function(l){return l===void 0&&(l=!0),this.invertAlpha=l,this},preRenderWebGL:function(l,c,h){var d=l.gl;l.flush(),l.maskStack.length===0&&(d.enable(d.STENCIL_TEST),d.clear(d.STENCIL_BUFFER_BIT),l.maskCount=0),l.currentCameraMask.mask!==this&&(l.currentMask.mask=this),l.maskStack.push({mask:this,camera:h}),this.applyStencil(l,h,!0),l.maskCount++},applyStencil:function(l,c,h){var d=l.gl,f=this.geometryMask,m=l.maskCount,p=255;d.colorMask(!1,!1,!1,!1),h?(d.stencilFunc(d.EQUAL,m,p),d.stencilOp(d.KEEP,d.KEEP,d.INCR),m++):(d.stencilFunc(d.EQUAL,m+1,p),d.stencilOp(d.KEEP,d.KEEP,d.DECR)),this.level=m,f.renderWebGL(l,f,c),l.flush(),d.colorMask(!0,!0,!0,!0),d.stencilOp(d.KEEP,d.KEEP,d.KEEP),this.invertAlpha?d.stencilFunc(d.NOTEQUAL,m,p):d.stencilFunc(d.EQUAL,m,p)},postRenderWebGL:function(l){var c=l.gl;l.maskStack.pop(),l.maskCount--,l.flush();var h=l.currentMask;if(l.maskStack.length===0)h.mask=null,c.disable(c.STENCIL_TEST);else{var d=l.maskStack[l.maskStack.length-1];d.mask.applyStencil(l,d.camera,!1),l.currentCameraMask.mask!==d.mask?(h.mask=d.mask,h.camera=d.camera):h.mask=null}},preRenderCanvas:function(l,c,h){var d=this.geometryMask;l.currentContext.save(),d.renderCanvas(l,d,h,null,null,!0),l.currentContext.clip()},postRenderCanvas:function(l){l.currentContext.restore()},destroy:function(){this.geometryMask=null}});n.exports=u},69781:(n,a,s)=>{n.exports={BitmapMask:s(6858),GeometryMask:s(80661)}},73894:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h,d,f){(!h||h==="")&&(h=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!d||d==="")&&(d=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),f===void 0&&(f=null),this.key=c,this.fragmentSrc=h,this.vertexSrc=d,this.uniforms=f}});n.exports=u},40366:n=>{var a=function(s,o){var u;if(o)typeof o=="string"?u=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(u=o);else if(s.parentElement||o===null)return s;return u||(u=document.body),u.appendChild(s),s};n.exports=a},83719:(n,a,s)=>{var o=s(40366),u=function(l){var c=l.config;if(!(!c.parent||!c.domCreateContainer)){var h=document.createElement("div");h.style.cssText=["display: block;","width: "+l.scale.width+"px;","height: "+l.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+c.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),l.domContainer=h,o(h,c.parent)}};n.exports=u},57264:(n,a,s)=>{var o=s(25892),u=function(l){if(document.readyState==="complete"||document.readyState==="interactive"){l();return}var c=function(){document.removeEventListener("deviceready",c,!0),document.removeEventListener("DOMContentLoaded",c,!0),window.removeEventListener("load",c,!0),l()};document.body?o.cordova?document.addEventListener("deviceready",c,!1):(document.addEventListener("DOMContentLoaded",c,!0),window.addEventListener("load",c,!0)):window.setTimeout(c,20)};n.exports=u},57811:n=>{var a=function(s){if(!s)return window.innerHeight;var o=Math.abs(window.orientation),u={w:0,h:0},l=document.createElement("div");return l.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(l),u.w=o===90?l.offsetHeight:window.innerWidth,u.h=o===90?window.innerWidth:l.offsetHeight,document.documentElement.removeChild(l),l=null,Math.abs(window.orientation)!==90?u.h:u.w};n.exports=a},45818:(n,a,s)=>{var o=s(13560),u=function(l,c){var h=window.screen,d=h?h.orientation||h.mozOrientation||h.msOrientation:!1;if(d&&typeof d.type=="string")return d.type;if(typeof d=="string")return d;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return c>l?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};n.exports=u},74403:n=>{var a=function(s){var o;return s!==""&&(typeof s=="string"?o=document.getElementById(s):s&&s.nodeType===1&&(o=s)),o||(o=document.body),o};n.exports=a},56836:n=>{var a=function(s){var o="";try{if(window.DOMParser){var u=new DOMParser;o=u.parseFromString(s,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(s)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};n.exports=a},35846:n=>{var a=function(s){s.parentNode&&s.parentNode.removeChild(s)};n.exports=a},43092:(n,a,s)=>{var o=s(83419),u=s(29747),l=new o({initialize:function(){this.isRunning=!1,this.callback=u,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var h=this;this.step=function d(f){h.callback(f),h.isRunning&&(h.timeOutID=window.requestAnimationFrame(d))},this.stepTimeout=function d(){h.isRunning&&(h.timeOutID=window.setTimeout(d,h.delay)),h.callback(window.performance.now())}},start:function(c,h,d){this.isRunning||(this.callback=c,this.isSetTimeOut=h,this.delay=d,this.isRunning=!0,this.timeOutID=h?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=u}});n.exports=l},84902:(n,a,s)=>{var o={AddToDOM:s(40366),DOMContentLoaded:s(57264),GetInnerHeight:s(57811),GetScreenOrientation:s(45818),GetTarget:s(74403),ParseXML:s(56836),RemoveFromDOM:s(35846),RequestAnimationFrame:s(43092)};n.exports=o},47565:(n,a,s)=>{var o=s(83419),u=s(50792),l=s(37277),c=new o({Extends:u,initialize:function(){u.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});l.register("EventEmitter",c,"events"),n.exports=c},93055:(n,a,s)=>{n.exports={EventEmitter:s(47565)}},20122:(n,a,s)=>{var o=s(83419),u=s(72898),l=s(14811),c=new o({Extends:u,initialize:function(d,f){f===void 0&&(f=1),u.call(this,l.BARREL,d),this.amount=f}});n.exports=c},32251:(n,a,s)=>{var o=s(83419),u=s(72898),l=s(14811),c=new o({Extends:u,initialize:function(d,f,m,p,g,v,y){m===void 0&&(m=1),p===void 0&&(p=1),g===void 0&&(g=1),v===void 0&&(v=1),y===void 0&&(y=4),u.call(this,l.BLOOM,d),this.steps=y,this.offsetX=m,this.offsetY=p,this.blurStrength=g,this.strength=v,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var d=this.glcolor;d[0]=(h>>16&255)/255,d[1]=(h>>8&255)/255,d[2]=(h&255)/255}}});n.exports=c},9047:(n,a,s)=>{var o=s(83419),u=s(72898),l=s(14811),c=new o({Extends:u,initialize:function(d,f,m,p,g,v,y){f===void 0&&(f=0),m===void 0&&(m=2),p===void 0&&(p=2),g===void 0&&(g=1),y===void 0&&(y=4),u.call(this,l.BLUR,d),this.quality=f,this.x=m,this.y=p,this.steps=y,this.strength=g,this.glcolor=[1,1,1],v!=null&&(this.color=v)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var d=this.glcolor;d[0]=(h>>16&255)/255,d[1]=(h>>8&255)/255,d[2]=(h&255)/255}}});n.exports=c},27885:(n,a,s)=>{var o=s(83419),u=s(72898),l=s(14811),c=new o({Extends:u,initialize:function(d,f,m,p,g,v,y,x){f===void 0&&(f=.5),m===void 0&&(m=1),p===void 0&&(p=.2),g===void 0&&(g=!1),v===void 0&&(v=1),y===void 0&&(y=1),x===void 0&&(x=1),u.call(this,l.BOKEH,d),this.radius=f,this.amount=m,this.contrast=p,this.isTiltShift=g,this.strength=x,this.blurX=v,this.blurY=y}});n.exports=c},12578:(n,a,s)=>{var o=s(83419),u=s(72898),l=s(14811),c=new o({Extends:u,initialize:function(d,f,m,p,g,v){f===void 0&&(f=8),g===void 0&&(g=1),v===void 0&&(v=.005),u.call(this,l.CIRCLE,d),this.scale=g,this.feather=v,this.thickness=f,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],m!=null&&(this.color=m),p!=null&&(this.backgroundColor=p)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var d=this.glcolor;d[0]=(h>>16&255)/255,d[1]=(h>>8&255)/255,d[2]=(h&255)/255}},backgroundColor:{get:function(){var h=this.glcolor2;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var d=this.glcolor2;d[0]=(h>>16&255)/255,d[1]=(h>>8&255)/255,d[2]=(h&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(h){this.glcolor2[3]=h}}});n.exports=c},15802:(n,a,s)=>{var o=s(83419),u=s(89422),l=s(14811),c=new o({Extends:u,initialize:function(d){u.call(this),this.type=l.COLOR_MATRIX,this.gameObject=d,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});n.exports=c},72898:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h){this.type=c,this.gameObject=h,this.active=!0},setActive:function(l){return this.active=l,this},destroy:function(){this.gameObject=null,this.active=!1}});n.exports=u},44553:(n,a,s)=>{var o=s(83419),u=s(72898),l=s(14811),c=new o({Extends:u,initialize:function(d,f,m,p){f===void 0&&(f="__WHITE"),m===void 0&&(m=.005),p===void 0&&(p=.005),u.call(this,l.DISPLACEMENT,d),this.x=m,this.y=p,this.glTexture,this.setTexture(f)},setTexture:function(h){var d=this.gameObject.scene.sys.textures.getFrame(h);return d&&(this.glTexture=d.glTexture),this}});n.exports=c},68531:(n,a,s)=>{var o=s(83419),u=s(72898),l=s(14811),c=new o({Extends:u,initialize:function(d,f,m,p,g){m===void 0&&(m=4),p===void 0&&(p=0),g===void 0&&(g=!1),u.call(this,l.GLOW,d),this.outerStrength=m,this.innerStrength=p,this.knockout=g,this.glcolor=[1,1,1,1],f!==void 0&&(this.color=f)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var d=this.glcolor;d[0]=(h>>16&255)/255,d[1]=(h>>8&255)/255,d[2]=(h&255)/255}}});n.exports=c},37102:(n,a,s)=>{var o=s(83419),u=s(72898),l=s(14811),c=new o({Extends:u,initialize:function(d,f,m,p,g,v,y,x,b){p===void 0&&(p=.2),g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=1),b===void 0&&(b=0),u.call(this,l.GRADIENT,d),this.alpha=p,this.size=b,this.fromX=g,this.fromY=v,this.toX=y,this.toY=x,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],f!=null&&(this.color1=f),m!=null&&(this.color2=m)},color1:{get:function(){var h=this.glcolor1;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var d=this.glcolor1;d[0]=h>>16&255,d[1]=h>>8&255,d[2]=h&255}},color2:{get:function(){var h=this.glcolor2;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var d=this.glcolor2;d[0]=h>>16&255,d[1]=h>>8&255,d[2]=h&255}}});n.exports=c},86886:(n,a,s)=>{var o=s(83419),u=s(72898),l=s(14811),c=new o({Extends:u,initialize:function(d,f){f===void 0&&(f=1),u.call(this,l.PIXELATE,d),this.amount=f}});n.exports=c},92322:(n,a,s)=>{var o=s(83419),u=s(72898),l=s(14811),c=new o({Extends:u,initialize:function(d,f,m,p,g,v,y,x){f===void 0&&(f=0),m===void 0&&(m=0),p===void 0&&(p=.1),g===void 0&&(g=1),y===void 0&&(y=6),x===void 0&&(x=1),u.call(this,l.SHADOW,d),this.x=f,this.y=m,this.decay=p,this.power=g,this.glcolor=[0,0,0,1],this.samples=y,this.intensity=x,v!==void 0&&(this.color=v)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var d=this.glcolor;d[0]=(h>>16&255)/255,d[1]=(h>>8&255)/255,d[2]=(h&255)/255}}});n.exports=c},39563:(n,a,s)=>{var o=s(83419),u=s(72898),l=s(14811),c=new o({Extends:u,initialize:function(d,f,m,p,g){f===void 0&&(f=.5),m===void 0&&(m=.5),p===void 0&&(p=3),g===void 0&&(g=!1),u.call(this,l.SHINE,d),this.speed=f,this.lineWidth=m,this.gradient=p,this.reveal=g}});n.exports=c},56448:(n,a,s)=>{var o=s(83419),u=s(72898),l=s(14811),c=new o({Extends:u,initialize:function(d,f,m,p,g){f===void 0&&(f=.5),m===void 0&&(m=.5),p===void 0&&(p=.5),g===void 0&&(g=.5),u.call(this,l.VIGNETTE,d),this.x=f,this.y=m,this.radius=p,this.strength=g}});n.exports=c},38433:(n,a,s)=>{var o=s(83419),u=s(72898),l=s(14811),c=new o({Extends:u,initialize:function(d,f,m,p,g){f===void 0&&(f=.1),m===void 0&&(m=0),p===void 0&&(p=0),g===void 0&&(g=!1),u.call(this,l.WIPE,d),this.progress=0,this.wipeWidth=f,this.direction=m,this.axis=p,this.reveal=g}});n.exports=c},14811:n=>{var a={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};n.exports=a},66064:(n,a,s)=>{var o=s(79291),u=s(14811),l={Barrel:s(20122),Controller:s(72898),Bloom:s(32251),Blur:s(9047),Bokeh:s(27885),Circle:s(12578),ColorMatrix:s(15802),Displacement:s(44553),Glow:s(68531),Gradient:s(37102),Pixelate:s(86886),Shadow:s(92322),Shine:s(39563),Vignette:s(56448),Wipe:s(38433)};l=o(!1,l,u),n.exports=l},25305:(n,a,s)=>{var o=s(10312),u=s(23568),l=function(c,h,d){h.x=u(d,"x",0),h.y=u(d,"y",0),h.depth=u(d,"depth",0),h.flipX=u(d,"flipX",!1),h.flipY=u(d,"flipY",!1);var f=u(d,"scale",null);typeof f=="number"?h.setScale(f):f!==null&&(h.scaleX=u(f,"x",1),h.scaleY=u(f,"y",1));var m=u(d,"scrollFactor",null);typeof m=="number"?h.setScrollFactor(m):m!==null&&(h.scrollFactorX=u(m,"x",1),h.scrollFactorY=u(m,"y",1)),h.rotation=u(d,"rotation",0);var p=u(d,"angle",null);p!==null&&(h.angle=p),h.alpha=u(d,"alpha",1);var g=u(d,"origin",null);if(typeof g=="number")h.setOrigin(g);else if(g!==null){var v=u(g,"x",.5),y=u(g,"y",.5);h.setOrigin(v,y)}h.blendMode=u(d,"blendMode",o.NORMAL),h.visible=u(d,"visible",!0);var x=u(d,"add",!0);return x&&c.sys.displayList.add(h),h.preUpdate&&c.sys.updateList.add(h),h};n.exports=l},13059:(n,a,s)=>{var o=s(23568),u=function(l,c){var h=o(c,"anims",null);if(h===null)return l;if(typeof h=="string")l.anims.play(h);else if(typeof h=="object"){var d=l.anims,f=o(h,"key",void 0);if(f){var m=o(h,"startFrame",void 0),p=o(h,"delay",0),g=o(h,"repeat",0),v=o(h,"repeatDelay",0),y=o(h,"yoyo",!1),x=o(h,"play",!1),b=o(h,"delayedPlay",0),w={key:f,delay:p,repeat:g,repeatDelay:v,yoyo:y,startFrame:m};x?d.play(w):b>0?d.playAfterDelay(w,b):d.load(w)}}return l};n.exports=u},8050:(n,a,s)=>{var o=s(83419),u=s(73162),l=s(37277),c=s(51708),h=s(44594),d=s(19186),f=new o({Extends:u,initialize:function(p){u.call(this,p),this.sortChildrenFlag=!1,this.scene=p,this.systems=p.sys,this.events=p.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.events.once(h.DESTROY,this.destroy,this)},addChildCallback:function(m){m.displayList&&m.displayList!==this&&m.removeFromDisplayList(),m.parentContainer&&m.parentContainer.remove(m),m.displayList||(this.queueDepthSort(),m.displayList=this,m.emit(c.ADDED_TO_SCENE,m,this.scene),this.events.emit(h.ADDED_TO_SCENE,m,this.scene))},removeChildCallback:function(m){this.queueDepthSort(),m.displayList=null,m.emit(c.REMOVED_FROM_SCENE,m,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,m,this.scene)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(d(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(m,p){return m._depth-p._depth},getChildren:function(){return this.list},shutdown:function(){for(var m=this.list;m.length;)m[0].destroy(!0);this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});l.register("DisplayList",f,"displayList"),n.exports=f},95643:(n,a,s)=>{var o=s(83419),u=s(53774),l=s(45893),c=s(50792),h=s(51708),d=s(44594),f=new o({Extends:c,initialize:function(p,g){c.call(this),this.scene=p,this.displayList=null,this.type=g,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this),p.sys.queueDepthSort()},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},setState:function(m){return this.state=m,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(m,p){return this.data||(this.data=new l(this)),this.data.set(m,p),this},incData:function(m,p){return this.data||(this.data=new l(this)),this.data.inc(m,p),this},toggleData:function(m){return this.data||(this.data=new l(this)),this.data.toggle(m),this},getData:function(m){return this.data||(this.data=new l(this)),this.data.get(m)},setInteractive:function(m,p,g){return this.scene.sys.input.enable(this,m,p,g),this},disableInteractive:function(m){return m===void 0&&(m=!1),this.scene.sys.input.disable(this,m),this},removeInteractive:function(m){return m===void 0&&(m=!1),this.scene.sys.input.clear(this),m&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return u(this)},willRender:function(m){var p=this.displayList&&this.displayList.active?this.displayList.willRender(m):!0;return!(!p||f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&m.id)},getIndexList:function(){for(var m=this,p=this.parentContainer,g=[];p&&(g.unshift(p.getIndex(m)),m=p,p.parentContainer);)p=p.parentContainer;return this.displayList?g.unshift(this.displayList.getIndex(m)):g.unshift(this.scene.sys.displayList.getIndex(m)),g},addToDisplayList:function(m){return m===void 0&&(m=this.scene.sys.displayList),this.displayList&&this.displayList!==m&&this.removeFromDisplayList(),m.exists(this)||(this.displayList=m,m.add(this,!0),m.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),m.events.emit(d.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var m=this.displayList||this.scene.sys.displayList;return m&&m.exists(this)&&(m.remove(this,!0),m.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),m.events.emit(d.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var m=null;return this.parentContainer?m=this.parentContainer.list:this.displayList&&(m=this.displayList.list),m},destroy:function(m){!this.scene||this.ignoreDestroy||(m===void 0&&(m=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(h.DESTROY,this,m),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});f.RENDER_MASK=15,n.exports=f},44603:(n,a,s)=>{var o=s(83419),u=s(37277),l=s(44594),c=new o({initialize:function(d){this.scene=d,this.systems=d.sys,this.events=d.sys.events,this.displayList,this.updateList,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});c.register=function(h,d){c.prototype.hasOwnProperty(h)||(c.prototype[h]=d)},c.remove=function(h){c.prototype.hasOwnProperty(h)&&delete c.prototype[h]},u.register("GameObjectCreator",c,"make"),n.exports=c},39429:(n,a,s)=>{var o=s(83419),u=s(37277),l=s(44594),c=new o({initialize:function(d){this.scene=d,this.systems=d.sys,this.events=d.sys.events,this.displayList,this.updateList,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},existing:function(h){return(h.renderCanvas||h.renderWebGL)&&this.displayList.add(h),h.preUpdate&&this.updateList.add(h),h},shutdown:function(){this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});c.register=function(h,d){c.prototype.hasOwnProperty(h)||(c.prototype[h]=d)},c.remove=function(h){c.prototype.hasOwnProperty(h)&&delete c.prototype[h]},u.register("GameObjectFactory",c,"add"),n.exports=c},91296:(n,a,s)=>{var o=s(61340),u=new o,l=new o,c=new o,h={camera:u,sprite:l,calc:c},d=function(f,m,p){var g=u,v=l,y=c;return v.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),g.copyFrom(m.matrix),p?(g.multiplyWithOffset(p,-m.scrollX*f.scrollFactorX,-m.scrollY*f.scrollFactorY),v.e=f.x,v.f=f.y):(v.e-=m.scrollX*f.scrollFactorX,v.f-=m.scrollY*f.scrollFactorY),g.multiply(v,y),h};n.exports=d},45027:(n,a,s)=>{var o=s(83419),u=s(25774),l=s(37277),c=s(44594),h=new o({Extends:u,initialize:function(f){u.call(this),this.checkQueue=!0,this.scene=f,this.systems=f.sys,f.sys.events.once(c.BOOT,this.boot,this),f.sys.events.on(c.START,this.start,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){var d=this.systems.events;d.on(c.PRE_UPDATE,this.update,this),d.on(c.UPDATE,this.sceneUpdate,this),d.once(c.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(d,f){for(var m=this._active,p=m.length,g=0;g<p;g++){var v=m[g];v.active&&v.preUpdate.call(v,d,f)}},shutdown:function(){for(var d=this._active.length;d--;)this._active[d].destroy(!0);for(d=this._pending.length;d--;)this._pending[d].destroy(!0);for(d=this._destroy.length;d--;)this._destroy[d].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var f=this.systems.events;f.off(c.PRE_UPDATE,this.update,this),f.off(c.UPDATE,this.sceneUpdate,this),f.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});l.register("UpdateList",h,"updateList"),n.exports=h},3217:n=>{var a=function(s,o,u,l,c,h,d,f,m,p,g,v,y,x,b){var w=u.x-o.displayOriginX+c,C=u.y-o.displayOriginY+h,_=w+u.w,S=C+u.h,T=d.a,A=d.b,M=d.c,I=d.d,D=d.e,k=d.f,G=w*T+C*M+D,R=w*A+C*I+k,H=w*T+S*M+D,j=w*A+S*I+k,Z=_*T+S*M+D,ee=_*A+S*I+k,Y=_*T+C*M+D,V=_*A+C*I+k;f&&(G=Math.round(G),R=Math.round(R),H=Math.round(H),j=Math.round(j),Z=Math.round(Z),ee=Math.round(ee),Y=Math.round(Y),V=Math.round(V)),s.batchQuad(o,G,R,H,j,Z,ee,Y,V,l.u0,l.v0,l.u1,l.v1,m,p,g,v,y,x,b)};n.exports=a},53048:n=>{var a=function(s,o,u,l){if(u===void 0&&(u=!1),l===void 0)return l={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},l;var c=s.text,h=c.length,d=s.maxWidth,f=s.wordWrapCharCode,m=Number.MAX_VALUE,p=Number.MAX_VALUE,g=0,v=0,y=s.fontData.chars,x=s.fontData.lineHeight,b=s.letterSpacing,w=s.lineSpacing,C=0,_=0,S=0,T=null,A=s._align,M=0,I=0,D=s.fontSize/s.fontData.size,k=D*s.scaleX,G=D*s.scaleY,R=null,H=0,j=[],Z=Number.MAX_VALUE,ee=0,Y=0,V=0,O,F,X,ie=[],re=[],q=null,ae=function(li,fi){for(var vi=0,Ht=0;Ht<li.length;Ht++){var xi=li.charCodeAt(Ht),Ti=fi.chars[xi];Ti&&(vi+=Ti.xAdvance)}return vi*k};if(d>0){X=c.split(`
`);var ue=[];for(O=0;O<X.length;O++){var me=X[O],be="",ke="",ze="",De="";for(F=0;F<me.length;F++)if(S=me.charCodeAt(F),be+=me[F],S===f||F===me.length-1){De=ze+be;var ge=ae(De,s.fontData);ge<=d?ze=De:(ke=ke.slice(0,-1),ke+=(ke?`
`:"")+ze,ze=be),be=""}ke=ke.slice(0,-1),ke+=(ke?`
`:"")+ze,ue.push(ke)}c=ue.join(`
`),l.wrappedText=c,h=c.length}var Et=0;for(O=0;O<h;O++){if(S=c.charCodeAt(O),S===10){q!==null&&(ie.push({word:q.word,i:q.i,x:q.x*k,y:q.y*G,w:q.w*k,h:q.h*G}),q=null),R=null,j[Y]=V,V>ee&&(ee=V),V<Z&&(Z=V),Y++,V=0,C=0,_=(x+w)*Y;continue}if(T=y[S],!!T){if(M=C,I=_,R!==null){var ct=T.kerning[H];M+=ct!==void 0?ct:0}m>M&&(m=M),p>I&&(p=I);var We=M+T.xAdvance,Ue=I+x;g<We&&(g=We),v<Ue&&(v=Ue);var qe=T.xOffset+T.xAdvance+(ct!==void 0?ct:0);S===f?q!==null&&(ie.push({word:q.word,i:q.i,x:q.x*k,y:q.y*G,w:q.w*k,h:q.h*G}),q=null):(q===null&&(q={word:"",i:Et,x:C,y:_,w:0,h:x}),q.word=q.word.concat(c[O]),q.w+=qe),re.push({i:Et,idx:O,char:c[O],code:S,x:(T.xOffset+M)*D,y:(T.yOffset+_)*D,w:T.width*D,h:T.height*D,t:_*D,r:We*D,b:x*D,line:Y,glyph:T}),C+=T.xAdvance+b+(ct!==void 0?ct:0),R=T,H=S,V=We*D,Et++}}if(q!==null&&ie.push({word:q.word,i:q.i,x:q.x*k,y:q.y*G,w:q.w*k,h:q.h*G}),j[Y]=V,V>ee&&(ee=V),V<Z&&(Z=V),A>0)for(var it=0;it<re.length;it++){var Ft=re[it];if(A===1){var at=(ee-j[Ft.line])/2;Ft.x+=at,Ft.r+=at}else if(A===2){var bt=ee-j[Ft.line];Ft.x+=bt,Ft.r+=bt}}var ai=l.local,ei=l.global;return X=l.lines,ai.x=m*D,ai.y=p*D,ai.width=g*D,ai.height=v*D,ei.x=s.x-s._displayOriginX+m*k,ei.y=s.y-s._displayOriginY+p*G,ei.width=g*k,ei.height=v*G,X.shortest=Z,X.longest=ee,X.lengths=j,o&&(ai.x=Math.ceil(ai.x),ai.y=Math.ceil(ai.y),ai.width=Math.ceil(ai.width),ai.height=Math.ceil(ai.height),ei.x=Math.ceil(ei.x),ei.y=Math.ceil(ei.y),ei.width=Math.ceil(ei.width),ei.height=Math.ceil(ei.height),X.shortest=Math.ceil(Z),X.longest=Math.ceil(ee)),u&&(s._displayOriginX=s.originX*ai.width,s._displayOriginY=s.originY*ai.height,ei.x=s.x-s._displayOriginX*s.scaleX,ei.y=s.y-s._displayOriginY*s.scaleY,o&&(ei.x=Math.ceil(ei.x),ei.y=Math.ceil(ei.y))),l.words=ie,l.characters=re,l.lines.height=x,l.scale=D,l.scaleX=s.scaleX,l.scaleY=s.scaleY,l};n.exports=a},61327:(n,a,s)=>{var o=s(21859),u=function(l,c,h,d,f,m,p){var g=l.sys.textures.get(h),v=g.get(d),y=l.sys.cache.xml.get(f);if(v&&y){var x=o(y,v,m,p,g);return l.sys.cache.bitmapFont.add(c,{data:x,texture:h,frame:d,fromAtlas:!0}),!0}else return!1};n.exports=u},6925:(n,a,s)=>{var o=s(35154),u=function(l,c){var h=c.width,d=c.height,f=Math.floor(h/2),m=Math.floor(d/2),p=o(c,"chars","");if(p!==""){var g=o(c,"image",""),v=l.sys.textures.getFrame(g),y=v.cutX,x=v.cutY,b=v.source.width,w=v.source.height,C=o(c,"offset.x",0),_=o(c,"offset.y",0),S=o(c,"spacing.x",0),T=o(c,"spacing.y",0),A=o(c,"lineSpacing",0),M=o(c,"charsPerRow",null);M===null&&(M=b/h,M>p.length&&(M=p.length));for(var I=C,D=_,k={retroFont:!0,font:g,size:h,lineHeight:d+A,chars:{}},G=0,R=0;R<p.length;R++){var H=p.charCodeAt(R),j=(y+I)/b,Z=(x+D)/w,ee=(y+I+h)/b,Y=(x+D+d)/w;k.chars[H]={x:I,y:D,width:h,height:d,centerX:f,centerY:m,xOffset:0,yOffset:0,xAdvance:h,data:{},kerning:{},u0:j,v0:Z,u1:ee,v1:Y},G++,G===M?(G=0,I=C,D+=d+T):I+=h+S}var V={data:k,frame:null,texture:g};return V}};n.exports=u},21859:n=>{function a(o,u){return parseInt(o.getAttribute(u),10)}var s=function(o,u,l,c,h){l===void 0&&(l=0),c===void 0&&(c=0);var d=u.cutX,f=u.cutY,m=u.source.width,p=u.source.height,g=u.sourceIndex,v={},y=o.getElementsByTagName("info")[0],x=o.getElementsByTagName("common")[0];v.font=y.getAttribute("face"),v.size=a(y,"size"),v.lineHeight=a(x,"lineHeight")+c,v.chars={};var b=o.getElementsByTagName("char"),w=u!==void 0&&u.trimmed;if(w)var C=u.height,_=u.width;for(var S=0;S<b.length;S++){var T=b[S],A=a(T,"id"),M=String.fromCharCode(A),I=a(T,"x"),D=a(T,"y"),k=a(T,"width"),G=a(T,"height");w&&(I<_&&(_=I),D<C&&(C=D)),w&&C!==0&&_!==0&&(I-=u.x,D-=u.y);var R=(d+I)/m,H=(f+D)/p,j=(d+I+k)/m,Z=(f+D+G)/p;if(v.chars[A]={x:I,y:D,width:k,height:G,centerX:Math.floor(k/2),centerY:Math.floor(G/2),xOffset:a(T,"xoffset"),yOffset:a(T,"yoffset"),xAdvance:a(T,"xadvance")+l,data:{},kerning:{},u0:R,v0:H,u1:j,v1:Z},h&&k!==0&&G!==0){var ee=h.add(M,g,I,D,k,G);ee&&ee.setUVs(k,G,R,H,j,Z)}}var Y=o.getElementsByTagName("kerning");for(S=0;S<Y.length;S++){var V=Y[S],O=a(V,"first"),F=a(V,"second"),X=a(V,"amount");v.chars[F].kerning[O]=X}return v};n.exports=s},196:(n,a,s)=>{var o=s(87662),u=s(79291),l={Parse:s(6925)};l=u(!1,l,o),n.exports=l},87662:n=>{var a={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};n.exports=a},2638:(n,a,s)=>{var o=s(22186),u=s(83419),l=s(12310),c=new u({Extends:o,Mixins:[l],initialize:function(d,f,m,p,g,v,y){o.call(this,d,f,m,p,g,v,y),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(h,d){return this.cropWidth=h,this.cropHeight=d,this},setDisplayCallback:function(h){return this.displayCallback=h,this},setScrollX:function(h){return this.scrollX=h,this},setScrollY:function(h){return this.scrollY=h,this}});n.exports=c},86741:(n,a,s)=>{var o=s(20926),u=function(l,c,h,d){var f=c._text,m=f.length,p=l.currentContext;if(!(m===0||!o(l,p,c,h,d))){h.addToRenderList(c);var g=c.fromAtlas?c.frame:c.texture.frames.__BASE,v=c.displayCallback,y=c.callbackData,x=c.fontData.chars,b=c.fontData.lineHeight,w=c._letterSpacing,C=0,_=0,S=0,T=null,A=0,M=0,I=0,D=0,k=0,G=0,R=null,H=0,j=c.frame.source.image,Z=g.cutX,ee=g.cutY,Y=0,V=0,O=c._fontSize/c.fontData.size,F=c._align,X=0,ie=0;c.getTextBounds(!1);var re=c._bounds.lines;F===1?ie=(re.longest-re.lengths[0])/2:F===2&&(ie=re.longest-re.lengths[0]),p.translate(-c.displayOriginX,-c.displayOriginY);var q=h.roundPixels;c.cropWidth>0&&c.cropHeight>0&&(p.beginPath(),p.rect(0,0,c.cropWidth,c.cropHeight),p.clip());for(var ae=0;ae<m;ae++){if(V=O,Y=0,S=f.charCodeAt(ae),S===10){X++,F===1?ie=(re.longest-re.lengths[X])/2:F===2&&(ie=re.longest-re.lengths[X]),C=0,_+=b,R=null;continue}if(T=x[S],!!T){if(A=Z+T.x,M=ee+T.y,I=T.width,D=T.height,k=T.xOffset+C-c.scrollX,G=T.yOffset+_-c.scrollY,R!==null){var ue=T.kerning[H];k+=ue!==void 0?ue:0}if(v){y.index=ae,y.charCode=S,y.x=k,y.y=G,y.scale=V,y.rotation=Y,y.data=T.data;var me=v(y);k=me.x,G=me.y,V=me.scale,Y=me.rotation}k*=V,G*=V,k+=ie,C+=T.xAdvance+w+(ue!==void 0?ue:0),R=T,H=S,!(I===0||D===0||S===32)&&(q&&(k=Math.round(k),G=Math.round(G)),p.save(),p.translate(k,G),p.rotate(Y),p.scale(V,V),p.drawImage(j,A,M,I,D,0,0,I,D),p.restore())}}p.restore()}};n.exports=u},11164:(n,a,s)=>{var o=s(2638),u=s(25305),l=s(44603),c=s(23568);l.register("dynamicBitmapText",function(h,d){h===void 0&&(h={});var f=c(h,"font",""),m=c(h,"text",""),p=c(h,"size",!1),g=new o(this.scene,0,0,f,m,p);return d!==void 0&&(h.add=d),u(this.scene,g,h),g})},72566:(n,a,s)=>{var o=s(2638),u=s(39429);u.register("dynamicBitmapText",function(l,c,h,d,f){return this.displayList.add(new o(this.scene,l,c,h,d,f))})},12310:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(73482),l=s(86741),n.exports={renderWebGL:u,renderCanvas:l}},73482:(n,a,s)=>{var o=s(91296),u=s(61340),l=s(70554),c=new u,h=function(d,f,m,p){var g=f.text,v=g.length;if(v!==0){m.addToRenderList(f);var y=d.pipelines.set(f.pipeline,f),x=o(f,m,p);d.pipelines.preBatch(f);var b=x.sprite,w=x.calc,C=c,_=f.cropWidth>0||f.cropHeight>0;_&&(y.flush(),d.pushScissor(w.tx,w.ty,f.cropWidth*w.scaleX,f.cropHeight*w.scaleY));var S=f.frame,T=S.glTexture,A=f.tintFill,M=l.getTintAppendFloatAlpha(f.tintTopLeft,m.alpha*f._alphaTL),I=l.getTintAppendFloatAlpha(f.tintTopRight,m.alpha*f._alphaTR),D=l.getTintAppendFloatAlpha(f.tintBottomLeft,m.alpha*f._alphaBL),k=l.getTintAppendFloatAlpha(f.tintBottomRight,m.alpha*f._alphaBR),G=y.setGameObject(f),R=0,H=0,j=0,Z=0,ee=f.letterSpacing,Y,V=0,O=0,F,X=f.scrollX,ie=f.scrollY,re=f.fontData,q=re.chars,ae=re.lineHeight,ue=f.fontSize/re.size,me=0,be=f._align,ke=0,ze=0,De=f.getTextBounds(!1);f.maxWidth>0&&(g=De.wrappedText,v=g.length);var ge=f._bounds.lines;be===1?ze=(ge.longest-ge.lengths[0])/2:be===2&&(ze=ge.longest-ge.lengths[0]);for(var Et=m.roundPixels,ct=f.displayCallback,We=f.callbackData,Ue=0;Ue<v;Ue++){if(j=g.charCodeAt(Ue),j===10){ke++,be===1?ze=(ge.longest-ge.lengths[ke])/2:be===2&&(ze=ge.longest-ge.lengths[ke]),R=0,H+=ae,F=null;continue}if(Y=q[j],!!Y){V=Y.width,O=Y.height;var qe=Y.xOffset+R-X,it=Y.yOffset+H-ie;if(F!==null){var Ft=Y.kerning[Z]||0;qe+=Ft,R+=Ft}if(R+=Y.xAdvance+ee,F=Y,Z=j,!(V===0||O===0||j===32)){if(ue=f.fontSize/f.fontData.size,me=0,ct){We.color=0,We.tint.topLeft=M,We.tint.topRight=I,We.tint.bottomLeft=D,We.tint.bottomRight=k,We.index=Ue,We.charCode=j,We.x=qe,We.y=it,We.scale=ue,We.rotation=me,We.data=Y.data;var at=ct(We);qe=at.x,it=at.y,ue=at.scale,me=at.rotation,at.color?(M=at.color,I=at.color,D=at.color,k=at.color):(M=at.tint.topLeft,I=at.tint.topRight,D=at.tint.bottomLeft,k=at.tint.bottomRight),M=l.getTintAppendFloatAlpha(M,m.alpha*f._alphaTL),I=l.getTintAppendFloatAlpha(I,m.alpha*f._alphaTR),D=l.getTintAppendFloatAlpha(D,m.alpha*f._alphaBL),k=l.getTintAppendFloatAlpha(k,m.alpha*f._alphaBR)}qe*=ue,it*=ue,qe-=f.displayOriginX,it-=f.displayOriginY,qe+=ze,C.applyITRS(qe,it,me,ue,ue),w.multiply(C,b);var bt=Y.u0,ai=Y.v0,ei=Y.u1,li=Y.v1,fi=V,vi=O,Ht=b.e,xi=b.f,Ti=vi*b.c+b.e,Tr=vi*b.d+b.f,mn=fi*b.a+vi*b.c+b.e,wn=fi*b.b+vi*b.d+b.f,Xr=fi*b.a+b.e,gn=fi*b.b+b.f;Et&&(Ht=Math.round(Ht),xi=Math.round(xi),Ti=Math.round(Ti),Tr=Math.round(Tr),mn=Math.round(mn),wn=Math.round(wn),Xr=Math.round(Xr),gn=Math.round(gn)),y.shouldFlush(6)&&(y.flush(),G=y.setGameObject(f)),y.batchQuad(f,Ht,xi,Ti,Tr,mn,wn,Xr,gn,bt,ai,ei,li,M,I,D,k,A,T,G)}}}_&&(y.flush(),d.popScissor()),d.pipelines.postBatch(f)}};n.exports=h},22186:(n,a,s)=>{var o=s(83419),u=s(45319),l=s(31401),c=s(95643),h=s(53048),d=s(61327),f=s(21859),m=s(87841),p=s(18658),g=new o({Extends:c,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Texture,l.Tint,l.Transform,l.Visible,p],initialize:function(y,x,b,w,C,_,S){C===void 0&&(C=""),S===void 0&&(S=0),c.call(this,y,"BitmapText"),this.font=w;var T=this.scene.sys.cache.bitmapFont.get(w);if(!T)throw new Error("Invalid BitmapText key: "+w);this.fontData=T.data,this._text="",this._fontSize=_||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=S,this._bounds=h(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=T.fromAtlas,this.setTexture(T.texture,T.frame),this.setPosition(x,b),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(C)},setLeftAlign:function(){return this._align=g.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=g.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=g.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(v){return this._fontSize=v,this._dirty=!0,this},setLetterSpacing:function(v){return v===void 0&&(v=0),this._letterSpacing=v,this._dirty=!0,this},setLineSpacing:function(v){return v===void 0&&(v=0),this.lineSpacing=v,this},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this.text&&(this._text=v.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(v,y,x,b){return v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=.5),this.dropShadowX=v,this.dropShadowY=y,this.dropShadowColor=x,this.dropShadowAlpha=b,this},setCharacterTint:function(v,y,x,b,w,C,_){v===void 0&&(v=0),y===void 0&&(y=1),x===void 0&&(x=!1),b===void 0&&(b=-1),w===void 0&&(w=b,C=b,_=b);var S=this.text.length;y===-1&&(y=S),v<0&&(v=S+v),v=u(v,0,S-1);for(var T=u(v+y,v,S),A=this.charColors,M=v;M<T;M++){var I=A[M];if(b===-1)A[M]=null;else{var D=x?1:0;I?(I.tintEffect=D,I.tintTL=b,I.tintTR=w,I.tintBL=C,I.tintBR=_):A[M]={tintEffect:D,tintTL:b,tintTR:w,tintBL:C,tintBR:_}}}return this},setWordTint:function(v,y,x,b,w,C,_){y===void 0&&(y=1);for(var S=this.getTextBounds(),T=S.words,A=typeof v=="number",M=0,I=0;I<T.length;I++){var D=T[I];if((A&&I===v||!A&&D.word===v)&&(this.setCharacterTint(D.i,D.word.length,x,b,w,C,_),M++,M===y))return this}return this},getTextBounds:function(v){var y=this._bounds;return(this._dirty||v||this.scaleX!==y.scaleX||this.scaleY!==y.scaleY)&&(h(this,v,!0,y),this._dirty=!1),y},getCharacterAt:function(v,y,x){for(var b=this.getLocalPoint(v,y,null,x),w=this.getTextBounds(),C=w.characters,_=new m,S=0;S<C.length;S++){var T=C[S];if(_.setTo(T.x,T.t,T.r-T.x,T.b),_.contains(b.x,b.y))return T}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(v,y,x){y===void 0&&(y=this._fontSize),x===void 0&&(x=this._align);var b=this.scene.sys.cache.bitmapFont.get(v);return b&&(this.font=v,this.fontData=b.data,this._fontSize=y,this._align=x,this.fromAtlas=b.fromAtlas===!0,this.setTexture(b.texture,b.frame),h(this,!1,!0,this._bounds)),this},setMaxWidth:function(v,y){return this._maxWidth=v,this._dirty=!0,y!==void 0&&(this.wordWrapCharCode=y),this},align:{set:function(v){this._align=v,this._dirty=!0},get:function(){return this._align}},text:{set:function(v){this.setText(v)},get:function(){return this._text}},fontSize:{set:function(v){this._fontSize=v,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(v){this._letterSpacing=v,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(v){this._lineSpacing=v,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(v){this._maxWidth=v,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var v=l.ToJSON(this),y={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return v.data=y,v},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});g.ALIGN_LEFT=0,g.ALIGN_CENTER=1,g.ALIGN_RIGHT=2,g.ParseFromAtlas=d,g.ParseXMLBitmapFont=f,n.exports=g},37289:(n,a,s)=>{var o=s(20926),u=function(l,c,h,d){var f=c._text,m=f.length,p=l.currentContext;if(!(m===0||!o(l,p,c,h,d))){h.addToRenderList(c);var g=c.fromAtlas?c.frame:c.texture.frames.__BASE,v=c.fontData.chars,y=c.fontData.lineHeight,x=c._letterSpacing,b=c._lineSpacing,w=0,C=0,_=0,S=null,T=0,A=0,M=0,I=0,D=0,k=0,G=null,R=0,H=g.source.image,j=g.cutX,Z=g.cutY,ee=c._fontSize/c.fontData.size,Y=c._align,V=0,O=0,F=c.getTextBounds(!1);c.maxWidth>0&&(f=F.wrappedText,m=f.length);var X=c._bounds.lines;Y===1?O=(X.longest-X.lengths[0])/2:Y===2&&(O=X.longest-X.lengths[0]),p.translate(-c.displayOriginX,-c.displayOriginY);for(var ie=h.roundPixels,re=0;re<m;re++){if(_=f.charCodeAt(re),_===10){V++,Y===1?O=(X.longest-X.lengths[V])/2:Y===2&&(O=X.longest-X.lengths[V]),w=0,C+=y+b,G=null;continue}if(S=v[_],!!S){if(T=j+S.x,A=Z+S.y,M=S.width,I=S.height,D=S.xOffset+w,k=S.yOffset+C,G!==null){var q=S.kerning[R];D+=q!==void 0?q:0}D*=ee,k*=ee,D+=O,w+=S.xAdvance+x+(q!==void 0?q:0),G=S,R=_,!(M===0||I===0||_===32)&&(ie&&(D=Math.round(D),k=Math.round(k)),p.save(),p.translate(D,k),p.scale(ee,ee),p.drawImage(H,T,A,M,I,0,0,M,I),p.restore())}}p.restore()}};n.exports=u},57336:(n,a,s)=>{var o=s(22186),u=s(25305),l=s(44603),c=s(23568),h=s(35154);l.register("bitmapText",function(d,f){d===void 0&&(d={});var m=h(d,"font",""),p=c(d,"text",""),g=c(d,"size",!1),v=h(d,"align",0),y=new o(this.scene,0,0,m,p,g,v);return f!==void 0&&(d.add=f),u(this.scene,y,d),y})},34914:(n,a,s)=>{var o=s(22186),u=s(39429);u.register("bitmapText",function(l,c,h,d,f,m){return this.displayList.add(new o(this.scene,l,c,h,d,f,m))})},18658:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(33590),l=s(37289),n.exports={renderWebGL:u,renderCanvas:l}},33590:(n,a,s)=>{var o=s(3217),u=s(91296),l=s(70554),c=function(h,d,f,m){var p=d._text,g=p.length;if(g!==0){f.addToRenderList(d);var v=h.pipelines.set(d.pipeline,d),y=u(d,f,m).calc;h.pipelines.preBatch(d);var x=f.roundPixels,b=f.alpha,w=d.charColors,C=d.tintFill,_=l.getTintAppendFloatAlpha,S=_(d.tintTopLeft,b*d._alphaTL),T=_(d.tintTopRight,b*d._alphaTR),A=_(d.tintBottomLeft,b*d._alphaBL),M=_(d.tintBottomRight,b*d._alphaBR),I=d.frame.glTexture,D=v.setGameObject(d),k=d.getTextBounds(!1),G,R,H,j=k.characters,Z=d.dropShadowX,ee=d.dropShadowY,Y=Z!==0||ee!==0;if(Y){var V=d.dropShadowColor,O=d.dropShadowAlpha,F=_(V,b*O*d._alphaTL),X=_(V,b*O*d._alphaTR),ie=_(V,b*O*d._alphaBL),re=_(V,b*O*d._alphaBR);for(G=0;G<j.length;G++)R=j[G],H=R.glyph,!(R.code===32||H.width===0||H.height===0)&&o(v,d,R,H,Z,ee,y,x,F,X,ie,re,1,I,D)}for(G=0;G<j.length;G++)if(R=j[G],H=R.glyph,!(R.code===32||H.width===0||H.height===0))if(v.shouldFlush(6)&&(v.flush(),D=v.setGameObject(d)),w[R.i]){var q=w[R.i],ae=q.tintEffect,ue=_(q.tintTL,b*d._alphaTL),me=_(q.tintTR,b*d._alphaTR),be=_(q.tintBL,b*d._alphaBL),ke=_(q.tintBR,b*d._alphaBR);o(v,d,R,H,0,0,y,x,ue,me,be,ke,ae,I,D)}else o(v,d,R,H,0,0,y,x,S,T,A,M,C,I,D);h.pipelines.postBatch(d)}};n.exports=c},6107:(n,a,s)=>{var o=s(48011),u=s(46590),l=s(83419),c=s(31401),h=s(4327),d=s(95643),f=s(73162),m=new l({Extends:d,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.Texture,c.Transform,c.Visible,o],initialize:function(g,v,y,x,b){d.call(this,g,"Blitter"),this.setTexture(x,b),this.setPosition(v,y),this.initPipeline(),this.initPostPipeline(),this.children=new f,this.renderList=[],this.dirty=!1},create:function(p,g,v,y,x){y===void 0&&(y=!0),x===void 0&&(x=this.children.length),v===void 0?v=this.frame:v instanceof h||(v=this.texture.get(v));var b=new u(this,p,g,v,y);return this.children.addAt(b,x,!1),this.dirty=!0,b},createFromCallback:function(p,g,v,y){for(var x=this.createMultiple(g,v,y),b=0;b<x.length;b++){var w=x[b];p.call(this,w,b)}return x},createMultiple:function(p,g,v){g===void 0&&(g=this.frame.name),v===void 0&&(v=!0),Array.isArray(g)||(g=[g]);var y=[],x=this;return g.forEach(function(b){for(var w=0;w<p;w++)y.push(x.create(0,0,b,v))}),y},childCanRender:function(p){return p.visible&&p.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});n.exports=m},72396:n=>{var a=function(s,o,u,l){var c=o.getRenderList();if(c.length!==0){var h=s.currentContext,d=u.alpha*o.alpha;if(d!==0){u.addToRenderList(o),h.globalCompositeOperation=s.blendModes[o.blendMode],h.imageSmoothingEnabled=!o.frame.source.scaleMode;var f=o.x-u.scrollX*o.scrollFactorX,m=o.y-u.scrollY*o.scrollFactorY;h.save(),l&&l.copyToContext(h);for(var p=u.roundPixels,g=0;g<c.length;g++){var v=c[g],y=v.flipX||v.flipY,x=v.frame,b=x.canvasData,w=x.x,C=x.y,_=1,S=1,T=v.alpha*d;T!==0&&(h.globalAlpha=T,y?(v.flipX&&(_=-1,w-=b.width),v.flipY&&(S=-1,C-=b.height),b.width>0&&b.height>0&&(h.save(),h.translate(v.x+f,v.y+m),h.scale(_,S),h.drawImage(x.source.image,b.x,b.y,b.width,b.height,w,C,b.width,b.height),h.restore())):(p&&(w=Math.round(w),C=Math.round(C)),b.width>0&&b.height>0&&h.drawImage(x.source.image,b.x,b.y,b.width,b.height,w+v.x+f,C+v.y+m,b.width,b.height)))}h.restore()}}};n.exports=a},9403:(n,a,s)=>{var o=s(6107),u=s(25305),l=s(44603),c=s(23568);l.register("blitter",function(h,d){h===void 0&&(h={});var f=c(h,"key",null),m=c(h,"frame",null),p=new o(this.scene,0,0,f,m);return d!==void 0&&(h.add=d),u(this.scene,p,h),p})},12709:(n,a,s)=>{var o=s(6107),u=s(39429);u.register("blitter",function(l,c,h,d){return this.displayList.add(new o(this.scene,l,c,h,d))})},48011:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(99485),l=s(72396),n.exports={renderWebGL:u,renderCanvas:l}},99485:(n,a,s)=>{var o=s(61340),u=s(70554),l=new o,c=function(h,d,f,m){var p=d.getRenderList(),g=f.alpha*d.alpha;if(!(p.length===0||g===0)){f.addToRenderList(d);var v=h.pipelines.set(this.pipeline,d),y=f.scrollX*d.scrollFactorX,x=f.scrollY*d.scrollFactorY,b=l.copyFrom(f.matrix);m&&(b.multiplyWithOffset(m,-y,-x),y=0,x=0);var w=d.x-y,C=d.y-x,_=-1,S=!1,T=f.roundPixels;h.pipelines.preBatch(d);for(var A=0;A<p.length;A++){var M=p[A],I=M.frame,D=M.alpha*g;if(D!==0){var k=I.width,G=I.height,R=w+M.x+I.x,H=C+M.y+I.y;M.flipX&&(k*=-1,R+=I.width),M.flipY&&(G*=-1,H+=I.height);var j=b.setQuad(R,H,R+k,H+G,T),Z=u.getTintAppendFloatAlpha(M.tint,D);if(I.sourceIndex!==_){var ee=v.setGameObject(d,I);_=I.sourceIndex}v.batchQuad(d,j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],I.u0,I.v0,I.u1,I.v1,Z,Z,Z,Z,S,I.glTexture,ee)&&(_=-1)}}h.pipelines.postBatch(d)}};n.exports=c},46590:(n,a,s)=>{var o=s(83419),u=s(4327),l=new o({initialize:function(h,d,f,m,p){this.parent=h,this.x=d,this.y=f,this.frame=m,this.data={},this.tint=16777215,this._visible=p,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(c){return c===void 0?this.frame=this.parent.frame:c instanceof u&&c.texture===this.parent.texture?this.frame=c:this.frame=this.parent.texture.get(c),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(c,h,d){return this.x=c,this.y=h,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,d&&this.setFrame(d),this},setPosition:function(c,h){return this.x=c,this.y=h,this},setFlipX:function(c){return this.flipX=c,this},setFlipY:function(c){return this.flipY=c,this},setFlip:function(c,h){return this.flipX=c,this.flipY=h,this},setVisible:function(c){return this.visible=c,this},setAlpha:function(c){return this.alpha=c,this},setTint:function(c){return this.tint=c,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(c){this.parent.dirty|=this._visible!==c,this._visible=c}},alpha:{get:function(){return this._alpha},set:function(c){this.parent.dirty|=this._alpha>0!=c>0,this._alpha=c}}});n.exports=l},16005:(n,a,s)=>{var o=s(45319),u=2,l={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(c,h,d,f){return c===void 0&&(c=1),h===void 0?this.alpha=c:(this._alphaTL=o(c,0,1),this._alphaTR=o(h,0,1),this._alphaBL=o(d,0,1),this._alphaBR=o(f,0,1)),this},alpha:{get:function(){return this._alpha},set:function(c){var h=o(c,0,1);this._alpha=h,this._alphaTL=h,this._alphaTR=h,this._alphaBL=h,this._alphaBR=h,h===0?this.renderFlags&=~u:this.renderFlags|=u}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(c){var h=o(c,0,1);this._alphaTL=h,h!==0&&(this.renderFlags|=u)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(c){var h=o(c,0,1);this._alphaTR=h,h!==0&&(this.renderFlags|=u)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(c){var h=o(c,0,1);this._alphaBL=h,h!==0&&(this.renderFlags|=u)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(c){var h=o(c,0,1);this._alphaBR=h,h!==0&&(this.renderFlags|=u)}}};n.exports=l},88509:(n,a,s)=>{var o=s(45319),u=2,l={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(c){return c===void 0&&(c=1),this.alpha=c,this},alpha:{get:function(){return this._alpha},set:function(c){var h=o(c,0,1);this._alpha=h,h===0?this.renderFlags&=~u:this.renderFlags|=u}}};n.exports=l},90065:(n,a,s)=>{var o=s(10312),u={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(l){typeof l=="string"&&(l=o[l]),l|=0,l>=-1&&(this._blendMode=l)}},setBlendMode:function(l){return this.blendMode=l,this}};n.exports=u},94215:n=>{var a={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,o){return this.width=s,this.height=o,this},setDisplaySize:function(s,o){return this.displayWidth=s,this.displayHeight=o,this}};n.exports=a},61683:n=>{var a={texture:null,frame:null,isCropped:!1,setCrop:function(s,o,u,l){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,o,u,l,this.flipX,this.flipY);else{var c=s;this.frame.setCropUVs(this._crop,c.x,c.y,c.width,c.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=a},89272:(n,a,s)=>{var o=s(37105),u={_depth:0,depth:{get:function(){return this._depth},set:function(l){this.displayList&&this.displayList.queueDepthSort(),this._depth=l}},setDepth:function(l){return l===void 0&&(l=0),this.depth=l,this},setToTop:function(){var l=this.getDisplayList();return l&&o.BringToTop(l,this),this},setToBack:function(){var l=this.getDisplayList();return l&&o.SendToBack(l,this),this},setAbove:function(l){var c=this.getDisplayList();return c&&l&&o.MoveAbove(c,this,l),this},setBelow:function(l){var c=this.getDisplayList();return c&&l&&o.MoveBelow(c,this,l),this}};n.exports=u},47059:(n,a,s)=>{var o=s(83419),u=s(66064),l=s(19133),c=new o({initialize:function(d,f){this.gameObject=d,this.isPost=f,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(h){return h===void 0&&(h=0),this.padding=h,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(h){if(!this.isPost){var d=this.gameObject.scene.sys.renderer;d&&d.pipelines?(this.gameObject.pipeline=d.pipelines.FX_PIPELINE,h!==void 0&&(this.padding=h),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var h=this.list,d=0;d<h.length;d++)h[d].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(h){var d;if(this.isPost){var f=this.gameObject.getPostPipeline(String(h.type));for(Array.isArray(f)||(f=[f]),d=0;d<f.length;d++){var m=f[d];if(m.controller===h){this.gameObject.removePostPipeline(m),h.destroy();break}}}else{var p=this.list;for(d=0;d<p.length;d++)p[d]===h&&(l(p,d),h.destroy())}return this.gameObject},disable:function(h){return h===void 0&&(h=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,h&&this.clear(),this.gameObject},add:function(h,d){if(this.isPost){var f=String(h.type);this.gameObject.setPostPipeline(f,d);var m=this.gameObject.getPostPipeline(f);if(m)return Array.isArray(m)&&(m=m.pop()),m&&(m.controller=h),h}else return this.enabled||this.enable(),this.list.push(h),h},addGlow:function(h,d,f,m,p,g){return this.add(new u.Glow(this.gameObject,h,d,f,m),{quality:p,distance:g})},addShadow:function(h,d,f,m,p,g,v){return this.add(new u.Shadow(this.gameObject,h,d,f,m,p,g,v))},addPixelate:function(h){return this.add(new u.Pixelate(this.gameObject,h))},addVignette:function(h,d,f,m){return this.add(new u.Vignette(this.gameObject,h,d,f,m))},addShine:function(h,d,f,m){return this.add(new u.Shine(this.gameObject,h,d,f,m))},addBlur:function(h,d,f,m,p,g){return this.add(new u.Blur(this.gameObject,h,d,f,m,p,g))},addGradient:function(h,d,f,m,p,g,v,y){return this.add(new u.Gradient(this.gameObject,h,d,f,m,p,g,v,y))},addBloom:function(h,d,f,m,p,g){return this.add(new u.Bloom(this.gameObject,h,d,f,m,p,g))},addColorMatrix:function(){return this.add(new u.ColorMatrix(this.gameObject))},addCircle:function(h,d,f,m,p){return this.add(new u.Circle(this.gameObject,h,d,f,m,p))},addBarrel:function(h){return this.add(new u.Barrel(this.gameObject,h))},addDisplacement:function(h,d,f){return this.add(new u.Displacement(this.gameObject,h,d,f))},addWipe:function(h,d,f){return this.add(new u.Wipe(this.gameObject,h,d,f))},addReveal:function(h,d,f){return this.add(new u.Wipe(this.gameObject,h,d,f,!0))},addBokeh:function(h,d,f){return this.add(new u.Bokeh(this.gameObject,h,d,f))},addTiltShift:function(h,d,f,m,p,g){return this.add(new u.Bokeh(this.gameObject,h,d,f,!0,m,p,g))},destroy:function(){this.clear(),this.gameObject=null}});n.exports=c},54434:n=>{var a={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,o){return this.flipX=s,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};n.exports=a},8004:(n,a,s)=>{var o=s(87841),u=s(11520),l=s(26099),c={prepareBoundsOutput:function(h,d){if(d===void 0&&(d=!1),this.rotation!==0&&u(h,this.x,this.y,this.rotation),d&&this.parentContainer){var f=this.parentContainer.getBoundsTransformMatrix();f.transformPoint(h.x,h.y,h)}return h},getCenter:function(h,d){return h===void 0&&(h=new l),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,d)},getTopLeft:function(h,d){return h||(h=new l),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,d)},getTopCenter:function(h,d){return h||(h=new l),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,d)},getTopRight:function(h,d){return h||(h=new l),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,d)},getLeftCenter:function(h,d){return h||(h=new l),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,d)},getRightCenter:function(h,d){return h||(h=new l),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,d)},getBottomLeft:function(h,d){return h||(h=new l),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,d)},getBottomCenter:function(h,d){return h||(h=new l),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,d)},getBottomRight:function(h,d){return h||(h=new l),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,d)},getBounds:function(h){h===void 0&&(h=new o);var d,f,m,p,g,v,y,x;if(this.parentContainer){var b=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(h),b.transformPoint(h.x,h.y,h),d=h.x,f=h.y,this.getTopRight(h),b.transformPoint(h.x,h.y,h),m=h.x,p=h.y,this.getBottomLeft(h),b.transformPoint(h.x,h.y,h),g=h.x,v=h.y,this.getBottomRight(h),b.transformPoint(h.x,h.y,h),y=h.x,x=h.y}else this.getTopLeft(h),d=h.x,f=h.y,this.getTopRight(h),m=h.x,p=h.y,this.getBottomLeft(h),g=h.x,v=h.y,this.getBottomRight(h),y=h.x,x=h.y;return h.x=Math.min(d,m,g,y),h.y=Math.min(f,p,v,x),h.width=Math.max(d,m,g,y)-h.x,h.height=Math.max(f,p,v,x)-h.y,h}};n.exports=c},8573:(n,a,s)=>{var o=s(6858),u=s(80661),l={mask:null,setMask:function(c){return this.mask=c,this},clearMask:function(c){return c===void 0&&(c=!1),c&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(c,h,d,f,m){return c===void 0&&(this.texture||this.shader||this.geom)&&(c=this),new o(this.scene,c,h,d,f,m)},createGeometryMask:function(c){return c===void 0&&(this.type==="Graphics"||this.geom)&&(c=this),new u(this.scene,c)}};n.exports=l},27387:n=>{var a={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(s){this._displayOriginX=s,this.originX=s/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(s){this._displayOriginY=s,this.originY=s/this.height}},setOrigin:function(s,o){return s===void 0&&(s=.5),o===void 0&&(o=s),this.originX=s,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(s,o){return s===void 0&&(s=0),o===void 0&&(o=s),this.displayOriginX=s,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};n.exports=a},37640:(n,a,s)=>{var o=s(39506),u=s(57355),l=s(35154),c=s(86353),h=s(26099),d={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:c.PLAYING_FORWARD,setPath:function(f,m){m===void 0&&(m=this.pathConfig);var p=this.pathTween;return p&&p.isPlaying()&&p.stop(),this.path=f,m&&this.startFollow(m),this},setRotateToPath:function(f,m){return m===void 0&&(m=0),this.rotateToPath=f,this.pathRotationOffset=m,this},isFollowing:function(){var f=this.pathTween;return f&&f.isPlaying()},startFollow:function(f,m){f===void 0&&(f={}),m===void 0&&(m=0);var p=this.pathTween;p&&p.isPlaying()&&p.stop(),typeof f=="number"&&(f={duration:f}),f.from=l(f,"from",0),f.to=l(f,"to",1);var g=u(f,"positionOnPath",!1);this.rotateToPath=u(f,"rotateToPath",!1),this.pathRotationOffset=l(f,"rotationOffset",0);var v=l(f,"startAt",m);if(v&&(f.onStart=function(x){var b=x.data[0];b.progress=v,b.elapsed=b.duration*v;var w=b.ease(b.progress);b.current=b.start+(b.end-b.start)*w,b.setTargetValue()}),this.pathOffset||(this.pathOffset=new h(this.x,this.y)),this.pathVector||(this.pathVector=new h),this.pathDelta||(this.pathDelta=new h),this.pathDelta.reset(),f.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(f),this.path.getStartPoint(this.pathOffset),g&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=c.PLAYING_FORWARD,this.rotateToPath){var y=this.path.getPoint(.1);this.rotation=Math.atan2(y.y-this.y,y.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=f,this},pauseFollow:function(){var f=this.pathTween;return f&&f.isPlaying()&&f.pause(),this},resumeFollow:function(){var f=this.pathTween;return f&&f.isPaused()&&f.resume(),this},stopFollow:function(){var f=this.pathTween;return f&&f.isPlaying()&&f.stop(),this},pathUpdate:function(){var f=this.pathTween;if(f&&f.data){var m=f.data[0],p=this.pathDelta,g=this.pathVector;if(p.copy(g).negate(),m.state===c.COMPLETE){this.path.getPoint(m.end,g),p.add(g),g.add(this.pathOffset),this.setPosition(g.x,g.y);return}else if(m.state!==c.PLAYING_FORWARD&&m.state!==c.PLAYING_BACKWARD)return;this.path.getPoint(f.getValue(),g),p.add(g),g.add(this.pathOffset);var v=this.x,y=this.y;this.setPosition(g.x,g.y);var x=this.x-v,b=this.y-y;if(x===0&&b===0)return;if(m.state!==this._prevDirection){this._prevDirection=m.state;return}this.rotateToPath&&(this.rotation=Math.atan2(b,x)+o(this.pathRotationOffset))}}};n.exports=d},72699:(n,a,s)=>{var o=s(62644),u={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(l){this.pipelineData={};var c=this.scene.sys.renderer;if(!c)return!1;var h=c.pipelines;if(h){l===void 0&&(l=h.default);var d=h.get(l);if(d)return this.defaultPipeline=d,this.pipeline=d,!0}return!1},setPipeline:function(l,c,h){var d=this.scene.sys.renderer;if(!d)return this;var f=d.pipelines;if(f){var m=f.get(l);m&&(this.pipeline=m),c&&(this.pipelineData=h?o(c):c)}return this},setPipelineData:function(l,c){var h=this.pipelineData;return c===void 0?delete h[l]:h[l]=c,this},resetPipeline:function(l){return l===void 0&&(l=!1),this.pipeline=this.defaultPipeline,l&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};n.exports=u},17581:(n,a,s)=>{var o=s(62644),u=s(47059),l=s(19133),c={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(h){this.postPipelines=[],this.postPipelineData={},this.postFX=new u(this,!0),h&&(this.preFX=new u(this,!1))},setPostPipeline:function(h,d,f){var m=this.scene.sys.renderer;if(!m)return this;var p=m.pipelines;if(p){Array.isArray(h)||(h=[h]);for(var g=0;g<h.length;g++){var v=p.getPostPipeline(h[g],this,d);v&&this.postPipelines.push(v)}d&&(this.postPipelineData=f?o(d):d)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(h,d){var f=this.postPipelineData;return d===void 0?delete f[h]:f[h]=d,this},getPostPipeline:function(h){for(var d=typeof h=="string",f=this.postPipelines,m=[],p=0;p<f.length;p++){var g=f[p];(d&&g.name===h||!d&&g instanceof h)&&m.push(g)}return m.length===1?m[0]:m},resetPostPipeline:function(h){h===void 0&&(h=!1);for(var d=this.postPipelines,f=0;f<d.length;f++)d[f].destroy();this.postPipelines=[],this.hasPostPipeline=!1,h&&(this.postPipelineData={})},removePostPipeline:function(h){for(var d=typeof h=="string",f=this.postPipelines,m=f.length-1;m>=0;m--){var p=f[m];(d&&p.name===h||!d&&p===h)&&(p.destroy(),l(f,m))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};n.exports=c},80227:n=>{var a={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(s,o){return o===void 0&&(o=s),this.scrollFactorX=s,this.scrollFactorY=o,this}};n.exports=a},16736:n=>{var a={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(s){this.scaleX=s/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(s){this.scaleY=s/this.frame.realHeight}},setSizeToFrame:function(s){s||(s=this.frame),this.width=s.realWidth,this.height=s.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(s,o){return this.width=s,this.height=o,this},setDisplaySize:function(s,o){return this.displayWidth=s,this.displayHeight=o,this}};n.exports=a},37726:(n,a,s)=>{var o=s(4327),u=8,l={texture:null,frame:null,isCropped:!1,setTexture:function(c,h,d,f){return this.texture=this.scene.sys.textures.get(c),this.setFrame(h,d,f)},setFrame:function(c,h,d){return h===void 0&&(h=!0),d===void 0&&(d=!0),c instanceof o?(this.texture=this.scene.sys.textures.get(c.texture.key),this.frame=c):this.frame=this.texture.get(c),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~u:this.renderFlags|=u,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&d&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};n.exports=l},79812:(n,a,s)=>{var o=s(4327),u=8,l={texture:null,frame:null,isCropped:!1,setCrop:function(c,h,d,f){if(c===void 0)this.isCropped=!1;else if(this.frame){if(typeof c=="number")this.frame.setCropUVs(this._crop,c,h,d,f,this.flipX,this.flipY);else{var m=c;this.frame.setCropUVs(this._crop,m.x,m.y,m.width,m.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(c,h){return this.texture=this.scene.sys.textures.get(c),this.setFrame(h)},setFrame:function(c,h,d){return h===void 0&&(h=!0),d===void 0&&(d=!0),c instanceof o?(this.texture=this.scene.sys.textures.get(c.texture.key),this.frame=c):this.frame=this.texture.get(c),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~u:this.renderFlags|=u,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&d&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=l},27472:n=>{var a={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(s,o,u,l){return s===void 0&&(s=16777215),o===void 0&&(o=s,u=s,l=s),this.tintTopLeft=s,this.tintTopRight=o,this.tintBottomLeft=u,this.tintBottomRight=l,this.tintFill=!1,this},setTintFill:function(s,o,u,l){return this.setTint(s,o,u,l),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(s){this.setTint(s,s,s,s)}},isTinted:{get:function(){var s=16777215;return this.tintFill||this.tintTopLeft!==s||this.tintTopRight!==s||this.tintBottomLeft!==s||this.tintBottomRight!==s}}};n.exports=a},53774:n=>{var a=function(s){var o={name:s.name,type:s.type,x:s.x,y:s.y,depth:s.depth,scale:{x:s.scaleX,y:s.scaleY},origin:{x:s.originX,y:s.originY},flipX:s.flipX,flipY:s.flipY,rotation:s.rotation,alpha:s.alpha,visible:s.visible,blendMode:s.blendMode,textureKey:"",frameKey:"",data:{}};return s.texture&&(o.textureKey=s.texture.key,o.frameKey=s.frame.name),o};n.exports=a},16901:(n,a,s)=>{var o=s(36383),u=s(61340),l=s(85955),c=s(86554),h=s(30954),d=s(26099),f=4,m={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(p){this._scaleX=p,this._scaleY=p,p===0?this.renderFlags&=~f:this.renderFlags|=f}},scaleX:{get:function(){return this._scaleX},set:function(p){this._scaleX=p,p===0?this.renderFlags&=~f:this._scaleY!==0&&(this.renderFlags|=f)}},scaleY:{get:function(){return this._scaleY},set:function(p){this._scaleY=p,p===0?this.renderFlags&=~f:this._scaleX!==0&&(this.renderFlags|=f)}},angle:{get:function(){return h(this._rotation*o.RAD_TO_DEG)},set:function(p){this.rotation=h(p)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=c(p)}},setPosition:function(p,g,v,y){return p===void 0&&(p=0),g===void 0&&(g=p),v===void 0&&(v=0),y===void 0&&(y=0),this.x=p,this.y=g,this.z=v,this.w=y,this},copyPosition:function(p){return p.x!==void 0&&(this.x=p.x),p.y!==void 0&&(this.y=p.y),p.z!==void 0&&(this.z=p.z),p.w!==void 0&&(this.w=p.w),this},setRandomPosition:function(p,g,v,y){return p===void 0&&(p=0),g===void 0&&(g=0),v===void 0&&(v=this.scene.sys.scale.width),y===void 0&&(y=this.scene.sys.scale.height),this.x=p+Math.random()*v,this.y=g+Math.random()*y,this},setRotation:function(p){return p===void 0&&(p=0),this.rotation=p,this},setAngle:function(p){return p===void 0&&(p=0),this.angle=p,this},setScale:function(p,g){return p===void 0&&(p=1),g===void 0&&(g=p),this.scaleX=p,this.scaleY=g,this},setX:function(p){return p===void 0&&(p=0),this.x=p,this},setY:function(p){return p===void 0&&(p=0),this.y=p,this},setZ:function(p){return p===void 0&&(p=0),this.z=p,this},setW:function(p){return p===void 0&&(p=0),this.w=p,this},getLocalTransformMatrix:function(p){return p===void 0&&(p=new u),p.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(p,g){p===void 0&&(p=new u);var v=this.parentContainer;if(!v)return this.getLocalTransformMatrix(p);for(g||(g=new u),p.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);v;)g.applyITRS(v.x,v.y,v._rotation,v._scaleX,v._scaleY),g.multiply(p,p),v=v.parentContainer;return p},getLocalPoint:function(p,g,v,y){v||(v=new d),y||(y=this.scene.sys.cameras.main);var x=y.scrollX,b=y.scrollY,w=p+x*this.scrollFactorX-x,C=g+b*this.scrollFactorY-b;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(w,C,v):l(w,C,this.x,this.y,this.rotation,this.scaleX,this.scaleY,v),this._originComponent&&(v.x+=this._displayOriginX,v.y+=this._displayOriginY),v},getParentRotation:function(){for(var p=0,g=this.parentContainer;g;)p+=g.rotation,g=g.parentContainer;return p}};n.exports=m},61340:(n,a,s)=>{var o=s(83419),u=s(36383),l=s(26099),c=new o({initialize:function(d,f,m,p,g,v){d===void 0&&(d=1),f===void 0&&(f=0),m===void 0&&(m=0),p===void 0&&(p=1),g===void 0&&(g=0),v===void 0&&(v=0),this.matrix=new Float32Array([d,f,m,p,g,v,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(h){this.matrix[0]=h}},b:{get:function(){return this.matrix[1]},set:function(h){this.matrix[1]=h}},c:{get:function(){return this.matrix[2]},set:function(h){this.matrix[2]=h}},d:{get:function(){return this.matrix[3]},set:function(h){this.matrix[3]=h}},e:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},f:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},tx:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},ty:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var h=this.matrix,d=h[0],f=h[1],m=h[2],p=h[3];return d||f?f>0?Math.acos(d/this.scaleX):-Math.acos(d/this.scaleX):m||p?u.TAU-(p>0?Math.acos(-m/this.scaleY):-Math.acos(m/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var h=this.matrix;return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,this},translate:function(h,d){var f=this.matrix;return f[4]=f[0]*h+f[2]*d+f[4],f[5]=f[1]*h+f[3]*d+f[5],this},scale:function(h,d){var f=this.matrix;return f[0]*=h,f[1]*=h,f[2]*=d,f[3]*=d,this},rotate:function(h){var d=Math.sin(h),f=Math.cos(h),m=this.matrix,p=m[0],g=m[1],v=m[2],y=m[3];return m[0]=p*f+v*d,m[1]=g*f+y*d,m[2]=p*-d+v*f,m[3]=g*-d+y*f,this},multiply:function(h,d){var f=this.matrix,m=h.matrix,p=f[0],g=f[1],v=f[2],y=f[3],x=f[4],b=f[5],w=m[0],C=m[1],_=m[2],S=m[3],T=m[4],A=m[5],M=d===void 0?f:d.matrix;return M[0]=w*p+C*v,M[1]=w*g+C*y,M[2]=_*p+S*v,M[3]=_*g+S*y,M[4]=T*p+A*v+x,M[5]=T*g+A*y+b,M},multiplyWithOffset:function(h,d,f){var m=this.matrix,p=h.matrix,g=m[0],v=m[1],y=m[2],x=m[3],b=m[4],w=m[5],C=d*g+f*y+b,_=d*v+f*x+w,S=p[0],T=p[1],A=p[2],M=p[3],I=p[4],D=p[5];return m[0]=S*g+T*y,m[1]=S*v+T*x,m[2]=A*g+M*y,m[3]=A*v+M*x,m[4]=I*g+D*y+C,m[5]=I*v+D*x+_,this},transform:function(h,d,f,m,p,g){var v=this.matrix,y=v[0],x=v[1],b=v[2],w=v[3],C=v[4],_=v[5];return v[0]=h*y+d*b,v[1]=h*x+d*w,v[2]=f*y+m*b,v[3]=f*x+m*w,v[4]=p*y+g*b+C,v[5]=p*x+g*w+_,this},transformPoint:function(h,d,f){f===void 0&&(f={x:0,y:0});var m=this.matrix,p=m[0],g=m[1],v=m[2],y=m[3],x=m[4],b=m[5];return f.x=h*p+d*v+x,f.y=h*g+d*y+b,f},invert:function(){var h=this.matrix,d=h[0],f=h[1],m=h[2],p=h[3],g=h[4],v=h[5],y=d*p-f*m;return h[0]=p/y,h[1]=-f/y,h[2]=-m/y,h[3]=d/y,h[4]=(m*v-p*g)/y,h[5]=-(d*v-f*g)/y,this},copyFrom:function(h){var d=this.matrix;return d[0]=h.a,d[1]=h.b,d[2]=h.c,d[3]=h.d,d[4]=h.e,d[5]=h.f,this},copyFromArray:function(h){var d=this.matrix;return d[0]=h[0],d[1]=h[1],d[2]=h[2],d[3]=h[3],d[4]=h[4],d[5]=h[5],this},copyToContext:function(h){var d=this.matrix;return h.transform(d[0],d[1],d[2],d[3],d[4],d[5]),h},setToContext:function(h){return h.setTransform(this),h},copyToArray:function(h){var d=this.matrix;return h===void 0?h=[d[0],d[1],d[2],d[3],d[4],d[5]]:(h[0]=d[0],h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5]),h},setTransform:function(h,d,f,m,p,g){var v=this.matrix;return v[0]=h,v[1]=d,v[2]=f,v[3]=m,v[4]=p,v[5]=g,this},decomposeMatrix:function(){var h=this.decomposedMatrix,d=this.matrix,f=d[0],m=d[1],p=d[2],g=d[3],v=f*g-m*p;if(h.translateX=d[4],h.translateY=d[5],f||m){var y=Math.sqrt(f*f+m*m);h.rotation=m>0?Math.acos(f/y):-Math.acos(f/y),h.scaleX=y,h.scaleY=v/y}else if(p||g){var x=Math.sqrt(p*p+g*g);h.rotation=Math.PI*.5-(g>0?Math.acos(-p/x):-Math.acos(p/x)),h.scaleX=v/x,h.scaleY=x}else h.rotation=0,h.scaleX=0,h.scaleY=0;return h},applyITRS:function(h,d,f,m,p){var g=this.matrix,v=Math.sin(f),y=Math.cos(f);return g[4]=h,g[5]=d,g[0]=y*m,g[1]=v*m,g[2]=-v*p,g[3]=y*p,this},applyInverse:function(h,d,f){f===void 0&&(f=new l);var m=this.matrix,p=m[0],g=m[1],v=m[2],y=m[3],x=m[4],b=m[5],w=1/(p*y+v*-g);return f.x=y*w*h+-v*w*d+(b*v-x*y)*w,f.y=p*w*d+-g*w*h+(-b*p+x*g)*w,f},setQuad:function(h,d,f,m,p,g){p===void 0&&(p=!1),g===void 0&&(g=this.quad);var v=this.matrix,y=v[0],x=v[1],b=v[2],w=v[3],C=v[4],_=v[5],S=h*y+d*b+C,T=h*x+d*w+_,A=h*y+m*b+C,M=h*x+m*w+_,I=f*y+m*b+C,D=f*x+m*w+_,k=f*y+d*b+C,G=f*x+d*w+_;if(p){var R=Math.floor(S+.5),H=Math.floor(T+.5),j=R-S,Z=H-T;g[0]=R,g[1]=H,g[2]=A+j,g[3]=M+Z,g[4]=I+j,g[5]=D+Z,g[6]=k+j,g[7]=G+Z}else g[0]=S,g[1]=T,g[2]=A,g[3]=M,g[4]=I,g[5]=D,g[6]=k,g[7]=G;return g},getX:function(h,d){return h*this.a+d*this.c+this.e},getY:function(h,d){return h*this.b+d*this.d+this.f},getXRound:function(h,d,f){var m=this.getX(h,d);return f&&(m=Math.floor(m+.5)),m},getYRound:function(h,d,f){var m=this.getY(h,d);return f&&(m=Math.floor(m+.5)),m},getCSSMatrix:function(){var h=this.matrix;return"matrix("+h[0]+","+h[1]+","+h[2]+","+h[3]+","+h[4]+","+h[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});n.exports=c},59715:n=>{var a=1,s={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=a):(this._visible=!1,this.renderFlags&=~a)}},setVisible:function(o){return this.visible=o,this}};n.exports=s},31401:(n,a,s)=>{n.exports={Alpha:s(16005),AlphaSingle:s(88509),BlendMode:s(90065),ComputedSize:s(94215),Crop:s(61683),Depth:s(89272),Flip:s(54434),FX:s(47059),GetBounds:s(8004),Mask:s(8573),Origin:s(27387),PathFollower:s(37640),Pipeline:s(72699),PostPipeline:s(17581),ScrollFactor:s(80227),Size:s(16736),Texture:s(37726),TextureCrop:s(79812),Tint:s(27472),ToJSON:s(53774),Transform:s(16901),TransformMatrix:s(61340),Visible:s(59715)}},31559:(n,a,s)=>{var o=s(37105),u=s(10312),l=s(83419),c=s(31401),h=s(51708),d=s(95643),f=s(87841),m=s(29959),p=s(36899),g=s(26099),v=new c.TransformMatrix,y=new l({Extends:d,Mixins:[c.AlphaSingle,c.BlendMode,c.ComputedSize,c.Depth,c.Mask,c.PostPipeline,c.Transform,c.Visible,m],initialize:function(b,w,C,_){d.call(this,b,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new c.TransformMatrix,this._sortKey="",this._sysEvents=b.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(w,C),this.setBlendMode(u.SKIP_CHECK),_&&this.add(_)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(x){return x===void 0&&(x=!0),this.exclusive=x,this},getBounds:function(x){if(x===void 0&&(x=new f),x.setTo(this.x,this.y,0,0),this.parentContainer){var b=this.parentContainer.getBoundsTransformMatrix(),w=b.transformPoint(this.x,this.y);x.setTo(w.x,w.y,0,0)}if(this.list.length>0){var C=this.list,_=new f,S=!1;x.setEmpty();for(var T=0;T<C.length;T++){var A=C[T];A.getBounds&&(A.getBounds(_),S?p(_,x,x):(x.setTo(_.x,_.y,_.width,_.height),S=!0))}}return x},addHandler:function(x){x.once(h.DESTROY,this.onChildDestroyed,this),this.exclusive&&(x.parentContainer&&x.parentContainer.remove(x),x.parentContainer=this,x.removeFromDisplayList(),x.addedToScene())},removeHandler:function(x){x.off(h.DESTROY,this.remove,this),this.exclusive&&(x.parentContainer=null,x.removedFromScene(),x.addToDisplayList())},pointToContainer:function(x,b){b===void 0&&(b=new g),this.parentContainer?this.parentContainer.pointToContainer(x,b):(b.x=x.x,b.y=x.y);var w=v;return w.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),w.invert(),w.transformPoint(x.x,x.y,b),b},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(v,this.localTransform)},add:function(x){return o.Add(this.list,x,this.maxSize,this.addHandler,this),this},addAt:function(x,b){return o.AddAt(this.list,x,b,this.maxSize,this.addHandler,this),this},getAt:function(x){return this.list[x]},getIndex:function(x){return this.list.indexOf(x)},sort:function(x,b){return x?(b===void 0&&(b=function(w,C){return w[x]-C[x]}),o.StableSort(this.list,b),this):this},getByName:function(x){return o.GetFirst(this.list,"name",x)},getRandom:function(x,b){return o.GetRandom(this.list,x,b)},getFirst:function(x,b,w,C){return o.GetFirst(this.list,x,b,w,C)},getAll:function(x,b,w,C){return o.GetAll(this.list,x,b,w,C)},count:function(x,b,w,C){return o.CountAllMatching(this.list,x,b,w,C)},swap:function(x,b){return o.Swap(this.list,x,b),this},moveTo:function(x,b){return o.MoveTo(this.list,x,b),this},moveAbove:function(x,b){return o.MoveAbove(this.list,x,b),this},moveBelow:function(x,b){return o.MoveBelow(this.list,x,b),this},remove:function(x,b){var w=o.Remove(this.list,x,this.removeHandler,this);if(b&&w){Array.isArray(w)||(w=[w]);for(var C=0;C<w.length;C++)w[C].destroy()}return this},removeAt:function(x,b){var w=o.RemoveAt(this.list,x,this.removeHandler,this);return b&&w&&w.destroy(),this},removeBetween:function(x,b,w){var C=o.RemoveBetween(this.list,x,b,this.removeHandler,this);if(w)for(var _=0;_<C.length;_++)C[_].destroy();return this},removeAll:function(x){var b=this.list;if(x){for(var w=0;w<b.length;w++)b[w]&&b[w].scene&&(b[w].off(h.DESTROY,this.onChildDestroyed,this),b[w].destroy());this.list=[]}else o.RemoveBetween(b,0,b.length,this.removeHandler,this);return this},bringToTop:function(x){return o.BringToTop(this.list,x),this},sendToBack:function(x){return o.SendToBack(this.list,x),this},moveUp:function(x){return o.MoveUp(this.list,x),this},moveDown:function(x){return o.MoveDown(this.list,x),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(x,b,w){var C=o.Replace(this.list,x,b);return C&&(this.addHandler(b),this.removeHandler(x),w&&x.destroy()),this},exists:function(x){return this.list.indexOf(x)>-1},setAll:function(x,b,w,C){return o.SetAll(this.list,x,b,w,C),this},each:function(x,b){var w=[null],C,_=this.list.slice(),S=_.length;for(C=2;C<arguments.length;C++)w.push(arguments[C]);for(C=0;C<S;C++)w[0]=_[C],x.apply(b,w);return this},iterate:function(x,b){var w=[null],C;for(C=2;C<arguments.length;C++)w.push(arguments[C]);for(C=0;C<this.list.length;C++)w[0]=this.list[C],x.apply(b,w);return this},setScrollFactor:function(x,b,w){return b===void 0&&(b=x),w===void 0&&(w=!1),this.scrollFactorX=x,this.scrollFactorY=b,w&&(o.SetAll(this.list,"scrollFactorX",x),o.SetAll(this.list,"scrollFactorY",b)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(x){o.Remove(this.list,x),this.exclusive&&(x.parentContainer=null,x.removedFromScene())}});n.exports=y},53584:n=>{var a=function(s,o,u,l){u.addToRenderList(o);var c=o.list;if(c.length!==0){var h=o.localTransform;l?(h.loadIdentity(),h.multiply(l),h.translate(o.x,o.y),h.rotate(o.rotation),h.scale(o.scaleX,o.scaleY)):h.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var d=o.blendMode!==-1;d||s.setBlendMode(0);var f=o._alpha,m=o.scrollFactorX,p=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(s,null,u);for(var g=0;g<c.length;g++){var v=c[g];if(v.willRender(u)){var y=v.alpha,x=v.scrollFactorX,b=v.scrollFactorY;!d&&v.blendMode!==s.currentBlendMode&&s.setBlendMode(v.blendMode),v.setScrollFactor(x*m,b*p),v.setAlpha(y*f),v.renderCanvas(s,v,u,h),v.setAlpha(y),v.setScrollFactor(x,b)}}o.mask&&o.mask.postRenderCanvas(s)}};n.exports=a},77143:(n,a,s)=>{var o=s(25305),u=s(31559),l=s(44603),c=s(23568),h=s(95540);l.register("container",function(d,f){d===void 0&&(d={});var m=c(d,"x",0),p=c(d,"y",0),g=h(d,"children",null),v=new u(this.scene,m,p,g);return f!==void 0&&(d.add=f),o(this.scene,v,d),v})},24961:(n,a,s)=>{var o=s(31559),u=s(39429);u.register("container",function(l,c,h){return this.displayList.add(new o(this.scene,l,c,h))})},29959:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(72249),l=s(53584),n.exports={renderWebGL:u,renderCanvas:l}},72249:n=>{var a=function(s,o,u,l){u.addToRenderList(o);var c=o.list,h=c.length;if(h!==0){var d=o.localTransform;l?(d.loadIdentity(),d.multiply(l),d.translate(o.x,o.y),d.rotate(o.rotation),d.scale(o.scaleX,o.scaleY)):d.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),s.pipelines.preBatch(o);var f=o.blendMode!==-1;f||s.setBlendMode(0);for(var m=o.alpha,p=o.scrollFactorX,g=o.scrollFactorY,v=0;v<h;v++){var y=c[v];if(y.willRender(u)){var x,b,w,C;if(y.alphaTopLeft!==void 0)x=y.alphaTopLeft,b=y.alphaTopRight,w=y.alphaBottomLeft,C=y.alphaBottomRight;else{var _=y.alpha;x=_,b=_,w=_,C=_}var S=y.scrollFactorX,T=y.scrollFactorY;!f&&y.blendMode!==s.currentBlendMode&&s.setBlendMode(y.blendMode);var A=y.mask;A&&A.preRenderWebGL(s,y,u);var M=y.type;M!==s.currentType&&(s.newType=!0,s.currentType=M),s.nextTypeMatch=v<h-1?c[v+1].type===s.currentType:!1,y.setScrollFactor(S*p,T*g),y.setAlpha(x*m,b*m,w*m,C*m),y.renderWebGL(s,y,u,d,o),y.setAlpha(x,b,w,C),y.setScrollFactor(S,T),A&&A.postRenderWebGL(s,u),s.newType=!1}}s.pipelines.postBatch(o)}};n.exports=a},47407:n=>{n.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(n,a,s)=>{var o=s(83419),u=s(31401),l=s(441),c=s(95643),h=s(41212),d=s(35846),f=s(44594),m=s(61369),p=new o({Extends:c,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Origin,u.ScrollFactor,u.Transform,u.Visible,l],initialize:function(v,y,x,b,w,C){c.call(this,v,"DOMElement"),this.parent=v.sys.game.domContainer,this.cache=v.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new m,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(y,x),typeof b=="string"?b[0]==="#"?this.setElement(b.substr(1),w,C):this.createElement(b,w,C):b&&this.setElement(b,w,C),v.sys.events.on(f.SLEEP,this.handleSceneEvent,this),v.sys.events.on(f.WAKE,this.handleSceneEvent,this),v.sys.events.on(f.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(g){var v=this.node,y=v.style;v&&(y.display=g.settings.visible?"block":"none")},setSkew:function(g,v){return g===void 0&&(g=0),v===void 0&&(v=g),this.skewX=g,this.skewY=v,this},setPerspective:function(g){return this.parent.style.perspective=g+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(g){this.parent.style.perspective=g+"px"}},addListener:function(g){if(this.node){g=g.split(" ");for(var v=0;v<g.length;v++)this.node.addEventListener(g[v],this.handler,!1)}return this},removeListener:function(g){if(this.node){g=g.split(" ");for(var v=0;v<g.length;v++)this.node.removeEventListener(g[v],this.handler)}return this},dispatchNativeEvent:function(g){this.emit(g.type,g)},createElement:function(g,v,y){return this.setElement(document.createElement(g),v,y)},setElement:function(g,v,y){this.removeElement();var x;if(typeof g=="string"?(g[0]==="#"&&(g=g.substr(1)),x=document.getElementById(g)):typeof g=="object"&&g.nodeType===1&&(x=g),!x)return this;if(this.node=x,v&&h(v))for(var b in v)x.style[b]=v[b];else typeof v=="string"&&(x.style=v);return x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent&&this.parent.appendChild(x),y&&(x.innerText=y),this.updateSize()},createFromCache:function(g,v){var y=this.cache.get(g);return y&&this.createFromHTML(y,v),this},createFromHTML:function(g,v){v===void 0&&(v="div"),this.removeElement();var y=document.createElement(v);return this.node=y,y.style.zIndex="0",y.style.display="inline",y.style.position="absolute",y.phaser=this,this.parent&&this.parent.appendChild(y),y.innerHTML=g,this.updateSize()},removeElement:function(){return this.node&&(d(this.node),this.node=null),this},updateSize:function(){var g=this.node,v=g.getBoundingClientRect();return this.width=g.clientWidth,this.height=g.clientHeight,this.displayWidth=v.width||0,this.displayHeight=v.height||0,this},getChildByProperty:function(g,v){if(this.node){for(var y=this.node.querySelectorAll("*"),x=0;x<y.length;x++)if(y[x][g]===v)return y[x]}return null},getChildByID:function(g){return this.getChildByProperty("id",g)},getChildByName:function(g){return this.getChildByProperty("name",g)},setClassName:function(g){return this.node&&(this.node.className=g,this.updateSize()),this},setText:function(g){return this.node&&(this.node.innerText=g,this.updateSize()),this},setHTML:function(g){return this.node&&(this.node.innerHTML=g,this.updateSize()),this},preRender:function(){var g=this.parentContainer,v=this.node;v&&g&&!g.willRender()&&(v.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(f.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(f.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(f.PRE_RENDER,this.preRender,this)}});n.exports=p},49381:(n,a,s)=>{var o=s(47407),u=s(95643),l=s(61340),c=new l,h=new l,d=new l,f=function(m,p,g,v){if(p.node){var y=p.node.style,x=p.scene.sys.settings;if(!y||!x.visible||u.RENDER_MASK!==p.renderFlags||p.cameraFilter!==0&&p.cameraFilter&g.id||p.parentContainer&&!p.parentContainer.willRender()){y.display="none";return}var b=p.parentContainer,w=g.alpha*p.alpha;b&&(w*=b.alpha);var C=c,_=h,S=d,T=0,A=0,M="0%",I="0%";v?(T=p.width*p.scaleX*p.originX,A=p.height*p.scaleY*p.originY,_.applyITRS(p.x-T,p.y-A,p.rotation,p.scaleX,p.scaleY),C.copyFrom(g.matrix),C.multiplyWithOffset(v,-g.scrollX*p.scrollFactorX,-g.scrollY*p.scrollFactorY),_.e=p.x-T,_.f=p.y-A,C.multiply(_,S)):(T=p.width*p.originX,A=p.height*p.originY,_.applyITRS(p.x,p.y,p.rotation,p.scaleX,p.scaleY),C.copyFrom(g.matrix),M=100*p.originX+"%",I=100*p.originY+"%",_.e-=g.scrollX*p.scrollFactorX,_.f-=g.scrollY*p.scrollFactorY,C.multiply(_,S),S.e-=T,S.f-=A),p.transformOnly||(y.display="block",y.opacity=w,y.zIndex=p._depth,y.pointerEvents=p.pointerEvents,y.mixBlendMode=o[p._blendMode]),y.transform=S.getCSSMatrix()+" skew("+p.skewX+"rad, "+p.skewY+"rad) rotate3d("+p.rotate3d.x+","+p.rotate3d.y+","+p.rotate3d.z+","+p.rotate3d.w+p.rotate3dAngle+")",y.transformOrigin=M+" "+I}};n.exports=f},2611:(n,a,s)=>{var o=s(3069),u=s(39429);u.register("dom",function(l,c,h,d,f){var m=new o(this.scene,l,c,h,d,f);return this.displayList.add(m),m})},441:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(49381),l=s(49381),n.exports={renderWebGL:u,renderCanvas:l}},62980:n=>{n.exports="addedtoscene"},41337:n=>{n.exports="destroy"},44947:n=>{n.exports="removedfromscene"},49358:n=>{n.exports="complete"},35163:n=>{n.exports="created"},97249:n=>{n.exports="error"},19483:n=>{n.exports="locked"},56059:n=>{n.exports="loop"},26772:n=>{n.exports="metadata"},64437:n=>{n.exports="playing"},83411:n=>{n.exports="play"},75780:n=>{n.exports="seeked"},67799:n=>{n.exports="seeking"},63500:n=>{n.exports="stalled"},55541:n=>{n.exports="stop"},53208:n=>{n.exports="textureready"},4992:n=>{n.exports="unlocked"},12:n=>{n.exports="unsupported"},51708:(n,a,s)=>{n.exports={ADDED_TO_SCENE:s(62980),DESTROY:s(41337),REMOVED_FROM_SCENE:s(44947),VIDEO_COMPLETE:s(49358),VIDEO_CREATED:s(35163),VIDEO_ERROR:s(97249),VIDEO_LOCKED:s(19483),VIDEO_LOOP:s(56059),VIDEO_METADATA:s(26772),VIDEO_PLAY:s(83411),VIDEO_PLAYING:s(64437),VIDEO_SEEKED:s(75780),VIDEO_SEEKING:s(67799),VIDEO_STALLED:s(63500),VIDEO_STOP:s(55541),VIDEO_TEXTURE:s(53208),VIDEO_UNLOCKED:s(4992),VIDEO_UNSUPPORTED:s(12)}},42421:(n,a,s)=>{var o=s(83419),u=s(31401),l=s(95643),c=s(64993),h=new o({Extends:l,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Flip,u.Origin,u.ScrollFactor,u.Size,u.Texture,u.Tint,u.Transform,u.Visible,c],initialize:function(f){l.call(this,f,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});n.exports=h},70217:()=>{},56315:(n,a,s)=>{var o=s(42421),u=s(39429);u.register("extern",function(){var l=new o(this.scene);return this.displayList.add(l),l})},64993:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(80287),l=s(70217),n.exports={renderWebGL:u,renderCanvas:l}},80287:(n,a,s)=>{var o=s(91296),u=function(l,c,h,d){l.pipelines.clear();var f=o(c,h,d).calc;c.render.call(c,l,h,f),l.pipelines.rebind()};n.exports=u},85592:n=>{n.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(n,a,s)=>{var o=s(71911),u=s(83419),l=s(85592),c=s(31401),h=s(8497),d=s(95643),f=s(95540),m=s(35154),p=s(36383),g=s(84503),v=new u({Extends:d,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.Transform,c.Visible,c.ScrollFactor,g],initialize:function(x,b){var w=m(b,"x",0),C=m(b,"y",0);d.call(this,x,"Graphics"),this.setPosition(w,C),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(b)},setDefaultStyles:function(y){return m(y,"lineStyle",null)&&(this.defaultStrokeWidth=m(y,"lineStyle.width",1),this.defaultStrokeColor=m(y,"lineStyle.color",16777215),this.defaultStrokeAlpha=m(y,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),m(y,"fillStyle",null)&&(this.defaultFillColor=m(y,"fillStyle.color",16777215),this.defaultFillAlpha=m(y,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(y,x,b){return b===void 0&&(b=1),this.commandBuffer.push(l.LINE_STYLE,y,x,b),this._lineWidth=y,this},fillStyle:function(y,x){return x===void 0&&(x=1),this.commandBuffer.push(l.FILL_STYLE,y,x),this},fillGradientStyle:function(y,x,b,w,C,_,S,T){return C===void 0&&(C=1),_===void 0&&(_=C),S===void 0&&(S=C),T===void 0&&(T=C),this.commandBuffer.push(l.GRADIENT_FILL_STYLE,C,_,S,T,y,x,b,w),this},lineGradientStyle:function(y,x,b,w,C,_){return _===void 0&&(_=1),this.commandBuffer.push(l.GRADIENT_LINE_STYLE,y,_,x,b,w,C),this},beginPath:function(){return this.commandBuffer.push(l.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(l.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(l.FILL_PATH),this},fill:function(){return this.commandBuffer.push(l.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(l.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(l.STROKE_PATH),this},fillCircleShape:function(y){return this.fillCircle(y.x,y.y,y.radius)},strokeCircleShape:function(y){return this.strokeCircle(y.x,y.y,y.radius)},fillCircle:function(y,x,b){return this.beginPath(),this.arc(y,x,b,0,p.PI2),this.fillPath(),this},strokeCircle:function(y,x,b){return this.beginPath(),this.arc(y,x,b,0,p.PI2),this.strokePath(),this},fillRectShape:function(y){return this.fillRect(y.x,y.y,y.width,y.height)},strokeRectShape:function(y){return this.strokeRect(y.x,y.y,y.width,y.height)},fillRect:function(y,x,b,w){return this.commandBuffer.push(l.FILL_RECT,y,x,b,w),this},strokeRect:function(y,x,b,w){var C=this._lineWidth/2,_=y-C,S=y+C;return this.beginPath(),this.moveTo(y,x),this.lineTo(y,x+w),this.strokePath(),this.beginPath(),this.moveTo(y+b,x),this.lineTo(y+b,x+w),this.strokePath(),this.beginPath(),this.moveTo(_,x),this.lineTo(S+b,x),this.strokePath(),this.beginPath(),this.moveTo(_,x+w),this.lineTo(S+b,x+w),this.strokePath(),this},fillRoundedRect:function(y,x,b,w,C){C===void 0&&(C=20);var _=C,S=C,T=C,A=C;typeof C!="number"&&(_=f(C,"tl",20),S=f(C,"tr",20),T=f(C,"bl",20),A=f(C,"br",20));var M=_>=0,I=S>=0,D=T>=0,k=A>=0;return _=Math.abs(_),S=Math.abs(S),T=Math.abs(T),A=Math.abs(A),this.beginPath(),this.moveTo(y+_,x),this.lineTo(y+b-S,x),I?this.arc(y+b-S,x+S,S,-p.TAU,0):this.arc(y+b,x,S,Math.PI,p.TAU,!0),this.lineTo(y+b,x+w-A),k?this.arc(y+b-A,x+w-A,A,0,p.TAU):this.arc(y+b,x+w,A,-p.TAU,Math.PI,!0),this.lineTo(y+T,x+w),D?this.arc(y+T,x+w-T,T,p.TAU,Math.PI):this.arc(y,x+w,T,0,-p.TAU,!0),this.lineTo(y,x+_),M?this.arc(y+_,x+_,_,-Math.PI,-p.TAU):this.arc(y,x,_,p.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(y,x,b,w,C){C===void 0&&(C=20);var _=C,S=C,T=C,A=C,M=Math.min(b,w)/2;typeof C!="number"&&(_=f(C,"tl",20),S=f(C,"tr",20),T=f(C,"bl",20),A=f(C,"br",20));var I=_>=0,D=S>=0,k=T>=0,G=A>=0;return _=Math.min(Math.abs(_),M),S=Math.min(Math.abs(S),M),T=Math.min(Math.abs(T),M),A=Math.min(Math.abs(A),M),this.beginPath(),this.moveTo(y+_,x),this.lineTo(y+b-S,x),this.moveTo(y+b-S,x),D?this.arc(y+b-S,x+S,S,-p.TAU,0):this.arc(y+b,x,S,Math.PI,p.TAU,!0),this.lineTo(y+b,x+w-A),this.moveTo(y+b,x+w-A),G?this.arc(y+b-A,x+w-A,A,0,p.TAU):this.arc(y+b,x+w,A,-p.TAU,Math.PI,!0),this.lineTo(y+T,x+w),this.moveTo(y+T,x+w),k?this.arc(y+T,x+w-T,T,p.TAU,Math.PI):this.arc(y,x+w,T,0,-p.TAU,!0),this.lineTo(y,x+_),this.moveTo(y,x+_),I?this.arc(y+_,x+_,_,-Math.PI,-p.TAU):this.arc(y,x,_,p.TAU,0,!0),this.strokePath(),this},fillPointShape:function(y,x){return this.fillPoint(y.x,y.y,x)},fillPoint:function(y,x,b){return!b||b<1?b=1:(y-=b/2,x-=b/2),this.commandBuffer.push(l.FILL_RECT,y,x,b,b),this},fillTriangleShape:function(y){return this.fillTriangle(y.x1,y.y1,y.x2,y.y2,y.x3,y.y3)},strokeTriangleShape:function(y){return this.strokeTriangle(y.x1,y.y1,y.x2,y.y2,y.x3,y.y3)},fillTriangle:function(y,x,b,w,C,_){return this.commandBuffer.push(l.FILL_TRIANGLE,y,x,b,w,C,_),this},strokeTriangle:function(y,x,b,w,C,_){return this.commandBuffer.push(l.STROKE_TRIANGLE,y,x,b,w,C,_),this},strokeLineShape:function(y){return this.lineBetween(y.x1,y.y1,y.x2,y.y2)},lineBetween:function(y,x,b,w){return this.beginPath(),this.moveTo(y,x),this.lineTo(b,w),this.strokePath(),this},lineTo:function(y,x){return this.commandBuffer.push(l.LINE_TO,y,x),this},moveTo:function(y,x){return this.commandBuffer.push(l.MOVE_TO,y,x),this},strokePoints:function(y,x,b,w){x===void 0&&(x=!1),b===void 0&&(b=!1),w===void 0&&(w=y.length),this.beginPath(),this.moveTo(y[0].x,y[0].y);for(var C=1;C<w;C++)this.lineTo(y[C].x,y[C].y);return x&&this.lineTo(y[0].x,y[0].y),b&&this.closePath(),this.strokePath(),this},fillPoints:function(y,x,b,w){x===void 0&&(x=!1),b===void 0&&(b=!1),w===void 0&&(w=y.length),this.beginPath(),this.moveTo(y[0].x,y[0].y);for(var C=1;C<w;C++)this.lineTo(y[C].x,y[C].y);return x&&this.lineTo(y[0].x,y[0].y),b&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(y,x){x===void 0&&(x=32);var b=y.getPoints(x);return this.strokePoints(b,!0)},strokeEllipse:function(y,x,b,w,C){C===void 0&&(C=32);var _=new h(y,x,b,w),S=_.getPoints(C);return this.strokePoints(S,!0)},fillEllipseShape:function(y,x){x===void 0&&(x=32);var b=y.getPoints(x);return this.fillPoints(b,!0)},fillEllipse:function(y,x,b,w,C){C===void 0&&(C=32);var _=new h(y,x,b,w),S=_.getPoints(C);return this.fillPoints(S,!0)},arc:function(y,x,b,w,C,_,S){return _===void 0&&(_=!1),S===void 0&&(S=0),this.commandBuffer.push(l.ARC,y,x,b,w,C,_,S),this},slice:function(y,x,b,w,C,_,S){return _===void 0&&(_=!1),S===void 0&&(S=0),this.commandBuffer.push(l.BEGIN_PATH),this.commandBuffer.push(l.MOVE_TO,y,x),this.commandBuffer.push(l.ARC,y,x,b,w,C,_,S),this.commandBuffer.push(l.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(l.SAVE),this},restore:function(){return this.commandBuffer.push(l.RESTORE),this},translateCanvas:function(y,x){return this.commandBuffer.push(l.TRANSLATE,y,x),this},scaleCanvas:function(y,x){return this.commandBuffer.push(l.SCALE,y,x),this},rotateCanvas:function(y){return this.commandBuffer.push(l.ROTATE,y),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(y,x,b){var w=this.scene.sys,C=w.game.renderer;x===void 0&&(x=w.scale.width),b===void 0&&(b=w.scale.height),v.TargetCamera.setScene(this.scene),v.TargetCamera.setViewport(0,0,x,b),v.TargetCamera.scrollX=this.x,v.TargetCamera.scrollY=this.y;var _,S,T={willReadFrequently:!0};if(typeof y=="string")if(w.textures.exists(y)){_=w.textures.get(y);var A=_.getSourceImage();A instanceof HTMLCanvasElement&&(S=A.getContext("2d",T))}else _=w.textures.createCanvas(y,x,b),S=_.getSourceImage().getContext("2d",T);else y instanceof HTMLCanvasElement&&(S=y.getContext("2d",T));return S&&(this.renderCanvas(C,this,v.TargetCamera,null,S,!1),_&&_.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});v.TargetCamera=new o,n.exports=v},32768:(n,a,s)=>{var o=s(85592),u=s(20926),l=function(c,h,d,f,m,p){var g=h.commandBuffer,v=g.length,y=m||c.currentContext;if(!(v===0||!u(c,y,h,d,f))){d.addToRenderList(h);var x=1,b=1,w=0,C=0,_=1,S=0,T=0,A=0;y.beginPath();for(var M=0;M<v;++M){var I=g[M];switch(I){case o.ARC:y.arc(g[M+1],g[M+2],g[M+3],g[M+4],g[M+5],g[M+6]),M+=7;break;case o.LINE_STYLE:_=g[M+1],w=g[M+2],x=g[M+3],S=(w&16711680)>>>16,T=(w&65280)>>>8,A=w&255,y.strokeStyle="rgba("+S+","+T+","+A+","+x+")",y.lineWidth=_,M+=3;break;case o.FILL_STYLE:C=g[M+1],b=g[M+2],S=(C&16711680)>>>16,T=(C&65280)>>>8,A=C&255,y.fillStyle="rgba("+S+","+T+","+A+","+b+")",M+=2;break;case o.BEGIN_PATH:y.beginPath();break;case o.CLOSE_PATH:y.closePath();break;case o.FILL_PATH:p||y.fill();break;case o.STROKE_PATH:p||y.stroke();break;case o.FILL_RECT:p?y.rect(g[M+1],g[M+2],g[M+3],g[M+4]):y.fillRect(g[M+1],g[M+2],g[M+3],g[M+4]),M+=4;break;case o.FILL_TRIANGLE:y.beginPath(),y.moveTo(g[M+1],g[M+2]),y.lineTo(g[M+3],g[M+4]),y.lineTo(g[M+5],g[M+6]),y.closePath(),p||y.fill(),M+=6;break;case o.STROKE_TRIANGLE:y.beginPath(),y.moveTo(g[M+1],g[M+2]),y.lineTo(g[M+3],g[M+4]),y.lineTo(g[M+5],g[M+6]),y.closePath(),p||y.stroke(),M+=6;break;case o.LINE_TO:y.lineTo(g[M+1],g[M+2]),M+=2;break;case o.MOVE_TO:y.moveTo(g[M+1],g[M+2]),M+=2;break;case o.LINE_FX_TO:y.lineTo(g[M+1],g[M+2]),M+=5;break;case o.MOVE_FX_TO:y.moveTo(g[M+1],g[M+2]),M+=5;break;case o.SAVE:y.save();break;case o.RESTORE:y.restore();break;case o.TRANSLATE:y.translate(g[M+1],g[M+2]),M+=2;break;case o.SCALE:y.scale(g[M+1],g[M+2]),M+=2;break;case o.ROTATE:y.rotate(g[M+1]),M+=1;break;case o.GRADIENT_FILL_STYLE:M+=5;break;case o.GRADIENT_LINE_STYLE:M+=6;break}}y.restore()}};n.exports=l},87079:(n,a,s)=>{var o=s(44603),u=s(43831);o.register("graphics",function(l,c){l===void 0&&(l={}),c!==void 0&&(l.add=c);var h=new u(this.scene,l);return l.add&&this.scene.sys.displayList.add(h),h})},1201:(n,a,s)=>{var o=s(43831),u=s(39429);u.register("graphics",function(l){return this.displayList.add(new o(this.scene,l))})},84503:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(77545),l=s(32768),l=s(32768),n.exports={renderWebGL:u,renderCanvas:l}},77545:(n,a,s)=>{var o=s(85592),u=s(91296),l=s(61340),c=s(70554),h=function(g,v,y){this.x=g,this.y=v,this.width=y},d=function(g,v,y){this.points=[],this.pointsLength=1,this.points[0]=new h(g,v,y)},f=[],m=new l,p=function(g,v,y,x){if(v.commandBuffer.length!==0){y.addToRenderList(v);var b=g.pipelines.set(v.pipeline,v);g.pipelines.preBatch(v);for(var w=u(v,y,x).calc,C=m.loadIdentity(),_=v.commandBuffer,S=y.alpha*v.alpha,T=1,A=b.fillTint,M=b.strokeTint,I=0,D=0,k=0,G=.01,R=Math.PI*2,H,j=[],Z=0,ee=!0,Y=null,V=c.getTintAppendFloatAlpha,O=0;O<_.length;O++)switch(H=_[O],H){case o.BEGIN_PATH:{j.length=0,Y=null,ee=!0;break}case o.CLOSE_PATH:{ee=!1,Y&&Y.points.length&&Y.points.push(Y.points[0]);break}case o.FILL_PATH:{for(Z=0;Z<j.length;Z++)b.batchFillPath(j[Z].points,C,w);break}case o.STROKE_PATH:{for(Z=0;Z<j.length;Z++)b.batchStrokePath(j[Z].points,T,ee,C,w);break}case o.LINE_STYLE:{T=_[++O];var F=_[++O],X=_[++O]*S,ie=V(F,X);M.TL=ie,M.TR=ie,M.BL=ie,M.BR=ie;break}case o.FILL_STYLE:{var re=_[++O],q=_[++O]*S,ae=V(re,q);A.TL=ae,A.TR=ae,A.BL=ae,A.BR=ae;break}case o.GRADIENT_FILL_STYLE:{var ue=_[++O]*S,me=_[++O]*S,be=_[++O]*S,ke=_[++O]*S;A.TL=V(_[++O],ue),A.TR=V(_[++O],me),A.BL=V(_[++O],be),A.BR=V(_[++O],ke);break}case o.GRADIENT_LINE_STYLE:{T=_[++O];var ze=_[++O]*S;M.TL=V(_[++O],ze),M.TR=V(_[++O],ze),M.BL=V(_[++O],ze),M.BR=V(_[++O],ze);break}case o.ARC:{var De=0,ge=_[++O],Et=_[++O],ct=_[++O],We=_[++O],Ue=_[++O],qe=_[++O],it=_[++O];for(Ue-=We,qe?Ue<-R?Ue=-R:Ue>0&&(Ue=-R+Ue%R):Ue>R?Ue=R:Ue<0&&(Ue=R+Ue%R),Y===null&&(Y=new d(ge+Math.cos(We)*ct,Et+Math.sin(We)*ct,T),j.push(Y),De+=G);De<1+it;)k=Ue*De+We,I=ge+Math.cos(k)*ct,D=Et+Math.sin(k)*ct,Y.points.push(new h(I,D,T)),De+=G;k=Ue+We,I=ge+Math.cos(k)*ct,D=Et+Math.sin(k)*ct,Y.points.push(new h(I,D,T));break}case o.FILL_RECT:{b.batchFillRect(_[++O],_[++O],_[++O],_[++O],C,w);break}case o.FILL_TRIANGLE:{b.batchFillTriangle(_[++O],_[++O],_[++O],_[++O],_[++O],_[++O],C,w);break}case o.STROKE_TRIANGLE:{b.batchStrokeTriangle(_[++O],_[++O],_[++O],_[++O],_[++O],_[++O],T,C,w);break}case o.LINE_TO:{Y!==null?Y.points.push(new h(_[++O],_[++O],T)):(Y=new d(_[++O],_[++O],T),j.push(Y));break}case o.MOVE_TO:{Y=new d(_[++O],_[++O],T),j.push(Y);break}case o.SAVE:{f.push(C.copyToArray());break}case o.RESTORE:{C.copyFromArray(f.pop());break}case o.TRANSLATE:{ge=_[++O],Et=_[++O],C.translate(ge,Et);break}case o.SCALE:{ge=_[++O],Et=_[++O],C.scale(ge,Et);break}case o.ROTATE:{C.rotate(_[++O]);break}}g.pipelines.postBatch(v)}};n.exports=p},26479:(n,a,s)=>{var o=s(61061),u=s(83419),l=s(51708),c=s(50792),h=s(46710),d=s(95540),f=s(35154),m=s(97022),p=s(41212),g=s(88492),v=s(35072),y=s(68287),x=new u({Extends:c,initialize:function(w,C,_){c.call(this),_?C&&!Array.isArray(C)&&(C=[C]):Array.isArray(C)?p(C[0])&&(_=C,C=null):p(C)&&(_=C,C=null),this.scene=w,this.children=new v,this.isParent=!0,this.type="Group",this.classType=d(_,"classType",y),this.name=d(_,"name",""),this.active=d(_,"active",!0),this.maxSize=d(_,"maxSize",-1),this.defaultKey=d(_,"defaultKey",null),this.defaultFrame=d(_,"defaultFrame",null),this.runChildUpdate=d(_,"runChildUpdate",!1),this.createCallback=d(_,"createCallback",null),this.removeCallback=d(_,"removeCallback",null),this.createMultipleCallback=d(_,"createMultipleCallback",null),this.internalCreateCallback=d(_,"internalCreateCallback",null),this.internalRemoveCallback=d(_,"internalRemoveCallback",null),C&&this.addMultiple(C),_&&this.createMultiple(_),this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(b,w,C,_,S,T){if(b===void 0&&(b=0),w===void 0&&(w=0),C===void 0&&(C=this.defaultKey),_===void 0&&(_=this.defaultFrame),S===void 0&&(S=!0),T===void 0&&(T=!0),this.isFull())return null;var A=new this.classType(this.scene,b,w,C,_);return A.addToDisplayList(this.scene.sys.displayList),A.addToUpdateList(),A.visible=S,A.setActive(T),this.add(A),A},createMultiple:function(b){if(this.isFull())return[];Array.isArray(b)||(b=[b]);var w=[];if(b[0].key)for(var C=0;C<b.length;C++){var _=this.createFromConfig(b[C]);w=w.concat(_)}return w},createFromConfig:function(b){if(this.isFull())return[];this.classType=d(b,"classType",this.classType);var w=d(b,"key",void 0),C=d(b,"frame",null),_=d(b,"visible",!0),S=d(b,"active",!0),T=[];if(w===void 0)return T;Array.isArray(w)||(w=[w]),Array.isArray(C)||(C=[C]);var A=d(b,"repeat",0),M=d(b,"randomKey",!1),I=d(b,"randomFrame",!1),D=d(b,"yoyo",!1),k=d(b,"quantity",!1),G=d(b,"frameQuantity",1),R=d(b,"max",0),H=g(w,C,{max:R,qty:k||G,random:M,randomB:I,repeat:A,yoyo:D});b.createCallback&&(this.createCallback=b.createCallback),b.removeCallback&&(this.removeCallback=b.removeCallback),b.internalCreateCallback&&(this.internalCreateCallback=b.internalCreateCallback),b.internalRemoveCallback&&(this.internalRemoveCallback=b.internalRemoveCallback);for(var j=0;j<H.length;j++){var Z=this.create(0,0,H[j].a,H[j].b,_,S);if(!Z)break;T.push(Z)}if(m(b,"setXY")){var ee=f(b,"setXY.x",0),Y=f(b,"setXY.y",0),V=f(b,"setXY.stepX",0),O=f(b,"setXY.stepY",0);o.SetXY(T,ee,Y,V,O)}if(m(b,"setRotation")){var F=f(b,"setRotation.value",0),X=f(b,"setRotation.step",0);o.SetRotation(T,F,X)}if(m(b,"setScale")){var ie=f(b,"setScale.x",1),re=f(b,"setScale.y",ie),q=f(b,"setScale.stepX",0),ae=f(b,"setScale.stepY",0);o.SetScale(T,ie,re,q,ae)}if(m(b,"setOrigin")){var ue=f(b,"setOrigin.x",.5),me=f(b,"setOrigin.y",ue),be=f(b,"setOrigin.stepX",0),ke=f(b,"setOrigin.stepY",0);o.SetOrigin(T,ue,me,be,ke)}if(m(b,"setAlpha")){var ze=f(b,"setAlpha.value",1),De=f(b,"setAlpha.step",0);o.SetAlpha(T,ze,De)}if(m(b,"setDepth")){var ge=f(b,"setDepth.value",0),Et=f(b,"setDepth.step",0);o.SetDepth(T,ge,Et)}if(m(b,"setScrollFactor")){var ct=f(b,"setScrollFactor.x",1),We=f(b,"setScrollFactor.y",ct),Ue=f(b,"setScrollFactor.stepX",0),qe=f(b,"setScrollFactor.stepY",0);o.SetScrollFactor(T,ct,We,Ue,qe)}var it=d(b,"hitArea",null),Ft=d(b,"hitAreaCallback",null);it&&o.SetHitArea(T,it,Ft);var at=d(b,"gridAlign",!1);return at&&o.GridAlign(T,at),this.createMultipleCallback&&this.createMultipleCallback.call(this,T),T},preUpdate:function(b,w){if(!(!this.runChildUpdate||this.children.size===0))for(var C=this.children.entries.slice(),_=0;_<C.length;_++){var S=C[_];S.active&&S.update(b,w)}},add:function(b,w){return w===void 0&&(w=!1),this.isFull()?this:(this.children.set(b),this.internalCreateCallback&&this.internalCreateCallback.call(this,b),this.createCallback&&this.createCallback.call(this,b),w&&(b.addToDisplayList(this.scene.sys.displayList),b.addToUpdateList()),b.on(l.DESTROY,this.remove,this),this)},addMultiple:function(b,w){if(w===void 0&&(w=!1),Array.isArray(b))for(var C=0;C<b.length;C++)this.add(b[C],w);return this},remove:function(b,w,C){return w===void 0&&(w=!1),C===void 0&&(C=!1),this.children.contains(b)?(this.children.delete(b),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,b),this.removeCallback&&this.removeCallback.call(this,b),b.off(l.DESTROY,this.remove,this),C?b.destroy():w&&(b.removeFromDisplayList(),b.removeFromUpdateList()),this):this},clear:function(b,w){b===void 0&&(b=!1),w===void 0&&(w=!1);for(var C=this.children,_=0;_<C.size;_++){var S=C.entries[_];S.off(l.DESTROY,this.remove,this),w?S.destroy():b&&(S.removeFromDisplayList(),S.removeFromUpdateList())}return this.children.clear(),this},contains:function(b){return this.children.contains(b)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(b,w,C,_){return h(this.children.entries,b,w,C,_)},getFirst:function(b,w,C,_,S,T,A){return this.getHandler(!0,1,b,w,C,_,S,T,A)},getFirstNth:function(b,w,C,_,S,T,A,M){return this.getHandler(!0,b,w,C,_,S,T,A,M)},getLast:function(b,w,C,_,S,T,A){return this.getHandler(!1,1,b,w,C,_,S,T,A)},getLastNth:function(b,w,C,_,S,T,A,M){return this.getHandler(!1,b,w,C,_,S,T,A,M)},getHandler:function(b,w,C,_,S,T,A,M,I){C===void 0&&(C=!1),_===void 0&&(_=!1);var D,k,G=0,R=this.children.entries;if(b)for(k=0;k<R.length;k++)if(D=R[k],D.active===C){if(G++,G===w)break}else D=null;else for(k=R.length-1;k>=0;k--)if(D=R[k],D.active===C){if(G++,G===w)break}else D=null;return D?(typeof S=="number"&&(D.x=S),typeof T=="number"&&(D.y=T),D):_?this.create(S,T,A,M,I):null},get:function(b,w,C,_,S){return this.getFirst(!1,!0,b,w,C,_,S)},getFirstAlive:function(b,w,C,_,S,T){return this.getFirst(!0,b,w,C,_,S,T)},getFirstDead:function(b,w,C,_,S,T){return this.getFirst(!1,b,w,C,_,S,T)},playAnimation:function(b,w){return o.PlayAnimation(this.children.entries,b,w),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(b){b===void 0&&(b=!0);for(var w=0,C=0;C<this.children.size;C++)this.children.entries[C].active===b&&w++;return w},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var b=this.getTotalUsed(),w=this.maxSize===-1?999999999999:this.maxSize;return w-b},setActive:function(b){return this.active=b,this},setName:function(b){return this.name=b,this},propertyValueSet:function(b,w,C,_,S){return o.PropertyValueSet(this.children.entries,b,w,C,_,S),this},propertyValueInc:function(b,w,C,_,S){return o.PropertyValueInc(this.children.entries,b,w,C,_,S),this},setX:function(b,w){return o.SetX(this.children.entries,b,w),this},setY:function(b,w){return o.SetY(this.children.entries,b,w),this},setXY:function(b,w,C,_){return o.SetXY(this.children.entries,b,w,C,_),this},incX:function(b,w){return o.IncX(this.children.entries,b,w),this},incY:function(b,w){return o.IncY(this.children.entries,b,w),this},incXY:function(b,w,C,_){return o.IncXY(this.children.entries,b,w,C,_),this},shiftPosition:function(b,w,C){return o.ShiftPosition(this.children.entries,b,w,C),this},angle:function(b,w){return o.Angle(this.children.entries,b,w),this},rotate:function(b,w){return o.Rotate(this.children.entries,b,w),this},rotateAround:function(b,w){return o.RotateAround(this.children.entries,b,w),this},rotateAroundDistance:function(b,w,C){return o.RotateAroundDistance(this.children.entries,b,w,C),this},setAlpha:function(b,w){return o.SetAlpha(this.children.entries,b,w),this},setTint:function(b,w,C,_){return o.SetTint(this.children.entries,b,w,C,_),this},setOrigin:function(b,w,C,_){return o.SetOrigin(this.children.entries,b,w,C,_),this},scaleX:function(b,w){return o.ScaleX(this.children.entries,b,w),this},scaleY:function(b,w){return o.ScaleY(this.children.entries,b,w),this},scaleXY:function(b,w,C,_){return o.ScaleXY(this.children.entries,b,w,C,_),this},setDepth:function(b,w){return o.SetDepth(this.children.entries,b,w),this},setBlendMode:function(b){return o.SetBlendMode(this.children.entries,b),this},setHitArea:function(b,w){return o.SetHitArea(this.children.entries,b,w),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(b){this.children.contains(b)&&b.setActive(!1)},killAndHide:function(b){this.children.contains(b)&&(b.setActive(!1),b.setVisible(!1))},setVisible:function(b,w,C){return o.SetVisible(this.children.entries,b,w,C),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(b,w){b===void 0&&(b=!1),w===void 0&&(w=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(l.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(w,b),this.scene=void 0,this.children=void 0)}});n.exports=x},94975:(n,a,s)=>{var o=s(44603),u=s(26479);o.register("group",function(l){return new u(this.scene,null,l)})},3385:(n,a,s)=>{var o=s(26479),u=s(39429);u.register("group",function(l,c){return this.updateList.add(new o(this.scene,l,c))})},88571:(n,a,s)=>{var o=s(83419),u=s(31401),l=s(95643),c=s(59819),h=new o({Extends:l,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Size,u.TextureCrop,u.Tint,u.Transform,u.Visible,c],initialize:function(f,m,p,g,v){l.call(this,f,"Image"),this._crop=this.resetCropObject(),this.setTexture(g,v),this.setPosition(m,p),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=h},40652:n=>{var a=function(s,o,u,l){u.addToRenderList(o),s.batchSprite(o,o.frame,u,l)};n.exports=a},82459:(n,a,s)=>{var o=s(25305),u=s(44603),l=s(23568),c=s(88571);u.register("image",function(h,d){h===void 0&&(h={});var f=l(h,"key",null),m=l(h,"frame",null),p=new c(this.scene,0,0,f,m);return d!==void 0&&(h.add=d),o(this.scene,p,h),p})},2117:(n,a,s)=>{var o=s(88571),u=s(39429);u.register("image",function(l,c,h,d){return this.displayList.add(new o(this.scene,l,c,h,d))})},59819:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(99517),l=s(40652),n.exports={renderWebGL:u,renderCanvas:l}},99517:n=>{var a=function(s,o,u,l){u.addToRenderList(o),this.pipeline.batchSprite(o,u,l)};n.exports=a},77856:(n,a,s)=>{var o={Events:s(51708),DisplayList:s(8050),GameObjectCreator:s(44603),GameObjectFactory:s(39429),UpdateList:s(45027),Components:s(31401),GetCalcMatrix:s(91296),BuildGameObject:s(25305),BuildGameObjectAnimation:s(13059),GameObject:s(95643),BitmapText:s(22186),Blitter:s(6107),Bob:s(46590),Container:s(31559),DOMElement:s(3069),DynamicBitmapText:s(2638),Extern:s(42421),Graphics:s(43831),Group:s(26479),Image:s(88571),Layer:s(93595),Particles:s(18404),PathFollower:s(1159),RenderTexture:s(591),RetroFont:s(196),Rope:s(77757),Sprite:s(68287),Text:s(50171),GetTextSize:s(14220),MeasureText:s(79557),TextStyle:s(35762),TileSprite:s(20839),Zone:s(41481),Video:s(18471),Shape:s(17803),Arc:s(23629),Curve:s(89),Ellipse:s(19921),Grid:s(30479),IsoBox:s(61475),IsoTriangle:s(16933),Line:s(57847),Polygon:s(24949),Rectangle:s(74561),Star:s(55911),Triangle:s(36931),Factories:{Blitter:s(12709),Container:s(24961),DOMElement:s(2611),DynamicBitmapText:s(72566),Extern:s(56315),Graphics:s(1201),Group:s(3385),Image:s(2117),Layer:s(20005),Particles:s(676),PathFollower:s(90145),RenderTexture:s(60505),Rope:s(96819),Sprite:s(46409),StaticBitmapText:s(34914),Text:s(68005),TileSprite:s(91681),Zone:s(84175),Video:s(89025),Arc:s(42563),Curve:s(40511),Ellipse:s(1543),Grid:s(34137),IsoBox:s(3933),IsoTriangle:s(49803),Line:s(2481),Polygon:s(64827),Rectangle:s(87959),Star:s(93697),Triangle:s(45245)},Creators:{Blitter:s(9403),Container:s(77143),DynamicBitmapText:s(11164),Graphics:s(87079),Group:s(94975),Image:s(82459),Layer:s(25179),Particles:s(92730),RenderTexture:s(34495),Rope:s(26209),Sprite:s(15567),StaticBitmapText:s(57336),Text:s(71259),TileSprite:s(14167),Zone:s(95261),Video:s(11511)}};o.Shader=s(20071),o.Mesh=s(4703),o.NineSlice=s(28103),o.PointLight=s(80321),o.Plane=s(33663),o.Factories.Shader=s(74177),o.Factories.Mesh=s(9225),o.Factories.NineSlice=s(47521),o.Factories.PointLight=s(71255),o.Factories.Plane=s(30985),o.Creators.Shader=s(54935),o.Creators.Mesh=s(20527),o.Creators.NineSlice=s(28279),o.Creators.PointLight=s(39829),o.Creators.Plane=s(56015),o.Light=s(41432),o.LightsManager=s(61356),o.LightsPlugin=s(88992),n.exports=o},93595:(n,a,s)=>{var o=s(10312),u=s(83419),l=s(31401),c=s(53774),h=s(45893),d=s(50792),f=s(51708),m=s(73162),p=s(33963),g=s(44594),v=s(19186),y=new u({Extends:m,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.PostPipeline,l.Visible,d,p],initialize:function(b,w){m.call(this,b),d.call(this),this.scene=b,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=b.sys,this.events=b.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),w&&this.add(w),b.sys.queueDepthSort()},setActive:function(x){return this.active=x,this},setName:function(x){return this.name=x,this},setState:function(x){return this.state=x,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(x,b){return this.data||(this.data=new h(this)),this.data.set(x,b),this},incData:function(x,b){return this.data||(this.data=new h(this)),this.data.inc(x,b),this},toggleData:function(x){return this.data||(this.data=new h(this)),this.data.toggle(x),this},getData:function(x){return this.data||(this.data=new h(this)),this.data.get(x)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return c(this)},willRender:function(x){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&x.id)},getIndexList:function(){for(var x=this,b=this.parentContainer,w=[];b&&(w.unshift(b.getIndex(x)),x=b,b.parentContainer);)b=b.parentContainer;return w.unshift(this.displayList.getIndex(x)),w},addChildCallback:function(x){var b=x.displayList;b&&b!==this&&x.removeFromDisplayList(),x.displayList||(this.queueDepthSort(),x.displayList=this,x.emit(f.ADDED_TO_SCENE,x,this.scene),this.events.emit(g.ADDED_TO_SCENE,x,this.scene))},removeChildCallback:function(x){this.queueDepthSort(),x.displayList=null,x.emit(f.REMOVED_FROM_SCENE,x,this.scene),this.events.emit(g.REMOVED_FROM_SCENE,x,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(v(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(x,b){return x._depth-b._depth},getChildren:function(){return this.list},addToDisplayList:function(x){return x===void 0&&(x=this.scene.sys.displayList),this.displayList&&this.displayList!==x&&this.removeFromDisplayList(),x.exists(this)||(this.displayList=x,x.add(this,!0),x.queueDepthSort(),this.emit(f.ADDED_TO_SCENE,this,this.scene),x.events.emit(g.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var x=this.displayList||this.scene.sys.displayList;return x.exists(this)&&(x.remove(this,!0),x.queueDepthSort(),this.displayList=null,this.emit(f.REMOVED_FROM_SCENE,this,this.scene),x.events.emit(g.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(x){if(!(!this.scene||this.ignoreDestroy)){this.emit(f.DESTROY,this);for(var b=this.list;b.length;)b[0].destroy(x);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});n.exports=y},2956:n=>{var a=function(s,o,u){var l=o.list;if(l.length!==0){o.depthSort();var c=o.blendMode!==-1;c||s.setBlendMode(0);var h=o._alpha;o.mask&&o.mask.preRenderCanvas(s,null,u);for(var d=0;d<l.length;d++){var f=l[d];if(f.willRender(u)){var m=f.alpha;!c&&f.blendMode!==s.currentBlendMode&&s.setBlendMode(f.blendMode),f.setAlpha(m*h),f.renderCanvas(s,f,u),f.setAlpha(m)}}o.mask&&o.mask.postRenderCanvas(s)}};n.exports=a},25179:(n,a,s)=>{var o=s(25305),u=s(93595),l=s(44603),c=s(23568);l.register("layer",function(h,d){h===void 0&&(h={});var f=c(h,"children",null),m=new u(this.scene,f);return d!==void 0&&(h.add=d),o(this.scene,m,h),m})},20005:(n,a,s)=>{var o=s(93595),u=s(39429);u.register("layer",function(l){return this.displayList.add(new o(this.scene,l))})},33963:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(15869),l=s(2956),n.exports={renderWebGL:u,renderCanvas:l}},15869:n=>{var a=function(s,o,u){var l=o.list,c=l.length;if(c!==0){o.depthSort(),s.pipelines.preBatch(o);var h=o.blendMode!==-1;h||s.setBlendMode(0);for(var d=o.alpha,f=0;f<c;f++){var m=l[f];if(m.willRender(u)){var p,g,v,y;if(m.alphaTopLeft!==void 0)p=m.alphaTopLeft,g=m.alphaTopRight,v=m.alphaBottomLeft,y=m.alphaBottomRight;else{var x=m.alpha;p=x,g=x,v=x,y=x}!h&&m.blendMode!==s.currentBlendMode&&s.setBlendMode(m.blendMode);var b=m.mask;b&&b.preRenderWebGL(s,m,u);var w=m.type;w!==s.currentType&&(s.newType=!0,s.currentType=w),s.nextTypeMatch=f<c-1?l[f+1].type===s.currentType:!1,m.setAlpha(p*d,g*d,v*d,y*d),m.renderWebGL(s,m,u),m.setAlpha(p,g,v,y),b&&b.postRenderWebGL(s,u),s.newType=!1}}s.pipelines.postBatch(o)}};n.exports=a},41432:(n,a,s)=>{var o=s(96503),u=s(83419),l=s(31401),c=s(51767),h=s(70554),d=new u({Extends:o,Mixins:[l.Origin,l.ScrollFactor,l.Visible],initialize:function(m,p,g,v,y,x,b){o.call(this,m,p,g),this.color=new c(v,y,x),this.intensity=b,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(g)},displayWidth:{get:function(){return this.diameter},set:function(f){this.diameter=f}},displayHeight:{get:function(){return this.diameter},set:function(f){this.diameter=f}},width:{get:function(){return this.diameter},set:function(f){this.diameter=f}},height:{get:function(){return this.diameter},set:function(f){this.diameter=f}},willRender:function(f){return!(d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},setColor:function(f){var m=h.getFloatsFromUintRGB(f);return this.color.set(m[0],m[1],m[2]),this},setIntensity:function(f){return this.intensity=f,this},setRadius:function(f){return this.radius=f,this}});d.RENDER_MASK=15,n.exports=d},61356:(n,a,s)=>{var o=s(81491),u=s(83419),l=s(20339),c=s(41432),h=s(80321),d=s(51767),f=s(19133),m=s(19186),p=s(70554),g=new u({initialize:function(){this.lights=[],this.ambientColor=new d(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(v,y,x,b,w,C){return this.systems.displayList.add(new h(this.scene,v,y,x,b,w,C))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(v){for(var y=this.lights,x=v.worldView,b=[],w=0;w<y.length;w++){var C=y[w];C.willRender(v)&&o(C,x)&&b.push({light:C,distance:l(C.x,C.y,x.centerX,x.centerY)})}return b.length>this.maxLights&&(m(b,this.sortByDistance),b=b.slice(0,this.maxLights)),this.visibleLights=b.length,b},sortByDistance:function(v,y){return v.distance>=y.distance},setAmbientColor:function(v){var y=p.getFloatsFromUintRGB(v);return this.ambientColor.set(y[0],y[1],y[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(v,y,x,b,w){v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=128),b===void 0&&(b=16777215),w===void 0&&(w=1);var C=p.getFloatsFromUintRGB(b),_=new c(v,y,x,C[0],C[1],C[2],w);return this.lights.push(_),_},removeLight:function(v){var y=this.lights.indexOf(v);return y>=0&&f(this.lights,y),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});n.exports=g},88992:(n,a,s)=>{var o=s(83419),u=s(61356),l=s(37277),c=s(44594),h=new o({Extends:u,initialize:function(f){this.scene=f,this.systems=f.sys,f.sys.settings.isBooted||f.sys.events.once(c.BOOT,this.boot,this),u.call(this)},boot:function(){var d=this.systems.events;d.on(c.SHUTDOWN,this.shutdown,this),d.on(c.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});l.register("LightsPlugin",h,"lights"),n.exports=h},4703:(n,a,s)=>{var o=s(83419),u=s(31401),l=s(39506),c=s(83997),h=s(95643),d=s(34684),f=s(92515),m=s(91296),p=s(37867),g=s(29807),v=s(43396),y=s(19186),x=s(25836),b=s(39318),w=new o({Extends:h,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Size,u.Texture,u.Transform,u.Visible,g],initialize:function(_,S,T,A,M,I,D,k,G,R,H,j){S===void 0&&(S=0),T===void 0&&(T=0),A===void 0&&(A="__WHITE"),h.call(this,_,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new x,this.modelScale=new x(1,1,1),this.modelRotation=new x,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new p,this.viewPosition=new x,this.viewMatrix=new p,this.projectionMatrix=new p,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var Z=_.sys.renderer;this.setPosition(S,T),this.setTexture(A,M),this.setSize(Z.width,Z.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(Z.width,Z.height),I&&this.addVertices(I,D,k,G,R,H,j)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(C){return this.viewPosition.addScale(x.LEFT,C),this.dirtyCache[10]=1,this},panY:function(C){return this.viewPosition.y+=x.DOWN.y*C,this.dirtyCache[10]=1,this},panZ:function(C){return this.viewPosition.z+=C,this.dirtyCache[10]=1,this},setPerspective:function(C,_,S,T,A){return S===void 0&&(S=45),T===void 0&&(T=.01),A===void 0&&(A=1e3),this.fov=S,this.projectionMatrix.perspective(l(S),C/_,T,A),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(C,_,S,T){return C===void 0&&(C=this.scene.sys.renderer.getAspectRatio()),_===void 0&&(_=1),S===void 0&&(S=-1e3),T===void 0&&(T=1e3),this.fov=0,this.projectionMatrix.ortho(-C,C,-_,_,S,T),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(C){C.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(C,_,S,T,A,M,I,D,k){var G=this.scene.sys.cache.obj.get(C),R;return G&&(R=d(G,this,_,S,T,A,M,I,D,k)),(!R||R.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",C),this},sortByDepth:function(C,_){return C.depth-_.depth},depthSort:function(){return y(this.faces,this.sortByDepth),this},addVertex:function(C,_,S,T,A,M,I){var D=new b(C,_,S,T,A,M,I);return this.vertices.push(D),D},addFace:function(C,_,S){var T=new c(C,_,S);return this.faces.push(T),this.dirtyCache[9]=-1,T},addVertices:function(C,_,S,T,A,M,I){var D=f(C,_,S,T,A,M,I);return D?(this.faces=this.faces.concat(D.faces),this.vertices=this.vertices.concat(D.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(C){return this.faces[C]},hasFaceAt:function(C,_,S){S===void 0&&(S=this.scene.sys.cameras.main);for(var T=m(this,S).calc,A=this.faces,M=0;M<A.length;M++){var I=A[M];if(I.contains(C,_,T))return!0}return!1},getFaceAt:function(C,_,S){S===void 0&&(S=this.scene.sys.cameras.main);for(var T=m(this,S).calc,A=this.faces,M=[],I=0;I<A.length;I++){var D=A[I];D.contains(C,_,T)&&M.push(D)}return y(M,this.sortByDepth)},setDebug:function(C,_){return this.debugGraphic=C,!C&&!_?this.debugCallback=null:_?this.debugCallback=_:this.debugCallback=this.renderDebug,this},isDirty:function(){var C=this.modelPosition,_=this.modelRotation,S=this.modelScale,T=this.dirtyCache,A=C.x,M=C.y,I=C.z,D=_.x,k=_.y,G=_.z,R=S.x,H=S.y,j=S.z,Z=this.getFaceCount(),ee=T[0],Y=T[1],V=T[2],O=T[3],F=T[4],X=T[5],ie=T[6],re=T[7],q=T[8],ae=T[9];return T[0]=A,T[1]=M,T[2]=I,T[3]=D,T[4]=k,T[5]=G,T[6]=R,T[7]=H,T[8]=j,T[9]=Z,ee!==A||Y!==M||V!==I||O!==D||F!==k||X!==G||ie!==R||re!==H||q!==j||ae!==Z},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var C=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!C[10]&&!this.isDirty())){var _=this.width,S=this.height,T=this.viewMatrix,A=this.viewPosition;C[10]&&(T.identity(),T.translate(A),T.invert(),C[10]=0);var M=this.transformMatrix;M.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var I=A.z,D=this.faces,k=0;k<D.length;k++)D[k].transformCoordinatesLocal(M,_,S,I);this.depthSort()}},renderDebug:function(C,_){for(var S=C.debugGraphic,T=0;T<_.length;T++){var A=_[T],M=A.vertex1.tx,I=A.vertex1.ty,D=A.vertex2.tx,k=A.vertex2.ty,G=A.vertex3.tx,R=A.vertex3.ty;S.strokeTriangle(M,I,D,k,G,R)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(C){C===void 0&&(C={});var _=function(S,T,A){for(var M=this.faces,I=0;I<M.length;I++){var D=M[I];if(D.contains(T,A))return!0}return!1}.bind(this);return this.scene.sys.input.enable(this,C,_),this},setTint:function(C){C===void 0&&(C=16777215);for(var _=this.vertices,S=0;S<_.length;S++)_[S].color=C;return this},uvScroll:function(C,_){for(var S=this.faces,T=0;T<S.length;T++)S[T].scrollUV(C,_);return this},uvScale:function(C,_){for(var S=this.faces,T=0;T<S.length;T++)S[T].scaleUV(C,_);return this},tint:{set:function(C){this.setTint(C)}},rotateX:{get:function(){return v(this.modelRotation.x)},set:function(C){this.modelRotation.x=l(C)}},rotateY:{get:function(){return v(this.modelRotation.y)},set:function(C){this.modelRotation.y=l(C)}},rotateZ:{get:function(){return v(this.modelRotation.z)},set:function(C){this.modelRotation.z=l(C)}}});n.exports=w},36488:n=>{var a=function(){};n.exports=a},20527:(n,a,s)=>{var o=s(25305),u=s(44603),l=s(23568),c=s(35154),h=s(4703);u.register("mesh",function(d,f){d===void 0&&(d={});var m=l(d,"key",null),p=l(d,"frame",null),g=c(d,"vertices",[]),v=c(d,"uvs",[]),y=c(d,"indicies",[]),x=c(d,"containsZ",!1),b=c(d,"normals",[]),w=c(d,"colors",16777215),C=c(d,"alphas",1),_=new h(this.scene,0,0,m,p,g,v,y,x,b,w,C);return f!==void 0&&(d.add=f),o(this.scene,_,d),_})},9225:(n,a,s)=>{var o=s(4703),u=s(39429);u.register("mesh",function(l,c,h,d,f,m,p,g,v,y,x){return this.displayList.add(new o(this.scene,l,c,h,d,f,m,p,g,v,y,x))})},29807:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(48833),l=s(36488),n.exports={renderWebGL:u,renderCanvas:l}},48833:(n,a,s)=>{var o=s(91296),u=function(l,c,h,d){var f=c.faces,m=f.length;if(m!==0){h.addToRenderList(c);var p=l.pipelines.set(c.pipeline,c),g=o(c,h,d).calc;l.pipelines.preBatch(c);for(var v=p.setGameObject(c),y=p.vertexViewF32,x=p.vertexViewU32,b=p.vertexCount*p.currentShader.vertexComponentCount-1,w=c.tintFill,C=[],_=c.debugCallback,S=g.a,T=g.b,A=g.c,M=g.d,I=g.e,D=g.f,k=c.viewPosition.z,G=c.hideCCW,R=h.roundPixels,H=h.alpha*c.alpha,j=0,Z=0;Z<m;Z++){var ee=f[Z];ee.isInView(h,G,k,H,S,T,A,M,I,D,R)&&(p.shouldFlush(3)&&(p.flush(),v=p.setGameObject(c),b=p.vertexCount*p.currentShader.vertexComponentCount-1),b=ee.load(y,x,b,v,w),j++,p.vertexCount+=3,p.currentBatch.count=p.vertexCount-p.currentBatch.start,_&&C.push(ee))}c.totalFrame+=j,_&&_.call(c,c,C),l.pipelines.postBatch(c)}};n.exports=u},28103:(n,a,s)=>{var o=s(83419),u=s(31401),l=s(95643),c=s(78023),h=s(39318),d=new o({Extends:l,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Texture,u.Transform,u.Visible,c],initialize:function(m,p,g,v,y,x,b,w,C,_,S){l.call(this,m,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var T=m.textures.getFrame(v,y);this.is3Slice=!_&&!S,T&&T.scale9&&(this.is3Slice=T.is3Slice);for(var A=this.is3Slice?18:54,M=0;M<A;M++)this.vertices.push(new h);this.setPosition(p,g),this.setTexture(v,y),this.setSlices(x,b,w,C,_,S,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(f,m,p,g,v,y,x){p===void 0&&(p=10),g===void 0&&(g=10),v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=!1);var b=this.frame,w=!1;if(this.is3Slice&&x&&v!==0&&y!==0&&(w=!0),w)console.warn("Cannot change 9 slice to 3 slice");else{if(b&&b.scale9&&!x){var C=b.data.scale9Borders,_=C.x,S=C.y;p=_,g=b.width-C.w-_,v=S,y=b.height-C.h-S,f===void 0&&(f=b.width),m===void 0&&(m=b.height)}else f===void 0&&(f=256),m===void 0&&(m=256);this._width=f,this._height=m,this.leftWidth=p,this.rightWidth=g,this.topHeight=v,this.bottomHeight=y,this.is3Slice&&(m=b.height,this._height=m,this.topHeight=m,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var f=this.leftWidth,m=this.rightWidth,p=this.topHeight,g=this.bottomHeight,v=this.frame.width,y=this.frame.height;this.updateQuadUVs(0,0,0,f/v,p/y),this.updateQuadUVs(6,f/v,0,1-m/v,p/y),this.updateQuadUVs(12,1-m/v,0,1,p/y),this.is3Slice||(this.updateQuadUVs(18,0,p/y,f/v,1-g/y),this.updateQuadUVs(24,f/v,p/y,1-m/v,1-g/y),this.updateQuadUVs(30,1-m/v,p/y,1,1-g/y),this.updateQuadUVs(36,0,1-g/y,f/v,1),this.updateQuadUVs(42,f/v,1-g/y,1-m/v,1),this.updateQuadUVs(48,1-m/v,1-g/y,1,1))},updateVertices:function(){var f=this.leftWidth,m=this.rightWidth,p=this.topHeight,g=this.bottomHeight,v=this.width,y=this.height;this.updateQuad(0,-.5,.5,-.5+f/v,.5-p/y),this.updateQuad(6,-.5+f/v,.5,.5-m/v,.5-p/y),this.updateQuad(12,.5-m/v,.5,.5,.5-p/y),this.is3Slice||(this.updateQuad(18,-.5,.5-p/y,-.5+f/v,-.5+g/y),this.updateQuad(24,-.5+f/v,.5-p/y,.5-m/v,-.5+g/y),this.updateQuad(30,.5-m/v,.5-p/y,.5,-.5+g/y),this.updateQuad(36,-.5,-.5+g/y,-.5+f/v,-.5),this.updateQuad(42,-.5+f/v,-.5+g/y,.5-m/v,-.5),this.updateQuad(48,.5-m/v,-.5+g/y,.5,-.5))},updateQuad:function(f,m,p,g,v){var y=this.width,x=this.height,b=this.originX,w=this.originY,C=this.vertices;C[f+0].resize(m,p,y,x,b,w),C[f+1].resize(m,v,y,x,b,w),C[f+2].resize(g,p,y,x,b,w),C[f+3].resize(m,v,y,x,b,w),C[f+4].resize(g,v,y,x,b,w),C[f+5].resize(g,p,y,x,b,w)},updateQuadUVs:function(f,m,p,g,v){var y=this.vertices,x=this.frame,b=x.u0,w=x.v0,C=x.u1,_=x.v1;if(b!==0||C!==1){var S=C-b;m=b+m*S,g=b+g*S}if(w!==0||_!==1){var T=_-w;p=w+p*T,v=w+v*T}y[f+0].setUVs(m,p),y[f+1].setUVs(m,v),y[f+2].setUVs(g,p),y[f+3].setUVs(m,v),y[f+4].setUVs(g,v),y[f+5].setUVs(g,p)},clearTint:function(){return this.setTint(16777215),this},setTint:function(f){return f===void 0&&(f=16777215),this.tint=f,this.tintFill=!1,this},setTintFill:function(f){return this.setTint(f),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(f){this._width=Math.max(f,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(f){this.is3Slice||(this._height=Math.max(f,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(f){this.scaleX=f/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(f){this.scaleY=f/this.height}},setSize:function(f,m){this.width=f,this.height=m,this.updateDisplayOrigin();var p=this.input;return p&&!p.customHitArea&&(p.hitArea.width=this.width,p.hitArea.height=this.height),this},setDisplaySize:function(f,m){return this.displayWidth=f,this.displayHeight=m,this},originX:{get:function(){return this._originX},set:function(f){this._originX=f,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(f){this._originY=f,this.updateVertices()}},setOrigin:function(f,m){return f===void 0&&(f=.5),m===void 0&&(m=f),this._originX=f,this._originY=m,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var f=this.frame.height;this._height=f,this.topHeight=f,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});n.exports=d},28279:(n,a,s)=>{var o=s(25305),u=s(44603),l=s(23568),c=s(35154),h=s(28103);u.register("nineslice",function(d,f){d===void 0&&(d={});var m=l(d,"key",null),p=l(d,"frame",null),g=c(d,"width",256),v=c(d,"height",256),y=c(d,"leftWidth",10),x=c(d,"rightWidth",10),b=c(d,"topHeight",0),w=c(d,"bottomHeight",0),C=new h(this.scene,0,0,m,p,g,v,y,x,b,w);return f!==void 0&&(d.add=f),o(this.scene,C,d),C})},47521:(n,a,s)=>{var o=s(28103),u=s(39429);u.register("nineslice",function(l,c,h,d,f,m,p,g,v,y){return this.displayList.add(new o(this.scene,l,c,h,d,f,m,p,g,v,y))})},78023:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(52230),n.exports={renderWebGL:u,renderCanvas:l}},52230:(n,a,s)=>{var o=s(91296),u=s(70554),l=function(c,h,d,f){var m=h.vertices,p=m.length;if(p!==0){d.addToRenderList(h);var g=c.pipelines.set(h.pipeline,h),v=o(h,d,f,!1).calc;c.pipelines.preBatch(h);var y=g.setGameObject(h),x=g.vertexViewF32,b=g.vertexViewU32,w=g.vertexCount*g.currentShader.vertexComponentCount-1,C=d.roundPixels,_=h.tintFill,S=d.alpha*h.alpha,T=u.getTintAppendFloatAlpha(h.tint,S),A=g.vertexAvailable(),M=-1;A<p&&(M=A);for(var I=0;I<p;I++){var D=m[I];I===M&&(g.flush(),y=g.setGameObject(h),w=0),x[++w]=v.getXRound(D.vx,D.vy,C),x[++w]=v.getYRound(D.vx,D.vy,C),x[++w]=D.u,x[++w]=D.v,x[++w]=y,x[++w]=_,b[++w]=T,g.vertexCount++,g.currentBatch.count=g.vertexCount-g.currentBatch.start}c.pipelines.postBatch(h)}};n.exports=l},76472:(n,a,s)=>{var o=s(83419),u=s(44777),l=s(37589),c=s(6113),h=s(91389),d=s(90664),f=new o({Extends:u,initialize:function(p){u.call(this,p,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var m=this.propertyValue,p=m,g=this.defaultEmit,v=this.defaultUpdate;if(this.method===9){this.start=m[0],this.ease=c("Linear"),this.interpolation=h("linear"),g=this.easedValueEmit,v=this.easeValueUpdate,p=m[0],this.active=!0;for(var y=0;y<m.length;y++){var x=d(m[y]);this.r.push(x.r),this.g.push(x.g),this.b.push(x.b)}}return this.onEmit=g,this.onUpdate=v,this.current=p,this},setEase:function(m){this.easeName=m,this.ease=c(m)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(m,p,g){var v=this.ease(g),y=this.interpolation(this.r,v),x=this.interpolation(this.g,v),b=this.interpolation(this.b,v),w=l(y,x,b);return this.current=w,w}});n.exports=f},44777:(n,a,s)=>{var o=s(30976),u=s(45319),l=s(83419),c=s(99472),h=s(6113),d=s(95540),f=s(91389),m=s(77720),p=s(15994),g=new l({initialize:function(y,x,b){b===void 0&&(b=!1),this.propertyKey=y,this.propertyValue=x,this.defaultValue=x,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=b,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(v,y){v===void 0&&(v={}),y&&(this.propertyKey=y),this.propertyValue=d(v,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(v){var y;switch(this.method){case 1:case 3:case 8:y=v;break;case 2:this.propertyValue.indexOf(v)>=0&&(y=v);break;case 4:var x=(this.end-this.start)/this.steps;y=m(v,x),this.counter=y;break;case 5:case 6:case 7:y=u(v,this.start,this.end);break;case 9:y=this.start[0];break}return this.current=y,this},getMethod:function(){var v=this.propertyValue;if(v===null)return 0;var y=typeof v;if(y==="number")return 1;if(Array.isArray(v))return 2;if(y==="function")return 3;if(y==="object"){if(this.hasBoth(v,"start","end"))return this.has(v,"steps")?4:5;if(this.hasBoth(v,"min","max"))return 6;if(this.has(v,"random"))return 7;if(this.hasEither(v,"onEmit","onUpdate"))return 8;if(this.hasEither(v,"values","interpolation"))return 9}return 0},setMethods:function(){var v=this.propertyValue,y=v,x=this.defaultEmit,b=this.defaultUpdate;switch(this.method){case 1:x=this.staticValueEmit;break;case 2:x=this.randomStaticValueEmit,y=v[0];break;case 3:this._onEmit=v,x=this.proxyEmit;break;case 4:this.start=v.start,this.end=v.end,this.steps=v.steps,this.counter=this.start,this.yoyo=this.has(v,"yoyo")?v.yoyo:!1,this.direction=0,x=this.steppedEmit,y=this.start;break;case 5:this.start=v.start,this.end=v.end;var w=this.has(v,"ease")?v.ease:"Linear";this.ease=h(w,v.easeParams),x=this.has(v,"random")&&v.random?this.randomRangedValueEmit:this.easedValueEmit,b=this.easeValueUpdate,y=this.start;break;case 6:this.start=v.min,this.end=v.max,x=this.has(v,"int")&&v.int?this.randomRangedIntEmit:this.randomRangedValueEmit,y=this.start;break;case 7:var C=v.random;Array.isArray(C)&&(this.start=C[0],this.end=C[1]),x=this.randomRangedIntEmit,y=this.start;break;case 8:this._onEmit=this.has(v,"onEmit")?v.onEmit:this.defaultEmit,this._onUpdate=this.has(v,"onUpdate")?v.onUpdate:this.defaultUpdate,x=this.proxyEmit,b=this.proxyUpdate;break;case 9:this.start=v.values;var _=this.has(v,"ease")?v.ease:"Linear";this.ease=h(_,v.easeParams),this.interpolation=f(v.interpolation),x=this.easedValueEmit,b=this.easeValueUpdate,y=this.start[0];break}return this.onEmit=x,this.onUpdate=b,this.current=y,this},has:function(v,y){return v.hasOwnProperty(y)},hasBoth:function(v,y,x){return v.hasOwnProperty(y)&&v.hasOwnProperty(x)},hasEither:function(v,y,x){return v.hasOwnProperty(y)||v.hasOwnProperty(x)},defaultEmit:function(v,y,x){return x},defaultUpdate:function(v,y,x,b){return b},proxyEmit:function(v,y,x){var b=this._onEmit(v,y,x);return this.current=b,b},proxyUpdate:function(v,y,x,b){var w=this._onUpdate(v,y,x,b);return this.current=w,w},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var v=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[v],this.current},randomRangedValueEmit:function(v,y){var x=c(this.start,this.end);return v&&v.data[y]&&(v.data[y].min=x,v.data[y].max=this.end),this.current=x,x},randomRangedIntEmit:function(v,y){var x=o(this.start,this.end);return v&&v.data[y]&&(v.data[y].min=x,v.data[y].max=this.end),this.current=x,x},steppedEmit:function(){var v=this.counter,y=v,x=(this.end-this.start)/this.steps;if(this.yoyo){var b;this.direction===0?(y+=x,y>=this.end&&(b=y-this.end,y=this.end-b,this.direction=1)):(y-=x,y<=this.start&&(b=this.start-y,y=this.start+b,this.direction=0)),this.counter=y}else this.counter=p(y+x,this.start,this.end);return this.current=v,v},easedValueEmit:function(v,y){if(v&&v.data[y]){var x=v.data[y];x.min=this.start,x.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(v,y,x){var b=v.data[y],w,C=this.ease(x);return this.interpolation?w=this.interpolation(this.start,C):w=(b.max-b.min)*C+b.min,this.current=w,w},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});n.exports=g},24502:(n,a,s)=>{var o=s(83419),u=s(95540),l=s(20286),c=new o({Extends:l,initialize:function(d,f,m,p,g){if(typeof d=="object"){var v=d;d=u(v,"x",0),f=u(v,"y",0),m=u(v,"power",0),p=u(v,"epsilon",100),g=u(v,"gravity",50)}else d===void 0&&(d=0),f===void 0&&(f=0),m===void 0&&(m=0),p===void 0&&(p=100),g===void 0&&(g=50);l.call(this,d,f,!0),this._gravity=g,this._power=m*g,this._epsilon=p*p},update:function(h,d){var f=this.x-h.x,m=this.y-h.y,p=f*f+m*m;if(p!==0){var g=Math.sqrt(p);p<this._epsilon&&(p=this._epsilon);var v=this._power*d/(p*g)*100;h.velocityX+=f*v,h.velocityY+=m*v}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(h){this._epsilon=h*h}},power:{get:function(){return this._power/this._gravity},set:function(h){this._power=h*this._gravity}},gravity:{get:function(){return this._gravity},set:function(h){var d=this.power;this._gravity=h,this.power=d}}});n.exports=c},56480:(n,a,s)=>{var o=s(9674),u=s(45319),l=s(83419),c=s(39506),h=s(87841),d=s(11520),f=s(26099),m=new l({initialize:function(g){this.emitter=g,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new f,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=g.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new o(this)),this.bounds=new h},emit:function(p,g,v,y,x,b){return this.emitter.emit(p,g,v,y,x,b)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(p,g){p===void 0&&(p=0),g===void 0&&(g=0),this.x=p,this.y=g},fire:function(p,g){var v=this.emitter,y=v.ops,x=v.getAnim();if(x?this.anims.play(x):(this.frame=v.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(v.getEmitZone(this),p===void 0?this.x+=y.x.onEmit(this,"x"):y.x.steps>0?this.x+=p+y.x.onEmit(this,"x"):this.x+=p,g===void 0?this.y+=y.y.onEmit(this,"y"):y.y.steps>0?this.y+=g+y.y.onEmit(this,"y"):this.y+=g,this.life=y.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=y.delay.onEmit(this,"delay"),this.holdCurrent=y.hold.onEmit(this,"hold"),this.scaleX=y.scaleX.onEmit(this,"scaleX"),this.scaleY=y.scaleY.active?y.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=y.rotate.onEmit(this,"rotate"),this.rotation=c(this.angle),v.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&v.getDeathZone(this))return this.lifeCurrent=0,!1;var b=y.speedX.onEmit(this,"speedX"),w=y.speedY.active?y.speedY.onEmit(this,"speedY"):b;if(v.radial){var C=c(y.angle.onEmit(this,"angle"));this.velocityX=Math.cos(C)*Math.abs(b),this.velocityY=Math.sin(C)*Math.abs(w)}else if(v.moveTo){var _=y.moveToX.onEmit(this,"moveToX"),S=y.moveToY.onEmit(this,"moveToY"),T=this.life/1e3;this.velocityX=(_-this.x)/T,this.velocityY=(S-this.y)/T}else this.velocityX=b,this.velocityY=w;return v.acceleration&&(this.accelerationX=y.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=y.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=y.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=y.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=y.bounce.onEmit(this,"bounce"),this.alpha=y.alpha.onEmit(this,"alpha"),y.color.active?this.tint=y.color.onEmit(this,"tint"):this.tint=y.tint.onEmit(this,"tint"),!0},update:function(p,g,v){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=p,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=p,!1;this.anims&&this.anims.update(0,p);var y=this.emitter,x=y.ops,b=1-this.lifeCurrent/this.life;if(this.lifeT=b,this.x=x.x.onUpdate(this,"x",b,this.x),this.y=x.y.onUpdate(this,"y",b,this.y),y.moveTo){var w=x.moveToX.onUpdate(this,"moveToX",b,y.moveToX),C=x.moveToY.onUpdate(this,"moveToY",b,y.moveToY),_=this.lifeCurrent/1e3;this.velocityX=(w-this.x)/_,this.velocityY=(C-this.y)/_}return this.computeVelocity(y,p,g,v,b),this.scaleX=x.scaleX.onUpdate(this,"scaleX",b,this.scaleX),x.scaleY.active?this.scaleY=x.scaleY.onUpdate(this,"scaleY",b,this.scaleY):this.scaleY=this.scaleX,this.angle=x.rotate.onUpdate(this,"rotate",b,this.angle),this.rotation=c(this.angle),y.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=u(x.alpha.onUpdate(this,"alpha",b,this.alpha),0,1),x.color.active?this.tint=x.color.onUpdate(this,"color",b,this.tint):this.tint=x.tint.onUpdate(this,"tint",b,this.tint),this.lifeCurrent-=p,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(p,g,v,y,x){var b=p.ops,w=this.velocityX,C=this.velocityY,_=b.accelerationX.onUpdate(this,"accelerationX",x,this.accelerationX),S=b.accelerationY.onUpdate(this,"accelerationY",x,this.accelerationY),T=b.maxVelocityX.onUpdate(this,"maxVelocityX",x,this.maxVelocityX),A=b.maxVelocityY.onUpdate(this,"maxVelocityY",x,this.maxVelocityY);this.bounce=b.bounce.onUpdate(this,"bounce",x,this.bounce),w+=p.gravityX*v+_*v,C+=p.gravityY*v+S*v,w=u(w,-T,T),C=u(C,-A,A),this.velocityX=w,this.velocityY=C,this.x+=w*v,this.y+=C*v,p.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var M=0;M<y.length;M++){var I=y[M];I.active&&I.update(this,g,v,x)}},setSizeToFrame:function(){},getBounds:function(p){p===void 0&&(p=this.emitter.getWorldTransformMatrix());var g=Math.abs(p.scaleX)*this.scaleX,v=Math.abs(p.scaleY)*this.scaleY,y=this.x,x=this.y,b=this.rotation,w=this.frame.width*g/2,C=this.frame.height*v/2,_=this.bounds,S=new f(y-w,x-C),T=new f(y+w,x-C),A=new f(y-w,x+C),M=new f(y+w,x+C);return b!==0&&(d(S,y,x,b),d(T,y,x,b),d(A,y,x,b),d(M,y,x,b)),p.transformPoint(S.x,S.y,S),p.transformPoint(T.x,T.y,T),p.transformPoint(A.x,A.y,A),p.transformPoint(M.x,M.y,M),_.x=Math.min(S.x,T.x,A.x,M.x),_.y=Math.min(S.y,T.y,A.y,M.y),_.width=Math.max(S.x,T.x,A.x,M.x)-_.x,_.height=Math.max(S.y,T.y,A.y,M.y)-_.y,_},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});n.exports=m},69601:(n,a,s)=>{var o=s(83419),u=s(20286),l=s(87841),c=new o({Extends:u,initialize:function(d,f,m,p,g,v,y,x){g===void 0&&(g=!0),v===void 0&&(v=!0),y===void 0&&(y=!0),x===void 0&&(x=!0),u.call(this,d,f,!0),this.bounds=new l(d,f,m,p),this.collideLeft=g,this.collideRight=v,this.collideTop=y,this.collideBottom=x},update:function(h){var d=this.bounds,f=-h.bounce,m=h.worldPosition;m.x<d.x&&this.collideLeft?(h.x+=d.x-m.x,h.velocityX*=f):m.x>d.right&&this.collideRight&&(h.x-=m.x-d.right,h.velocityX*=f),m.y<d.y&&this.collideTop?(h.y+=d.y-m.y,h.velocityY*=f):m.y>d.bottom&&this.collideBottom&&(h.y-=m.y-d.bottom,h.velocityY*=f)}});n.exports=c},31600:(n,a,s)=>{var o=s(83419),u=s(31401),l=s(53774),c=s(43459),h=s(26388),d=s(19909),f=s(76472),m=s(44777),p=s(20696),g=s(95643),v=s(95540),y=s(26546),x=s(24502),b=s(1985),w=s(97022),C=s(86091),_=s(73162),S=s(20074),T=s(269),A=s(56480),M=s(69601),I=s(68875),D=s(87841),k=s(59996),G=s(72905),R=s(90668),H=s(19186),j=s(61340),Z=s(26099),ee=s(15994),Y=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],V=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],O=new o({Extends:g,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Texture,u.Transform,u.Visible,R],initialize:function(X,ie,re,q,ae){g.call(this,X,"ParticleEmitter"),this.particleClass=A,this.config=null,this.ops={accelerationX:new m("accelerationX",0),accelerationY:new m("accelerationY",0),alpha:new m("alpha",1),angle:new m("angle",{min:0,max:360},!0),bounce:new m("bounce",0),color:new f("color"),delay:new m("delay",0,!0),hold:new m("hold",0,!0),lifespan:new m("lifespan",1e3,!0),maxVelocityX:new m("maxVelocityX",1e4),maxVelocityY:new m("maxVelocityY",1e4),moveToX:new m("moveToX",0),moveToY:new m("moveToY",0),quantity:new m("quantity",1,!0),rotate:new m("rotate",0),scaleX:new m("scaleX",1),scaleY:new m("scaleY",1),speedX:new m("speedX",0,!0),speedY:new m("speedY",0,!0),tint:new m("tint",16777215),x:new m("x",0),y:new m("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new Z,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new j,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new _(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(ie,re),this.setTexture(q),ae&&this.setConfig(ae)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(F){if(!F)return this;this.config=F;var X=0,ie="",re=this.ops;for(X=0;X<V.length;X++)ie=V[X],re[ie].loadConfig(F);for(X=0;X<Y.length;X++)ie=Y[X],w(F,ie)&&(this[ie]=v(F,ie));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,w(F,"speed")&&(re.speedX.loadConfig(F,"speed"),re.speedY.active=!1),(b(F,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),w(F,"scale")&&(re.scaleX.loadConfig(F,"scale"),re.scaleY.active=!1),w(F,"callbackScope")){var q=v(F,"callbackScope",null);this.emitCallbackScope=q,this.deathCallbackScope=q}if(w(F,"emitZone")&&this.addEmitZone(F.emitZone),w(F,"deathZone")&&this.addDeathZone(F.deathZone),w(F,"bounds")){var ae=this.addParticleBounds(F.bounds);ae.collideLeft=v(F,"collideLeft",!0),ae.collideRight=v(F,"collideRight",!0),ae.collideTop=v(F,"collideTop",!0),ae.collideBottom=v(F,"collideBottom",!0)}return w(F,"followOffset")&&this.followOffset.setFromObject(v(F,"followOffset",0)),w(F,"texture")&&this.setTexture(F.texture),w(F,"frame")?this.setEmitterFrame(F.frame):w(F,"anim")&&this.setAnim(F.anim),w(F,"reserve")&&this.reserve(F.reserve),w(F,"advance")&&this.fastForward(F.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(p.START,this),this},updateConfig:function(F){return F&&(this.config?this.setConfig(T(this.config,F)):this.setConfig(F)),this},toJSON:function(){var F=l(this),X=0,ie="";for(X=0;X<Y.length;X++)ie=Y[X],F[ie]=this[ie];var re=this.ops;for(X=0;X<V.length;X++)ie=V[X],re[ie]&&(F[ie]=re[ie].toJSON());return re.speedY.active||(delete F.speedX,F.speed=re.speedX.toJSON()),this.scaleX===this.scaleY&&(delete F.scaleX,delete F.scaleY,F.scale=re.scaleX.toJSON()),F},resetCounters:function(F,X){var ie=this.counters;ie.fill(0),ie[0]=F,X&&(ie[5]=1)},startFollow:function(F,X,ie,re){return X===void 0&&(X=0),ie===void 0&&(ie=0),re===void 0&&(re=!1),this.follow=F,this.followOffset.set(X,ie),this.trackVisible=re,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var F=this.frames,X=F.length,ie;return X===1?ie=F[0]:this.randomFrame?ie=y(F):(ie=F[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===X&&(this.currentFrame=0))),this.texture.get(ie)},setEmitterFrame:function(F,X,ie){X===void 0&&(X=!0),ie===void 0&&(ie=1),this.randomFrame=X,this.frameQuantity=ie,this.currentFrame=0;var re=typeof F;if(this.frames.length=0,Array.isArray(F))this.frames=this.frames.concat(F);else if(re==="string"||re==="number")this.frames.push(F);else if(re==="object"){var q=F;F=v(q,"frames",null),F&&(this.frames=this.frames.concat(F));var ae=v(q,"cycle",!1);this.randomFrame=!ae,this.frameQuantity=v(q,"quantity",ie)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var F=this.anims,X=F.length;if(X===0)return null;if(X===1)return F[0];if(this.randomAnim)return y(F);var ie=F[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=ee(this.currentAnim+1,0,X)),ie},setAnim:function(F,X,ie){X===void 0&&(X=!0),ie===void 0&&(ie=1),this.randomAnim=X,this.animQuantity=ie,this.currentAnim=0;var re=typeof F;if(this.anims.length=0,Array.isArray(F))this.anims=this.anims.concat(F);else if(re==="string")this.anims.push(F);else if(re==="object"){var q=F;F=v(q,"anims",null),F&&(this.anims=this.anims.concat(F));var ae=v(q,"cycle",!1);this.randomAnim=!ae,this.animQuantity=v(q,"quantity",ie)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(F){return F===void 0&&(F=!0),this.radial=F,this},addParticleBounds:function(F,X,ie,re,q,ae,ue,me){if(typeof F=="object"){var be=F;F=be.x,X=be.y,ie=w(be,"w")?be.w:be.width,re=w(be,"h")?be.h:be.height}return this.addParticleProcessor(new M(F,X,ie,re,q,ae,ue,me))},setParticleSpeed:function(F,X){return X===void 0&&(X=F),this.ops.speedX.onChange(F),F===X?this.ops.speedY.active=!1:this.ops.speedY.onChange(X),this.radial=!0,this},setParticleScale:function(F,X){return F===void 0&&(F=1),X===void 0&&(X=F),this.ops.scaleX.onChange(F),this.ops.scaleY.onChange(X),this},setParticleGravity:function(F,X){return this.gravityX=F,this.gravityY=X,this},setParticleAlpha:function(F){return this.ops.alpha.onChange(F),this},setParticleTint:function(F){return this.ops.tint.onChange(F),this},setEmitterAngle:function(F){return this.ops.angle.onChange(F),this},setParticleLifespan:function(F){return this.ops.lifespan.onChange(F),this},setQuantity:function(F){return this.quantity=F,this},setFrequency:function(F,X){return this.frequency=F,this.flowCounter=F>0?F:0,X&&(this.quantity=X),this},addDeathZone:function(F){Array.isArray(F)||(F=[F]);for(var X,ie=[],re=0;re<F.length;re++)if(X=F[re],X instanceof h)ie.push(X);else if(typeof X.contains=="function")X=new h(X,!0),ie.push(X);else{var q=v(X,"type","onEnter"),ae=v(X,"source",null);if(ae&&typeof ae.contains=="function"){var ue=q==="onEnter";X=new h(ae,ue),ie.push(X)}}return this.deathZones=this.deathZones.concat(ie),ie},removeDeathZone:function(F){return G(this.deathZones,F),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(F){Array.isArray(F)||(F=[F]);for(var X,ie=[],re=0;re<F.length;re++)if(X=F[re],X instanceof I||X instanceof d)ie.push(X);else{var q=v(X,"source",null);if(q){var ae=v(X,"type","random");if(ae==="random"&&typeof q.getRandomPoint=="function")X=new I(q),ie.push(X);else if(ae==="edge"&&typeof q.getPoints=="function"){var ue=v(X,"quantity",1),me=v(X,"stepRate",0),be=v(X,"yoyo",!1),ke=v(X,"seamless",!0),ze=v(X,"total",-1);X=new d(q,ue,me,be,ke,ze),ie.push(X)}}}return this.emitZones=this.emitZones.concat(ie),ie},removeEmitZone:function(F){return G(this.emitZones,F),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(F){var X=this.emitZones,ie=X.length;if(ie!==0){var re=X[this.zoneIndex];re.getPoint(F),re.total>-1&&(this.zoneTotal++,this.zoneTotal===re.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===ie&&(this.zoneIndex=0)))}},getDeathZone:function(F){for(var X=this.deathZones,ie=0;ie<X.length;ie++){var re=X[ie];if(re.willKill(F))return this.emit(p.DEATH_ZONE,this,F,re),!0}return!1},setEmitZone:function(F){var X;return isFinite(F)?X=F:X=this.emitZones.indexOf(F),X>=0&&(this.zoneIndex=X),this},addParticleProcessor:function(F){return this.processors.exists(F)||(F.emitter&&F.emitter.removeParticleProcessor(F),this.processors.add(F),F.emitter=this),F},removeParticleProcessor:function(F){return this.processors.exists(F)&&(this.processors.remove(F,!0),F.emitter=null),F},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(F){return this.addParticleProcessor(new x(F))},reserve:function(F){var X=this.dead;if(this.maxParticles>0){var ie=this.getParticleCount();ie+F>this.maxParticles&&(F=this.maxParticles-(ie+F))}for(var re=0;re<F;re++)X.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(F,X){return F===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof F=="function"&&(this.emitCallback=F,X&&(this.emitCallbackScope=X)),this},onParticleDeath:function(F,X){return F===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof F=="function"&&(this.deathCallback=F,X&&(this.deathCallbackScope=X)),this},killAll:function(){for(var F=this.dead,X=this.alive;X.length>0;)F.push(X.pop());return this},forEachAlive:function(F,X){for(var ie=this.alive,re=ie.length,q=0;q<re;q++)F.call(X,ie[q],this);return this},forEachDead:function(F,X){for(var ie=this.dead,re=ie.length,q=0;q<re;q++)F.call(X,ie[q],this);return this},start:function(F,X){return F===void 0&&(F=0),this.emitting||(F>0&&this.fastForward(F),this.emitting=!0,this.resetCounters(this.frequency,!0),X!==void 0&&(this.duration=Math.abs(X)),this.emit(p.START,this)),this},stop:function(F){return F===void 0&&(F=!1),this.emitting&&(this.emitting=!1,F&&this.killAll(),this.emit(p.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(F,X){return F===void 0&&(F=""),X===void 0&&(X=this.true),this.sortProperty=F,this.sortOrderAsc=X,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(F){return this.sortProperty!==""?F=this.depthSortCallback:F=null,this.sortCallback=F,this},depthSort:function(){return H(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(F,X){var ie=this.sortProperty;return this.sortOrderAsc?F[ie]-X[ie]:X[ie]-F[ie]},flow:function(F,X,ie){return X===void 0&&(X=1),this.emitting=!1,this.frequency=F,this.quantity=X,ie!==void 0&&(this.stopAfter=ie),this.start()},explode:function(F,X,ie){this.frequency=-1,this.resetCounters(-1,!0);var re=this.emitParticle(F,X,ie);return this.emit(p.EXPLODE,this,re),re},emitParticleAt:function(F,X,ie){return this.emitParticle(ie,F,X)},emitParticle:function(F,X,ie){if(!this.atLimit()){F===void 0&&(F=this.ops.quantity.onEmit());for(var re=this.dead,q=this.stopAfter,ae=this.follow?this.follow.x+this.followOffset.x:X,ue=this.follow?this.follow.y+this.followOffset.y:ie,me=0;me<F;me++){var be=re.pop();if(be||(be=new this.particleClass(this)),be.fire(ae,ue)?(this.particleBringToTop?this.alive.push(be):this.alive.unshift(be),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,be,this)):this.dead.push(be),q>0&&(this.stopCounter++,this.stopCounter>=q)||this.atLimit())break}return be}},fastForward:function(F,X){X===void 0&&(X=1e3/60);var ie=0;for(this.skipping=!0;ie<Math.abs(F);)this.preUpdate(0,X),ie+=X;return this.skipping=!1,this},preUpdate:function(F,X){X*=this.timeScale;var ie=X/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var re=this.getProcessors(),q=this.alive,ae=this.dead,ue=0,me=[],be=q.length;for(ue=0;ue<be;ue++){var ke=q[ue];ke.update(X,ie,re)&&me.push({index:ue,particle:ke})}if(be=me.length,be>0){var ze=this.deathCallback,De=this.deathCallbackScope;for(ue=be-1;ue>=0;ue--){var ge=me[ue];q.splice(ge.index,1),ae.push(ge.particle),ze&&ze.call(De,ge.particle),ge.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&q.length===0&&(this.completeFlag=0,this.emit(p.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=X;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=X,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(F){for(var X=this.getWorldTransformMatrix(),ie=this.alive,re=ie.length,q=[],ae=0;ae<re;ae++){var ue=ie[ae];k(F,ue.getBounds(X))&&q.push(ue)}return q},getBounds:function(F,X,ie,re){F===void 0&&(F=0),X===void 0&&(X=0),ie===void 0&&(ie=1e3/60),re===void 0&&(re=new D);var q=this.getWorldTransformMatrix(),ae,ue,me=this.alive,be=!1;if(re.setTo(0,0,0,0),X>0){var ke=0;for(this.skipping=!0;ke<Math.abs(X);){for(this.preUpdate(0,ie),ae=0;ae<me.length;ae++)ue=me[ae].getBounds(q),be?S(re,ue):(be=!0,c(ue,re));ke+=ie}this.skipping=!1}else for(ae=0;ae<me.length;ae++)ue=me[ae].getBounds(q),be?S(re,ue):(be=!0,c(ue,re));return F>0&&C(re,F,F),re},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(F){this.ops.x.onChange(F)}},particleY:{get:function(){return this.ops.y.current},set:function(F){this.ops.y.onChange(F)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(F){this.ops.accelerationX.onChange(F)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(F){this.ops.accelerationY.onChange(F)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(F){this.ops.maxVelocityX.onChange(F)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(F){this.ops.maxVelocityY.onChange(F)}},speed:{get:function(){return this.ops.speedX.current},set:function(F){this.ops.speedX.onChange(F),this.ops.speedY.onChange(F)}},speedX:{get:function(){return this.ops.speedX.current},set:function(F){this.ops.speedX.onChange(F)}},speedY:{get:function(){return this.ops.speedY.current},set:function(F){this.ops.speedY.onChange(F)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(F){this.ops.moveToX.onChange(F)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(F){this.ops.moveToY.onChange(F)}},bounce:{get:function(){return this.ops.bounce.current},set:function(F){this.ops.bounce.onChange(F)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(F){this.ops.scaleX.onChange(F)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(F){this.ops.scaleY.onChange(F)}},particleColor:{get:function(){return this.ops.color.current},set:function(F){this.ops.color.onChange(F)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(F){this.ops.color.setEase(F)}},particleTint:{get:function(){return this.ops.tint.current},set:function(F){this.ops.tint.onChange(F)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(F){this.ops.alpha.onChange(F)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(F){this.ops.lifespan.onChange(F)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(F){this.ops.angle.onChange(F)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(F){this.ops.rotate.onChange(F)}},quantity:{get:function(){return this.ops.quantity.current},set:function(F){this.ops.quantity.onChange(F)}},delay:{get:function(){return this.ops.delay.current},set:function(F){this.ops.delay.onChange(F)}},hold:{get:function(){return this.ops.hold.current},set:function(F){this.ops.hold.onChange(F)}},flowCounter:{get:function(){return this.counters[0]},set:function(F){this.counters[0]=F}},frameCounter:{get:function(){return this.counters[1]},set:function(F){this.counters[1]=F}},animCounter:{get:function(){return this.counters[2]},set:function(F){this.counters[2]=F}},elapsed:{get:function(){return this.counters[3]},set:function(F){this.counters[3]=F}},stopCounter:{get:function(){return this.counters[4]},set:function(F){this.counters[4]=F}},completeFlag:{get:function(){return this.counters[5]},set:function(F){this.counters[5]=F}},zoneIndex:{get:function(){return this.counters[6]},set:function(F){this.counters[6]=F}},zoneTotal:{get:function(){return this.counters[7]},set:function(F){this.counters[7]=F}},currentFrame:{get:function(){return this.counters[8]},set:function(F){this.counters[8]=F}},currentAnim:{get:function(){return this.counters[9]},set:function(F){this.counters[9]=F}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var F,X=this.ops;for(F=0;F<V.length;F++){var ie=V[F];X[ie].destroy()}for(F=0;F<this.alive.length;F++)this.alive[F].destroy();for(F=0;F<this.dead.length;F++)this.dead[F].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});n.exports=O},9871:(n,a,s)=>{var o=s(59996),u=s(61340),l=new u,c=new u,h=new u,d=new u,f=function(m,p,g,v){var y=l,x=c,b=h,w=d;v?(w.loadIdentity(),w.multiply(v),w.translate(p.x,p.y),w.rotate(p.rotation),w.scale(p.scaleX,p.scaleY)):w.applyITRS(p.x,p.y,p.rotation,p.scaleX,p.scaleY);var C=m.currentContext,_=g.roundPixels,S=g.alpha,T=p.alpha,A=p.alive,M=A.length,I=p.viewBounds;if(!(!p.visible||M===0||I&&!o(I,g.worldView))){p.sortCallback&&p.depthSort(),g.addToRenderList(p);var D=p.scrollFactorX,k=p.scrollFactorY;C.save(),C.globalCompositeOperation=m.blendModes[p.blendMode];for(var G=0;G<M;G++){var R=A[G],H=R.alpha*T*S;if(!(H<=0||R.scaleX===0||R.scaleY===0)){b.applyITRS(R.x,R.y,R.rotation,R.scaleX,R.scaleY),y.copyFrom(g.matrix),y.multiplyWithOffset(w,-g.scrollX*D,-g.scrollY*k),b.e=R.x,b.f=R.y,y.multiply(b,x);var j=R.frame,Z=j.canvasData;if(Z.width>0&&Z.height>0){var ee=-j.halfWidth,Y=-j.halfHeight;C.globalAlpha=H,C.save(),x.setToContext(C),_&&(ee=Math.round(ee),Y=Math.round(Y)),C.imageSmoothingEnabled=!j.source.scaleMode,C.drawImage(j.source.image,Z.x,Z.y,Z.width,Z.height,ee,Y,Z.width,Z.height),C.restore()}}}C.restore()}};n.exports=f},92730:(n,a,s)=>{var o=s(25305),u=s(44603),l=s(23568),c=s(95540),h=s(31600);u.register("particles",function(d,f){d===void 0&&(d={});var m=l(d,"key",null),p=c(d,"config",null),g=new h(this.scene,0,0,m);return f!==void 0&&(d.add=f),o(this.scene,g,d),p&&g.setConfig(p),g})},676:(n,a,s)=>{var o=s(39429),u=s(31600);o.register("particles",function(l,c,h,d){return l!==void 0&&typeof l=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new u(this.scene,l,c,h,d))})},90668:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(21188),l=s(9871),n.exports={renderWebGL:u,renderCanvas:l}},21188:(n,a,s)=>{var o=s(59996),u=s(61340),l=s(70554),c=new u,h=new u,d=new u,f=new u,m=function(p,g,v,y){var x=p.pipelines.set(g.pipeline),b=c,w=h,C=d,_=f;y?(_.loadIdentity(),_.multiply(y),_.translate(g.x,g.y),_.rotate(g.rotation),_.scale(g.scaleX,g.scaleY)):_.applyITRS(g.x,g.y,g.rotation,g.scaleX,g.scaleY);var S=l.getTintAppendFloatAlpha,T=v.alpha,A=g.alpha;p.pipelines.preBatch(g);var M=g.alive,I=M.length,D=g.viewBounds;if(!(I===0||D&&!o(D,v.worldView))){g.sortCallback&&g.depthSort(),v.addToRenderList(g),b.copyFrom(v.matrix),b.multiplyWithOffset(_,-v.scrollX*g.scrollFactorX,-v.scrollY*g.scrollFactorY),p.setBlendMode(g.blendMode),g.mask&&(g.mask.preRenderWebGL(p,g,v),p.pipelines.set(g.pipeline));for(var k=g.tintFill,G,R,H=0;H<I;H++){var j=M[H],Z=j.alpha*A*T;if(!(Z<=0||j.scaleX===0||j.scaleY===0)){C.applyITRS(j.x,j.y,j.rotation,j.scaleX,j.scaleY),C.e=j.x,C.f=j.y,b.multiply(C,w);var ee=j.frame;ee.glTexture!==R&&(R=ee.glTexture,G=x.setGameObject(g,ee));var Y=-ee.halfWidth,V=-ee.halfHeight,O=w.setQuad(Y,V,Y+ee.width,V+ee.height),F=S(j.tint,Z);x.shouldFlush(6)&&(x.flush(),G=x.setGameObject(g,ee)),x.batchQuad(g,O[0],O[1],O[2],O[3],O[4],O[5],O[6],O[7],ee.u0,ee.v0,ee.u1,ee.v1,F,F,F,F,k,R,G)}}g.mask&&g.mask.postRenderWebGL(p,v),p.pipelines.postBatch(g)}};n.exports=m},20286:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h,d){c===void 0&&(c=0),h===void 0&&(h=0),d===void 0&&(d=!0),this.emitter,this.x=c,this.y=h,this.active=d},update:function(){},destroy:function(){this.emitter=null}});n.exports=u},9774:n=>{n.exports="complete"},812:n=>{n.exports="deathzone"},30522:n=>{n.exports="explode"},96695:n=>{n.exports="start"},18677:n=>{n.exports="stop"},20696:(n,a,s)=>{n.exports={COMPLETE:s(9774),DEATH_ZONE:s(812),EXPLODE:s(30522),START:s(96695),STOP:s(18677)}},18404:(n,a,s)=>{n.exports={EmitterColorOp:s(76472),EmitterOp:s(44777),Events:s(20696),GravityWell:s(24502),Particle:s(56480),ParticleBounds:s(69601),ParticleEmitter:s(31600),ParticleProcessor:s(20286),Zones:s(21024)}},26388:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h){this.source=c,this.killOnEnter=h},willKill:function(l){var c=this.source.contains(l.x,l.y);return c&&this.killOnEnter||!c&&!this.killOnEnter}});n.exports=u},19909:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h,d,f,m,p){f===void 0&&(f=!1),m===void 0&&(m=!0),p===void 0&&(p=-1),this.source=c,this.points=[],this.quantity=h,this.stepRate=d,this.yoyo=f,this.counter=-1,this.seamless=m,this._length=0,this._direction=0,this.total=p,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var l=this.points[0],c=this.points[this.points.length-1];l.x===c.x&&l.y===c.y&&this.points.pop()}var h=this._length;return this._length=this.points.length,this._length<h&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(l){return this.source=l,this.updateSource()},getPoint:function(l){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var c=this.points[this.counter];c&&(l.x=c.x,l.y=c.y)}});n.exports=u},68875:(n,a,s)=>{var o=s(83419),u=s(26099),l=new o({initialize:function(h){this.source=h,this._tempVec=new u,this.total=-1},getPoint:function(c){var h=this._tempVec;this.source.getRandomPoint(h),c.x=h.x,c.y=h.y}});n.exports=l},21024:(n,a,s)=>{n.exports={DeathZone:s(26388),EdgeZone:s(19909),RandomZone:s(68875)}},1159:(n,a,s)=>{var o=s(83419),u=s(31401),l=s(68287),c=new o({Extends:l,Mixins:[u.PathFollower],initialize:function(d,f,m,p,g,v){l.call(this,d,m,p,g,v),this.path=f},preUpdate:function(h,d){this.anims.update(h,d),this.pathUpdate(h)}});n.exports=c},90145:(n,a,s)=>{var o=s(39429),u=s(1159);o.register("follower",function(l,c,h,d,f){var m=new u(this.scene,l,c,h,d,f);return this.displayList.add(m),this.updateList.add(m),m})},33663:(n,a,s)=>{var o=s(9674),u=s(83419),l=s(48803),c=s(90664),h=s(4703),d=s(45650),f=new u({Extends:h,initialize:function(p,g,v,y,x,b,w,C){y||(y="__DEFAULT"),h.call(this,p,g,v,y,x),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(b,w,C),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(m,p,g){m===void 0&&(m=8),p===void 0&&(p=8),g===void 0&&(g=!1);var v=!1;return g&&(v=!0),this.gridWidth=m,this.gridHeight=p,this.isTiled=g,this.clear(),l({mesh:this,widthSegments:m,heightSegments:p,isOrtho:!1,tile:g,flipY:v}),this},setSizeToFrame:function(m){m===void 0&&(m=!0);var p=this.frame;if(this.setPerspective(this.width/p.width,this.height/p.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!m)return this;var g=this.gridWidth,v=this.gridHeight,y=this.vertices,x=p.u0,b=p.u1,w=p.v0,C=p.v1,_,S,T=0;if(this.isTiled)for(w=p.v1,C=p.v0,S=0;S<v;S++)for(_=0;_<g;_++)y[T++].setUVs(x,C),y[T++].setUVs(x,w),y[T++].setUVs(b,C),y[T++].setUVs(x,w),y[T++].setUVs(b,w),y[T++].setUVs(b,C);else{var A=g+1,M=v+1,I=b-x,D=C-w,k=[];for(S=0;S<M;S++)for(_=0;_<A;_++){var G=x+I*(_/g),R=w+D*(S/v);k.push(G,R)}for(S=0;S<v;S++)for(_=0;_<g;_++){var H=(_+A*S)*2,j=(_+A*(S+1))*2,Z=(_+1+A*(S+1))*2,ee=(_+1+A*S)*2;y[T++].setUVs(k[H],k[H+1]),y[T++].setUVs(k[j],k[j+1]),y[T++].setUVs(k[ee],k[ee+1]),y[T++].setUVs(k[j],k[j+1]),y[T++].setUVs(k[Z],k[Z+1]),y[T++].setUVs(k[ee],k[ee+1])}}return this},setViewHeight:function(m){m===void 0&&(m=this.frame.height);var p=this.fov*(Math.PI/180);this.viewPosition.z=this.height/m/Math.tan(p/2),this.dirtyCache[10]=1},createCheckerboard:function(m,p,g,v,y){m===void 0&&(m=16777215),p===void 0&&(p=255),g===void 0&&(g=255),v===void 0&&(v=255),y===void 0&&(y=128);for(var x=c(m),b=c(p),w=[],C=0;C<16;C++)for(var _=0;_<16;_++)C<8&&_<8||C>7&&_>7?w.push(x.r,x.g,x.b,g):w.push(b.r,b.g,b.b,v);var S=this.scene.sys.textures.addUint8Array(d(),new Uint8Array(w),16,16);return this.removeCheckerboard(),this.setTexture(S),this.setSizeToFrame(),this.setViewHeight(y),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(m,p){return this.anims.play(m,p)},playReverse:function(m,p){return this.anims.playReverse(m,p)},playAfterDelay:function(m,p){return this.anims.playAfterDelay(m,p)},playAfterRepeat:function(m,p){return this.anims.playAfterRepeat(m,p)},stop:function(){return this.anims.stop()},stopAfterDelay:function(m){return this.anims.stopAfterDelay(m)},stopAfterRepeat:function(m){return this.anims.stopAfterRepeat(m)},stopOnFrame:function(m){return this.anims.stopOnFrame(m)},preUpdate:function(m,p){h.prototype.preUpdate.call(this,m,p),this.anims.update(m,p)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});n.exports=f},56015:(n,a,s)=>{var o=s(25305),u=s(13059),l=s(44603),c=s(23568),h=s(35154),d=s(33663);l.register("plane",function(f,m){f===void 0&&(f={});var p=c(f,"key",null),g=c(f,"frame",null),v=h(f,"width",8),y=h(f,"height",8),x=h(f,"tile",!1),b=new d(this.scene,0,0,p,g,v,y,x);m!==void 0&&(f.add=m);var w=h(f,"checkerboard",null);if(w){var C=h(w,"color1",16777215),_=h(w,"color2",255),S=h(w,"alpha1",255),T=h(w,"alpha2",255),A=h(w,"height",128);b.createCheckerboard(C,_,S,T,A)}return o(this.scene,b,f),u(b,f),b})},30985:(n,a,s)=>{var o=s(33663),u=s(39429);u.register("plane",function(l,c,h,d,f,m,p){return this.displayList.add(new o(this.scene,l,c,h,d,f,m,p))})},80321:(n,a,s)=>{var o=s(83419),u=s(31401),l=s(95643),c=s(30100),h=s(36060),d=s(67277),f=new o({Extends:l,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Transform,u.Visible,d],initialize:function(p,g,v,y,x,b,w){y===void 0&&(y=16777215),x===void 0&&(x=128),b===void 0&&(b=1),w===void 0&&(w=.1),l.call(this,p,"PointLight"),this.initPipeline(h.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(g,v),this.color=c(y),this.intensity=b,this.attenuation=w,this.width=x*2,this.height=x*2,this._radius=x},radius:{get:function(){return this._radius},set:function(m){this._radius=m,this.width=m*2,this.height=m*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});n.exports=f},39829:(n,a,s)=>{var o=s(25305),u=s(44603),l=s(23568),c=s(80321);u.register("pointlight",function(h,d){h===void 0&&(h={});var f=l(h,"color",16777215),m=l(h,"radius",128),p=l(h,"intensity",1),g=l(h,"attenuation",.1),v=new c(this.scene,0,0,f,m,p,g);return d!==void 0&&(h.add=d),o(this.scene,v,h),v})},71255:(n,a,s)=>{var o=s(39429),u=s(80321);o.register("pointlight",function(l,c,h,d,f,m){return this.displayList.add(new u(this.scene,l,c,h,d,f,m))})},67277:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(57787),n.exports={renderWebGL:u,renderCanvas:l}},57787:(n,a,s)=>{var o=s(91296),u=function(l,c,h,d){h.addToRenderList(c);var f=l.pipelines.set(c.pipeline),m=o(c,h,d).calc,p=c.width,g=c.height,v=-c._radius,y=-c._radius,x=v+p,b=y+g,w=m.getX(0,0),C=m.getY(0,0),_=m.getX(v,y),S=m.getY(v,y),T=m.getX(v,b),A=m.getY(v,b),M=m.getX(x,b),I=m.getY(x,b),D=m.getX(x,y),k=m.getY(x,y);l.pipelines.preBatch(c),f.batchPointLight(c,h,_,S,T,A,M,I,D,k,w,C),l.pipelines.postBatch(c)};n.exports=u},591:(n,a,s)=>{var o=s(83419),u=s(81320),l=s(88571),c=new o({Extends:l,initialize:function(d,f,m,p,g){f===void 0&&(f=0),m===void 0&&(m=0),p===void 0&&(p=32),g===void 0&&(g=32);var v=new u(d.sys.textures,"",p,g);l.call(this,d,f,m,v),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(h,d){this.width=h,this.height=d,this.texture.setSize(h,d),this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=h,f.hitArea.height=d),this},resize:function(h,d){return this.setSize(h,d),this},saveTexture:function(h){var d=this.texture;return d.key=h,d.manager.addDynamicTexture(d)&&(this._saved=!0),d},fill:function(h,d,f,m,p,g){return this.texture.fill(h,d,f,m,p,g),this},clear:function(){return this.texture.clear(),this},stamp:function(h,d,f,m,p){return this.texture.stamp(h,d,f,m,p),this},erase:function(h,d,f){return this.texture.erase(h,d,f),this},draw:function(h,d,f,m,p){return this.texture.draw(h,d,f,m,p),this},drawFrame:function(h,d,f,m,p,g){return this.texture.drawFrame(h,d,f,m,p,g),this},repeat:function(h,d,f,m,p,g,v,y,x){return this.texture.repeat(h,d,f,m,p,g,v,y,x),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(h,d,f,m,p){return this.texture.batchDraw(h,d,f,m,p),this},batchDrawFrame:function(h,d,f,m,p,g){return this.texture.batchDrawFrame(h,d,f,m,p,g),this},endDraw:function(h){return this.texture.endDraw(h),this},snapshotArea:function(h,d,f,m,p,g,v){return this.texture.snapshotArea(h,d,f,m,p,g,v),this},snapshot:function(h,d,f){return this.snapshotArea(0,0,this.width,this.height,h,d,f)},snapshotPixel:function(h,d,f){return this.snapshotArea(h,d,1,1,f,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});n.exports=c},34495:(n,a,s)=>{var o=s(25305),u=s(44603),l=s(23568),c=s(591);u.register("renderTexture",function(h,d){h===void 0&&(h={});var f=l(h,"x",0),m=l(h,"y",0),p=l(h,"width",32),g=l(h,"height",32),v=new c(this.scene,f,m,p,g);return d!==void 0&&(h.add=d),o(this.scene,v,h),v})},60505:(n,a,s)=>{var o=s(39429),u=s(591);o.register("renderTexture",function(l,c,h,d){return this.displayList.add(new u(this.scene,l,c,h,d))})},77757:(n,a,s)=>{var o=s(9674),u=s(83419),l=s(31401),c=s(95643),h=s(36060),d=s(38745),f=s(26099),m=new u({Extends:c,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Flip,l.Mask,l.Pipeline,l.PostPipeline,l.Size,l.Texture,l.Transform,l.Visible,l.ScrollFactor,d],initialize:function(g,v,y,x,b,w,C,_,S){x===void 0&&(x="__DEFAULT"),w===void 0&&(w=2),C===void 0&&(C=!0),c.call(this,g,"Rope"),this.anims=new o(this),this.points=w,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=x==="__DEFAULT",this.dirty=!1,this.horizontal=C,this._flipX=!1,this._flipY=!1,this._perp=new f,this.debugCallback=null,this.debugGraphic=null,this.setTexture(x,b),this.setPosition(v,y),this.setSizeToFrame(),this.initPipeline(h.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(w)&&this.resizeArrays(w.length),this.setPoints(w,_,S),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(p,g){var v=this.anims.currentFrame;this.anims.update(p,g),this.anims.currentFrame!==v&&(this.updateUVs(),this.updateVertices())},play:function(p,g,v){return this.anims.play(p,g,v),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(p,g,v){return p===void 0&&(p=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(p,g,v))},setVertical:function(p,g,v){return p===void 0&&(p=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(p,g,v)):this},setTintFill:function(p){return p===void 0&&(p=!1),this.tintFill=p,this},setAlphas:function(p,g){var v=this.points.length;if(v<1)return this;var y=this.alphas;p===void 0?p=[1]:!Array.isArray(p)&&g===void 0&&(p=[p]);var x,b=0;if(g!==void 0)for(x=0;x<v;x++)b=x*2,y[b]=p,y[b+1]=g;else if(p.length===v)for(x=0;x<v;x++)b=x*2,y[b]=p[x],y[b+1]=p[x];else{var w=p[0];for(x=0;x<v;x++)b=x*2,p.length>b&&(w=p[b]),y[b]=w,p.length>b+1&&(w=p[b+1]),y[b+1]=w}return this},setColors:function(p){var g=this.points.length;if(g<1)return this;var v=this.colors;p===void 0?p=[16777215]:Array.isArray(p)||(p=[p]);var y,x=0;if(p.length===g)for(y=0;y<g;y++)x=y*2,v[x]=p[y],v[x+1]=p[y];else{var b=p[0];for(y=0;y<g;y++)x=y*2,p.length>x&&(b=p[x]),v[x]=b,p.length>x+1&&(b=p[x+1]),v[x+1]=b}return this},setPoints:function(p,g,v){if(p===void 0&&(p=2),typeof p=="number"){var y=p;y<2&&(y=2),p=[];var x,b,w;if(this.horizontal)for(w=-this.frame.halfWidth,b=this.frame.width/(y-1),x=0;x<y;x++)p.push({x:w+x*b,y:0});else for(w=-this.frame.halfHeight,b=this.frame.height/(y-1),x=0;x<y;x++)p.push({x:0,y:w+x*b})}var C=p.length,_=this.points.length;return C<1?(console.warn("Rope: Not enough points given"),this):(C===1&&(p.unshift({x:0,y:0}),C++),_!==C&&this.resizeArrays(C),this.dirty=!0,this.points=p,this.updateUVs(),g!=null&&this.setColors(g),v!=null&&this.setAlphas(v),this)},updateUVs:function(){for(var p=this.uv,g=this.points.length,v=this.frame.u0,y=this.frame.v0,x=this.frame.u1,b=this.frame.v1,w=(x-v)/(g-1),C=(b-y)/(g-1),_=0;_<g;_++){var S=_*4,T,A,M,I;this.horizontal?(this._flipX?(T=x-_*w,M=x-_*w):(T=v+_*w,M=v+_*w),this._flipY?(A=b,I=y):(A=y,I=b)):(this._flipX?(T=v,M=x):(T=x,M=v),this._flipY?(A=b-_*C,I=b-_*C):(A=y+_*C,I=y+_*C)),p[S+0]=T,p[S+1]=A,p[S+2]=M,p[S+3]=I}return this},resizeArrays:function(p){var g=this.colors,v=this.alphas;this.vertices=new Float32Array(p*4),this.uv=new Float32Array(p*4),g=new Uint32Array(p*2),v=new Float32Array(p*2);for(var y=0;y<p*2;y++)g[y]=16777215,v[y]=1;return this.colors=g,this.alphas=v,this.dirty=!0,this},updateVertices:function(){var p=this._perp,g=this.points,v=this.vertices,y=g.length;if(this.dirty=!1,!(y<1)){for(var x,b=g[0],w=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,C=0;C<y;C++){var _=g[C],S=C*4;C<y-1?x=g[C+1]:x=_,p.x=x.y-b.y,p.y=-(x.x-b.x);var T=p.length();p.x/=T,p.y/=T,p.x*=w,p.y*=w,v[S]=_.x+p.x,v[S+1]=_.y+p.y,v[S+2]=_.x-p.x,v[S+3]=_.y-p.y,b=_}return this}},setDebug:function(p,g){return this.debugGraphic=p,!p&&!g?this.debugCallback=null:g?this.debugCallback=g:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(p,g,v){var y=p.debugGraphic,x=v[0],b=v[1],w=v[2],C=v[3];y.lineBetween(x,b,w,C);for(var _=4;_<g;_+=4){var S=v[_+0],T=v[_+1],A=v[_+2],M=v[_+3];y.lineBetween(x,b,S,T),y.lineBetween(w,C,A,M),y.lineBetween(w,C,S,T),y.lineBetween(S,T,A,M),x=S,b=T,w=A,C=M}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(p){return this._flipX=p,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(p){return this._flipY=p,this.updateUVs()}}});n.exports=m},95262:n=>{var a=function(){};n.exports=a},26209:(n,a,s)=>{var o=s(25305),u=s(44603),l=s(23568),c=s(35154),h=s(77757);u.register("rope",function(d,f){d===void 0&&(d={});var m=l(d,"key",null),p=l(d,"frame",null),g=l(d,"horizontal",!0),v=c(d,"points",void 0),y=c(d,"colors",void 0),x=c(d,"alphas",void 0),b=new h(this.scene,0,0,m,p,v,g,y,x);return f!==void 0&&(d.add=f),o(this.scene,b,d),b})},96819:(n,a,s)=>{var o=s(77757),u=s(39429);u.register("rope",function(l,c,h,d,f,m,p,g){return this.displayList.add(new o(this.scene,l,c,h,d,f,m,p,g))})},38745:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(20439),l=s(95262),n.exports={renderWebGL:u,renderCanvas:l}},20439:(n,a,s)=>{var o=s(91296),u=s(70554),l=function(c,h,d,f){d.addToRenderList(h);var m=c.pipelines.set(h.pipeline,h),p=o(h,d,f).calc,g=h.vertices,v=h.uv,y=h.colors,x=h.alphas,b=h.alpha,w=u.getTintAppendFloatAlpha,C=d.roundPixels,_=g.length,S=Math.floor(_*.5);m.flush(),c.pipelines.preBatch(h);var T=m.setGameObject(h),A=m.vertexViewF32,M=m.vertexViewU32,I=m.vertexCount*m.currentShader.vertexComponentCount-1,D=0,k=h.tintFill;h.dirty&&h.updateVertices();for(var G=h.debugCallback,R=[],H=0;H<_;H+=2){var j=g[H+0],Z=g[H+1],ee=j*p.a+Z*p.c+p.e,Y=j*p.b+Z*p.d+p.f;C&&(ee=Math.round(ee),Y=Math.round(Y)),A[++I]=ee,A[++I]=Y,A[++I]=v[H+0],A[++I]=v[H+1],A[++I]=T,A[++I]=k,M[++I]=w(y[D],d.alpha*(x[D]*b)),D++,G&&(R[H+0]=ee,R[H+1]=Y)}G&&G.call(h,h,_,R),m.vertexCount+=S,m.currentBatch.count=m.vertexCount-m.currentBatch.start,c.pipelines.postBatch(h)};n.exports=l},20071:(n,a,s)=>{var o=s(83419),u=s(31401),l=s(95643),c=s(95540),h=s(79291),d=s(61622),f=s(25479),m=s(61340),p=s(95428),g=s(92503),v=new o({Extends:l,Mixins:[u.ComputedSize,u.Depth,u.GetBounds,u.Mask,u.Origin,u.ScrollFactor,u.Transform,u.Visible,f],initialize:function(x,b,w,C,_,S,T,A){w===void 0&&(w=0),C===void 0&&(C=0),_===void 0&&(_=128),S===void 0&&(S=128),l.call(this,x,"Shader"),this.blendMode=-1,this.shader;var M=x.sys.renderer;this.renderer=M,this.gl=M.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=M.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new m,this._tempMatrix2=new m,this._tempMatrix3=new m,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=M.width,this._rendererHeight=M.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(w,C),this.setSize(_,S),this.setOrigin(.5,.5),this.setShader(b,T,A),this.renderer.on(g.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(y){return this.renderToTexture?!0:!(l.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&y.id)},setRenderToTexture:function(y,x){if(x===void 0&&(x=!1),!this.renderToTexture){var b=this.width,w=this.height,C=this.renderer;this.glTexture=C.createTextureFromSource(null,b,w,0),this.framebuffer=C.createFramebuffer(b,w,this.glTexture,!1),this._rendererWidth=b,this._rendererHeight=w,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),y&&(this.texture=this.scene.sys.textures.addGLTexture(y,this.glTexture))}return this.shader&&(C.pipelines.clear(),this.load(),this.flush(),C.pipelines.rebind()),this},setShader:function(y,x,b){if(this.renderer.contextLost)return this._deferSetShader={key:y,textures:x,textureData:b},this;if(x===void 0&&(x=[]),typeof y=="string"){var w=this.scene.sys.cache.shader;if(!w.has(y))return console.warn("Shader missing: "+y),this;this.shader=w.get(y)}else this.shader=y;var C=this.gl,_=this.renderer;this.program&&_.deleteProgram(this.program);var S=_.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);C.uniformMatrix4fv(C.getUniformLocation(S.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),C.uniformMatrix4fv(C.getUniformLocation(S.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),C.uniform2f(C.getUniformLocation(S.webGLProgram,"uResolution"),this.width,this.height),this.program=S;var T=new Date,A={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[T.getFullYear(),T.getMonth(),T.getDate(),T.getHours()*60*60+T.getMinutes()*60+T.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=h(!0,{},this.shader.uniforms,A):this.uniforms=A;for(var M=0;M<4;M++)x[M]&&this.setSampler2D("iChannel"+M,x[M],M,b);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(y){return this.pointer=y,this},projOrtho:function(y,x,b,w){if(this.renderer.contextLost){this._deferProjOrtho={left:y,right:x,bottom:b,top:w};return}var C=-1e3,_=1e3,S=1/(y-x),T=1/(b-w),A=1/(C-_),M=this.projectionMatrix;M[0]=-2*S,M[5]=-2*T,M[10]=2*A,M[12]=(y+x)*S,M[13]=(w+b)*T,M[14]=(_+C)*A;var I=this.program,D=this.gl,k=this.renderer;k.setProgram(I),D.uniformMatrix4fv(D.getUniformLocation(I.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=x,this._rendererHeight=b},initUniforms:function(){var y=this.renderer.glFuncMap,x=this.program;this._textureCount=0;for(var b in this.uniforms){var w=this.uniforms[b],C=w.type,_=y[C];w.uniformLocation=this.renderer.createUniformLocation(x,b),C!=="sampler2D"&&(w.glMatrix=_.matrix,w.glValueLength=_.length,w.glFunc=_.func)}},setSampler2DBuffer:function(y,x,b,w,C,_){C===void 0&&(C=0),_===void 0&&(_={});var S=this.uniforms[y];return S.value=x,_.width=b,_.height=w,S.textureData=_,this._textureCount=C,this.initSampler2D(S),this},setSampler2D:function(y,x,b,w){b===void 0&&(b=0);var C=this.scene.sys.textures;if(C.exists(x)){var _=C.getFrame(x);if(_.glTexture&&_.glTexture.isRenderTexture)return this.setSampler2DBuffer(y,_.glTexture,_.width,_.height,b,w);var S=this.uniforms[y],T=_.source;S.textureKey=x,S.source=T.image,S.value=_.glTexture,T.isGLTexture&&(w||(w={}),w.width=T.width,w.height=T.height),w&&(S.textureData=w),this._textureCount=b,this.initSampler2D(S)}return this},setUniform:function(y,x){return d(this.uniforms,y,x),this},getUniform:function(y){return c(this.uniforms,y,null)},setChannel0:function(y,x){return this.setSampler2D("iChannel0",y,0,x)},setChannel1:function(y,x){return this.setSampler2D("iChannel1",y,1,x)},setChannel2:function(y,x){return this.setSampler2D("iChannel2",y,2,x)},setChannel3:function(y,x){return this.setSampler2D("iChannel3",y,3,x)},initSampler2D:function(y){if(y.value){var x=y.textureData;if(x&&!y.value.isRenderTexture){var b=this.gl,w=y.value,C=b[c(x,"magFilter","linear").toUpperCase()],_=b[c(x,"minFilter","linear").toUpperCase()],S=b[c(x,"wrapS","repeat").toUpperCase()],T=b[c(x,"wrapT","repeat").toUpperCase()],A=b[c(x,"format","rgba").toUpperCase()],M=c(x,"flipY",!1),I=c(x,"width",w.width),D=c(x,"height",w.height),k=c(x,"source",w.pixels);x.repeat&&(S=b.REPEAT,T=b.REPEAT),x.width&&(k=null),w.update(k,I,D,M,S,T,_,C,A)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var y=this.gl,x=this.uniforms,b,w,C,_,S,T=0;for(var A in x)b=x[A],C=b.glFunc,w=b.glValueLength,_=b.uniformLocation,S=b.value,S!==null&&(w===1?b.glMatrix?C.call(y,_.webGLUniformLocation,b.transpose,S):C.call(y,_.webGLUniformLocation,S):w===2?C.call(y,_.webGLUniformLocation,S.x,S.y):w===3?C.call(y,_.webGLUniformLocation,S.x,S.y,S.z):w===4?C.call(y,_.webGLUniformLocation,S.x,S.y,S.z,S.w):b.type==="sampler2D"&&(y.activeTexture(y.TEXTURE0+T),y.bindTexture(y.TEXTURE_2D,S.webGLTexture),y.uniform1i(_.webGLUniformLocation,T),T++))},load:function(y){var x=this.gl,b=this.width,w=this.height,C=this.renderer,_=this.program,S=this.viewMatrix;if(!this.renderToTexture){var T=-this._displayOriginX,A=-this._displayOriginY;S[0]=y[0],S[1]=y[1],S[4]=y[2],S[5]=y[3],S[8]=y[4],S[9]=y[5],S[12]=S[0]*T+S[4]*A,S[13]=S[1]*T+S[5]*A}x.useProgram(_.webGLProgram),x.uniformMatrix4fv(x.getUniformLocation(_.webGLProgram,"uViewMatrix"),!1,S),x.uniformMatrix4fv(x.getUniformLocation(_.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),x.uniform2f(x.getUniformLocation(_.webGLProgram,"uResolution"),this.width,this.height);var M=this.uniforms,I=M.resolution;I.value.x=b,I.value.y=w,M.time.value=C.game.loop.getDuration();var D=this.pointer;if(D){var k=M.mouse,G=D.x/b,R=1-D.y/w;k.value.x=G.toFixed(2),k.value.y=R.toFixed(2)}this.syncUniforms()},flush:function(){var y=this.width,x=this.height,b=this.program,w=this.gl,C=this.vertexBuffer,_=this.renderer,S=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(_.setFramebuffer(this.framebuffer),w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT)),w.bindBuffer(w.ARRAY_BUFFER,C.webGLBuffer);var T=w.getAttribLocation(b.webGLProgram,"inPosition");T!==-1&&(w.enableVertexAttribArray(T),w.vertexAttribPointer(T,2,w.FLOAT,!1,S,0));var A=this.vertexViewF32;A[3]=x,A[4]=y,A[5]=x,A[8]=y,A[9]=x,A[10]=y;var M=6;w.bufferSubData(w.ARRAY_BUFFER,0,this.bytes.subarray(0,M*S)),w.drawArrays(w.TRIANGLES,0,M),this.renderToTexture&&_.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var y=this._deferSetShader.key,x=this._deferSetShader.textures,b=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(y,x,b)}if(this._deferProjOrtho!==null){var w=this._deferProjOrtho.left,C=this._deferProjOrtho.right,_=this._deferProjOrtho.bottom,S=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(w,C,_,S)}},preDestroy:function(){var y=this.renderer;y.off(g.RESTORE_WEBGL,this.onContextRestored,this),y.deleteProgram(this.program),y.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(y.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),p(this.uniforms,function(x){y.deleteUniformLocation(x.uniformLocation),x.uniformLocation=null})}});n.exports=v},80464:n=>{var a=function(){};n.exports=a},54935:(n,a,s)=>{var o=s(25305),u=s(44603),l=s(23568),c=s(20071);u.register("shader",function(h,d){h===void 0&&(h={});var f=l(h,"key",null),m=l(h,"x",0),p=l(h,"y",0),g=l(h,"width",128),v=l(h,"height",128),y=new c(this.scene,f,m,p,g,v);return d!==void 0&&(h.add=d),o(this.scene,y,h),y})},74177:(n,a,s)=>{var o=s(20071),u=s(39429);u.register("shader",function(l,c,h,d,f,m,p){return this.displayList.add(new o(this.scene,l,c,h,d,f,m,p))})},25479:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(19257),l=s(80464),n.exports={renderWebGL:u,renderCanvas:l}},19257:(n,a,s)=>{var o=s(91296),u=function(l,c,h,d){if(c.shader){if(h.addToRenderList(c),l.pipelines.clear(),c.renderToTexture)c.load(),c.flush();else{var f=o(c,h,d).calc;(l.width!==c._rendererWidth||l.height!==c._rendererHeight)&&c.projOrtho(0,l.width,l.height,0),c.load(f.matrix),c.flush()}l.pipelines.rebind()}};n.exports=u},10441:(n,a,s)=>{var o=s(70554),u=function(l,c,h,d,f,m){for(var p=o.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*d),g=h.pathData,v=h.pathIndexes,y=0;y<v.length;y+=3){var x=v[y]*2,b=v[y+1]*2,w=v[y+2]*2,C=g[x+0]-f,_=g[x+1]-m,S=g[b+0]-f,T=g[b+1]-m,A=g[w+0]-f,M=g[w+1]-m,I=c.getX(C,_),D=c.getY(C,_),k=c.getX(S,T),G=c.getY(S,T),R=c.getX(A,M),H=c.getY(A,M);l.batchTri(h,I,D,k,G,R,H,0,0,1,1,p,p,p,2)}};n.exports=u},65960:n=>{var a=function(s,o,u,l){var c=u||o.fillColor,h=l||o.fillAlpha,d=(c&16711680)>>>16,f=(c&65280)>>>8,m=c&255;s.fillStyle="rgba("+d+","+f+","+m+","+h+")"};n.exports=a},75177:n=>{var a=function(s,o,u,l){var c=u||o.strokeColor,h=l||o.strokeAlpha,d=(c&16711680)>>>16,f=(c&65280)>>>8,m=c&255;s.strokeStyle="rgba("+d+","+f+","+m+","+h+")",s.lineWidth=o.lineWidth};n.exports=a},17803:(n,a,s)=>{var o=s(83419),u=s(31401),l=s(95643),c=s(23031),h=new o({Extends:l,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Transform,u.Visible],initialize:function(f,m,p){m===void 0&&(m="Shape"),l.call(this,f,m),this.geom=p,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new c,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(d,f){return f===void 0&&(f=1),d===void 0?this.isFilled=!1:(this.fillColor=d,this.fillAlpha=f,this.isFilled=!0),this},setStrokeStyle:function(d,f,m){return m===void 0&&(m=1),d===void 0?this.isStroked=!1:(this.lineWidth=d,this.strokeColor=f,this.strokeAlpha=m,this.isStroked=!0),this},setClosePath:function(d){return this.closePath=d,this},setSize:function(d,f){return this.width=d,this.height=f,this},setDisplaySize:function(d,f){return this.displayWidth=d,this.displayHeight=f,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}}});n.exports=h},34682:(n,a,s)=>{var o=s(70554),u=function(l,c,h,d,f){var m=l.strokeTint,p=o.getTintAppendFloatAlpha(c.strokeColor,c.strokeAlpha*h);m.TL=p,m.TR=p,m.BL=p,m.BR=p;var g=c.pathData,v=g.length-1,y=c.lineWidth,x=y/2,b=g[0]-d,w=g[1]-f;c.closePath||(v-=2);for(var C=2;C<v;C+=2){var _=g[C]-d,S=g[C+1]-f;l.batchLine(b,w,_,S,x,x,y,C-2,c.closePath?C===v-1:!1),b=_,w=S}};n.exports=u},23629:(n,a,s)=>{var o=s(13609),u=s(83419),l=s(39506),c=s(94811),h=s(96503),d=s(36383),f=s(17803),m=new u({Extends:f,Mixins:[o],initialize:function(g,v,y,x,b,w,C,_,S){v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=128),b===void 0&&(b=0),w===void 0&&(w=360),C===void 0&&(C=!1),f.call(this,g,"Arc",new h(0,0,x)),this._startAngle=b,this._endAngle=w,this._anticlockwise=C,this._iterations=.01,this.setPosition(v,y);var T=this.geom.radius*2;this.setSize(T,T),_!==void 0&&this.setFillStyle(_,S),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(p){this._iterations=p,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(p){this.geom.radius=p;var g=p*2;this.setSize(g,g),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(p){this._startAngle=p,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(p){this._endAngle=p,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(p){this._anticlockwise=p,this.updateData()}},setRadius:function(p){return this.radius=p,this},setIterations:function(p){return p===void 0&&(p=.01),this.iterations=p,this},setStartAngle:function(p,g){return this._startAngle=p,g!==void 0&&(this._anticlockwise=g),this.updateData()},setEndAngle:function(p,g){return this._endAngle=p,g!==void 0&&(this._anticlockwise=g),this.updateData()},updateData:function(){var p=this._iterations,g=p,v=this.geom.radius,y=l(this._startAngle),x=l(this._endAngle),b=this._anticlockwise,w=v,C=v;x-=y,b?x<-d.PI2?x=-d.PI2:x>0&&(x=-d.PI2+x%d.PI2):x>d.PI2?x=d.PI2:x<0&&(x=d.PI2+x%d.PI2);for(var _=[w+Math.cos(y)*v,C+Math.sin(y)*v],S;g<1;)S=x*g+y,_.push(w+Math.cos(S)*v,C+Math.sin(S)*v),g+=p;return S=x+y,_.push(w+Math.cos(S)*v,C+Math.sin(S)*v),_.push(w+Math.cos(y)*v,C+Math.sin(y)*v),this.pathIndexes=c(_),this.pathData=_,this}});n.exports=m},42542:(n,a,s)=>{var o=s(39506),u=s(65960),l=s(75177),c=s(20926),h=function(d,f,m,p){m.addToRenderList(f);var g=d.currentContext;if(c(d,g,f,m,p)){var v=f.radius;g.beginPath(),g.arc(v-f.originX*(v*2),v-f.originY*(v*2),v,o(f._startAngle),o(f._endAngle),f.anticlockwise),f.closePath&&g.closePath(),f.isFilled&&(u(g,f),g.fill()),f.isStroked&&(l(g,f),g.stroke()),g.restore()}};n.exports=h},42563:(n,a,s)=>{var o=s(23629),u=s(39429);u.register("arc",function(l,c,h,d,f,m,p,g){return this.displayList.add(new o(this.scene,l,c,h,d,f,m,p,g))}),u.register("circle",function(l,c,h,d,f){return this.displayList.add(new o(this.scene,l,c,h,0,360,!1,d,f))})},13609:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(41447),l=s(42542),n.exports={renderWebGL:u,renderCanvas:l}},41447:(n,a,s)=>{var o=s(91296),u=s(10441),l=s(34682),c=function(h,d,f,m){f.addToRenderList(d);var p=h.pipelines.set(d.pipeline),g=o(d,f,m),v=p.calcMatrix.copyFrom(g.calc),y=d._displayOriginX,x=d._displayOriginY,b=f.alpha*d.alpha;h.pipelines.preBatch(d),d.isFilled&&u(p,v,d,b,y,x),d.isStroked&&l(p,d,b,y,x),h.pipelines.postBatch(d)};n.exports=c},89:(n,a,s)=>{var o=s(83419),u=s(33141),l=s(94811),c=s(87841),h=s(17803),d=new o({Extends:h,Mixins:[u],initialize:function(m,p,g,v,y,x){p===void 0&&(p=0),g===void 0&&(g=0),h.call(this,m,"Curve",v),this._smoothness=32,this._curveBounds=new c,this.closePath=!1,this.setPosition(p,g),y!==void 0&&this.setFillStyle(y,x),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(f){this._smoothness=f,this.updateData()}},setSmoothness:function(f){return this._smoothness=f,this.updateData()},updateData:function(){var f=this._curveBounds,m=this._smoothness;this.geom.getBounds(f,m),this.setSize(f.width,f.height),this.updateDisplayOrigin();for(var p=[],g=this.geom.getPoints(m),v=0;v<g.length;v++)p.push(g[v].x,g[v].y);return p.push(g[0].x,g[0].y),this.pathIndexes=l(p),this.pathData=p,this}});n.exports=d},3170:(n,a,s)=>{var o=s(65960),u=s(75177),l=s(20926),c=function(h,d,f,m){f.addToRenderList(d);var p=h.currentContext;if(l(h,p,d,f,m)){var g=d._displayOriginX+d._curveBounds.x,v=d._displayOriginY+d._curveBounds.y,y=d.pathData,x=y.length-1,b=y[0]-g,w=y[1]-v;p.beginPath(),p.moveTo(b,w),d.closePath||(x-=2);for(var C=2;C<x;C+=2){var _=y[C]-g,S=y[C+1]-v;p.lineTo(_,S)}d.closePath&&p.closePath(),d.isFilled&&(o(p,d),p.fill()),d.isStroked&&(u(p,d),p.stroke()),p.restore()}};n.exports=c},40511:(n,a,s)=>{var o=s(39429),u=s(89);o.register("curve",function(l,c,h,d,f){return this.displayList.add(new u(this.scene,l,c,h,d,f))})},33141:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(53987),l=s(3170),n.exports={renderWebGL:u,renderCanvas:l}},53987:(n,a,s)=>{var o=s(10441),u=s(91296),l=s(34682),c=function(h,d,f,m){f.addToRenderList(d);var p=h.pipelines.set(d.pipeline),g=u(d,f,m),v=p.calcMatrix.copyFrom(g.calc),y=d._displayOriginX+d._curveBounds.x,x=d._displayOriginY+d._curveBounds.y,b=f.alpha*d.alpha;h.pipelines.preBatch(d),d.isFilled&&o(p,v,d,b,y,x),d.isStroked&&l(p,d,b,y,x),h.pipelines.postBatch(d)};n.exports=c},19921:(n,a,s)=>{var o=s(83419),u=s(94811),l=s(54205),c=s(8497),h=s(17803),d=new o({Extends:h,Mixins:[l],initialize:function(m,p,g,v,y,x,b){p===void 0&&(p=0),g===void 0&&(g=0),v===void 0&&(v=128),y===void 0&&(y=128),h.call(this,m,"Ellipse",new c(v/2,y/2,v,y)),this._smoothness=64,this.setPosition(p,g),this.width=v,this.height=y,x!==void 0&&this.setFillStyle(x,b),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(f){this._smoothness=f,this.updateData()}},setSize:function(f,m){return this.width=f,this.height=m,this.geom.setPosition(f/2,m/2),this.geom.setSize(f,m),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(f){return this._smoothness=f,this.updateData()},updateData:function(){for(var f=[],m=this.geom.getPoints(this._smoothness),p=0;p<m.length;p++)f.push(m[p].x,m[p].y);return f.push(m[0].x,m[0].y),this.pathIndexes=u(f),this.pathData=f,this}});n.exports=d},7930:(n,a,s)=>{var o=s(65960),u=s(75177),l=s(20926),c=function(h,d,f,m){f.addToRenderList(d);var p=h.currentContext;if(l(h,p,d,f,m)){var g=d._displayOriginX,v=d._displayOriginY,y=d.pathData,x=y.length-1,b=y[0]-g,w=y[1]-v;p.beginPath(),p.moveTo(b,w),d.closePath||(x-=2);for(var C=2;C<x;C+=2){var _=y[C]-g,S=y[C+1]-v;p.lineTo(_,S)}p.closePath(),d.isFilled&&(o(p,d),p.fill()),d.isStroked&&(u(p,d),p.stroke()),p.restore()}};n.exports=c},1543:(n,a,s)=>{var o=s(19921),u=s(39429);u.register("ellipse",function(l,c,h,d,f,m){return this.displayList.add(new o(this.scene,l,c,h,d,f,m))})},54205:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(19467),l=s(7930),n.exports={renderWebGL:u,renderCanvas:l}},19467:(n,a,s)=>{var o=s(10441),u=s(91296),l=s(34682),c=function(h,d,f,m){f.addToRenderList(d);var p=h.pipelines.set(d.pipeline),g=u(d,f,m),v=p.calcMatrix.copyFrom(g.calc),y=d._displayOriginX,x=d._displayOriginY,b=f.alpha*d.alpha;h.pipelines.preBatch(d),d.isFilled&&o(p,v,d,b,y,x),d.isStroked&&l(p,d,b,y,x),h.pipelines.postBatch(d)};n.exports=c},30479:(n,a,s)=>{var o=s(83419),u=s(17803),l=s(26015),c=new o({Extends:u,Mixins:[l],initialize:function(d,f,m,p,g,v,y,x,b,w,C){f===void 0&&(f=0),m===void 0&&(m=0),p===void 0&&(p=128),g===void 0&&(g=128),v===void 0&&(v=32),y===void 0&&(y=32),u.call(this,d,"Grid",null),this.cellWidth=v,this.cellHeight=y,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(f,m),this.setSize(p,g),this.setFillStyle(x,b),w!==void 0&&this.setOutlineStyle(w,C),this.updateDisplayOrigin()},setFillStyle:function(h,d){return d===void 0&&(d=1),h===void 0?this.showCells=!1:(this.fillColor=h,this.fillAlpha=d,this.showCells=!0),this},setAltFillStyle:function(h,d){return d===void 0&&(d=1),h===void 0?this.showAltCells=!1:(this.altFillColor=h,this.altFillAlpha=d,this.showAltCells=!0),this},setOutlineStyle:function(h,d){return d===void 0&&(d=1),h===void 0?this.showOutline=!1:(this.outlineFillColor=h,this.outlineFillAlpha=d,this.showOutline=!0),this}});n.exports=c},49912:(n,a,s)=>{var o=s(65960),u=s(75177),l=s(20926),c=function(h,d,f,m){f.addToRenderList(d);var p=h.currentContext;if(l(h,p,d,f,m)){var g=-d._displayOriginX,v=-d._displayOriginY,y=f.alpha*d.alpha,x=d.width,b=d.height,w=d.cellWidth,C=d.cellHeight,_=Math.ceil(x/w),S=Math.ceil(b/C),T=w,A=C,M=w-(_*w-x),I=C-(S*C-b),D=d.showCells,k=d.showAltCells,G=d.showOutline,R=0,H=0,j=0,Z=0,ee=0;if(G&&(T--,A--,M===w&&M--,I===C&&I--),D&&d.fillAlpha>0)for(o(p,d),H=0;H<S;H++)for(k&&(j=H%2),R=0;R<_;R++){if(k&&j){j=0;continue}j++,Z=R<_-1?T:M,ee=H<S-1?A:I,p.fillRect(g+R*w,v+H*C,Z,ee)}if(k&&d.altFillAlpha>0)for(o(p,d,d.altFillColor,d.altFillAlpha*y),H=0;H<S;H++)for(k&&(j=H%2),R=0;R<_;R++){if(k&&!j){j=1;continue}j=0,Z=R<_-1?T:M,ee=H<S-1?A:I,p.fillRect(g+R*w,v+H*C,Z,ee)}if(G&&d.outlineFillAlpha>0){for(u(p,d,d.outlineFillColor,d.outlineFillAlpha*y),R=1;R<_;R++){var Y=R*w;p.beginPath(),p.moveTo(Y+g,v),p.lineTo(Y+g,b+v),p.stroke()}for(H=1;H<S;H++){var V=H*C;p.beginPath(),p.moveTo(g,V+v),p.lineTo(g+x,V+v),p.stroke()}}p.restore()}};n.exports=c},34137:(n,a,s)=>{var o=s(39429),u=s(30479);o.register("grid",function(l,c,h,d,f,m,p,g,v,y){return this.displayList.add(new u(this.scene,l,c,h,d,f,m,p,g,v,y))})},26015:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(46161),l=s(49912),n.exports={renderWebGL:u,renderCanvas:l}},46161:(n,a,s)=>{var o=s(91296),u=s(70554),l=function(c,h,d,f){d.addToRenderList(h);var m=c.pipelines.set(h.pipeline),p=o(h,d,f),g=m.calcMatrix.copyFrom(p.calc);g.translate(-h._displayOriginX,-h._displayOriginY);var v=d.alpha*h.alpha,y=h.width,x=h.height,b=h.cellWidth,w=h.cellHeight,C=Math.ceil(y/b),_=Math.ceil(x/w),S=b,T=w,A=b-(C*b-y),M=w-(_*w-x),I,D,k=h.showCells,G=h.showAltCells,R=h.showOutline,H=0,j=0,Z=0,ee=0,Y=0;if(R&&(S--,T--,A===b&&A--,M===w&&M--),c.pipelines.preBatch(h),k&&h.fillAlpha>0)for(I=m.fillTint,D=u.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*v),I.TL=D,I.TR=D,I.BL=D,I.BR=D,j=0;j<_;j++)for(G&&(Z=j%2),H=0;H<C;H++){if(G&&Z){Z=0;continue}Z++,ee=H<C-1?S:A,Y=j<_-1?T:M,m.batchFillRect(H*b,j*w,ee,Y)}if(G&&h.altFillAlpha>0)for(I=m.fillTint,D=u.getTintAppendFloatAlpha(h.altFillColor,h.altFillAlpha*v),I.TL=D,I.TR=D,I.BL=D,I.BR=D,j=0;j<_;j++)for(G&&(Z=j%2),H=0;H<C;H++){if(G&&!Z){Z=1;continue}Z=0,ee=H<C-1?S:A,Y=j<_-1?T:M,m.batchFillRect(H*b,j*w,ee,Y)}if(R&&h.outlineFillAlpha>0){var V=m.strokeTint,O=u.getTintAppendFloatAlpha(h.outlineFillColor,h.outlineFillAlpha*v);for(V.TL=O,V.TR=O,V.BL=O,V.BR=O,H=1;H<C;H++){var F=H*b;m.batchLine(F,0,F,x,1,1,1,0,!1)}for(j=1;j<_;j++){var X=j*w;m.batchLine(0,X,y,X,1,1,1,0,!1)}}c.pipelines.postBatch(h)};n.exports=l},61475:(n,a,s)=>{var o=s(99651),u=s(83419),l=s(17803),c=new u({Extends:l,Mixins:[o],initialize:function(d,f,m,p,g,v,y,x){f===void 0&&(f=0),m===void 0&&(m=0),p===void 0&&(p=48),g===void 0&&(g=32),v===void 0&&(v=15658734),y===void 0&&(y=10066329),x===void 0&&(x=13421772),l.call(this,d,"IsoBox",null),this.projection=4,this.fillTop=v,this.fillLeft=y,this.fillRight=x,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(f,m),this.setSize(p,g),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setFaces:function(h,d,f){return h===void 0&&(h=!0),d===void 0&&(d=!0),f===void 0&&(f=!0),this.showTop=h,this.showLeft=d,this.showRight=f,this},setFillStyle:function(h,d,f){return this.fillTop=h,this.fillLeft=d,this.fillRight=f,this.isFilled=!0,this}});n.exports=c},11508:(n,a,s)=>{var o=s(65960),u=s(20926),l=function(c,h,d,f){d.addToRenderList(h);var m=c.currentContext;if(u(c,m,h,d,f)&&h.isFilled){var p=h.width,g=h.height,v=p/2,y=p/h.projection;h.showTop&&(o(m,h,h.fillTop),m.beginPath(),m.moveTo(-v,-g),m.lineTo(0,-y-g),m.lineTo(v,-g),m.lineTo(v,-1),m.lineTo(0,y-1),m.lineTo(-v,-1),m.lineTo(-v,-g),m.fill()),h.showLeft&&(o(m,h,h.fillLeft),m.beginPath(),m.moveTo(-v,0),m.lineTo(0,y),m.lineTo(0,y-g),m.lineTo(-v,-g),m.lineTo(-v,0),m.fill()),h.showRight&&(o(m,h,h.fillRight),m.beginPath(),m.moveTo(v,0),m.lineTo(0,y),m.lineTo(0,y-g),m.lineTo(v,-g),m.lineTo(v,0),m.fill()),m.restore()}};n.exports=l},3933:(n,a,s)=>{var o=s(39429),u=s(61475);o.register("isobox",function(l,c,h,d,f,m,p){return this.displayList.add(new u(this.scene,l,c,h,d,f,m,p))})},99651:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(68149),l=s(11508),n.exports={renderWebGL:u,renderCanvas:l}},68149:(n,a,s)=>{var o=s(91296),u=s(70554),l=function(c,h,d,f){d.addToRenderList(h);var m=c.pipelines.set(h.pipeline),p=o(h,d,f),g=m.calcMatrix.copyFrom(p.calc),v=h.width,y=h.height,x=v/2,b=v/h.projection,w=d.alpha*h.alpha;if(h.isFilled){var C,_,S,T,A,M,I,D,k;c.pipelines.preBatch(h),h.showTop&&(C=u.getTintAppendFloatAlpha(h.fillTop,w),_=g.getX(-x,-y),S=g.getY(-x,-y),T=g.getX(0,-b-y),A=g.getY(0,-b-y),M=g.getX(x,-y),I=g.getY(x,-y),D=g.getX(0,b-y),k=g.getY(0,b-y),m.batchQuad(h,_,S,T,A,M,I,D,k,0,0,1,1,C,C,C,C,2)),h.showLeft&&(C=u.getTintAppendFloatAlpha(h.fillLeft,w),_=g.getX(-x,0),S=g.getY(-x,0),T=g.getX(0,b),A=g.getY(0,b),M=g.getX(0,b-y),I=g.getY(0,b-y),D=g.getX(-x,-y),k=g.getY(-x,-y),m.batchQuad(h,_,S,T,A,M,I,D,k,0,0,1,1,C,C,C,C,2)),h.showRight&&(C=u.getTintAppendFloatAlpha(h.fillRight,w),_=g.getX(x,0),S=g.getY(x,0),T=g.getX(0,b),A=g.getY(0,b),M=g.getX(0,b-y),I=g.getY(0,b-y),D=g.getX(x,-y),k=g.getY(x,-y),m.batchQuad(h,_,S,T,A,M,I,D,k,0,0,1,1,C,C,C,C,2)),c.pipelines.postBatch(h)}};n.exports=l},16933:(n,a,s)=>{var o=s(83419),u=s(60561),l=s(17803),c=new o({Extends:l,Mixins:[u],initialize:function(d,f,m,p,g,v,y,x,b){f===void 0&&(f=0),m===void 0&&(m=0),p===void 0&&(p=48),g===void 0&&(g=32),v===void 0&&(v=!1),y===void 0&&(y=15658734),x===void 0&&(x=10066329),b===void 0&&(b=13421772),l.call(this,d,"IsoTriangle",null),this.projection=4,this.fillTop=y,this.fillLeft=x,this.fillRight=b,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=v,this.isFilled=!0,this.setPosition(f,m),this.setSize(p,g),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setReversed:function(h){return this.isReversed=h,this},setFaces:function(h,d,f){return h===void 0&&(h=!0),d===void 0&&(d=!0),f===void 0&&(f=!0),this.showTop=h,this.showLeft=d,this.showRight=f,this},setFillStyle:function(h,d,f){return this.fillTop=h,this.fillLeft=d,this.fillRight=f,this.isFilled=!0,this}});n.exports=c},79590:(n,a,s)=>{var o=s(65960),u=s(20926),l=function(c,h,d,f){d.addToRenderList(h);var m=c.currentContext;if(u(c,m,h,d,f)&&h.isFilled){var p=h.width,g=h.height,v=p/2,y=p/h.projection,x=h.isReversed;h.showTop&&x&&(o(m,h,h.fillTop),m.beginPath(),m.moveTo(-v,-g),m.lineTo(0,-y-g),m.lineTo(v,-g),m.lineTo(0,y-g),m.fill()),h.showLeft&&(o(m,h,h.fillLeft),m.beginPath(),x?(m.moveTo(-v,-g),m.lineTo(0,y),m.lineTo(0,y-g)):(m.moveTo(-v,0),m.lineTo(0,y),m.lineTo(0,y-g)),m.fill()),h.showRight&&(o(m,h,h.fillRight),m.beginPath(),x?(m.moveTo(v,-g),m.lineTo(0,y),m.lineTo(0,y-g)):(m.moveTo(v,0),m.lineTo(0,y),m.lineTo(0,y-g)),m.fill()),m.restore()}};n.exports=l},49803:(n,a,s)=>{var o=s(39429),u=s(16933);o.register("isotriangle",function(l,c,h,d,f,m,p,g){return this.displayList.add(new u(this.scene,l,c,h,d,f,m,p,g))})},60561:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(51503),l=s(79590),n.exports={renderWebGL:u,renderCanvas:l}},51503:(n,a,s)=>{var o=s(91296),u=s(70554),l=function(c,h,d,f){d.addToRenderList(h);var m=c.pipelines.set(h.pipeline),p=o(h,d,f),g=m.calcMatrix.copyFrom(p.calc),v=h.width,y=h.height,x=v/2,b=v/h.projection,w=h.isReversed,C=d.alpha*h.alpha;if(h.isFilled){c.pipelines.preBatch(h);var _,S,T,A,M,I,D;if(h.showTop&&w){_=u.getTintAppendFloatAlpha(h.fillTop,C),S=g.getX(-x,-y),T=g.getY(-x,-y),A=g.getX(0,-b-y),M=g.getY(0,-b-y),I=g.getX(x,-y),D=g.getY(x,-y);var k=g.getX(0,b-y),G=g.getY(0,b-y);m.batchQuad(h,S,T,A,M,I,D,k,G,0,0,1,1,_,_,_,_,2)}h.showLeft&&(_=u.getTintAppendFloatAlpha(h.fillLeft,C),w?(S=g.getX(-x,-y),T=g.getY(-x,-y),A=g.getX(0,b),M=g.getY(0,b),I=g.getX(0,b-y),D=g.getY(0,b-y)):(S=g.getX(-x,0),T=g.getY(-x,0),A=g.getX(0,b),M=g.getY(0,b),I=g.getX(0,b-y),D=g.getY(0,b-y)),m.batchTri(h,S,T,A,M,I,D,0,0,1,1,_,_,_,2)),h.showRight&&(_=u.getTintAppendFloatAlpha(h.fillRight,C),w?(S=g.getX(x,-y),T=g.getY(x,-y),A=g.getX(0,b),M=g.getY(0,b),I=g.getX(0,b-y),D=g.getY(0,b-y)):(S=g.getX(x,0),T=g.getY(x,0),A=g.getX(0,b),M=g.getY(0,b),I=g.getX(0,b-y),D=g.getY(0,b-y)),m.batchTri(h,S,T,A,M,I,D,0,0,1,1,_,_,_,2)),c.pipelines.postBatch(h)}};n.exports=l},57847:(n,a,s)=>{var o=s(83419),u=s(17803),l=s(23031),c=s(36823),h=new o({Extends:u,Mixins:[c],initialize:function(f,m,p,g,v,y,x,b,w){m===void 0&&(m=0),p===void 0&&(p=0),g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=128),x===void 0&&(x=0),u.call(this,f,"Line",new l(g,v,y,x));var C=Math.max(1,this.geom.right-this.geom.left),_=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(m,p),this.setSize(C,_),b!==void 0&&this.setStrokeStyle(1,b,w),this.updateDisplayOrigin()},setLineWidth:function(d,f){return f===void 0&&(f=d),this._startWidth=d,this._endWidth=f,this.lineWidth=d,this},setTo:function(d,f,m,p){return this.geom.setTo(d,f,m,p),this}});n.exports=h},17440:(n,a,s)=>{var o=s(75177),u=s(20926),l=function(c,h,d,f){d.addToRenderList(h);var m=c.currentContext;if(u(c,m,h,d,f)){var p=h._displayOriginX,g=h._displayOriginY;h.isStroked&&(o(m,h),m.beginPath(),m.moveTo(h.geom.x1-p,h.geom.y1-g),m.lineTo(h.geom.x2-p,h.geom.y2-g),m.stroke()),m.restore()}};n.exports=l},2481:(n,a,s)=>{var o=s(39429),u=s(57847);o.register("line",function(l,c,h,d,f,m,p,g){return this.displayList.add(new u(this.scene,l,c,h,d,f,m,p,g))})},36823:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(77385),l=s(17440),n.exports={renderWebGL:u,renderCanvas:l}},77385:(n,a,s)=>{var o=s(91296),u=s(70554),l=function(c,h,d,f){d.addToRenderList(h);var m=c.pipelines.set(h.pipeline),p=o(h,d,f);m.calcMatrix.copyFrom(p.calc);var g=h._displayOriginX,v=h._displayOriginY,y=d.alpha*h.alpha;if(c.pipelines.preBatch(h),h.isStroked){var x=m.strokeTint,b=u.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*y);x.TL=b,x.TR=b,x.BL=b,x.BR=b,m.batchLine(h.geom.x1-g,h.geom.y1-v,h.geom.x2-g,h.geom.y2-v,h._startWidth/2,h._endWidth/2,1,0,!1,p.sprite,p.camera)}c.pipelines.postBatch(h)};n.exports=l},24949:(n,a,s)=>{var o=s(90273),u=s(83419),l=s(94811),c=s(13829),h=s(25717),d=s(17803),f=s(5469),m=new u({Extends:d,Mixins:[o],initialize:function(g,v,y,x,b,w){v===void 0&&(v=0),y===void 0&&(y=0),d.call(this,g,"Polygon",new h(x));var C=c(this.geom);this.setPosition(v,y),this.setSize(C.width,C.height),b!==void 0&&this.setFillStyle(b,w),this.updateDisplayOrigin(),this.updateData()},smooth:function(p){p===void 0&&(p=1);for(var g=0;g<p;g++)f(this.geom);return this.updateData()},setTo:function(p){this.geom.setTo(p);var g=c(this.geom);return this.setSize(g.width,g.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var p=[],g=this.geom.points,v=0;v<g.length;v++)p.push(g[v].x,g[v].y);return p.push(g[0].x,g[0].y),this.pathIndexes=l(p),this.pathData=p,this}});n.exports=m},38710:(n,a,s)=>{var o=s(65960),u=s(75177),l=s(20926),c=function(h,d,f,m){f.addToRenderList(d);var p=h.currentContext;if(l(h,p,d,f,m)){var g=d._displayOriginX,v=d._displayOriginY,y=d.pathData,x=y.length-1,b=y[0]-g,w=y[1]-v;p.beginPath(),p.moveTo(b,w),d.closePath||(x-=2);for(var C=2;C<x;C+=2){var _=y[C]-g,S=y[C+1]-v;p.lineTo(_,S)}d.closePath&&p.closePath(),d.isFilled&&(o(p,d),p.fill()),d.isStroked&&(u(p,d),p.stroke()),p.restore()}};n.exports=c},64827:(n,a,s)=>{var o=s(39429),u=s(24949);o.register("polygon",function(l,c,h,d,f){return this.displayList.add(new u(this.scene,l,c,h,d,f))})},90273:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(73695),l=s(38710),n.exports={renderWebGL:u,renderCanvas:l}},73695:(n,a,s)=>{var o=s(10441),u=s(91296),l=s(34682),c=function(h,d,f,m){f.addToRenderList(d);var p=h.pipelines.set(d.pipeline),g=u(d,f,m),v=p.calcMatrix.copyFrom(g.calc),y=d._displayOriginX,x=d._displayOriginY,b=f.alpha*d.alpha;h.pipelines.preBatch(d),d.isFilled&&o(p,v,d,b,y,x),d.isStroked&&l(p,d,b,y,x),h.pipelines.postBatch(d)};n.exports=c},74561:(n,a,s)=>{var o=s(83419),u=s(87841),l=s(17803),c=s(95597),h=new o({Extends:l,Mixins:[c],initialize:function(f,m,p,g,v,y,x){m===void 0&&(m=0),p===void 0&&(p=0),g===void 0&&(g=128),v===void 0&&(v=128),l.call(this,f,"Rectangle",new u(0,0,g,v)),this.setPosition(m,p),this.setSize(g,v),y!==void 0&&this.setFillStyle(y,x),this.updateDisplayOrigin(),this.updateData()},setSize:function(d,f){this.width=d,this.height=f,this.geom.setSize(d,f),this.updateData(),this.updateDisplayOrigin();var m=this.input;return m&&!m.customHitArea&&(m.hitArea.width=d,m.hitArea.height=f),this},updateData:function(){var d=[],f=this.geom,m=this._tempLine;return f.getLineA(m),d.push(m.x1,m.y1,m.x2,m.y2),f.getLineB(m),d.push(m.x2,m.y2),f.getLineC(m),d.push(m.x2,m.y2),f.getLineD(m),d.push(m.x2,m.y2),this.pathData=d,this}});n.exports=h},48682:(n,a,s)=>{var o=s(65960),u=s(75177),l=s(20926),c=function(h,d,f,m){f.addToRenderList(d);var p=h.currentContext;if(l(h,p,d,f,m)){var g=d._displayOriginX,v=d._displayOriginY;d.isFilled&&(o(p,d),p.fillRect(-g,-v,d.width,d.height)),d.isStroked&&(u(p,d),p.beginPath(),p.rect(-g,-v,d.width,d.height),p.stroke()),p.restore()}};n.exports=c},87959:(n,a,s)=>{var o=s(39429),u=s(74561);o.register("rectangle",function(l,c,h,d,f,m){return this.displayList.add(new u(this.scene,l,c,h,d,f,m))})},95597:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(52059),l=s(48682),n.exports={renderWebGL:u,renderCanvas:l}},52059:(n,a,s)=>{var o=s(91296),u=s(34682),l=s(70554),c=function(h,d,f,m){f.addToRenderList(d);var p=h.pipelines.set(d.pipeline),g=o(d,f,m);p.calcMatrix.copyFrom(g.calc);var v=d._displayOriginX,y=d._displayOriginY,x=f.alpha*d.alpha;if(h.pipelines.preBatch(d),d.isFilled){var b=p.fillTint,w=l.getTintAppendFloatAlpha(d.fillColor,d.fillAlpha*x);b.TL=w,b.TR=w,b.BL=w,b.BR=w,p.batchFillRect(-v,-y,d.width,d.height)}d.isStroked&&u(p,d,x,v,y),h.pipelines.postBatch(d)};n.exports=c},55911:(n,a,s)=>{var o=s(81991),u=s(83419),l=s(94811),c=s(17803),h=new u({Extends:c,Mixins:[o],initialize:function(f,m,p,g,v,y,x,b){m===void 0&&(m=0),p===void 0&&(p=0),g===void 0&&(g=5),v===void 0&&(v=32),y===void 0&&(y=64),c.call(this,f,"Star",null),this._points=g,this._innerRadius=v,this._outerRadius=y,this.setPosition(m,p),this.setSize(y*2,y*2),x!==void 0&&this.setFillStyle(x,b),this.updateDisplayOrigin(),this.updateData()},setPoints:function(d){return this._points=d,this.updateData()},setInnerRadius:function(d){return this._innerRadius=d,this.updateData()},setOuterRadius:function(d){return this._outerRadius=d,this.updateData()},points:{get:function(){return this._points},set:function(d){this._points=d,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(d){this._innerRadius=d,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(d){this._outerRadius=d,this.updateData()}},updateData:function(){var d=[],f=this._points,m=this._innerRadius,p=this._outerRadius,g=Math.PI/2*3,v=Math.PI/f,y=p,x=p;d.push(y,x+-p);for(var b=0;b<f;b++)d.push(y+Math.cos(g)*p,x+Math.sin(g)*p),g+=v,d.push(y+Math.cos(g)*m,x+Math.sin(g)*m),g+=v;return d.push(y,x+-p),this.pathIndexes=l(d),this.pathData=d,this}});n.exports=h},64272:(n,a,s)=>{var o=s(65960),u=s(75177),l=s(20926),c=function(h,d,f,m){f.addToRenderList(d);var p=h.currentContext;if(l(h,p,d,f,m)){var g=d._displayOriginX,v=d._displayOriginY,y=d.pathData,x=y.length-1,b=y[0]-g,w=y[1]-v;p.beginPath(),p.moveTo(b,w),d.closePath||(x-=2);for(var C=2;C<x;C+=2){var _=y[C]-g,S=y[C+1]-v;p.lineTo(_,S)}p.closePath(),d.isFilled&&(o(p,d),p.fill()),d.isStroked&&(u(p,d),p.stroke()),p.restore()}};n.exports=c},93697:(n,a,s)=>{var o=s(55911),u=s(39429);u.register("star",function(l,c,h,d,f,m,p){return this.displayList.add(new o(this.scene,l,c,h,d,f,m,p))})},81991:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(57017),l=s(64272),n.exports={renderWebGL:u,renderCanvas:l}},57017:(n,a,s)=>{var o=s(10441),u=s(91296),l=s(34682),c=function(h,d,f,m){f.addToRenderList(d);var p=h.pipelines.set(d.pipeline),g=u(d,f,m),v=p.calcMatrix.copyFrom(g.calc),y=d._displayOriginX,x=d._displayOriginY,b=f.alpha*d.alpha;h.pipelines.preBatch(d),d.isFilled&&o(p,v,d,b,y,x),d.isStroked&&l(p,d,b,y,x),h.pipelines.postBatch(d)};n.exports=c},36931:(n,a,s)=>{var o=s(83419),u=s(17803),l=s(16483),c=s(96195),h=new o({Extends:u,Mixins:[c],initialize:function(f,m,p,g,v,y,x,b,w,C,_){m===void 0&&(m=0),p===void 0&&(p=0),g===void 0&&(g=0),v===void 0&&(v=128),y===void 0&&(y=64),x===void 0&&(x=0),b===void 0&&(b=128),w===void 0&&(w=128),u.call(this,f,"Triangle",new l(g,v,y,x,b,w));var S=this.geom.right-this.geom.left,T=this.geom.bottom-this.geom.top;this.setPosition(m,p),this.setSize(S,T),C!==void 0&&this.setFillStyle(C,_),this.updateDisplayOrigin(),this.updateData()},setTo:function(d,f,m,p,g,v){return this.geom.setTo(d,f,m,p,g,v),this.updateData()},updateData:function(){var d=[],f=this.geom,m=this._tempLine;return f.getLineA(m),d.push(m.x1,m.y1,m.x2,m.y2),f.getLineB(m),d.push(m.x2,m.y2),f.getLineC(m),d.push(m.x2,m.y2),this.pathData=d,this}});n.exports=h},85172:(n,a,s)=>{var o=s(65960),u=s(75177),l=s(20926),c=function(h,d,f,m){f.addToRenderList(d);var p=h.currentContext;if(l(h,p,d,f,m)){var g=d._displayOriginX,v=d._displayOriginY,y=d.geom.x1-g,x=d.geom.y1-v,b=d.geom.x2-g,w=d.geom.y2-v,C=d.geom.x3-g,_=d.geom.y3-v;p.beginPath(),p.moveTo(y,x),p.lineTo(b,w),p.lineTo(C,_),p.closePath(),d.isFilled&&(o(p,d),p.fill()),d.isStroked&&(u(p,d),p.stroke()),p.restore()}};n.exports=c},45245:(n,a,s)=>{var o=s(39429),u=s(36931);o.register("triangle",function(l,c,h,d,f,m,p,g,v,y){return this.displayList.add(new u(this.scene,l,c,h,d,f,m,p,g,v,y))})},96195:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(83253),l=s(85172),n.exports={renderWebGL:u,renderCanvas:l}},83253:(n,a,s)=>{var o=s(91296),u=s(34682),l=s(70554),c=function(h,d,f,m){f.addToRenderList(d);var p=h.pipelines.set(d.pipeline),g=o(d,f,m);p.calcMatrix.copyFrom(g.calc);var v=d._displayOriginX,y=d._displayOriginY,x=f.alpha*d.alpha;if(h.pipelines.preBatch(d),d.isFilled){var b=p.fillTint,w=l.getTintAppendFloatAlpha(d.fillColor,d.fillAlpha*x);b.TL=w,b.TR=w,b.BL=w,b.BR=w;var C=d.geom.x1-v,_=d.geom.y1-y,S=d.geom.x2-v,T=d.geom.y2-y,A=d.geom.x3-v,M=d.geom.y3-y;p.batchFillTriangle(C,_,S,T,A,M,g.sprite,g.camera)}d.isStroked&&u(p,d,x,v,y),h.pipelines.postBatch(d)};n.exports=c},68287:(n,a,s)=>{var o=s(9674),u=s(83419),l=s(31401),c=s(95643),h=s(92751),d=new u({Extends:c,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.TextureCrop,l.Tint,l.Transform,l.Visible,h],initialize:function(m,p,g,v,y){c.call(this,m,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(v,y),this.setPosition(p,g),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(f,m){this.anims.update(f,m)},play:function(f,m){return this.anims.play(f,m)},playReverse:function(f,m){return this.anims.playReverse(f,m)},playAfterDelay:function(f,m){return this.anims.playAfterDelay(f,m)},playAfterRepeat:function(f,m){return this.anims.playAfterRepeat(f,m)},chain:function(f){return this.anims.chain(f)},stop:function(){return this.anims.stop()},stopAfterDelay:function(f){return this.anims.stopAfterDelay(f)},stopAfterRepeat:function(f){return this.anims.stopAfterRepeat(f)},stopOnFrame:function(f){return this.anims.stopOnFrame(f)},toJSON:function(){return l.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});n.exports=d},76552:n=>{var a=function(s,o,u,l){u.addToRenderList(o),s.batchSprite(o,o.frame,u,l)};n.exports=a},15567:(n,a,s)=>{var o=s(25305),u=s(13059),l=s(44603),c=s(23568),h=s(68287);l.register("sprite",function(d,f){d===void 0&&(d={});var m=c(d,"key",null),p=c(d,"frame",null),g=new h(this.scene,0,0,m,p);return f!==void 0&&(d.add=f),o(this.scene,g,d),u(g,d),g})},46409:(n,a,s)=>{var o=s(39429),u=s(68287);o.register("sprite",function(l,c,h,d){return this.displayList.add(new u(this.scene,l,c,h,d))})},92751:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(9409),l=s(76552),n.exports={renderWebGL:u,renderCanvas:l}},9409:n=>{var a=function(s,o,u,l){u.addToRenderList(o),o.pipeline.batchSprite(o,u,l)};n.exports=a},14220:n=>{var a=function(s,o,u){var l=s.canvas,c=s.context,h=s.style,d=[],f=0,m=u.length;h.maxLines>0&&h.maxLines<u.length&&(m=h.maxLines),h.syncFont(l,c);for(var p=s.letterSpacing,g=0;g<m;g++){var v=h.strokeThickness;if(p===0)v+=c.measureText(u[g]).width;else{for(var y=u[g],x=0;x<y.length;x++)v+=c.measureText(y[x]).width;y.length>1&&(v+=p*(y.length-1))}h.wordWrap&&(v-=c.measureText(" ").width),d[g]=Math.ceil(v),f=Math.max(f,d[g])}var b=o.fontSize+h.strokeThickness,w=b*m,C=s.lineSpacing;return m>1&&(w+=C*(m-1)),{width:f,height:w,lines:m,lineWidths:d,lineSpacing:C,lineHeight:b}};n.exports=a},79557:(n,a,s)=>{var o=s(27919),u=function(l){var c=o.create(this),h=c.getContext("2d",{willReadFrequently:!0});l.syncFont(c,h);var d=h.measureText(l.testString);if("actualBoundingBoxAscent"in d){var f=d.actualBoundingBoxAscent,m=d.actualBoundingBoxDescent;return o.remove(c),{ascent:f,descent:m,fontSize:f+m}}var p=Math.ceil(d.width*l.baselineX),g=p,v=2*g;g=g*l.baselineY|0,c.width=p,c.height=v,h.fillStyle="#f00",h.fillRect(0,0,p,v),h.font=l._font,h.textBaseline="alphabetic",h.fillStyle="#000",h.fillText(l.testString,0,g);var y={ascent:0,descent:0,fontSize:0},x=h.getImageData(0,0,p,v);if(!x)return y.ascent=g,y.descent=g+6,y.fontSize=y.ascent+y.descent,o.remove(c),y;var b=x.data,w=b.length,C=p*4,_,S,T=0,A=!1;for(_=0;_<g;_++){for(S=0;S<C;S+=4)if(b[T+S]!==255){A=!0;break}if(!A)T+=C;else break}for(y.ascent=g-_,T=w-C,A=!1,_=v;_>g;_--){for(S=0;S<C;S+=4)if(b[T+S]!==255){A=!0;break}if(!A)T-=C;else break}return y.descent=_-g,y.fontSize=y.ascent+y.descent,o.remove(c),y};n.exports=u},50171:(n,a,s)=>{var o=s(40366),u=s(27919),l=s(83419),c=s(31401),h=s(95643),d=s(14220),f=s(35154),m=s(35846),p=s(61771),g=s(35762),v=s(45650),y=new l({Extends:h,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Crop,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Tint,c.Transform,c.Visible,p],initialize:function(b,w,C,_,S){w===void 0&&(w=0),C===void 0&&(C=0),h.call(this,b,"Text"),this.renderer=b.sys.renderer,this.setPosition(w,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=u.create(this),this.context,this.style=new g(this,S),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=b.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(_),S&&S.padding&&this.setPadding(S.padding),S&&S.lineSpacing&&this.setLineSpacing(S.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(x){var b=this.style;if(b.wordWrapCallback){var w=b.wordWrapCallback.call(b.wordWrapCallbackScope,x,this);return Array.isArray(w)&&(w=w.join(`
`)),w}else return b.wordWrapWidth?b.wordWrapUseAdvanced?this.advancedWordWrap(x,this.context,this.style.wordWrapWidth):this.basicWordWrap(x,this.context,this.style.wordWrapWidth):x},advancedWordWrap:function(x,b,w){for(var C="",_=x.replace(/ +/gi," ").split(this.splitRegExp),S=_.length,T=0;T<S;T++){var A=_[T],M="";A=A.replace(/^ *|\s*$/gi,"");var I=b.measureText(A).width;if(I<w){C+=A+`
`;continue}for(var D=w,k=A.split(" "),G=0;G<k.length;G++){var R=k[G],H=R+" ",j=b.measureText(H).width;if(j>D){if(G===0){for(var Z=H;Z.length&&(Z=Z.slice(0,-1),j=b.measureText(Z).width,!(j<=D)););if(!Z.length)throw new Error("wordWrapWidth < a single character");var ee=R.substr(Z.length);k[G]=ee,M+=Z}var Y=k[G].length?G:G+1,V=k.slice(Y).join(" ").replace(/[ \n]*$/gi,"");_.splice(T+1,0,V),S=_.length;break}else M+=H,D-=j}C+=M.replace(/[ \n]*$/gi,"")+`
`}return C=C.replace(/[\s|\n]*$/gi,""),C},basicWordWrap:function(x,b,w){for(var C="",_=x.split(this.splitRegExp),S=_.length-1,T=b.measureText(" ").width,A=0;A<=S;A++){for(var M=w,I=_[A].split(" "),D=I.length-1,k=0;k<=D;k++){var G=I[k],R=b.measureText(G).width,H=R;k<D&&(H+=T),H>M&&k>0&&(C+=`
`,M=w),C+=G,k<D?(C+=" ",M-=H):M-=R}A<S&&(C+=`
`)}return C},getWrappedText:function(x){x===void 0&&(x=this._text),this.style.syncFont(this.canvas,this.context);var b=this.runWordWrap(x);return b.split(this.splitRegExp)},setText:function(x){return!x&&x!==0&&(x=""),Array.isArray(x)&&(x=x.join(`
`)),x!==this._text&&(this._text=x.toString(),this.updateText()),this},appendText:function(x,b){b===void 0&&(b=!0),!x&&x!==0&&(x=""),Array.isArray(x)&&(x=x.join(`
`)),x=x.toString();var w=this._text.concat(b?`
`+x:x);return w!==this._text&&(this._text=w,this.updateText()),this},setStyle:function(x){return this.style.setStyle(x)},setFont:function(x){return this.style.setFont(x)},setFontFamily:function(x){return this.style.setFontFamily(x)},setFontSize:function(x){return this.style.setFontSize(x)},setFontStyle:function(x){return this.style.setFontStyle(x)},setFixedSize:function(x,b){return this.style.setFixedSize(x,b)},setBackgroundColor:function(x){return this.style.setBackgroundColor(x)},setFill:function(x){return this.style.setFill(x)},setColor:function(x){return this.style.setColor(x)},setStroke:function(x,b){return this.style.setStroke(x,b)},setShadow:function(x,b,w,C,_,S){return this.style.setShadow(x,b,w,C,_,S)},setShadowOffset:function(x,b){return this.style.setShadowOffset(x,b)},setShadowColor:function(x){return this.style.setShadowColor(x)},setShadowBlur:function(x){return this.style.setShadowBlur(x)},setShadowStroke:function(x){return this.style.setShadowStroke(x)},setShadowFill:function(x){return this.style.setShadowFill(x)},setWordWrapWidth:function(x,b){return this.style.setWordWrapWidth(x,b)},setWordWrapCallback:function(x,b){return this.style.setWordWrapCallback(x,b)},setAlign:function(x){return this.style.setAlign(x)},setResolution:function(x){return this.style.setResolution(x)},setLineSpacing:function(x){return this.lineSpacing=x,this.updateText()},setLetterSpacing:function(x){return this.letterSpacing=x,this.updateText()},setPadding:function(x,b,w,C){if(typeof x=="object"){var _=x,S=f(_,"x",null);S!==null?(x=S,w=S):(x=f(_,"left",0),w=f(_,"right",x));var T=f(_,"y",null);T!==null?(b=T,C=T):(b=f(_,"top",0),C=f(_,"bottom",b))}else x===void 0&&(x=0),b===void 0&&(b=x),w===void 0&&(w=x),C===void 0&&(C=b);return this.padding.left=x,this.padding.top=b,this.padding.right=w,this.padding.bottom=C,this.updateText()},setMaxLines:function(x){return this.style.setMaxLines(x)},setRTL:function(x){x===void 0&&(x=!0);var b=this.style;return b.rtl===x?this:(b.rtl=x,x?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),b.align==="left"?b.align="right":b.align==="right"&&(b.align="left"),this)},updateText:function(){var x=this.canvas,b=this.context,w=this.style,C=w.resolution,_=w.metrics;w.syncFont(x,b);var S=this._text;(w.wordWrapWidth||w.wordWrapCallback)&&(S=this.runWordWrap(this._text));var T=S.split(this.splitRegExp),A=d(this,_,T),M=this.padding,I;w.fixedWidth===0?(this.width=A.width+M.left+M.right,I=A.width):(this.width=w.fixedWidth,I=this.width-M.left-M.right,I<A.width&&(I=A.width)),w.fixedHeight===0?this.height=A.height+M.top+M.bottom:this.height=w.fixedHeight;var D=this.width,k=this.height;this.updateDisplayOrigin(),D*=C,k*=C,D=Math.max(D,1),k=Math.max(k,1),x.width!==D||x.height!==k?(x.width=D,x.height=k,this.frame.setSize(D,k),w.syncFont(x,b),w.rtl&&(b.direction="rtl")):b.clearRect(0,0,D,k),b.save(),b.scale(C,C),w.backgroundColor&&(b.fillStyle=w.backgroundColor,b.fillRect(0,0,D,k)),w.syncStyle(x,b),b.translate(M.left,M.top);for(var G,R,H=0;H<A.lines;H++){if(G=w.strokeThickness/2,R=w.strokeThickness/2+H*A.lineHeight+_.ascent,H>0&&(R+=A.lineSpacing*H),w.rtl)G=D-G-M.left-M.right;else if(w.align==="right")G+=I-A.lineWidths[H];else if(w.align==="center")G+=(I-A.lineWidths[H])/2;else if(w.align==="justify"){var j=.85;if(A.lineWidths[H]/A.width>=j){var Z=A.width-A.lineWidths[H],ee=b.measureText(" ").width,Y=T[H].trim(),V=Y.split(" ");Z+=(T[H].length-Y.length)*ee;for(var O=Math.floor(Z/ee),F=0;O>0;)V[F]+=" ",F=(F+1)%(V.length-1||1),--O;T[H]=V.join(" ")}}this.autoRound&&(G=Math.round(G),R=Math.round(R));var X=this.letterSpacing;if(w.strokeThickness&&X===0&&(w.syncShadow(b,w.shadowStroke),b.strokeText(T[H],G,R)),w.color)if(w.syncShadow(b,w.shadowFill),X!==0)for(var ie=0,re=T[H].split(""),q=0;q<re.length;q++)w.strokeThickness&&(w.syncShadow(b,w.shadowStroke),b.strokeText(re[q],G+ie,R),w.syncShadow(b,w.shadowFill)),b.fillText(re[q],G+ie,R),ie+=b.measureText(re[q]).width+X;else b.fillText(T[H],G,R)}b.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(x,this.frame.source.glTexture,!0));var ae=this.input;return ae&&!ae.customHitArea&&(ae.hitArea.width=this.width,ae.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(x){this.setText(x)}},toJSON:function(){var x=c.ToJSON(this),b={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return x.data=b,x},preDestroy:function(){m(this.canvas),u.remove(this.canvas);var x=this.texture;x&&x.destroy()}});n.exports=y},79724:n=>{var a=function(s,o,u,l){o.width===0||o.height===0||(u.addToRenderList(o),s.batchSprite(o,o.frame,u,l))};n.exports=a},71259:(n,a,s)=>{var o=s(25305),u=s(44603),l=s(23568),c=s(50171);u.register("text",function(h,d){h===void 0&&(h={});var f=l(h,"text",""),m=l(h,"style",null),p=l(h,"padding",null);p!==null&&(m.padding=p);var g=new c(this.scene,0,0,f,m);return d!==void 0&&(h.add=d),o(this.scene,g,h),g.autoRound=l(h,"autoRound",!0),g.resolution=l(h,"resolution",1),g})},68005:(n,a,s)=>{var o=s(50171),u=s(39429);u.register("text",function(l,c,h,d){return this.displayList.add(new o(this.scene,l,c,h,d))})},61771:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(34397),l=s(79724),n.exports={renderWebGL:u,renderCanvas:l}},35762:(n,a,s)=>{var o=s(83419),u=s(23568),l=s(35154),c=s(79557),h={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},d=new o({initialize:function(m,p){this.parent=m,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(p,!1,!0)},setStyle:function(f,m,p){m===void 0&&(m=!0),p===void 0&&(p=!1);for(var g in h){var v=p?h[g][1]:this[g];g==="wordWrapCallback"||g==="wordWrapCallbackScope"?this[g]=l(f,h[g][0],v):f&&g==="fontSize"&&typeof f.fontSize=="number"?this[g]=f.fontSize.toString()+"px":this[g]=u(f,h[g][0],v)}var y=l(f,"font",null);y!==null&&this.setFont(y,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var x=l(f,"fill",null);x!==null&&(this.color=x);var b=l(f,"metrics",!1);return b?this.metrics={ascent:l(b,"ascent",0),descent:l(b,"descent",0),fontSize:l(b,"fontSize",0)}:(m||!this.metrics)&&(this.metrics=c(this)),m?this.parent.updateText():this.parent},syncFont:function(f,m){m.font=this._font},syncStyle:function(f,m){m.textBaseline="alphabetic",m.fillStyle=this.color,m.strokeStyle=this.stroke,m.lineWidth=this.strokeThickness,m.lineCap="round",m.lineJoin="round"},syncShadow:function(f,m){m?(f.shadowOffsetX=this.shadowOffsetX,f.shadowOffsetY=this.shadowOffsetY,f.shadowColor=this.shadowColor,f.shadowBlur=this.shadowBlur):(f.shadowOffsetX=0,f.shadowOffsetY=0,f.shadowColor=0,f.shadowBlur=0)},update:function(f){return f&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=c(this)),this.parent.updateText()},setFont:function(f,m){m===void 0&&(m=!0);var p=f,g="",v="";if(typeof f!="string")p=l(f,"fontFamily","Courier"),g=l(f,"fontSize","16px"),v=l(f,"fontStyle","");else{var y=f.split(" "),x=0;v=y.length>2?y[x++]:"",g=y[x++]||"16px",p=y[x++]||"Courier"}return(p!==this.fontFamily||g!==this.fontSize||v!==this.fontStyle)&&(this.fontFamily=p,this.fontSize=g,this.fontStyle=v,m&&this.update(!0)),this.parent},setFontFamily:function(f){return this.fontFamily!==f&&(this.fontFamily=f,this.update(!0)),this.parent},setFontStyle:function(f){return this.fontStyle!==f&&(this.fontStyle=f,this.update(!0)),this.parent},setFontSize:function(f){return typeof f=="number"&&(f=f.toString()+"px"),this.fontSize!==f&&(this.fontSize=f,this.update(!0)),this.parent},setTestString:function(f){return this.testString=f,this.update(!0)},setFixedSize:function(f,m){return this.fixedWidth=f,this.fixedHeight=m,f&&(this.parent.width=f),m&&(this.parent.height=m),this.update(!1)},setBackgroundColor:function(f){return this.backgroundColor=f,this.update(!1)},setFill:function(f){return this.color=f,this.update(!1)},setColor:function(f){return this.color=f,this.update(!1)},setResolution:function(f){return this.resolution=f,this.update(!1)},setStroke:function(f,m){return m===void 0&&(m=this.strokeThickness),f===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==f||this.strokeThickness!==m)&&(this.stroke=f,this.strokeThickness=m,this.update(!0)),this.parent},setShadow:function(f,m,p,g,v,y){return f===void 0&&(f=0),m===void 0&&(m=0),p===void 0&&(p="#000"),g===void 0&&(g=0),v===void 0&&(v=!1),y===void 0&&(y=!0),this.shadowOffsetX=f,this.shadowOffsetY=m,this.shadowColor=p,this.shadowBlur=g,this.shadowStroke=v,this.shadowFill=y,this.update(!1)},setShadowOffset:function(f,m){return f===void 0&&(f=0),m===void 0&&(m=f),this.shadowOffsetX=f,this.shadowOffsetY=m,this.update(!1)},setShadowColor:function(f){return f===void 0&&(f="#000"),this.shadowColor=f,this.update(!1)},setShadowBlur:function(f){return f===void 0&&(f=0),this.shadowBlur=f,this.update(!1)},setShadowStroke:function(f){return this.shadowStroke=f,this.update(!1)},setShadowFill:function(f){return this.shadowFill=f,this.update(!1)},setWordWrapWidth:function(f,m){return m===void 0&&(m=!1),this.wordWrapWidth=f,this.wordWrapUseAdvanced=m,this.update(!1)},setWordWrapCallback:function(f,m){return m===void 0&&(m=null),this.wordWrapCallback=f,this.wordWrapCallbackScope=m,this.update(!1)},setAlign:function(f){return f===void 0&&(f="left"),this.align=f,this.update(!1)},setMaxLines:function(f){return f===void 0&&(f=0),this.maxLines=f,this.update(!1)},getTextMetrics:function(){var f=this.metrics;return{ascent:f.ascent,descent:f.descent,fontSize:f.fontSize}},toJSON:function(){var f={};for(var m in h)f[m]=this[m];return f.metrics=this.getTextMetrics(),f},destroy:function(){this.parent=void 0}});n.exports=d},34397:(n,a,s)=>{var o=s(70554),u=function(l,c,h,d){if(!(c.width===0||c.height===0)){h.addToRenderList(c);var f=c.frame,m=f.width,p=f.height,g=o.getTintAppendFloatAlpha,v=l.pipelines.set(c.pipeline,c),y=v.setTexture2D(f.glTexture,c);v.batchTexture(c,f.glTexture,m,p,c.x,c.y,m/c.style.resolution,p/c.style.resolution,c.scaleX,c.scaleY,c.rotation,c.flipX,c.flipY,c.scrollFactorX,c.scrollFactorY,c.displayOriginX,c.displayOriginY,0,0,m,p,g(c.tintTopLeft,h.alpha*c._alphaTL),g(c.tintTopRight,h.alpha*c._alphaTR),g(c.tintBottomLeft,h.alpha*c._alphaBL),g(c.tintBottomRight,h.alpha*c._alphaBR),c.tintFill,0,0,h,d,!1,y)}};n.exports=u},20839:(n,a,s)=>{var o=s(27919),u=s(83419),l=s(31401),c=s(95643),h=s(98439),d=s(68703),f=s(56295),m=s(45650),p=s(26099),g=8,v=new u({Extends:c,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,f],initialize:function(x,b,w,C,_,S,T){var A=x.sys.renderer;c.call(this,x,"TileSprite");var M=x.sys.textures.get(S),I=M.get(T);I.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),M=x.sys.textures.get("__MISSING"),I=M.get()),M.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),M=x.sys.textures.get("__MISSING"),I=M.get()),!C||!_?(C=C||I.width,_=_||I.height):(C=Math.floor(C),_=Math.floor(_)),this._tilePosition=new p,this._tileScale=new p(1,1),this.dirty=!1,this.renderer=A,this.canvas=o.create(this,C,_),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=M,this.displayFrame=I,this._crop=this.resetCropObject(),this._textureKey=m(),this.texture=x.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=h(I.width),this.potHeight=h(I.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(b,w),this.setSize(C,_),this.setFrame(T),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(y,x){return this.displayTexture=this.scene.sys.textures.get(y),this.setFrame(x)},setFrame:function(y){var x=this.displayTexture.get(y);return this.potWidth=h(x.width),this.potHeight=h(x.height),this.canvas.width=0,!x.cutWidth||!x.cutHeight?this.renderFlags&=~g:this.renderFlags|=g,this.displayFrame=x,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(y,x){return y!==void 0&&(this.tilePositionX=y),x!==void 0&&(this.tilePositionY=x),this},setTileScale:function(y,x){return y===void 0&&(y=this.tileScaleX),x===void 0&&(x=y),this.tileScaleX=y,this.tileScaleY=x,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var y=this.displayFrame;if(y.source.isRenderTexture||y.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var x=this.fillContext,b=this.fillCanvas,w=this.potWidth,C=this.potHeight;(!this.renderer||!this.renderer.gl)&&(w=y.cutWidth,C=y.cutHeight),x.clearRect(0,0,w,C),b.width=w,b.height=C,x.drawImage(y.source.image,y.cutX,y.cutY,y.cutWidth,y.cutHeight,0,0,w,C),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(b,this.fillPattern):this.fillPattern=x.createPattern(b,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var y=this.canvas;if((y.width!==this.width||y.height!==this.height)&&(y.width=this.width,y.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var x=this.context;this.scene.sys.game.config.antialias||d.disable(x);var b=this._tileScale.x,w=this._tileScale.y,C=this._tilePosition.x,_=this._tilePosition.y;x.clearRect(0,0,this.width,this.height),x.save(),x.scale(b,w),x.translate(-C,-_),x.fillStyle=this.fillPattern,x.fillRect(C,_,this.width/b,this.height/w),x.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var y=this.texture;y&&y.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(y){this._tilePosition.x=y,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(y){this._tilePosition.y=y,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(y){this._tileScale.x=y,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(y){this._tileScale.y=y,this.dirty=!0}}});n.exports=v},46992:n=>{var a=function(s,o,u,l){o.updateCanvas(),u.addToRenderList(o),s.batchSprite(o,o.frame,u,l)};n.exports=a},14167:(n,a,s)=>{var o=s(25305),u=s(44603),l=s(23568),c=s(20839);u.register("tileSprite",function(h,d){h===void 0&&(h={});var f=l(h,"x",0),m=l(h,"y",0),p=l(h,"width",512),g=l(h,"height",512),v=l(h,"key",""),y=l(h,"frame",""),x=new c(this.scene,f,m,p,g,v,y);return d!==void 0&&(h.add=d),o(this.scene,x,h),x})},91681:(n,a,s)=>{var o=s(20839),u=s(39429);u.register("tileSprite",function(l,c,h,d,f,m){return this.displayList.add(new o(this.scene,l,c,h,d,f,m))})},56295:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(18553),l=s(46992),n.exports={renderWebGL:u,renderCanvas:l}},18553:(n,a,s)=>{var o=s(70554),u=function(l,c,h,d){c.updateCanvas();var f=c.width,m=c.height;if(!(f===0||m===0)){h.addToRenderList(c);var p=o.getTintAppendFloatAlpha,g=l.pipelines.set(c.pipeline,c),v=g.setTexture2D(c.fillPattern,c);g.batchTexture(c,c.fillPattern,c.displayFrame.width*c.tileScaleX,c.displayFrame.height*c.tileScaleY,c.x,c.y,f,m,c.scaleX,c.scaleY,c.rotation,c.flipX,c.flipY,c.scrollFactorX,c.scrollFactorY,c.originX*f,c.originY*m,0,0,f,m,p(c.tintTopLeft,h.alpha*c._alphaTL),p(c.tintTopRight,h.alpha*c._alphaTR),p(c.tintBottomLeft,h.alpha*c._alphaBL),p(c.tintBottomRight,h.alpha*c._alphaBR),c.tintFill,c.tilePositionX%c.displayFrame.width/c.displayFrame.width,c.tilePositionY%c.displayFrame.height/c.displayFrame.height,h,d,!1,v)}};n.exports=u},18471:(n,a,s)=>{var o=s(45319),u=s(83419),l=s(31401),c=s(51708),h=s(8443),d=s(95643),f=s(36383),m=s(14463),p=s(45650),g=s(10247),v=new u({Extends:d,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.TextureCrop,l.Tint,l.Transform,l.Visible,g],initialize:function(x,b,w,C){d.call(this,x,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=p(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var _=x.sys.game;this._device=_.device.video,this.setPosition(b,w),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),_.events.on(h.PAUSE,this.globalPause,this),_.events.on(h.RESUME,this.globalResume,this);var S=x.sys.sound;S&&S.on(m.GLOBAL_MUTE,this.globalMute,this),C&&this.load(C)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(y){var x=this.scene.sys.cache.video.get(y);return x?(this.cacheKey=y,this.loadHandler(x.url,x.noAudio,x.crossOrigin)):console.warn("No video in cache for key: "+y),this},changeSource:function(y,x,b,w,C){x===void 0&&(x=!0),b===void 0&&(b=!1),this.cacheKey!==y&&(this.load(y),x&&this.play(b,w,C))},getVideoKey:function(){return this.cacheKey},loadURL:function(y,x,b){x===void 0&&(x=!1);var w=this._device.getVideoURL(y);return w?(this.cacheKey="",this.loadHandler(w.url,x,b)):console.warn("No supported video format found for "+y),this},loadMediaStream:function(y,x,b){return this.loadHandler(null,x,b,y)},loadHandler:function(y,x,b,w){x||(x=!1);var C=this.video;if(C?(this.removeLoadEventHandlers(),this.stop()):(C=document.createElement("video"),C.controls=!1,C.setAttribute("playsinline","playsinline"),C.setAttribute("preload","auto"),C.setAttribute("disablePictureInPicture","true")),x?(C.muted=!0,C.defaultMuted=!0,C.setAttribute("autoplay","autoplay")):(C.muted=!1,C.defaultMuted=!1,C.removeAttribute("autoplay")),b?C.setAttribute("crossorigin",b):C.removeAttribute("crossorigin"),w)if("srcObject"in C)try{C.srcObject=w}catch(S){if(S.name!=="TypeError")throw S;C.src=URL.createObjectURL(w)}else C.src=URL.createObjectURL(w);else C.src=y;this.retry=0,this.video=C,this._playCalled=!1,C.load(),this.addLoadEventHandlers();var _=this.scene.sys.textures.get(this._key);return this.setTexture(_),this},requestVideoFrame:function(y,x){var b=this.video;if(b){var w=x.width,C=x.height,_=this.videoTexture,S=this.videoTextureSource,T=!_||S.source!==b;T?(this._codePaused=b.paused,this._codeMuted=b.muted,_?(S.source=b,S.width=w,S.height=C,_.get().setSize(w,C)):(_=this.scene.sys.textures.create(this._key,b,w,C),_.add("__BASE",0,0,0,w,C),this.setTexture(_),this.videoTexture=_,this.videoTextureSource=_.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(c.VIDEO_TEXTURE,this,_)),this.setSizeToFrame(),this.updateDisplayOrigin()):S.update(),this.isStalled=!1,this.metadata=x;var A=x.mediaTime;T&&(this._lastUpdate=A,this.emit(c.VIDEO_CREATED,this,w,C),this.frameReady||(this.frameReady=!0,this.emit(c.VIDEO_PLAY,this))),this._playingMarker?A>=this._markerOut&&(b.loop?(b.currentTime=this._markerIn,this.emit(c.VIDEO_LOOP,this)):(this.stop(!1),this.emit(c.VIDEO_COMPLETE,this))):A<this._lastUpdate&&this.emit(c.VIDEO_LOOP,this),this._lastUpdate=A,this._getFrame?(this.removeEventHandlers(),b.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(y,x,b){x===void 0&&(x=-1),b===void 0&&(b=f.MAX_SAFE_INTEGER);var w=this.video;return!w||this.isPlaying()?(w||console.warn("Video not loaded"),this):(y===void 0&&(y=w.loop),w.loop=y,this._markerIn=x,this._markerOut=b,this._playingMarker=x>-1&&b>x&&b<f.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=w.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var y=this.video;return!y||this.isPlaying()?(y||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=y.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var y=this.video;y&&(y.addEventListener("error",this._loadCallbackHandler),y.addEventListener("abort",this._loadCallbackHandler),y.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var y=this.video;y&&(y.removeEventListener("error",this._loadCallbackHandler),y.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var y=this.video;if(y){var x=this._callbacks;for(var b in x)y.addEventListener(b,x[b])}},removeEventHandlers:function(){var y=this.video;if(y){var x=this._callbacks;for(var b in x)y.removeEventListener(b,x[b])}},createPlayPromise:function(y){y===void 0&&(y=!0);var x=this.video,b=x.play();if(b!==void 0){var w=this.playSuccess.bind(this),C=this.playError.bind(this);if(!y){var _=this;C=function(){_.failedPlayAttempts++}}b.then(w).catch(C)}else x.addEventListener("playing",this._callbacks.legacy),y||this.failedPlayAttempts++},addMarker:function(y,x,b){return!isNaN(x)&&x>=0&&!isNaN(b)&&b>x&&(this.markers[y]=[x,b]),this},playMarker:function(y,x){var b=this.markers[y];return b&&this.play(x,b[0],b[1]),this},removeMarker:function(y){return delete this.markers[y],this},snapshot:function(y,x){return y===void 0&&(y=this.width),x===void 0&&(x=this.height),this.snapshotArea(0,0,this.width,this.height,y,x)},snapshotArea:function(y,x,b,w,C,_){y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=this.width),w===void 0&&(w=this.height),C===void 0&&(C=b),_===void 0&&(_=w);var S=this.video,T=this.snapshotTexture;return T?(T.setSize(C,_),S&&T.context.drawImage(S,y,x,b,w,0,0,C,_)):(T=this.scene.sys.textures.createCanvas(p(),C,_),this.snapshotTexture=T,S&&T.context.drawImage(S,y,x,b,w,0,0,C,_)),T.update()},saveSnapshotTexture:function(y){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,y):this.snapshotTexture=this.scene.sys.textures.createCanvas(y,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(c.VIDEO_UNLOCKED,this));var y=this.scene.sys.sound;y&&y.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(y){var x=y.name;x==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(c.VIDEO_LOCKED,this)):x==="NotSupportedError"?(this.stop(!1),this.emit(c.VIDEO_UNSUPPORTED,this,y)):(this.stop(!1),this.emit(c.VIDEO_ERROR,this,y))},legacyPlayHandler:function(){var y=this.video;y&&(this.playSuccess(),y.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(c.VIDEO_PLAYING,this)},loadErrorHandler:function(y){this.stop(!1),this.emit(c.VIDEO_ERROR,this,y)},metadataHandler:function(y){this.emit(c.VIDEO_METADATA,this,y)},setSizeToFrame:function(y){y||(y=this.frame),this.width=y.realWidth,this.height=y.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var x=this.input;return x&&!x.customHitArea&&(x.hitArea.width=this.width,x.hitArea.height=this.height),this},stalledHandler:function(y){this.isStalled=!0,this.emit(c.VIDEO_STALLED,this,y)},completeHandler:function(){this._playCalled=!1,this.emit(c.VIDEO_COMPLETE,this)},preUpdate:function(y,x){var b=this.video;!b||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=x,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(y){var x=this.video;if(x){var b=x.duration;if(b!==1/0&&!isNaN(b)){var w=b*y;this.setCurrentTime(w)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(y){var x=this.video;if(x){if(typeof y=="string"){var b=y[0],w=parseFloat(y.substr(1));b==="+"?y=x.currentTime+w:b==="-"&&(y=x.currentTime-w)}x.currentTime=y}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(c.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(c.VIDEO_SEEKED,this)},getProgress:function(){var y=this.video;if(y){var x=y.duration;if(x!==1/0&&!isNaN(x))return y.currentTime/x}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(y){y===void 0&&(y=!0),this._codeMuted=y;var x=this.video;return x&&(x.muted=this._systemMuted?!0:y),this},isMuted:function(){return this._codeMuted},globalMute:function(y,x){this._systemMuted=x;var b=this.video;b&&(b.muted=this._codeMuted?!0:x)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(y){y===void 0&&(y=!0);var x=this.video;return this._codePaused=y,x&&!x.ended&&(y?x.paused||(this.removeEventHandlers(),x.pause()):y||(this._playCalled?x.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(y){return y===void 0&&(y=1),this.video&&(this.video.volume=o(y,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(y){return this.video&&(this.video.playbackRate=y),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(y){return y===void 0&&(y=!0),this.video&&(this.video.loop=y),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(y,x){return x===void 0&&(x=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,y),this.videoTextureSource.setFlipY(x)),this._key=y,this.flipY=x,!!this.videoTexture},stop:function(y){y===void 0&&(y=!0);var x=this.video;return x&&(this.removeEventHandlers(),x.cancelVideoFrameCallback(this._rfvCallbackId),x.pause()),this.retry=0,this._playCalled=!1,y&&this.emit(c.VIDEO_STOP,this),this},removeVideoElement:function(){var y=this.video;if(y){for(y.parentNode&&y.parentNode.removeChild(y);y.hasChildNodes();)y.removeChild(y.firstChild);y.removeAttribute("autoplay"),y.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var y=this.scene.sys.game.events;y.off(h.PAUSE,this.globalPause,this),y.off(h.RESUME,this.globalResume,this);var x=this.scene.sys.sound;x&&x.off(m.GLOBAL_MUTE,this.globalMute,this)}});n.exports=v},58352:n=>{var a=function(s,o,u,l){o.videoTexture&&(u.addToRenderList(o),s.batchSprite(o,o.frame,u,l))};n.exports=a},11511:(n,a,s)=>{var o=s(25305),u=s(44603),l=s(23568),c=s(18471);u.register("video",function(h,d){h===void 0&&(h={});var f=l(h,"key",null),m=new c(this.scene,0,0,f);return d!==void 0&&(h.add=d),o(this.scene,m,h),m})},89025:(n,a,s)=>{var o=s(18471),u=s(39429);u.register("video",function(l,c,h){return this.displayList.add(new o(this.scene,l,c,h))})},10247:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(29849),l=s(58352),n.exports={renderWebGL:u,renderCanvas:l}},29849:n=>{var a=function(s,o,u,l){o.videoTexture&&(u.addToRenderList(o),o.pipeline.batchSprite(o,u,l))};n.exports=a},41481:(n,a,s)=>{var o=s(10312),u=s(96503),l=s(87902),c=s(83419),h=s(31401),d=s(95643),f=s(87841),m=s(37303),p=new c({Extends:d,Mixins:[h.Depth,h.GetBounds,h.Origin,h.Transform,h.ScrollFactor,h.Visible],initialize:function(v,y,x,b,w){b===void 0&&(b=1),w===void 0&&(w=b),d.call(this,v,"Zone"),this.setPosition(y,x),this.width=b,this.height=w,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(g){this.scaleX=g/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(g){this.scaleY=g/this.height}},setSize:function(g,v,y){y===void 0&&(y=!0),this.width=g,this.height=v,this.updateDisplayOrigin();var x=this.input;return y&&x&&!x.customHitArea&&(x.hitArea.width=g,x.hitArea.height=v),this},setDisplaySize:function(g,v){return this.displayWidth=g,this.displayHeight=v,this},setCircleDropZone:function(g){return this.setDropZone(new u(0,0,g),l)},setRectangleDropZone:function(g,v){return this.setDropZone(new f(0,0,g,v),m)},setDropZone:function(g,v){return this.input||this.setInteractive(g,v,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(g,v,y){y.addToRenderList(v)},renderWebGL:function(g,v,y){y.addToRenderList(v)}});n.exports=p},95261:(n,a,s)=>{var o=s(44603),u=s(23568),l=s(41481);o.register("zone",function(c){var h=u(c,"x",0),d=u(c,"y",0),f=u(c,"width",1),m=u(c,"height",f);return new l(this.scene,h,d,f,m)})},84175:(n,a,s)=>{var o=s(41481),u=s(39429);u.register("zone",function(l,c,h,d){return this.displayList.add(new o(this.scene,l,c,h,d))})},95166:n=>{var a=function(s){return s.radius>0?Math.PI*s.radius*s.radius:0};n.exports=a},96503:(n,a,s)=>{var o=s(83419),u=s(87902),l=s(26241),c=s(79124),h=s(23777),d=s(28176),f=new o({initialize:function(p,g,v){p===void 0&&(p=0),g===void 0&&(g=0),v===void 0&&(v=0),this.type=h.CIRCLE,this.x=p,this.y=g,this._radius=v,this._diameter=v*2},contains:function(m,p){return u(this,m,p)},getPoint:function(m,p){return l(this,m,p)},getPoints:function(m,p,g){return c(this,m,p,g)},getRandomPoint:function(m){return d(this,m)},setTo:function(m,p,g){return this.x=m,this.y=p,this._radius=g,this._diameter=g*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(m,p){return p===void 0&&(p=m),this.x=m,this.y=p,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(m){this._radius=m,this._diameter=m*2}},diameter:{get:function(){return this._diameter},set:function(m){this._diameter=m,this._radius=m*.5}},left:{get:function(){return this.x-this._radius},set:function(m){this.x=m+this._radius}},right:{get:function(){return this.x+this._radius},set:function(m){this.x=m-this._radius}},top:{get:function(){return this.y-this._radius},set:function(m){this.y=m+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(m){this.y=m-this._radius}}});n.exports=f},71562:n=>{var a=function(s){return 2*(Math.PI*s.radius)};n.exports=a},92110:(n,a,s)=>{var o=s(2141),u=function(l,c,h){return h===void 0&&(h=new o),h.x=l.x+l.radius*Math.cos(c),h.y=l.y+l.radius*Math.sin(c),h};n.exports=u},42250:(n,a,s)=>{var o=s(96503),u=function(l){return new o(l.x,l.y,l.radius)};n.exports=u},87902:n=>{var a=function(s,o,u){if(s.radius>0&&o>=s.left&&o<=s.right&&u>=s.top&&u<=s.bottom){var l=(s.x-o)*(s.x-o),c=(s.y-u)*(s.y-u);return l+c<=s.radius*s.radius}else return!1};n.exports=a},5698:(n,a,s)=>{var o=s(87902),u=function(l,c){return o(l,c.x,c.y)};n.exports=u},70588:(n,a,s)=>{var o=s(87902),u=function(l,c){return o(l,c.x,c.y)&&o(l,c.right,c.y)&&o(l,c.x,c.bottom)&&o(l,c.right,c.bottom)};n.exports=u},26394:n=>{var a=function(s,o){return o.setTo(s.x,s.y,s.radius)};n.exports=a},76278:n=>{var a=function(s,o){return s.x===o.x&&s.y===o.y&&s.radius===o.radius};n.exports=a},2074:(n,a,s)=>{var o=s(87841),u=function(l,c){return c===void 0&&(c=new o),c.x=l.left,c.y=l.top,c.width=l.diameter,c.height=l.diameter,c};n.exports=u},26241:(n,a,s)=>{var o=s(92110),u=s(62945),l=s(36383),c=s(2141),h=function(d,f,m){m===void 0&&(m=new c);var p=u(f,0,l.PI2);return o(d,p,m)};n.exports=h},79124:(n,a,s)=>{var o=s(71562),u=s(92110),l=s(62945),c=s(36383),h=function(d,f,m,p){p===void 0&&(p=[]),!f&&m>0&&(f=o(d)/m);for(var g=0;g<f;g++){var v=l(g/f,0,c.PI2);p.push(u(d,v))}return p};n.exports=h},50884:n=>{var a=function(s,o,u){return s.x+=o,s.y+=u,s};n.exports=a},39212:n=>{var a=function(s,o){return s.x+=o.x,s.y+=o.y,s};n.exports=a},28176:(n,a,s)=>{var o=s(2141),u=function(l,c){c===void 0&&(c=new o);var h=2*Math.PI*Math.random(),d=Math.random()+Math.random(),f=d>1?2-d:d,m=f*Math.cos(h),p=f*Math.sin(h);return c.x=l.x+m*l.radius,c.y=l.y+p*l.radius,c};n.exports=u},88911:(n,a,s)=>{var o=s(96503);o.Area=s(95166),o.Circumference=s(71562),o.CircumferencePoint=s(92110),o.Clone=s(42250),o.Contains=s(87902),o.ContainsPoint=s(5698),o.ContainsRect=s(70588),o.CopyFrom=s(26394),o.Equals=s(76278),o.GetBounds=s(2074),o.GetPoint=s(26241),o.GetPoints=s(79124),o.Offset=s(50884),o.OffsetPoint=s(39212),o.Random=s(28176),n.exports=o},23777:n=>{var a={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};n.exports=a},78874:n=>{var a=function(s){return s.isEmpty()?0:s.getMajorRadius()*s.getMinorRadius()*Math.PI};n.exports=a},92990:n=>{var a=function(s){var o=s.width/2,u=s.height/2,l=Math.pow(o-u,2)/Math.pow(o+u,2);return Math.PI*(o+u)*(1+3*l/(10+Math.sqrt(4-3*l)))};n.exports=a},79522:(n,a,s)=>{var o=s(2141),u=function(l,c,h){h===void 0&&(h=new o);var d=l.width/2,f=l.height/2;return h.x=l.x+d*Math.cos(c),h.y=l.y+f*Math.sin(c),h};n.exports=u},58102:(n,a,s)=>{var o=s(8497),u=function(l){return new o(l.x,l.y,l.width,l.height)};n.exports=u},81154:n=>{var a=function(s,o,u){if(s.width<=0||s.height<=0)return!1;var l=(o-s.x)/s.width,c=(u-s.y)/s.height;return l*=l,c*=c,l+c<.25};n.exports=a},46662:(n,a,s)=>{var o=s(81154),u=function(l,c){return o(l,c.x,c.y)};n.exports=u},1632:(n,a,s)=>{var o=s(81154),u=function(l,c){return o(l,c.x,c.y)&&o(l,c.right,c.y)&&o(l,c.x,c.bottom)&&o(l,c.right,c.bottom)};n.exports=u},65534:n=>{var a=function(s,o){return o.setTo(s.x,s.y,s.width,s.height)};n.exports=a},8497:(n,a,s)=>{var o=s(83419),u=s(81154),l=s(90549),c=s(48320),h=s(23777),d=s(24820),f=new o({initialize:function(p,g,v,y){p===void 0&&(p=0),g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=0),this.type=h.ELLIPSE,this.x=p,this.y=g,this.width=v,this.height=y},contains:function(m,p){return u(this,m,p)},getPoint:function(m,p){return l(this,m,p)},getPoints:function(m,p,g){return c(this,m,p,g)},getRandomPoint:function(m){return d(this,m)},setTo:function(m,p,g,v){return this.x=m,this.y=p,this.width=g,this.height=v,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(m,p){return p===void 0&&(p=m),this.x=m,this.y=p,this},setSize:function(m,p){return p===void 0&&(p=m),this.width=m,this.height=p,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(m){this.x=m+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(m){this.x=m-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(m){this.y=m+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(m){this.y=m-this.height/2}}});n.exports=f},36146:n=>{var a=function(s,o){return s.x===o.x&&s.y===o.y&&s.width===o.width&&s.height===o.height};n.exports=a},23694:(n,a,s)=>{var o=s(87841),u=function(l,c){return c===void 0&&(c=new o),c.x=l.left,c.y=l.top,c.width=l.width,c.height=l.height,c};n.exports=u},90549:(n,a,s)=>{var o=s(79522),u=s(62945),l=s(36383),c=s(2141),h=function(d,f,m){m===void 0&&(m=new c);var p=u(f,0,l.PI2);return o(d,p,m)};n.exports=h},48320:(n,a,s)=>{var o=s(92990),u=s(79522),l=s(62945),c=s(36383),h=function(d,f,m,p){p===void 0&&(p=[]),!f&&m>0&&(f=o(d)/m);for(var g=0;g<f;g++){var v=l(g/f,0,c.PI2);p.push(u(d,v))}return p};n.exports=h},73424:n=>{var a=function(s,o,u){return s.x+=o,s.y+=u,s};n.exports=a},44808:n=>{var a=function(s,o){return s.x+=o.x,s.y+=o.y,s};n.exports=a},24820:(n,a,s)=>{var o=s(2141),u=function(l,c){c===void 0&&(c=new o);var h=Math.random()*Math.PI*2,d=Math.sqrt(Math.random());return c.x=l.x+d*Math.cos(h)*l.width/2,c.y=l.y+d*Math.sin(h)*l.height/2,c};n.exports=u},49203:(n,a,s)=>{var o=s(8497);o.Area=s(78874),o.Circumference=s(92990),o.CircumferencePoint=s(79522),o.Clone=s(58102),o.Contains=s(81154),o.ContainsPoint=s(46662),o.ContainsRect=s(1632),o.CopyFrom=s(65534),o.Equals=s(36146),o.GetBounds=s(23694),o.GetPoint=s(90549),o.GetPoints=s(48320),o.Offset=s(73424),o.OffsetPoint=s(44808),o.Random=s(24820),n.exports=o},55738:(n,a,s)=>{var o=s(23777),u=s(79291),l={Circle:s(88911),Ellipse:s(49203),Intersects:s(91865),Line:s(2529),Mesh:s(73090),Point:s(43711),Polygon:s(58423),Rectangle:s(93232),Triangle:s(84435)};l=u(!1,l,o),n.exports=l},2044:(n,a,s)=>{var o=s(20339),u=function(l,c){return o(l.x,l.y,c.x,c.y)<=l.radius+c.radius};n.exports=u},81491:n=>{var a=function(s,o){var u=o.width/2,l=o.height/2,c=Math.abs(s.x-o.x-u),h=Math.abs(s.y-o.y-l),d=u+s.radius,f=l+s.radius;if(c>d||h>f)return!1;if(c<=u||h<=l)return!0;var m=c-u,p=h-l,g=m*m,v=p*p,y=s.radius*s.radius;return g+v<=y};n.exports=a},63376:(n,a,s)=>{var o=s(2141),u=s(2044),l=function(c,h,d){if(d===void 0&&(d=[]),u(c,h)){var f=c.x,m=c.y,p=c.radius,g=h.x,v=h.y,y=h.radius,x,b,w,C,_;if(m===v)_=(y*y-p*p-g*g+f*f)/(2*(f-g)),x=1,b=-2*v,w=g*g+_*_-2*g*_+v*v-y*y,C=b*b-4*x*w,C===0?d.push(new o(_,-b/(2*x))):C>0&&(d.push(new o(_,(-b+Math.sqrt(C))/(2*x))),d.push(new o(_,(-b-Math.sqrt(C))/(2*x))));else{var S=(f-g)/(m-v),T=(y*y-p*p-g*g+f*f-v*v+m*m)/(2*(m-v));x=S*S+1,b=2*m*S-2*T*S-2*f,w=f*f+m*m+T*T-p*p-2*m*T,C=b*b-4*x*w,C===0?(_=-b/(2*x),d.push(new o(_,T-_*S))):C>0&&(_=(-b+Math.sqrt(C))/(2*x),d.push(new o(_,T-_*S)),_=(-b-Math.sqrt(C))/(2*x),d.push(new o(_,T-_*S)))}}return d};n.exports=l},97439:(n,a,s)=>{var o=s(4042),u=s(81491),l=function(c,h,d){if(d===void 0&&(d=[]),u(c,h)){var f=h.getLineA(),m=h.getLineB(),p=h.getLineC(),g=h.getLineD();o(f,c,d),o(m,c,d),o(p,c,d),o(g,c,d)}return d};n.exports=l},4042:(n,a,s)=>{var o=s(2141),u=s(80462),l=function(c,h,d){if(d===void 0&&(d=[]),u(c,h)){var f=c.x1,m=c.y1,p=c.x2,g=c.y2,v=h.x,y=h.y,x=h.radius,b=p-f,w=g-m,C=f-v,_=m-y,S=b*b+w*w,T=2*(b*C+w*_),A=C*C+_*_-x*x,M=T*T-4*S*A,I,D;if(M===0){var k=-T/(2*S);I=f+k*b,D=m+k*w,k>=0&&k<=1&&d.push(new o(I,D))}else if(M>0){var G=(-T-Math.sqrt(M))/(2*S);I=f+G*b,D=m+G*w,G>=0&&G<=1&&d.push(new o(I,D));var R=(-T+Math.sqrt(M))/(2*S);I=f+R*b,D=m+R*w,R>=0&&R<=1&&d.push(new o(I,D))}}return d};n.exports=l},36100:(n,a,s)=>{var o=s(25836),u=function(l,c,h,d){h===void 0&&(h=!1);var f=l.x1,m=l.y1,p=l.x2,g=l.y2,v=c.x1,y=c.y1,x=c.x2,b=c.y2,w=p-f,C=g-m,_=x-v,S=b-y,T=w*S-C*_;if(T===0)return null;var A,M,I;if(h){if(A=(w*(y-m)+C*(f-v))/(_*C-S*w),w!==0)M=(v+_*A-f)/w;else if(C!==0)M=(y+S*A-m)/C;else return null;if(M<0||A<0||A>1)return null;I=M}else{if(A=((v-f)*S-(y-m)*_)/T,M=((m-y)*w-(f-v)*C)/T,A<0||A>1||M<0||M>1)return null;I=A}return d===void 0&&(d=new o),d.set(f+w*I,m+C*I,I)};n.exports=u},3073:(n,a,s)=>{var o=s(36100),u=s(23031),l=s(25836),c=new u,h=new l,d=function(f,m,p,g){p===void 0&&(p=!1),g===void 0&&(g=new l);var v=!1;g.set(),h.set();for(var y=m[m.length-1],x=0;x<m.length;x++){var b=m[x];c.setTo(y.x,y.y,b.x,b.y),y=b,o(f,c,p,h)&&(!v||h.z<g.z)&&(g.copy(h),v=!0)}return v?g:null};n.exports=d},56362:(n,a,s)=>{var o=s(25836),u=s(61369),l=s(3073),c=new o,h=function(d,f,m,p){p===void 0&&(p=new u),Array.isArray(f)||(f=[f]);var g=!1;p.set(),c.set();for(var v=0;v<f.length;v++)l(d,f[v].points,m,c)&&(!g||c.z<p.z)&&(p.set(c.x,c.y,c.z,v),g=!0);return g?p:null};n.exports=h},60646:(n,a,s)=>{var o=s(2141),u=s(76112),l=s(92773),c=function(h,d,f){if(f===void 0&&(f=[]),l(h,d))for(var m=d.getLineA(),p=d.getLineB(),g=d.getLineC(),v=d.getLineD(),y=[new o,new o,new o,new o],x=[u(m,h,y[0]),u(p,h,y[1]),u(g,h,y[2]),u(v,h,y[3])],b=0;b<4;b++)x[b]&&f.push(y[b]);return f};n.exports=c},71147:(n,a,s)=>{var o=s(61369),u=s(56362),l=s(23031),c=new l;function h(m,p,g,v,y){var x=Math.cos(m),b=Math.sin(m);c.setTo(p,g,p+x,g+b);var w=u(c,v,!0);w&&y.push(new o(w.x,w.y,m,w.w))}function d(m,p){return m.z-p.z}var f=function(m,p,g){Array.isArray(g)||(g=[g]);for(var v=[],y=[],x=0;x<g.length;x++)for(var b=g[x].points,w=0;w<b.length;w++){var C=Math.atan2(b[w].y-p,b[w].x-m);y.indexOf(C)===-1&&(h(C,m,p,g,v),h(C-1e-5,m,p,g,v),h(C+1e-5,m,p,g,v),y.push(C))}return v.sort(d)};n.exports=f},68389:(n,a,s)=>{var o=s(87841),u=s(59996),l=function(c,h,d){return d===void 0&&(d=new o),u(c,h)&&(d.x=Math.max(c.x,h.x),d.y=Math.max(c.y,h.y),d.width=Math.min(c.right,h.right)-d.x,d.height=Math.min(c.bottom,h.bottom)-d.y),d};n.exports=l},52784:(n,a,s)=>{var o=s(60646),u=s(59996),l=function(c,h,d){if(d===void 0&&(d=[]),u(c,h)){var f=c.getLineA(),m=c.getLineB(),p=c.getLineC(),g=c.getLineD();o(f,h,d),o(m,h,d),o(p,h,d),o(g,h,d)}return d};n.exports=l},26341:(n,a,s)=>{var o=s(89265),u=s(60646),l=function(c,h,d){if(d===void 0&&(d=[]),o(c,h)){var f=h.getLineA(),m=h.getLineB(),p=h.getLineC();u(f,c,d),u(m,c,d),u(p,c,d)}return d};n.exports=l},38720:(n,a,s)=>{var o=s(4042),u=s(67636),l=function(c,h,d){if(d===void 0&&(d=[]),u(c,h)){var f=c.getLineA(),m=c.getLineB(),p=c.getLineC();o(f,h,d),o(m,h,d),o(p,h,d)}return d};n.exports=l},13882:(n,a,s)=>{var o=s(2141),u=s(2822),l=s(76112),c=function(h,d,f){if(f===void 0&&(f=[]),u(h,d))for(var m=h.getLineA(),p=h.getLineB(),g=h.getLineC(),v=[new o,new o,new o],y=[l(m,d,v[0]),l(p,d,v[1]),l(g,d,v[2])],x=0;x<3;x++)y[x]&&f.push(v[x]);return f};n.exports=c},75636:(n,a,s)=>{var o=s(82944),u=s(13882),l=function(c,h,d){if(d===void 0&&(d=[]),o(c,h)){var f=h.getLineA(),m=h.getLineB(),p=h.getLineC();u(c,f,d),u(c,m,d),u(c,p,d)}return d};n.exports=l},80462:(n,a,s)=>{var o=s(87902),u=s(2141),l=new u,c=function(h,d,f){if(f===void 0&&(f=l),o(d,h.x1,h.y1))return f.x=h.x1,f.y=h.y1,!0;if(o(d,h.x2,h.y2))return f.x=h.x2,f.y=h.y2,!0;var m=h.x2-h.x1,p=h.y2-h.y1,g=d.x-h.x1,v=d.y-h.y1,y=m*m+p*p,x=m,b=p;if(y>0){var w=(g*m+v*p)/y;x*=w,b*=w}f.x=h.x1+x,f.y=h.y1+b;var C=x*x+b*b;return C<=y&&x*m+b*p>=0&&o(d,f.x,f.y)};n.exports=c},76112:n=>{var a=function(s,o,u){var l=s.x1,c=s.y1,h=s.x2,d=s.y2,f=o.x1,m=o.y1,p=o.x2,g=o.y2;if(l===h&&c===d||f===p&&m===g)return!1;var v=(g-m)*(h-l)-(p-f)*(d-c);if(v===0)return!1;var y=((p-f)*(c-m)-(g-m)*(l-f))/v,x=((h-l)*(c-m)-(d-c)*(l-f))/v;return y<0||y>1||x<0||x>1?!1:(u&&(u.x=l+y*(h-l),u.y=c+y*(d-c)),!0)};n.exports=a},92773:n=>{var a=function(s,o){var u=s.x1,l=s.y1,c=s.x2,h=s.y2,d=o.x,f=o.y,m=o.right,p=o.bottom,g=0;if(u>=d&&u<=m&&l>=f&&l<=p||c>=d&&c<=m&&h>=f&&h<=p)return!0;if(u<d&&c>=d){if(g=l+(h-l)*(d-u)/(c-u),g>f&&g<=p)return!0}else if(u>m&&c<=m&&(g=l+(h-l)*(m-u)/(c-u),g>=f&&g<=p))return!0;if(l<f&&h>=f){if(g=u+(c-u)*(f-l)/(h-l),g>=d&&g<=m)return!0}else if(l>p&&h<=p&&(g=u+(c-u)*(p-l)/(h-l),g>=d&&g<=m))return!0;return!1};n.exports=a},16204:n=>{var a=function(s,o,u){u===void 0&&(u=1);var l=o.x1,c=o.y1,h=o.x2,d=o.y2,f=s.x,m=s.y,p=(h-l)*(h-l)+(d-c)*(d-c);if(p===0)return!1;var g=((f-l)*(h-l)+(m-c)*(d-c))/p;if(g<0)return Math.sqrt((l-f)*(l-f)+(c-m)*(c-m))<=u;if(g>=0&&g<=1){var v=((c-m)*(h-l)-(l-f)*(d-c))/p;return Math.abs(v)*Math.sqrt(p)<=u}else return Math.sqrt((h-f)*(h-f)+(d-m)*(d-m))<=u};n.exports=a},14199:(n,a,s)=>{var o=s(16204),u=function(l,c){if(!o(l,c))return!1;var h=Math.min(c.x1,c.x2),d=Math.max(c.x1,c.x2),f=Math.min(c.y1,c.y2),m=Math.max(c.y1,c.y2);return l.x>=h&&l.x<=d&&l.y>=f&&l.y<=m};n.exports=u},59996:n=>{var a=function(s,o){return s.width<=0||s.height<=0||o.width<=0||o.height<=0?!1:!(s.right<o.x||s.bottom<o.y||s.x>o.right||s.y>o.bottom)};n.exports=a},89265:(n,a,s)=>{var o=s(76112),u=s(37303),l=s(48653),c=s(77493),h=function(d,f){if(f.left>d.right||f.right<d.left||f.top>d.bottom||f.bottom<d.top)return!1;var m=f.getLineA(),p=f.getLineB(),g=f.getLineC();if(u(d,m.x1,m.y1)||u(d,m.x2,m.y2)||u(d,p.x1,p.y1)||u(d,p.x2,p.y2)||u(d,g.x1,g.y1)||u(d,g.x2,g.y2))return!0;var v=d.getLineA(),y=d.getLineB(),x=d.getLineC(),b=d.getLineD();if(o(m,v)||o(m,y)||o(m,x)||o(m,b)||o(p,v)||o(p,y)||o(p,x)||o(p,b)||o(g,v)||o(g,y)||o(g,x)||o(g,b))return!0;var w=c(d),C=l(f,w,!0);return C.length>0};n.exports=h},84411:n=>{var a=function(s,o,u,l,c,h){return h===void 0&&(h=0),!(o>s.right+h||u<s.left-h||l>s.bottom+h||c<s.top-h)};n.exports=a},67636:(n,a,s)=>{var o=s(80462),u=s(10690),l=function(c,h){return c.left>h.right||c.right<h.left||c.top>h.bottom||c.bottom<h.top?!1:!!(u(c,h.x,h.y)||o(c.getLineA(),h)||o(c.getLineB(),h)||o(c.getLineC(),h))};n.exports=l},2822:(n,a,s)=>{var o=s(76112),u=function(l,c){return!!(l.contains(c.x1,c.y1)||l.contains(c.x2,c.y2)||o(l.getLineA(),c)||o(l.getLineB(),c)||o(l.getLineC(),c))};n.exports=u},82944:(n,a,s)=>{var o=s(48653),u=s(71694),l=s(76112),c=function(h,d){if(h.left>d.right||h.right<d.left||h.top>d.bottom||h.bottom<d.top)return!1;var f=h.getLineA(),m=h.getLineB(),p=h.getLineC(),g=d.getLineA(),v=d.getLineB(),y=d.getLineC();if(l(f,g)||l(f,v)||l(f,y)||l(m,g)||l(m,v)||l(m,y)||l(p,g)||l(p,v)||l(p,y))return!0;var x=u(h),b=o(d,x,!0);return b.length>0||(x=u(d),b=o(h,x,!0),b.length>0)};n.exports=c},91865:(n,a,s)=>{n.exports={CircleToCircle:s(2044),CircleToRectangle:s(81491),GetCircleToCircle:s(63376),GetCircleToRectangle:s(97439),GetLineToCircle:s(4042),GetLineToLine:s(36100),GetLineToPoints:s(3073),GetLineToPolygon:s(56362),GetLineToRectangle:s(60646),GetRaysFromPointToPolygon:s(71147),GetRectangleIntersection:s(68389),GetRectangleToRectangle:s(52784),GetRectangleToTriangle:s(26341),GetTriangleToCircle:s(38720),GetTriangleToLine:s(13882),GetTriangleToTriangle:s(75636),LineToCircle:s(80462),LineToLine:s(76112),LineToRectangle:s(92773),PointToLine:s(16204),PointToLineSegment:s(14199),RectangleToRectangle:s(59996),RectangleToTriangle:s(89265),RectangleToValues:s(84411),TriangleToCircle:s(67636),TriangleToLine:s(2822),TriangleToTriangle:s(82944)}},91938:n=>{var a=function(s){return Math.atan2(s.y2-s.y1,s.x2-s.x1)};n.exports=a},84993:n=>{var a=function(s,o,u){o===void 0&&(o=1),u===void 0&&(u=[]);var l=Math.round(s.x1),c=Math.round(s.y1),h=Math.round(s.x2),d=Math.round(s.y2),f=Math.abs(h-l),m=Math.abs(d-c),p=l<h?1:-1,g=c<d?1:-1,v=f-m;u.push({x:l,y:c});for(var y=1;!(l===h&&c===d);){var x=v<<1;x>-m&&(v-=m,l+=p),x<f&&(v+=f,c+=g),y%o===0&&u.push({x:l,y:c}),y++}return u};n.exports=a},36469:n=>{var a=function(s,o,u){var l=o-(s.x1+s.x2)/2,c=u-(s.y1+s.y2)/2;return s.x1+=l,s.y1+=c,s.x2+=l,s.y2+=c,s};n.exports=a},31116:(n,a,s)=>{var o=s(23031),u=function(l){return new o(l.x1,l.y1,l.x2,l.y2)};n.exports=u},59944:n=>{var a=function(s,o){return o.setTo(s.x1,s.y1,s.x2,s.y2)};n.exports=a},59220:n=>{var a=function(s,o){return s.x1===o.x1&&s.y1===o.y1&&s.x2===o.x2&&s.y2===o.y2};n.exports=a},78177:(n,a,s)=>{var o=s(35001),u=function(l,c,h){h===void 0&&(h=c);var d=o(l),f=l.x2-l.x1,m=l.y2-l.y1;return c&&(l.x1=l.x1-f/d*c,l.y1=l.y1-m/d*c),h&&(l.x2=l.x2+f/d*h,l.y2=l.y2+m/d*h),l};n.exports=u},26708:(n,a,s)=>{var o=s(52816),u=s(6113),l=s(2141),c=function(h,d,f,m,p){m===void 0&&(m=0),p===void 0&&(p=[]);var g=[],v=h.x1,y=h.y1,x=h.x2-v,b=h.y2-y,w=u(d,p),C,_,S=f-1;for(C=0;C<S;C++)_=w(C/S),g.push(new l(v+x*_,y+b*_));if(_=w(1),g.push(new l(v+x*_,y+b*_)),m>0){var T=g[0],A=[T];for(C=1;C<g.length-1;C++){var M=g[C];o(T,M)>=m&&(A.push(M),T=M)}var I=g[g.length-1];return o(T,I)<m&&A.pop(),A.push(I),A}else return g};n.exports=c},32125:(n,a,s)=>{var o=s(2141),u=function(l,c){return c===void 0&&(c=new o),c.x=(l.x1+l.x2)/2,c.y=(l.y1+l.y2)/2,c};n.exports=u},99569:(n,a,s)=>{var o=s(2141),u=function(l,c,h){h===void 0&&(h=new o);var d=l.x1,f=l.y1,m=l.x2,p=l.y2,g=(m-d)*(m-d)+(p-f)*(p-f);if(g===0)return h;var v=((c.x-d)*(m-d)+(c.y-f)*(p-f))/g;return h.x=d+v*(m-d),h.y=f+v*(p-f),h};n.exports=u},34638:(n,a,s)=>{var o=s(36383),u=s(91938),l=s(2141),c=function(h,d){d===void 0&&(d=new l);var f=u(h)-o.TAU;return d.x=Math.cos(f),d.y=Math.sin(f),d};n.exports=c},13151:(n,a,s)=>{var o=s(2141),u=function(l,c,h){return h===void 0&&(h=new o),h.x=l.x1+(l.x2-l.x1)*c,h.y=l.y1+(l.y2-l.y1)*c,h};n.exports=u},15258:(n,a,s)=>{var o=s(35001),u=s(2141),l=function(c,h,d,f){f===void 0&&(f=[]),!h&&d>0&&(h=o(c)/d);for(var m=c.x1,p=c.y1,g=c.x2,v=c.y2,y=0;y<h;y++){var x=y/h,b=m+(g-m)*x,w=p+(v-p)*x;f.push(new u(b,w))}return f};n.exports=l},26408:n=>{var a=function(s,o){var u=s.x1,l=s.y1,c=s.x2,h=s.y2,d=(c-u)*(c-u)+(h-l)*(h-l);if(d===0)return!1;var f=((l-o.y)*(c-u)-(u-o.x)*(h-l))/d;return Math.abs(f)*Math.sqrt(d)};n.exports=a},98770:n=>{var a=function(s){return Math.abs(s.y1-s.y2)};n.exports=a},35001:n=>{var a=function(s){return Math.sqrt((s.x2-s.x1)*(s.x2-s.x1)+(s.y2-s.y1)*(s.y2-s.y1))};n.exports=a},23031:(n,a,s)=>{var o=s(83419),u=s(13151),l=s(15258),c=s(23777),h=s(65822),d=s(26099),f=new o({initialize:function(p,g,v,y){p===void 0&&(p=0),g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=0),this.type=c.LINE,this.x1=p,this.y1=g,this.x2=v,this.y2=y},getPoint:function(m,p){return u(this,m,p)},getPoints:function(m,p,g){return l(this,m,p,g)},getRandomPoint:function(m){return h(this,m)},setTo:function(m,p,g,v){return m===void 0&&(m=0),p===void 0&&(p=0),g===void 0&&(g=0),v===void 0&&(v=0),this.x1=m,this.y1=p,this.x2=g,this.y2=v,this},setFromObjects:function(m,p){return this.x1=m.x,this.y1=m.y,this.x2=p.x,this.y2=p.y,this},getPointA:function(m){return m===void 0&&(m=new d),m.set(this.x1,this.y1),m},getPointB:function(m){return m===void 0&&(m=new d),m.set(this.x2,this.y2),m},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(m){this.x1<=this.x2?this.x1=m:this.x2=m}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(m){this.x1>this.x2?this.x1=m:this.x2=m}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(m){this.y1<=this.y2?this.y1=m:this.y2=m}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(m){this.y1>this.y2?this.y1=m:this.y2=m}}});n.exports=f},64795:(n,a,s)=>{var o=s(36383),u=s(15994),l=s(91938),c=function(h){var d=l(h)-o.TAU;return u(d,-Math.PI,Math.PI)};n.exports=c},52616:(n,a,s)=>{var o=s(36383),u=s(91938),l=function(c){return Math.cos(u(c)-o.TAU)};n.exports=l},87231:(n,a,s)=>{var o=s(36383),u=s(91938),l=function(c){return Math.sin(u(c)-o.TAU)};n.exports=l},89662:n=>{var a=function(s,o,u){return s.x1+=o,s.y1+=u,s.x2+=o,s.y2+=u,s};n.exports=a},71165:n=>{var a=function(s){return-((s.x2-s.x1)/(s.y2-s.y1))};n.exports=a},65822:(n,a,s)=>{var o=s(2141),u=function(l,c){c===void 0&&(c=new o);var h=Math.random();return c.x=l.x1+h*(l.x2-l.x1),c.y=l.y1+h*(l.y2-l.y1),c};n.exports=u},69777:(n,a,s)=>{var o=s(91938),u=s(64795),l=function(c,h){return 2*u(h)-Math.PI-o(c)};n.exports=l},39706:(n,a,s)=>{var o=s(64400),u=function(l,c){var h=(l.x1+l.x2)/2,d=(l.y1+l.y2)/2;return o(l,h,d,c)};n.exports=u},82585:(n,a,s)=>{var o=s(64400),u=function(l,c,h){return o(l,c.x,c.y,h)};n.exports=u},64400:n=>{var a=function(s,o,u,l){var c=Math.cos(l),h=Math.sin(l),d=s.x1-o,f=s.y1-u;return s.x1=d*c-f*h+o,s.y1=d*h+f*c+u,d=s.x2-o,f=s.y2-u,s.x2=d*c-f*h+o,s.y2=d*h+f*c+u,s};n.exports=a},62377:n=>{var a=function(s,o,u,l,c){return s.x1=o,s.y1=u,s.x2=o+Math.cos(l)*c,s.y2=u+Math.sin(l)*c,s};n.exports=a},71366:n=>{var a=function(s){return(s.y2-s.y1)/(s.x2-s.x1)};n.exports=a},10809:n=>{var a=function(s){return Math.abs(s.x1-s.x2)};n.exports=a},2529:(n,a,s)=>{var o=s(23031);o.Angle=s(91938),o.BresenhamPoints=s(84993),o.CenterOn=s(36469),o.Clone=s(31116),o.CopyFrom=s(59944),o.Equals=s(59220),o.Extend=s(78177),o.GetEasedPoints=s(26708),o.GetMidPoint=s(32125),o.GetNearestPoint=s(99569),o.GetNormal=s(34638),o.GetPoint=s(13151),o.GetPoints=s(15258),o.GetShortestDistance=s(26408),o.Height=s(98770),o.Length=s(35001),o.NormalAngle=s(64795),o.NormalX=s(52616),o.NormalY=s(87231),o.Offset=s(89662),o.PerpSlope=s(71165),o.Random=s(65822),o.ReflectAngle=s(69777),o.Rotate=s(39706),o.RotateAroundPoint=s(82585),o.RotateAroundXY=s(64400),o.SetToAngle=s(62377),o.Slope=s(71366),o.Width=s(10809),n.exports=o},83997:(n,a,s)=>{var o=s(83419),u=s(87841),l=s(26099);function c(d,f,m,p){var g=d-m,v=f-p,y=g*g+v*v;return Math.sqrt(y)}var h=new o({initialize:function(f,m,p){this.vertex1=f,this.vertex2=m,this.vertex3=p,this.bounds=new u,this._inCenter=new l},getInCenter:function(d){d===void 0&&(d=!0);var f=this.vertex1,m=this.vertex2,p=this.vertex3,g,v,y,x,b,w;d?(g=f.x,v=f.y,y=m.x,x=m.y,b=p.x,w=p.y):(g=f.vx,v=f.vy,y=m.vx,x=m.vy,b=p.vx,w=p.vy);var C=c(b,w,y,x),_=c(g,v,b,w),S=c(y,x,g,v),T=C+_+S;return this._inCenter.set((g*C+y*_+b*S)/T,(v*C+x*_+w*S)/T)},contains:function(d,f,m){var p=this.vertex1,g=this.vertex2,v=this.vertex3,y=p.vx,x=p.vy,b=g.vx,w=g.vy,C=v.vx,_=v.vy;if(m){var S=m.a,T=m.b,A=m.c,M=m.d,I=m.e,D=m.f;y=p.vx*S+p.vy*A+I,x=p.vx*T+p.vy*M+D,b=g.vx*S+g.vy*A+I,w=g.vx*T+g.vy*M+D,C=v.vx*S+v.vy*A+I,_=v.vx*T+v.vy*M+D}var k=C-y,G=_-x,R=b-y,H=w-x,j=d-y,Z=f-x,ee=k*k+G*G,Y=k*R+G*H,V=k*j+G*Z,O=R*R+H*H,F=R*j+H*Z,X=ee*O-Y*Y,ie=X===0?0:1/X,re=(O*V-Y*F)*ie,q=(ee*F-Y*V)*ie;return re>=0&&q>=0&&re+q<1},isCounterClockwise:function(d){var f=this.vertex1,m=this.vertex2,p=this.vertex3,g=(m.vx-f.vx)*(p.vy-f.vy)-(m.vy-f.vy)*(p.vx-f.vx);return d<=0?g>=0:g<0},load:function(d,f,m,p,g){return m=this.vertex1.load(d,f,m,p,g),m=this.vertex2.load(d,f,m,p,g),m=this.vertex3.load(d,f,m,p,g),m},transformCoordinatesLocal:function(d,f,m,p){return this.vertex1.transformCoordinatesLocal(d,f,m,p),this.vertex2.transformCoordinatesLocal(d,f,m,p),this.vertex3.transformCoordinatesLocal(d,f,m,p),this},updateBounds:function(){var d=this.vertex1,f=this.vertex2,m=this.vertex3,p=this.bounds;return p.x=Math.min(d.vx,f.vx,m.vx),p.y=Math.min(d.vy,f.vy,m.vy),p.width=Math.max(d.vx,f.vx,m.vx)-p.x,p.height=Math.max(d.vy,f.vy,m.vy)-p.y,this},isInView:function(d,f,m,p,g,v,y,x,b,w,C){this.update(p,g,v,y,x,b,w,C);var _=this.vertex1,S=this.vertex2,T=this.vertex3;if(_.ta<=0&&S.ta<=0&&T.ta<=0||f&&!this.isCounterClockwise(m))return!1;var A=this.bounds;A.x=Math.min(_.tx,S.tx,T.tx),A.y=Math.min(_.ty,S.ty,T.ty),A.width=Math.max(_.tx,S.tx,T.tx)-A.x,A.height=Math.max(_.ty,S.ty,T.ty)-A.y;var M=d.x+d.width,I=d.y+d.height;return A.width<=0||A.height<=0||d.width<=0||d.height<=0?!1:!(A.right<d.x||A.bottom<d.y||A.x>M||A.y>I)},scrollUV:function(d,f){return this.vertex1.scrollUV(d,f),this.vertex2.scrollUV(d,f),this.vertex3.scrollUV(d,f),this},scaleUV:function(d,f){return this.vertex1.scaleUV(d,f),this.vertex2.scaleUV(d,f),this.vertex3.scaleUV(d,f),this},setColor:function(d){return this.vertex1.color=d,this.vertex2.color=d,this.vertex3.color=d,this},update:function(d,f,m,p,g,v,y,x){return this.vertex1.update(f,m,p,g,v,y,x,d),this.vertex2.update(f,m,p,g,v,y,x,d),this.vertex3.update(f,m,p,g,v,y,x,d),this},translate:function(d,f){f===void 0&&(f=0);var m=this.vertex1,p=this.vertex2,g=this.vertex3;return m.x+=d,m.y+=f,p.x+=d,p.y+=f,g.x+=d,g.y+=f,this},x:{get:function(){return this.getInCenter().x},set:function(d){var f=this.getInCenter();this.translate(d-f.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(d){var f=this.getInCenter();this.translate(0,d-f.y)}},alpha:{get:function(){var d=this.vertex1,f=this.vertex2,m=this.vertex3;return(d.alpha+f.alpha+m.alpha)/3},set:function(d){this.vertex1.alpha=d,this.vertex2.alpha=d,this.vertex3.alpha=d}},depth:{get:function(){var d=this.vertex1,f=this.vertex2,m=this.vertex3;return(d.vz+f.vz+m.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});n.exports=h},48803:(n,a,s)=>{var o=s(83997),u=s(95540),l=s(37867),c=s(25836),h=s(39318),d=new c,f=new c,m=new l,p=function(g){var v=u(g,"mesh"),y=u(g,"texture",null),x=u(g,"frame"),b=u(g,"width",1),w=u(g,"height",b),C=u(g,"widthSegments",1),_=u(g,"heightSegments",C),S=u(g,"x",0),T=u(g,"y",0),A=u(g,"z",0),M=u(g,"rotateX",0),I=u(g,"rotateY",0),D=u(g,"rotateZ",0),k=u(g,"zIsUp",!0),G=u(g,"isOrtho",v?v.dirtyCache[11]:!1),R=u(g,"colors",[16777215]),H=u(g,"alphas",[1]),j=u(g,"tile",!1),Z=u(g,"flipY",!1),ee=u(g,"width",null),Y={faces:[],verts:[]};d.set(S,T,A),f.set(M,I,D),m.fromRotationXYTranslation(f,d,k);var V;if(!y&&v)y=v.texture,x||(V=v.frame);else if(v&&typeof y=="string")y=v.scene.sys.textures.get(y);else if(!y)return Y;V||(V=y.get(x)),!ee&&G&&y&&v&&(b=V.width/v.height,w=V.height/v.height);var O=b/2,F=w/2,X=Math.floor(C),ie=Math.floor(_),re=X+1,q=ie+1,ae=b/X,ue=w/ie,me=[],be=[],ke,ze,De=0,ge=1,Et=0,ct=1;V&&(De=V.u0,ge=V.u1,Z?(Et=V.v1,ct=V.v0):(Et=V.v0,ct=V.v1));var We=ge-De,Ue=ct-Et;for(ze=0;ze<q;ze++){var qe=ze*ue-F;for(ke=0;ke<re;ke++){var it=ke*ae-O;be.push(it,-qe);var Ft=De+We*(ke/X),at=Et+Ue*(ze/ie);me.push(Ft,at)}}Array.isArray(R)||(R=[R]),Array.isArray(H)||(H=[H]);var bt=0,ai=0;for(ze=0;ze<ie;ze++)for(ke=0;ke<X;ke++){var ei=(ke+re*ze)*2,li=(ke+re*(ze+1))*2,fi=(ke+1+re*(ze+1))*2,vi=(ke+1+re*ze)*2,Ht=R[ai],xi=H[bt],Ti=new h(be[ei],be[ei+1],0,me[ei],me[ei+1],Ht,xi).transformMat4(m),Tr=new h(be[li],be[li+1],0,me[li],me[li+1],Ht,xi).transformMat4(m),mn=new h(be[vi],be[vi+1],0,me[vi],me[vi+1],Ht,xi).transformMat4(m),wn=new h(be[li],be[li+1],0,me[li],me[li+1],Ht,xi).transformMat4(m),Xr=new h(be[fi],be[fi+1],0,me[fi],me[fi+1],Ht,xi).transformMat4(m),gn=new h(be[vi],be[vi+1],0,me[vi],me[vi+1],Ht,xi).transformMat4(m);j&&(Ti.setUVs(De,ct),Tr.setUVs(De,Et),mn.setUVs(ge,ct),wn.setUVs(De,Et),Xr.setUVs(ge,Et),gn.setUVs(ge,ct)),ai++,ai===R.length&&(ai=0),bt++,bt===H.length&&(bt=0),Y.verts.push(Ti,Tr,mn,wn,Xr,gn),Y.faces.push(new o(Ti,Tr,mn),new o(wn,Xr,gn))}return v&&(v.faces=v.faces.concat(Y.faces),v.vertices=v.vertices.concat(Y.verts)),Y};n.exports=p},34684:(n,a,s)=>{var o=s(83997),u=s(37867),l=s(25836),c=s(39318),h=new l,d=new l,f=new u,m=function(p,g,v,y,x,b,w,C,_,S){v===void 0&&(v=1),y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=0),C===void 0&&(C=0),_===void 0&&(_=0),S===void 0&&(S=!0);var T={faces:[],verts:[]},A=p.materials;h.set(y,x,b),d.set(w,C,_),f.fromRotationXYTranslation(d,h,S);for(var M=0;M<p.models.length;M++)for(var I=p.models[M],D=I.vertices,k=I.textureCoords,G=I.faces,R=0;R<G.length;R++){var H=G[R],j=H.vertices[0],Z=H.vertices[1],ee=H.vertices[2],Y=D[j.vertexIndex],V=D[Z.vertexIndex],O=D[ee.vertexIndex],F=j.textureCoordsIndex,X=Z.textureCoordsIndex,ie=ee.textureCoordsIndex,re=F===-1?{u:0,v:1}:k[F],q=X===-1?{u:0,v:0}:k[X],ae=ie===-1?{u:1,v:1}:k[ie],ue=16777215;H.material!==""&&A[H.material]&&(ue=A[H.material]);var me=new c(Y.x*v,Y.y*v,Y.z*v,re.u,re.v,ue).transformMat4(f),be=new c(V.x*v,V.y*v,V.z*v,q.u,q.v,ue).transformMat4(f),ke=new c(O.x*v,O.y*v,O.z*v,ae.u,ae.v,ue).transformMat4(f);T.verts.push(me,be,ke),T.faces.push(new o(me,be,ke))}return g&&(g.faces=g.faces.concat(T.faces),g.vertices=g.vertices.concat(T.verts)),T};n.exports=m},92515:(n,a,s)=>{var o=s(83997),u=s(39318),l=function(c,h,d,f,m,p,g,v){if(f===void 0&&(f=!1),p===void 0&&(p=16777215),g===void 0&&(g=1),v===void 0&&(v=!1),c.length!==h.length&&!f){console.warn("GenerateVerts: vertices and uvs count not equal");return}var y={faces:[],vertices:[]},x,b,w,C,_,S,T,A,M,I,D,k=f?3:2,G=Array.isArray(p),R=Array.isArray(g);if(Array.isArray(d)&&d.length>0)for(x=0;x<d.length;x++){var H=d[x],j=d[x]*2,Z=d[x]*k;b=c[Z],w=c[Z+1],C=f?c[Z+2]:0,_=h[j],S=h[j+1],v&&(S=1-S),T=G?p[H]:p,A=R?g[H]:g,M=0,I=0,D=0,m&&(M=m[Z],I=m[Z+1],D=f?m[Z+2]:0),y.vertices.push(new u(b,w,C,_,S,T,A,M,I,D))}else{var ee=0,Y=0;for(x=0;x<c.length;x+=k)b=c[x],w=c[x+1],C=f?c[x+2]:0,_=h[ee],S=h[ee+1],T=G?p[Y]:p,A=R?g[Y]:g,M=0,I=0,D=0,m&&(M=m[x],I=m[x+1],D=f?m[x+2]:0),y.vertices.push(new u(b,w,C,_,S,T,A,M,I,D)),ee+=2,Y++}for(x=0;x<y.vertices.length;x+=3){var V=y.vertices[x],O=y.vertices[x+1],F=y.vertices[x+2];y.faces.push(new o(V,O,F))}return y};n.exports=l},85048:n=>{var a=!0,s="untitled",o="",u="";function l(b){var w=b.indexOf("#");return w>-1?b.substring(0,w):b}function c(b){return b.models.length===0&&b.models.push({faces:[],name:s,textureCoords:[],vertexNormals:[],vertices:[]}),o="",b.models[b.models.length-1]}function h(b,w){var C=b.length>=2?b[1]:s;w.models.push({faces:[],name:C,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function d(b){b.length===2&&(o=b[1])}function f(b,w){var C=b.length,_=C>=2?parseFloat(b[1]):0,S=C>=3?parseFloat(b[2]):0,T=C>=4?parseFloat(b[3]):0;c(w).vertices.push({x:_,y:S,z:T})}function m(b,w){var C=b.length,_=C>=2?parseFloat(b[1]):0,S=C>=3?parseFloat(b[2]):0,T=C>=4?parseFloat(b[3]):0;isNaN(_)&&(_=0),isNaN(S)&&(S=0),isNaN(T)&&(T=0),a&&(S=1-S),c(w).textureCoords.push({u:_,v:S,w:T})}function p(b,w){var C=b.length,_=C>=2?parseFloat(b[1]):0,S=C>=3?parseFloat(b[2]):0,T=C>=4?parseFloat(b[3]):0;c(w).vertexNormals.push({x:_,y:S,z:T})}function g(b,w){var C=b.length-1;if(!(C<3)){for(var _={group:o,material:u,vertices:[]},S=0;S<C;S++){var T=b[S+1],A=T.split("/"),M=A.length;if(!(M<1||M>3)){var I=0,D=0,k=0;I=parseInt(A[0],10),M>1&&A[1]!==""&&(D=parseInt(A[1],10)),M>2&&(k=parseInt(A[2],10)),I!==0&&(I<0&&(I=c(w).vertices.length+1+I),D-=1,I-=1,k-=1,_.vertices.push({textureCoordsIndex:D,vertexIndex:I,vertexNormalIndex:k}))}}c(w).faces.push(_)}}function v(b,w){b.length>=2&&w.materialLibraries.push(b[1])}function y(b){b.length>=2&&(u=b[1])}var x=function(b,w){w===void 0&&(w=!0),a=w;var C={materials:{},materialLibraries:[],models:[]};o="",u="";for(var _=b.split(`
`),S=0;S<_.length;S++){var T=l(_[S]),A=T.replace(/\s\s+/g," ").trim().split(" ");switch(A[0].toLowerCase()){case"o":h(A,C);break;case"g":d(A);break;case"v":f(A,C);break;case"vt":m(A,C);break;case"vn":p(A,C);break;case"f":g(A,C);break;case"mtllib":v(A,C);break;case"usemtl":y(A);break}}return C};n.exports=x},61485:(n,a,s)=>{var o=s(37589),u=function(l){for(var c={},h=l.split(`
`),d="",f=0;f<h.length;f++){var m=h[f].trim();if(!(m.indexOf("#")===0||m==="")){var p=m.replace(/\s\s+/g," ").trim().split(" ");switch(p[0].toLowerCase()){case"newmtl":{d=p[1];break}case"kd":{var g=Math.floor(p[1]*255),v=p.length>=2?Math.floor(p[2]*255):g,y=p.length>=3?Math.floor(p[3]*255):g;c[d]=o(g,v,y);break}}}}return c};n.exports=u},92570:n=>{var a=function(s,o,u,l){var c,h;if(u===void 0&&l===void 0){var d=s.getInCenter();c=d.x,h=d.y}var f=Math.cos(o),m=Math.sin(o),p=s.vertex1,g=s.vertex2,v=s.vertex3,y=p.x-c,x=p.y-h;p.set(y*f-x*m+c,y*m+x*f+h),y=g.x-c,x=g.y-h,g.set(y*f-x*m+c,y*m+x*f+h),y=v.x-c,x=v.y-h,v.set(y*f-x*m+c,y*m+x*f+h)};n.exports=a},39318:(n,a,s)=>{var o=s(83419),u=s(70554),l=s(25836),c=new o({Extends:l,initialize:function(d,f,m,p,g,v,y,x,b,w){v===void 0&&(v=16777215),y===void 0&&(y=1),x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=0),l.call(this,d,f,m),this.vx=0,this.vy=0,this.vz=0,this.nx=x,this.ny=b,this.nz=w,this.u=p,this.v=g,this.color=v,this.alpha=y,this.tx=0,this.ty=0,this.ta=0,this.tu=p,this.tv=g},setUVs:function(h,d){return this.u=h,this.v=d,this.tu=h,this.tv=d,this},scrollUV:function(h,d){return this.tu+=h,this.tv+=d,this},scaleUV:function(h,d){return this.tu=this.u*h,this.tv=this.v*d,this},transformCoordinatesLocal:function(h,d,f,m){var p=this.x,g=this.y,v=this.z,y=h.val,x=p*y[0]+g*y[4]+v*y[8]+y[12],b=p*y[1]+g*y[5]+v*y[9]+y[13],w=p*y[2]+g*y[6]+v*y[10]+y[14],C=p*y[3]+g*y[7]+v*y[11]+y[15];this.vx=x/C*d,this.vy=-(b/C)*f,m<=0?this.vz=w/C:this.vz=-(w/C)},resize:function(h,d,f,m,p,g){return this.x=h,this.y=d,this.vx=this.x*f,this.vy=-this.y*m,this.vz=0,p<.5?this.vx+=f*(.5-p):p>.5&&(this.vx-=f*(p-.5)),g<.5?this.vy+=m*(.5-g):g>.5&&(this.vy-=m*(g-.5)),this},update:function(h,d,f,m,p,g,v,y){var x=this.vx*h+this.vy*f+p,b=this.vx*d+this.vy*m+g;return v&&(x=Math.round(x),b=Math.round(b)),this.tx=x,this.ty=b,this.ta=this.alpha*y,this},load:function(h,d,f,m,p){return h[++f]=this.tx,h[++f]=this.ty,h[++f]=this.tu,h[++f]=this.tv,h[++f]=m,h[++f]=p,d[++f]=u.getTintAppendFloatAlpha(this.color,this.ta),f}});n.exports=c},73090:(n,a,s)=>{var o={Face:s(83997),GenerateGridVerts:s(48803),GenerateObjVerts:s(34684),GenerateVerts:s(92515),ParseObj:s(85048),ParseObjMaterial:s(61485),RotateFace:s(92570),Vertex:s(39318)};n.exports=o},96550:n=>{var a=function(s){return s.setTo(Math.ceil(s.x),Math.ceil(s.y))};n.exports=a},99706:(n,a,s)=>{var o=s(2141),u=function(l){return new o(l.x,l.y)};n.exports=u},68010:n=>{var a=function(s,o){return o.setTo(s.x,s.y)};n.exports=a},27814:n=>{var a=function(s,o){return s.x===o.x&&s.y===o.y};n.exports=a},73565:n=>{var a=function(s){return s.setTo(Math.floor(s.x),Math.floor(s.y))};n.exports=a},87555:(n,a,s)=>{var o=s(2141),u=function(l,c){if(c===void 0&&(c=new o),!Array.isArray(l))throw new Error("GetCentroid points argument must be an array");var h=l.length;if(h<1)throw new Error("GetCentroid points array must not be empty");if(h===1)c.x=l[0].x,c.y=l[0].y;else{for(var d=0;d<h;d++)c.x+=l[d].x,c.y+=l[d].y;c.x/=h,c.y/=h}return c};n.exports=u},28793:n=>{var a=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)};n.exports=a},44405:n=>{var a=function(s){return s.x*s.x+s.y*s.y};n.exports=a},20873:(n,a,s)=>{var o=s(87841),u=function(l,c){c===void 0&&(c=new o);for(var h=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,m=Number.POSITIVE_INFINITY,p=0;p<l.length;p++){var g=l[p];g.x>h&&(h=g.x),g.x<d&&(d=g.x),g.y>f&&(f=g.y),g.y<m&&(m=g.y)}return c.x=d,c.y=m,c.width=h-d,c.height=f-m,c};n.exports=u},26152:(n,a,s)=>{var o=s(2141),u=function(l,c,h,d){return h===void 0&&(h=0),d===void 0&&(d=new o),d.x=l.x+(c.x-l.x)*h,d.y=l.y+(c.y-l.y)*h,d};n.exports=u},55767:n=>{var a=function(s){return s.setTo(s.y,s.x)};n.exports=a},79432:(n,a,s)=>{var o=s(2141),u=function(l,c){return c===void 0&&(c=new o),c.setTo(-l.x,-l.y)};n.exports=u},2141:(n,a,s)=>{var o=s(83419),u=s(23777),l=new o({initialize:function(h,d){h===void 0&&(h=0),d===void 0&&(d=h),this.type=u.POINT,this.x=h,this.y=d},setTo:function(c,h){return c===void 0&&(c=0),h===void 0&&(h=c),this.x=c,this.y=h,this}});n.exports=l},72930:(n,a,s)=>{var o=s(2141),u=s(44405),l=function(c,h,d){d===void 0&&(d=new o);var f=c.x*h.x+c.y*h.y,m=f/u(h);return m!==0&&(d.x=m*h.x,d.y=m*h.y),d};n.exports=l},62880:(n,a,s)=>{var o=s(2141),u=function(l,c,h){h===void 0&&(h=new o);var d=l.x*c.x+l.y*c.y;return d!==0&&(h.x=d*c.x,h.y=d*c.y),h};n.exports=u},15093:(n,a,s)=>{var o=s(28793),u=function(l,c){if(l.x!==0||l.y!==0){var h=o(l);l.x/=h,l.y/=h}return l.x*=c,l.y*=c,l};n.exports=u},43711:(n,a,s)=>{var o=s(2141);o.Ceil=s(96550),o.Clone=s(99706),o.CopyFrom=s(68010),o.Equals=s(27814),o.Floor=s(73565),o.GetCentroid=s(87555),o.GetMagnitude=s(28793),o.GetMagnitudeSq=s(44405),o.GetRectangleFromPoints=s(20873),o.Interpolate=s(26152),o.Invert=s(55767),o.Negative=s(79432),o.Project=s(72930),o.ProjectUnit=s(62880),o.SetMagnitude=s(15093),n.exports=o},12306:(n,a,s)=>{var o=s(25717),u=function(l){return new o(l.points)};n.exports=u},63814:n=>{var a=function(s,o,u){for(var l=!1,c=-1,h=s.points.length-1;++c<s.points.length;h=c){var d=s.points[c].x,f=s.points[c].y,m=s.points[h].x,p=s.points[h].y;(f<=u&&u<p||p<=u&&u<f)&&o<(m-d)*(u-f)/(p-f)+d&&(l=!l)}return l};n.exports=a},99338:(n,a,s)=>{var o=s(63814),u=function(l,c){return o(l,c.x,c.y)};n.exports=u},94811:n=>{"use strict";function a(Y,V,O){O=O||2;var F=V&&V.length,X=F?V[0]*O:Y.length,ie=s(Y,0,X,O,!0),re=[];if(!ie||ie.next===ie.prev)return re;var q,ae,ue,me,be,ke,ze;if(F&&(ie=f(Y,V,ie,O)),Y.length>80*O){q=ue=Y[0],ae=me=Y[1];for(var De=O;De<X;De+=O)be=Y[De],ke=Y[De+1],be<q&&(q=be),ke<ae&&(ae=ke),be>ue&&(ue=be),ke>me&&(me=ke);ze=Math.max(ue-q,me-ae),ze=ze!==0?32767/ze:0}return u(ie,re,O,q,ae,ze,0),re}function s(Y,V,O,F,X){var ie,re;if(X===ee(Y,V,O,F)>0)for(ie=V;ie<O;ie+=F)re=H(ie,Y[ie],Y[ie+1],re);else for(ie=O-F;ie>=V;ie-=F)re=H(ie,Y[ie],Y[ie+1],re);return re&&T(re,re.next)&&(j(re),re=re.next),re}function o(Y,V){if(!Y)return Y;V||(V=Y);var O=Y,F;do if(F=!1,!O.steiner&&(T(O,O.next)||S(O.prev,O,O.next)===0)){if(j(O),O=V=O.prev,O===O.next)break;F=!0}else O=O.next;while(F||O!==V);return V}function u(Y,V,O,F,X,ie,re){if(Y){!re&&ie&&y(Y,F,X,ie);for(var q=Y,ae,ue;Y.prev!==Y.next;){if(ae=Y.prev,ue=Y.next,ie?c(Y,F,X,ie):l(Y)){V.push(ae.i/O|0),V.push(Y.i/O|0),V.push(ue.i/O|0),j(Y),Y=ue.next,q=ue.next;continue}if(Y=ue,Y===q){re?re===1?(Y=h(o(Y),V,O),u(Y,V,O,F,X,ie,2)):re===2&&d(Y,V,O,F,X,ie):u(o(Y),V,O,F,X,ie,1);break}}}}function l(Y){var V=Y.prev,O=Y,F=Y.next;if(S(V,O,F)>=0)return!1;for(var X=V.x,ie=O.x,re=F.x,q=V.y,ae=O.y,ue=F.y,me=X<ie?X<re?X:re:ie<re?ie:re,be=q<ae?q<ue?q:ue:ae<ue?ae:ue,ke=X>ie?X>re?X:re:ie>re?ie:re,ze=q>ae?q>ue?q:ue:ae>ue?ae:ue,De=F.next;De!==V;){if(De.x>=me&&De.x<=ke&&De.y>=be&&De.y<=ze&&C(X,q,ie,ae,re,ue,De.x,De.y)&&S(De.prev,De,De.next)>=0)return!1;De=De.next}return!0}function c(Y,V,O,F){var X=Y.prev,ie=Y,re=Y.next;if(S(X,ie,re)>=0)return!1;for(var q=X.x,ae=ie.x,ue=re.x,me=X.y,be=ie.y,ke=re.y,ze=q<ae?q<ue?q:ue:ae<ue?ae:ue,De=me<be?me<ke?me:ke:be<ke?be:ke,ge=q>ae?q>ue?q:ue:ae>ue?ae:ue,Et=me>be?me>ke?me:ke:be>ke?be:ke,ct=b(ze,De,V,O,F),We=b(ge,Et,V,O,F),Ue=Y.prevZ,qe=Y.nextZ;Ue&&Ue.z>=ct&&qe&&qe.z<=We;){if(Ue.x>=ze&&Ue.x<=ge&&Ue.y>=De&&Ue.y<=Et&&Ue!==X&&Ue!==re&&C(q,me,ae,be,ue,ke,Ue.x,Ue.y)&&S(Ue.prev,Ue,Ue.next)>=0||(Ue=Ue.prevZ,qe.x>=ze&&qe.x<=ge&&qe.y>=De&&qe.y<=Et&&qe!==X&&qe!==re&&C(q,me,ae,be,ue,ke,qe.x,qe.y)&&S(qe.prev,qe,qe.next)>=0))return!1;qe=qe.nextZ}for(;Ue&&Ue.z>=ct;){if(Ue.x>=ze&&Ue.x<=ge&&Ue.y>=De&&Ue.y<=Et&&Ue!==X&&Ue!==re&&C(q,me,ae,be,ue,ke,Ue.x,Ue.y)&&S(Ue.prev,Ue,Ue.next)>=0)return!1;Ue=Ue.prevZ}for(;qe&&qe.z<=We;){if(qe.x>=ze&&qe.x<=ge&&qe.y>=De&&qe.y<=Et&&qe!==X&&qe!==re&&C(q,me,ae,be,ue,ke,qe.x,qe.y)&&S(qe.prev,qe,qe.next)>=0)return!1;qe=qe.nextZ}return!0}function h(Y,V,O){var F=Y;do{var X=F.prev,ie=F.next.next;!T(X,ie)&&A(X,F,F.next,ie)&&k(X,ie)&&k(ie,X)&&(V.push(X.i/O|0),V.push(F.i/O|0),V.push(ie.i/O|0),j(F),j(F.next),F=Y=ie),F=F.next}while(F!==Y);return o(F)}function d(Y,V,O,F,X,ie){var re=Y;do{for(var q=re.next.next;q!==re.prev;){if(re.i!==q.i&&_(re,q)){var ae=R(re,q);re=o(re,re.next),ae=o(ae,ae.next),u(re,V,O,F,X,ie,0),u(ae,V,O,F,X,ie,0);return}q=q.next}re=re.next}while(re!==Y)}function f(Y,V,O,F){var X=[],ie,re,q,ae,ue;for(ie=0,re=V.length;ie<re;ie++)q=V[ie]*F,ae=ie<re-1?V[ie+1]*F:Y.length,ue=s(Y,q,ae,F,!1),ue===ue.next&&(ue.steiner=!0),X.push(w(ue));for(X.sort(m),ie=0;ie<X.length;ie++)O=p(X[ie],O);return O}function m(Y,V){return Y.x-V.x}function p(Y,V){var O=g(Y,V);if(!O)return V;var F=R(O,Y);return o(F,F.next),o(O,O.next)}function g(Y,V){var O=V,F=Y.x,X=Y.y,ie=-1/0,re;do{if(X<=O.y&&X>=O.next.y&&O.next.y!==O.y){var q=O.x+(X-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(q<=F&&q>ie&&(ie=q,re=O.x<O.next.x?O:O.next,q===F))return re}O=O.next}while(O!==V);if(!re)return null;var ae=re,ue=re.x,me=re.y,be=1/0,ke;O=re;do F>=O.x&&O.x>=ue&&F!==O.x&&C(X<me?F:ie,X,ue,me,X<me?ie:F,X,O.x,O.y)&&(ke=Math.abs(X-O.y)/(F-O.x),k(O,Y)&&(ke<be||ke===be&&(O.x>re.x||O.x===re.x&&v(re,O)))&&(re=O,be=ke)),O=O.next;while(O!==ae);return re}function v(Y,V){return S(Y.prev,Y,V.prev)<0&&S(V.next,Y,Y.next)<0}function y(Y,V,O,F){var X=Y;do X.z===0&&(X.z=b(X.x,X.y,V,O,F)),X.prevZ=X.prev,X.nextZ=X.next,X=X.next;while(X!==Y);X.prevZ.nextZ=null,X.prevZ=null,x(X)}function x(Y){var V,O,F,X,ie,re,q,ae,ue=1;do{for(O=Y,Y=null,ie=null,re=0;O;){for(re++,F=O,q=0,V=0;V<ue&&(q++,F=F.nextZ,!!F);V++);for(ae=ue;q>0||ae>0&&F;)q!==0&&(ae===0||!F||O.z<=F.z)?(X=O,O=O.nextZ,q--):(X=F,F=F.nextZ,ae--),ie?ie.nextZ=X:Y=X,X.prevZ=ie,ie=X;O=F}ie.nextZ=null,ue*=2}while(re>1);return Y}function b(Y,V,O,F,X){return Y=(Y-O)*X|0,V=(V-F)*X|0,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,Y|V<<1}function w(Y){var V=Y,O=Y;do(V.x<O.x||V.x===O.x&&V.y<O.y)&&(O=V),V=V.next;while(V!==Y);return O}function C(Y,V,O,F,X,ie,re,q){return(X-re)*(V-q)>=(Y-re)*(ie-q)&&(Y-re)*(F-q)>=(O-re)*(V-q)&&(O-re)*(ie-q)>=(X-re)*(F-q)}function _(Y,V){return Y.next.i!==V.i&&Y.prev.i!==V.i&&!D(Y,V)&&(k(Y,V)&&k(V,Y)&&G(Y,V)&&(S(Y.prev,Y,V.prev)||S(Y,V.prev,V))||T(Y,V)&&S(Y.prev,Y,Y.next)>0&&S(V.prev,V,V.next)>0)}function S(Y,V,O){return(V.y-Y.y)*(O.x-V.x)-(V.x-Y.x)*(O.y-V.y)}function T(Y,V){return Y.x===V.x&&Y.y===V.y}function A(Y,V,O,F){var X=I(S(Y,V,O)),ie=I(S(Y,V,F)),re=I(S(O,F,Y)),q=I(S(O,F,V));return!!(X!==ie&&re!==q||X===0&&M(Y,O,V)||ie===0&&M(Y,F,V)||re===0&&M(O,Y,F)||q===0&&M(O,V,F))}function M(Y,V,O){return V.x<=Math.max(Y.x,O.x)&&V.x>=Math.min(Y.x,O.x)&&V.y<=Math.max(Y.y,O.y)&&V.y>=Math.min(Y.y,O.y)}function I(Y){return Y>0?1:Y<0?-1:0}function D(Y,V){var O=Y;do{if(O.i!==Y.i&&O.next.i!==Y.i&&O.i!==V.i&&O.next.i!==V.i&&A(O,O.next,Y,V))return!0;O=O.next}while(O!==Y);return!1}function k(Y,V){return S(Y.prev,Y,Y.next)<0?S(Y,V,Y.next)>=0&&S(Y,Y.prev,V)>=0:S(Y,V,Y.prev)<0||S(Y,Y.next,V)<0}function G(Y,V){var O=Y,F=!1,X=(Y.x+V.x)/2,ie=(Y.y+V.y)/2;do O.y>ie!=O.next.y>ie&&O.next.y!==O.y&&X<(O.next.x-O.x)*(ie-O.y)/(O.next.y-O.y)+O.x&&(F=!F),O=O.next;while(O!==Y);return F}function R(Y,V){var O=new Z(Y.i,Y.x,Y.y),F=new Z(V.i,V.x,V.y),X=Y.next,ie=V.prev;return Y.next=V,V.prev=Y,O.next=X,X.prev=O,F.next=O,O.prev=F,ie.next=F,F.prev=ie,F}function H(Y,V,O,F){var X=new Z(Y,V,O);return F?(X.next=F.next,X.prev=F,F.next.prev=X,F.next=X):(X.prev=X,X.next=X),X}function j(Y){Y.next.prev=Y.prev,Y.prev.next=Y.next,Y.prevZ&&(Y.prevZ.nextZ=Y.nextZ),Y.nextZ&&(Y.nextZ.prevZ=Y.prevZ)}function Z(Y,V,O){this.i=Y,this.x=V,this.y=O,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}a.deviation=function(Y,V,O,F){var X=V&&V.length,ie=X?V[0]*O:Y.length,re=Math.abs(ee(Y,0,ie,O));if(X)for(var q=0,ae=V.length;q<ae;q++){var ue=V[q]*O,me=q<ae-1?V[q+1]*O:Y.length;re-=Math.abs(ee(Y,ue,me,O))}var be=0;for(q=0;q<F.length;q+=3){var ke=F[q]*O,ze=F[q+1]*O,De=F[q+2]*O;be+=Math.abs((Y[ke]-Y[De])*(Y[ze+1]-Y[ke+1])-(Y[ke]-Y[ze])*(Y[De+1]-Y[ke+1]))}return re===0&&be===0?0:Math.abs((be-re)/re)};function ee(Y,V,O,F){for(var X=0,ie=V,re=O-F;ie<O;ie+=F)X+=(Y[re]-Y[ie])*(Y[ie+1]+Y[re+1]),re=ie;return X}a.flatten=function(Y){for(var V=Y[0][0].length,O={vertices:[],holes:[],dimensions:V},F=0,X=0;X<Y.length;X++){for(var ie=0;ie<Y[X].length;ie++)for(var re=0;re<V;re++)O.vertices.push(Y[X][ie][re]);X>0&&(F+=Y[X-1].length,O.holes.push(F))}return O},n.exports=a},13829:(n,a,s)=>{var o=s(87841),u=function(l,c){c===void 0&&(c=new o);for(var h=1/0,d=1/0,f=-h,m=-d,p,g=0;g<l.points.length;g++)p=l.points[g],h=Math.min(h,p.x),d=Math.min(d,p.y),f=Math.max(f,p.x),m=Math.max(m,p.y);return c.x=h,c.y=d,c.width=f-h,c.height=m-d,c};n.exports=u},26173:n=>{var a=function(s,o){o===void 0&&(o=[]);for(var u=0;u<s.points.length;u++)o.push(s.points[u].x),o.push(s.points[u].y);return o};n.exports=a},9564:(n,a,s)=>{var o=s(35001),u=s(23031),l=s(30052),c=function(h,d,f,m){m===void 0&&(m=[]);var p=h.points,g=l(h);!d&&f>0&&(d=g/f);for(var v=0;v<d;v++)for(var y=g*(v/d),x=0,b=0;b<p.length;b++){var w=p[b],C=p[(b+1)%p.length],_=new u(w.x,w.y,C.x,C.y),S=o(_);if(y<x||y>x+S){x+=S;continue}var T=_.getPoint((y-x)/S);m.push(T);break}return m};n.exports=c},30052:(n,a,s)=>{var o=s(35001),u=s(23031),l=function(c){for(var h=c.points,d=0,f=0;f<h.length;f++){var m=h[f],p=h[(f+1)%h.length],g=new u(m.x,m.y,p.x,p.y);d+=o(g)}return d};n.exports=l},25717:(n,a,s)=>{var o=s(83419),u=s(63814),l=s(9564),c=s(23777),h=new o({initialize:function(f){this.type=c.POLYGON,this.area=0,this.points=[],f&&this.setTo(f)},contains:function(d,f){return u(this,d,f)},setTo:function(d){if(this.area=0,this.points=[],typeof d=="string"&&(d=d.split(" ")),!Array.isArray(d))return this;for(var f,m=0;m<d.length;m++)f={x:0,y:0},typeof d[m]=="number"||typeof d[m]=="string"?(f.x=parseFloat(d[m]),f.y=parseFloat(d[m+1]),m++):Array.isArray(d[m])?(f.x=d[m][0],f.y=d[m][1]):(f.x=d[m].x,f.y=d[m].y),this.points.push(f);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var d=0,f,m,p=0;p<this.points.length-1;p++)f=this.points[p],m=this.points[p+1],d+=(m.x-f.x)*(f.y+m.y);return f=this.points[0],m=this.points[this.points.length-1],d+=(f.x-m.x)*(m.y+f.y),this.area=-d*.5,this.area},getPoints:function(d,f,m){return l(this,d,f,m)}});n.exports=h},8133:n=>{var a=function(s){return s.points.reverse(),s};n.exports=a},29524:n=>{function a(h,d){var f=h.x-d.x,m=h.y-d.y;return f*f+m*m}function s(h,d,f){var m=d.x,p=d.y,g=f.x-m,v=f.y-p;if(g!==0||v!==0){var y=((h.x-m)*g+(h.y-p)*v)/(g*g+v*v);y>1?(m=f.x,p=f.y):y>0&&(m+=g*y,p+=v*y)}return g=h.x-m,v=h.y-p,g*g+v*v}function o(h,d){for(var f=h[0],m=[f],p,g=1,v=h.length;g<v;g++)p=h[g],a(p,f)>d&&(m.push(p),f=p);return f!==p&&m.push(p),m}function u(h,d,f,m,p){for(var g=m,v,y=d+1;y<f;y++){var x=s(h[y],h[d],h[f]);x>g&&(v=y,g=x)}g>m&&(v-d>1&&u(h,d,v,m,p),p.push(h[v]),f-v>1&&u(h,v,f,m,p))}function l(h,d){var f=h.length-1,m=[h[0]];return u(h,0,f,d,m),m.push(h[f]),m}var c=function(h,d,f){d===void 0&&(d=1),f===void 0&&(f=!1);var m=h.points;if(m.length>2){var p=d*d;f||(m=o(m,p)),h.setTo(l(m,p))}return h};n.exports=c},5469:n=>{var a=function(o,u){return o[0]=u[0],o[1]=u[1],o},s=function(o){var u,l=[],c=o.points;for(u=0;u<c.length;u++)l.push([c[u].x,c[u].y]);var h=[];for(l.length>0&&h.push(a([0,0],l[0])),u=0;u<l.length-1;u++){var d=l[u],f=l[u+1],m=d[0],p=d[1],g=f[0],v=f[1];h.push([.85*m+.15*g,.85*p+.15*v]),h.push([.15*m+.85*g,.15*p+.85*v])}return l.length>1&&h.push(a([0,0],l[l.length-1])),o.setTo(h)};n.exports=s},24709:n=>{var a=function(s,o,u){for(var l=s.points,c=0;c<l.length;c++)l[c].x+=o,l[c].y+=u;return s};n.exports=a},58423:(n,a,s)=>{var o=s(25717);o.Clone=s(12306),o.Contains=s(63814),o.ContainsPoint=s(99338),o.Earcut=s(94811),o.GetAABB=s(13829),o.GetNumberArray=s(26173),o.GetPoints=s(9564),o.Perimeter=s(30052),o.Reverse=s(8133),o.Simplify=s(29524),o.Smooth=s(5469),o.Translate=s(24709),n.exports=o},62224:n=>{var a=function(s){return s.width*s.height};n.exports=a},98615:n=>{var a=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s};n.exports=a},31688:n=>{var a=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s.width=Math.ceil(s.width),s.height=Math.ceil(s.height),s};n.exports=a},67502:n=>{var a=function(s,o,u){return s.x=o-s.width/2,s.y=u-s.height/2,s};n.exports=a},65085:(n,a,s)=>{var o=s(87841),u=function(l){return new o(l.x,l.y,l.width,l.height)};n.exports=u},37303:n=>{var a=function(s,o,u){return s.width<=0||s.height<=0?!1:s.x<=o&&s.x+s.width>=o&&s.y<=u&&s.y+s.height>=u};n.exports=a},96553:(n,a,s)=>{var o=s(37303),u=function(l,c){return o(l,c.x,c.y)};n.exports=u},70273:n=>{var a=function(s,o){return o.width*o.height>s.width*s.height?!1:o.x>s.x&&o.x<s.right&&o.right>s.x&&o.right<s.right&&o.y>s.y&&o.y<s.bottom&&o.bottom>s.y&&o.bottom<s.bottom};n.exports=a},43459:n=>{var a=function(s,o){return o.setTo(s.x,s.y,s.width,s.height)};n.exports=a},77493:n=>{var a=function(s,o){return o===void 0&&(o=[]),o.push({x:s.x,y:s.y}),o.push({x:s.right,y:s.y}),o.push({x:s.right,y:s.bottom}),o.push({x:s.x,y:s.bottom}),o};n.exports=a},9219:n=>{var a=function(s,o){return s.x===o.x&&s.y===o.y&&s.width===o.width&&s.height===o.height};n.exports=a},53751:(n,a,s)=>{var o=s(8249),u=function(l,c){var h=o(l);return h<o(c)?l.setSize(c.height*h,c.height):l.setSize(c.width,c.width/h),l.setPosition(c.centerX-l.width/2,c.centerY-l.height/2)};n.exports=u},16088:(n,a,s)=>{var o=s(8249),u=function(l,c){var h=o(l);return h>o(c)?l.setSize(c.height*h,c.height):l.setSize(c.width,c.width/h),l.setPosition(c.centerX-l.width/2,c.centerY-l.height/2)};n.exports=u},80774:n=>{var a=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s};n.exports=a},83859:n=>{var a=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s.width=Math.floor(s.width),s.height=Math.floor(s.height),s};n.exports=a},19217:(n,a,s)=>{var o=s(87841),u=s(36383),l=function(c,h){if(h===void 0&&(h=new o),c.length===0)return h;for(var d=Number.MAX_VALUE,f=Number.MAX_VALUE,m=u.MIN_SAFE_INTEGER,p=u.MIN_SAFE_INTEGER,g,v,y,x=0;x<c.length;x++)g=c[x],Array.isArray(g)?(v=g[0],y=g[1]):(v=g.x,y=g.y),d=Math.min(d,v),f=Math.min(f,y),m=Math.max(m,v),p=Math.max(p,y);return h.x=d,h.y=f,h.width=m-d,h.height=p-f,h};n.exports=l},9477:(n,a,s)=>{var o=s(87841),u=function(l,c,h,d,f){return f===void 0&&(f=new o),f.setTo(Math.min(l,h),Math.min(c,d),Math.abs(l-h),Math.abs(c-d))};n.exports=u},8249:n=>{var a=function(s){return s.height===0?NaN:s.width/s.height};n.exports=a},27165:(n,a,s)=>{var o=s(2141),u=function(l,c){return c===void 0&&(c=new o),c.x=l.centerX,c.y=l.centerY,c};n.exports=u},20812:(n,a,s)=>{var o=s(13019),u=s(2141),l=function(c,h,d){if(d===void 0&&(d=new u),h<=0||h>=1)return d.x=c.x,d.y=c.y,d;var f=o(c)*h;return h>.5?(f-=c.width+c.height,f<=c.width?(d.x=c.right-f,d.y=c.bottom):(d.x=c.x,d.y=c.bottom-(f-c.width))):f<=c.width?(d.x=c.x+f,d.y=c.y):(d.x=c.right,d.y=c.y+(f-c.width)),d};n.exports=l},34819:(n,a,s)=>{var o=s(20812),u=s(13019),l=function(c,h,d,f){f===void 0&&(f=[]),!h&&d>0&&(h=u(c)/d);for(var m=0;m<h;m++){var p=m/h;f.push(o(c,p))}return f};n.exports=l},51313:(n,a,s)=>{var o=s(2141),u=function(l,c){return c===void 0&&(c=new o),c.x=l.width,c.y=l.height,c};n.exports=u},86091:(n,a,s)=>{var o=s(67502),u=function(l,c,h){var d=l.centerX,f=l.centerY;return l.setSize(l.width+c*2,l.height+h*2),o(l,d,f)};n.exports=u},53951:(n,a,s)=>{var o=s(87841),u=s(59996),l=function(c,h,d){return d===void 0&&(d=new o),u(c,h)?(d.x=Math.max(c.x,h.x),d.y=Math.max(c.y,h.y),d.width=Math.min(c.right,h.right)-d.x,d.height=Math.min(c.bottom,h.bottom)-d.y):d.setEmpty(),d};n.exports=l},14649:(n,a,s)=>{var o=s(13019),u=s(2141),l=function(c,h,d,f){if(f===void 0&&(f=[]),!h&&!d)return f;h?d=Math.round(o(c)/h):h=o(c)/d;for(var m=c.x,p=c.y,g=0,v=0;v<d;v++)switch(f.push(new u(m,p)),g){case 0:m+=h,m>=c.right&&(g=1,p+=m-c.right,m=c.right);break;case 1:p+=h,p>=c.bottom&&(g=2,m-=p-c.bottom,p=c.bottom);break;case 2:m-=h,m<=c.left&&(g=3,p-=c.left-m,m=c.left);break;case 3:p-=h,p<=c.top&&(g=0,p=c.top);break}return f};n.exports=l},33595:n=>{var a=function(s,o){for(var u=s.x,l=s.right,c=s.y,h=s.bottom,d=0;d<o.length;d++)u=Math.min(u,o[d].x),l=Math.max(l,o[d].x),c=Math.min(c,o[d].y),h=Math.max(h,o[d].y);return s.x=u,s.y=c,s.width=l-u,s.height=h-c,s};n.exports=a},20074:n=>{var a=function(s,o){var u=Math.min(s.x,o.x),l=Math.max(s.right,o.right);s.x=u,s.width=l-u;var c=Math.min(s.y,o.y),h=Math.max(s.bottom,o.bottom);return s.y=c,s.height=h-c,s};n.exports=a},92171:n=>{var a=function(s,o,u){var l=Math.min(s.x,o),c=Math.max(s.right,o);s.x=l,s.width=c-l;var h=Math.min(s.y,u),d=Math.max(s.bottom,u);return s.y=h,s.height=d-h,s};n.exports=a},42981:n=>{var a=function(s,o,u){return s.x+=o,s.y+=u,s};n.exports=a},46907:n=>{var a=function(s,o){return s.x+=o.x,s.y+=o.y,s};n.exports=a},60170:n=>{var a=function(s,o){return s.x<o.right&&s.right>o.x&&s.y<o.bottom&&s.bottom>o.y};n.exports=a},13019:n=>{var a=function(s){return 2*(s.width+s.height)};n.exports=a},85133:(n,a,s)=>{var o=s(2141),u=s(39506),l=function(c,h,d){d===void 0&&(d=new o),h=u(h);var f=Math.sin(h),m=Math.cos(h),p=m>0?c.width/2:c.width/-2,g=f>0?c.height/2:c.height/-2;return Math.abs(p*f)<Math.abs(g*m)?g=p*f/m:p=g*m/f,d.x=p+c.centerX,d.y=g+c.centerY,d};n.exports=l},26597:(n,a,s)=>{var o=s(2141),u=function(l,c){return c===void 0&&(c=new o),c.x=l.x+Math.random()*l.width,c.y=l.y+Math.random()*l.height,c};n.exports=u},86470:(n,a,s)=>{var o=s(30976),u=s(70273),l=s(2141),c=function(h,d,f){if(f===void 0&&(f=new l),u(h,d))switch(o(0,3)){case 0:f.x=h.x+Math.random()*(d.right-h.x),f.y=h.y+Math.random()*(d.top-h.y);break;case 1:f.x=d.x+Math.random()*(h.right-d.x),f.y=d.bottom+Math.random()*(h.bottom-d.bottom);break;case 2:f.x=h.x+Math.random()*(d.x-h.x),f.y=d.y+Math.random()*(h.bottom-d.y);break;case 3:f.x=d.right+Math.random()*(h.right-d.right),f.y=h.y+Math.random()*(d.bottom-h.y);break}return f};n.exports=c},87841:(n,a,s)=>{var o=s(83419),u=s(37303),l=s(20812),c=s(34819),h=s(23777),d=s(23031),f=s(26597),m=new o({initialize:function(g,v,y,x){g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=0),this.type=h.RECTANGLE,this.x=g,this.y=v,this.width=y,this.height=x},contains:function(p,g){return u(this,p,g)},getPoint:function(p,g){return l(this,p,g)},getPoints:function(p,g,v){return c(this,p,g,v)},getRandomPoint:function(p){return f(this,p)},setTo:function(p,g,v,y){return this.x=p,this.y=g,this.width=v,this.height=y,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(p,g){return g===void 0&&(g=p),this.x=p,this.y=g,this},setSize:function(p,g){return g===void 0&&(g=p),this.width=p,this.height=g,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(p){return p===void 0&&(p=new d),p.setTo(this.x,this.y,this.right,this.y),p},getLineB:function(p){return p===void 0&&(p=new d),p.setTo(this.right,this.y,this.right,this.bottom),p},getLineC:function(p){return p===void 0&&(p=new d),p.setTo(this.right,this.bottom,this.x,this.bottom),p},getLineD:function(p){return p===void 0&&(p=new d),p.setTo(this.x,this.bottom,this.x,this.y),p},left:{get:function(){return this.x},set:function(p){p>=this.right?this.width=0:this.width=this.right-p,this.x=p}},right:{get:function(){return this.x+this.width},set:function(p){p<=this.x?this.width=0:this.width=p-this.x}},top:{get:function(){return this.y},set:function(p){p>=this.bottom?this.height=0:this.height=this.bottom-p,this.y=p}},bottom:{get:function(){return this.y+this.height},set:function(p){p<=this.y?this.height=0:this.height=p-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(p){this.x=p-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(p){this.y=p-this.height/2}}});n.exports=m},94845:n=>{var a=function(s,o){return s.width===o.width&&s.height===o.height};n.exports=a},31730:n=>{var a=function(s,o,u){return u===void 0&&(u=o),s.width*=o,s.height*=u,s};n.exports=a},36899:(n,a,s)=>{var o=s(87841),u=function(l,c,h){h===void 0&&(h=new o);var d=Math.min(l.x,c.x),f=Math.min(l.y,c.y),m=Math.max(l.right,c.right)-d,p=Math.max(l.bottom,c.bottom)-f;return h.setTo(d,f,m,p)};n.exports=u},93232:(n,a,s)=>{var o=s(87841);o.Area=s(62224),o.Ceil=s(98615),o.CeilAll=s(31688),o.CenterOn=s(67502),o.Clone=s(65085),o.Contains=s(37303),o.ContainsPoint=s(96553),o.ContainsRect=s(70273),o.CopyFrom=s(43459),o.Decompose=s(77493),o.Equals=s(9219),o.FitInside=s(53751),o.FitOutside=s(16088),o.Floor=s(80774),o.FloorAll=s(83859),o.FromPoints=s(19217),o.FromXY=s(9477),o.GetAspectRatio=s(8249),o.GetCenter=s(27165),o.GetPoint=s(20812),o.GetPoints=s(34819),o.GetSize=s(51313),o.Inflate=s(86091),o.Intersection=s(53951),o.MarchingAnts=s(14649),o.MergePoints=s(33595),o.MergeRect=s(20074),o.MergeXY=s(92171),o.Offset=s(42981),o.OffsetPoint=s(46907),o.Overlaps=s(60170),o.Perimeter=s(13019),o.PerimeterPoint=s(85133),o.Random=s(26597),o.RandomOutside=s(86470),o.SameDimensions=s(94845),o.Scale=s(31730),o.Union=s(36899),n.exports=o},41658:n=>{var a=function(s){var o=s.x1,u=s.y1,l=s.x2,c=s.y2,h=s.x3,d=s.y3;return Math.abs(((h-o)*(c-u)-(l-o)*(d-u))/2)};n.exports=a},39208:(n,a,s)=>{var o=s(16483),u=function(l,c,h){var d=h*(Math.sqrt(3)/2),f=l,m=c,p=l+h/2,g=c+d,v=l-h/2,y=c+d;return new o(f,m,p,g,v,y)};n.exports=u},39545:(n,a,s)=>{var o=s(94811),u=s(16483),l=function(c,h,d,f,m){h===void 0&&(h=null),d===void 0&&(d=1),f===void 0&&(f=1),m===void 0&&(m=[]);for(var p=o(c,h),g,v,y,x,b,w,C,_,S,T=0;T<p.length;T+=3)g=p[T],v=p[T+1],y=p[T+2],x=c[g*2]*d,b=c[g*2+1]*f,w=c[v*2]*d,C=c[v*2+1]*f,_=c[y*2]*d,S=c[y*2+1]*f,m.push(new u(x,b,w,C,_,S));return m};n.exports=l},90301:(n,a,s)=>{var o=s(16483),u=function(l,c,h,d){d===void 0&&(d=h);var f=l,m=c,p=l,g=c-d,v=l+h,y=c;return new o(f,m,p,g,v,y)};n.exports=u},23707:(n,a,s)=>{var o=s(97523),u=s(13584),l=function(c,h,d,f){f===void 0&&(f=o);var m=f(c),p=h-m.x,g=d-m.y;return u(c,p,g)};n.exports=l},97523:(n,a,s)=>{var o=s(2141),u=function(l,c){return c===void 0&&(c=new o),c.x=(l.x1+l.x2+l.x3)/3,c.y=(l.y1+l.y2+l.y3)/3,c};n.exports=u},24951:(n,a,s)=>{var o=s(26099);function u(c,h,d,f){return c*f-h*d}var l=function(c,h){h===void 0&&(h=new o);var d=c.x3,f=c.y3,m=c.x1-d,p=c.y1-f,g=c.x2-d,v=c.y2-f,y=2*u(m,p,g,v),x=u(p,m*m+p*p,v,g*g+v*v),b=u(m,m*m+p*p,g,g*g+v*v);return h.x=d-x/y,h.y=f+b/y,h};n.exports=l},85614:(n,a,s)=>{var o=s(96503),u=function(l,c){c===void 0&&(c=new o);var h=l.x1,d=l.y1,f=l.x2,m=l.y2,p=l.x3,g=l.y3,v=f-h,y=m-d,x=p-h,b=g-d,w=v*(h+f)+y*(d+m),C=x*(h+p)+b*(d+g),_=2*(v*(g-m)-y*(p-f)),S,T;if(Math.abs(_)<1e-6){var A=Math.min(h,f,p),M=Math.min(d,m,g);S=(Math.max(h,f,p)-A)*.5,T=(Math.max(d,m,g)-M)*.5,c.x=A+S,c.y=M+T,c.radius=Math.sqrt(S*S+T*T)}else c.x=(b*w-y*C)/_,c.y=(v*C-x*w)/_,S=c.x-h,T=c.y-d,c.radius=Math.sqrt(S*S+T*T);return c};n.exports=u},74422:(n,a,s)=>{var o=s(16483),u=function(l){return new o(l.x1,l.y1,l.x2,l.y2,l.x3,l.y3)};n.exports=u},10690:n=>{var a=function(s,o,u){var l=s.x3-s.x1,c=s.y3-s.y1,h=s.x2-s.x1,d=s.y2-s.y1,f=o-s.x1,m=u-s.y1,p=l*l+c*c,g=l*h+c*d,v=l*f+c*m,y=h*h+d*d,x=h*f+d*m,b=p*y-g*g,w=b===0?0:1/b,C=(y*v-g*x)*w,_=(p*x-g*v)*w;return C>=0&&_>=0&&C+_<1};n.exports=a},48653:n=>{var a=function(s,o,u,l){u===void 0&&(u=!1),l===void 0&&(l=[]);for(var c=s.x3-s.x1,h=s.y3-s.y1,d=s.x2-s.x1,f=s.y2-s.y1,m=c*c+h*h,p=c*d+h*f,g=d*d+f*f,v=m*g-p*p,y=v===0?0:1/v,x,b,w,C,_,S,T=s.x1,A=s.y1,M=0;M<o.length&&(w=o[M].x-T,C=o[M].y-A,_=c*w+h*C,S=d*w+f*C,x=(g*_-p*S)*y,b=(m*S-p*_)*y,!(x>=0&&b>=0&&x+b<1&&(l.push({x:o[M].x,y:o[M].y}),u)));M++);return l};n.exports=a},96006:(n,a,s)=>{var o=s(10690),u=function(l,c){return o(l,c.x,c.y)};n.exports=u},71326:n=>{var a=function(s,o){return o.setTo(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};n.exports=a},71694:n=>{var a=function(s,o){return o===void 0&&(o=[]),o.push({x:s.x1,y:s.y1}),o.push({x:s.x2,y:s.y2}),o.push({x:s.x3,y:s.y3}),o};n.exports=a},33522:n=>{var a=function(s,o){return s.x1===o.x1&&s.y1===o.y1&&s.x2===o.x2&&s.y2===o.y2&&s.x3===o.x3&&s.y3===o.y3};n.exports=a},20437:(n,a,s)=>{var o=s(2141),u=s(35001),l=function(c,h,d){d===void 0&&(d=new o);var f=c.getLineA(),m=c.getLineB(),p=c.getLineC();if(h<=0||h>=1)return d.x=f.x1,d.y=f.y1,d;var g=u(f),v=u(m),y=u(p),x=g+v+y,b=x*h,w=0;return b<g?(w=b/g,d.x=f.x1+(f.x2-f.x1)*w,d.y=f.y1+(f.y2-f.y1)*w):b>g+v?(b-=g+v,w=b/y,d.x=p.x1+(p.x2-p.x1)*w,d.y=p.y1+(p.y2-p.y1)*w):(b-=g,w=b/v,d.x=m.x1+(m.x2-m.x1)*w,d.y=m.y1+(m.y2-m.y1)*w),d};n.exports=l},80672:(n,a,s)=>{var o=s(35001),u=s(2141),l=function(c,h,d,f){f===void 0&&(f=[]);var m=c.getLineA(),p=c.getLineB(),g=c.getLineC(),v=o(m),y=o(p),x=o(g),b=v+y+x;!h&&d>0&&(h=b/d);for(var w=0;w<h;w++){var C=b*(w/h),_=0,S=new u;C<v?(_=C/v,S.x=m.x1+(m.x2-m.x1)*_,S.y=m.y1+(m.y2-m.y1)*_):C>v+y?(C-=v+y,_=C/x,S.x=g.x1+(g.x2-g.x1)*_,S.y=g.y1+(g.y2-g.y1)*_):(C-=v,_=C/y,S.x=p.x1+(p.x2-p.x1)*_,S.y=p.y1+(p.y2-p.y1)*_),f.push(S)}return f};n.exports=l},39757:(n,a,s)=>{var o=s(2141);function u(c,h,d,f){var m=c-d,p=h-f,g=m*m+p*p;return Math.sqrt(g)}var l=function(c,h){h===void 0&&(h=new o);var d=c.x1,f=c.y1,m=c.x2,p=c.y2,g=c.x3,v=c.y3,y=u(g,v,m,p),x=u(d,f,g,v),b=u(m,p,d,f),w=y+x+b;return h.x=(d*y+m*x+g*b)/w,h.y=(f*y+p*x+v*b)/w,h};n.exports=l},13584:n=>{var a=function(s,o,u){return s.x1+=o,s.y1+=u,s.x2+=o,s.y2+=u,s.x3+=o,s.y3+=u,s};n.exports=a},1376:(n,a,s)=>{var o=s(35001),u=function(l){var c=l.getLineA(),h=l.getLineB(),d=l.getLineC();return o(c)+o(h)+o(d)};n.exports=u},90260:(n,a,s)=>{var o=s(2141),u=function(l,c){c===void 0&&(c=new o);var h=l.x2-l.x1,d=l.y2-l.y1,f=l.x3-l.x1,m=l.y3-l.y1,p=Math.random(),g=Math.random();return p+g>=1&&(p=1-p,g=1-g),c.x=l.x1+(h*p+f*g),c.y=l.y1+(d*p+m*g),c};n.exports=u},52172:(n,a,s)=>{var o=s(99614),u=s(39757),l=function(c,h){var d=u(c);return o(c,d.x,d.y,h)};n.exports=l},49907:(n,a,s)=>{var o=s(99614),u=function(l,c,h){return o(l,c.x,c.y,h)};n.exports=u},99614:n=>{var a=function(s,o,u,l){var c=Math.cos(l),h=Math.sin(l),d=s.x1-o,f=s.y1-u;return s.x1=d*c-f*h+o,s.y1=d*h+f*c+u,d=s.x2-o,f=s.y2-u,s.x2=d*c-f*h+o,s.y2=d*h+f*c+u,d=s.x3-o,f=s.y3-u,s.x3=d*c-f*h+o,s.y3=d*h+f*c+u,s};n.exports=a},16483:(n,a,s)=>{var o=s(83419),u=s(10690),l=s(20437),c=s(80672),h=s(23777),d=s(23031),f=s(90260),m=new o({initialize:function(g,v,y,x,b,w){g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=0),this.type=h.TRIANGLE,this.x1=g,this.y1=v,this.x2=y,this.y2=x,this.x3=b,this.y3=w},contains:function(p,g){return u(this,p,g)},getPoint:function(p,g){return l(this,p,g)},getPoints:function(p,g,v){return c(this,p,g,v)},getRandomPoint:function(p){return f(this,p)},setTo:function(p,g,v,y,x,b){return p===void 0&&(p=0),g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=0),this.x1=p,this.y1=g,this.x2=v,this.y2=y,this.x3=x,this.y3=b,this},getLineA:function(p){return p===void 0&&(p=new d),p.setTo(this.x1,this.y1,this.x2,this.y2),p},getLineB:function(p){return p===void 0&&(p=new d),p.setTo(this.x2,this.y2,this.x3,this.y3),p},getLineC:function(p){return p===void 0&&(p=new d),p.setTo(this.x3,this.y3,this.x1,this.y1),p},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(p){var g=0;this.x1<=this.x2&&this.x1<=this.x3?g=this.x1-p:this.x2<=this.x1&&this.x2<=this.x3?g=this.x2-p:g=this.x3-p,this.x1-=g,this.x2-=g,this.x3-=g}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(p){var g=0;this.x1>=this.x2&&this.x1>=this.x3?g=this.x1-p:this.x2>=this.x1&&this.x2>=this.x3?g=this.x2-p:g=this.x3-p,this.x1-=g,this.x2-=g,this.x3-=g}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(p){var g=0;this.y1<=this.y2&&this.y1<=this.y3?g=this.y1-p:this.y2<=this.y1&&this.y2<=this.y3?g=this.y2-p:g=this.y3-p,this.y1-=g,this.y2-=g,this.y3-=g}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(p){var g=0;this.y1>=this.y2&&this.y1>=this.y3?g=this.y1-p:this.y2>=this.y1&&this.y2>=this.y3?g=this.y2-p:g=this.y3-p,this.y1-=g,this.y2-=g,this.y3-=g}}});n.exports=m},84435:(n,a,s)=>{var o=s(16483);o.Area=s(41658),o.BuildEquilateral=s(39208),o.BuildFromPolygon=s(39545),o.BuildRight=s(90301),o.CenterOn=s(23707),o.Centroid=s(97523),o.CircumCenter=s(24951),o.CircumCircle=s(85614),o.Clone=s(74422),o.Contains=s(10690),o.ContainsArray=s(48653),o.ContainsPoint=s(96006),o.CopyFrom=s(71326),o.Decompose=s(71694),o.Equals=s(33522),o.GetPoint=s(20437),o.GetPoints=s(80672),o.InCenter=s(39757),o.Perimeter=s(1376),o.Offset=s(13584),o.Random=s(90260),o.Rotate=s(52172),o.RotateAroundPoint=s(49907),o.RotateAroundXY=s(99614),n.exports=o},74457:n=>{var a=function(s,o,u){return{gameObject:s,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:u,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};n.exports=a},84409:n=>{var a=function(s,o){return function(u,l,c,h){var d=s.getPixelAlpha(l,c,h.texture.key,h.frame.name);return d&&d>=o}};n.exports=a},7003:(n,a,s)=>{var o=s(83419),u=s(93301),l=s(50792),c=s(8214),h=s(8443),d=s(78970),f=s(85098),m=s(42515),p=s(36210),g=s(61340),v=s(85955),y=new o({initialize:function(b,w){this.game=b,this.scaleManager,this.canvas,this.config=w,this.enabled=!0,this.events=new l,this.isOver=!0,this.defaultCursor="",this.keyboard=w.inputKeyboard?new d(this):null,this.mouse=w.inputMouse?new f(this):null,this.touch=w.inputTouch?new p(this):null,this.pointers=[],this.pointersTotal=w.inputActivePointers;for(var C=0;C<=this.pointersTotal;C++){var _=new m(this,C);_.smoothFactor=w.inputSmoothFactor,this.pointers.push(_)}this.mousePointer=w.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new g,this._tempMatrix2=new g,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],b.events.once(h.BOOT,this.boot,this)},boot:function(){var x=this.game,b=x.events;this.canvas=x.canvas,this.scaleManager=x.scale,this.events.emit(c.MANAGER_BOOT),b.on(h.PRE_RENDER,this.preRender,this),b.once(h.DESTROY,this.destroy,this)},setCanvasOver:function(x){this.isOver=!0,this.events.emit(c.GAME_OVER,x)},setCanvasOut:function(x){this.isOver=!1,this.events.emit(c.GAME_OUT,x)},preRender:function(){var x=this.game.loop.now,b=this.game.loop.delta,w=this.game.scene.getScenes(!0,!0);this.time=x,this.events.emit(c.MANAGER_UPDATE);for(var C=0;C<w.length;C++){var _=w[C];if(_.sys.input&&_.sys.input.updatePoll(x,b)&&this.globalTopOnly)return}},setDefaultCursor:function(x){this.defaultCursor=x,this.canvas.style.cursor!==x&&(this.canvas.style.cursor=x)},setCursor:function(x){x.cursor&&(this.canvas.style.cursor=x.cursor)},resetCursor:function(x,b){(b||x&&x.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(x){x===void 0&&(x=1);var b=[];this.pointersTotal+x>10&&(x=10-this.pointersTotal);for(var w=0;w<x;w++){var C=this.pointers.length,_=new m(this,C);_.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(_),this.pointersTotal++,b.push(_)}return b},updateInputPlugins:function(x,b){var w=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var C=0;C<w.length;C++){var _=w[C];if(_.sys.input){var S=_.sys.input.update(x,b);if(S&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(x){for(var b=this.pointers,w=[],C=0;C<x.changedTouches.length;C++)for(var _=x.changedTouches[C],S=1;S<b.length;S++){var T=b[S];if(!T.active){T.touchstart(_,x),this.activePointer=T,w.push(T);break}}this.updateInputPlugins(u.TOUCH_START,w)},onTouchMove:function(x){for(var b=this.pointers,w=[],C=0;C<x.changedTouches.length;C++)for(var _=x.changedTouches[C],S=1;S<b.length;S++){var T=b[S];if(T.active&&T.identifier===_.identifier){var A=document.elementFromPoint(_.clientX,_.clientY),M=A===this.canvas;!this.isOver&&M?this.setCanvasOver(x):this.isOver&&!M&&this.setCanvasOut(x),this.isOver&&(T.touchmove(_,x),this.activePointer=T,w.push(T));break}}this.updateInputPlugins(u.TOUCH_MOVE,w)},onTouchEnd:function(x){for(var b=this.pointers,w=[],C=0;C<x.changedTouches.length;C++)for(var _=x.changedTouches[C],S=1;S<b.length;S++){var T=b[S];if(T.active&&T.identifier===_.identifier){T.touchend(_,x),w.push(T);break}}this.updateInputPlugins(u.TOUCH_END,w)},onTouchCancel:function(x){for(var b=this.pointers,w=[],C=0;C<x.changedTouches.length;C++)for(var _=x.changedTouches[C],S=1;S<b.length;S++){var T=b[S];if(T.active&&T.identifier===_.identifier){T.touchcancel(_,x),w.push(T);break}}this.updateInputPlugins(u.TOUCH_CANCEL,w)},onMouseDown:function(x){var b=this.mousePointer;b.down(x),b.updateMotion(),this.activePointer=b,this.updateInputPlugins(u.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(x){var b=this.mousePointer;b.move(x),b.updateMotion(),this.activePointer=b,this.updateInputPlugins(u.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(x){var b=this.mousePointer;b.up(x),b.updateMotion(),this.activePointer=b,this.updateInputPlugins(u.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(x){var b=this.mousePointer;b.wheel(x),this.activePointer=b,this.updateInputPlugins(u.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(x){var b=this.mouse.locked;this.mousePointer.locked=b,this.events.emit(c.POINTERLOCK_CHANGE,x,b)},inputCandidate:function(x,b){var w=x.input;if(!w||!w.enabled||!x.willRender(b))return!1;var C=!0,_=x.parentContainer;if(_)do{if(!_.willRender(b)){C=!1;break}_=_.parentContainer}while(_);return C},hitTest:function(x,b,w,C){C===void 0&&(C=this._tempHitTest);var _=this._tempPoint,S=w.scrollX,T=w.scrollY;C.length=0;var A=x.x,M=x.y;w.getWorldPoint(A,M,_),x.worldX=_.x,x.worldY=_.y;for(var I={x:0,y:0},D=this._tempMatrix,k=this._tempMatrix2,G=0;G<b.length;G++){var R=b[G];if(this.inputCandidate(R,w)){var H=_.x+S*R.scrollFactorX-S,j=_.y+T*R.scrollFactorY-T;R.parentContainer?(R.getWorldTransformMatrix(D,k),D.applyInverse(H,j,I)):v(H,j,R.x,R.y,R.rotation,R.scaleX,R.scaleY,I),this.pointWithinHitArea(R,I.x,I.y)&&C.push(R)}}return C},pointWithinHitArea:function(x,b,w){b+=x.displayOriginX,w+=x.displayOriginY;var C=x.input;return C&&C.hitAreaCallback(C.hitArea,b,w,x)?(C.localX=b,C.localY=w,!0):!1},pointWithinInteractiveObject:function(x,b,w){return x.hitArea?(b+=x.gameObject.displayOriginX,w+=x.gameObject.displayOriginY,x.localX=b,x.localY=w,x.hitAreaCallback(x.hitArea,b,w,x)):!1},transformPointer:function(x,b,w,C){var _=x.position,S=x.prevPosition;S.x=_.x,S.y=_.y;var T=this.scaleManager.transformX(b),A=this.scaleManager.transformY(w),M=x.smoothFactor;!C||M===0?(_.x=T,_.y=A):(_.x=T*M+S.x*(1-M),_.y=A*M+S.y*(1-M))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(h.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var x=0;x<this.pointers.length;x++)this.pointers[x].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});n.exports=y},48205:(n,a,s)=>{var o=s(96503),u=s(87902),l=s(83419),c=s(93301),h=s(74457),d=s(84409),f=s(20339),m=s(8497),p=s(81154),g=s(8214),v=s(50792),y=s(95540),x=s(23777),b=s(89639),w=s(41212),C=s(37277),_=s(87841),S=s(37303),T=s(44594),A=s(16483),M=s(10690),I=new l({Extends:v,initialize:function(k){v.call(this),this.scene=k,this.systems=k.sys,this.settings=k.sys.settings,this.manager=k.sys.game.input,this.pluginEvents=new v,this.enabled=!0,this.displayList,this.cameras,b.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var G={cancelled:!1};this._eventContainer={stopPropagation:function(){G.cancelled=!0}},this._eventData=G,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,k.sys.events.once(T.BOOT,this.boot,this),k.sys.events.on(T.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(T.DESTROY,this.destroy,this),this.pluginEvents.emit(g.BOOT)},start:function(){var D=this.systems.events;D.on(T.TRANSITION_START,this.transitionIn,this),D.on(T.TRANSITION_OUT,this.transitionOut,this),D.on(T.TRANSITION_COMPLETE,this.transitionComplete,this),D.on(T.PRE_UPDATE,this.preUpdate,this),D.once(T.SHUTDOWN,this.shutdown,this),this.manager.events.on(g.GAME_OUT,this.onGameOut,this),this.manager.events.on(g.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(g.START)},onGameOver:function(D){this.isActive()&&this.emit(g.GAME_OVER,D.timeStamp,D)},onGameOut:function(D){this.isActive()&&this.emit(g.GAME_OUT,D.timeStamp,D)},preUpdate:function(){this.pluginEvents.emit(g.PRE_UPDATE);var D=this._pendingRemoval,k=this._pendingInsertion,G=D.length,R=k.length;if(!(G===0&&R===0)){for(var H=this._list,j=0;j<G;j++){var Z=D[j],ee=H.indexOf(Z);ee>-1&&(H.splice(ee,1),this.clear(Z,!0))}this._pendingRemoval.length=0,this._list=H.concat(k.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(D){this.manager&&this.manager.setCursor(D)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(D,k){if(!this.isActive())return!1;if(this.pluginEvents.emit(g.UPDATE,D,k),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var G,R=this.manager,H=R.pointers;for(G=0;G<H.length;G++)H[G].updateMotion();if(this._list.length===0)return!1;var j=this.pollRate;if(j===-1)return!1;if(j>0)if(this._pollTimer-=k,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Z=!1;for(G=0;G<H.length;G++){var ee=0,Y=H[G];this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),ee+=this.processOverOutEvents(Y),this.getDragState(Y)===2&&this.processDragThresholdEvent(Y,D),ee>0&&(Z=!0)}return Z},update:function(D,k){if(!this.isActive())return!1;for(var G=!1,R=0;R<k.length;R++){var H=0,j=k[R];switch(this._tempZones=[],this._temp=this.hitTestPointer(j),this.sortGameObjects(this._temp,j),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),D){case c.MOUSE_DOWN:H+=this.processDragDownEvent(j),H+=this.processDownEvents(j),H+=this.processOverOutEvents(j);break;case c.MOUSE_UP:H+=this.processDragUpEvent(j),H+=this.processUpEvents(j),H+=this.processOverOutEvents(j);break;case c.TOUCH_START:H+=this.processDragDownEvent(j),H+=this.processDownEvents(j),H+=this.processOverEvents(j);break;case c.TOUCH_END:case c.TOUCH_CANCEL:H+=this.processDragUpEvent(j),H+=this.processUpEvents(j),H+=this.processOutEvents(j);break;case c.MOUSE_MOVE:case c.TOUCH_MOVE:H+=this.processDragMoveEvent(j),H+=this.processMoveEvents(j),H+=this.processOverOutEvents(j);break;case c.MOUSE_WHEEL:H+=this.processWheelEvent(j);break}H>0&&(G=!0)}return this._updatedThisFrame=!0,G},clear:function(D,k){k===void 0&&(k=!1),this.disable(D);var G=D.input;G&&(this.removeDebug(D),this.manager.resetCursor(G),G.gameObject=void 0,G.target=void 0,G.hitArea=void 0,G.hitAreaCallback=void 0,G.callbackContext=void 0,D.input=null),k||this.queueForRemoval(D);var R=this._draggable.indexOf(D);return R>-1&&this._draggable.splice(R,1),D},disable:function(D,k){k===void 0&&(k=!1);var G=D.input;G&&(G.enabled=!1,G.dragState=0);for(var R=this._drag,H=this._over,j=this.manager,Z=0,ee;Z<j.pointers.length;Z++)ee=R[Z].indexOf(D),ee>-1&&R[Z].splice(ee,1),ee=H[Z].indexOf(D),ee>-1&&H[Z].splice(ee,1);return k&&this.resetCursor(),this},enable:function(D,k,G,R){return R===void 0&&(R=!1),D.input?D.input.enabled=!0:this.setHitArea(D,k,G),D.input&&R&&!D.input.dropZone&&(D.input.dropZone=R),this},hitTestPointer:function(D){for(var k=this.cameras.getCamerasBelowPointer(D),G=0;G<k.length;G++){for(var R=k[G],H=this.manager.hitTest(D,this._list,R),j=0;j<H.length;j++){var Z=H[j];Z.input.dropZone&&this._tempZones.push(Z)}if(H.length>0)return D.camera=R,H}return D.camera=k[0],[]},processDownEvents:function(D){var k=0,G=this._temp,R=this._eventData,H=this._eventContainer;R.cancelled=!1;for(var j=0;j<G.length;j++){var Z=G[j];if(!(!Z.input||!Z.input.enabled)&&(k++,Z.emit(g.GAMEOBJECT_POINTER_DOWN,D,Z.input.localX,Z.input.localY,H),R.cancelled||!this.isActive()||Z.input&&Z.input.enabled&&(this.emit(g.GAMEOBJECT_DOWN,D,Z,H),R.cancelled||!this.isActive())))break}return!R.cancelled&&this.isActive()&&(D.downElement===this.manager.game.canvas?this.emit(g.POINTER_DOWN,D,G):this.emit(g.POINTER_DOWN_OUTSIDE,D)),k},getDragState:function(D){return this._dragState[D.id]},setDragState:function(D,k){this._dragState[D.id]=k},processDragThresholdEvent:function(D,k){var G=!1,R=this.dragTimeThreshold,H=this.dragDistanceThreshold;if((H>0&&f(D.x,D.y,D.downX,D.downY)>=H||R>0&&k>=D.downTime+R)&&(G=!0),G)return this.setDragState(D,3),this.processDragStartList(D)},processDragStartList:function(D){if(this.getDragState(D)!==3)return 0;var k=this._drag[D.id];k.length>1&&(k=k.slice(0));for(var G=0;G<k.length;G++){var R=k[G],H=R.input;H.dragState=2,H.dragStartX=R.x,H.dragStartY=R.y,H.dragStartXGlobal=D.worldX,H.dragStartYGlobal=D.worldY,H.dragStartCamera=D.camera,H.dragX=H.dragStartXGlobal-H.dragStartX,H.dragY=H.dragStartYGlobal-H.dragStartY,R.emit(g.GAMEOBJECT_DRAG_START,D,H.dragX,H.dragY),this.emit(g.DRAG_START,D,R)}return this.setDragState(D,4),k.length},processDragDownEvent:function(D){var k=this._temp;if(this._draggable.length===0||k.length===0||!D.primaryDown||this.getDragState(D)!==0)return 0;this.setDragState(D,1);for(var G=[],R=0;R<k.length;R++){var H=k[R];H.input.draggable&&H.input.dragState===0&&G.push(H)}return G.length===0?(this.setDragState(D,0),0):(G.length>1&&(this.sortGameObjects(G,D),this.topOnly&&G.splice(1)),this._drag[D.id]=G,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(D,3),this.processDragStartList(D)):(this.setDragState(D,2),0))},processDragMoveEvent:function(D){if(this.getDragState(D)===2&&this.processDragThresholdEvent(D,this.manager.game.loop.now),this.getDragState(D)!==4)return 0;var k=this._tempZones,G=this._drag[D.id];G.length>1&&(G=G.slice(0));for(var R=0;R<G.length;R++){var H=G[R],j=H.input,Z=j.target;if(Z){var ee=k.indexOf(Z);ee===0?(H.emit(g.GAMEOBJECT_DRAG_OVER,D,Z),this.emit(g.DRAG_OVER,D,H,Z)):ee>0?(H.emit(g.GAMEOBJECT_DRAG_LEAVE,D,Z),this.emit(g.DRAG_LEAVE,D,H,Z),j.target=k[0],Z=j.target,H.emit(g.GAMEOBJECT_DRAG_ENTER,D,Z),this.emit(g.DRAG_ENTER,D,H,Z)):(H.emit(g.GAMEOBJECT_DRAG_LEAVE,D,Z),this.emit(g.DRAG_LEAVE,D,H,Z),k[0]?(j.target=k[0],Z=j.target,H.emit(g.GAMEOBJECT_DRAG_ENTER,D,Z),this.emit(g.DRAG_ENTER,D,H,Z)):j.target=null)}else!Z&&k[0]&&(j.target=k[0],Z=j.target,H.emit(g.GAMEOBJECT_DRAG_ENTER,D,Z),this.emit(g.DRAG_ENTER,D,H,Z));var Y,V,O=D.positionToCamera(j.dragStartCamera);if(!H.parentContainer)Y=O.x-j.dragX,V=O.y-j.dragY;else{var F=O.x-j.dragStartXGlobal,X=O.y-j.dragStartYGlobal,ie=H.getParentRotation(),re=F*Math.cos(ie)+X*Math.sin(ie),q=X*Math.cos(ie)-F*Math.sin(ie);re*=1/H.parentContainer.scaleX,q*=1/H.parentContainer.scaleY,Y=re+j.dragStartX,V=q+j.dragStartY}H.emit(g.GAMEOBJECT_DRAG,D,Y,V),this.emit(g.DRAG,D,H,Y,V)}return G.length},processDragUpEvent:function(D){var k=this._drag[D.id];k.length>1&&(k=k.slice(0));for(var G=0;G<k.length;G++){var R=k[G],H=R.input;if(H&&H.dragState===2){H.dragState=0,H.dragX=H.localX-R.displayOriginX,H.dragY=H.localY-R.displayOriginY,H.dragStartCamera=null;var j=!1,Z=H.target;Z&&(R.emit(g.GAMEOBJECT_DROP,D,Z),this.emit(g.DROP,D,R,Z),H.target=null,j=!0),R.input&&R.input.enabled&&(R.emit(g.GAMEOBJECT_DRAG_END,D,H.dragX,H.dragY,j),this.emit(g.DRAG_END,D,R,j))}}return this.setDragState(D,0),k.splice(0),0},processMoveEvents:function(D){var k=0,G=this._temp,R=this._eventData,H=this._eventContainer;R.cancelled=!1;for(var j=0;j<G.length;j++){var Z=G[j];if(!(!Z.input||!Z.input.enabled)&&(k++,Z.emit(g.GAMEOBJECT_POINTER_MOVE,D,Z.input.localX,Z.input.localY,H),R.cancelled||!this.isActive()||Z.input&&Z.input.enabled&&(this.emit(g.GAMEOBJECT_MOVE,D,Z,H),R.cancelled||!this.isActive()||this.topOnly)))break}return!R.cancelled&&this.isActive()&&this.emit(g.POINTER_MOVE,D,G),k},processWheelEvent:function(D){var k=0,G=this._temp,R=this._eventData,H=this._eventContainer;R.cancelled=!1;for(var j=D.deltaX,Z=D.deltaY,ee=D.deltaZ,Y=0;Y<G.length;Y++){var V=G[Y];if(!(!V.input||!V.input.enabled)&&(k++,V.emit(g.GAMEOBJECT_POINTER_WHEEL,D,j,Z,ee,H),R.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(g.GAMEOBJECT_WHEEL,D,V,j,Z,ee,H),R.cancelled||!this.isActive())))break}return!R.cancelled&&this.isActive()&&this.emit(g.POINTER_WHEEL,D,G,j,Z,ee),k},processOverEvents:function(D){var k=this._temp,G=0,R=k.length,H=[];if(R>0){var j=this.manager,Z=this._eventData,ee=this._eventContainer;Z.cancelled=!1;for(var Y=0;Y<R;Y++){var V=k[Y];if(!(!V.input||!V.input.enabled)&&(H.push(V),j.setCursor(V.input),V.emit(g.GAMEOBJECT_POINTER_OVER,D,V.input.localX,V.input.localY,ee),G++,Z.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(g.GAMEOBJECT_OVER,D,V,ee),Z.cancelled||!this.isActive())))break}!Z.cancelled&&this.isActive()&&this.emit(g.POINTER_OVER,D,H)}return this._over[D.id]=H,G},processOutEvents:function(D){var k=this._over[D.id],G=0,R=k.length;if(R>0){var H=this.manager,j=this._eventData,Z=this._eventContainer;j.cancelled=!1,this.sortGameObjects(k,D);for(var ee=0;ee<R;ee++){var Y=k[ee];if(Y=k[ee],!(!Y.input||!Y.input.enabled)&&(H.resetCursor(Y.input),Y.emit(g.GAMEOBJECT_POINTER_OUT,D,Z),G++,j.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(g.GAMEOBJECT_OUT,D,Y,Z),j.cancelled||!this.isActive())))break}!j.cancelled&&this.isActive()&&this.emit(g.POINTER_OUT,D,k),this._over[D.id]=[]}return G},processOverOutEvents:function(D){var k=this._temp,G,R,H=[],j=[],Z=[],ee=this._over[D.id],Y=this._drag[D.id],V=this.manager;for(G=0;G<ee.length;G++)R=ee[G],k.indexOf(R)===-1&&Y.indexOf(R)===-1?H.push(R):Z.push(R);for(G=0;G<k.length;G++)R=k[G],ee.indexOf(R)===-1&&j.push(R);var O=H.length,F=0,X=this._eventData,ie=this._eventContainer;if(X.cancelled=!1,O>0){for(this.sortGameObjects(H,D),G=0;G<O&&(R=H[G],!(!(!R.input||!R.input.enabled)&&(V.resetCursor(R.input),R.emit(g.GAMEOBJECT_POINTER_OUT,D,ie),F++,X.cancelled||!this.isActive()||R.input&&R.input.enabled&&(this.emit(g.GAMEOBJECT_OUT,D,R,ie),X.cancelled||!this.isActive()))));G++);(!X.cancelled||this.isActive())&&this.emit(g.POINTER_OUT,D,H)}if(O=j.length,X.cancelled=!1,O>0){for(this.sortGameObjects(j,D),G=0;G<O&&(R=j[G],!(!(!R.input||!R.input.enabled)&&(V.setCursor(R.input),R.emit(g.GAMEOBJECT_POINTER_OVER,D,R.input.localX,R.input.localY,ie),F++,X.cancelled||!this.isActive()||R.input&&R.input.enabled&&(this.emit(g.GAMEOBJECT_OVER,D,R,ie),X.cancelled||!this.isActive()))));G++);!X.cancelled&&this.isActive()&&this.emit(g.POINTER_OVER,D,j)}return ee=Z.concat(j),this._over[D.id]=this.sortGameObjects(ee,D),F},processUpEvents:function(D){var k=this._temp,G=this._eventData,R=this._eventContainer;G.cancelled=!1;for(var H=0;H<k.length;H++){var j=k[H];if(!(!j.input||!j.input.enabled)&&(j.emit(g.GAMEOBJECT_POINTER_UP,D,j.input.localX,j.input.localY,R),G.cancelled||!this.isActive()||j.input&&j.input.enabled&&(this.emit(g.GAMEOBJECT_UP,D,j,R),G.cancelled||!this.isActive())))break}return!G.cancelled&&this.isActive()&&(D.upElement===this.manager.game.canvas?this.emit(g.POINTER_UP,D,k):this.emit(g.POINTER_UP_OUTSIDE,D)),k.length},forceDownState:function(D,k){this.forceState(D,k,g.GAMEOBJECT_POINTER_DOWN,g.GAMEOBJECT_DOWN,!1)},forceUpState:function(D,k){this.forceState(D,k,g.GAMEOBJECT_POINTER_UP,g.GAMEOBJECT_UP,!1)},forceOverState:function(D,k){this.forceState(D,k,g.GAMEOBJECT_POINTER_OVER,g.GAMEOBJECT_OVER,!0)},forceOutState:function(D,k){this.forceState(D,k,g.GAMEOBJECT_POINTER_OUT,g.GAMEOBJECT_OUT,!1)},forceState:function(D,k,G,R,H){var j=this._eventData,Z=this._eventContainer;j.cancelled=!1,k.input&&k.input.enabled&&(k.emit(G,D,k.input.localX,k.input.localY,Z),H&&this.setCursor(k.input),!j.cancelled&&this.isActive()&&k.input&&k.input.enabled&&this.emit(R,D,k,Z))},queueForInsertion:function(D){return this._pendingInsertion.indexOf(D)===-1&&this._list.indexOf(D)===-1&&this._pendingInsertion.push(D),this},queueForRemoval:function(D){return this._pendingRemoval.push(D),this},setDraggable:function(D,k){k===void 0&&(k=!0),Array.isArray(D)||(D=[D]);for(var G=0;G<D.length;G++){var R=D[G];R.input.draggable=k;var H=this._draggable.indexOf(R);k&&H===-1?this._draggable.push(R):!k&&H>-1&&this._draggable.splice(H,1)}return this},makePixelPerfect:function(D){D===void 0&&(D=1);var k=this.systems.textures;return d(k,D)},setHitArea:function(D,k,G){if(k===void 0)return this.setHitAreaFromTexture(D);Array.isArray(D)||(D=[D]);var R=!1,H=!1,j=!1,Z=!1,ee=!1,Y=!0;if(w(k)&&Object.keys(k).length){var V=k,O=D.some(function(q){return q.hasOwnProperty("faces")});if(!O){k=y(V,"hitArea",null),G=y(V,"hitAreaCallback",null),ee=y(V,"pixelPerfect",!1);var F=y(V,"alphaTolerance",1);ee&&(k={},G=this.makePixelPerfect(F))}R=y(V,"draggable",!1),H=y(V,"dropZone",!1),j=y(V,"cursor",!1),Z=y(V,"useHandCursor",!1),(!k||!G)&&(this.setHitAreaFromTexture(D),Y=!1)}else typeof k=="function"&&!G&&(G=k,k={});for(var X=0;X<D.length;X++){var ie=D[X];if(ee&&ie.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var re=ie.input?ie.input:h(ie,k,G);re.customHitArea=Y,re.dropZone=H,re.cursor=Z?"pointer":j,ie.input=re,R&&this.setDraggable(ie),this.queueForInsertion(ie)}return this},setHitAreaCircle:function(D,k,G,R,H){H===void 0&&(H=u);var j=new o(k,G,R);return this.setHitArea(D,j,H)},setHitAreaEllipse:function(D,k,G,R,H,j){j===void 0&&(j=p);var Z=new m(k,G,R,H);return this.setHitArea(D,Z,j)},setHitAreaFromTexture:function(D,k){k===void 0&&(k=S),Array.isArray(D)||(D=[D]);for(var G=0;G<D.length;G++){var R=D[G],H=R.frame,j=0,Z=0;if(R.width?(j=R.width,Z=R.height):H&&(j=H.realWidth,Z=H.realHeight),R.type==="Container"&&(j===0||Z===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}j!==0&&Z!==0&&(R.input=h(R,new _(0,0,j,Z),k),this.queueForInsertion(R))}return this},setHitAreaRectangle:function(D,k,G,R,H,j){j===void 0&&(j=S);var Z=new _(k,G,R,H);return this.setHitArea(D,Z,j)},setHitAreaTriangle:function(D,k,G,R,H,j,Z,ee){ee===void 0&&(ee=M);var Y=new A(k,G,R,H,j,Z);return this.setHitArea(D,Y,ee)},enableDebug:function(D,k){k===void 0&&(k=65280);var G=D.input;if(!G||!G.hitArea)return this;var R=G.hitArea,H=R.type,j=G.hitAreaDebug,Z=this.systems.add,ee=this.systems.updateList;j&&(ee.remove(j),j.destroy(),j=null);var Y=0,V=0;switch(H){case x.CIRCLE:j=Z.arc(0,0,R.radius),Y=R.x-R.radius,V=R.y-R.radius;break;case x.ELLIPSE:j=Z.ellipse(0,0,R.width,R.height),Y=R.x-R.width/2,V=R.y-R.height/2;break;case x.LINE:j=Z.line(0,0,R.x1,R.y1,R.x2,R.y2);break;case x.POLYGON:j=Z.polygon(0,0,R.points);break;case x.RECTANGLE:j=Z.rectangle(0,0,R.width,R.height),Y=R.x,V=R.y;break;case x.TRIANGLE:j=Z.triangle(0,0,R.x1,R.y1,R.x2,R.y2,R.x3,R.y3);break}return j&&(j.isFilled=!1,j.strokeColor=k,j.preUpdate=function(){j.setVisible(D.visible),j.setStrokeStyle(1/D.scale,j.strokeColor),j.setDisplayOrigin(D.displayOriginX,D.displayOriginY);var O=D.x,F=D.y,X=D.rotation,ie=D.scaleX,re=D.scaleY;if(D.parentContainer){var q=D.getWorldTransformMatrix();O=q.tx,F=q.ty,X=q.rotation,ie=q.scaleX,re=q.scaleY}j.setRotation(X),j.setScale(ie,re),j.setPosition(O+Y*ie,F+V*re),j.setScrollFactor(D.scrollFactorX,D.scrollFactorY),j.setDepth(D.depth)},ee.add(j),G.hitAreaDebug=j),this},removeDebug:function(D){var k=D.input;if(k&&k.hitAreaDebug){var G=k.hitAreaDebug;G.destroy(),k.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(D){return this.pollRate=D,this._pollTimer=0,this},setGlobalTopOnly:function(D){return this.manager.globalTopOnly=D,this},setTopOnly:function(D){return this.topOnly=D,this},sortGameObjects:function(D,k){if(D.length<2||!k.camera)return D;var G=k.camera.renderList;return D.sort(function(R,H){var j=Math.max(G.indexOf(R),0),Z=Math.max(G.indexOf(H),0);return Z-j})},sortDropZones:function(D){return D.length<2?D:(this.scene.sys.depthSort(),D.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(D,k){if(!D.parentContainer&&!k.parentContainer)return this.displayList.getIndex(k)-this.displayList.getIndex(D);if(D.parentContainer===k.parentContainer)return k.parentContainer.getIndex(k)-D.parentContainer.getIndex(D);if(D.parentContainer===k)return-1;if(k.parentContainer===D)return 1;for(var G=D.getIndexList(),R=k.getIndexList(),H=Math.min(G.length,R.length),j=0;j<H;j++){var Z=G[j],ee=R[j];if(Z!==ee)return ee-Z}return R.length-G.length;return 0},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(D){return this.manager.addPointer(D)},setDefaultCursor:function(D){return this.manager.setDefaultCursor(D),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(g.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var D=0;D<10;D++)this._drag[D]=[],this._over[D]=[];this.removeAllListeners();var k=this.manager;k.canvas.style.cursor=k.defaultCursor;var G=this.systems.events;G.off(T.TRANSITION_START,this.transitionIn,this),G.off(T.TRANSITION_OUT,this.transitionOut,this),G.off(T.TRANSITION_COMPLETE,this.transitionComplete,this),G.off(T.PRE_UPDATE,this.preUpdate,this),k.events.off(g.GAME_OUT,this.onGameOut,this),k.events.off(g.GAME_OVER,this.onGameOver,this),G.off(T.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var D=this.manager.pointers,k=0;k<D.length;k++)D[k].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(g.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(T.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});C.register("InputPlugin",I,"input"),n.exports=I},89639:(n,a,s)=>{var o=s(35154),u={},l={};l.register=function(c,h,d,f,m){u[c]={plugin:h,mapping:d,settingsKey:f,configKey:m}},l.getPlugin=function(c){return u[c]},l.install=function(c){var h=c.scene.sys,d=h.settings.input,f=h.game.config;for(var m in u){var p=u[m].plugin,g=u[m].mapping,v=u[m].settingsKey,y=u[m].configKey;o(d,v,f[y])&&(c[g]=new p(c))}},l.remove=function(c){u.hasOwnProperty(c)&&delete u[c]},n.exports=l},42515:(n,a,s)=>{var o=s(31040),u=s(83419),l=s(20339),c=s(43855),h=s(47235),d=s(26099),f=s(25892),m=new u({initialize:function(g,v){this.manager=g,this.id=v,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new d,this.prevPosition=new d,this.midPoint=new d(-1,-1),this.velocity=new d,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=v===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(p){var g=p.getWorldPoint(this.x,this.y);return this.worldX=g.x,this.worldY=g.y,this},positionToCamera:function(p,g){return p.getWorldPoint(this.x,this.y,g)},updateMotion:function(){var p=this.position.x,g=this.position.y,v=this.midPoint.x,y=this.midPoint.y;if(!(p===v&&g===y)){var x=h(this.motionFactor,v,p),b=h(this.motionFactor,y,g);c(x,p,.1)&&(x=p),c(b,g,.1)&&(b=g),this.midPoint.set(x,b);var w=p-x,C=g-b;this.velocity.set(w,C),this.angle=o(x,b,p,g),this.distance=Math.sqrt(w*w+C*C)}},up:function(p){"buttons"in p&&(this.buttons=p.buttons),this.event=p,this.button=p.button,this.upElement=p.target,this.manager.transformPointer(this,p.pageX,p.pageY,!1),p.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=p.timeStamp,this.wasTouch=!1)},down:function(p){"buttons"in p&&(this.buttons=p.buttons),this.event=p,this.button=p.button,this.downElement=p.target,this.manager.transformPointer(this,p.pageX,p.pageY,!1),p.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),f.macOS&&p.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=p.timeStamp),this.wasTouch=!1},move:function(p){"buttons"in p&&(this.buttons=p.buttons),this.event=p,this.manager.transformPointer(this,p.pageX,p.pageY,!0),this.locked&&(this.movementX=p.movementX||p.mozMovementX||p.webkitMovementX||0,this.movementY=p.movementY||p.mozMovementY||p.webkitMovementY||0),this.moveTime=p.timeStamp,this.wasTouch=!1},wheel:function(p){"buttons"in p&&(this.buttons=p.buttons),this.event=p,this.manager.transformPointer(this,p.pageX,p.pageY,!1),this.deltaX=p.deltaX,this.deltaY=p.deltaY,this.deltaZ=p.deltaZ,this.wasTouch=!1},touchstart:function(p,g){p.pointerId&&(this.pointerId=p.pointerId),this.identifier=p.identifier,this.target=p.target,this.active=!0,this.buttons=1,this.event=g,this.downElement=p.target,this.manager.transformPointer(this,p.pageX,p.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=g.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(p,g){this.event=g,this.manager.transformPointer(this,p.pageX,p.pageY,!0),this.moveTime=g.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(p,g){this.buttons=0,this.event=g,this.upElement=p.target,this.manager.transformPointer(this,p.pageX,p.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=g.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(p,g){this.buttons=0,this.event=g,this.upElement=p.target,this.manager.transformPointer(this,p.pageX,p.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=g.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?l(this.downX,this.downY,this.x,this.y):l(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(p,g){p===void 0&&(p=10),g===void 0&&(g=[]);for(var v=this.prevPosition.x,y=this.prevPosition.y,x=this.position.x,b=this.position.y,w=0;w<p;w++){var C=1/p*w;g[w]={x:h(C,v,x),y:h(C,y,b)}}return g},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(p){this.position.x=p}},y:{get:function(){return this.position.y},set:function(p){this.position.y=p}},time:{get:function(){return this.event?this.event.timeStamp:0}}});n.exports=m},93301:n=>{var a={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};n.exports=a},7179:n=>{n.exports="boot"},85375:n=>{n.exports="destroy"},39843:n=>{n.exports="dragend"},23388:n=>{n.exports="dragenter"},16133:n=>{n.exports="drag"},27829:n=>{n.exports="dragleave"},53904:n=>{n.exports="dragover"},56058:n=>{n.exports="dragstart"},2642:n=>{n.exports="drop"},88171:n=>{n.exports="gameobjectdown"},36147:n=>{n.exports="dragend"},71692:n=>{n.exports="dragenter"},96149:n=>{n.exports="drag"},81285:n=>{n.exports="dragleave"},74048:n=>{n.exports="dragover"},21322:n=>{n.exports="dragstart"},49378:n=>{n.exports="drop"},86754:n=>{n.exports="gameobjectmove"},86433:n=>{n.exports="gameobjectout"},60709:n=>{n.exports="gameobjectover"},24081:n=>{n.exports="pointerdown"},11172:n=>{n.exports="pointermove"},18907:n=>{n.exports="pointerout"},95579:n=>{n.exports="pointerover"},35368:n=>{n.exports="pointerup"},26972:n=>{n.exports="wheel"},47078:n=>{n.exports="gameobjectup"},73802:n=>{n.exports="gameobjectwheel"},56718:n=>{n.exports="gameout"},25936:n=>{n.exports="gameover"},27503:n=>{n.exports="boot"},50852:n=>{n.exports="process"},96438:n=>{n.exports="update"},59152:n=>{n.exports="pointerlockchange"},47777:n=>{n.exports="pointerdown"},27957:n=>{n.exports="pointerdownoutside"},19444:n=>{n.exports="pointermove"},54251:n=>{n.exports="pointerout"},18667:n=>{n.exports="pointerover"},27192:n=>{n.exports="pointerup"},24652:n=>{n.exports="pointerupoutside"},45132:n=>{n.exports="wheel"},44512:n=>{n.exports="preupdate"},15757:n=>{n.exports="shutdown"},41637:n=>{n.exports="start"},93802:n=>{n.exports="update"},8214:(n,a,s)=>{n.exports={BOOT:s(7179),DESTROY:s(85375),DRAG_END:s(39843),DRAG_ENTER:s(23388),DRAG:s(16133),DRAG_LEAVE:s(27829),DRAG_OVER:s(53904),DRAG_START:s(56058),DROP:s(2642),GAME_OUT:s(56718),GAME_OVER:s(25936),GAMEOBJECT_DOWN:s(88171),GAMEOBJECT_DRAG_END:s(36147),GAMEOBJECT_DRAG_ENTER:s(71692),GAMEOBJECT_DRAG:s(96149),GAMEOBJECT_DRAG_LEAVE:s(81285),GAMEOBJECT_DRAG_OVER:s(74048),GAMEOBJECT_DRAG_START:s(21322),GAMEOBJECT_DROP:s(49378),GAMEOBJECT_MOVE:s(86754),GAMEOBJECT_OUT:s(86433),GAMEOBJECT_OVER:s(60709),GAMEOBJECT_POINTER_DOWN:s(24081),GAMEOBJECT_POINTER_MOVE:s(11172),GAMEOBJECT_POINTER_OUT:s(18907),GAMEOBJECT_POINTER_OVER:s(95579),GAMEOBJECT_POINTER_UP:s(35368),GAMEOBJECT_POINTER_WHEEL:s(26972),GAMEOBJECT_UP:s(47078),GAMEOBJECT_WHEEL:s(73802),MANAGER_BOOT:s(27503),MANAGER_PROCESS:s(50852),MANAGER_UPDATE:s(96438),POINTER_DOWN:s(47777),POINTER_DOWN_OUTSIDE:s(27957),POINTER_MOVE:s(19444),POINTER_OUT:s(54251),POINTER_OVER:s(18667),POINTER_UP:s(27192),POINTER_UP_OUTSIDE:s(24652),POINTER_WHEEL:s(45132),POINTERLOCK_CHANGE:s(59152),PRE_UPDATE:s(44512),SHUTDOWN:s(15757),START:s(41637),UPDATE:s(93802)}},97421:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h){this.pad=c,this.events=c.events,this.index=h,this.value=0,this.threshold=.1},update:function(l){this.value=l},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});n.exports=u},28884:(n,a,s)=>{var o=s(83419),u=s(92734),l=new o({initialize:function(h,d){this.pad=h,this.events=h.manager,this.index=d,this.value=0,this.threshold=1,this.pressed=!1},update:function(c){this.value=c;var h=this.pad,d=this.index;c>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(u.BUTTON_DOWN,h,this,c),this.pad.emit(u.GAMEPAD_BUTTON_DOWN,d,c,this)):this.pressed&&(this.pressed=!1,this.events.emit(u.BUTTON_UP,h,this,c),this.pad.emit(u.GAMEPAD_BUTTON_UP,d,c,this))},destroy:function(){this.pad=null,this.events=null}});n.exports=l},99125:(n,a,s)=>{var o=s(97421),u=s(28884),l=s(83419),c=s(50792),h=s(26099),d=new l({Extends:c,initialize:function(m,p){c.call(this),this.manager=m,this.pad=p,this.id=p.id,this.index=p.index;for(var g=[],v=0;v<p.buttons.length;v++)g.push(new u(this,v));this.buttons=g;var y=[];for(v=0;v<p.axes.length;v++)y.push(new o(this,v));this.axes=y,this.vibration=p.vibrationActuator;var x={value:0,pressed:!1};this._LCLeft=g[14]?g[14]:x,this._LCRight=g[15]?g[15]:x,this._LCTop=g[12]?g[12]:x,this._LCBottom=g[13]?g[13]:x,this._RCLeft=g[2]?g[2]:x,this._RCRight=g[1]?g[1]:x,this._RCTop=g[3]?g[3]:x,this._RCBottom=g[0]?g[0]:x,this._FBLeftTop=g[4]?g[4]:x,this._FBLeftBottom=g[6]?g[6]:x,this._FBRightTop=g[5]?g[5]:x,this._FBRightBottom=g[7]?g[7]:x;var b={value:0};this._HAxisLeft=y[0]?y[0]:b,this._VAxisLeft=y[1]?y[1]:b,this._HAxisRight=y[2]?y[2]:b,this._VAxisRight=y[3]?y[3]:b,this.leftStick=new h,this.rightStick=new h,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(f){return this.axes[f].getValue()},setAxisThreshold:function(f){for(var m=0;m<this.axes.length;m++)this.axes[m].threshold=f},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(f){return this.buttons[f].value},isButtonDown:function(f){return this.buttons[f].pressed},update:function(f){if(!(f.timestamp<this._created)){var m,p=this.buttons,g=f.buttons,v=p.length;for(m=0;m<v;m++)p[m].update(g[m].value);var y=this.axes,x=f.axes;for(v=y.length,m=0;m<v;m++)y[m].update(x[m]);v>=2&&(this.leftStick.set(y[0].getValue(),y[1].getValue()),v>=4&&this.rightStick.set(y[2].getValue(),y[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var f;for(f=0;f<this.buttons.length;f++)this.buttons[f].destroy();for(f=0;f<this.axes.length;f++)this.axes[f].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});n.exports=d},56654:(n,a,s)=>{var o=s(83419),u=s(50792),l=s(92734),c=s(99125),h=s(35154),d=s(89639),f=s(8214),m=new o({Extends:u,initialize:function(g){u.call(this),this.scene=g.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=g,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,g.pluginEvents.once(f.BOOT,this.boot,this),g.pluginEvents.on(f.START,this.start,this)},boot:function(){var p=this.scene.sys.game,g=this.settings.input,v=p.config;this.enabled=h(g,"gamepad",v.inputGamepad)&&p.device.input.gamepads,this.target=h(g,"gamepad.target",v.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(f.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(f.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var p=this,g=this.target,v=function(y){y.defaultPrevented||!p.isActive()||(p.refreshPads(),p.queue.push(y))};this.onGamepadHandler=v,g.addEventListener("gamepadconnected",v,!1),g.addEventListener("gamepaddisconnected",v,!1),this.sceneInputPlugin.pluginEvents.on(f.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(f.UPDATE,this.update);for(var p=0;p<this.gamepads.length;p++)this.gamepads[p].removeAllListeners()},disconnectAll:function(){for(var p=0;p<this.gamepads.length;p++)this.gamepads[p].pad.connected=!1},refreshPads:function(){var p=navigator.getGamepads();if(!p)this.disconnectAll();else for(var g=this.gamepads,v=0;v<p.length;v++){var y=p[v];if(y){var x=y.id,b=y.index,w=g[b];if(w)w.id!==x?(w.destroy(),g[b]=new c(this,y)):w.update(y);else{var C=new c(this,y);g[b]=C,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=C):this._pad3=C:this._pad2=C:this._pad1=C}}}},getAll:function(){for(var p=[],g=this.gamepads,v=0;v<g.length;v++)g[v]&&p.push(g[v]);return p},getPad:function(p){for(var g=this.gamepads,v=0;v<g.length;v++)if(g[v]&&g[v].index===p)return g[v]},update:function(){if(this.enabled){this.refreshPads();var p=this.queue.length;if(p!==0)for(var g=this.queue.splice(0,p),v=0;v<p;v++){var y=g[v],x=this.getPad(y.gamepad.index);y.type==="gamepadconnected"?this.emit(l.CONNECTED,x,y):y.type==="gamepaddisconnected"&&this.emit(l.DISCONNECTED,x,y)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var p=0;p<this.gamepads.length;p++)this.gamepads[p]&&this.gamepads[p].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});d.register("GamepadPlugin",m,"gamepad","gamepad","inputGamepad"),n.exports=m},89651:n=>{n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:n=>{n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:n=>{n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(n,a,s)=>{n.exports={DUALSHOCK_4:s(65294),SNES_USB:s(89651),XBOX_360:s(90089)}},46008:n=>{n.exports="down"},7629:n=>{n.exports="up"},42206:n=>{n.exports="connected"},86544:n=>{n.exports="disconnected"},94784:n=>{n.exports="down"},14325:n=>{n.exports="up"},92734:(n,a,s)=>{n.exports={BUTTON_DOWN:s(46008),BUTTON_UP:s(7629),CONNECTED:s(42206),DISCONNECTED:s(86544),GAMEPAD_BUTTON_DOWN:s(94784),GAMEPAD_BUTTON_UP:s(14325)}},48646:(n,a,s)=>{n.exports={Axis:s(97421),Button:s(28884),Events:s(92734),Gamepad:s(99125),GamepadPlugin:s(56654),Configs:s(64894)}},14350:(n,a,s)=>{var o=s(93301),u=s(79291),l={CreatePixelPerfectHandler:s(84409),CreateInteractiveObject:s(74457),Events:s(8214),Gamepad:s(48646),InputManager:s(7003),InputPlugin:s(48205),InputPluginCache:s(89639),Keyboard:s(51442),Mouse:s(87078),Pointer:s(42515),Touch:s(95618)};l=u(!1,l,o),n.exports=l},78970:(n,a,s)=>{var o=s(72905),u=s(83419),l=s(8443),c=s(8214),h=s(46032),d=s(29747),f=new u({initialize:function(p){this.manager=p,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=d,this.onKeyUp=d,p.events.once(c.MANAGER_BOOT,this.boot,this)},boot:function(){var m=this.manager.config;this.enabled=m.inputKeyboard,this.target=m.inputKeyboardEventTarget,this.addCapture(m.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(l.POST_STEP,this.postUpdate,this)},startListeners:function(){var m=this;this.onKeyDown=function(g){if(!(g.defaultPrevented||!m.enabled||!m.manager)){m.queue.push(g),m.manager.events.emit(c.MANAGER_PROCESS);var v=g.altKey||g.ctrlKey||g.shiftKey||g.metaKey;m.preventDefault&&!v&&m.captures.indexOf(g.keyCode)>-1&&g.preventDefault()}},this.onKeyUp=function(g){if(!(g.defaultPrevented||!m.enabled||!m.manager)){m.queue.push(g),m.manager.events.emit(c.MANAGER_PROCESS);var v=g.altKey||g.ctrlKey||g.shiftKey||g.metaKey;m.preventDefault&&!v&&m.captures.indexOf(g.keyCode)>-1&&g.preventDefault()}};var p=this.target;p&&(p.addEventListener("keydown",this.onKeyDown,!1),p.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var m=this.target;m.removeEventListener("keydown",this.onKeyDown,!1),m.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(m){typeof m=="string"&&(m=m.split(",")),Array.isArray(m)||(m=[m]);for(var p=this.captures,g=0;g<m.length;g++){var v=m[g];typeof v=="string"&&(v=h[v.trim().toUpperCase()]),p.indexOf(v)===-1&&p.push(v)}this.preventDefault=p.length>0},removeCapture:function(m){typeof m=="string"&&(m=m.split(",")),Array.isArray(m)||(m=[m]);for(var p=this.captures,g=0;g<m.length;g++){var v=m[g];typeof v=="string"&&(v=h[v.toUpperCase()]),o(p,v)}this.preventDefault=p.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(l.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});n.exports=f},28846:(n,a,s)=>{var o=s(83419),u=s(50792),l=s(95922),c=s(8443),h=s(35154),d=s(8214),f=s(89639),m=s(30472),p=s(46032),g=s(87960),v=s(74600),y=s(44594),x=s(56583),b=new o({Extends:u,initialize:function(C){u.call(this),this.game=C.systems.game,this.scene=C.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=C,this.manager=C.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,C.pluginEvents.once(d.BOOT,this.boot,this),C.pluginEvents.on(d.START,this.start,this)},boot:function(){var w=this.settings.input;this.enabled=h(w,"keyboard",!0);var C=h(w,"keyboard.capture",null);C&&this.addCaptures(C),this.sceneInputPlugin.pluginEvents.once(d.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(d.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(d.SHUTDOWN,this.shutdown,this),this.game.events.on(c.BLUR,this.resetKeys,this),this.scene.sys.events.on(y.PAUSE,this.resetKeys,this),this.scene.sys.events.on(y.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(w){return this.manager.addCapture(w),this},removeCapture:function(w){return this.manager.removeCapture(w),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:p.UP,down:p.DOWN,left:p.LEFT,right:p.RIGHT,space:p.SPACE,shift:p.SHIFT})},addKeys:function(w,C,_){C===void 0&&(C=!0),_===void 0&&(_=!1);var S={};if(typeof w=="string"){w=w.split(",");for(var T=0;T<w.length;T++){var A=w[T].trim();A&&(S[A]=this.addKey(A,C,_))}}else for(var M in w)S[M]=this.addKey(w[M],C,_);return S},addKey:function(w,C,_){C===void 0&&(C=!0),_===void 0&&(_=!1);var S=this.keys;if(w instanceof m){var T=S.indexOf(w);return T>-1?S[T]=w:S[w.keyCode]=w,C&&this.addCapture(w.keyCode),w.setEmitOnRepeat(_),w}return typeof w=="string"&&(w=p[w.toUpperCase()]),S[w]||(S[w]=new m(this,w),C&&this.addCapture(w),S[w].setEmitOnRepeat(_)),S[w]},removeKey:function(w,C,_){C===void 0&&(C=!1),_===void 0&&(_=!1);var S=this.keys,T;if(w instanceof m){var A=S.indexOf(w);A>-1&&(T=this.keys[A],this.keys[A]=void 0)}else typeof w=="string"&&(w=p[w.toUpperCase()]);return S[w]&&(T=S[w],S[w]=void 0),T&&(T.plugin=null,_&&this.removeCapture(T.keyCode),C&&T.destroy()),this},removeAllKeys:function(w,C){w===void 0&&(w=!1),C===void 0&&(C=!1);for(var _=this.keys,S=0;S<_.length;S++){var T=_[S];T&&(_[S]=void 0,C&&this.removeCapture(T.keyCode),w&&T.destroy())}return this},createCombo:function(w,C){return new g(this,w,C)},checkDown:function(w,C){if(C===void 0&&(C=0),this.enabled&&w.isDown){var _=x(this.time-w.timeDown,C);if(_>w._tick)return w._tick=_,!0}return!1},update:function(){var w=this.manager.queue,C=w.length;if(!(!this.isActive()||C===0))for(var _=this.keys,S=0;S<C;S++){var T=w[S],A=T.keyCode,M=_[A],I=!1;T.cancelled===void 0&&(T.cancelled=0,T.stopImmediatePropagation=function(){T.cancelled=1},T.stopPropagation=function(){T.cancelled=-1}),T.cancelled!==-1&&(A===this.prevCode&&T.timeStamp===this.prevTime&&T.type===this.prevType||(this.prevCode=A,this.prevTime=T.timeStamp,this.prevType=T.type,T.type==="keydown"?(M&&(I=M.isDown,M.onDown(T)),!T.cancelled&&(!M||!I)&&(v[A]&&this.emit(l.KEY_DOWN+v[A],T),T.cancelled||this.emit(l.ANY_KEY_DOWN,T))):(M&&M.onUp(T),T.cancelled||(v[A]&&this.emit(l.KEY_UP+v[A],T),T.cancelled||this.emit(l.ANY_KEY_UP,T))),T.cancelled===1&&(T.cancelled=0)))}},resetKeys:function(){for(var w=this.keys,C=0;C<w.length;C++)w[C]&&w[C].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(d.MANAGER_PROCESS,this.update,this),this.game.events.off(c.BLUR,this.resetKeys),this.scene.sys.events.off(y.PAUSE,this.resetKeys,this),this.scene.sys.events.off(y.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var w=this.keys,C=0;C<w.length;C++)w[C]&&w[C].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});f.register("KeyboardPlugin",b,"keyboard","keyboard","inputKeyboard"),n.exports=b},66970:n=>{var a=function(s,o){return o.timeLastMatched=s.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};n.exports=a},87960:(n,a,s)=>{var o=s(83419),u=s(95922),l=s(95540),c=s(68769),h=s(92803),d=new o({initialize:function(m,p,g){if(g===void 0&&(g={}),p.length<2)return!1;this.manager=m,this.enabled=!0,this.keyCodes=[];for(var v=0;v<p.length;v++){var y=p[v];typeof y=="string"?this.keyCodes.push(y.toUpperCase().charCodeAt(0)):typeof y=="number"?this.keyCodes.push(y):y.hasOwnProperty("keyCode")&&this.keyCodes.push(y.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=l(g,"resetOnWrongKey",!0),this.maxKeyDelay=l(g,"maxKeyDelay",0),this.resetOnMatch=l(g,"resetOnMatch",!1),this.deleteOnMatch=l(g,"deleteOnMatch",!1);var x=this,b=function(w){if(!(x.matched||!x.enabled)){var C=c(w,x);C&&(x.manager.emit(u.COMBO_MATCH,x,w),x.resetOnMatch?h(x):x.deleteOnMatch&&x.destroy())}};this.onKeyDown=b,this.manager.on(u.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(u.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});n.exports=d},68769:(n,a,s)=>{var o=s(66970),u=function(l,c){if(c.matched)return!0;var h=!1,d=!1;if(l.keyCode===c.current)if(c.index>0&&c.maxKeyDelay>0){var f=c.timeLastMatched+c.maxKeyDelay;l.timeStamp<=f&&(d=!0,h=o(l,c))}else d=!0,h=o(l,c);return!d&&c.resetOnWrongKey&&(c.index=0,c.current=c.keyCodes[0]),h&&(c.timeLastMatched=l.timeStamp,c.matched=!0,c.timeMatched=l.timeStamp),h};n.exports=u},92803:n=>{var a=function(s){return s.current=s.keyCodes[0],s.index=0,s.timeLastMatched=0,s.matched=!1,s.timeMatched=0,s};n.exports=a},92612:n=>{n.exports="keydown"},23345:n=>{n.exports="keyup"},21957:n=>{n.exports="keycombomatch"},44743:n=>{n.exports="down"},3771:n=>{n.exports="keydown-"},46358:n=>{n.exports="keyup-"},75674:n=>{n.exports="up"},95922:(n,a,s)=>{n.exports={ANY_KEY_DOWN:s(92612),ANY_KEY_UP:s(23345),COMBO_MATCH:s(21957),DOWN:s(44743),KEY_DOWN:s(3771),KEY_UP:s(46358),UP:s(75674)}},51442:(n,a,s)=>{n.exports={Events:s(95922),KeyboardManager:s(78970),KeyboardPlugin:s(28846),Key:s(30472),KeyCodes:s(46032),KeyCombo:s(87960),AdvanceKeyCombo:s(66970),ProcessKeyCombo:s(68769),ResetKeyCombo:s(92803),JustDown:s(90229),JustUp:s(38796),DownDuration:s(37015),UpDuration:s(41170)}},37015:n=>{var a=function(s,o){o===void 0&&(o=50);var u=s.plugin.game.loop.time-s.timeDown;return s.isDown&&u<o};n.exports=a},90229:n=>{var a=function(s){return s._justDown?(s._justDown=!1,!0):!1};n.exports=a},38796:n=>{var a=function(s){return s._justUp?(s._justUp=!1,!0):!1};n.exports=a},30472:(n,a,s)=>{var o=s(83419),u=s(50792),l=s(95922),c=new o({Extends:u,initialize:function(d,f){u.call(this),this.plugin=d,this.keyCode=f,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(h){return this.emitOnRepeat=h,this},onDown:function(h){this.originalEvent=h,this.enabled&&(this.altKey=h.altKey,this.ctrlKey=h.ctrlKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.location=h.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(l.DOWN,this,h):(this.isDown=!0,this.isUp=!1,this.timeDown=h.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(l.DOWN,this,h)))},onUp:function(h){this.originalEvent=h,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=h.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(l.UP,this,h))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});n.exports=c},46032:n=>{var a={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};n.exports=a},74600:(n,a,s)=>{var o=s(46032),u={};for(var l in o)u[o[l]]=l;n.exports=u},41170:n=>{var a=function(s,o){o===void 0&&(o=50);var u=s.plugin.game.loop.time-s.timeUp;return s.isUp&&u<o};n.exports=a},85098:(n,a,s)=>{var o=s(83419),u=s(89357),l=s(8214),c=s(29747),h=new o({initialize:function(f){this.manager=f,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=c,this.onMouseDown=c,this.onMouseUp=c,this.onMouseDownWindow=c,this.onMouseUpWindow=c,this.onMouseOver=c,this.onMouseOut=c,this.onMouseWheel=c,this.pointerLockChange=c,this.isTop=!0,f.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var d=this.manager.config;this.enabled=d.inputMouse,this.target=d.inputMouseEventTarget,this.passive=d.inputMousePassive,this.preventDefaultDown=d.inputMousePreventDefaultDown,this.preventDefaultUp=d.inputMousePreventDefaultUp,this.preventDefaultMove=d.inputMousePreventDefaultMove,this.preventDefaultWheel=d.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,d.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(d){return d.preventDefault(),!1}),this},requestPointerLock:function(){if(u.pointerLock){var d=this.target;d.requestPointerLock=d.requestPointerLock||d.mozRequestPointerLock||d.webkitRequestPointerLock,d.requestPointerLock()}},releasePointerLock:function(){u.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var d=this.target;if(d){var f=this,m=this.manager,p=m.canvas,g=window&&window.focus&&m.game.config.autoFocus;this.onMouseMove=function(y){!y.defaultPrevented&&f.enabled&&m&&m.enabled&&(m.onMouseMove(y),f.preventDefaultMove&&y.preventDefault())},this.onMouseDown=function(y){g&&window.focus(),!y.defaultPrevented&&f.enabled&&m&&m.enabled&&(m.onMouseDown(y),f.preventDefaultDown&&y.target===p&&y.preventDefault())},this.onMouseDownWindow=function(y){y.sourceCapabilities&&y.sourceCapabilities.firesTouchEvents||!y.defaultPrevented&&f.enabled&&m&&m.enabled&&y.target!==p&&m.onMouseDown(y)},this.onMouseUp=function(y){!y.defaultPrevented&&f.enabled&&m&&m.enabled&&(m.onMouseUp(y),f.preventDefaultUp&&y.target===p&&y.preventDefault())},this.onMouseUpWindow=function(y){y.sourceCapabilities&&y.sourceCapabilities.firesTouchEvents||!y.defaultPrevented&&f.enabled&&m&&m.enabled&&y.target!==p&&m.onMouseUp(y)},this.onMouseOver=function(y){!y.defaultPrevented&&f.enabled&&m&&m.enabled&&m.setCanvasOver(y)},this.onMouseOut=function(y){!y.defaultPrevented&&f.enabled&&m&&m.enabled&&m.setCanvasOut(y)},this.onMouseWheel=function(y){!y.defaultPrevented&&f.enabled&&m&&m.enabled&&m.onMouseWheel(y),f.preventDefaultWheel&&y.target===p&&y.preventDefault()};var v={passive:!0};if(d.addEventListener("mousemove",this.onMouseMove),d.addEventListener("mousedown",this.onMouseDown),d.addEventListener("mouseup",this.onMouseUp),d.addEventListener("mouseover",this.onMouseOver,v),d.addEventListener("mouseout",this.onMouseOut,v),this.preventDefaultWheel?d.addEventListener("wheel",this.onMouseWheel,{passive:!1}):d.addEventListener("wheel",this.onMouseWheel,v),window&&m.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,v),window.top.addEventListener("mouseup",this.onMouseUpWindow,v)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,v),window.addEventListener("mouseup",this.onMouseUpWindow,v),this.isTop=!1}u.pointerLock&&(this.pointerLockChange=function(y){var x=f.target;f.locked=document.pointerLockElement===x||document.mozPointerLockElement===x||document.webkitPointerLockElement===x,m.onPointerLockChange(y)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var d=this.target;d.removeEventListener("mousemove",this.onMouseMove),d.removeEventListener("mousedown",this.onMouseDown),d.removeEventListener("mouseup",this.onMouseUp),d.removeEventListener("mouseover",this.onMouseOver),d.removeEventListener("mouseout",this.onMouseOut),window&&(d=this.isTop?window.top:window,d.removeEventListener("mousedown",this.onMouseDownWindow),d.removeEventListener("mouseup",this.onMouseUpWindow)),u.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=h},87078:(n,a,s)=>{n.exports={MouseManager:s(85098)}},36210:(n,a,s)=>{var o=s(83419),u=s(8214),l=s(29747),c=new o({initialize:function(d){this.manager=d,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=l,this.onTouchStartWindow=l,this.onTouchMove=l,this.onTouchEnd=l,this.onTouchEndWindow=l,this.onTouchCancel=l,this.onTouchCancelWindow=l,this.isTop=!0,d.events.once(u.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputTouch,this.target=h.inputTouchEventTarget,this.capture=h.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,h.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(h){return h.preventDefault(),!1}),this},startListeners:function(){var h=this.target;if(h){var d=this,f=this.manager,m=f.canvas,p=window&&window.focus&&f.game.config.autoFocus;this.onTouchMove=function(x){!x.defaultPrevented&&d.enabled&&f&&f.enabled&&(f.onTouchMove(x),d.capture&&x.cancelable&&x.preventDefault())},this.onTouchStart=function(x){p&&window.focus(),!x.defaultPrevented&&d.enabled&&f&&f.enabled&&(f.onTouchStart(x),d.capture&&x.cancelable&&x.target===m&&x.preventDefault())},this.onTouchStartWindow=function(x){!x.defaultPrevented&&d.enabled&&f&&f.enabled&&x.target!==m&&f.onTouchStart(x)},this.onTouchEnd=function(x){!x.defaultPrevented&&d.enabled&&f&&f.enabled&&(f.onTouchEnd(x),d.capture&&x.cancelable&&x.target===m&&x.preventDefault())},this.onTouchEndWindow=function(x){!x.defaultPrevented&&d.enabled&&f&&f.enabled&&x.target!==m&&f.onTouchEnd(x)},this.onTouchCancel=function(x){!x.defaultPrevented&&d.enabled&&f&&f.enabled&&(f.onTouchCancel(x),d.capture&&x.preventDefault())},this.onTouchCancelWindow=function(x){!x.defaultPrevented&&d.enabled&&f&&f.enabled&&f.onTouchCancel(x)};var g=this.capture,v={passive:!0},y={passive:!1};if(h.addEventListener("touchstart",this.onTouchStart,g?y:v),h.addEventListener("touchmove",this.onTouchMove,g?y:v),h.addEventListener("touchend",this.onTouchEnd,g?y:v),h.addEventListener("touchcancel",this.onTouchCancel,g?y:v),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,y),window.top.addEventListener("touchend",this.onTouchEndWindow,y),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,y)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,y),window.addEventListener("touchend",this.onTouchEndWindow,y),window.addEventListener("touchcancel",this.onTouchCancelWindow,y),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var h=this.target;h.removeEventListener("touchstart",this.onTouchStart),h.removeEventListener("touchmove",this.onTouchMove),h.removeEventListener("touchend",this.onTouchEnd),h.removeEventListener("touchcancel",this.onTouchCancel),window&&(h=this.isTop?window.top:window,h.removeEventListener("touchstart",this.onTouchStartWindow),h.removeEventListener("touchend",this.onTouchEndWindow),h.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=c},95618:(n,a,s)=>{n.exports={TouchManager:s(36210)}},41299:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(54899),c=s(95540),h=s(98356),d=s(3374),f=s(84376),m=s(92638),p=new o({initialize:function(v,y){if(this.loader=v,this.cache=c(y,"cache",!1),this.type=c(y,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=c(y,"key",!1);var x=this.key;if(v.prefix&&v.prefix!==""&&(this.key=v.prefix+x),!this.key)throw new Error("Invalid File key: "+this.key);var b=c(y,"url");b===void 0?b=v.path+x+"."+c(y,"extension",""):typeof b=="string"&&!b.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(b=v.path+b),this.url=b,this.src="",this.xhrSettings=m(c(y,"responseType",void 0)),c(y,"xhrSettings",!1)&&(this.xhrSettings=d(this.xhrSettings,c(y,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?u.FILE_POPULATED:u.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=c(y,"config",{}),this.multiFile,this.linkFile,this.base64=typeof b=="string"&&b.indexOf("data:")===0,this.retryAttempts=c(y,"maxRetries",v.maxRetries)},setLink:function(g){this.linkFile=g,g.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===u.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=u.FILE_LOADING,this.src=h(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=f(this,this.loader.xhr)}},onLoad:function(g,v){var y=g.responseURL&&this.loader.localSchemes.some(function(w){return g.responseURL.indexOf(w)===0}),x=y&&v.target.status===0,b=!(v.target&&v.target.status!==200)||x;g.readyState===4&&g.status>=400&&g.status<=599&&(b=!1),this.state=u.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,b)},onBase64Load:function(g){this.xhrLoader=g,this.state=u.FILE_LOADED,this.percentComplete=1,this.loader.emit(l.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(g){g.lengthComputable&&(this.bytesLoaded=g.loaded,this.bytesTotal=g.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(l.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=u.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=u.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=u.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(g){if(this.state!==u.FILE_PENDING_DESTROY){g===void 0&&(g=this.data);var v=this.key,y=this.type;this.loader.emit(l.FILE_COMPLETE,v,y,g),this.loader.emit(l.FILE_KEY_COMPLETE+y+"-"+v,v,y,g),this.loader.flagForRemoval(this),this.state=u.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});p.createObjectURL=function(g,v,y){if(typeof URL=="function")g.src=URL.createObjectURL(v);else{var x=new FileReader;x.onload=function(){g.removeAttribute("crossOrigin"),g.src="data:"+(v.type||y)+";base64,"+x.result.split(",")[1]},x.onerror=g.onerror,x.readAsDataURL(v)}},p.revokeObjectURL=function(g){typeof URL=="function"&&URL.revokeObjectURL(g.src)},n.exports=p},74099:n=>{var a={},s={install:function(o){for(var u in a)o[u]=a[u]},register:function(o,u){a[o]=u},destroy:function(){a={}}};n.exports=s},98356:n=>{var a=function(s,o){return s.url?s.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?s.url:o+s.url:!1};n.exports=a},74261:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(35072),c=s(50792),h=s(54899),d=s(74099),f=s(95540),m=s(35154),p=s(41212),g=s(37277),v=s(44594),y=s(92638),x=new o({Extends:c,initialize:function(w){c.call(this);var C=w.sys.game.config,_=w.sys.settings.loader;this.scene=w,this.systems=w.sys,this.cacheManager=w.sys.cache,this.textureManager=w.sys.textures,this.sceneManager=w.sys.game.scene,d.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(f(_,"baseURL",C.loaderBaseURL)),this.setPath(f(_,"path",C.loaderPath)),this.setPrefix(f(_,"prefix",C.loaderPrefix)),this.maxParallelDownloads=f(_,"maxParallelDownloads",C.loaderMaxParallelDownloads),this.xhr=y(f(_,"responseType",C.loaderResponseType),f(_,"async",C.loaderAsync),f(_,"user",C.loaderUser),f(_,"password",C.loaderPassword),f(_,"timeout",C.loaderTimeout),f(_,"withCredentials",C.loaderWithCredentials)),this.crossOrigin=f(_,"crossOrigin",C.loaderCrossOrigin),this.imageLoadType=f(_,"imageLoadType",C.loaderImageLoadType),this.localSchemes=f(_,"localScheme",C.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new l,this.inflight=new l,this.queue=new l,this._deleteQueue=new l,this.totalFailed=0,this.totalComplete=0,this.state=u.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=f(_,"maxRetries",C.loaderMaxRetries),w.sys.events.once(v.BOOT,this.boot,this),w.sys.events.on(v.START,this.pluginStart,this)},boot:function(){this.systems.events.once(v.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(v.SHUTDOWN,this.shutdown,this)},setBaseURL:function(b){return b===void 0&&(b=""),b!==""&&b.substr(-1)!=="/"&&(b=b.concat("/")),this.baseURL=b,this},setPath:function(b){return b===void 0&&(b=""),b!==""&&b.substr(-1)!=="/"&&(b=b.concat("/")),this.path=b,this},setPrefix:function(b){return b===void 0&&(b=""),this.prefix=b,this},setCORS:function(b){return this.crossOrigin=b,this},addFile:function(b){Array.isArray(b)||(b=[b]);for(var w=0;w<b.length;w++){var C=b[w];this.keyExists(C)||(this.list.set(C),this.emit(h.ADD,C.key,C.type,this,C),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(b){var w=b.hasCacheConflict();return w||this.list.iterate(function(C){if(C.type===b.type&&C.key===b.key)return w=!0,!1}),!w&&this.isLoading()&&(this.inflight.iterate(function(C){if(C.type===b.type&&C.key===b.key)return w=!0,!1}),this.queue.iterate(function(C){if(C.type===b.type&&C.key===b.key)return w=!0,!1})),w},addPack:function(b,w){if(typeof w=="string"){var C=m(b,w);C&&(b={packKey:C})}var _=0,S=this.baseURL,T=this.path,A=this.prefix;for(var M in b)if(Object.prototype.hasOwnProperty.call(b,M)){var I=b[M],D=f(I,"baseURL",S),k=f(I,"path",T),G=f(I,"prefix",A),R=f(I,"files",null),H=f(I,"defaultType","void");if(Array.isArray(R)){this.setBaseURL(D),this.setPath(k),this.setPrefix(G);for(var j=0;j<R.length;j++){var Z=R[j],ee=Z.hasOwnProperty("type")?Z.type:H;this[ee]&&(this[ee](Z),_++)}}}return this.setBaseURL(S),this.setPath(T),this.setPrefix(A),_>0},removePack:function(b,w){var C=this.systems.anims,_=this.cacheManager,S=this.textureManager,T={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},A;if(p(b))A=b;else if(A=_.json.get(b),!A){console.warn("Asset Pack not found in JSON cache:",b);return}w&&(A={_:A[w]});for(var M in A){var I=A[M],D=f(I,"prefix",""),k=f(I,"files"),G=f(I,"defaultType");if(Array.isArray(k))for(var R=0;R<k.length;R++){var H=k[R],j=H.hasOwnProperty("type")?H.type:G;if(!j){console.warn("No type:",H);continue}var Z=D+H.key;if(j==="animation"&&C.remove(Z),!((j==="aseprite"||j==="atlas"||j==="atlasXML"||j==="htmlTexture"||j==="image"||j==="multiatlas"||j==="spritesheet"||j==="svg"||j==="texture"||j==="unityAtlas")&&(S.remove(Z),!T[j]))){if(j==="pack"){this.removePack(Z,H.dataKey);continue}if(j==="spine"){var ee=_.custom.spine.get(Z);if(!ee)continue;var Y=ee.prefix===void 0?"":ee.prefix;_.custom.spine.remove(Z);var V=_.custom.spineTextures.get(Z);if(!V)continue;_.custom.spineTextures.remove(Z);for(var O=0;O<V.pages.length;O++){var F=V.pages[O],X=Y+F.name,ie=Z+":"+X;S.exists(ie)?S.remove(ie):S.remove(X)}}var re=T[j];if(re!==null){if(!re){console.warn("Unknown type:",j);continue}var q=_[re];q.remove(Z)}}}}},isLoading:function(){return this.state===u.LOADER_LOADING||this.state===u.LOADER_PROCESSING},isReady:function(){return this.state===u.LOADER_IDLE||this.state===u.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(h.START,this),this.list.size===0?this.loadComplete():(this.state=u.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(v.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(h.PROGRESS,this.progress)},update:function(){this.state===u.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(b){if((b.state===u.FILE_POPULATED||b.state===u.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(b),this.list.delete(b),b.crossOrigin||(b.crossOrigin=this.crossOrigin),b.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(b,w){this.inflight&&(this.inflight.delete(b),this.updateProgress(),w?(this.totalComplete++,this.queue.set(b),this.emit(h.FILE_LOAD,b),b.onProcess()):(this.totalFailed++,this._deleteQueue.set(b),this.emit(h.FILE_LOAD_ERROR,b),this.fileProcessComplete(b)))},fileProcessComplete:function(b){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(b.state===u.FILE_ERRORED?b.multiFile&&b.multiFile.onFileFailed(b):b.state===u.FILE_COMPLETE&&(b.multiFile?b.multiFile.isReadyToProcess()&&(b.multiFile.addToCache(),b.multiFile.pendingDestroy()):(b.addToCache(),b.pendingDestroy())),this.queue.delete(b),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(h.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=u.LOADER_COMPLETE,this.systems.events.off(v.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(h.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(b){this._deleteQueue.set(b)},saveJSON:function(b,w){return this.save(JSON.stringify(b),w)},save:function(b,w,C){w===void 0&&(w="file.json"),C===void 0&&(C="application/json");var _=new Blob([b],{type:C}),S=URL.createObjectURL(_),T=document.createElement("a");return T.download=w,T.textContent="Download "+w,T.href=S,T.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var b=this.systems.game.config,w=this.systems.settings.loader;this.setBaseURL(f(w,"baseURL",b.loaderBaseURL)),this.setPath(f(w,"path",b.loaderPath)),this.setPrefix(f(w,"prefix",b.loaderPrefix)),this.state=u.LOADER_IDLE},shutdown:function(){this.reset(),this.state=u.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=u.LOADER_DESTROYED,this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});g.register("Loader",x,"load"),n.exports=x},3374:(n,a,s)=>{var o=s(79291),u=s(92638),l=function(c,h){var d=c===void 0?u():o({},c);if(h)for(var f in h)h[f]!==void 0&&(d[f]=h[f]);return d};n.exports=l},26430:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(54899),c=new o({initialize:function(d,f,m,p){var g=[];p.forEach(function(x){x&&g.push(x)}),this.loader=d,this.type=f,this.key=m;var v=this.key;d.prefix&&d.prefix!==""&&(this.key=d.prefix+v),this.multiKeyIndex=d.multiKeyIndex++,this.files=g,this.state=u.FILE_PENDING,this.complete=!1,this.pending=g.length,this.failed=0,this.config={},this.baseURL=d.baseURL,this.path=d.path,this.prefix=d.prefix;for(var y=0;y<g.length;y++)g[y].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(h){return this.files.push(h),h.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(h){var d=this.files.indexOf(h);d!==-1&&this.pending--},onFileFailed:function(h){var d=this.files.indexOf(h);d!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,h.type,h.key))},pendingDestroy:function(){if(this.state!==u.FILE_PENDING_DESTROY){var h=this.key,d=this.type;this.loader.emit(l.FILE_COMPLETE,h,d),this.loader.emit(l.FILE_KEY_COMPLETE+d+"-"+h,h,d),this.loader.flagForRemoval(this);for(var f=0;f<this.files.length;f++)this.files[f].pendingDestroy();this.state=u.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});n.exports=c},84376:(n,a,s)=>{var o=s(3374),u=function(l,c){var h=o(c,l.xhrSettings);if(l.base64){var d=l.url.split(";base64,").pop()||l.url.split(",").pop(),f={responseText:atob(d)};l.onBase64Load(f);return}var m=new XMLHttpRequest;if(m.open("GET",l.src,h.async,h.user,h.password),m.responseType=l.xhrSettings.responseType,m.timeout=h.timeout,h.headers)for(var p in h.headers)m.setRequestHeader(p,h.headers[p]);return h.header&&h.headerValue&&m.setRequestHeader(h.header,h.headerValue),h.requestedWith&&m.setRequestHeader("X-Requested-With",h.requestedWith),h.overrideMimeType&&m.overrideMimeType(h.overrideMimeType),h.withCredentials&&(m.withCredentials=!0),m.onload=l.onLoad.bind(l,m),m.onerror=l.onError.bind(l,m),m.onprogress=l.onProgress.bind(l),m.ontimeout=l.onError.bind(l,m),m.send(),m};n.exports=u},92638:n=>{var a=function(s,o,u,l,c,h){return s===void 0&&(s=""),o===void 0&&(o=!0),u===void 0&&(u=""),l===void 0&&(l=""),c===void 0&&(c=0),h===void 0&&(h=!1),{responseType:s,async:o,user:u,password:l,timeout:c,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:h}};n.exports=a},23906:n=>{var a={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};n.exports=a},42155:n=>{n.exports="addfile"},38991:n=>{n.exports="complete"},27540:n=>{n.exports="filecomplete"},87464:n=>{n.exports="filecomplete-"},94486:n=>{n.exports="loaderror"},13035:n=>{n.exports="load"},38144:n=>{n.exports="fileprogress"},97520:n=>{n.exports="postprocess"},85595:n=>{n.exports="progress"},55680:n=>{n.exports="start"},54899:(n,a,s)=>{n.exports={ADD:s(42155),COMPLETE:s(38991),FILE_COMPLETE:s(27540),FILE_KEY_COMPLETE:s(87464),FILE_LOAD_ERROR:s(94486),FILE_LOAD:s(13035),FILE_PROGRESS:s(38144),POST_PROCESS:s(97520),PROGRESS:s(85595),START:s(55680)}},14135:(n,a,s)=>{var o=s(83419),u=s(74099),l=s(518),c=s(54899),h=new o({Extends:l,initialize:function(f,m,p,g,v){l.call(this,f,m,p,g,v),this.type="animationJSON"},onProcess:function(){this.loader.once(c.POST_PROCESS,this.onLoadComplete,this),l.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});u.register("animation",function(d,f,m,p){if(Array.isArray(d))for(var g=0;g<d.length;g++)this.addFile(new h(this,d[g]));else this.addFile(new h(this,d,f,p,m));return this}),n.exports=h},76272:(n,a,s)=>{var o=s(83419),u=s(74099),l=s(95540),c=s(19550),h=s(41212),d=s(518),f=s(26430),m=new o({Extends:f,initialize:function(g,v,y,x,b,w){var C,_;if(h(v)){var S=v;v=l(S,"key"),C=new c(g,{key:v,url:l(S,"textureURL"),extension:l(S,"textureExtension","png"),normalMap:l(S,"normalMap"),xhrSettings:l(S,"textureXhrSettings")}),_=new d(g,{key:v,url:l(S,"atlasURL"),extension:l(S,"atlasExtension","json"),xhrSettings:l(S,"atlasXhrSettings")})}else C=new c(g,v,y,b),_=new d(g,v,x,w);C.linkFile?f.call(this,g,"atlasjson",v,[C,_,C.linkFile]):f.call(this,g,"atlasjson",v,[C,_])},addToCache:function(){if(this.isReadyToProcess()){var p=this.files[0],g=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(p.key,p.data,g.data,v),g.addToCache(),this.complete=!0}}});u.register("aseprite",function(p,g,v,y,x){var b;if(Array.isArray(p))for(var w=0;w<p.length;w++)b=new m(this,p[w]),this.addFile(b.files);else b=new m(this,p,g,v,y,x),this.addFile(b.files);return this}),n.exports=m},38734:(n,a,s)=>{var o=s(83419),u=s(74099),l=s(95540),c=s(19550),h=s(41212),d=s(518),f=s(26430),m=new o({Extends:f,initialize:function(g,v,y,x,b,w){var C,_;if(h(v)){var S=v;v=l(S,"key"),C=new c(g,{key:v,url:l(S,"textureURL"),extension:l(S,"textureExtension","png"),normalMap:l(S,"normalMap"),xhrSettings:l(S,"textureXhrSettings")}),_=new d(g,{key:v,url:l(S,"atlasURL"),extension:l(S,"atlasExtension","json"),xhrSettings:l(S,"atlasXhrSettings")})}else C=new c(g,v,y,b),_=new d(g,v,x,w);C.linkFile?f.call(this,g,"atlasjson",v,[C,_,C.linkFile]):f.call(this,g,"atlasjson",v,[C,_])},addToCache:function(){if(this.isReadyToProcess()){var p=this.files[0],g=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(p.key,p.data,g.data,v),this.complete=!0}}});u.register("atlas",function(p,g,v,y,x){var b;if(Array.isArray(p))for(var w=0;w<p.length;w++)b=new m(this,p[w]),this.addFile(b.files);else b=new m(this,p,g,v,y,x),this.addFile(b.files);return this}),n.exports=m},74599:(n,a,s)=>{var o=s(83419),u=s(74099),l=s(95540),c=s(19550),h=s(41212),d=s(26430),f=s(57318),m=new o({Extends:d,initialize:function(g,v,y,x,b,w){var C,_;if(h(v)){var S=v;v=l(S,"key"),C=new c(g,{key:v,url:l(S,"textureURL"),extension:l(S,"textureExtension","png"),normalMap:l(S,"normalMap"),xhrSettings:l(S,"textureXhrSettings")}),_=new f(g,{key:v,url:l(S,"atlasURL"),extension:l(S,"atlasExtension","xml"),xhrSettings:l(S,"atlasXhrSettings")})}else C=new c(g,v,y,b),_=new f(g,v,x,w);C.linkFile?d.call(this,g,"atlasxml",v,[C,_,C.linkFile]):d.call(this,g,"atlasxml",v,[C,_])},addToCache:function(){if(this.isReadyToProcess()){var p=this.files[0],g=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(p.key,p.data,g.data,v),this.complete=!0}}});u.register("atlasXML",function(p,g,v,y,x){var b;if(Array.isArray(p))for(var w=0;w<p.length;w++)b=new m(this,p[w]),this.addFile(b.files);else b=new m(this,p,g,v,y,x),this.addFile(b.files);return this}),n.exports=m},21097:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(89749),f=s(41212),m=new o({Extends:l,initialize:function(g,v,y,x,b){if(f(v)){var w=v;v=h(w,"key"),x=h(w,"xhrSettings"),b=h(w,"context",b)}var C={type:"audio",cache:g.cacheManager.audio,extension:y.type,responseType:"arraybuffer",key:v,url:y.url,xhrSettings:x,config:{context:b}};l.call(this,g,C)},onProcess:function(){this.state=u.FILE_PROCESSING;var p=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(g){p.data=g,p.onProcessComplete()},function(g){console.error("Error decoding audio: "+p.key+" - ",g?g.message:null),p.onProcessError()}),this.config.context=null}});m.create=function(p,g,v,y,x){var b=p.systems.game,w=b.config.audio,C=b.device.audio;f(g)&&(v=h(g,"url",[]),y=h(g,"config",{}));var _=m.getAudioURL(b,v);return _?C.webAudio&&!w.disableWebAudio?new m(p,g,_,x,b.sound.context):new d(p,g,_,y):(console.warn('No audio URLs for "%s" can play on this device',g),null)},m.getAudioURL=function(p,g){Array.isArray(g)||(g=[g]);for(var v=0;v<g.length;v++){var y=h(g[v],"url",g[v]);if(y.indexOf("blob:")===0||y.indexOf("data:")===0)return{url:y,type:""};var x=y.match(/\.([a-zA-Z0-9]+)($|\?)/);if(x=h(g[v],"type",x?x[1]:"").toLowerCase(),p.device.audio[x])return{url:y,type:x}}return null},c.register("audio",function(p,g,v,y){var x=this.systems.game,b=x.config.audio,w=x.device.audio;if(b.noAudio||!w.webAudio&&!w.audioData)return this;var C;if(Array.isArray(p))for(var _=0;_<p.length;_++)C=m.create(this,p[_]),C&&this.addFile(C);else C=m.create(this,p,g,v,y),C&&this.addFile(C);return this}),n.exports=m},89524:(n,a,s)=>{var o=s(21097),u=s(83419),l=s(74099),c=s(95540),h=s(41212),d=s(518),f=s(26430),m=new u({Extends:f,initialize:function(g,v,y,x,b,w,C){if(h(v)){var _=v;v=c(_,"key"),y=c(_,"jsonURL"),x=c(_,"audioURL"),b=c(_,"audioConfig"),w=c(_,"audioXhrSettings"),C=c(_,"jsonXhrSettings")}var S;if(!x)S=new d(g,v,y,C),f.call(this,g,"audiosprite",v,[S]),this.config.resourceLoad=!0,this.config.audioConfig=b,this.config.audioXhrSettings=w;else{var T=o.create(g,v,x,b,w);T&&(S=new d(g,v,y,C),f.call(this,g,"audiosprite",v,[T,S]),this.config.resourceLoad=!1)}},onFileComplete:function(p){var g=this.files.indexOf(p);if(g!==-1&&(this.pending--,this.config.resourceLoad&&p.type==="json"&&p.data.hasOwnProperty("resources"))){var v=p.data.resources,y=c(this.config,"audioConfig"),x=c(this.config,"audioXhrSettings"),b=o.create(this.loader,p.key,v,y,x);b&&(this.addToMultiFile(b),this.loader.addFile(b))}},addToCache:function(){if(this.isReadyToProcess()){var p=this.files[0],g=this.files[1];p.addToCache(),g.addToCache(),this.complete=!0}}});l.register("audioSprite",function(p,g,v,y,x,b){var w=this.systems.game,C=w.config.audio,_=w.device.audio;if(C&&C.noAudio||!_.webAudio&&!_.audioData)return this;var S;if(Array.isArray(p))for(var T=0;T<p.length;T++)S=new m(this,p[T]),S.files&&this.addFile(S.files);else S=new m(this,p,g,v,y,x,b),S.files&&this.addFile(S.files);return this})},85722:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(41212),f=new o({Extends:l,initialize:function(p,g,v,y,x){var b="bin";if(d(g)){var w=g;g=h(w,"key"),v=h(w,"url"),y=h(w,"xhrSettings"),b=h(w,"extension",b),x=h(w,"dataType",x)}var C={type:"binary",cache:p.cacheManager.binary,extension:b,responseType:"arraybuffer",key:g,url:v,xhrSettings:y,config:{dataType:x}};l.call(this,p,C)},onProcess:function(){this.state=u.FILE_PROCESSING;var m=this.config.dataType;this.data=m?new m(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});c.register("binary",function(m,p,g,v){if(Array.isArray(m))for(var y=0;y<m.length;y++)this.addFile(new f(this,m[y]));else this.addFile(new f(this,m,p,v,g));return this}),n.exports=f},97025:(n,a,s)=>{var o=s(83419),u=s(74099),l=s(95540),c=s(19550),h=s(41212),d=s(26430),f=s(21859),m=s(57318),p=new o({Extends:d,initialize:function(v,y,x,b,w,C){var _,S;if(h(y)){var T=y;y=l(T,"key"),_=new c(v,{key:y,url:l(T,"textureURL"),extension:l(T,"textureExtension","png"),normalMap:l(T,"normalMap"),xhrSettings:l(T,"textureXhrSettings")}),S=new m(v,{key:y,url:l(T,"fontDataURL"),extension:l(T,"fontDataExtension","xml"),xhrSettings:l(T,"fontDataXhrSettings")})}else _=new c(v,y,x,w),S=new m(v,y,b,C);_.linkFile?d.call(this,v,"bitmapfont",y,[_,S,_.linkFile]):d.call(this,v,"bitmapfont",y,[_,S])},addToCache:function(){if(this.isReadyToProcess()){var g=this.files[0],v=this.files[1];g.addToCache();var y=g.cache.get(g.key),x=f(v.data,g.cache.getFrame(g.key),0,0,y);this.loader.cacheManager.bitmapFont.add(g.key,{data:x,texture:g.key,frame:null}),this.complete=!0}}});u.register("bitmapFont",function(g,v,y,x,b){var w;if(Array.isArray(g))for(var C=0;C<g.length;C++)w=new p(this,g[C]),this.addFile(w.files);else w=new p(this,g,v,y,x,b),this.addFile(w.files);return this}),n.exports=p},16024:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(41212),f=new o({Extends:l,initialize:function(p,g,v,y){var x="css";if(d(g)){var b=g;g=h(b,"key"),v=h(b,"url"),y=h(b,"xhrSettings"),x=h(b,"extension",x)}var w={type:"script",cache:!1,extension:x,responseType:"text",key:g,url:v,xhrSettings:y};l.call(this,p,w)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});c.register("css",function(m,p,g){if(Array.isArray(m))for(var v=0;v<m.length;v++)this.addFile(new f(this,m[v]));else this.addFile(new f(this,m,p,g));return this}),n.exports=f},69559:(n,a,s)=>{var o=s(38734),u=s(85722),l=s(83419),c=s(74099),h=s(95540),d=s(19550),f=s(41212),m=s(518),p=s(31403),g=s(46975),v=s(59327),y=s(26430),x=s(82038),b=s(55222),w=new l({Extends:y,initialize:function(_,S,T,A){if(T.multiAtlasURL){var M=new m(_,{key:S,url:T.multiAtlasURL,xhrSettings:A,config:T});y.call(this,_,"texture",S,[M])}else{var I=T.textureURL.substr(T.textureURL.length-3);T.type||(T.type=I.toLowerCase()==="ktx"?"KTX":"PVR");var D=new u(_,{key:S,url:T.textureURL,extension:I,xhrSettings:A,config:T});if(T.atlasURL){var k=new m(_,{key:S,url:T.atlasURL,xhrSettings:A,config:T});y.call(this,_,"texture",S,[D,k])}else y.call(this,_,"texture",S,[D])}this.config=T},onFileComplete:function(C){var _=this.files.indexOf(C);if(_!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(C.type==="json"&&C.data.hasOwnProperty("textures")){var S=C.data.textures,T=this.config,A=this.loader,M=A.baseURL,I=A.path,D=A.prefix,k=h(T,"multiBaseURL",this.baseURL),G=h(T,"multiPath",this.path),R=h(T,"prefix",this.prefix),H=h(T,"textureXhrSettings");k&&A.setBaseURL(k),G&&A.setPath(G),R&&A.setPrefix(R);for(var j=0;j<S.length;j++){var Z=S[j].image,ee="CMA"+this.multiKeyIndex+"_"+Z,Y=new u(A,ee,Z,H);if(this.addToMultiFile(Y),A.addFile(Y),S[j].normalMap){var V=new u(A,ee,S[j].normalMap,H);V.type="normalMap",Y.setLink(V),this.addToMultiFile(V),A.addFile(V)}}A.setBaseURL(M),A.setPath(I),A.setPrefix(D)}}},addToCache:function(){function C(k){console.warn('Compressed Texture Invalid: "'+M.key+'". '+k)}if(this.isReadyToProcess()){var _=this.config;if(_.multiAtlasURL)this.addMultiToCache();else{var S=this.loader.systems.renderer,T=this.loader.textureManager,A,M=this.files[0],I=this.files[1];if(_.type==="PVR"?A=x(M.data):_.type==="KTX"&&(A=p(M.data),A||C("KTX file contains unsupported format.")),A&&!b(A)&&(C("Texture dimensions failed verification. Check the texture format specifications for "+_.format+" 0x"+A.internalFormat.toString(16)+"."),A=null),A&&!S.supportsCompressedTexture(_.format,A.internalFormat)&&(C("Texture format "+_.format+" with internal format "+A.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),A=null),A){A.format=S.getCompressedTextureName(_.format,A.internalFormat);var D=I&&I.data?I.data:null;T.addCompressedTexture(M.key,A,D)}}this.complete=!0}},addMultiToCache:function(){for(var C=this.config,_=this.files[0],S=[],T=[],A=[],M=this.loader.systems.renderer,I=this.loader.textureManager,D,k=1;k<this.files.length;k++){var G=this.files[k];if(G.type!=="normalMap")for(var R=G.key.indexOf("_"),H=G.key.substr(R+1),j=G.data,Z=0;Z<_.data.textures.length;Z++){var ee=_.data.textures[Z];if(ee.image===H){C.type==="PVR"?D=x(j):C.type==="KTX"&&(D=p(j)),D&&M.supportsCompressedTexture(C.format,D.internalFormat)&&(D.format=M.getCompressedTextureName(C.format,D.internalFormat),T.push(D),S.push(ee),G.linkFile&&A.push(G.linkFile.data));break}}}A.length===0&&(A=void 0),I.addAtlasJSONArray(this.key,T,S,A),this.complete=!0}});c.register("texture",function(C,_,S){var T=this.systems.renderer,A=function(I,D,k,G){var R={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(f(D)){var H=D;D=h(H,"key"),k=h(H,"url"),G=h(H,"xhrSettings")}var j=!1;for(var Z in k)if(T.supportsCompressedTexture(Z)){var ee=k[Z];typeof ee=="string"?R.textureURL=ee:R=g(ee,R),R.format=Z.toUpperCase(),j=!0;break}if(!j)console.warn("No supported compressed texture format or IMG fallback",D);else if(R.format==="IMG"){var Y,V;R.multiAtlasURL?(V=new v(I,D,R.multiAtlasURL,R.multiPath,R.multiBaseURL,G),Y=V.files):R.atlasURL?(V=new o(I,D,R.textureURL,R.atlasURL,G),Y=V.files):Y=new d(I,D,R.textureURL,G),I.addFile(Y)}else{var O=new w(I,D,R,G);I.addFile(O.files)}};if(Array.isArray(C))for(var M=0;M<C.length;M++)A(this,C[M]);else A(this,C,_,S);return this}),n.exports=w},87674:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(98356),f=s(41212),m=new o({Extends:l,initialize:function(g,v,y,x,b,w){var C="ttf";if(f(v)){var _=v;v=h(_,"key"),y=h(_,"url"),x=h(_,"format","truetype"),b=h(_,"descriptors",null),w=h(_,"xhrSettings"),C=h(_,"extension",C)}else x===void 0&&(x="truetype");var S={type:"font",cache:!1,extension:C,responseType:"text",key:v,url:y,xhrSettings:w};l.call(this,g,S),this.data={format:x,descriptors:b},this.state=u.FILE_POPULATED},onProcess:function(){this.state=u.FILE_PROCESSING,this.src=d(this,this.loader.baseURL);var p,g=this.key,v="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?p=new FontFace(g,v,this.data.descriptors):p=new FontFace(g,v);var y=this;p.load().then(function(){document.fonts.add(p),document.body.classList.add("fonts-loaded"),y.onProcessComplete()}).catch(function(){console.warn("Font failed to load",v),y.onProcessComplete()})}});c.register("font",function(p,g,v,y,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new m(this,p[b]));else this.addFile(new m(this,p,g,v,y,x));return this}),n.exports=m},47931:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(41212),f=s(73894),m=new o({Extends:l,initialize:function(g,v,y,x,b){var w="glsl";if(d(v)){var C=v;v=h(C,"key"),y=h(C,"url"),x=h(C,"shaderType","fragment"),b=h(C,"xhrSettings"),w=h(C,"extension",w)}else x===void 0&&(x="fragment");var _={type:"glsl",cache:g.cacheManager.shader,extension:w,responseType:"text",key:v,url:y,config:{shaderType:x},xhrSettings:b};l.call(this,g,_)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var p=this.data.split(`
`),g=this.extractBlock(p,0);if(g)for(;g;){var v=this.getShaderName(g.header),y=this.getShaderType(g.header),x=this.getShaderUniforms(g.header),b=g.shader;if(this.cache.has(v)){var w=this.cache.get(v);y==="fragment"?w.fragmentSrc=b:w.vertexSrc=b,w.uniforms||(w.uniforms=x)}else y==="fragment"?this.cache.add(v,new f(v,b,"",x)):this.cache.add(v,new f(v,"",b,x));g=this.extractBlock(p,g.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new f(this.key,this.data)):this.cache.add(this.key,new f(this.key,"",this.data))},getShaderName:function(p){for(var g=0;g<p.length;g++){var v=p[g].trim();if(v.substring(0,5)==="name:")return v.substring(5).trim()}return this.key},getShaderType:function(p){for(var g=0;g<p.length;g++){var v=p[g].trim();if(v.substring(0,5)==="type:")return v.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(p){for(var g={},v=0;v<p.length;v++){var y=p[v].trim();if(y.substring(0,8)==="uniform."){var x=y.indexOf(":");if(x){var b=y.substring(8,x);try{g[b]=JSON.parse(y.substring(x+1))}catch{console.warn("Invalid uniform JSON: "+b)}}}}return g},extractBlock:function(p,g){for(var v=-1,y=-1,x=-1,b=!1,w=!1,C=[],_=[],S=g;S<p.length;S++){var T=p[S].trim();if(T==="---")if(v===-1)v=S,b=!0;else if(b)y=S,b=!1,w=!0;else{w=!1;break}else b?C.push(T):w&&(_.push(T),x=S)}return!b&&y!==-1?{header:C,shader:_.join(`
`),offset:x}:null}});c.register("glsl",function(p,g,v,y){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new m(this,p[x]));else this.addFile(new m(this,p,g,v,y));return this}),n.exports=m},89749:(n,a,s)=>{var o=s(83419),u=s(54899),l=s(41299),c=s(95540),h=s(98356),d=s(41212),f=new o({Extends:l,initialize:function(p,g,v,y){if(d(g)){var x=g;g=c(x,"key"),y=c(x,"config",y)}var b={type:"audio",cache:p.cacheManager.audio,extension:v.type,key:g,url:v.url,config:y};l.call(this,p,b),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var m=0;m<this.data.length;m++){var p=this.data[m];p.oncanplaythrough=null,p.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(m){var p=m.target;p.oncanplaythrough=null,p.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(u.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var m=this.config&&this.config.instances||1;this.filesTotal=m,this.filesLoaded=0,this.percentComplete=0;for(var p=0;p<m;p++){var g=new Audio;g.dataset||(g.dataset={}),g.dataset.name=this.key+("0"+p).slice(-2),g.dataset.used="false",this.locked?g.dataset.locked="true":(g.dataset.locked="false",g.preload="auto",g.oncanplaythrough=this.onProgress.bind(this),g.onerror=this.onError.bind(this)),this.data.push(g)}for(p=0;p<this.data.length;p++)g=this.data[p],g.src=h(this,this.loader.baseURL),this.locked||g.load();this.locked&&setTimeout(this.onLoad.bind(this))}});n.exports=f},88470:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(41212),f=new o({Extends:l,initialize:function(p,g,v,y){var x="html";if(d(g)){var b=g;g=h(b,"key"),v=h(b,"url"),y=h(b,"xhrSettings"),x=h(b,"extension",x)}var w={type:"text",cache:p.cacheManager.html,extension:x,responseType:"text",key:g,url:v,xhrSettings:y};l.call(this,p,w)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});c.register("html",function(m,p,g){if(Array.isArray(m))for(var v=0;v<m.length;v++)this.addFile(new f(this,m[v]));else this.addFile(new f(this,m,p,g));return this}),n.exports=f},14643:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(41212),f=new o({Extends:l,initialize:function(p,g,v,y,x,b){y===void 0&&(y=512),x===void 0&&(x=512);var w="html";if(d(g)){var C=g;g=h(C,"key"),v=h(C,"url"),b=h(C,"xhrSettings"),w=h(C,"extension",w),y=h(C,"width",y),x=h(C,"height",x)}var _={type:"html",cache:p.textureManager,extension:w,responseType:"text",key:g,url:v,xhrSettings:b,config:{width:y,height:x}};l.call(this,p,_)},onProcess:function(){this.state=u.FILE_PROCESSING;var m=this.config.width,p=this.config.height,g=[];g.push('<svg width="'+m+'px" height="'+p+'px" viewBox="0 0 '+m+" "+p+'" xmlns="http://www.w3.org/2000/svg">'),g.push('<foreignObject width="100%" height="100%">'),g.push('<body xmlns="http://www.w3.org/1999/xhtml">'),g.push(this.xhrLoader.responseText),g.push("</body>"),g.push("</foreignObject>"),g.push("</svg>");var v=[g.join(`
`)],y=this;try{var x=new window.Blob(v,{type:"image/svg+xml;charset=utf-8"})}catch{y.state=u.FILE_ERRORED,y.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){l.revokeObjectURL(y.data),y.onProcessComplete()},this.data.onerror=function(){l.revokeObjectURL(y.data),y.onProcessError()},l.createObjectURL(this.data,x,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});c.register("htmlTexture",function(m,p,g,v,y){if(Array.isArray(m))for(var x=0;x<m.length;x++)this.addFile(new f(this,m[x]));else this.addFile(new f(this,m,p,g,v,y));return this}),n.exports=f},19550:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(41212),f=s(98356),m=new o({Extends:l,initialize:function p(g,v,y,x,b){var w="png",C;if(d(v)){var _=v;v=h(_,"key"),y=h(_,"url"),C=h(_,"normalMap"),x=h(_,"xhrSettings"),w=h(_,"extension",w),b=h(_,"frameConfig")}Array.isArray(y)&&(C=y[1],y=y[0]);var S={type:"image",cache:g.textureManager,extension:w,responseType:"blob",key:v,url:y,xhrSettings:x,config:b};if(l.call(this,g,S),C){var T=new p(g,this.key,C,x,b);T.type="normalMap",this.setLink(T),g.addFile(T)}this.useImageElementLoad=g.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var p=this;this.data.onload=function(){l.revokeObjectURL(p.data),p.onProcessComplete()},this.data.onerror=function(){l.revokeObjectURL(p.data),p.onProcessError()},l.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var p=this.state;this.state=u.FILE_PROCESSING,p===u.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=u.FILE_LOADING,this.src=f(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var p=this;this.data.onload=function(){p.state=u.FILE_LOADED,p.loader.nextFile(p,!0)},this.data.onerror=function(){p.loader.nextFile(p,!1)},this.data.src=this.src},addToCache:function(){var p=this.linkFile;p?p.state>=u.FILE_COMPLETE&&(p.type==="spritesheet"?p.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,p.data,this.data):this.cache.addImage(this.key,this.data,p.data)):this.cache.addImage(this.key,this.data)}});c.register("image",function(p,g,v){if(Array.isArray(p))for(var y=0;y<p.length;y++)this.addFile(new m(this,p[y]));else this.addFile(new m(this,p,g,v));return this}),n.exports=m},518:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(35154),f=s(41212),m=new o({Extends:l,initialize:function(g,v,y,x,b){var w="json";if(f(v)){var C=v;v=h(C,"key"),y=h(C,"url"),x=h(C,"xhrSettings"),w=h(C,"extension",w),b=h(C,"dataKey",b)}var _={type:"json",cache:g.cacheManager.json,extension:w,responseType:"text",key:v,url:y,xhrSettings:x,config:b};l.call(this,g,_),f(y)&&(b?this.data=d(y,b):this.data=y,this.state=u.FILE_POPULATED)},onProcess:function(){if(this.state!==u.FILE_POPULATED){this.state=u.FILE_PROCESSING;try{var p=JSON.parse(this.xhrLoader.responseText)}catch(v){throw this.onProcessError(),v}var g=this.config;typeof g=="string"?this.data=d(p,g,p):this.data=p}this.onProcessComplete()}});c.register("json",function(p,g,v,y){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new m(this,p[x]));else this.addFile(new m(this,p,g,y,v));return this}),n.exports=m},59327:(n,a,s)=>{var o=s(83419),u=s(74099),l=s(95540),c=s(19550),h=s(41212),d=s(518),f=s(26430),m=new o({Extends:f,initialize:function(g,v,y,x,b,w,C){if(h(v)){var _=v;v=l(_,"key"),l(_,"url",!1)?y=l(_,"url"):y=l(_,"atlasURL"),w=l(_,"xhrSettings"),x=l(_,"path"),b=l(_,"baseURL"),C=l(_,"textureXhrSettings")}var S=new d(g,v,y,w);f.call(this,g,"multiatlas",v,[S]),this.config.path=x,this.config.baseURL=b,this.config.textureXhrSettings=C},onFileComplete:function(p){var g=this.files.indexOf(p);if(g!==-1&&(this.pending--,p.type==="json"&&p.data.hasOwnProperty("textures"))){var v=p.data.textures,y=this.config,x=this.loader,b=x.baseURL,w=x.path,C=x.prefix,_=l(y,"baseURL",this.baseURL),S=l(y,"path",this.path),T=l(y,"prefix",this.prefix),A=l(y,"textureXhrSettings");x.setBaseURL(_),x.setPath(S),x.setPrefix(T);for(var M=0;M<v.length;M++){var I=v[M].image,D="MA"+this.multiKeyIndex+"_"+I,k=new c(x,D,I,A);if(this.addToMultiFile(k),x.addFile(k),v[M].normalMap){var G=new c(x,D,v[M].normalMap,A);G.type="normalMap",k.setLink(G),this.addToMultiFile(G),x.addFile(G)}}x.setBaseURL(b),x.setPath(w),x.setPrefix(C)}},addToCache:function(){if(this.isReadyToProcess()){for(var p=this.files[0],g=[],v=[],y=[],x=1;x<this.files.length;x++){var b=this.files[x];if(b.type!=="normalMap")for(var w=b.key.indexOf("_"),C=b.key.substr(w+1),_=b.data,S=0;S<p.data.textures.length;S++){var T=p.data.textures[S];if(T.image===C){v.push(_),g.push(T),b.linkFile&&y.push(b.linkFile.data);break}}}y.length===0&&(y=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,v,g,y),this.complete=!0}}});u.register("multiatlas",function(p,g,v,y,x){var b;if(Array.isArray(p))for(var w=0;w<p.length;w++)b=new m(this,p[w]),this.addFile(b.files);else b=new m(this,p,g,v,y,x),this.addFile(b.files);return this}),n.exports=m},99297:(n,a,s)=>{var o=s(83419),u=s(74099),l=s(95540),c=s(41212),h=s(26430),d=s(34328),f=new o({Extends:h,initialize:function(p,g,v,y){var x="js",b=[];if(c(g)){var w=g;g=l(w,"key"),v=l(w,"url"),y=l(w,"xhrSettings"),x=l(w,"extension",x)}Array.isArray(v)||(v=[v]);for(var C=0;C<v.length;C++){var _=new d(p,{key:g+"_"+C.toString(),url:v[C],extension:x,xhrSettings:y});_.onProcess=function(){this.onProcessComplete()},b.push(_)}h.call(this,p,"scripts",g,b)},addToCache:function(){if(this.isReadyToProcess()){for(var m=0;m<this.files.length;m++){var p=this.files[m];p.data=document.createElement("script"),p.data.language="javascript",p.data.type="text/javascript",p.data.defer=!1,p.data.text=p.xhrLoader.responseText,document.head.appendChild(p.data)}this.complete=!0}}});u.register("scripts",function(m,p,g){var v;if(Array.isArray(m))for(var y=0;y<m.length;y++)v=new f(this,m[y]),this.addFile(v.files);else v=new f(this,m,p,g),this.addFile(v.files);return this}),n.exports=f},41846:(n,a,s)=>{var o=s(83419),u=s(74099),l=s(95540),c=s(41212),h=s(26430),d=s(85048),f=s(61485),m=s(78776),p=new o({Extends:h,initialize:function(v,y,x,b,w,C){var _,S,T=v.cacheManager.obj;if(c(y)){var A=y;y=l(A,"key"),_=new m(v,{key:y,type:"obj",cache:T,url:l(A,"url"),extension:l(A,"extension","obj"),xhrSettings:l(A,"xhrSettings"),config:{flipUV:l(A,"flipUV",w)}}),b=l(A,"matURL"),b&&(S=new m(v,{key:y,type:"mat",cache:T,url:b,extension:l(A,"matExtension","mat"),xhrSettings:l(A,"xhrSettings")}))}else _=new m(v,{key:y,url:x,type:"obj",cache:T,extension:"obj",xhrSettings:C,config:{flipUV:w}}),b&&(S=new m(v,{key:y,url:b,type:"mat",cache:T,extension:"mat",xhrSettings:C}));h.call(this,v,"obj",y,[_,S])},addToCache:function(){if(this.isReadyToProcess()){var g=this.files[0],v=this.files[1],y=d(g.data,g.config.flipUV);v&&(y.materials=f(v.data)),g.cache.add(g.key,y),this.complete=!0}}});u.register("obj",function(g,v,y,x,b){var w;if(Array.isArray(g))for(var C=0;C<g.length;C++)w=new p(this,g[C]),this.addFile(w.files);else w=new p(this,g,v,y,x,b),this.addFile(w.files);return this}),n.exports=p},58610:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(74099),c=s(518),h=new o({Extends:c,initialize:function(f,m,p,g,v){c.call(this,f,m,p,g,v),this.type="packfile"},onProcess:function(){if(this.state!==u.FILE_POPULATED&&(this.state=u.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var d={};d[this.config]=this.data,this.data=d}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});l.register("pack",function(d,f,m,p){if(Array.isArray(d))for(var g=0;g<d.length;g++)this.addFile(new h(this,d[g]));else this.addFile(new h(this,d,f,p,m));return this}),n.exports=h},48988:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(41212),f=new o({Extends:l,initialize:function(p,g,v,y,x,b){var w="js";if(d(g)){var C=g;g=h(C,"key"),v=h(C,"url"),b=h(C,"xhrSettings"),w=h(C,"extension",w),y=h(C,"start"),x=h(C,"mapping")}var _={type:"plugin",cache:!1,extension:w,responseType:"text",key:g,url:v,xhrSettings:b,config:{start:y,mapping:x}};l.call(this,p,_),typeof v=="function"&&(this.data=v,this.state=u.FILE_POPULATED)},onProcess:function(){var m=this.loader.systems.plugins,p=this.config,g=h(p,"start",!1),v=h(p,"mapping",null);if(this.state===u.FILE_POPULATED)m.install(this.key,this.data,g,v);else{this.state=u.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var y=m.install(this.key,window[this.key],g,v);(g||v)&&(this.loader.systems[v]=y,this.loader.scene[v]=y)}this.onProcessComplete()}});c.register("plugin",function(m,p,g,v,y){if(Array.isArray(m))for(var x=0;x<m.length;x++)this.addFile(new f(this,m[x]));else this.addFile(new f(this,m,p,g,v,y));return this}),n.exports=f},67397:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(41212),f=new o({Extends:l,initialize:function(p,g,v,y,x){var b="svg";if(d(g)){var w=g;g=h(w,"key"),v=h(w,"url"),y=h(w,"svgConfig",{}),x=h(w,"xhrSettings"),b=h(w,"extension",b)}var C={type:"svg",cache:p.textureManager,extension:b,responseType:"text",key:g,url:v,xhrSettings:x,config:{width:h(y,"width"),height:h(y,"height"),scale:h(y,"scale")}};l.call(this,p,C)},onProcess:function(){this.state=u.FILE_PROCESSING;var m=this.xhrLoader.responseText,p=[m],g=this.config.width,v=this.config.height,y=this.config.scale;e:if(g&&v||y){var x=null,b=new DOMParser;x=b.parseFromString(m,"text/xml");var w=x.getElementsByTagName("svg")[0],C=w.hasAttribute("viewBox"),_=parseFloat(w.getAttribute("width")),S=parseFloat(w.getAttribute("height"));if(!C&&_&&S)w.setAttribute("viewBox","0  0 "+_+" "+S);else if(C&&!_&&!S){var T=w.getAttribute("viewBox").split(/\s+|,/);_=T[2],S=T[3]}if(y)if(_&&S)g=_*y,v=S*y;else break e;w.setAttribute("width",g.toString()+"px"),w.setAttribute("height",v.toString()+"px"),p=[new XMLSerializer().serializeToString(w)]}try{var A=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var M=this,I=!1;this.data.onload=function(){I||l.revokeObjectURL(M.data),M.onProcessComplete()},this.data.onerror=function(){I?M.onProcessError():(I=!0,l.revokeObjectURL(M.data),M.data.src="data:image/svg+xml,"+encodeURIComponent(p.join("")))},l.createObjectURL(this.data,A,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});c.register("svg",function(m,p,g,v){if(Array.isArray(m))for(var y=0;y<m.length;y++)this.addFile(new f(this,m[y]));else this.addFile(new f(this,m,p,g,v));return this}),n.exports=f},88423:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(41212),f=new o({Extends:l,initialize:function(p,g,v,y){var x="js";if(d(g)){var b=g;g=h(b,"key"),v=h(b,"url"),y=h(b,"xhrSettings"),x=h(b,"extension",x)}var w={type:"text",extension:x,responseType:"text",key:g,url:v,xhrSettings:y};l.call(this,p,w)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var m=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),p=eval;this.loader.sceneManager.add(this.key,p(m)),this.complete=!0}});c.register("sceneFile",function(m,p,g){if(Array.isArray(m))for(var v=0;v<m.length;v++)this.addFile(new f(this,m[v]));else this.addFile(new f(this,m,p,g));return this}),n.exports=f},56812:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(41212),f=new o({Extends:l,initialize:function(p,g,v,y,x,b){var w="js";if(d(g)){var C=g;g=h(C,"key"),v=h(C,"url"),b=h(C,"xhrSettings"),w=h(C,"extension",w),y=h(C,"systemKey"),x=h(C,"sceneKey")}var _={type:"scenePlugin",cache:!1,extension:w,responseType:"text",key:g,url:v,xhrSettings:b,config:{systemKey:y,sceneKey:x}};l.call(this,p,_),typeof v=="function"&&(this.data=v,this.state=u.FILE_POPULATED)},onProcess:function(){var m=this.loader.systems.plugins,p=this.config,g=this.key,v=h(p,"systemKey",g),y=h(p,"sceneKey",g);this.state===u.FILE_POPULATED?m.installScenePlugin(v,this.data,y,this.loader.scene,!0):(this.state=u.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),m.installScenePlugin(v,window[this.key],y,this.loader.scene,!0)),this.onProcessComplete()}});c.register("scenePlugin",function(m,p,g,v,y){if(Array.isArray(m))for(var x=0;x<m.length;x++)this.addFile(new f(this,m[x]));else this.addFile(new f(this,m,p,g,v,y));return this}),n.exports=f},34328:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(41212),f=new o({Extends:l,initialize:function(p,g,v,y,x){var b="js";if(d(g)){var w=g;g=h(w,"key"),v=h(w,"url"),y=h(w,"type","script"),x=h(w,"xhrSettings"),b=h(w,"extension",b)}else y===void 0&&(y="script");var C={type:y,cache:!1,extension:b,responseType:"text",key:g,url:v,xhrSettings:x};l.call(this,p,C)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});c.register("script",function(m,p,g,v){if(Array.isArray(m))for(var y=0;y<m.length;y++)this.addFile(new f(this,m[y]));else this.addFile(new f(this,m,p,g,v));return this}),n.exports=f},85035:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(74099),c=s(19550),h=new o({Extends:c,initialize:function(f,m,p,g,v){c.call(this,f,m,p,v,g),this.type="spritesheet"},addToCache:function(){var d=this.linkFile;d?d.state>=u.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,d.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,d.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});l.register("spritesheet",function(d,f,m,p){if(Array.isArray(d))for(var g=0;g<d.length;g++)this.addFile(new h(this,d[g]));else this.addFile(new h(this,d,f,m,p));return this}),n.exports=h},78776:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(41212),f=new o({Extends:l,initialize:function(p,g,v,y){var x="text",b="txt",w=p.cacheManager.text;if(d(g)){var C=g;g=h(C,"key"),v=h(C,"url"),y=h(C,"xhrSettings"),b=h(C,"extension",b),x=h(C,"type",x),w=h(C,"cache",w)}var _={type:x,cache:w,extension:b,responseType:"text",key:g,url:v,xhrSettings:y};l.call(this,p,_)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});c.register("text",function(m,p,g){if(Array.isArray(m))for(var v=0;v<m.length;v++)this.addFile(new f(this,m[v]));else this.addFile(new f(this,m,p,g));return this}),n.exports=f},49477:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(41212),f=s(80341),m=new o({Extends:l,initialize:function(g,v,y,x){var b="csv";if(d(v)){var w=v;v=h(w,"key"),y=h(w,"url"),x=h(w,"xhrSettings"),b=h(w,"extension",b)}var C={type:"tilemapCSV",cache:g.cacheManager.tilemap,extension:b,responseType:"text",key:v,url:y,xhrSettings:x};l.call(this,g,C),this.tilemapFormat=f.CSV},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var p={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,p)}});c.register("tilemapCSV",function(p,g,v){if(Array.isArray(p))for(var y=0;y<p.length;y++)this.addFile(new m(this,p[y]));else this.addFile(new m(this,p,g,v));return this}),n.exports=m},40807:(n,a,s)=>{var o=s(83419),u=s(74099),l=s(518),c=s(80341),h=new o({Extends:l,initialize:function(f,m,p,g){l.call(this,f,m,p,g),this.type="tilemapJSON",this.cache=f.cacheManager.tilemap},addToCache:function(){var d={format:c.WELTMEISTER,data:this.data};this.cache.add(this.key,d)}});u.register("tilemapImpact",function(d,f,m){if(Array.isArray(d))for(var p=0;p<d.length;p++)this.addFile(new h(this,d[p]));else this.addFile(new h(this,d,f,m));return this}),n.exports=h},56775:(n,a,s)=>{var o=s(83419),u=s(74099),l=s(518),c=s(80341),h=new o({Extends:l,initialize:function(f,m,p,g){l.call(this,f,m,p,g),this.type="tilemapJSON",this.cache=f.cacheManager.tilemap},addToCache:function(){var d={format:c.TILED_JSON,data:this.data};this.cache.add(this.key,d)}});u.register("tilemapTiledJSON",function(d,f,m){if(Array.isArray(d))for(var p=0;p<d.length;p++)this.addFile(new h(this,d[p]));else this.addFile(new h(this,d,f,m));return this}),n.exports=h},25771:(n,a,s)=>{var o=s(83419),u=s(74099),l=s(95540),c=s(19550),h=s(41212),d=s(26430),f=s(78776),m=new o({Extends:d,initialize:function(g,v,y,x,b,w){var C,_;if(h(v)){var S=v;v=l(S,"key"),C=new c(g,{key:v,url:l(S,"textureURL"),extension:l(S,"textureExtension","png"),normalMap:l(S,"normalMap"),xhrSettings:l(S,"textureXhrSettings")}),_=new f(g,{key:v,url:l(S,"atlasURL"),extension:l(S,"atlasExtension","txt"),xhrSettings:l(S,"atlasXhrSettings")})}else C=new c(g,v,y,b),_=new f(g,v,x,w);C.linkFile?d.call(this,g,"unityatlas",v,[C,_,C.linkFile]):d.call(this,g,"unityatlas",v,[C,_])},addToCache:function(){if(this.isReadyToProcess()){var p=this.files[0],g=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(p.key,p.data,g.data,v),this.complete=!0}}});u.register("unityAtlas",function(p,g,v,y,x){var b;if(Array.isArray(p))for(var w=0;w<p.length;w++)b=new m(this,p[w]),this.addFile(b.files);else b=new m(this,p,g,v,y,x),this.addFile(b.files);return this}),n.exports=m},33720:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(98356),d=s(95540),f=s(41212),m=new o({Extends:l,initialize:function(g,v,y,x){if(x===void 0&&(x=!1),f(v)){var b=v;v=d(b,"key"),y=d(b,"url",[]),x=d(b,"noAudio",!1)}var w=g.systems.game.device.video.getVideoURL(y);w||console.warn("VideoFile: No supported format for "+v);var C={type:"video",cache:g.cacheManager.video,extension:w.type,key:v,url:w.url,config:{noAudio:x}};l.call(this,g,C)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=h(this,this.loader.baseURL),this.state=u.FILE_LOADED,this.loader.nextFile(this,!0)}});c.register("video",function(p,g,v){if(Array.isArray(p))for(var y=0;y<p.length;y++)this.addFile(new m(this,p[y]));else this.addFile(new m(this,p,g,v));return this}),n.exports=m},57318:(n,a,s)=>{var o=s(83419),u=s(23906),l=s(41299),c=s(74099),h=s(95540),d=s(41212),f=s(56836),m=new o({Extends:l,initialize:function(g,v,y,x){var b="xml";if(d(v)){var w=v;v=h(w,"key"),y=h(w,"url"),x=h(w,"xhrSettings"),b=h(w,"extension",b)}var C={type:"xml",cache:g.cacheManager.xml,extension:b,responseType:"text",key:v,url:y,xhrSettings:x};l.call(this,g,C)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=f(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});c.register("xml",function(p,g,v){if(Array.isArray(p))for(var y=0;y<p.length;y++)this.addFile(new m(this,p[y]));else this.addFile(new m(this,p,g,v));return this}),n.exports=m},64589:(n,a,s)=>{n.exports={AnimationJSONFile:s(14135),AsepriteFile:s(76272),AtlasJSONFile:s(38734),AtlasXMLFile:s(74599),AudioFile:s(21097),AudioSpriteFile:s(89524),BinaryFile:s(85722),BitmapFontFile:s(97025),CompressedTextureFile:s(69559),CSSFile:s(16024),FontFile:s(87674),GLSLFile:s(47931),HTML5AudioFile:s(89749),HTMLFile:s(88470),HTMLTextureFile:s(14643),ImageFile:s(19550),JSONFile:s(518),MultiAtlasFile:s(59327),MultiScriptFile:s(99297),OBJFile:s(41846),PackFile:s(58610),PluginFile:s(48988),SceneFile:s(88423),ScenePluginFile:s(56812),ScriptFile:s(34328),SpriteSheetFile:s(85035),SVGFile:s(67397),TextFile:s(78776),TilemapCSVFile:s(49477),TilemapImpactFile:s(40807),TilemapJSONFile:s(56775),UnityAtlasFile:s(25771),VideoFile:s(33720),XMLFile:s(57318)}},57777:(n,a,s)=>{var o=s(23906),u=s(79291),l={Events:s(54899),FileTypes:s(64589),File:s(41299),FileTypesManager:s(74099),GetURL:s(98356),LoaderPlugin:s(74261),MergeXHRSettings:s(3374),MultiFile:s(26430),XHRLoader:s(84376),XHRSettings:s(92638)};l=u(!1,l,o),n.exports=l},53307:n=>{var a=function(s){for(var o=0,u=0;u<s.length;u++)o+=+s[u];return o/s.length};n.exports=a},85710:(n,a,s)=>{var o=s(6411),u=function(l,c){return o(l)/o(c)/o(l-c)};n.exports=u},30976:n=>{var a=function(s,o){return Math.floor(Math.random()*(o-s+1)+s)};n.exports=a},87842:n=>{var a=function(s,o,u,l,c){var h=(l-o)*.5,d=(c-u)*.5,f=s*s,m=s*f;return(2*u-2*l+h+d)*m+(-3*u+3*l-2*h-d)*f+h*s+u};n.exports=a},26302:n=>{var a=function(s,o,u){o===void 0&&(o=0),u===void 0&&(u=10);var l=Math.pow(u,-o);return Math.ceil(s*l)/l};n.exports=a},45319:n=>{var a=function(s,o,u){return Math.max(o,Math.min(u,s))};n.exports=a},39506:(n,a,s)=>{var o=s(36383),u=function(l){return l*o.DEG_TO_RAD};n.exports=u},61241:n=>{var a=function(s,o){return Math.abs(s-o)};n.exports=a},38857:(n,a,s)=>{var o=s(45319),u=s(83419),l=s(37867),c=s(29747),h=new l,d=new u({initialize:function f(m,p,g,v){m===void 0&&(m=0),p===void 0&&(p=0),g===void 0&&(g=0),v===void 0&&(v=f.DefaultOrder),this._x=m,this._y=p,this._z=g,this._order=v,this.onChangeCallback=c},x:{get:function(){return this._x},set:function(f){this._x=f,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(f){this._y=f,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(f){this._z=f,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(f){this._order=f,this.onChangeCallback(this)}},set:function(f,m,p,g){return g===void 0&&(g=this._order),this._x=f,this._y=m,this._z=p,this._order=g,this.onChangeCallback(this),this},copy:function(f){return this.set(f.x,f.y,f.z,f.order)},setFromQuaternion:function(f,m,p){return m===void 0&&(m=this._order),p===void 0&&(p=!1),h.fromQuat(f),this.setFromRotationMatrix(h,m,p)},setFromRotationMatrix:function(f,m,p){m===void 0&&(m=this._order),p===void 0&&(p=!1);var g=f.val,v=g[0],y=g[4],x=g[8],b=g[1],w=g[5],C=g[9],_=g[2],S=g[6],T=g[10],A=0,M=0,I=0,D=.99999;switch(m){case"XYZ":{M=Math.asin(o(x,-1,1)),Math.abs(x)<D?(A=Math.atan2(-C,T),I=Math.atan2(-y,v)):A=Math.atan2(S,w);break}case"YXZ":{A=Math.asin(-o(C,-1,1)),Math.abs(C)<D?(M=Math.atan2(x,T),I=Math.atan2(b,w)):M=Math.atan2(-_,v);break}case"ZXY":{A=Math.asin(o(S,-1,1)),Math.abs(S)<D?(M=Math.atan2(-_,T),I=Math.atan2(-y,w)):I=Math.atan2(b,v);break}case"ZYX":{M=Math.asin(-o(_,-1,1)),Math.abs(_)<D?(A=Math.atan2(S,T),I=Math.atan2(b,v)):I=Math.atan2(-y,w);break}case"YZX":{I=Math.asin(o(b,-1,1)),Math.abs(b)<D?(A=Math.atan2(-C,w),M=Math.atan2(-_,v)):M=Math.atan2(x,T);break}case"XZY":{I=Math.asin(-o(y,-1,1)),Math.abs(y)<D?(A=Math.atan2(S,w),M=Math.atan2(x,v)):A=Math.atan2(-C,T);break}}return this._x=A,this._y=M,this._z=I,this._order=m,p&&this.onChangeCallback(this),this}});d.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],d.DefaultOrder="XYZ",n.exports=d},6411:n=>{var a=function(s){if(s===0)return 1;for(var o=s;--s;)o*=s;return o};n.exports=a},99472:n=>{var a=function(s,o){return Math.random()*(o-s)+s};n.exports=a},77623:n=>{var a=function(s,o,u){o===void 0&&(o=0),u===void 0&&(u=10);var l=Math.pow(u,-o);return Math.floor(s*l)/l};n.exports=a},62945:(n,a,s)=>{var o=s(45319),u=function(l,c,h){return l=o(l,0,1),(h-c)*l+c};n.exports=u},38265:n=>{var a=function(s,o){return s/o/1e3};n.exports=a},78702:n=>{var a=function(s){return s==parseFloat(s)?!(s%2):void 0};n.exports=a},94883:n=>{var a=function(s){return s===parseFloat(s)?!(s%2):void 0};n.exports=a},28915:n=>{var a=function(s,o,u){return(o-s)*u+s};n.exports=a},94908:n=>{var a=function(s,o,u){return u===void 0&&(u=0),s.clone().lerp(o,u)};n.exports=a},94434:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c){this.val=new Float32Array(9),c?this.copy(c):this.identity()},clone:function(){return new u(this)},set:function(l){return this.copy(l)},copy:function(l){var c=this.val,h=l.val;return c[0]=h[0],c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=h[6],c[7]=h[7],c[8]=h[8],this},fromMat4:function(l){var c=l.val,h=this.val;return h[0]=c[0],h[1]=c[1],h[2]=c[2],h[3]=c[4],h[4]=c[5],h[5]=c[6],h[6]=c[8],h[7]=c[9],h[8]=c[10],this},fromArray:function(l){var c=this.val;return c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=l[6],c[7]=l[7],c[8]=l[8],this},identity:function(){var l=this.val;return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=1,l[5]=0,l[6]=0,l[7]=0,l[8]=1,this},transpose:function(){var l=this.val,c=l[1],h=l[2],d=l[5];return l[1]=l[3],l[2]=l[6],l[3]=c,l[5]=l[7],l[6]=h,l[7]=d,this},invert:function(){var l=this.val,c=l[0],h=l[1],d=l[2],f=l[3],m=l[4],p=l[5],g=l[6],v=l[7],y=l[8],x=y*m-p*v,b=-y*f+p*g,w=v*f-m*g,C=c*x+h*b+d*w;return C?(C=1/C,l[0]=x*C,l[1]=(-y*h+d*v)*C,l[2]=(p*h-d*m)*C,l[3]=b*C,l[4]=(y*c-d*g)*C,l[5]=(-p*c+d*f)*C,l[6]=w*C,l[7]=(-v*c+h*g)*C,l[8]=(m*c-h*f)*C,this):null},adjoint:function(){var l=this.val,c=l[0],h=l[1],d=l[2],f=l[3],m=l[4],p=l[5],g=l[6],v=l[7],y=l[8];return l[0]=m*y-p*v,l[1]=d*v-h*y,l[2]=h*p-d*m,l[3]=p*g-f*y,l[4]=c*y-d*g,l[5]=d*f-c*p,l[6]=f*v-m*g,l[7]=h*g-c*v,l[8]=c*m-h*f,this},determinant:function(){var l=this.val,c=l[0],h=l[1],d=l[2],f=l[3],m=l[4],p=l[5],g=l[6],v=l[7],y=l[8];return c*(y*m-p*v)+h*(-y*f+p*g)+d*(v*f-m*g)},multiply:function(l){var c=this.val,h=c[0],d=c[1],f=c[2],m=c[3],p=c[4],g=c[5],v=c[6],y=c[7],x=c[8],b=l.val,w=b[0],C=b[1],_=b[2],S=b[3],T=b[4],A=b[5],M=b[6],I=b[7],D=b[8];return c[0]=w*h+C*m+_*v,c[1]=w*d+C*p+_*y,c[2]=w*f+C*g+_*x,c[3]=S*h+T*m+A*v,c[4]=S*d+T*p+A*y,c[5]=S*f+T*g+A*x,c[6]=M*h+I*m+D*v,c[7]=M*d+I*p+D*y,c[8]=M*f+I*g+D*x,this},translate:function(l){var c=this.val,h=l.x,d=l.y;return c[6]=h*c[0]+d*c[3]+c[6],c[7]=h*c[1]+d*c[4]+c[7],c[8]=h*c[2]+d*c[5]+c[8],this},rotate:function(l){var c=this.val,h=c[0],d=c[1],f=c[2],m=c[3],p=c[4],g=c[5],v=Math.sin(l),y=Math.cos(l);return c[0]=y*h+v*m,c[1]=y*d+v*p,c[2]=y*f+v*g,c[3]=y*m-v*h,c[4]=y*p-v*d,c[5]=y*g-v*f,this},scale:function(l){var c=this.val,h=l.x,d=l.y;return c[0]=h*c[0],c[1]=h*c[1],c[2]=h*c[2],c[3]=d*c[3],c[4]=d*c[4],c[5]=d*c[5],this},fromQuat:function(l){var c=l.x,h=l.y,d=l.z,f=l.w,m=c+c,p=h+h,g=d+d,v=c*m,y=c*p,x=c*g,b=h*p,w=h*g,C=d*g,_=f*m,S=f*p,T=f*g,A=this.val;return A[0]=1-(b+C),A[3]=y+T,A[6]=x-S,A[1]=y-T,A[4]=1-(v+C),A[7]=w+_,A[2]=x+S,A[5]=w-_,A[8]=1-(v+b),this},normalFromMat4:function(l){var c=l.val,h=this.val,d=c[0],f=c[1],m=c[2],p=c[3],g=c[4],v=c[5],y=c[6],x=c[7],b=c[8],w=c[9],C=c[10],_=c[11],S=c[12],T=c[13],A=c[14],M=c[15],I=d*v-f*g,D=d*y-m*g,k=d*x-p*g,G=f*y-m*v,R=f*x-p*v,H=m*x-p*y,j=b*T-w*S,Z=b*A-C*S,ee=b*M-_*S,Y=w*A-C*T,V=w*M-_*T,O=C*M-_*A,F=I*O-D*V+k*Y+G*ee-R*Z+H*j;return F?(F=1/F,h[0]=(v*O-y*V+x*Y)*F,h[1]=(y*ee-g*O-x*Z)*F,h[2]=(g*V-v*ee+x*j)*F,h[3]=(m*V-f*O-p*Y)*F,h[4]=(d*O-m*ee+p*Z)*F,h[5]=(f*ee-d*V-p*j)*F,h[6]=(T*H-A*R+M*G)*F,h[7]=(A*k-S*H-M*D)*F,h[8]=(S*R-T*k+M*I)*F,this):null}});n.exports=u},37867:(n,a,s)=>{var o=s(83419),u=s(25836),l=1e-6,c=new o({initialize:function(v){this.val=new Float32Array(16),v?this.copy(v):this.identity()},clone:function(){return new c(this)},set:function(g){return this.copy(g)},setValues:function(g,v,y,x,b,w,C,_,S,T,A,M,I,D,k,G){var R=this.val;return R[0]=g,R[1]=v,R[2]=y,R[3]=x,R[4]=b,R[5]=w,R[6]=C,R[7]=_,R[8]=S,R[9]=T,R[10]=A,R[11]=M,R[12]=I,R[13]=D,R[14]=k,R[15]=G,this},copy:function(g){var v=g.val;return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},fromArray:function(g){return this.setValues(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(g,v,y){var x=h.fromQuat(y),b=x.val,w=v.x,C=v.y,_=v.z;return this.setValues(b[0]*w,b[1]*w,b[2]*w,0,b[4]*C,b[5]*C,b[6]*C,0,b[8]*_,b[9]*_,b[10]*_,0,g.x,g.y,g.z,1)},xyz:function(g,v,y){this.identity();var x=this.val;return x[12]=g,x[13]=v,x[14]=y,this},scaling:function(g,v,y){this.zero();var x=this.val;return x[0]=g,x[5]=v,x[10]=y,x[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var g=this.val,v=g[1],y=g[2],x=g[3],b=g[6],w=g[7],C=g[11];return g[1]=g[4],g[2]=g[8],g[3]=g[12],g[4]=v,g[6]=g[9],g[7]=g[13],g[8]=y,g[9]=b,g[11]=g[14],g[12]=x,g[13]=w,g[14]=C,this},getInverse:function(g){return this.copy(g),this.invert()},invert:function(){var g=this.val,v=g[0],y=g[1],x=g[2],b=g[3],w=g[4],C=g[5],_=g[6],S=g[7],T=g[8],A=g[9],M=g[10],I=g[11],D=g[12],k=g[13],G=g[14],R=g[15],H=v*C-y*w,j=v*_-x*w,Z=v*S-b*w,ee=y*_-x*C,Y=y*S-b*C,V=x*S-b*_,O=T*k-A*D,F=T*G-M*D,X=T*R-I*D,ie=A*G-M*k,re=A*R-I*k,q=M*R-I*G,ae=H*q-j*re+Z*ie+ee*X-Y*F+V*O;return ae?(ae=1/ae,this.setValues((C*q-_*re+S*ie)*ae,(x*re-y*q-b*ie)*ae,(k*V-G*Y+R*ee)*ae,(M*Y-A*V-I*ee)*ae,(_*X-w*q-S*F)*ae,(v*q-x*X+b*F)*ae,(G*Z-D*V-R*j)*ae,(T*V-M*Z+I*j)*ae,(w*re-C*X+S*O)*ae,(y*X-v*re-b*O)*ae,(D*Y-k*Z+R*H)*ae,(A*Z-T*Y-I*H)*ae,(C*F-w*ie-_*O)*ae,(v*ie-y*F+x*O)*ae,(k*j-D*ee-G*H)*ae,(T*ee-A*j+M*H)*ae)):this},adjoint:function(){var g=this.val,v=g[0],y=g[1],x=g[2],b=g[3],w=g[4],C=g[5],_=g[6],S=g[7],T=g[8],A=g[9],M=g[10],I=g[11],D=g[12],k=g[13],G=g[14],R=g[15];return this.setValues(C*(M*R-I*G)-A*(_*R-S*G)+k*(_*I-S*M),-(y*(M*R-I*G)-A*(x*R-b*G)+k*(x*I-b*M)),y*(_*R-S*G)-C*(x*R-b*G)+k*(x*S-b*_),-(y*(_*I-S*M)-C*(x*I-b*M)+A*(x*S-b*_)),-(w*(M*R-I*G)-T*(_*R-S*G)+D*(_*I-S*M)),v*(M*R-I*G)-T*(x*R-b*G)+D*(x*I-b*M),-(v*(_*R-S*G)-w*(x*R-b*G)+D*(x*S-b*_)),v*(_*I-S*M)-w*(x*I-b*M)+T*(x*S-b*_),w*(A*R-I*k)-T*(C*R-S*k)+D*(C*I-S*A),-(v*(A*R-I*k)-T*(y*R-b*k)+D*(y*I-b*A)),v*(C*R-S*k)-w*(y*R-b*k)+D*(y*S-b*C),-(v*(C*I-S*A)-w*(y*I-b*A)+T*(y*S-b*C)),-(w*(A*G-M*k)-T*(C*G-_*k)+D*(C*M-_*A)),v*(A*G-M*k)-T*(y*G-x*k)+D*(y*M-x*A),-(v*(C*G-_*k)-w*(y*G-x*k)+D*(y*_-x*C)),v*(C*M-_*A)-w*(y*M-x*A)+T*(y*_-x*C))},determinant:function(){var g=this.val,v=g[0],y=g[1],x=g[2],b=g[3],w=g[4],C=g[5],_=g[6],S=g[7],T=g[8],A=g[9],M=g[10],I=g[11],D=g[12],k=g[13],G=g[14],R=g[15],H=v*C-y*w,j=v*_-x*w,Z=v*S-b*w,ee=y*_-x*C,Y=y*S-b*C,V=x*S-b*_,O=T*k-A*D,F=T*G-M*D,X=T*R-I*D,ie=A*G-M*k,re=A*R-I*k,q=M*R-I*G;return H*q-j*re+Z*ie+ee*X-Y*F+V*O},multiply:function(g){var v=this.val,y=v[0],x=v[1],b=v[2],w=v[3],C=v[4],_=v[5],S=v[6],T=v[7],A=v[8],M=v[9],I=v[10],D=v[11],k=v[12],G=v[13],R=v[14],H=v[15],j=g.val,Z=j[0],ee=j[1],Y=j[2],V=j[3];return v[0]=Z*y+ee*C+Y*A+V*k,v[1]=Z*x+ee*_+Y*M+V*G,v[2]=Z*b+ee*S+Y*I+V*R,v[3]=Z*w+ee*T+Y*D+V*H,Z=j[4],ee=j[5],Y=j[6],V=j[7],v[4]=Z*y+ee*C+Y*A+V*k,v[5]=Z*x+ee*_+Y*M+V*G,v[6]=Z*b+ee*S+Y*I+V*R,v[7]=Z*w+ee*T+Y*D+V*H,Z=j[8],ee=j[9],Y=j[10],V=j[11],v[8]=Z*y+ee*C+Y*A+V*k,v[9]=Z*x+ee*_+Y*M+V*G,v[10]=Z*b+ee*S+Y*I+V*R,v[11]=Z*w+ee*T+Y*D+V*H,Z=j[12],ee=j[13],Y=j[14],V=j[15],v[12]=Z*y+ee*C+Y*A+V*k,v[13]=Z*x+ee*_+Y*M+V*G,v[14]=Z*b+ee*S+Y*I+V*R,v[15]=Z*w+ee*T+Y*D+V*H,this},multiplyLocal:function(g){var v=this.val,y=g.val;return this.setValues(v[0]*y[0]+v[1]*y[4]+v[2]*y[8]+v[3]*y[12],v[0]*y[1]+v[1]*y[5]+v[2]*y[9]+v[3]*y[13],v[0]*y[2]+v[1]*y[6]+v[2]*y[10]+v[3]*y[14],v[0]*y[3]+v[1]*y[7]+v[2]*y[11]+v[3]*y[15],v[4]*y[0]+v[5]*y[4]+v[6]*y[8]+v[7]*y[12],v[4]*y[1]+v[5]*y[5]+v[6]*y[9]+v[7]*y[13],v[4]*y[2]+v[5]*y[6]+v[6]*y[10]+v[7]*y[14],v[4]*y[3]+v[5]*y[7]+v[6]*y[11]+v[7]*y[15],v[8]*y[0]+v[9]*y[4]+v[10]*y[8]+v[11]*y[12],v[8]*y[1]+v[9]*y[5]+v[10]*y[9]+v[11]*y[13],v[8]*y[2]+v[9]*y[6]+v[10]*y[10]+v[11]*y[14],v[8]*y[3]+v[9]*y[7]+v[10]*y[11]+v[11]*y[15],v[12]*y[0]+v[13]*y[4]+v[14]*y[8]+v[15]*y[12],v[12]*y[1]+v[13]*y[5]+v[14]*y[9]+v[15]*y[13],v[12]*y[2]+v[13]*y[6]+v[14]*y[10]+v[15]*y[14],v[12]*y[3]+v[13]*y[7]+v[14]*y[11]+v[15]*y[15])},premultiply:function(g){return this.multiplyMatrices(g,this)},multiplyMatrices:function(g,v){var y=g.val,x=v.val,b=y[0],w=y[4],C=y[8],_=y[12],S=y[1],T=y[5],A=y[9],M=y[13],I=y[2],D=y[6],k=y[10],G=y[14],R=y[3],H=y[7],j=y[11],Z=y[15],ee=x[0],Y=x[4],V=x[8],O=x[12],F=x[1],X=x[5],ie=x[9],re=x[13],q=x[2],ae=x[6],ue=x[10],me=x[14],be=x[3],ke=x[7],ze=x[11],De=x[15];return this.setValues(b*ee+w*F+C*q+_*be,S*ee+T*F+A*q+M*be,I*ee+D*F+k*q+G*be,R*ee+H*F+j*q+Z*be,b*Y+w*X+C*ae+_*ke,S*Y+T*X+A*ae+M*ke,I*Y+D*X+k*ae+G*ke,R*Y+H*X+j*ae+Z*ke,b*V+w*ie+C*ue+_*ze,S*V+T*ie+A*ue+M*ze,I*V+D*ie+k*ue+G*ze,R*V+H*ie+j*ue+Z*ze,b*O+w*re+C*me+_*De,S*O+T*re+A*me+M*De,I*O+D*re+k*me+G*De,R*O+H*re+j*me+Z*De)},translate:function(g){return this.translateXYZ(g.x,g.y,g.z)},translateXYZ:function(g,v,y){var x=this.val;return x[12]=x[0]*g+x[4]*v+x[8]*y+x[12],x[13]=x[1]*g+x[5]*v+x[9]*y+x[13],x[14]=x[2]*g+x[6]*v+x[10]*y+x[14],x[15]=x[3]*g+x[7]*v+x[11]*y+x[15],this},scale:function(g){return this.scaleXYZ(g.x,g.y,g.z)},scaleXYZ:function(g,v,y){var x=this.val;return x[0]=x[0]*g,x[1]=x[1]*g,x[2]=x[2]*g,x[3]=x[3]*g,x[4]=x[4]*v,x[5]=x[5]*v,x[6]=x[6]*v,x[7]=x[7]*v,x[8]=x[8]*y,x[9]=x[9]*y,x[10]=x[10]*y,x[11]=x[11]*y,this},makeRotationAxis:function(g,v){var y=Math.cos(v),x=Math.sin(v),b=1-y,w=g.x,C=g.y,_=g.z,S=b*w,T=b*C;return this.setValues(S*w+y,S*C-x*_,S*_+x*C,0,S*C+x*_,T*C+y,T*_-x*w,0,S*_-x*C,T*_+x*w,b*_*_+y,0,0,0,0,1)},rotate:function(g,v){var y=this.val,x=v.x,b=v.y,w=v.z,C=Math.sqrt(x*x+b*b+w*w);if(Math.abs(C)<l)return this;C=1/C,x*=C,b*=C,w*=C;var _=Math.sin(g),S=Math.cos(g),T=1-S,A=y[0],M=y[1],I=y[2],D=y[3],k=y[4],G=y[5],R=y[6],H=y[7],j=y[8],Z=y[9],ee=y[10],Y=y[11],V=y[12],O=y[13],F=y[14],X=y[15],ie=x*x*T+S,re=b*x*T+w*_,q=w*x*T-b*_,ae=x*b*T-w*_,ue=b*b*T+S,me=w*b*T+x*_,be=x*w*T+b*_,ke=b*w*T-x*_,ze=w*w*T+S;return this.setValues(A*ie+k*re+j*q,M*ie+G*re+Z*q,I*ie+R*re+ee*q,D*ie+H*re+Y*q,A*ae+k*ue+j*me,M*ae+G*ue+Z*me,I*ae+R*ue+ee*me,D*ae+H*ue+Y*me,A*be+k*ke+j*ze,M*be+G*ke+Z*ze,I*be+R*ke+ee*ze,D*be+H*ke+Y*ze,V,O,F,X)},rotateX:function(g){var v=this.val,y=Math.sin(g),x=Math.cos(g),b=v[4],w=v[5],C=v[6],_=v[7],S=v[8],T=v[9],A=v[10],M=v[11];return v[4]=b*x+S*y,v[5]=w*x+T*y,v[6]=C*x+A*y,v[7]=_*x+M*y,v[8]=S*x-b*y,v[9]=T*x-w*y,v[10]=A*x-C*y,v[11]=M*x-_*y,this},rotateY:function(g){var v=this.val,y=Math.sin(g),x=Math.cos(g),b=v[0],w=v[1],C=v[2],_=v[3],S=v[8],T=v[9],A=v[10],M=v[11];return v[0]=b*x-S*y,v[1]=w*x-T*y,v[2]=C*x-A*y,v[3]=_*x-M*y,v[8]=b*y+S*x,v[9]=w*y+T*x,v[10]=C*y+A*x,v[11]=_*y+M*x,this},rotateZ:function(g){var v=this.val,y=Math.sin(g),x=Math.cos(g),b=v[0],w=v[1],C=v[2],_=v[3],S=v[4],T=v[5],A=v[6],M=v[7];return v[0]=b*x+S*y,v[1]=w*x+T*y,v[2]=C*x+A*y,v[3]=_*x+M*y,v[4]=S*x-b*y,v[5]=T*x-w*y,v[6]=A*x-C*y,v[7]=M*x-_*y,this},fromRotationTranslation:function(g,v){var y=g.x,x=g.y,b=g.z,w=g.w,C=y+y,_=x+x,S=b+b,T=y*C,A=y*_,M=y*S,I=x*_,D=x*S,k=b*S,G=w*C,R=w*_,H=w*S;return this.setValues(1-(I+k),A+H,M-R,0,A-H,1-(T+k),D+G,0,M+R,D-G,1-(T+I),0,v.x,v.y,v.z,1)},fromQuat:function(g){var v=g.x,y=g.y,x=g.z,b=g.w,w=v+v,C=y+y,_=x+x,S=v*w,T=v*C,A=v*_,M=y*C,I=y*_,D=x*_,k=b*w,G=b*C,R=b*_;return this.setValues(1-(M+D),T+R,A-G,0,T-R,1-(S+D),I+k,0,A+G,I-k,1-(S+M),0,0,0,0,1)},frustum:function(g,v,y,x,b,w){var C=1/(v-g),_=1/(x-y),S=1/(b-w);return this.setValues(b*2*C,0,0,0,0,b*2*_,0,0,(v+g)*C,(x+y)*_,(w+b)*S,-1,0,0,w*b*2*S,0)},perspective:function(g,v,y,x){var b=1/Math.tan(g/2),w=1/(y-x);return this.setValues(b/v,0,0,0,0,b,0,0,0,0,(x+y)*w,-1,0,0,2*x*y*w,0)},perspectiveLH:function(g,v,y,x){return this.setValues(2*y/g,0,0,0,0,2*y/v,0,0,0,0,-x/(y-x),1,0,0,y*x/(y-x),0)},ortho:function(g,v,y,x,b,w){var C=g-v,_=y-x,S=b-w;return C=C===0?C:1/C,_=_===0?_:1/_,S=S===0?S:1/S,this.setValues(-2*C,0,0,0,0,-2*_,0,0,0,0,2*S,0,(g+v)*C,(x+y)*_,(w+b)*S,1)},lookAtRH:function(g,v,y){var x=this.val;return p.subVectors(g,v),p.lengthSq()===0&&(p.z=1),p.normalize(),f.crossVectors(y,p),f.lengthSq()===0&&(Math.abs(y.z)===1?p.x+=1e-4:p.z+=1e-4,p.normalize(),f.crossVectors(y,p)),f.normalize(),m.crossVectors(p,f),x[0]=f.x,x[1]=f.y,x[2]=f.z,x[4]=m.x,x[5]=m.y,x[6]=m.z,x[8]=p.x,x[9]=p.y,x[10]=p.z,this},lookAt:function(g,v,y){var x=g.x,b=g.y,w=g.z,C=y.x,_=y.y,S=y.z,T=v.x,A=v.y,M=v.z;if(Math.abs(x-T)<l&&Math.abs(b-A)<l&&Math.abs(w-M)<l)return this.identity();var I=x-T,D=b-A,k=w-M,G=1/Math.sqrt(I*I+D*D+k*k);I*=G,D*=G,k*=G;var R=_*k-S*D,H=S*I-C*k,j=C*D-_*I;G=Math.sqrt(R*R+H*H+j*j),G?(G=1/G,R*=G,H*=G,j*=G):(R=0,H=0,j=0);var Z=D*j-k*H,ee=k*R-I*j,Y=I*H-D*R;return G=Math.sqrt(Z*Z+ee*ee+Y*Y),G?(G=1/G,Z*=G,ee*=G,Y*=G):(Z=0,ee=0,Y=0),this.setValues(R,Z,I,0,H,ee,D,0,j,Y,k,0,-(R*x+H*b+j*w),-(Z*x+ee*b+Y*w),-(I*x+D*b+k*w),1)},yawPitchRoll:function(g,v,y){this.zero(),h.zero(),d.zero();var x=this.val,b=h.val,w=d.val,C=Math.sin(y),_=Math.cos(y);return x[10]=1,x[15]=1,x[0]=_,x[1]=C,x[4]=-C,x[5]=_,C=Math.sin(v),_=Math.cos(v),b[0]=1,b[15]=1,b[5]=_,b[10]=_,b[9]=-C,b[6]=C,C=Math.sin(g),_=Math.cos(g),w[5]=1,w[15]=1,w[0]=_,w[2]=-C,w[8]=C,w[10]=_,this.multiplyLocal(h),this.multiplyLocal(d),this},setWorldMatrix:function(g,v,y,x,b){return this.yawPitchRoll(g.y,g.x,g.z),h.scaling(y.x,y.y,y.z),d.xyz(v.x,v.y,v.z),this.multiplyLocal(h),this.multiplyLocal(d),x&&this.multiplyLocal(x),b&&this.multiplyLocal(b),this},multiplyToMat4:function(g,v){var y=this.val,x=g.val,b=y[0],w=y[1],C=y[2],_=y[3],S=y[4],T=y[5],A=y[6],M=y[7],I=y[8],D=y[9],k=y[10],G=y[11],R=y[12],H=y[13],j=y[14],Z=y[15],ee=x[0],Y=x[1],V=x[2],O=x[3],F=x[4],X=x[5],ie=x[6],re=x[7],q=x[8],ae=x[9],ue=x[10],me=x[11],be=x[12],ke=x[13],ze=x[14],De=x[15];return v.setValues(ee*b+Y*S+V*I+O*R,Y*w+Y*T+V*D+O*H,V*C+Y*A+V*k+O*j,O*_+Y*M+V*G+O*Z,F*b+X*S+ie*I+re*R,F*w+X*T+ie*D+re*H,F*C+X*A+ie*k+re*j,F*_+X*M+ie*G+re*Z,q*b+ae*S+ue*I+me*R,q*w+ae*T+ue*D+me*H,q*C+ae*A+ue*k+me*j,q*_+ae*M+ue*G+me*Z,be*b+ke*S+ze*I+De*R,be*w+ke*T+ze*D+De*H,be*C+ke*A+ze*k+De*j,be*_+ke*M+ze*G+De*Z)},fromRotationXYTranslation:function(g,v,y){var x=v.x,b=v.y,w=v.z,C=Math.sin(g.x),_=Math.cos(g.x),S=Math.sin(g.y),T=Math.cos(g.y),A=x,M=b,I=w,D=-C,k=0-D*S,G=0-_*S,R=D*T,H=_*T;return y||(A=T*x+S*w,M=k*x+_*b+R*w,I=G*x+C*b+H*w),this.setValues(T,k,G,0,0,_,C,0,S,R,H,0,A,M,I,1)},getMaxScaleOnAxis:function(){var g=this.val,v=g[0]*g[0]+g[1]*g[1]+g[2]*g[2],y=g[4]*g[4]+g[5]*g[5]+g[6]*g[6],x=g[8]*g[8]+g[9]*g[9]+g[10]*g[10];return Math.sqrt(Math.max(v,y,x))}}),h=new c,d=new c,f=new u,m=new u,p=new u;n.exports=c},86883:n=>{var a=function(s,o,u){return Math.min(s+o,u)};n.exports=a},50040:n=>{var a=function(s){var o=s.length;if(o===0)return 0;s.sort(function(l,c){return l-c});var u=Math.floor(o/2);return o%2===0?(s[u]+s[u-1])/2:s[u]};n.exports=a},37204:n=>{var a=function(s,o,u){return Math.max(s-o,u)};n.exports=a},65201:n=>{var a=function(s,o,u,l){u===void 0&&(u=o+1);var c=(s-o)/(u-o);return c>1?l!==void 0?(c=(l-s)/(l-u),c<0&&(c=0)):c=1:c<0&&(c=0),c};n.exports=a},15746:(n,a,s)=>{var o=s(83419),u=s(94434),l=s(29747),c=s(25836),h=1e-6,d=new Int8Array([1,2,0]),f=new Float32Array([0,0,0]),m=new c(1,0,0),p=new c(0,1,0),g=new c,v=new u,y=new o({initialize:function(b,w,C,_){this.onChangeCallback=l,this.set(b,w,C,_)},x:{get:function(){return this._x},set:function(x){this._x=x,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(x){this._y=x,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(x){this._z=x,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(x){this._w=x,this.onChangeCallback(this)}},copy:function(x){return this.set(x)},set:function(x,b,w,C,_){return _===void 0&&(_=!0),typeof x=="object"?(this._x=x.x||0,this._y=x.y||0,this._z=x.z||0,this._w=x.w||0):(this._x=x||0,this._y=b||0,this._z=w||0,this._w=C||0),_&&this.onChangeCallback(this),this},add:function(x){return this._x+=x.x,this._y+=x.y,this._z+=x.z,this._w+=x.w,this.onChangeCallback(this),this},subtract:function(x){return this._x-=x.x,this._y-=x.y,this._z-=x.z,this._w-=x.w,this.onChangeCallback(this),this},scale:function(x){return this._x*=x,this._y*=x,this._z*=x,this._w*=x,this.onChangeCallback(this),this},length:function(){var x=this.x,b=this.y,w=this.z,C=this.w;return Math.sqrt(x*x+b*b+w*w+C*C)},lengthSq:function(){var x=this.x,b=this.y,w=this.z,C=this.w;return x*x+b*b+w*w+C*C},normalize:function(){var x=this.x,b=this.y,w=this.z,C=this.w,_=x*x+b*b+w*w+C*C;return _>0&&(_=1/Math.sqrt(_),this._x=x*_,this._y=b*_,this._z=w*_,this._w=C*_),this.onChangeCallback(this),this},dot:function(x){return this.x*x.x+this.y*x.y+this.z*x.z+this.w*x.w},lerp:function(x,b){b===void 0&&(b=0);var w=this.x,C=this.y,_=this.z,S=this.w;return this.set(w+b*(x.x-w),C+b*(x.y-C),_+b*(x.z-_),S+b*(x.w-S))},rotationTo:function(x,b){var w=x.x*b.x+x.y*b.y+x.z*b.z;return w<-.999999?(g.copy(m).cross(x).length()<h&&g.copy(p).cross(x),g.normalize(),this.setAxisAngle(g,Math.PI)):w>.999999?this.set(0,0,0,1):(g.copy(x).cross(b),this._x=g.x,this._y=g.y,this._z=g.z,this._w=1+w,this.normalize())},setAxes:function(x,b,w){var C=v.val;return C[0]=b.x,C[3]=b.y,C[6]=b.z,C[1]=w.x,C[4]=w.y,C[7]=w.z,C[2]=-x.x,C[5]=-x.y,C[8]=-x.z,this.fromMat3(v).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(x,b){b=b*.5;var w=Math.sin(b);return this.set(w*x.x,w*x.y,w*x.z,Math.cos(b))},multiply:function(x){var b=this.x,w=this.y,C=this.z,_=this.w,S=x.x,T=x.y,A=x.z,M=x.w;return this.set(b*M+_*S+w*A-C*T,w*M+_*T+C*S-b*A,C*M+_*A+b*T-w*S,_*M-b*S-w*T-C*A)},slerp:function(x,b){var w=this.x,C=this.y,_=this.z,S=this.w,T=x.x,A=x.y,M=x.z,I=x.w,D=w*T+C*A+_*M+S*I;D<0&&(D=-D,T=-T,A=-A,M=-M,I=-I);var k=1-b,G=b;if(1-D>h){var R=Math.acos(D),H=Math.sin(R);k=Math.sin((1-b)*R)/H,G=Math.sin(b*R)/H}return this.set(k*w+G*T,k*C+G*A,k*_+G*M,k*S+G*I)},invert:function(){var x=this.x,b=this.y,w=this.z,C=this.w,_=x*x+b*b+w*w+C*C,S=_?1/_:0;return this.set(-x*S,-b*S,-w*S,C*S)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(x){x*=.5;var b=this.x,w=this.y,C=this.z,_=this.w,S=Math.sin(x),T=Math.cos(x);return this.set(b*T+_*S,w*T+C*S,C*T-w*S,_*T-b*S)},rotateY:function(x){x*=.5;var b=this.x,w=this.y,C=this.z,_=this.w,S=Math.sin(x),T=Math.cos(x);return this.set(b*T-C*S,w*T+_*S,C*T+b*S,_*T-w*S)},rotateZ:function(x){x*=.5;var b=this.x,w=this.y,C=this.z,_=this.w,S=Math.sin(x),T=Math.cos(x);return this.set(b*T+w*S,w*T-b*S,C*T+_*S,_*T-C*S)},calculateW:function(){var x=this.x,b=this.y,w=this.z;return this.w=-Math.sqrt(1-x*x-b*b-w*w),this},setFromEuler:function(x,b){var w=x.x/2,C=x.y/2,_=x.z/2,S=Math.cos(w),T=Math.cos(C),A=Math.cos(_),M=Math.sin(w),I=Math.sin(C),D=Math.sin(_);switch(x.order){case"XYZ":{this.set(M*T*A+S*I*D,S*I*A-M*T*D,S*T*D+M*I*A,S*T*A-M*I*D,b);break}case"YXZ":{this.set(M*T*A+S*I*D,S*I*A-M*T*D,S*T*D-M*I*A,S*T*A+M*I*D,b);break}case"ZXY":{this.set(M*T*A-S*I*D,S*I*A+M*T*D,S*T*D+M*I*A,S*T*A-M*I*D,b);break}case"ZYX":{this.set(M*T*A-S*I*D,S*I*A+M*T*D,S*T*D-M*I*A,S*T*A+M*I*D,b);break}case"YZX":{this.set(M*T*A+S*I*D,S*I*A+M*T*D,S*T*D-M*I*A,S*T*A-M*I*D,b);break}case"XZY":{this.set(M*T*A-S*I*D,S*I*A-M*T*D,S*T*D+M*I*A,S*T*A+M*I*D,b);break}}return this},setFromRotationMatrix:function(x){var b=x.val,w=b[0],C=b[4],_=b[8],S=b[1],T=b[5],A=b[9],M=b[2],I=b[6],D=b[10],k=w+T+D,G;return k>0?(G=.5/Math.sqrt(k+1),this.set((I-A)*G,(_-M)*G,(S-C)*G,.25/G)):w>T&&w>D?(G=2*Math.sqrt(1+w-T-D),this.set(.25*G,(C+S)/G,(_+M)/G,(I-A)/G)):T>D?(G=2*Math.sqrt(1+T-w-D),this.set((C+S)/G,.25*G,(A+I)/G,(_-M)/G)):(G=2*Math.sqrt(1+D-w-T),this.set((_+M)/G,(A+I)/G,.25*G,(S-C)/G)),this},fromMat3:function(x){var b=x.val,w=b[0]+b[4]+b[8],C;if(w>0)C=Math.sqrt(w+1),this.w=.5*C,C=.5/C,this._x=(b[7]-b[5])*C,this._y=(b[2]-b[6])*C,this._z=(b[3]-b[1])*C;else{var _=0;b[4]>b[0]&&(_=1),b[8]>b[_*3+_]&&(_=2);var S=d[_],T=d[S];C=Math.sqrt(b[_*3+_]-b[S*3+S]-b[T*3+T]+1),f[_]=.5*C,C=.5/C,f[S]=(b[S*3+_]+b[_*3+S])*C,f[T]=(b[T*3+_]+b[_*3+T])*C,this._x=f[0],this._y=f[1],this._z=f[2],this._w=(b[T*3+S]-b[S*3+T])*C}return this.onChangeCallback(this),this}});n.exports=y},43396:(n,a,s)=>{var o=s(36383),u=function(l){return l*o.RAD_TO_DEG};n.exports=u},74362:n=>{var a=function(s,o){o===void 0&&(o=1);var u=Math.random()*2*Math.PI;return s.x=Math.cos(u)*o,s.y=Math.sin(u)*o,s};n.exports=a},60706:n=>{var a=function(s,o){o===void 0&&(o=1);var u=Math.random()*2*Math.PI,l=Math.random()*2-1,c=Math.sqrt(1-l*l)*o;return s.x=Math.cos(u)*c,s.y=Math.sin(u)*c,s.z=l*o,s};n.exports=a},67421:n=>{var a=function(s,o){return o===void 0&&(o=1),s.x=(Math.random()*2-1)*o,s.y=(Math.random()*2-1)*o,s.z=(Math.random()*2-1)*o,s.w=(Math.random()*2-1)*o,s};n.exports=a},36305:n=>{var a=function(s,o){var u=s.x,l=s.y;return s.x=u*Math.cos(o)-l*Math.sin(o),s.y=u*Math.sin(o)+l*Math.cos(o),s};n.exports=a},11520:n=>{var a=function(s,o,u,l){var c=Math.cos(l),h=Math.sin(l),d=s.x-o,f=s.y-u;return s.x=d*c-f*h+o,s.y=d*h+f*c+u,s};n.exports=a},1163:n=>{var a=function(s,o,u,l,c){var h=l+Math.atan2(s.y-u,s.x-o);return s.x=o+c*Math.cos(h),s.y=u+c*Math.sin(h),s};n.exports=a},70336:n=>{var a=function(s,o,u,l,c){return s.x=o+c*Math.cos(l),s.y=u+c*Math.sin(l),s};n.exports=a},72678:(n,a,s)=>{var o=s(25836),u=s(37867),l=s(15746),c=new u,h=new l,d=new o,f=function(m,p,g){return h.setAxisAngle(p,g),c.fromRotationTranslation(h,d.set(0,0,0)),m.transformMat4(c)};n.exports=f},2284:n=>{var a=function(s){return s>0?Math.ceil(s):Math.floor(s)};n.exports=a},41013:n=>{var a=function(s,o,u){o===void 0&&(o=0),u===void 0&&(u=10);var l=Math.pow(u,-o);return Math.round(s*l)/l};n.exports=a},16922:n=>{var a=function(s,o,u,l){o===void 0&&(o=1),u===void 0&&(u=1),l===void 0&&(l=1),l*=Math.PI/s;for(var c=[],h=[],d=0;d<s;d++)u-=o*l,o+=u*l,c[d]=u,h[d]=o;return{sin:h,cos:c,length:s}};n.exports=a},7602:n=>{var a=function(s,o,u){return s<=o?0:s>=u?1:(s=(s-o)/(u-o),s*s*(3-2*s))};n.exports=a},54261:n=>{var a=function(s,o,u){return s=Math.max(0,Math.min(1,(s-o)/(u-o))),s*s*s*(s*(s*6-15)+10)};n.exports=a},44408:(n,a,s)=>{var o=s(26099),u=function(l,c,h,d){d===void 0&&(d=new o);var f=0,m=0,p=c*h;return l>0&&l<=p&&(l>c-1?(m=Math.floor(l/c),f=l-m*c):f=l),d.set(f,m)};n.exports=u},85955:(n,a,s)=>{var o=s(26099),u=function(l,c,h,d,f,m,p,g){g===void 0&&(g=new o);var v=Math.sin(f),y=Math.cos(f),x=y*m,b=v*m,w=-v*p,C=y*p,_=1/(x*C+w*-b);return g.x=C*_*l+-w*_*c+(d*w-h*C)*_,g.y=x*_*c+-b*_*l+(-d*x+h*b)*_,g};n.exports=u},26099:(n,a,s)=>{var o=s(83419),u=s(43855),l=new o({initialize:function(h,d){this.x=0,this.y=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0):(d===void 0&&(d=h),this.x=h||0,this.y=d||0)},clone:function(){return new l(this.x,this.y)},copy:function(c){return this.x=c.x||0,this.y=c.y||0,this},setFromObject:function(c){return this.x=c.x||0,this.y=c.y||0,this},set:function(c,h){return h===void 0&&(h=c),this.x=c,this.y=h,this},setTo:function(c,h){return this.set(c,h)},setToPolar:function(c,h){return h==null&&(h=1),this.x=Math.cos(c)*h,this.y=Math.sin(c)*h,this},equals:function(c){return this.x===c.x&&this.y===c.y},fuzzyEquals:function(c,h){return u(this.x,c.x,h)&&u(this.y,c.y,h)},angle:function(){var c=Math.atan2(this.y,this.x);return c<0&&(c+=2*Math.PI),c},setAngle:function(c){return this.setToPolar(c,this.length())},add:function(c){return this.x+=c.x,this.y+=c.y,this},subtract:function(c){return this.x-=c.x,this.y-=c.y,this},multiply:function(c){return this.x*=c.x,this.y*=c.y,this},scale:function(c){return isFinite(c)?(this.x*=c,this.y*=c):(this.x=0,this.y=0),this},divide:function(c){return this.x/=c.x,this.y/=c.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(c){var h=c.x-this.x,d=c.y-this.y;return Math.sqrt(h*h+d*d)},distanceSq:function(c){var h=c.x-this.x,d=c.y-this.y;return h*h+d*d},length:function(){var c=this.x,h=this.y;return Math.sqrt(c*c+h*h)},setLength:function(c){return this.normalize().scale(c)},lengthSq:function(){var c=this.x,h=this.y;return c*c+h*h},normalize:function(){var c=this.x,h=this.y,d=c*c+h*h;return d>0&&(d=1/Math.sqrt(d),this.x=c*d,this.y=h*d),this},normalizeRightHand:function(){var c=this.x;return this.x=this.y*-1,this.y=c,this},normalizeLeftHand:function(){var c=this.x;return this.x=this.y,this.y=c*-1,this},dot:function(c){return this.x*c.x+this.y*c.y},cross:function(c){return this.x*c.y-this.y*c.x},lerp:function(c,h){h===void 0&&(h=0);var d=this.x,f=this.y;return this.x=d+h*(c.x-d),this.y=f+h*(c.y-f),this},transformMat3:function(c){var h=this.x,d=this.y,f=c.val;return this.x=f[0]*h+f[3]*d+f[6],this.y=f[1]*h+f[4]*d+f[7],this},transformMat4:function(c){var h=this.x,d=this.y,f=c.val;return this.x=f[0]*h+f[4]*d+f[12],this.y=f[1]*h+f[5]*d+f[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(c){var h=this.length();return h&&h>c&&this.scale(c/h),this},reflect:function(c){return c=c.clone().normalize(),this.subtract(c.scale(2*this.dot(c)))},mirror:function(c){return this.reflect(c).negate()},rotate:function(c){var h=Math.cos(c),d=Math.sin(c);return this.set(h*this.x-d*this.y,d*this.x+h*this.y)},project:function(c){var h=this.dot(c)/c.dot(c);return this.copy(c).scale(h)}});l.ZERO=new l,l.RIGHT=new l(1,0),l.LEFT=new l(-1,0),l.UP=new l(0,-1),l.DOWN=new l(0,1),l.ONE=new l(1,1),n.exports=l},25836:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h,d){this.x=0,this.y=0,this.z=0,typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0):(this.x=c||0,this.y=h||0,this.z=d||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this},max:function(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this},clone:function(){return new u(this.x,this.y,this.z)},addVectors:function(l,c){return this.x=l.x+c.x,this.y=l.y+c.y,this.z=l.z+c.z,this},subVectors:function(l,c){return this.x=l.x-c.x,this.y=l.y-c.y,this.z=l.z-c.z,this},crossVectors:function(l,c){var h=l.x,d=l.y,f=l.z,m=c.x,p=c.y,g=c.z;return this.x=d*g-f*p,this.y=f*m-h*g,this.z=h*p-d*m,this},equals:function(l){return this.x===l.x&&this.y===l.y&&this.z===l.z},copy:function(l){return this.x=l.x,this.y=l.y,this.z=l.z||0,this},set:function(l,c,h){return typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=c||0,this.z=h||0),this},setFromMatrixPosition:function(l){return this.fromArray(l.val,12)},setFromMatrixColumn:function(l,c){return this.fromArray(l.val,c*4)},fromArray:function(l,c){return c===void 0&&(c=0),this.x=l[c],this.y=l[c+1],this.z=l[c+2],this},add:function(l){return this.x+=l.x,this.y+=l.y,this.z+=l.z||0,this},addScalar:function(l){return this.x+=l,this.y+=l,this.z+=l,this},addScale:function(l,c){return this.x+=l.x*c,this.y+=l.y*c,this.z+=l.z*c||0,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this.z-=l.z||0,this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z||1,this},scale:function(l){return isFinite(l)?(this.x*=l,this.y*=l,this.z*=l):(this.x=0,this.y=0,this.z=0),this},divide:function(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(l){var c=l.x-this.x,h=l.y-this.y,d=l.z-this.z||0;return Math.sqrt(c*c+h*h+d*d)},distanceSq:function(l){var c=l.x-this.x,h=l.y-this.y,d=l.z-this.z||0;return c*c+h*h+d*d},length:function(){var l=this.x,c=this.y,h=this.z;return Math.sqrt(l*l+c*c+h*h)},lengthSq:function(){var l=this.x,c=this.y,h=this.z;return l*l+c*c+h*h},normalize:function(){var l=this.x,c=this.y,h=this.z,d=l*l+c*c+h*h;return d>0&&(d=1/Math.sqrt(d),this.x=l*d,this.y=c*d,this.z=h*d),this},dot:function(l){return this.x*l.x+this.y*l.y+this.z*l.z},cross:function(l){var c=this.x,h=this.y,d=this.z,f=l.x,m=l.y,p=l.z;return this.x=h*p-d*m,this.y=d*f-c*p,this.z=c*m-h*f,this},lerp:function(l,c){c===void 0&&(c=0);var h=this.x,d=this.y,f=this.z;return this.x=h+c*(l.x-h),this.y=d+c*(l.y-d),this.z=f+c*(l.z-f),this},applyMatrix3:function(l){var c=this.x,h=this.y,d=this.z,f=l.val;return this.x=f[0]*c+f[3]*h+f[6]*d,this.y=f[1]*c+f[4]*h+f[7]*d,this.z=f[2]*c+f[5]*h+f[8]*d,this},applyMatrix4:function(l){var c=this.x,h=this.y,d=this.z,f=l.val,m=1/(f[3]*c+f[7]*h+f[11]*d+f[15]);return this.x=(f[0]*c+f[4]*h+f[8]*d+f[12])*m,this.y=(f[1]*c+f[5]*h+f[9]*d+f[13])*m,this.z=(f[2]*c+f[6]*h+f[10]*d+f[14])*m,this},transformMat3:function(l){var c=this.x,h=this.y,d=this.z,f=l.val;return this.x=c*f[0]+h*f[3]+d*f[6],this.y=c*f[1]+h*f[4]+d*f[7],this.z=c*f[2]+h*f[5]+d*f[8],this},transformMat4:function(l){var c=this.x,h=this.y,d=this.z,f=l.val;return this.x=f[0]*c+f[4]*h+f[8]*d+f[12],this.y=f[1]*c+f[5]*h+f[9]*d+f[13],this.z=f[2]*c+f[6]*h+f[10]*d+f[14],this},transformCoordinates:function(l){var c=this.x,h=this.y,d=this.z,f=l.val,m=c*f[0]+h*f[4]+d*f[8]+f[12],p=c*f[1]+h*f[5]+d*f[9]+f[13],g=c*f[2]+h*f[6]+d*f[10]+f[14],v=c*f[3]+h*f[7]+d*f[11]+f[15];return this.x=m/v,this.y=p/v,this.z=g/v,this},transformQuat:function(l){var c=this.x,h=this.y,d=this.z,f=l.x,m=l.y,p=l.z,g=l.w,v=g*c+m*d-p*h,y=g*h+p*c-f*d,x=g*d+f*h-m*c,b=-f*c-m*h-p*d;return this.x=v*g+b*-f+y*-p-x*-m,this.y=y*g+b*-m+x*-f-v*-p,this.z=x*g+b*-p+v*-m-y*-f,this},project:function(l){var c=this.x,h=this.y,d=this.z,f=l.val,m=f[0],p=f[1],g=f[2],v=f[3],y=f[4],x=f[5],b=f[6],w=f[7],C=f[8],_=f[9],S=f[10],T=f[11],A=f[12],M=f[13],I=f[14],D=f[15],k=1/(c*v+h*w+d*T+D);return this.x=(c*m+h*y+d*C+A)*k,this.y=(c*p+h*x+d*_+M)*k,this.z=(c*g+h*b+d*S+I)*k,this},projectViewMatrix:function(l,c){return this.applyMatrix4(l).applyMatrix4(c)},unprojectViewMatrix:function(l,c){return this.applyMatrix4(l).applyMatrix4(c)},unproject:function(l,c){var h=l.x,d=l.y,f=l.z,m=l.w,p=this.x-h,g=m-this.y-1-d,v=this.z;return this.x=2*p/f-1,this.y=2*g/m-1,this.z=2*v-1,this.project(c)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});u.ZERO=new u,u.RIGHT=new u(1,0,0),u.LEFT=new u(-1,0,0),u.UP=new u(0,-1,0),u.DOWN=new u(0,1,0),u.FORWARD=new u(0,0,1),u.BACK=new u(0,0,-1),u.ONE=new u(1,1,1),n.exports=u},61369:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h,d,f){this.x=0,this.y=0,this.z=0,this.w=0,typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0,this.w=c.w||0):(this.x=c||0,this.y=h||0,this.z=d||0,this.w=f||0)},clone:function(){return new u(this.x,this.y,this.z,this.w)},copy:function(l){return this.x=l.x,this.y=l.y,this.z=l.z||0,this.w=l.w||0,this},equals:function(l){return this.x===l.x&&this.y===l.y&&this.z===l.z&&this.w===l.w},set:function(l,c,h,d){return typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=c||0,this.z=h||0,this.w=d||0),this},add:function(l){return this.x+=l.x,this.y+=l.y,this.z+=l.z||0,this.w+=l.w||0,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this.z-=l.z||0,this.w-=l.w||0,this},scale:function(l){return this.x*=l,this.y*=l,this.z*=l,this.w*=l,this},length:function(){var l=this.x,c=this.y,h=this.z,d=this.w;return Math.sqrt(l*l+c*c+h*h+d*d)},lengthSq:function(){var l=this.x,c=this.y,h=this.z,d=this.w;return l*l+c*c+h*h+d*d},normalize:function(){var l=this.x,c=this.y,h=this.z,d=this.w,f=l*l+c*c+h*h+d*d;return f>0&&(f=1/Math.sqrt(f),this.x=l*f,this.y=c*f,this.z=h*f,this.w=d*f),this},dot:function(l){return this.x*l.x+this.y*l.y+this.z*l.z+this.w*l.w},lerp:function(l,c){c===void 0&&(c=0);var h=this.x,d=this.y,f=this.z,m=this.w;return this.x=h+c*(l.x-h),this.y=d+c*(l.y-d),this.z=f+c*(l.z-f),this.w=m+c*(l.w-m),this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z||1,this.w*=l.w||1,this},divide:function(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z||1,this.w/=l.w||1,this},distance:function(l){var c=l.x-this.x,h=l.y-this.y,d=l.z-this.z||0,f=l.w-this.w||0;return Math.sqrt(c*c+h*h+d*d+f*f)},distanceSq:function(l){var c=l.x-this.x,h=l.y-this.y,d=l.z-this.z||0,f=l.w-this.w||0;return c*c+h*h+d*d+f*f},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(l){var c=this.x,h=this.y,d=this.z,f=this.w,m=l.val;return this.x=m[0]*c+m[4]*h+m[8]*d+m[12]*f,this.y=m[1]*c+m[5]*h+m[9]*d+m[13]*f,this.z=m[2]*c+m[6]*h+m[10]*d+m[14]*f,this.w=m[3]*c+m[7]*h+m[11]*d+m[15]*f,this},transformQuat:function(l){var c=this.x,h=this.y,d=this.z,f=l.x,m=l.y,p=l.z,g=l.w,v=g*c+m*d-p*h,y=g*h+p*c-f*d,x=g*d+f*h-m*c,b=-f*c-m*h-p*d;return this.x=v*g+b*-f+y*-p-x*-m,this.y=y*g+b*-m+x*-f-v*-p,this.z=x*g+b*-p+v*-m-y*-f,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});u.prototype.sub=u.prototype.subtract,u.prototype.mul=u.prototype.multiply,u.prototype.div=u.prototype.divide,u.prototype.dist=u.prototype.distance,u.prototype.distSq=u.prototype.distanceSq,u.prototype.len=u.prototype.length,u.prototype.lenSq=u.prototype.lengthSq,n.exports=u},60417:n=>{var a=function(s,o,u){return Math.abs(s-o)<=u};n.exports=a},15994:n=>{var a=function(s,o,u){var l=u-o;return o+((s-o)%l+l)%l};n.exports=a},31040:n=>{var a=function(s,o,u,l){return Math.atan2(l-o,u-s)};n.exports=a},55495:n=>{var a=function(s,o){return Math.atan2(o.y-s.y,o.x-s.x)};n.exports=a},128:n=>{var a=function(s,o){return Math.atan2(o.x-s.x,o.y-s.y)};n.exports=a},41273:n=>{var a=function(s,o,u,l){return Math.atan2(u-s,l-o)};n.exports=a},1432:(n,a,s)=>{var o=s(36383),u=function(l){return l>Math.PI&&(l-=o.PI2),Math.abs(((l+o.TAU)%o.PI2-o.PI2)%o.PI2)};n.exports=u},12407:n=>{var a=function(s){return s=s%(2*Math.PI),s>=0?s:s+2*Math.PI};n.exports=a},53993:(n,a,s)=>{var o=s(99472),u=function(){return o(-Math.PI,Math.PI)};n.exports=u},86564:(n,a,s)=>{var o=s(99472),u=function(){return o(-180,180)};n.exports=u},90154:(n,a,s)=>{var o=s(12407),u=function(l){return o(l+Math.PI)};n.exports=u},48736:(n,a,s)=>{var o=s(36383),u=function(l,c,h){return h===void 0&&(h=.05),l===c||(Math.abs(c-l)<=h||Math.abs(c-l)>=o.PI2-h?l=c:(Math.abs(c-l)>Math.PI&&(c<l?c+=o.PI2:c-=o.PI2),c>l?l+=h:c<l&&(l-=h))),l};n.exports=u},61430:n=>{var a=function(s,o){var u=o-s;if(u===0)return 0;var l=Math.floor((u- -180)/360);return u-l*360};n.exports=a},86554:(n,a,s)=>{var o=s(15994),u=function(l){return o(l,-Math.PI,Math.PI)};n.exports=u},30954:(n,a,s)=>{var o=s(15994),u=function(l){return o(l,-180,180)};n.exports=u},25588:(n,a,s)=>{n.exports={Between:s(31040),BetweenPoints:s(55495),BetweenPointsY:s(128),BetweenY:s(41273),CounterClockwise:s(1432),Normalize:s(12407),Random:s(53993),RandomDegrees:s(86564),Reverse:s(90154),RotateTo:s(48736),ShortestBetween:s(61430),Wrap:s(86554),WrapDegrees:s(30954)}},36383:n=>{var a={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};n.exports=a},20339:n=>{var a=function(s,o,u,l){var c=s-u,h=o-l;return Math.sqrt(c*c+h*h)};n.exports=a},52816:n=>{var a=function(s,o){var u=s.x-o.x,l=s.y-o.y;return Math.sqrt(u*u+l*l)};n.exports=a},64559:n=>{var a=function(s,o){var u=s.x-o.x,l=s.y-o.y;return u*u+l*l};n.exports=a},82340:n=>{var a=function(s,o,u,l){return Math.max(Math.abs(s-u),Math.abs(o-l))};n.exports=a},14390:n=>{var a=function(s,o,u,l,c){return c===void 0&&(c=2),Math.sqrt(Math.pow(u-s,c)+Math.pow(l-o,c))};n.exports=a},2243:n=>{var a=function(s,o,u,l){return Math.abs(s-u)+Math.abs(o-l)};n.exports=a},89774:n=>{var a=function(s,o,u,l){var c=s-u,h=o-l;return c*c+h*h};n.exports=a},50994:(n,a,s)=>{n.exports={Between:s(20339),BetweenPoints:s(52816),BetweenPointsSquared:s(64559),Chebyshev:s(82340),Power:s(14390),Snake:s(2243),Squared:s(89774)}},62640:(n,a,s)=>{var o=s(54178),u=s(41521),l=s(79980),c=s(85433),h=s(99140),d=s(48857),f=s(81596),m=s(59133),p=s(98516),g=s(35248),v=s(82500),y=s(49752);n.exports={Power0:f,Power1:m.Out,Power2:c.Out,Power3:p.Out,Power4:g.Out,Linear:f,Quad:m.Out,Cubic:c.Out,Quart:p.Out,Quint:g.Out,Sine:v.Out,Expo:d.Out,Circ:l.Out,Elastic:h.Out,Back:o.Out,Bounce:u.Out,Stepped:y,"Quad.easeIn":m.In,"Cubic.easeIn":c.In,"Quart.easeIn":p.In,"Quint.easeIn":g.In,"Sine.easeIn":v.In,"Expo.easeIn":d.In,"Circ.easeIn":l.In,"Elastic.easeIn":h.In,"Back.easeIn":o.In,"Bounce.easeIn":u.In,"Quad.easeOut":m.Out,"Cubic.easeOut":c.Out,"Quart.easeOut":p.Out,"Quint.easeOut":g.Out,"Sine.easeOut":v.Out,"Expo.easeOut":d.Out,"Circ.easeOut":l.Out,"Elastic.easeOut":h.Out,"Back.easeOut":o.Out,"Bounce.easeOut":u.Out,"Quad.easeInOut":m.InOut,"Cubic.easeInOut":c.InOut,"Quart.easeInOut":p.InOut,"Quint.easeInOut":g.InOut,"Sine.easeInOut":v.InOut,"Expo.easeInOut":d.InOut,"Circ.easeInOut":l.InOut,"Elastic.easeInOut":h.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":u.InOut}},1639:n=>{var a=function(s,o){return o===void 0&&(o=1.70158),s*s*((o+1)*s-o)};n.exports=a},50099:n=>{var a=function(s,o){o===void 0&&(o=1.70158);var u=o*1.525;return(s*=2)<1?.5*(s*s*((u+1)*s-u)):.5*((s-=2)*s*((u+1)*s+u)+2)};n.exports=a},41286:n=>{var a=function(s,o){return o===void 0&&(o=1.70158),--s*s*((o+1)*s+o)+1};n.exports=a},54178:(n,a,s)=>{n.exports={In:s(1639),Out:s(41286),InOut:s(50099)}},59590:n=>{var a=function(s){return s=1-s,s<.36363636363636365?1-7.5625*s*s:s<.7272727272727273?1-(7.5625*(s-=.5454545454545454)*s+.75):s<.9090909090909091?1-(7.5625*(s-=.8181818181818182)*s+.9375):1-(7.5625*(s-=.9545454545454546)*s+.984375)};n.exports=a},41788:n=>{var a=function(s){var o=!1;return s<.5?(s=1-s*2,o=!0):s=s*2-1,s<.36363636363636365?s=7.5625*s*s:s<.7272727272727273?s=7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?s=7.5625*(s-=.8181818181818182)*s+.9375:s=7.5625*(s-=.9545454545454546)*s+.984375,o?(1-s)*.5:s*.5+.5};n.exports=a},69905:n=>{var a=function(s){return s<.36363636363636365?7.5625*s*s:s<.7272727272727273?7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?7.5625*(s-=.8181818181818182)*s+.9375:7.5625*(s-=.9545454545454546)*s+.984375};n.exports=a},41521:(n,a,s)=>{n.exports={In:s(59590),Out:s(69905),InOut:s(41788)}},91861:n=>{var a=function(s){return 1-Math.sqrt(1-s*s)};n.exports=a},4177:n=>{var a=function(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)};n.exports=a},57512:n=>{var a=function(s){return Math.sqrt(1- --s*s)};n.exports=a},79980:(n,a,s)=>{n.exports={In:s(91861),Out:s(57512),InOut:s(4177)}},51150:n=>{var a=function(s){return s*s*s};n.exports=a},82820:n=>{var a=function(s){return(s*=2)<1?.5*s*s*s:.5*((s-=2)*s*s+2)};n.exports=a},35033:n=>{var a=function(s){return--s*s*s+1};n.exports=a},85433:(n,a,s)=>{n.exports={In:s(51150),Out:s(35033),InOut:s(82820)}},69965:n=>{var a=function(s,o,u){if(o===void 0&&(o=.1),u===void 0&&(u=.1),s===0)return 0;if(s===1)return 1;var l=u/4;return o<1?o=1:l=u*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(s-=1))*Math.sin((s-l)*(2*Math.PI)/u))};n.exports=a},50665:n=>{var a=function(s,o,u){if(o===void 0&&(o=.1),u===void 0&&(u=.1),s===0)return 0;if(s===1)return 1;var l=u/4;return o<1?o=1:l=u*Math.asin(1/o)/(2*Math.PI),(s*=2)<1?-.5*(o*Math.pow(2,10*(s-=1))*Math.sin((s-l)*(2*Math.PI)/u)):o*Math.pow(2,-10*(s-=1))*Math.sin((s-l)*(2*Math.PI)/u)*.5+1};n.exports=a},7744:n=>{var a=function(s,o,u){if(o===void 0&&(o=.1),u===void 0&&(u=.1),s===0)return 0;if(s===1)return 1;var l=u/4;return o<1?o=1:l=u*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*s)*Math.sin((s-l)*(2*Math.PI)/u)+1};n.exports=a},99140:(n,a,s)=>{n.exports={In:s(69965),Out:s(7744),InOut:s(50665)}},24590:n=>{var a=function(s){return Math.pow(2,10*(s-1))-.001};n.exports=a},87844:n=>{var a=function(s){return(s*=2)<1?.5*Math.pow(2,10*(s-1)):.5*(2-Math.pow(2,-10*(s-1)))};n.exports=a},89433:n=>{var a=function(s){return 1-Math.pow(2,-10*s)};n.exports=a},48857:(n,a,s)=>{n.exports={In:s(24590),Out:s(89433),InOut:s(87844)}},48820:(n,a,s)=>{n.exports={Back:s(54178),Bounce:s(41521),Circular:s(79980),Cubic:s(85433),Elastic:s(99140),Expo:s(48857),Linear:s(81596),Quadratic:s(59133),Quartic:s(98516),Quintic:s(35248),Sine:s(82500),Stepped:s(49752)}},7147:n=>{var a=function(s){return s};n.exports=a},81596:(n,a,s)=>{n.exports=s(7147)},34826:n=>{var a=function(s){return s*s};n.exports=a},20544:n=>{var a=function(s){return(s*=2)<1?.5*s*s:-.5*(--s*(s-2)-1)};n.exports=a},92029:n=>{var a=function(s){return s*(2-s)};n.exports=a},59133:(n,a,s)=>{n.exports={In:s(34826),Out:s(92029),InOut:s(20544)}},64413:n=>{var a=function(s){return s*s*s*s};n.exports=a},78137:n=>{var a=function(s){return(s*=2)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2)};n.exports=a},45840:n=>{var a=function(s){return 1- --s*s*s*s};n.exports=a},98516:(n,a,s)=>{n.exports={In:s(64413),Out:s(45840),InOut:s(78137)}},87745:n=>{var a=function(s){return s*s*s*s*s};n.exports=a},16509:n=>{var a=function(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)};n.exports=a},17868:n=>{var a=function(s){return--s*s*s*s*s+1};n.exports=a},35248:(n,a,s)=>{n.exports={In:s(87745),Out:s(17868),InOut:s(16509)}},80461:n=>{var a=function(s){return s===0?0:s===1?1:1-Math.cos(s*Math.PI/2)};n.exports=a},34025:n=>{var a=function(s){return s===0?0:s===1?1:.5*(1-Math.cos(Math.PI*s))};n.exports=a},52768:n=>{var a=function(s){return s===0?0:s===1?1:Math.sin(s*Math.PI/2)};n.exports=a},82500:(n,a,s)=>{n.exports={In:s(80461),Out:s(52768),InOut:s(34025)}},72251:n=>{var a=function(s,o){return o===void 0&&(o=1),s<=0?0:s>=1?1:((o*s|0)+1)*(1/o)};n.exports=a},49752:(n,a,s)=>{n.exports=s(72251)},75698:n=>{var a=function(s,o){return o===void 0&&(o=1e-4),Math.ceil(s-o)};n.exports=a},43855:n=>{var a=function(s,o,u){return u===void 0&&(u=1e-4),Math.abs(s-o)<u};n.exports=a},25777:n=>{var a=function(s,o){return o===void 0&&(o=1e-4),Math.floor(s+o)};n.exports=a},5470:n=>{var a=function(s,o,u){return u===void 0&&(u=1e-4),s>o-u};n.exports=a},94977:n=>{var a=function(s,o,u){return u===void 0&&(u=1e-4),s<o+u};n.exports=a},48379:(n,a,s)=>{n.exports={Ceil:s(75698),Equal:s(43855),Floor:s(25777),GreaterThan:s(5470),LessThan:s(94977)}},75508:(n,a,s)=>{var o=s(36383),u=s(79291),l={Angle:s(25588),Distance:s(50994),Easing:s(48820),Fuzzy:s(48379),Interpolation:s(38289),Pow2:s(49001),Snap:s(73697),RandomDataGenerator:s(28453),Average:s(53307),Bernstein:s(85710),Between:s(30976),CatmullRom:s(87842),CeilTo:s(26302),Clamp:s(45319),DegToRad:s(39506),Difference:s(61241),Euler:s(38857),Factorial:s(6411),FloatBetween:s(99472),FloorTo:s(77623),FromPercent:s(62945),GetSpeed:s(38265),IsEven:s(78702),IsEvenStrict:s(94883),Linear:s(28915),LinearXY:s(94908),MaxAdd:s(86883),Median:s(50040),MinSub:s(37204),Percent:s(65201),RadToDeg:s(43396),RandomXY:s(74362),RandomXYZ:s(60706),RandomXYZW:s(67421),Rotate:s(36305),RotateAround:s(11520),RotateAroundDistance:s(1163),RotateTo:s(70336),RoundAwayFromZero:s(2284),RoundTo:s(41013),SinCosTableGenerator:s(16922),SmootherStep:s(54261),SmoothStep:s(7602),ToXY:s(44408),TransformXY:s(85955),Within:s(60417),Wrap:s(15994),Vector2:s(26099),Vector3:s(25836),Vector4:s(61369),Matrix3:s(94434),Matrix4:s(37867),Quaternion:s(15746),RotateVec3:s(72678)};l=u(!1,l,o),n.exports=l},89318:(n,a,s)=>{var o=s(85710),u=function(l,c){for(var h=0,d=l.length-1,f=0;f<=d;f++)h+=Math.pow(1-c,d-f)*Math.pow(c,f)*l[f]*o(d,f);return h};n.exports=u},77259:(n,a,s)=>{var o=s(87842),u=function(l,c){var h=l.length-1,d=h*c,f=Math.floor(d);return l[0]===l[h]?(c<0&&(f=Math.floor(d=h*(1+c))),o(d-f,l[(f-1+h)%h],l[f],l[(f+1)%h],l[(f+2)%h])):c<0?l[0]-(o(-d,l[0],l[0],l[1],l[1])-l[0]):c>1?l[h]-(o(d-h,l[h],l[h],l[h-1],l[h-1])-l[h]):o(d-f,l[f?f-1:0],l[f],l[h<f+1?h:f+1],l[h<f+2?h:f+2])};n.exports=u},36316:n=>{function a(c,h){var d=1-c;return d*d*d*h}function s(c,h){var d=1-c;return 3*d*d*c*h}function o(c,h){return 3*(1-c)*c*c*h}function u(c,h){return c*c*c*h}var l=function(c,h,d,f,m){return a(c,h)+s(c,d)+o(c,f)+u(c,m)};n.exports=l},28392:(n,a,s)=>{var o=s(28915),u=function(l,c){var h=l.length-1,d=h*c,f=Math.floor(d);return c<0?o(l[0],l[1],d):c>1?o(l[h],l[h-1],h-d):o(l[f],l[f+1>h?h:f+1],d-f)};n.exports=u},32112:n=>{function a(l,c){var h=1-l;return h*h*c}function s(l,c){return 2*(1-l)*l*c}function o(l,c){return l*l*c}var u=function(l,c,h,d){return a(l,c)+s(l,h)+o(l,d)};n.exports=u},47235:(n,a,s)=>{var o=s(7602),u=function(l,c,h){return c+(h-c)*o(l,0,1)};n.exports=u},50178:(n,a,s)=>{var o=s(54261),u=function(l,c,h){return c+(h-c)*o(l,0,1)};n.exports=u},38289:(n,a,s)=>{n.exports={Bezier:s(89318),CatmullRom:s(77259),CubicBezier:s(36316),Linear:s(28392),QuadraticBezier:s(32112),SmoothStep:s(47235),SmootherStep:s(50178)}},98439:n=>{var a=function(s){var o=Math.log(s)/.6931471805599453;return 1<<Math.ceil(o)};n.exports=a},50030:n=>{var a=function(s,o){return s>0&&(s&s-1)===0&&o>0&&(o&o-1)===0};n.exports=a},81230:n=>{var a=function(s){return s>0&&(s&s-1)===0};n.exports=a},49001:(n,a,s)=>{n.exports={GetNext:s(98439),IsSize:s(50030),IsValue:s(81230)}},28453:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c){c===void 0&&(c=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],c&&this.init(c)},rnd:function(){var l=2091639*this.s0+this.c*23283064365386963e-26;return this.c=l|0,this.s0=this.s1,this.s1=this.s2,this.s2=l-this.c,this.s2},hash:function(l){var c,h=this.n;l=l.toString();for(var d=0;d<l.length;d++)h+=l.charCodeAt(d),c=.02519603282416938*h,h=c>>>0,c-=h,c*=h,h=c>>>0,c-=h,h+=c*4294967296;return this.n=h,(h>>>0)*23283064365386963e-26},init:function(l){typeof l=="string"?this.state(l):this.sow(l)},sow:function(l){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!l)for(var c=0;c<l.length&&l[c]!=null;c++){var h=l[c];this.s0-=this.hash(h),this.s0+=~~(this.s0<0),this.s1-=this.hash(h),this.s1+=~~(this.s1<0),this.s2-=this.hash(h),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(l,c){return Math.floor(this.realInRange(0,c-l+1)+l)},between:function(l,c){return Math.floor(this.realInRange(0,c-l+1)+l)},realInRange:function(l,c){return this.frac()*(c-l)+l},normal:function(){return 1-2*this.frac()},uuid:function(){var l="",c="";for(c=l="";l++<36;c+=~l%5|l*3&4?(l^15?8^this.frac()*(l^20?16:4):4).toString(16):"-");return c},pick:function(l){return l[this.integerInRange(0,l.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(l){return l[~~(Math.pow(this.frac(),2)*(l.length-.5)+.5)]},timestamp:function(l,c){return this.realInRange(l||9466848e5,c||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(l){return typeof l=="string"&&l.match(/^!rnd/)&&(l=l.split(","),this.c=parseFloat(l[1]),this.s0=parseFloat(l[2]),this.s1=parseFloat(l[3]),this.s2=parseFloat(l[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(l){for(var c=l.length-1,h=c;h>0;h--){var d=Math.floor(this.frac()*(h+1)),f=l[d];l[d]=l[h],l[h]=f}return l}});n.exports=u},63448:n=>{var a=function(s,o,u,l){return u===void 0&&(u=0),o===0?s:(s-=u,s=o*Math.ceil(s/o),l?(u+s)/o:u+s)};n.exports=a},56583:n=>{var a=function(s,o,u,l){return u===void 0&&(u=0),o===0?s:(s-=u,s=o*Math.floor(s/o),l?(u+s)/o:u+s)};n.exports=a},77720:n=>{var a=function(s,o,u,l){return u===void 0&&(u=0),o===0?s:(s-=u,s=o*Math.round(s/o),l?(u+s)/o:u+s)};n.exports=a},73697:(n,a,s)=>{n.exports={Ceil:s(63448),Floor:s(56583),To:s(77720)}},85454:(n,a,s)=>{s(63595);var o=s(8054),u=s(79291),l={Actions:s(61061),Animations:s(60421),BlendModes:s(10312),Cache:s(83388),Cameras:s(26638),Core:s(42857),Class:s(83419),Create:s(15822),Curves:s(25410),Data:s(44965),Display:s(27460),DOM:s(84902),Events:s(93055),FX:s(66064),Game:s(50127),GameObjects:s(77856),Geom:s(55738),Input:s(14350),Loader:s(57777),Math:s(75508),Physics:s(44563),Plugins:s(18922),Renderer:s(36909),Scale:s(93364),ScaleModes:s(29795),Scene:s(97482),Scenes:s(62194),Structs:s(41392),Textures:s(27458),Tilemaps:s(62501),Time:s(90291),Tweens:s(43066),Utils:s(91799)};l.Sound=s(23717),l=u(!1,l,o),n.exports=l,s.g.Phaser=l},71289:(n,a,s)=>{var o=s(83419),u=s(92209),l=s(88571),c=new o({Extends:l,Mixins:[u.Acceleration,u.Angular,u.Bounce,u.Collision,u.Debug,u.Drag,u.Enable,u.Friction,u.Gravity,u.Immovable,u.Mass,u.Pushable,u.Size,u.Velocity],initialize:function(d,f,m,p,g){l.call(this,d,f,m,p,g),this.body=null}});n.exports=c},86689:(n,a,s)=>{var o=s(83419),u=s(39506),l=s(20339),c=s(89774),h=s(66022),d=s(95540),f=s(46975),m=s(72441),p=s(47956),g=s(37277),v=s(44594),y=s(26099),x=s(82248),b=new o({initialize:function(C){this.scene=C,this.systems=C.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,C.sys.events.once(v.BOOT,this.boot,this),C.sys.events.on(v.START,this.start,this)},boot:function(){this.world=new x(this.scene,this.config),this.add=new h(this.world),this.systems.events.once(v.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new x(this.scene,this.config),this.add=new h(this.world));var w=this.systems.events;d(this.config,"customUpdate",!1)||w.on(v.UPDATE,this.world.update,this.world),w.on(v.POST_UPDATE,this.world.postUpdate,this.world),w.once(v.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(v.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(v.UPDATE,this.world.update,this.world)},getConfig:function(){var w=this.systems.game.config.physics,C=this.systems.settings.physics,_=f(d(C,"arcade",{}),d(w,"arcade",{}));return _},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(w,C,_,S,T){return _===void 0&&(_=null),S===void 0&&(S=null),T===void 0&&(T=_),this.world.collideObjects(w,C,_,S,T,!0)},collide:function(w,C,_,S,T){return _===void 0&&(_=null),S===void 0&&(S=null),T===void 0&&(T=_),this.world.collideObjects(w,C,_,S,T,!1)},collideTiles:function(w,C,_,S,T){return this.world.collideTiles(w,C,_,S,T)},overlapTiles:function(w,C,_,S,T){return this.world.overlapTiles(w,C,_,S,T)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(w,C,_,S,T,A){S===void 0&&(S=60);var M=Math.atan2(_-w.y,C-w.x);return w.body.acceleration.setToPolar(M,S),T!==void 0&&A!==void 0&&w.body.maxVelocity.set(T,A),M},accelerateToObject:function(w,C,_,S,T){return this.accelerateTo(w,C.x,C.y,_,S,T)},closest:function(w,C){C||(C=this.world.bodies.entries);for(var _=Number.MAX_VALUE,S=null,T=w.x,A=w.y,M=C.length,I=0;I<M;I++){var D=C[I],k=D.body||D;if(!(w===D||w===k||w===k.gameObject||w===k.center)){var G=c(T,A,k.center.x,k.center.y);G<_&&(S=D,_=G)}}return S},furthest:function(w,C){C||(C=this.world.bodies.entries);for(var _=-1,S=null,T=w.x,A=w.y,M=C.length,I=0;I<M;I++){var D=C[I],k=D.body||D;if(!(w===D||w===k||w===k.gameObject||w===k.center)){var G=c(T,A,k.center.x,k.center.y);G>_&&(S=D,_=G)}}return S},moveTo:function(w,C,_,S,T){S===void 0&&(S=60),T===void 0&&(T=0);var A=Math.atan2(_-w.y,C-w.x);return T>0&&(S=l(w.x,w.y,C,_)/(T/1e3)),w.body.velocity.setToPolar(A,S),A},moveToObject:function(w,C,_,S){return this.moveTo(w,C.x,C.y,_,S)},velocityFromAngle:function(w,C,_){return C===void 0&&(C=60),_===void 0&&(_=new y),_.setToPolar(u(w),C)},velocityFromRotation:function(w,C,_){return C===void 0&&(C=60),_===void 0&&(_=new y),_.setToPolar(w,C)},overlapRect:function(w,C,_,S,T,A){return p(this.world,w,C,_,S,T,A)},overlapCirc:function(w,C,_,S,T){return m(this.world,w,C,_,S,T)},shutdown:function(){if(this.world){var w=this.systems.events;w.off(v.UPDATE,this.world.update,this.world),w.off(v.POST_UPDATE,this.world.postUpdate,this.world),w.off(v.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(v.START,this.start,this),this.scene=null,this.systems=null}});g.register("ArcadePhysics",b,"arcadePhysics"),n.exports=b},13759:(n,a,s)=>{var o=s(83419),u=s(92209),l=s(68287),c=new o({Extends:l,Mixins:[u.Acceleration,u.Angular,u.Bounce,u.Collision,u.Debug,u.Drag,u.Enable,u.Friction,u.Gravity,u.Immovable,u.Mass,u.Pushable,u.Size,u.Velocity],initialize:function(d,f,m,p,g){l.call(this,d,f,m,p,g),this.body=null}});n.exports=c},37742:(n,a,s)=>{var o=s(83419),u=s(78389),l=s(37747),c=s(63012),h=s(43396),d=s(87841),f=s(37303),m=s(95829),p=s(26099),g=new o({Mixins:[u],initialize:function(y,x){var b=64,w=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},_=x!==void 0;_&&x.displayWidth&&(b=x.displayWidth,w=x.displayHeight),_||(x=C),this.world=y,this.gameObject=_?x:void 0,this.isBody=!0,this.transform={x:x.x,y:x.y,rotation:x.angle,scaleX:x.scaleX,scaleY:x.scaleY,displayOriginX:x.displayOriginX,displayOriginY:x.displayOriginY},this.debugShowBody=y.defaults.debugShowBody,this.debugShowVelocity=y.defaults.debugShowVelocity,this.debugBodyColor=y.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new p,this.position=new p(x.x-x.scaleX*x.displayOriginX,x.y-x.scaleY*x.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=x.angle,this.preRotation=x.angle,this.width=b,this.height=w,this.sourceWidth=b,this.sourceHeight=w,x.frame&&(this.sourceWidth=x.frame.realWidth,this.sourceHeight=x.frame.realHeight),this.halfWidth=Math.abs(b/2),this.halfHeight=Math.abs(w/2),this.center=new p(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new p,this.newVelocity=new p,this.deltaMax=new p,this.acceleration=new p,this.allowDrag=!0,this.drag=new p,this.allowGravity=!0,this.gravity=new p,this.bounce=new p,this.worldBounce=null,this.customBoundsRectangle=y.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new p(1e4,1e4),this.maxSpeed=-1,this.friction=new p(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=l.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new p(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=m(!1),this.touching=m(!0),this.wasTouching=m(!0),this.blocked=m(!0),this.syncBounds=!1,this.physicsType=l.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=x.scaleX,this._sy=x.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new d,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var v=this.gameObject,y=this.transform;if(v.parentContainer){var x=v.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);y.x=x.tx,y.y=x.ty,y.rotation=h(x.rotation),y.scaleX=x.scaleX,y.scaleY=x.scaleY,y.displayOriginX=v.displayOriginX,y.displayOriginY=v.displayOriginY}else y.x=v.x,y.y=v.y,y.rotation=v.angle,y.scaleX=v.scaleX,y.scaleY=v.scaleY,y.displayOriginX=v.displayOriginX,y.displayOriginY=v.displayOriginY;var b=!1;if(this.syncBounds){var w=v.getBounds(this._bounds);this.width=w.width,this.height=w.height,b=!0}else{var C=Math.abs(y.scaleX),_=Math.abs(y.scaleY);(this._sx!==C||this._sy!==_)&&(this.width=this.sourceWidth*C,this.height=this.sourceHeight*_,this._sx=C,this._sy=_,b=!0)}b&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var v=this.transform;this.position.x=v.x+v.scaleX*(this.offset.x-v.displayOriginX),this.position.y=v.y+v.scaleY*(this.offset.y-v.displayOriginY),this.updateCenter()},resetFlags:function(v){v===void 0&&(v=!1);var y=this.wasTouching,x=this.touching,b=this.blocked;v?m(!0,y):(y.none=x.none,y.up=x.up,y.down=x.down,y.left=x.left,y.right=x.right),m(!0,x),m(!0,b),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(v,y){if(v&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var x=this.position;this.prev.x=x.x,this.prev.y=x.y,this.prevFrame.x=x.x,this.prevFrame.y=x.y}v&&this.update(y)},update:function(v){var y=this.prev,x=this.position,b=this.velocity;if(y.set(x.x,x.y),!this.moves){this._dx=x.x-y.x,this._dy=x.y-y.y;return}if(this.directControl){var w=this.autoFrame;b.set((x.x-w.x)/v,(x.y-w.y)/v),this.world.updateMotion(this,v),this._dx=x.x-w.x,this._dy=x.y-w.y}else this.world.updateMotion(this,v),this.newVelocity.set(b.x*v,b.y*v),x.add(this.newVelocity),this._dx=x.x-y.x,this._dy=x.y-y.y;var C=b.x,_=b.y;if(this.updateCenter(),this.angle=Math.atan2(_,C),this.speed=Math.sqrt(C*C+_*_),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var S=this.blocked;this.world.emit(c.WORLD_BOUNDS,this,S.up,S.down,S.left,S.right)}},postUpdate:function(){var v=this.position,y=v.x-this.prevFrame.x,x=v.y-this.prevFrame.y,b=this.gameObject;if(this.moves){var w=this.deltaMax.x,C=this.deltaMax.y;w!==0&&y!==0&&(y<0&&y<-w?y=-w:y>0&&y>w&&(y=w)),C!==0&&x!==0&&(x<0&&x<-C?x=-C:x>0&&x>C&&(x=C)),b&&(b.x+=y,b.y+=x)}y<0?this.facing=l.FACING_LEFT:y>0&&(this.facing=l.FACING_RIGHT),x<0?this.facing=l.FACING_UP:x>0&&(this.facing=l.FACING_DOWN),this.allowRotation&&b&&(b.angle+=this.deltaZ()),this._tx=y,this._ty=x,this.autoFrame.set(v.x,v.y)},setBoundsRectangle:function(v){return this.customBoundsRectangle=v||this.world.bounds,this},checkWorldBounds:function(){var v=this.position,y=this.velocity,x=this.blocked,b=this.customBoundsRectangle,w=this.world.checkCollision,C=this.worldBounce?-this.worldBounce.x:-this.bounce.x,_=this.worldBounce?-this.worldBounce.y:-this.bounce.y,S=!1;return v.x<b.x&&w.left?(v.x=b.x,y.x*=C,x.left=!0,S=!0):this.right>b.right&&w.right&&(v.x=b.right-this.width,y.x*=C,x.right=!0,S=!0),v.y<b.y&&w.up?(v.y=b.y,y.y*=_,x.up=!0,S=!0):this.bottom>b.bottom&&w.down&&(v.y=b.bottom-this.height,y.y*=_,x.down=!0,S=!0),S&&(this.blocked.none=!1,this.updateCenter()),S},setOffset:function(v,y){return y===void 0&&(y=v),this.offset.set(v,y),this},setGameObject:function(v,y){return y===void 0&&(y=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=v,v.body&&(v.body=this),this.setSize(),this.world.add(this),this.enable=y,this},setSize:function(v,y,x){x===void 0&&(x=!0);var b=this.gameObject;if(b&&(!v&&b.frame&&(v=b.frame.realWidth),!y&&b.frame&&(y=b.frame.realHeight)),this.sourceWidth=v,this.sourceHeight=y,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),x&&b&&b.getCenter){var w=(b.width-v)/2,C=(b.height-y)/2;this.offset.set(w,C)}return this.isCircle=!1,this.radius=0,this},setCircle:function(v,y,x){return y===void 0&&(y=this.offset.x),x===void 0&&(x=this.offset.y),v>0?(this.isCircle=!0,this.radius=v,this.sourceWidth=v*2,this.sourceHeight=v*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(y,x),this.updateCenter()):this.isCircle=!1,this},reset:function(v,y){this.stop();var x=this.gameObject;x&&(x.setPosition(v,y),this.rotation=x.angle,this.preRotation=x.angle);var b=this.position;x&&x.getTopLeft?x.getTopLeft(b):b.set(v,y),this.prev.copy(b),this.prevFrame.copy(b),this.autoFrame.copy(b),x&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(v){return v.x=this.x,v.y=this.y,v.right=this.right,v.bottom=this.bottom,v},hitTest:function(v,y){if(!this.isCircle)return f(this,v,y);if(this.radius>0&&v>=this.left&&v<=this.right&&y>=this.top&&y<=this.bottom){var x=(this.center.x-v)*(this.center.x-v),b=(this.center.y-y)*(this.center.y-y);return x+b<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(v){var y=this.position,x=y.x+this.halfWidth,b=y.y+this.halfHeight;this.debugShowBody&&(v.lineStyle(v.defaultStrokeWidth,this.debugBodyColor),this.isCircle?v.strokeCircle(x,b,this.width/2):(this.checkCollision.up&&v.lineBetween(y.x,y.y,y.x+this.width,y.y),this.checkCollision.right&&v.lineBetween(y.x+this.width,y.y,y.x+this.width,y.y+this.height),this.checkCollision.down&&v.lineBetween(y.x,y.y+this.height,y.x+this.width,y.y+this.height),this.checkCollision.left&&v.lineBetween(y.x,y.y,y.x,y.y+this.height))),this.debugShowVelocity&&(v.lineStyle(v.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),v.lineBetween(x,b,x+this.velocity.x/2,b+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(v){return v===void 0&&(v=!0),this.directControl=v,this},setCollideWorldBounds:function(v,y,x,b){v===void 0&&(v=!0),this.collideWorldBounds=v;var w=y!==void 0,C=x!==void 0;return(w||C)&&(this.worldBounce||(this.worldBounce=new p),w&&(this.worldBounce.x=y),C&&(this.worldBounce.y=x)),b!==void 0&&(this.onWorldBounds=b),this},setVelocity:function(v,y){return this.velocity.set(v,y),v=this.velocity.x,y=this.velocity.y,this.speed=Math.sqrt(v*v+y*y),this},setVelocityX:function(v){return this.setVelocity(v,this.velocity.y)},setVelocityY:function(v){return this.setVelocity(this.velocity.x,v)},setMaxVelocity:function(v,y){return this.maxVelocity.set(v,y),this},setMaxVelocityX:function(v){return this.maxVelocity.x=v,this},setMaxVelocityY:function(v){return this.maxVelocity.y=v,this},setMaxSpeed:function(v){return this.maxSpeed=v,this},setSlideFactor:function(v,y){return this.slideFactor.set(v,y),this},setBounce:function(v,y){return this.bounce.set(v,y),this},setBounceX:function(v){return this.bounce.x=v,this},setBounceY:function(v){return this.bounce.y=v,this},setAcceleration:function(v,y){return this.acceleration.set(v,y),this},setAccelerationX:function(v){return this.acceleration.x=v,this},setAccelerationY:function(v){return this.acceleration.y=v,this},setAllowDrag:function(v){return v===void 0&&(v=!0),this.allowDrag=v,this},setAllowGravity:function(v){return v===void 0&&(v=!0),this.allowGravity=v,this},setAllowRotation:function(v){return v===void 0&&(v=!0),this.allowRotation=v,this},setDrag:function(v,y){return this.drag.set(v,y),this},setDamping:function(v){return this.useDamping=v,this},setDragX:function(v){return this.drag.x=v,this},setDragY:function(v){return this.drag.y=v,this},setGravity:function(v,y){return this.gravity.set(v,y),this},setGravityX:function(v){return this.gravity.x=v,this},setGravityY:function(v){return this.gravity.y=v,this},setFriction:function(v,y){return this.friction.set(v,y),this},setFrictionX:function(v){return this.friction.x=v,this},setFrictionY:function(v){return this.friction.y=v,this},setAngularVelocity:function(v){return this.angularVelocity=v,this},setAngularAcceleration:function(v){return this.angularAcceleration=v,this},setAngularDrag:function(v){return this.angularDrag=v,this},setMass:function(v){return this.mass=v,this},setImmovable:function(v){return v===void 0&&(v=!0),this.immovable=v,this},setEnable:function(v){return v===void 0&&(v=!0),this.enable=v,this},processX:function(v,y,x,b){this.x+=v,this.updateCenter(),y!==null&&(this.velocity.x=y*this.slideFactor.x);var w=this.blocked;x&&(w.left=!0,w.none=!1),b&&(w.right=!0,w.none=!1)},processY:function(v,y,x,b){this.y+=v,this.updateCenter(),y!==null&&(this.velocity.y=y*this.slideFactor.y);var w=this.blocked;x&&(w.up=!0,w.none=!1),b&&(w.down=!0,w.none=!1)},x:{get:function(){return this.position.x},set:function(v){this.position.x=v}},y:{get:function(){return this.position.y},set:function(v){this.position.y=v}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=g},79342:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h,d,f,m,p,g){this.world=c,this.name="",this.active=!0,this.overlapOnly=h,this.object1=d,this.object2=f,this.collideCallback=m,this.processCallback=p,this.callbackContext=g},setName:function(l){return this.name=l,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});n.exports=u},66022:(n,a,s)=>{var o=s(71289),u=s(13759),l=s(37742),c=s(83419),h=s(37747),d=s(60758),f=s(72624),m=s(71464),p=new c({initialize:function(v){this.world=v,this.scene=v.scene,this.sys=v.scene.sys},collider:function(g,v,y,x,b){return this.world.addCollider(g,v,y,x,b)},overlap:function(g,v,y,x,b){return this.world.addOverlap(g,v,y,x,b)},existing:function(g,v){var y=v?h.STATIC_BODY:h.DYNAMIC_BODY;return this.world.enableBody(g,y),g},staticImage:function(g,v,y,x){var b=new o(this.scene,g,v,y,x);return this.sys.displayList.add(b),this.world.enableBody(b,h.STATIC_BODY),b},image:function(g,v,y,x){var b=new o(this.scene,g,v,y,x);return this.sys.displayList.add(b),this.world.enableBody(b,h.DYNAMIC_BODY),b},staticSprite:function(g,v,y,x){var b=new u(this.scene,g,v,y,x);return this.sys.displayList.add(b),this.sys.updateList.add(b),this.world.enableBody(b,h.STATIC_BODY),b},sprite:function(g,v,y,x){var b=new u(this.scene,g,v,y,x);return this.sys.displayList.add(b),this.sys.updateList.add(b),this.world.enableBody(b,h.DYNAMIC_BODY),b},staticGroup:function(g,v){return this.sys.updateList.add(new m(this.world,this.world.scene,g,v))},group:function(g,v){return this.sys.updateList.add(new d(this.world,this.world.scene,g,v))},body:function(g,v,y,x){var b=new l(this.world);return b.position.set(g,v),y&&x&&b.setSize(y,x),this.world.add(b,h.DYNAMIC_BODY),b},staticBody:function(g,v,y,x){var b=new f(this.world);return b.position.set(g,v),y&&x&&b.setSize(y,x),this.world.add(b,h.STATIC_BODY),b},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=p},79599:n=>{var a=function(s){var o=0;if(!Array.isArray(s))o=s;else for(var u=0;u<s.length;u++)o|=s[u];return o};n.exports=a},64897:(n,a,s)=>{var o=s(37747),u=function(l,c,h,d){var f=0,m=l.deltaAbsX()+c.deltaAbsX()+d;return l._dx===0&&c._dx===0?(l.embedded=!0,c.embedded=!0):l._dx>c._dx?(f=l.right-c.x,f>m&&!h||l.checkCollision.right===!1||c.checkCollision.left===!1?f=0:(l.touching.none=!1,l.touching.right=!0,c.touching.none=!1,c.touching.left=!0,c.physicsType===o.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.right=!0),l.physicsType===o.STATIC_BODY&&!h&&(c.blocked.none=!1,c.blocked.left=!0))):l._dx<c._dx&&(f=l.x-c.width-c.x,-f>m&&!h||l.checkCollision.left===!1||c.checkCollision.right===!1?f=0:(l.touching.none=!1,l.touching.left=!0,c.touching.none=!1,c.touching.right=!0,c.physicsType===o.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.left=!0),l.physicsType===o.STATIC_BODY&&!h&&(c.blocked.none=!1,c.blocked.right=!0))),l.overlapX=f,c.overlapX=f,f};n.exports=u},45170:(n,a,s)=>{var o=s(37747),u=function(l,c,h,d){var f=0,m=l.deltaAbsY()+c.deltaAbsY()+d;return l._dy===0&&c._dy===0?(l.embedded=!0,c.embedded=!0):l._dy>c._dy?(f=l.bottom-c.y,f>m&&!h||l.checkCollision.down===!1||c.checkCollision.up===!1?f=0:(l.touching.none=!1,l.touching.down=!0,c.touching.none=!1,c.touching.up=!0,c.physicsType===o.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.down=!0),l.physicsType===o.STATIC_BODY&&!h&&(c.blocked.none=!1,c.blocked.up=!0))):l._dy<c._dy&&(f=l.y-c.bottom,-f>m&&!h||l.checkCollision.up===!1||c.checkCollision.down===!1?f=0:(l.touching.none=!1,l.touching.up=!0,c.touching.none=!1,c.touching.down=!0,c.physicsType===o.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.up=!0),l.physicsType===o.STATIC_BODY&&!h&&(c.blocked.none=!1,c.blocked.down=!0))),l.overlapY=f,c.overlapY=f,f};n.exports=u},60758:(n,a,s)=>{var o=s(13759),u=s(83419),l=s(78389),c=s(37747),h=s(95540),d=s(26479),f=s(41212),m=new u({Extends:d,Mixins:[l],initialize:function(g,v,y,x){if(!y&&!x)x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(f(y))x=y,y=null,x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(y)&&f(y[0])){var b=this;y.forEach(function(w){w.internalCreateCallback=b.createCallbackHandler,w.internalRemoveCallback=b.removeCallbackHandler,w.classType=h(w,"classType",o)}),x=null}else x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=g,x&&(x.classType=h(x,"classType",o)),this.physicsType=c.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:h(x,"collideWorldBounds",!1),setBoundsRectangle:h(x,"customBoundsRectangle",null),setAccelerationX:h(x,"accelerationX",0),setAccelerationY:h(x,"accelerationY",0),setAllowDrag:h(x,"allowDrag",!0),setAllowGravity:h(x,"allowGravity",!0),setAllowRotation:h(x,"allowRotation",!0),setDamping:h(x,"useDamping",!1),setBounceX:h(x,"bounceX",0),setBounceY:h(x,"bounceY",0),setDragX:h(x,"dragX",0),setDragY:h(x,"dragY",0),setEnable:h(x,"enable",!0),setGravityX:h(x,"gravityX",0),setGravityY:h(x,"gravityY",0),setFrictionX:h(x,"frictionX",0),setFrictionY:h(x,"frictionY",0),setMaxSpeed:h(x,"maxSpeed",-1),setMaxVelocityX:h(x,"maxVelocityX",1e4),setMaxVelocityY:h(x,"maxVelocityY",1e4),setVelocityX:h(x,"velocityX",0),setVelocityY:h(x,"velocityY",0),setAngularVelocity:h(x,"angularVelocity",0),setAngularAcceleration:h(x,"angularAcceleration",0),setAngularDrag:h(x,"angularDrag",0),setMass:h(x,"mass",1),setImmovable:h(x,"immovable",!1)},d.call(this,v,y,x),this.type="PhysicsGroup"},createCallbackHandler:function(p){p.body||this.world.enableBody(p,c.DYNAMIC_BODY);var g=p.body;for(var v in this.defaults)g[v](this.defaults[v])},removeCallbackHandler:function(p){p.body&&this.world.disableBody(p)},setVelocity:function(p,g,v){v===void 0&&(v=0);for(var y=this.getChildren(),x=0;x<y.length;x++)y[x].body.velocity.set(p+x*v,g+x*v);return this},setVelocityX:function(p,g){g===void 0&&(g=0);for(var v=this.getChildren(),y=0;y<v.length;y++)v[y].body.velocity.x=p+y*g;return this},setVelocityY:function(p,g){g===void 0&&(g=0);for(var v=this.getChildren(),y=0;y<v.length;y++)v[y].body.velocity.y=p+y*g;return this}});n.exports=m},3017:n=>{var a,s,o,u,l,c,h,d,f,m,p,g,v,y,x,b,w,C=function(I,D,k){a=I,s=D;var G=a.velocity.x,R=s.velocity.x;return o=a.pushable,f=a._dx<0,m=a._dx>0,p=a._dx===0,x=Math.abs(a.right-s.x)<=Math.abs(s.right-a.x),h=R-G*a.bounce.x,u=s.pushable,g=s._dx<0,v=s._dx>0,y=s._dx===0,b=!x,d=G-R*s.bounce.x,w=Math.abs(k),_()},_=function(){return m&&x&&s.blocked.right?(a.processX(-w,h,!1,!0),1):f&&b&&s.blocked.left?(a.processX(w,h,!0),1):v&&b&&a.blocked.right?(s.processX(-w,d,!1,!0),2):g&&x&&a.blocked.left?(s.processX(w,d,!0),2):0},S=function(){var I=a.velocity.x,D=s.velocity.x,k=Math.sqrt(D*D*s.mass/a.mass)*(D>0?1:-1),G=Math.sqrt(I*I*a.mass/s.mass)*(I>0?1:-1),R=(k+G)*.5;return k-=R,G-=R,l=R+k*a.bounce.x,c=R+G*s.bounce.x,f&&b?T(0):g&&x?T(1):m&&x?T(2):v&&b?T(3):!1},T=function(I){if(o&&u)w*=.5,I===0||I===3?(a.processX(w,l),s.processX(-w,c)):(a.processX(-w,l),s.processX(w,c));else if(o&&!u)I===0||I===3?a.processX(w,h,!0):a.processX(-w,h,!1,!0);else if(!o&&u)I===0||I===3?s.processX(-w,d,!1,!0):s.processX(w,d,!0);else{var D=w*.5;I===0?y?(a.processX(w,0,!0),s.processX(0,null,!1,!0)):v?(a.processX(D,0,!0),s.processX(-D,0,!1,!0)):(a.processX(D,s.velocity.x,!0),s.processX(-D,null,!1,!0)):I===1?p?(a.processX(0,null,!1,!0),s.processX(w,0,!0)):m?(a.processX(-D,0,!1,!0),s.processX(D,0,!0)):(a.processX(-D,null,!1,!0),s.processX(D,a.velocity.x,!0)):I===2?y?(a.processX(-w,0,!1,!0),s.processX(0,null,!0)):g?(a.processX(-D,0,!1,!0),s.processX(D,0,!0)):(a.processX(-D,s.velocity.x,!1,!0),s.processX(D,null,!0)):I===3&&(p?(a.processX(0,null,!0),s.processX(-w,0,!1,!0)):f?(a.processX(D,0,!0),s.processX(-D,0,!1,!0)):(a.processX(D,s.velocity.y,!0),s.processX(-D,null,!1,!0)))}return!0},A=function(I){if(I===1?s.velocity.x=0:x?s.processX(w,d,!0):s.processX(-w,d,!1,!0),a.moves){var D=a.directControl?a.y-a.autoFrame.y:a.y-a.prev.y;s.y+=D*a.friction.y,s._dy=s.y-s.prev.y}},M=function(I){if(I===2?a.velocity.x=0:b?a.processX(w,h,!0):a.processX(-w,h,!1,!0),s.moves){var D=s.directControl?s.y-s.autoFrame.y:s.y-s.prev.y;a.y+=D*s.friction.y,a._dy=a.y-a.prev.y}};n.exports={BlockCheck:_,Check:S,Set:C,Run:T,RunImmovableBody1:A,RunImmovableBody2:M}},47962:n=>{var a,s,o,u,l,c,h,d,f,m,p,g,v,y,x,b,w,C=function(I,D,k){a=I,s=D;var G=a.velocity.y,R=s.velocity.y;return o=a.pushable,f=a._dy<0,m=a._dy>0,p=a._dy===0,x=Math.abs(a.bottom-s.y)<=Math.abs(s.bottom-a.y),h=R-G*a.bounce.y,u=s.pushable,g=s._dy<0,v=s._dy>0,y=s._dy===0,b=!x,d=G-R*s.bounce.y,w=Math.abs(k),_()},_=function(){return m&&x&&s.blocked.down?(a.processY(-w,h,!1,!0),1):f&&b&&s.blocked.up?(a.processY(w,h,!0),1):v&&b&&a.blocked.down?(s.processY(-w,d,!1,!0),2):g&&x&&a.blocked.up?(s.processY(w,d,!0),2):0},S=function(){var I=a.velocity.y,D=s.velocity.y,k=Math.sqrt(D*D*s.mass/a.mass)*(D>0?1:-1),G=Math.sqrt(I*I*a.mass/s.mass)*(I>0?1:-1),R=(k+G)*.5;return k-=R,G-=R,l=R+k*a.bounce.y,c=R+G*s.bounce.y,f&&b?T(0):g&&x?T(1):m&&x?T(2):v&&b?T(3):!1},T=function(I){if(o&&u)w*=.5,I===0||I===3?(a.processY(w,l),s.processY(-w,c)):(a.processY(-w,l),s.processY(w,c));else if(o&&!u)I===0||I===3?a.processY(w,h,!0):a.processY(-w,h,!1,!0);else if(!o&&u)I===0||I===3?s.processY(-w,d,!1,!0):s.processY(w,d,!0);else{var D=w*.5;I===0?y?(a.processY(w,0,!0),s.processY(0,null,!1,!0)):v?(a.processY(D,0,!0),s.processY(-D,0,!1,!0)):(a.processY(D,s.velocity.y,!0),s.processY(-D,null,!1,!0)):I===1?p?(a.processY(0,null,!1,!0),s.processY(w,0,!0)):m?(a.processY(-D,0,!1,!0),s.processY(D,0,!0)):(a.processY(-D,null,!1,!0),s.processY(D,a.velocity.y,!0)):I===2?y?(a.processY(-w,0,!1,!0),s.processY(0,null,!0)):g?(a.processY(-D,0,!1,!0),s.processY(D,0,!0)):(a.processY(-D,s.velocity.y,!1,!0),s.processY(D,null,!0)):I===3&&(p?(a.processY(0,null,!0),s.processY(-w,0,!1,!0)):f?(a.processY(D,0,!0),s.processY(-D,0,!1,!0)):(a.processY(D,s.velocity.y,!0),s.processY(-D,null,!1,!0)))}return!0},A=function(I){if(I===1?s.velocity.y=0:x?s.processY(w,d,!0):s.processY(-w,d,!1,!0),a.moves){var D=a.directControl?a.x-a.autoFrame.x:a.x-a.prev.x;s.x+=D*a.friction.x,s._dx=s.x-s.prev.x}},M=function(I){if(I===2?a.velocity.y=0:b?a.processY(w,h,!0):a.processY(-w,h,!1,!0),s.moves){var D=s.directControl?s.x-s.autoFrame.x:s.x-s.prev.x;a.x+=D*s.friction.x,a._dx=a.x-a.prev.x}};n.exports={BlockCheck:_,Check:S,Set:C,Run:T,RunImmovableBody1:A,RunImmovableBody2:M}},14087:(n,a,s)=>{var o=s(64897),u=s(3017),l=function(c,h,d,f,m){m===void 0&&(m=o(c,h,d,f));var p=c.immovable,g=h.immovable;if(d||m===0||p&&g||c.customSeparateX||h.customSeparateX)return m!==0||c.embedded&&h.embedded;var v=u.Set(c,h,m);return!p&&!g?v>0?!0:u.Check():(p?u.RunImmovableBody1(v):g&&u.RunImmovableBody2(v),!0)};n.exports=l},89936:(n,a,s)=>{var o=s(45170),u=s(47962),l=function(c,h,d,f,m){m===void 0&&(m=o(c,h,d,f));var p=c.immovable,g=h.immovable;if(d||m===0||p&&g||c.customSeparateY||h.customSeparateY)return m!==0||c.embedded&&h.embedded;var v=u.Set(c,h,m);return!p&&!g?v>0?!0:u.Check():(p?u.RunImmovableBody1(v):g&&u.RunImmovableBody2(v),!0)};n.exports=l},95829:n=>{var a=function(s,o){return o===void 0&&(o={}),o.none=s,o.up=!1,o.down=!1,o.left=!1,o.right=!1,s||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};n.exports=a},72624:(n,a,s)=>{var o=s(87902),u=s(83419),l=s(78389),c=s(37747),h=s(37303),d=s(95829),f=s(26099),m=new u({Mixins:[l],initialize:function(g,v){var y=64,x=64,b={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},w=v!==void 0;w&&v.displayWidth&&(y=v.displayWidth,x=v.displayHeight),w||(v=b),this.world=g,this.gameObject=w?v:void 0,this.isBody=!0,this.debugShowBody=g.defaults.debugShowStaticBody,this.debugBodyColor=g.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new f,this.position=new f(v.x-y*v.originX,v.y-x*v.originY),this.width=y,this.height=x,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new f(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=f.ZERO,this.allowGravity=!1,this.gravity=f.ZERO,this.bounce=f.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=d(!1),this.touching=d(!0),this.wasTouching=d(!0),this.blocked=d(!0),this.physicsType=c.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(p,g){return p&&p!==this.gameObject&&(this.gameObject.body=null,p.body=this,this.gameObject=p),g&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var p=this.gameObject;return p.getTopLeft(this.position),this.width=p.displayWidth,this.height=p.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(p,g){return g===void 0&&(g=p),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(p,g),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(p,g,v){v===void 0&&(v=!0);var y=this.gameObject;if(y&&y.frame&&(p||(p=y.frame.realWidth),g||(g=y.frame.realHeight)),this.world.staticTree.remove(this),this.width=p,this.height=g,this.halfWidth=Math.floor(p/2),this.halfHeight=Math.floor(g/2),v&&y&&y.getCenter){var x=y.displayWidth/2,b=y.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(x-this.halfWidth,b-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(p,g,v){return g===void 0&&(g=this.offset.x),v===void 0&&(v=this.offset.y),p>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=p,this.width=p*2,this.height=p*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(g,v),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(p,g){var v=this.gameObject;p===void 0&&(p=v.x),g===void 0&&(g=v.y),this.world.staticTree.remove(this),v.setPosition(p,g),v.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(p){return p.x=this.x,p.y=this.y,p.right=this.right,p.bottom=this.bottom,p},hitTest:function(p,g){return this.isCircle?o(this,p,g):h(this,p,g)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(p){var g=this.position,v=g.x+this.halfWidth,y=g.y+this.halfHeight;this.debugShowBody&&(p.lineStyle(p.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?p.strokeCircle(v,y,this.width/2):p.strokeRect(g.x,g.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(p){return p<=0&&(p=.1),this.mass=p,this},x:{get:function(){return this.position.x},set:function(p){this.world.staticTree.remove(this),this.position.x=p,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(p){this.world.staticTree.remove(this),this.position.y=p,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=m},71464:(n,a,s)=>{var o=s(13759),u=s(83419),l=s(78389),c=s(37747),h=s(95540),d=s(26479),f=s(41212),m=new u({Extends:d,Mixins:[l],initialize:function(g,v,y,x){!y&&!x?x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:f(y)?(x=y,y=null,x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler,x.createMultipleCallback=this.createMultipleCallbackHandler,x.classType=h(x,"classType",o)):Array.isArray(y)&&f(y[0])?(x=y,y=null,x.forEach(function(b){b.internalCreateCallback=this.createCallbackHandler,b.internalRemoveCallback=this.removeCallbackHandler,b.createMultipleCallback=this.createMultipleCallbackHandler,b.classType=h(b,"classType",o)})):x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=g,this.physicsType=c.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,d.call(this,v,y,x),this.type="StaticPhysicsGroup"},createCallbackHandler:function(p){p.body||this.world.enableBody(p,c.STATIC_BODY)},removeCallbackHandler:function(p){p.body&&this.world.disableBody(p)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var p=this.children.entries,g=0;g<p.length;g++)p[g].body.reset();return this}});n.exports=m},82248:(n,a,s)=>{var o=s(55495),u=s(37742),l=s(45319),c=s(83419),h=s(79342),d=s(37747),f=s(20339),m=s(52816),p=s(50792),g=s(63012),v=s(43855),y=s(5470),x=s(94977),b=s(64897),w=s(45170),C=s(96523),_=s(35154),S=s(36383),T=s(25774),A=s(96602),M=s(87841),I=s(59542),D=s(40012),k=s(14087),G=s(89936),R=s(35072),H=s(72624),j=s(2483),Z=s(61340),ee=s(26099),Y=s(15994),V=new c({Extends:p,initialize:function(F,X){p.call(this),this.scene=F,this.bodies=new R,this.staticBodies=new R,this.pendingDestroy=new R,this.colliders=new T,this.gravity=new ee(_(X,"gravity.x",0),_(X,"gravity.y",0)),this.bounds=new M(_(X,"x",0),_(X,"y",0),_(X,"width",F.sys.scale.width),_(X,"height",F.sys.scale.height)),this.checkCollision={up:_(X,"checkCollision.up",!0),down:_(X,"checkCollision.down",!0),left:_(X,"checkCollision.left",!0),right:_(X,"checkCollision.right",!0)},this.fps=_(X,"fps",60),this.fixedStep=_(X,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=_(X,"timeScale",1),this.OVERLAP_BIAS=_(X,"overlapBias",4),this.TILE_BIAS=_(X,"tileBias",16),this.forceX=_(X,"forceX",!1),this.isPaused=_(X,"isPaused",!1),this._total=0,this.drawDebug=_(X,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:_(X,"debugShowBody",!0),debugShowStaticBody:_(X,"debugShowStaticBody",!0),debugShowVelocity:_(X,"debugShowVelocity",!0),bodyDebugColor:_(X,"debugBodyColor",16711935),staticBodyDebugColor:_(X,"debugStaticBodyColor",255),velocityDebugColor:_(X,"debugVelocityColor",65280)},this.maxEntries=_(X,"maxEntries",16),this.useTree=_(X,"useTree",!0),this.tree=new I(this.maxEntries),this.staticTree=new I(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Z,this._tempMatrix2=new Z,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(O,F){F===void 0&&(F=d.DYNAMIC_BODY),Array.isArray(O)||(O=[O]);for(var X=0;X<O.length;X++){var ie=O[X];if(ie.isParent)for(var re=ie.getChildren(),q=0;q<re.length;q++){var ae=re[q];ae.isParent?this.enable(ae,F):this.enableBody(ae,F)}else this.enableBody(ie,F)}},enableBody:function(O,F){return F===void 0&&(F=d.DYNAMIC_BODY),O.hasTransformComponent&&(O.body||(F===d.DYNAMIC_BODY?O.body=new u(this,O):F===d.STATIC_BODY&&(O.body=new H(this,O))),this.add(O.body)),O},add:function(O){return O.physicsType===d.DYNAMIC_BODY?this.bodies.set(O):O.physicsType===d.STATIC_BODY&&(this.staticBodies.set(O),this.staticTree.insert(O)),O.enable=!0,O},disable:function(O){Array.isArray(O)||(O=[O]);for(var F=0;F<O.length;F++){var X=O[F];if(X.isParent)for(var ie=X.getChildren(),re=0;re<ie.length;re++){var q=ie[re];q.isParent?this.disable(q):this.disableBody(q.body)}else this.disableBody(X.body)}},disableBody:function(O){this.remove(O),O.enable=!1},remove:function(O){O.physicsType===d.DYNAMIC_BODY?(this.tree.remove(O),this.bodies.delete(O)):O.physicsType===d.STATIC_BODY&&(this.staticBodies.delete(O),this.staticTree.remove(O))},createDebugGraphic:function(){var O=this.scene.sys.add.graphics({x:0,y:0});return O.setDepth(Number.MAX_VALUE),this.debugGraphic=O,this.drawDebug=!0,O},setBounds:function(O,F,X,ie,re,q,ae,ue){return this.bounds.setTo(O,F,X,ie),re!==void 0&&this.setBoundsCollision(re,q,ae,ue),this},setBoundsCollision:function(O,F,X,ie){return O===void 0&&(O=!0),F===void 0&&(F=!0),X===void 0&&(X=!0),ie===void 0&&(ie=!0),this.checkCollision.left=O,this.checkCollision.right=F,this.checkCollision.up=X,this.checkCollision.down=ie,this},pause:function(){return this.isPaused=!0,this.emit(g.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(g.RESUME),this},addCollider:function(O,F,X,ie,re){X===void 0&&(X=null),ie===void 0&&(ie=null),re===void 0&&(re=X);var q=new h(this,!1,O,F,X,ie,re);return this.colliders.add(q),q},addOverlap:function(O,F,X,ie,re){X===void 0&&(X=null),ie===void 0&&(ie=null),re===void 0&&(re=X);var q=new h(this,!0,O,F,X,ie,re);return this.colliders.add(q),q},removeCollider:function(O){return this.colliders.remove(O),this},setFPS:function(O){return this.fps=O,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(O,F){if(!(this.isPaused||this.bodies.size===0)){var X,ie=this._frameTime,re=this._frameTimeMS*this.timeScale;this._elapsed+=F;var q,ae=this.bodies.entries,ue=this._elapsed>=re;for(this.fixedStep||(ie=F*.001,ue=!0,this._elapsed=0),X=0;X<ae.length;X++)q=ae[X],q.enable&&q.preUpdate(ue,ie);if(ue){this._elapsed-=re,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(ae));var me=this.colliders.update();for(X=0;X<me.length;X++){var be=me[X];be.active&&be.update()}this.emit(g.WORLD_STEP,ie)}for(;this._elapsed>=re;)this._elapsed-=re,this.step(ie)}},step:function(O){var F,X,ie=this.bodies.entries,re=ie.length;for(F=0;F<re;F++)X=ie[F],X.enable&&X.update(O);this.useTree&&(this.tree.clear(),this.tree.load(ie));var q=this.colliders.update();for(F=0;F<q.length;F++){var ae=q[F];ae.active&&ae.update()}this.emit(g.WORLD_STEP,O),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var O,F,X=this.bodies.entries,ie=X.length,re=this.bodies,q=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,O=0;O<ie;O++)F=X[O],F.enable&&F.postUpdate();if(this.drawDebug){var ae=this.debugGraphic;for(ae.clear(),O=0;O<ie;O++)F=X[O],F.willDrawDebug()&&F.drawDebug(ae);for(X=q.entries,ie=X.length,O=0;O<ie;O++)F=X[O],F.willDrawDebug()&&F.drawDebug(ae)}var ue=this.pendingDestroy;if(ue.size>0){var me=this.tree,be=this.staticTree;for(X=ue.entries,ie=X.length,O=0;O<ie;O++)F=X[O],F.physicsType===d.DYNAMIC_BODY?(me.remove(F),re.delete(F)):F.physicsType===d.STATIC_BODY&&(be.remove(F),q.delete(F)),F.world=void 0,F.gameObject=void 0;ue.clear()}},updateMotion:function(O,F){O.allowRotation&&this.computeAngularVelocity(O,F),this.computeVelocity(O,F)},computeAngularVelocity:function(O,F){var X=O.angularVelocity,ie=O.angularAcceleration,re=O.angularDrag,q=O.maxAngular;ie?X+=ie*F:O.allowDrag&&re&&(re*=F,y(X-re,0,.1)?X-=re:x(X+re,0,.1)?X+=re:X=0),X=l(X,-q,q);var ae=X-O.angularVelocity;O.angularVelocity+=ae,O.rotation+=O.angularVelocity*F},computeVelocity:function(O,F){var X=O.velocity.x,ie=O.acceleration.x,re=O.drag.x,q=O.maxVelocity.x,ae=O.velocity.y,ue=O.acceleration.y,me=O.drag.y,be=O.maxVelocity.y,ke=O.speed,ze=O.maxSpeed,De=O.allowDrag,ge=O.useDamping;O.allowGravity&&(X+=(this.gravity.x+O.gravity.x)*F,ae+=(this.gravity.y+O.gravity.y)*F),ie?X+=ie*F:De&&re&&(ge?(re=Math.pow(re,F),X*=re,ke=Math.sqrt(X*X+ae*ae),v(ke,0,.001)&&(X=0)):(re*=F,y(X-re,0,.01)?X-=re:x(X+re,0,.01)?X+=re:X=0)),ue?ae+=ue*F:De&&me&&(ge?(me=Math.pow(me,F),ae*=me,ke=Math.sqrt(X*X+ae*ae),v(ke,0,.001)&&(ae=0)):(me*=F,y(ae-me,0,.01)?ae-=me:x(ae+me,0,.01)?ae+=me:ae=0)),X=l(X,-q,q),ae=l(ae,-be,be),O.velocity.set(X,ae),ze>-1&&O.velocity.length()>ze&&(O.velocity.normalize().scale(ze),ke=ze),O.speed=ke},separate:function(O,F,X,ie,re){var q,ae,ue=!1,me=!0;if(!O.enable||!F.enable||O.checkCollision.none||F.checkCollision.none||!this.intersects(O,F)||X&&X.call(ie,O.gameObject||O,F.gameObject||F)===!1)return ue;if(O.isCircle||F.isCircle){var be=this.separateCircle(O,F,re);be.result?(ue=!0,me=!1):(q=be.x,ae=be.y,me=!0)}if(me){var ke=!1,ze=!1,De=this.OVERLAP_BIAS;re?(ke=k(O,F,re,De,q),ze=G(O,F,re,De,ae)):this.forceX||Math.abs(this.gravity.y+O.gravity.y)<Math.abs(this.gravity.x+O.gravity.x)?(ke=k(O,F,re,De,q),this.intersects(O,F)&&(ze=G(O,F,re,De,ae))):(ze=G(O,F,re,De,ae),this.intersects(O,F)&&(ke=k(O,F,re,De,q))),ue=ke||ze}return ue&&(re?(O.onOverlap||F.onOverlap)&&this.emit(g.OVERLAP,O.gameObject,F.gameObject,O,F):(O.onCollide||F.onCollide)&&this.emit(g.COLLIDE,O.gameObject,F.gameObject,O,F)),ue},separateCircle:function(O,F,X){b(O,F,!1,0),w(O,F,!1,0);var ie=O.isCircle,re=F.isCircle,q=O.center,ae=F.center,ue=O.immovable,me=F.immovable,be=O.velocity,ke=F.velocity,ze=0,De=!0;if(ie!==re){De=!1;var ge=q.x,Et=q.y,ct=O.halfWidth,We=F.position.x,Ue=F.position.y,qe=F.right,it=F.bottom;re&&(ge=ae.x,Et=ae.y,ct=F.halfWidth,We=O.position.x,Ue=O.position.y,qe=O.right,it=O.bottom),Et<Ue?ge<We?ze=f(ge,Et,We,Ue)-ct:ge>qe&&(ze=f(ge,Et,qe,Ue)-ct):Et>it&&(ge<We?ze=f(ge,Et,We,it)-ct:ge>qe&&(ze=f(ge,Et,qe,it)-ct)),ze*=-1}else ze=O.halfWidth+F.halfWidth-m(q,ae);O.overlapR=ze,F.overlapR=ze;var Ft=o(q,ae),at=(ze+S.EPSILON)*Math.cos(Ft),bt=(ze+S.EPSILON)*Math.sin(Ft),ai={overlap:ze,result:!1,x:at,y:bt};if(X&&(!De||De&&ze!==0))return ai.result=!0,ai;if(!De&&ze===0||ue&&me||O.customSeparateX||F.customSeparateX)return ai.x=void 0,ai.y=void 0,ai;var ei=!O.pushable&&!F.pushable;if(De){var li=q.x-ae.x,fi=q.y-ae.y,vi=Math.sqrt(Math.pow(li,2)+Math.pow(fi,2)),Ht=(ae.x-q.x)/vi||0,xi=(ae.y-q.y)/vi||0,Ti=2*(be.x*Ht+be.y*xi-ke.x*Ht-ke.y*xi)/(O.mass+F.mass);(ue||me||!O.pushable||!F.pushable)&&(Ti*=2),!ue&&O.pushable&&(be.x=be.x-Ti/O.mass*Ht,be.y=be.y-Ti/O.mass*xi,be.multiply(O.bounce)),!me&&F.pushable&&(ke.x=ke.x+Ti/F.mass*Ht,ke.y=ke.y+Ti/F.mass*xi,ke.multiply(F.bounce)),!ue&&!me&&(at*=.5,bt*=.5),!ue||O.pushable||ei?(O.x-=at,O.y-=bt,O.updateCenter()):(!me||F.pushable||ei)&&(F.x+=at,F.y+=bt,F.updateCenter()),ai.result=!0}else!ue||O.pushable||ei?(O.x-=at,O.y-=bt,O.updateCenter()):(!me||F.pushable||ei)&&(F.x+=at,F.y+=bt,F.updateCenter()),ai.x=void 0,ai.y=void 0;return ai},intersects:function(O,F){return O===F?!1:!O.isCircle&&!F.isCircle?!(O.right<=F.left||O.bottom<=F.top||O.left>=F.right||O.top>=F.bottom):O.isCircle?F.isCircle?m(O.center,F.center)<=O.halfWidth+F.halfWidth:this.circleBodyIntersects(O,F):this.circleBodyIntersects(F,O)},circleBodyIntersects:function(O,F){var X=l(O.center.x,F.left,F.right),ie=l(O.center.y,F.top,F.bottom),re=(O.center.x-X)*(O.center.x-X),q=(O.center.y-ie)*(O.center.y-ie);return re+q<=O.halfWidth*O.halfWidth},overlap:function(O,F,X,ie,re){return X===void 0&&(X=null),ie===void 0&&(ie=null),re===void 0&&(re=X),this.collideObjects(O,F,X,ie,re,!0)},collide:function(O,F,X,ie,re){return X===void 0&&(X=null),ie===void 0&&(ie=null),re===void 0&&(re=X),this.collideObjects(O,F,X,ie,re,!1)},collideObjects:function(O,F,X,ie,re,q){var ae,ue;O.isParent&&(O.physicsType===void 0||F===void 0||O===F)&&(O=O.children.entries),F&&F.isParent&&F.physicsType===void 0&&(F=F.children.entries);var me=Array.isArray(O),be=Array.isArray(F);if(this._total=0,!me&&!be)this.collideHandler(O,F,X,ie,re,q);else if(!me&&be)for(ae=0;ae<F.length;ae++)this.collideHandler(O,F[ae],X,ie,re,q);else if(me&&!be)if(F)for(ae=0;ae<O.length;ae++)this.collideHandler(O[ae],F,X,ie,re,q);else for(ae=0;ae<O.length;ae++){var ke=O[ae];for(ue=ae+1;ue<O.length;ue++)ae!==ue&&this.collideHandler(ke,O[ue],X,ie,re,q)}else for(ae=0;ae<O.length;ae++)for(ue=0;ue<F.length;ue++)this.collideHandler(O[ae],F[ue],X,ie,re,q);return this._total>0},collideHandler:function(O,F,X,ie,re,q){if(F===void 0&&O.isParent)return this.collideGroupVsGroup(O,O,X,ie,re,q);if(!O||!F)return!1;if(O.body||O.isBody){if(F.body||F.isBody)return this.collideSpriteVsSprite(O,F,X,ie,re,q);if(F.isParent)return this.collideSpriteVsGroup(O,F,X,ie,re,q);if(F.isTilemap)return this.collideSpriteVsTilemapLayer(O,F,X,ie,re,q)}else if(O.isParent){if(F.body||F.isBody)return this.collideSpriteVsGroup(F,O,X,ie,re,q);if(F.isParent)return this.collideGroupVsGroup(O,F,X,ie,re,q);if(F.isTilemap)return this.collideGroupVsTilemapLayer(O,F,X,ie,re,q)}else if(O.isTilemap){if(F.body||F.isBody)return this.collideSpriteVsTilemapLayer(F,O,X,ie,re,q);if(F.isParent)return this.collideGroupVsTilemapLayer(F,O,X,ie,re,q)}},canCollide:function(O,F){return O&&F&&(O.collisionMask&F.collisionCategory)!==0&&(F.collisionMask&O.collisionCategory)!==0},collideSpriteVsSprite:function(O,F,X,ie,re,q){var ae=O.isBody?O:O.body,ue=F.isBody?F:F.body;return this.canCollide(ae,ue)?(this.separate(ae,ue,ie,re,q)&&(X&&X.call(re,O,F),this._total++),!0):!1},collideSpriteVsGroup:function(O,F,X,ie,re,q){var ae=O.isBody?O:O.body;if(!(F.getLength()===0||!ae||!ae.enable||ae.checkCollision.none||!this.canCollide(ae,F))){var ue,me,be;if(this.useTree||F.physicsType===d.STATIC_BODY){var ke=this.treeMinMax;ke.minX=ae.left,ke.minY=ae.top,ke.maxX=ae.right,ke.maxY=ae.bottom;var ze=F.physicsType===d.DYNAMIC_BODY?this.tree.search(ke):this.staticTree.search(ke);for(me=ze.length,ue=0;ue<me;ue++)be=ze[ue],!(ae===be||!be.enable||be.checkCollision.none||!F.contains(be.gameObject))&&this.separate(ae,be,ie,re,q)&&(X&&X.call(re,ae.gameObject,be.gameObject),this._total++)}else{var De=F.getChildren(),ge=F.children.entries.indexOf(O);for(me=De.length,ue=0;ue<me;ue++)be=De[ue].body,!(!be||ue===ge||!be.enable)&&this.separate(ae,be,ie,re,q)&&(X&&X.call(re,ae.gameObject,be.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(O,F,X,ie,re,q){if(!this.canCollide(O,F))return!1;var ae=O.getChildren();if(ae.length===0)return!1;for(var ue=!1,me=0;me<ae.length;me++)(ae[me].body||ae[me].isBody)&&this.collideSpriteVsTilemapLayer(ae[me],F,X,ie,re,q)&&(ue=!0);return ue},collideTiles:function(O,F,X,ie,re){return F.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,F,X,ie,re,!1,!1)},overlapTiles:function(O,F,X,ie,re){return F.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,F,X,ie,re,!0,!1)},collideSpriteVsTilemapLayer:function(O,F,X,ie,re,q){var ae=O.isBody?O:O.body;if(!ae.enable||ae.checkCollision.none||!this.canCollide(ae,F))return!1;var ue=F.layer,me=ae.x-ue.tileWidth*F.scaleX,be=ae.y-ue.tileHeight*F.scaleY,ke=ae.width+ue.tileWidth*F.scaleX,ze=ae.height+ue.tileHeight*F.scaleY,De=q?null:this.tileFilterOptions,ge=C(me,be,ke,ze,De,F.scene.cameras.main,F.layer);return ge.length===0?!1:this.collideSpriteVsTilesHandler(O,ge,X,ie,re,q,!0)},collideSpriteVsTilesHandler:function(O,F,X,ie,re,q,ae){for(var ue=O.isBody?O:O.body,me,be={left:0,right:0,top:0,bottom:0},ke,ze=!1,De=0;De<F.length;De++){me=F[De],ke=me.tilemapLayer;var ge=ke.tileToWorldXY(me.x,me.y);be.left=ge.x,be.top=ge.y,be.right=be.left+me.width*ke.scaleX,be.bottom=be.top+me.height*ke.scaleY,j(be,ue)&&(!ie||ie.call(re,O,me))&&A(me,O)&&(q||D(De,ue,me,be,ke,this.TILE_BIAS,ae))&&(this._total++,ze=!0,X&&X.call(re,O,me),q&&ue.onOverlap?this.emit(g.TILE_OVERLAP,O,me,ue):ue.onCollide&&this.emit(g.TILE_COLLIDE,O,me,ue))}return ze},collideGroupVsGroup:function(O,F,X,ie,re,q){if(!(O.getLength()===0||F.getLength()===0||!this.canCollide(O,F)))for(var ae=O.getChildren(),ue=0;ue<ae.length;ue++)this.collideSpriteVsGroup(ae[ue],F,X,ie,re,q)},wrap:function(O,F){O.body?this.wrapObject(O,F):O.getChildren?this.wrapArray(O.getChildren(),F):Array.isArray(O)?this.wrapArray(O,F):this.wrapObject(O,F)},wrapArray:function(O,F){for(var X=0;X<O.length;X++)this.wrapObject(O[X],F)},wrapObject:function(O,F){F===void 0&&(F=0),O.x=Y(O.x,this.bounds.left-F,this.bounds.right+F),O.y=Y(O.y,this.bounds.top-F,this.bounds.bottom+F)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});n.exports=V},1093:n=>{var a={setAcceleration:function(s,o){return this.body.acceleration.set(s,o),this},setAccelerationX:function(s){return this.body.acceleration.x=s,this},setAccelerationY:function(s){return this.body.acceleration.y=s,this}};n.exports=a},59023:n=>{var a={setAngularVelocity:function(s){return this.body.angularVelocity=s,this},setAngularAcceleration:function(s){return this.body.angularAcceleration=s,this},setAngularDrag:function(s){return this.body.angularDrag=s,this}};n.exports=a},62069:n=>{var a={setBounce:function(s,o){return this.body.bounce.set(s,o),this},setBounceX:function(s){return this.body.bounce.x=s,this},setBounceY:function(s){return this.body.bounce.y=s,this},setCollideWorldBounds:function(s,o,u,l){return this.body.setCollideWorldBounds(s,o,u,l),this}};n.exports=a},78389:(n,a,s)=>{var o=s(79599),u={setCollisionCategory:function(l){var c=this.body?this.body:this;return c.collisionCategory=l,this},willCollideWith:function(l){var c=this.body?this.body:this;return(c.collisionMask&l)!==0},addCollidesWith:function(l){var c=this.body?this.body:this;return c.collisionMask=c.collisionMask|l,this},removeCollidesWith:function(l){var c=this.body?this.body:this;return c.collisionMask=c.collisionMask&~l,this},setCollidesWith:function(l){var c=this.body?this.body:this;return c.collisionMask=o(l),this},resetCollisionCategory:function(){var l=this.body?this.body:this;return l.collisionCategory=1,l.collisionMask=2147483647,this}};n.exports=u},87118:n=>{var a={setDebug:function(s,o,u){return this.debugShowBody=s,this.debugShowVelocity=o,this.debugBodyColor=u,this},setDebugBodyColor:function(s){return this.body.debugBodyColor=s,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(s){this.body.debugShowBody=s}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(s){this.body.debugShowVelocity=s}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(s){this.body.debugBodyColor=s}}};n.exports=a},52819:n=>{var a={setDrag:function(s,o){return this.body.drag.set(s,o),this},setDragX:function(s){return this.body.drag.x=s,this},setDragY:function(s){return this.body.drag.y=s,this},setDamping:function(s){return this.body.useDamping=s,this}};n.exports=a},4074:n=>{var a={setDirectControl:function(s){return this.body.setDirectControl(s),this},enableBody:function(s,o,u,l,c){return s&&this.body.reset(o,u),l&&(this.body.gameObject.active=!0),c&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(s,o){return s===void 0&&(s=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,s&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};n.exports=a},40831:n=>{var a={setFriction:function(s,o){return this.body.friction.set(s,o),this},setFrictionX:function(s){return this.body.friction.x=s,this},setFrictionY:function(s){return this.body.friction.y=s,this}};n.exports=a},26775:n=>{var a={setGravity:function(s,o){return this.body.gravity.set(s,o),this},setGravityX:function(s){return this.body.gravity.x=s,this},setGravityY:function(s){return this.body.gravity.y=s,this}};n.exports=a},9437:n=>{var a={setImmovable:function(s){return s===void 0&&(s=!0),this.body.immovable=s,this}};n.exports=a},30621:n=>{var a={setMass:function(s){return this.body.mass=s,this}};n.exports=a},72441:(n,a,s)=>{var o=s(47956),u=s(96503),l=s(2044),c=s(81491),h=function(d,f,m,p,g,v){var y=o(d,f-p,m-p,2*p,2*p,g,v);if(y.length===0)return y;for(var x=new u(f,m,p),b=new u,w=[],C=0;C<y.length;C++){var _=y[C];_.isCircle?(b.setTo(_.center.x,_.center.y,_.halfWidth),l(x,b)&&w.push(_)):c(x,_)&&w.push(_)}return w};n.exports=h},47956:n=>{var a=function(s,o,u,l,c,h,d){h===void 0&&(h=!0),d===void 0&&(d=!1);var f=[],m=[],p=s.treeMinMax;if(p.minX=o,p.minY=u,p.maxX=o+l,p.maxY=u+c,d&&(m=s.staticTree.search(p)),h&&s.useTree)f=s.tree.search(p);else if(h){var g=s.bodies,v={position:{x:o,y:u},left:o,top:u,right:o+l,bottom:u+c,isCircle:!1},y=s.intersects;g.iterate(function(x){y(x,v)&&f.push(x)})}return m.concat(f)};n.exports=a},62121:n=>{var a={setPushable:function(s){return s===void 0&&(s=!0),this.body.pushable=s,this}};n.exports=a},29384:n=>{var a={setOffset:function(s,o){return this.body.setOffset(s,o),this},setSize:function(s,o,u){return this.body.setSize(s,o,u),this},setBodySize:function(s,o,u){return this.body.setSize(s,o,u),this},setCircle:function(s,o,u){return this.body.setCircle(s,o,u),this}};n.exports=a},15098:n=>{var a={setVelocity:function(s,o){return this.body.setVelocity(s,o),this},setVelocityX:function(s){return this.body.setVelocityX(s),this},setVelocityY:function(s){return this.body.setVelocityY(s),this},setMaxVelocity:function(s,o){return this.body.maxVelocity.set(s,o),this}};n.exports=a},92209:(n,a,s)=>{n.exports={Acceleration:s(1093),Angular:s(59023),Bounce:s(62069),Collision:s(78389),Debug:s(87118),Drag:s(52819),Enable:s(4074),Friction:s(40831),Gravity:s(26775),Immovable:s(9437),Mass:s(30621),OverlapCirc:s(72441),OverlapRect:s(47956),Pushable:s(62121),Size:s(29384),Velocity:s(15098)}},37747:n=>{var a={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};n.exports=a},20009:n=>{n.exports="collide"},36768:n=>{n.exports="overlap"},60473:n=>{n.exports="pause"},89954:n=>{n.exports="resume"},61804:n=>{n.exports="tilecollide"},7161:n=>{n.exports="tileoverlap"},34689:n=>{n.exports="worldbounds"},16006:n=>{n.exports="worldstep"},63012:(n,a,s)=>{n.exports={COLLIDE:s(20009),OVERLAP:s(36768),PAUSE:s(60473),RESUME:s(89954),TILE_COLLIDE:s(61804),TILE_OVERLAP:s(7161),WORLD_BOUNDS:s(34689),WORLD_STEP:s(16006)}},27064:(n,a,s)=>{var o=s(37747),u=s(79291),l={ArcadePhysics:s(86689),Body:s(37742),Collider:s(79342),Components:s(92209),Events:s(63012),Factory:s(66022),GetCollidesWith:s(79599),GetOverlapX:s(64897),GetOverlapY:s(45170),SeparateX:s(14087),SeparateY:s(89936),Group:s(60758),Image:s(71289),Sprite:s(13759),StaticBody:s(72624),StaticGroup:s(71464),Tilemap:s(55173),World:s(82248)};l=u(!1,l,o),n.exports=l},96602:n=>{var a=function(s,o){return s.collisionCallback?!s.collisionCallback.call(s.collisionCallbackContext,o,s):s.layer.callbacks[s.index]?!s.layer.callbacks[s.index].callback.call(s.layer.callbacks[s.index].callbackContext,o,s):!0};n.exports=a},36294:n=>{var a=function(s,o){o<0?(s.blocked.none=!1,s.blocked.left=!0):o>0&&(s.blocked.none=!1,s.blocked.right=!0),s.position.x-=o,s.updateCenter(),s.bounce.x===0?s.velocity.x=0:s.velocity.x=-s.velocity.x*s.bounce.x};n.exports=a},67013:n=>{var a=function(s,o){o<0?(s.blocked.none=!1,s.blocked.up=!0):o>0&&(s.blocked.none=!1,s.blocked.down=!0),s.position.y-=o,s.updateCenter(),s.bounce.y===0?s.velocity.y=0:s.velocity.y=-s.velocity.y*s.bounce.y};n.exports=a},40012:(n,a,s)=>{var o=s(21329),u=s(53442),l=s(2483),c=function(h,d,f,m,p,g,v){var y=m.left,x=m.top,b=m.right,w=m.bottom,C=f.faceLeft||f.faceRight,_=f.faceTop||f.faceBottom;if(v||(C=!0,_=!0),!C&&!_)return!1;var S=0,T=0,A=0,M=1;if(d.deltaAbsX()>d.deltaAbsY()?A=-1:d.deltaAbsX()<d.deltaAbsY()&&(M=-1),d.deltaX()!==0&&d.deltaY()!==0&&C&&_&&(A=Math.min(Math.abs(d.position.x-b),Math.abs(d.right-y)),M=Math.min(Math.abs(d.position.y-w),Math.abs(d.bottom-x))),A<M){if(C&&(S=o(d,f,y,b,g,v),S!==0&&!l(m,d)))return!0;_&&(T=u(d,f,x,w,g,v))}else{if(_&&(T=u(d,f,x,w,g,v),T!==0&&!l(m,d)))return!0;C&&(S=o(d,f,y,b,g,v))}return S!==0||T!==0};n.exports=c},21329:(n,a,s)=>{var o=s(36294),u=function(l,c,h,d,f,m){var p=0,g=c.faceLeft,v=c.faceRight,y=c.collideLeft,x=c.collideRight;return m||(g=!0,v=!0,y=!0,x=!0),l.deltaX()<0&&x&&l.checkCollision.left?v&&l.x<d&&(p=l.x-d,p<-f&&(p=0)):l.deltaX()>0&&y&&l.checkCollision.right&&g&&l.right>h&&(p=l.right-h,p>f&&(p=0)),p!==0&&(l.customSeparateX?l.overlapX=p:o(l,p)),p};n.exports=u},53442:(n,a,s)=>{var o=s(67013),u=function(l,c,h,d,f,m){var p=0,g=c.faceTop,v=c.faceBottom,y=c.collideUp,x=c.collideDown;return m||(g=!0,v=!0,y=!0,x=!0),l.deltaY()<0&&x&&l.checkCollision.up?v&&l.y<d&&(p=l.y-d,p<-f&&(p=0)):l.deltaY()>0&&y&&l.checkCollision.down&&g&&l.bottom>h&&(p=l.bottom-h,p>f&&(p=0)),p!==0&&(l.customSeparateY?l.overlapY=p:o(l,p)),p};n.exports=u},2483:n=>{var a=function(s,o){return!(o.right<=s.left||o.bottom<=s.top||o.position.x>=s.right||o.position.y>=s.bottom)};n.exports=a},55173:(n,a,s)=>{var o={ProcessTileCallbacks:s(96602),ProcessTileSeparationX:s(36294),ProcessTileSeparationY:s(67013),SeparateTile:s(40012),TileCheckX:s(21329),TileCheckY:s(53442),TileIntersectsBody:s(2483)};n.exports=o},44563:(n,a,s)=>{n.exports={Arcade:s(27064),Matter:s(3875)}},68174:(n,a,s)=>{var o=s(83419),u=s(26099),l=new o({initialize:function(){this.boundsCenter=new u,this.centerDiff=new u},parseBody:function(c){if(c=c.hasOwnProperty("body")?c.body:c,!c.hasOwnProperty("bounds")||!c.hasOwnProperty("centerOfMass"))return!1;var h=this.boundsCenter,d=this.centerDiff,f=c.bounds.max.x-c.bounds.min.x,m=c.bounds.max.y-c.bounds.min.y,p=f*c.centerOfMass.x,g=m*c.centerOfMass.y;return h.set(f/2,m/2),d.set(p-h.x,g-h.y),!0},getTopLeft:function(c,h,d){if(h===void 0&&(h=0),d===void 0&&(d=0),this.parseBody(c)){var f=this.boundsCenter,m=this.centerDiff;return new u(h+f.x+m.x,d+f.y+m.y)}return!1},getTopCenter:function(c,h,d){if(h===void 0&&(h=0),d===void 0&&(d=0),this.parseBody(c)){var f=this.boundsCenter,m=this.centerDiff;return new u(h+m.x,d+f.y+m.y)}return!1},getTopRight:function(c,h,d){if(h===void 0&&(h=0),d===void 0&&(d=0),this.parseBody(c)){var f=this.boundsCenter,m=this.centerDiff;return new u(h-(f.x-m.x),d+f.y+m.y)}return!1},getLeftCenter:function(c,h,d){if(h===void 0&&(h=0),d===void 0&&(d=0),this.parseBody(c)){var f=this.boundsCenter,m=this.centerDiff;return new u(h+f.x+m.x,d+m.y)}return!1},getCenter:function(c,h,d){if(h===void 0&&(h=0),d===void 0&&(d=0),this.parseBody(c)){var f=this.centerDiff;return new u(h+f.x,d+f.y)}return!1},getRightCenter:function(c,h,d){if(h===void 0&&(h=0),d===void 0&&(d=0),this.parseBody(c)){var f=this.boundsCenter,m=this.centerDiff;return new u(h-(f.x-m.x),d+m.y)}return!1},getBottomLeft:function(c,h,d){if(h===void 0&&(h=0),d===void 0&&(d=0),this.parseBody(c)){var f=this.boundsCenter,m=this.centerDiff;return new u(h+f.x+m.x,d-(f.y-m.y))}return!1},getBottomCenter:function(c,h,d){if(h===void 0&&(h=0),d===void 0&&(d=0),this.parseBody(c)){var f=this.boundsCenter,m=this.centerDiff;return new u(h+m.x,d-(f.y-m.y))}return!1},getBottomRight:function(c,h,d){if(h===void 0&&(h=0),d===void 0&&(d=0),this.parseBody(c)){var f=this.boundsCenter,m=this.centerDiff;return new u(h-(f.x-m.x),d-(f.y-m.y))}return!1}});n.exports=l},19933:(n,a,s)=>{var o=s(6790);o.Body=s(22562),o.Composite=s(69351),o.World=s(4372),o.Collision=s(52284),o.Detector=s(81388),o.Pairs=s(99561),o.Pair=s(4506),o.Query=s(73296),o.Resolver=s(66272),o.Constraint=s(48140),o.Common=s(53402),o.Engine=s(48413),o.Events=s(35810),o.Sleeping=s(53614),o.Plugin=s(73832),o.Bodies=s(66280),o.Composites=s(74116),o.Axes=s(66615),o.Bounds=s(15647),o.Svg=s(74058),o.Vector=s(31725),o.Vertices=s(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,n.exports=o},28137:(n,a,s)=>{var o=s(66280),u=s(83419),l=s(74116),c=s(48140),h=s(74058),d=s(75803),f=s(23181),m=s(34803),p=s(73834),g=s(19496),v=s(85791),y=s(98713),x=s(41598),b=new u({initialize:function(C){this.world=C,this.scene=C.scene,this.sys=C.scene.sys},rectangle:function(w,C,_,S,T){var A=o.rectangle(w,C,_,S,T);return this.world.add(A),A},trapezoid:function(w,C,_,S,T,A){var M=o.trapezoid(w,C,_,S,T,A);return this.world.add(M),M},circle:function(w,C,_,S,T){var A=o.circle(w,C,_,S,T);return this.world.add(A),A},polygon:function(w,C,_,S,T){var A=o.polygon(w,C,_,S,T);return this.world.add(A),A},fromVertices:function(w,C,_,S,T,A,M){typeof _=="string"&&(_=x.fromPath(_));var I=o.fromVertices(w,C,_,S,T,A,M);return this.world.add(I),I},fromPhysicsEditor:function(w,C,_,S,T){T===void 0&&(T=!0);var A=g.parseBody(w,C,_,S);return T&&!this.world.has(A)&&this.world.add(A),A},fromSVG:function(w,C,_,S,T,A){S===void 0&&(S=1),T===void 0&&(T={}),A===void 0&&(A=!0);for(var M=_.getElementsByTagName("path"),I=[],D=0;D<M.length;D++){var k=h.pathToVertices(M[D],30);S!==1&&x.scale(k,S,S),I.push(k)}var G=o.fromVertices(w,C,I,T);return A&&this.world.add(G),G},fromJSON:function(w,C,_,S,T){S===void 0&&(S={}),T===void 0&&(T=!0);var A=v.parseBody(w,C,_,S);return A&&T&&this.world.add(A),A},imageStack:function(w,C,_,S,T,A,M,I,D){M===void 0&&(M=0),I===void 0&&(I=0),D===void 0&&(D={});var k=this.world,G=this.sys.displayList;D.addToWorld=!1;var R=l.stack(_,S,T,A,M,I,function(H,j){var Z=new f(k,H,j,w,C,D);return G.add(Z),Z.body});return k.add(R),R},stack:function(w,C,_,S,T,A,M){var I=l.stack(w,C,_,S,T,A,M);return this.world.add(I),I},pyramid:function(w,C,_,S,T,A,M){var I=l.pyramid(w,C,_,S,T,A,M);return this.world.add(I),I},chain:function(w,C,_,S,T,A){return l.chain(w,C,_,S,T,A)},mesh:function(w,C,_,S,T){return l.mesh(w,C,_,S,T)},newtonsCradle:function(w,C,_,S,T){var A=l.newtonsCradle(w,C,_,S,T);return this.world.add(A),A},car:function(w,C,_,S,T){var A=l.car(w,C,_,S,T);return this.world.add(A),A},softBody:function(w,C,_,S,T,A,M,I,D,k){var G=l.softBody(w,C,_,S,T,A,M,I,D,k);return this.world.add(G),G},joint:function(w,C,_,S,T){return this.constraint(w,C,_,S,T)},spring:function(w,C,_,S,T){return this.constraint(w,C,_,S,T)},constraint:function(w,C,_,S,T){S===void 0&&(S=1),T===void 0&&(T={}),T.bodyA=w.type==="body"?w:w.body,T.bodyB=C.type==="body"?C:C.body,isNaN(_)||(T.length=_),T.stiffness=S;var A=c.create(T);return this.world.add(A),A},worldConstraint:function(w,C,_,S){_===void 0&&(_=1),S===void 0&&(S={}),S.bodyB=w.type==="body"?w:w.body,isNaN(C)||(S.length=C),S.stiffness=_;var T=c.create(S);return this.world.add(T),T},mouseSpring:function(w){return this.pointerConstraint(w)},pointerConstraint:function(w){w===void 0&&(w={}),w.hasOwnProperty("render")||(w.render={visible:!1});var C=new y(this.scene,this.world,w);return this.world.add(C.constraint),C},image:function(w,C,_,S,T){var A=new f(this.world,w,C,_,S,T);return this.sys.displayList.add(A),A},tileBody:function(w,C){return new p(this.world,w,C)},sprite:function(w,C,_,S,T){var A=new m(this.world,w,C,_,S,T);return this.sys.displayList.add(A),this.sys.updateList.add(A),A},gameObject:function(w,C,_){return d(this.world,w,C,_)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=b},75803:(n,a,s)=>{var o=s(31884),u=s(95540),l=s(26099);function c(d){return!!d.get&&typeof d.get=="function"||!!d.set&&typeof d.set=="function"}var h=function(d,f,m,p){m===void 0&&(m={}),p===void 0&&(p=!0);var g=f.x,v=f.y;f.body={temp:!0,position:{x:g,y:v}};var y=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(y.forEach(function(b){for(var w in b)c(b[w])?Object.defineProperty(f,w,{get:b[w].get,set:b[w].set}):Object.defineProperty(f,w,{value:b[w]})}),f.world=d,f._tempVec2=new l(g,v),m.hasOwnProperty("type")&&m.type==="body")f.setExistingBody(m,p);else{var x=u(m,"shape",null);x||(x="rectangle"),m.addToWorld=p,f.setBody(x,m)}return f};n.exports=h},23181:(n,a,s)=>{var o=s(83419),u=s(31884),l=s(95643),c=s(95540),h=s(88571),d=s(72699),f=s(26099),m=new o({Extends:h,Mixins:[u.Bounce,u.Collision,u.Force,u.Friction,u.Gravity,u.Mass,u.Sensor,u.SetBody,u.Sleep,u.Static,u.Transform,u.Velocity,d],initialize:function(g,v,y,x,b,w){l.call(this,g.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(x,b),this.setSizeToFrame(),this.setOrigin(),this.world=g,this._tempVec2=new f(v,y);var C=c(w,"shape",null);C?this.setBody(C,w):this.setRectangle(this.width,this.height,w),this.setPosition(v,y),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=m},42045:(n,a,s)=>{var o=s(60461),u=s(66615),l=s(66280),c=s(22562),h=s(68174),d=s(15647),f=s(83419),m=s(52284),p=s(53402),g=s(69351),v=s(74116),y=s(48140),x=s(81388),b=s(20339),w=s(28137),C=s(95540),_=s(35154),S=s(46975),T=s(4506),A=s(99561),M=s(37277),I=s(73296),D=s(66272),k=s(44594),G=s(74058),R=s(31725),H=s(41598),j=s(68243);p.setDecomp(s(55973));var Z=new f({initialize:function(Y){this.scene=Y,this.systems=Y.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=c,this.composite=g,this.collision=m,this.detector=x,this.pair=T,this.pairs=A,this.query=I,this.resolver=D,this.constraint=y,this.bodies=l,this.composites=v,this.axes=u,this.bounds=d,this.svg=G,this.vector=R,this.vertices=H,this.verts=H,this._tempVec2=R.create(),D._restingThresh=_(this.config,"restingThresh",4),D._restingThreshTangent=_(this.config,"restingThreshTangent",6),D._positionDampen=_(this.config,"positionDampen",.9),D._positionWarming=_(this.config,"positionWarming",.8),D._frictionNormalMultiplier=_(this.config,"frictionNormalMultiplier",5),Y.sys.events.once(k.BOOT,this.boot,this),Y.sys.events.on(k.START,this.start,this)},boot:function(){this.world=new j(this.scene,this.config),this.add=new w(this.world),this.bodyBounds=new h,this.systems.events.once(k.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new j(this.scene,this.config),this.add=new w(this.world));var ee=this.systems.events;ee.on(k.UPDATE,this.world.update,this.world),ee.on(k.POST_UPDATE,this.world.postUpdate,this.world),ee.once(k.SHUTDOWN,this.shutdown,this)},getConfig:function(){var ee=this.systems.game.config.physics,Y=this.systems.settings.physics,V=S(C(Y,"matter",{}),C(ee,"matter",{}));return V},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(ee,Y){this.world.step(ee,Y)},containsPoint:function(ee,Y,V){ee=this.getMatterBodies(ee);var O=R.create(Y,V),F=I.point(ee,O);return F.length>0},intersectPoint:function(ee,Y,V){V=this.getMatterBodies(V);var O=R.create(ee,Y),F=[],X=I.point(V,O);return X.forEach(function(ie){F.indexOf(ie)===-1&&F.push(ie)}),F},intersectRect:function(ee,Y,V,O,F,X){F===void 0&&(F=!1),X=this.getMatterBodies(X);var ie={min:{x:ee,y:Y},max:{x:ee+V,y:Y+O}},re=[],q=I.region(X,ie,F);return q.forEach(function(ae){re.indexOf(ae)===-1&&re.push(ae)}),re},intersectRay:function(ee,Y,V,O,F,X){F===void 0&&(F=1),X=this.getMatterBodies(X);for(var ie=[],re=I.ray(X,R.create(ee,Y),R.create(V,O),F),q=0;q<re.length;q++)ie.push(re[q].body);return ie},intersectBody:function(ee,Y){Y=this.getMatterBodies(Y);for(var V=[],O=I.collides(ee,Y),F=0;F<O.length;F++){var X=O[F];X.bodyA===ee?V.push(X.bodyB):V.push(X.bodyA)}return V},overlap:function(ee,Y,V,O,F){V===void 0&&(V=null),O===void 0&&(O=null),F===void 0&&(F=V),Array.isArray(ee)||(ee=[ee]),ee=this.getMatterBodies(ee),Y=this.getMatterBodies(Y);for(var X=!1,ie=0;ie<ee.length;ie++)for(var re=ee[ie],q=I.collides(re,Y),ae=0;ae<q.length;ae++){var ue=q[ae],me=ue.bodyA.id===re.id?ue.bodyB:ue.bodyA;if(!O||O.call(F,re,me,ue)){if(X=!0,V)V.call(F,re,me,ue);else if(!O)return!0}}return X},setCollisionCategory:function(ee,Y){return ee=this.getMatterBodies(ee),ee.forEach(function(V){V.collisionFilter.category=Y}),this},setCollisionGroup:function(ee,Y){return ee=this.getMatterBodies(ee),ee.forEach(function(V){V.collisionFilter.group=Y}),this},setCollidesWith:function(ee,Y){ee=this.getMatterBodies(ee);var V=0;if(!Array.isArray(Y))V=Y;else for(var O=0;O<Y.length;O++)V|=Y[O];return ee.forEach(function(F){F.collisionFilter.mask=V}),this},getMatterBodies:function(ee){if(!ee)return this.world.getAllBodies();Array.isArray(ee)||(ee=[ee]);for(var Y=[],V=0;V<ee.length;V++){var O=ee[V].hasOwnProperty("body")?ee[V].body:ee[V];Y.push(O)}return Y},setVelocity:function(ee,Y,V){ee=this.getMatterBodies(ee);var O=this._tempVec2;return O.x=Y,O.y=V,ee.forEach(function(F){c.setVelocity(F,O)}),this},setVelocityX:function(ee,Y){ee=this.getMatterBodies(ee);var V=this._tempVec2;return V.x=Y,ee.forEach(function(O){V.y=O.velocity.y,c.setVelocity(O,V)}),this},setVelocityY:function(ee,Y){ee=this.getMatterBodies(ee);var V=this._tempVec2;return V.y=Y,ee.forEach(function(O){V.x=O.velocity.x,c.setVelocity(O,V)}),this},setAngularVelocity:function(ee,Y){return ee=this.getMatterBodies(ee),ee.forEach(function(V){c.setAngularVelocity(V,Y)}),this},applyForce:function(ee,Y){ee=this.getMatterBodies(ee);var V=this._tempVec2;return ee.forEach(function(O){V.x=O.position.x,V.y=O.position.y,c.applyForce(O,V,Y)}),this},applyForceFromPosition:function(ee,Y,V,O){ee=this.getMatterBodies(ee);var F=this._tempVec2;return ee.forEach(function(X){O===void 0&&(O=X.angle),F.x=V*Math.cos(O),F.y=V*Math.sin(O),c.applyForce(X,Y,F)}),this},applyForceFromAngle:function(ee,Y,V){ee=this.getMatterBodies(ee);var O=this._tempVec2;return ee.forEach(function(F){V===void 0&&(V=F.angle),O.x=Y*Math.cos(V),O.y=Y*Math.sin(V),c.applyForce(F,{x:F.position.x,y:F.position.y},O)}),this},getConstraintLength:function(ee){var Y=ee.pointA.x,V=ee.pointA.y,O=ee.pointB.x,F=ee.pointB.y;return ee.bodyA&&(Y+=ee.bodyA.position.x,V+=ee.bodyA.position.y),ee.bodyB&&(O+=ee.bodyB.position.x,F+=ee.bodyB.position.y),b(Y,V,O,F)},alignBody:function(ee,Y,V,O){ee=ee.hasOwnProperty("body")?ee.body:ee;var F;switch(O){case o.TOP_LEFT:case o.LEFT_TOP:F=this.bodyBounds.getTopLeft(ee,Y,V);break;case o.TOP_CENTER:F=this.bodyBounds.getTopCenter(ee,Y,V);break;case o.TOP_RIGHT:case o.RIGHT_TOP:F=this.bodyBounds.getTopRight(ee,Y,V);break;case o.LEFT_CENTER:F=this.bodyBounds.getLeftCenter(ee,Y,V);break;case o.CENTER:F=this.bodyBounds.getCenter(ee,Y,V);break;case o.RIGHT_CENTER:F=this.bodyBounds.getRightCenter(ee,Y,V);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:F=this.bodyBounds.getBottomLeft(ee,Y,V);break;case o.BOTTOM_CENTER:F=this.bodyBounds.getBottomCenter(ee,Y,V);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:F=this.bodyBounds.getBottomRight(ee,Y,V);break}return F&&c.setPosition(ee,F),this},shutdown:function(){var ee=this.systems.events;this.world&&(ee.off(k.UPDATE,this.world.update,this.world),ee.off(k.POST_UPDATE,this.world.postUpdate,this.world)),ee.off(k.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(k.START,this.start,this),this.scene=null,this.systems=null}});M.register("MatterPhysics",Z,"matterPhysics"),n.exports=Z},34803:(n,a,s)=>{var o=s(9674),u=s(83419),l=s(31884),c=s(95643),h=s(95540),d=s(72699),f=s(68287),m=s(26099),p=new u({Extends:f,Mixins:[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity,d],initialize:function(v,y,x,b,w,C){c.call(this,v.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(b,w),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new m(y,x);var _=h(C,"shape",null);_?this.setBody(_,C):this.setRectangle(this.width,this.height,C),this.setPosition(y,x),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=p},73834:(n,a,s)=>{var o=s(66280),u=s(22562),l=s(83419),c=s(31884),h=s(62644),d=s(50792),f=s(95540),m=s(97022),p=s(41598),g=new l({Extends:d,Mixins:[c.Bounce,c.Collision,c.Friction,c.Gravity,c.Mass,c.Sensor,c.Sleep,c.Static],initialize:function(y,x,b){d.call(this),this.tile=x,this.world=y,x.physics.matterBody&&x.physics.matterBody.destroy(),x.physics.matterBody=this;var w=f(b,"body",null),C=f(b,"addToWorld",!0);if(w)this.setBody(w,C);else{var _=x.getCollisionGroup(),S=f(_,"objects",[]);S.length>0?this.setFromTileCollision(b):this.setFromTileRectangle(b)}if(x.flipX||x.flipY){var T={x:x.getCenterX(),y:x.getCenterY()},A=x.flipX?-1:1,M=x.flipY?-1:1;u.scale(w,A,M,T)}},setFromTileRectangle:function(v){v===void 0&&(v={}),m(v,"isStatic")||(v.isStatic=!0),m(v,"addToWorld")||(v.addToWorld=!0);var y=this.tile.getBounds(),x=y.x+y.width/2,b=y.y+y.height/2,w=o.rectangle(x,b,y.width,y.height,v);return this.setBody(w,v.addToWorld),this},setFromTileCollision:function(v){v===void 0&&(v={}),m(v,"isStatic")||(v.isStatic=!0),m(v,"addToWorld")||(v.addToWorld=!0);for(var y=this.tile.tilemapLayer.scaleX,x=this.tile.tilemapLayer.scaleY,b=this.tile.getLeft(),w=this.tile.getTop(),C=this.tile.getCollisionGroup(),_=f(C,"objects",[]),S=[],T=0;T<_.length;T++){var A=_[T],M=b+A.x*y,I=w+A.y*x,D=A.width*y,k=A.height*x,G=null;if(A.rectangle)G=o.rectangle(M+D/2,I+k/2,D,k,v);else if(A.ellipse)G=o.circle(M+D/2,I+k/2,D/2,v);else if(A.polygon||A.polyline){var R=A.polygon?A.polygon:A.polyline,H=R.map(function(Y){return{x:Y.x*y,y:Y.y*x}}),j=p.create(H),Z=p.centre(j);M+=Z.x,I+=Z.y,G=o.fromVertices(M,I,j,v)}G&&S.push(G)}if(S.length===1)this.setBody(S[0],v.addToWorld);else if(S.length>1){var ee=h(v);ee.parts=S,this.setBody(u.create(ee),ee.addToWorld)}return this},setBody:function(v,y){return y===void 0&&(y=!0),this.body&&this.removeBody(),this.body=v,this.body.gameObject=this,y&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});n.exports=g},19496:(n,a,s)=>{var o=s(66280),u=s(22562),l=s(53402),c=s(95540),h=s(41598),d={parseBody:function(f,m,p,g){g===void 0&&(g={});for(var v=c(p,"fixtures",[]),y=[],x=0;x<v.length;x++)for(var b=this.parseFixture(v[x]),w=0;w<b.length;w++)y.push(b[w]);var C=l.clone(p,!0);l.extend(C,g,!0),delete C.fixtures,delete C.type;var _=u.create(C);return u.setParts(_,y),u.setPosition(_,{x:f,y:m}),_},parseFixture:function(f){var m=l.extend({},!1,f);delete m.circle,delete m.vertices;var p;if(f.circle){var g=c(f.circle,"x"),v=c(f.circle,"y"),y=c(f.circle,"radius");p=[o.circle(g,v,y,m)]}else f.vertices&&(p=this.parseVertices(f.vertices,m));return p},parseVertices:function(f,m){m===void 0&&(m={});for(var p=[],g=0;g<f.length;g++)h.clockwiseSort(f[g]),p.push(u.create(l.extend({position:h.centre(f[g]),vertices:f[g]},m)));return o.flagCoincidentParts(p)}};n.exports=d},85791:(n,a,s)=>{var o=s(66280),u=s(22562),l={parseBody:function(c,h,d,f){f===void 0&&(f={});var m,p=d.vertices;if(p.length===1)f.vertices=p[0],m=u.create(f),o.flagCoincidentParts(m.parts);else{for(var g=[],v=0;v<p.length;v++){var y=u.create({vertices:p[v]});g.push(y)}o.flagCoincidentParts(g),f.parts=g,m=u.create(f)}return m.label=d.label,u.setPosition(m,{x:c,y:h}),m}};n.exports=l},98713:(n,a,s)=>{var o=s(15647),u=s(83419),l=s(69351),c=s(48140),h=s(81388),d=s(1121),f=s(8214),m=s(46975),p=s(53614),g=s(26099),v=s(41598),y=new u({initialize:function(b,w,C){C===void 0&&(C={});var _={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=b,this.world=w,this.camera=null,this.pointer=null,this.active=!0,this.position=new g,this.body=null,this.part=null,this.constraint=c.create(m(C,_)),this.world.on(d.BEFORE_UPDATE,this.update,this),b.sys.input.on(f.POINTER_DOWN,this.onDown,this),b.sys.input.on(f.POINTER_UP,this.onUp,this)},onDown:function(x){this.pointer||(this.pointer=x,this.camera=x.camera)},onUp:function(x){x===this.pointer&&(this.pointer=null)},getBody:function(x){var b=this.position,w=this.constraint;this.camera.getWorldPoint(x.x,x.y,b);for(var C=l.allBodies(this.world.localWorld),_=0;_<C.length;_++){var S=C[_];if(!S.ignorePointer&&o.contains(S.bounds,b)&&h.canCollide(S.collisionFilter,w.collisionFilter)&&this.hitTestBody(S,b))return this.world.emit(d.DRAG_START,S,this.part,this),!0}return!1},hitTestBody:function(x,b){for(var w=this.constraint,C=x.parts.length,_=C>1?1:0,S=_;S<C;S++){var T=x.parts[S];if(v.contains(T.vertices,b))return w.pointA=b,w.pointB={x:b.x-x.position.x,y:b.y-x.position.y},w.bodyB=x,w.angleB=x.angle,p.set(x,!1),this.part=T,this.body=x,!0}return!1},update:function(){var x=this.pointer,b=this.body;if(!this.active||!x){b&&this.stopDrag();return}if(!x.isDown&&b){this.stopDrag();return}else if(x.isDown){if(!this.camera||!b&&!this.getBody(x))return;b=this.body;var w=this.position,C=this.constraint;this.camera.getWorldPoint(x.x,x.y,w),C.pointA.x=w.x,C.pointA.y=w.y,p.set(b,!1),this.world.emit(d.DRAG,b,this)}},stopDrag:function(){var x=this.body,b=this.constraint;b.bodyB=null,b.pointB=null,this.pointer=null,this.body=null,this.part=null,x&&this.world.emit(d.DRAG_END,x,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(d.BEFORE_UPDATE,this.update),this.scene.sys.input.off(f.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(f.POINTER_UP,this.onUp,this)}});n.exports=y},68243:(n,a,s)=>{var o=s(66280),u=s(22562),l=s(83419),c=s(53402),h=s(69351),d=s(48413),f=s(50792),m=s(1121),p=s(95540),g=s(35154),v=s(22562),y=s(35810),x=s(73834),b=s(4372),w=s(13037),C=s(31725),_=new l({Extends:f,initialize:function(T,A){f.call(this),this.scene=T,this.engine=d.create(A),this.localWorld=this.engine.world;var M=g(A,"gravity",null);M?this.setGravity(M.x,M.y,M.scale):M===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=g(A,"enabled",!0),this.getDelta=g(A,"getDelta",this.update60Hz);var I=p(A,"runner",{}),D=p(I,"fps",!1),k=p(I,"fps",60),G=p(I,"delta",1e3/k),R=p(I,"deltaMin",1e3/k),H=p(I,"deltaMax",1e3/(k*.5));D||(k=1e3/G),this.runner={fps:k,deltaSampleSize:p(I,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,timeBuffer:0,isFixed:p(I,"isFixed",!1),delta:G,deltaMin:R,deltaMax:H},this.autoUpdate=g(A,"autoUpdate",!0);var j=g(A,"debug",!1);if(this.drawDebug=typeof j=="object"?!0:j,this.debugGraphic,this.debugConfig={showAxes:p(j,"showAxes",!1),showAngleIndicator:p(j,"showAngleIndicator",!1),angleColor:p(j,"angleColor",15208787),showBroadphase:p(j,"showBroadphase",!1),broadphaseColor:p(j,"broadphaseColor",16757760),showBounds:p(j,"showBounds",!1),boundsColor:p(j,"boundsColor",16777215),showVelocity:p(j,"showVelocity",!1),velocityColor:p(j,"velocityColor",44783),showCollisions:p(j,"showCollisions",!1),collisionColor:p(j,"collisionColor",16094476),showSeparations:p(j,"showSeparations",!1),separationColor:p(j,"separationColor",16753920),showBody:p(j,"showBody",!0),showStaticBody:p(j,"showStaticBody",!0),showInternalEdges:p(j,"showInternalEdges",!1),renderFill:p(j,"renderFill",!1),renderLine:p(j,"renderLine",!0),fillColor:p(j,"fillColor",1075465),fillOpacity:p(j,"fillOpacity",1),lineColor:p(j,"lineColor",2678297),lineOpacity:p(j,"lineOpacity",1),lineThickness:p(j,"lineThickness",1),staticFillColor:p(j,"staticFillColor",857979),staticLineColor:p(j,"staticLineColor",1255396),showSleeping:p(j,"showSleeping",!1),staticBodySleepOpacity:p(j,"staticBodySleepOpacity",.7),sleepFillColor:p(j,"sleepFillColor",4605510),sleepLineColor:p(j,"sleepLineColor",10066585),showSensors:p(j,"showSensors",!0),sensorFillColor:p(j,"sensorFillColor",857979),sensorLineColor:p(j,"sensorLineColor",1255396),showPositions:p(j,"showPositions",!0),positionSize:p(j,"positionSize",4),positionColor:p(j,"positionColor",14697178),showJoint:p(j,"showJoint",!0),jointColor:p(j,"jointColor",14737474),jointLineOpacity:p(j,"jointLineOpacity",1),jointLineThickness:p(j,"jointLineThickness",2),pinSize:p(j,"pinSize",4),pinColor:p(j,"pinColor",4382944),springColor:p(j,"springColor",14697184),anchorColor:p(j,"anchorColor",15724527),anchorSize:p(j,"anchorSize",4),showConvexHulls:p(j,"showConvexHulls",!1),hullColor:p(j,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),p(A,"setBounds",!1)){var Z=A.setBounds;if(typeof Z=="boolean")this.setBounds();else{var ee=p(Z,"x",0),Y=p(Z,"y",0),V=p(Z,"width",T.sys.scale.width),O=p(Z,"height",T.sys.scale.height),F=p(Z,"thickness",64),X=p(Z,"left",!0),ie=p(Z,"right",!0),re=p(Z,"top",!0),q=p(Z,"bottom",!0);this.setBounds(ee,Y,V,O,F,X,ie,re,q)}}},setCompositeRenderStyle:function(S){var T=S.bodies,A=S.constraints,M=S.composites,I,D,k;for(I=0;I<T.length;I++)D=T[I],k=D.render,this.setBodyRenderStyle(D,k.lineColor,k.lineOpacity,k.lineThickness,k.fillColor,k.fillOpacity);for(I=0;I<A.length;I++)D=A[I],k=D.render,this.setConstraintRenderStyle(D,k.lineColor,k.lineOpacity,k.lineThickness,k.pinSize,k.anchorColor,k.anchorSize);for(I=0;I<M.length;I++)D=M[I],this.setCompositeRenderStyle(D);return this},setBodyRenderStyle:function(S,T,A,M,I,D){var k=S.render,G=this.debugConfig;return k?(T==null&&(T=S.isStatic?G.staticLineColor:G.lineColor),A==null&&(A=G.lineOpacity),M==null&&(M=G.lineThickness),I==null&&(I=S.isStatic?G.staticFillColor:G.fillColor),D==null&&(D=G.fillOpacity),T!==!1&&(k.lineColor=T),A!==!1&&(k.lineOpacity=A),M!==!1&&(k.lineThickness=M),I!==!1&&(k.fillColor=I),D!==!1&&(k.fillOpacity=D),this):this},setConstraintRenderStyle:function(S,T,A,M,I,D,k){var G=S.render,R=this.debugConfig;if(!G)return this;if(T==null){var H=G.type;H==="line"?T=R.jointColor:H==="pin"?T=R.pinColor:H==="spring"&&(T=R.springColor)}return A==null&&(A=R.jointLineOpacity),M==null&&(M=R.jointLineThickness),I==null&&(I=R.pinSize),D==null&&(D=R.anchorColor),k==null&&(k=R.anchorSize),T!==!1&&(G.lineColor=T),A!==!1&&(G.lineOpacity=A),M!==!1&&(G.lineThickness=M),I!==!1&&(G.pinSize=I),D!==!1&&(G.anchorColor=D),k!==!1&&(G.anchorSize=k),this},setEventsProxy:function(){var S=this,T=this.engine,A=this.localWorld;this.drawDebug&&(y.on(A,"compositeModified",function(M){S.setCompositeRenderStyle(M)}),y.on(A,"beforeAdd",function(M){for(var I=[].concat(M.object),D=0;D<I.length;D++){var k=I[D],G=k.render;k.type==="body"?S.setBodyRenderStyle(k,G.lineColor,G.lineOpacity,G.lineThickness,G.fillColor,G.fillOpacity):k.type==="composite"?S.setCompositeRenderStyle(k):k.type==="constraint"&&S.setConstraintRenderStyle(k,G.lineColor,G.lineOpacity,G.lineThickness,G.pinSize,G.anchorColor,G.anchorSize)}})),y.on(A,"beforeAdd",function(M){S.emit(m.BEFORE_ADD,M)}),y.on(A,"afterAdd",function(M){S.emit(m.AFTER_ADD,M)}),y.on(A,"beforeRemove",function(M){S.emit(m.BEFORE_REMOVE,M)}),y.on(A,"afterRemove",function(M){S.emit(m.AFTER_REMOVE,M)}),y.on(T,"beforeUpdate",function(M){S.emit(m.BEFORE_UPDATE,M)}),y.on(T,"afterUpdate",function(M){S.emit(m.AFTER_UPDATE,M)}),y.on(T,"collisionStart",function(M){var I=M.pairs,D,k;I.length>0&&I.map(function(G){D=G.bodyA,k=G.bodyB,D.gameObject&&D.gameObject.emit("collide",D,k,G),k.gameObject&&k.gameObject.emit("collide",k,D,G),y.trigger(D,"onCollide",{pair:G}),y.trigger(k,"onCollide",{pair:G}),D.onCollideCallback&&D.onCollideCallback(G),k.onCollideCallback&&k.onCollideCallback(G),D.onCollideWith[k.id]&&D.onCollideWith[k.id](k,G),k.onCollideWith[D.id]&&k.onCollideWith[D.id](D,G)}),S.emit(m.COLLISION_START,M,D,k)}),y.on(T,"collisionActive",function(M){var I=M.pairs,D,k;I.length>0&&I.map(function(G){D=G.bodyA,k=G.bodyB,D.gameObject&&D.gameObject.emit("collideActive",D,k,G),k.gameObject&&k.gameObject.emit("collideActive",k,D,G),y.trigger(D,"onCollideActive",{pair:G}),y.trigger(k,"onCollideActive",{pair:G}),D.onCollideActiveCallback&&D.onCollideActiveCallback(G),k.onCollideActiveCallback&&k.onCollideActiveCallback(G)}),S.emit(m.COLLISION_ACTIVE,M,D,k)}),y.on(T,"collisionEnd",function(M){var I=M.pairs,D,k;I.length>0&&I.map(function(G){D=G.bodyA,k=G.bodyB,D.gameObject&&D.gameObject.emit("collideEnd",D,k,G),k.gameObject&&k.gameObject.emit("collideEnd",k,D,G),y.trigger(D,"onCollideEnd",{pair:G}),y.trigger(k,"onCollideEnd",{pair:G}),D.onCollideEndCallback&&D.onCollideEndCallback(G),k.onCollideEndCallback&&k.onCollideEndCallback(G)}),S.emit(m.COLLISION_END,M,D,k)})},setBounds:function(S,T,A,M,I,D,k,G,R){return S===void 0&&(S=0),T===void 0&&(T=0),A===void 0&&(A=this.scene.sys.scale.width),M===void 0&&(M=this.scene.sys.scale.height),I===void 0&&(I=64),D===void 0&&(D=!0),k===void 0&&(k=!0),G===void 0&&(G=!0),R===void 0&&(R=!0),this.updateWall(D,"left",S-I,T-I,I,M+I*2),this.updateWall(k,"right",S+A,T-I,I,M+I*2),this.updateWall(G,"top",S,T-I,A,I),this.updateWall(R,"bottom",S,T+M,A,I),this},updateWall:function(S,T,A,M,I,D){var k=this.walls[T];S?(k&&b.remove(this.localWorld,k),A+=I/2,M+=D/2,this.walls[T]=this.create(A,M,I,D,{isStatic:!0,friction:0,frictionStatic:0})):(k&&b.remove(this.localWorld,k),this.walls[T]=null)},createDebugGraphic:function(){var S=this.scene.sys.add.graphics({x:0,y:0});return S.setDepth(Number.MAX_VALUE),this.debugGraphic=S,this.drawDebug=!0,S},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(S,T,A){return S===void 0&&(S=0),T===void 0&&(T=1),A===void 0&&(A=.001),this.localWorld.gravity.x=S,this.localWorld.gravity.y=T,this.localWorld.gravity.scale=A,this},create:function(S,T,A,M,I){var D=o.rectangle(S,T,A,M,I);return b.add(this.localWorld,D),D},add:function(S){return b.add(this.localWorld,S),this},remove:function(S,T){Array.isArray(S)||(S=[S]);for(var A=0;A<S.length;A++){var M=S[A],I=M.body?M.body:M;h.remove(this.localWorld,I,T)}return this},removeConstraint:function(S,T){return h.remove(this.localWorld,S,T),this},convertTilemapLayer:function(S,T){var A=S.layer,M=S.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(M,T),this},convertTiles:function(S,T){if(S.length===0)return this;for(var A=0;A<S.length;A++)new x(this,S[A],T);return this},nextGroup:function(S){return v.nextGroup(S)},nextCategory:function(){return v.nextCategory()},pause:function(){return this.enabled=!1,this.emit(m.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=c.now(),this.emit(m.RESUME),this},update:function(S){if(!(!this.enabled||!this.autoUpdate)){var T=this.engine,A=this.runner,M=c.now(),I=A.delta,D=0,k=S-A.timeLastTick;if((!k||!A.timeLastTick||k>Math.max(w._maxFrameDelta,A.maxFrameTime))&&(k=A.frameDelta||w._frameDeltaFallback),A.frameDeltaSmoothing){A.frameDeltaHistory.push(k),A.frameDeltaHistory=A.frameDeltaHistory.slice(-A.frameDeltaHistorySize);var G=A.frameDeltaHistory.slice(0).sort(),R=A.frameDeltaHistory.slice(G.length*w._smoothingLowerBound,G.length*w._smoothingUpperBound),H=w._mean(R);k=H||k}A.frameDeltaSnapping&&(k=1e3/Math.round(1e3/k)),A.frameDelta=k,A.timeLastTick=S,A.timeBuffer+=A.frameDelta,A.timeBuffer=c.clamp(A.timeBuffer,0,A.frameDelta+I*w._timeBufferMargin),A.lastUpdatesDeferred=0;for(var j=A.maxUpdates||Math.ceil(A.maxFrameTime/I),Z=c.now();I>0&&A.timeBuffer>=I*w._timeBufferMargin;){d.update(T,I),A.timeBuffer-=I,D+=1;var ee=c.now()-M,Y=c.now()-Z,V=ee+w._elapsedNextEstimate*Y/D;if(D>=j||V>A.maxFrameTime){A.lastUpdatesDeferred=Math.round(Math.max(0,A.timeBuffer/I-w._timeBufferMargin));break}}}},step:function(S){d.update(this.engine,S)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(S){var T=S.hasOwnProperty("body")?S.body:S;return h.get(this.localWorld,T.id,T.type)!==null},getAllBodies:function(){return h.allBodies(this.localWorld)},getAllConstraints:function(){return h.allConstraints(this.localWorld)},getAllComposites:function(){return h.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var S=this.debugConfig,T=this.engine,A=this.debugGraphic,M=h.allBodies(this.localWorld);this.debugGraphic.clear(),S.showBroadphase&&T.broadphase.controller&&this.renderGrid(T.broadphase,A,S.broadphaseColor,.5),S.showBounds&&this.renderBodyBounds(M,A,S.boundsColor,.5),(S.showBody||S.showStaticBody)&&this.renderBodies(M),S.showJoint&&this.renderJoints(),(S.showAxes||S.showAngleIndicator)&&this.renderBodyAxes(M,A,S.showAxes,S.angleColor,.5),S.showVelocity&&this.renderBodyVelocity(M,A,S.velocityColor,1,2),S.showSeparations&&this.renderSeparations(T.pairs.list,A,S.separationColor),S.showCollisions&&this.renderCollisions(T.pairs.list,A,S.collisionColor)}},renderGrid:function(S,T,A,M){T.lineStyle(1,A,M);for(var I=c.keys(S.buckets),D=0;D<I.length;D++){var k=I[D];if(!(S.buckets[k].length<2)){var G=k.split(/C|R/);T.strokeRect(parseInt(G[1],10)*S.bucketWidth,parseInt(G[2],10)*S.bucketHeight,S.bucketWidth,S.bucketHeight)}}return this},renderSeparations:function(S,T,A){T.lineStyle(1,A,1);for(var M=0;M<S.length;M++){var I=S[M];if(I.isActive){var D=I.collision,k=D.bodyA,G=D.bodyB,R=k.position,H=G.position,j=D.penetration,Z=!k.isStatic&&!G.isStatic?4:1;G.isStatic&&(Z=0),T.lineBetween(H.x,H.y,H.x-j.x*Z,H.y-j.y*Z),Z=!k.isStatic&&!G.isStatic?4:1,k.isStatic&&(Z=0),T.lineBetween(R.x,R.y,R.x-j.x*Z,R.y-j.y*Z)}}return this},renderCollisions:function(S,T,A){T.lineStyle(1,A,.5),T.fillStyle(A,1);var M,I;for(M=0;M<S.length;M++)if(I=S[M],!!I.isActive)for(var D=0;D<I.contactCount;D++){var k=I.contacts[D],G=k.vertex;G&&T.fillRect(G.x-2,G.y-2,5,5)}for(M=0;M<S.length;M++)if(I=S[M],!!I.isActive){var R=I.collision,H=I.contacts;if(I.contactCount>0){var j=H[0].vertex.x,Z=H[0].vertex.y;I.contactCount===2&&(j=(H[0].vertex.x+H[1].vertex.x)/2,Z=(H[0].vertex.y+H[1].vertex.y)/2),R.bodyB===R.supports[0].body||R.bodyA.isStatic?T.lineBetween(j-R.normal.x*8,Z-R.normal.y*8,j,Z):T.lineBetween(j+R.normal.x*8,Z+R.normal.y*8,j,Z)}}return this},renderBodyBounds:function(S,T,A,M){T.lineStyle(1,A,M);for(var I=0;I<S.length;I++){var D=S[I];if(D.render.visible){var k=D.bounds;if(k)T.strokeRect(k.min.x,k.min.y,k.max.x-k.min.x,k.max.y-k.min.y);else for(var G=D.parts,R=G.length>1?1:0;R<G.length;R++){var H=G[R];T.strokeRect(H.bounds.min.x,H.bounds.min.y,H.bounds.max.x-H.bounds.min.x,H.bounds.max.y-H.bounds.min.y)}}}return this},renderBodyAxes:function(S,T,A,M,I){T.lineStyle(1,M,I);for(var D=0;D<S.length;D++){var k=S[D],G=k.parts;if(k.render.visible){var R,H,j;if(A)for(H=G.length>1?1:0;H<G.length;H++)for(R=G[H],j=0;j<R.axes.length;j++){var Z=R.axes[j];T.lineBetween(R.position.x,R.position.y,R.position.x+Z.x*20,R.position.y+Z.y*20)}else for(H=G.length>1?1:0;H<G.length;H++)for(R=G[H],j=0;j<R.axes.length;j++)T.lineBetween(R.position.x,R.position.y,(R.vertices[0].x+R.vertices[R.vertices.length-1].x)/2,(R.vertices[0].y+R.vertices[R.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(S,T,A,M,I){T.lineStyle(I,A,M);for(var D=0;D<S.length;D++){var k=S[D];k.render.visible&&T.lineBetween(k.position.x,k.position.y,k.position.x+(k.position.x-k.positionPrev.x)*2,k.position.y+(k.position.y-k.positionPrev.y)*2)}return this},renderBodies:function(S){for(var T=this.debugGraphic,A=this.debugConfig,M=A.showBody,I=A.showStaticBody,D=A.showSleeping,k=A.showInternalEdges,G=A.showConvexHulls,R=A.renderFill,H=A.renderLine,j=A.staticBodySleepOpacity,Z=A.sleepFillColor,ee=A.sleepLineColor,Y=A.hullColor,V=0;V<S.length;V++){var O=S[V];if(O.render.visible&&!(!I&&O.isStatic||!M&&!O.isStatic)){var F=O.render.lineColor,X=O.render.lineOpacity,ie=O.render.lineThickness,re=O.render.fillColor,q=O.render.fillOpacity;D&&O.isSleeping&&(O.isStatic?(X*=j,q*=j):(F=ee,re=Z)),R||(re=null),H||(F=null),this.renderBody(O,T,k,F,X,ie,re,q);var ae=O.parts.length;G&&ae>1&&this.renderConvexHull(O,T,Y,ie)}}},renderBody:function(S,T,A,M,I,D,k,G){M===void 0&&(M=null),I===void 0&&(I=null),D===void 0&&(D=1),k===void 0&&(k=null),G===void 0&&(G=null);for(var R=this.debugConfig,H=R.sensorFillColor,j=R.sensorLineColor,Z=S.parts,ee=Z.length,Y=ee>1?1:0;Y<ee;Y++){var V=Z[Y],O=V.render,F=O.opacity;if(!(!O.visible||F===0||V.isSensor&&!R.showSensors)){var X=V.circleRadius;if(T.beginPath(),V.isSensor?(k!==null&&T.fillStyle(H,G*F),M!==null&&T.lineStyle(D,j,I*F)):(k!==null&&T.fillStyle(k,G*F),M!==null&&T.lineStyle(D,M,I*F)),X)T.arc(V.position.x,V.position.y,X,0,2*Math.PI);else{var ie=V.vertices,re=ie.length;T.moveTo(ie[0].x,ie[0].y);for(var q=1;q<re;q++){var ae=ie[q];if(!ie[q-1].isInternal||A?T.lineTo(ae.x,ae.y):T.moveTo(ae.x,ae.y),q<re&&ae.isInternal&&!A){var ue=(q+1)%re;T.moveTo(ie[ue].x,ie[ue].y)}}T.closePath()}k!==null&&T.fillPath(),M!==null&&T.strokePath()}}if(R.showPositions&&!S.isStatic){var me=S.position.x,be=S.position.y,ke=Math.ceil(R.positionSize/2);T.fillStyle(R.positionColor,1),T.fillRect(me-ke,be-ke,R.positionSize,R.positionSize)}return this},renderConvexHull:function(S,T,A,M){M===void 0&&(M=1);var I=S.parts,D=I.length;if(D>1){var k=S.vertices;T.lineStyle(M,A),T.beginPath(),T.moveTo(k[0].x,k[0].y);for(var G=1;G<k.length;G++)T.lineTo(k[G].x,k[G].y);T.lineTo(k[0].x,k[0].y),T.strokePath()}return this},renderJoints:function(){for(var S=this.debugGraphic,T=h.allConstraints(this.localWorld),A=0;A<T.length;A++){var M=T[A].render,I=M.lineColor,D=M.lineOpacity,k=M.lineThickness,G=M.pinSize,R=M.anchorColor,H=M.anchorSize;this.renderConstraint(T[A],S,I,D,k,G,R,H)}},renderConstraint:function(S,T,A,M,I,D,k,G){var R=S.render;if(!R.visible||!S.pointA||!S.pointB)return this;T.lineStyle(I,A,M);var H=S.bodyA,j=S.bodyB,Z,ee;if(H?Z=C.add(H.position,S.pointA):Z=S.pointA,R.type==="pin")T.strokeCircle(Z.x,Z.y,D);else{if(j?ee=C.add(j.position,S.pointB):ee=S.pointB,T.beginPath(),T.moveTo(Z.x,Z.y),R.type==="spring")for(var Y=C.sub(ee,Z),V=C.perp(C.normalise(Y)),O=Math.ceil(c.clamp(S.length/5,12,20)),F,X=1;X<O;X+=1)F=X%2===0?1:-1,T.lineTo(Z.x+Y.x*(X/O)+V.x*F*4,Z.y+Y.y*(X/O)+V.y*F*4);T.lineTo(ee.x,ee.y)}return T.strokePath(),R.anchors&&G>0&&(T.fillStyle(k),T.fillCircle(Z.x,Z.y,G),T.fillCircle(ee.x,ee.y,G)),this},resetCollisionIDs:function(){return u._nextCollidingGroupId=1,u._nextNonCollidingGroupId=-1,u._nextCategory=1,this},shutdown:function(){y.off(this.engine),this.removeAllListeners(),b.clear(this.localWorld,!1),d.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});n.exports=_},70410:n=>{var a={setBounce:function(s){return this.body.restitution=s,this}};n.exports=a},66968:n=>{var a={setCollisionCategory:function(s){return this.body.collisionFilter.category=s,this},setCollisionGroup:function(s){return this.body.collisionFilter.group=s,this},setCollidesWith:function(s){var o=0;if(!Array.isArray(s))o=s;else for(var u=0;u<s.length;u++)o|=s[u];return this.body.collisionFilter.mask=o,this},setOnCollide:function(s){return this.body.onCollideCallback=s,this},setOnCollideEnd:function(s){return this.body.onCollideEndCallback=s,this},setOnCollideActive:function(s){return this.body.onCollideActiveCallback=s,this},setOnCollideWith:function(s,o){Array.isArray(s)||(s=[s]);for(var u=0;u<s.length;u++){var l=s[u].hasOwnProperty("body")?s[u].body:s[u];this.body.setOnCollideWith(l,o)}return this}};n.exports=a},51607:(n,a,s)=>{var o=s(22562),u={applyForce:function(l){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,l),this},applyForceFrom:function(l,c){return o.applyForce(this.body,l,c),this},thrust:function(l){var c=this.body.angle;return this._tempVec2.set(l*Math.cos(c),l*Math.sin(c)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(l){var c=this.body.angle-Math.PI/2;return this._tempVec2.set(l*Math.cos(c),l*Math.sin(c)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(l){var c=this.body.angle+Math.PI/2;return this._tempVec2.set(l*Math.cos(c),l*Math.sin(c)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(l){var c=this.body.angle-Math.PI;return this._tempVec2.set(l*Math.cos(c),l*Math.sin(c)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};n.exports=u},5436:n=>{var a={setFriction:function(s,o,u){return this.body.friction=s,o!==void 0&&(this.body.frictionAir=o),u!==void 0&&(this.body.frictionStatic=u),this},setFrictionAir:function(s){return this.body.frictionAir=s,this},setFrictionStatic:function(s){return this.body.frictionStatic=s,this}};n.exports=a},39858:n=>{var a={setIgnoreGravity:function(s){return this.body.ignoreGravity=s,this}};n.exports=a},37302:(n,a,s)=>{var o=s(22562),u=s(26099),l={setMass:function(c){return o.setMass(this.body,c),this},setDensity:function(c){return o.setDensity(this.body,c),this},centerOfMass:{get:function(){return new u(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};n.exports=l},39132:n=>{var a={setSensor:function(s){return this.body.isSensor=s,this},isSensor:function(){return this.body.isSensor}};n.exports=a},57772:(n,a,s)=>{var o=s(66280),u=s(22562),l=s(43855),c=s(95540),h=s(19496),d=s(85791),f=s(41598),m={setRectangle:function(p,g,v){return this.setBody({type:"rectangle",width:p,height:g},v)},setCircle:function(p,g){return this.setBody({type:"circle",radius:p},g)},setPolygon:function(p,g,v){return this.setBody({type:"polygon",sides:g,radius:p},v)},setTrapezoid:function(p,g,v,y){return this.setBody({type:"trapezoid",width:p,height:g,slope:v},y)},setExistingBody:function(p,g){g===void 0&&(g=!0),this.body&&this.world.remove(this.body,!0),this.body=p;for(var v=0;v<p.parts.length;v++)p.parts[v].gameObject=this;var y=this;if(p.destroy=function(){y.world.remove(y.body,!0),y.body.gameObject=null},g&&(this.world.has(p)&&this.world.remove(p,!0),this.world.add(p)),this._originComponent){var x=p.render.sprite.xOffset,b=p.render.sprite.yOffset,w=p.centerOfMass.x,C=p.centerOfMass.y;if(l(w,.5)&&l(C,.5))this.setOrigin(x+.5,b+.5);else{var _=p.centerOffset.x,S=p.centerOffset.y;this.setOrigin(x+_/this.displayWidth,b+S/this.displayHeight)}}return this},setBody:function(p,g){if(!p)return this;var v;typeof p=="string"&&(p={type:p});var y=c(p,"type","rectangle"),x=c(p,"x",this._tempVec2.x),b=c(p,"y",this._tempVec2.y),w=c(p,"width",this.width),C=c(p,"height",this.height);switch(y){case"rectangle":v=o.rectangle(x,b,w,C,g);break;case"circle":var _=c(p,"radius",Math.max(w,C)/2),S=c(p,"maxSides",25);v=o.circle(x,b,_,g,S);break;case"trapezoid":var T=c(p,"slope",.5);v=o.trapezoid(x,b,w,C,T,g);break;case"polygon":var A=c(p,"sides",5),M=c(p,"radius",Math.max(w,C)/2);v=o.polygon(x,b,A,M,g);break;case"fromVertices":case"fromVerts":var I=c(p,"verts",null);if(I)if(typeof I=="string"&&(I=f.fromPath(I)),this.body&&!this.body.hasOwnProperty("temp"))u.setVertices(this.body,I),v=this.body;else{var D=c(p,"flagInternal",!1),k=c(p,"removeCollinear",.01),G=c(p,"minimumArea",10);v=o.fromVertices(x,b,I,g,D,k,G)}break;case"fromPhysicsEditor":v=h.parseBody(x,b,p,g);break;case"fromPhysicsTracer":v=d.parseBody(x,b,p,g);break}return v&&this.setExistingBody(v,p.addToWorld),this}};n.exports=m},38083:(n,a,s)=>{var o=s(1121),u=s(53614),l=s(35810),c={setToSleep:function(){return u.set(this.body,!0),this},setAwake:function(){return u.set(this.body,!1),this},setSleepThreshold:function(h){return h===void 0&&(h=60),this.body.sleepThreshold=h,this},setSleepEvents:function(h,d){return this.setSleepStartEvent(h),this.setSleepEndEvent(d),this},setSleepStartEvent:function(h){if(h){var d=this.world;l.on(this.body,"sleepStart",function(f){d.emit(o.SLEEP_START,f,this)})}else l.off(this.body,"sleepStart");return this},setSleepEndEvent:function(h){if(h){var d=this.world;l.on(this.body,"sleepEnd",function(f){d.emit(o.SLEEP_END,f,this)})}else l.off(this.body,"sleepEnd");return this}};n.exports=c},90556:(n,a,s)=>{var o=s(22562),u={setStatic:function(l){return o.setStatic(this.body,l),this},isStatic:function(){return this.body.isStatic}};n.exports=u},85436:(n,a,s)=>{var o=s(22562),u=s(36383),l=s(86554),c=s(30954),h=4,d={x:{get:function(){return this.body.position.x},set:function(f){this._tempVec2.set(f,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(f){this._tempVec2.set(this.x,f),o.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(f){var m=1/this._scaleX,p=1/this._scaleY;this._scaleX=f,this._scaleX===0?this.renderFlags&=~h:this.renderFlags|=h,o.scale(this.body,m,p),o.scale(this.body,f,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(f){var m=1/this._scaleX,p=1/this._scaleY;this._scaleY=f,this._scaleY===0?this.renderFlags&=~h:this.renderFlags|=h,o.scale(this.body,m,p),o.scale(this.body,this._scaleX,f)}},angle:{get:function(){return c(this.body.angle*u.RAD_TO_DEG)},set:function(f){this.rotation=c(f)*u.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(f){this._rotation=l(f),o.setAngle(this.body,this._rotation)}},setPosition:function(f,m){return f===void 0&&(f=0),m===void 0&&(m=f),this._tempVec2.set(f,m),o.setPosition(this.body,this._tempVec2),this},setRotation:function(f){return f===void 0&&(f=0),this._rotation=l(f),o.setAngle(this.body,f),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(f){return f===void 0&&(f=0),this.angle=f,o.setAngle(this.body,this.rotation),this},setScale:function(f,m,p){f===void 0&&(f=1),m===void 0&&(m=f);var g=1/this._scaleX,v=1/this._scaleY;return this._scaleX=f,this._scaleY=m,o.scale(this.body,g,v,p),o.scale(this.body,f,m,p),this}};n.exports=d},42081:(n,a,s)=>{var o=s(22562),u={setVelocityX:function(l){return this._tempVec2.set(l,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(l){return this._tempVec2.set(this.body.velocity.x,l),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(l,c){return this._tempVec2.set(l,c),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(l){return o.setAngularVelocity(this.body,l),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(l){return o.setAngularSpeed(this.body,l),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};n.exports=u},31884:(n,a,s)=>{n.exports={Bounce:s(70410),Collision:s(66968),Force:s(51607),Friction:s(5436),Gravity:s(39858),Mass:s(37302),Sensor:s(39132),SetBody:s(57772),Sleep:s(38083),Static:s(90556),Transform:s(85436),Velocity:s(42081)}},85608:n=>{n.exports="afteradd"},1213:n=>{n.exports="afterremove"},25968:n=>{n.exports="afterupdate"},67205:n=>{n.exports="beforeadd"},39438:n=>{n.exports="beforeremove"},44823:n=>{n.exports="beforeupdate"},92593:n=>{n.exports="collisionactive"},60128:n=>{n.exports="collisionend"},76861:n=>{n.exports="collisionstart"},92362:n=>{n.exports="dragend"},76408:n=>{n.exports="drag"},93971:n=>{n.exports="dragstart"},5656:n=>{n.exports="pause"},47861:n=>{n.exports="resume"},79099:n=>{n.exports="sleepend"},35906:n=>{n.exports="sleepstart"},1121:(n,a,s)=>{n.exports={AFTER_ADD:s(85608),AFTER_REMOVE:s(1213),AFTER_UPDATE:s(25968),BEFORE_ADD:s(67205),BEFORE_REMOVE:s(39438),BEFORE_UPDATE:s(44823),COLLISION_ACTIVE:s(92593),COLLISION_END:s(60128),COLLISION_START:s(76861),DRAG_END:s(92362),DRAG:s(76408),DRAG_START:s(93971),PAUSE:s(5656),RESUME:s(47861),SLEEP_END:s(79099),SLEEP_START:s(35906)}},3875:(n,a,s)=>{n.exports={BodyBounds:s(68174),Components:s(31884),Events:s(1121),Factory:s(28137),MatterGameObject:s(75803),Image:s(23181),Matter:s(19933),MatterPhysics:s(42045),PolyDecomp:s(55973),Sprite:s(34803),TileBody:s(73834),PhysicsEditorParser:s(19496),PhysicsJSONParser:s(85791),PointerConstraint:s(98713),World:s(68243)}},22562:(n,a,s)=>{var o={};n.exports=o;var u=s(41598),l=s(31725),c=s(53614),h=s(53402),d=s(15647),f=s(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(p){var g={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:p.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!p.hasOwnProperty("position")&&p.hasOwnProperty("vertices")?p.position=u.centre(p.vertices):p.hasOwnProperty("vertices")||(g.vertices=u.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var v=h.extend(g,p);return m(v,p),v.setOnCollideWith=function(y,x){return x?this.onCollideWith[y.id]=x:delete this.onCollideWith[y.id],this},v},o.nextGroup=function(p){return p?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var m=function(p,g){if(g=g||{},o.set(p,{bounds:p.bounds||d.create(p.vertices),positionPrev:p.positionPrev||l.clone(p.position),anglePrev:p.anglePrev||p.angle,vertices:p.vertices,parts:p.parts||[p],isStatic:p.isStatic,isSleeping:p.isSleeping,parent:p.parent||p}),u.rotate(p.vertices,p.angle,p.position),f.rotate(p.axes,p.angle),d.update(p.bounds,p.vertices,p.velocity),o.set(p,{axes:g.axes||p.axes,area:g.area||p.area,mass:g.mass||p.mass,inertia:g.inertia||p.inertia}),p.parts.length===1){var v=p.bounds,y=p.centerOfMass,x=p.centerOffset,b=v.max.x-v.min.x,w=v.max.y-v.min.y;y.x=-(v.min.x-p.position.x)/b,y.y=-(v.min.y-p.position.y)/w,x.x=b*y.x,x.y=w*y.y}};o.set=function(p,g,v){var y;typeof g=="string"&&(y=g,g={},g[y]=v);for(y in g)if(Object.prototype.hasOwnProperty.call(g,y))switch(v=g[y],y){case"isStatic":o.setStatic(p,v);break;case"isSleeping":c.set(p,v);break;case"mass":o.setMass(p,v);break;case"density":o.setDensity(p,v);break;case"inertia":o.setInertia(p,v);break;case"vertices":o.setVertices(p,v);break;case"position":o.setPosition(p,v);break;case"angle":o.setAngle(p,v);break;case"velocity":o.setVelocity(p,v);break;case"angularVelocity":o.setAngularVelocity(p,v);break;case"speed":o.setSpeed(p,v);break;case"angularSpeed":o.setAngularSpeed(p,v);break;case"parts":o.setParts(p,v);break;case"centre":o.setCentre(p,v);break;default:p[y]=v}},o.setStatic=function(p,g){for(var v=0;v<p.parts.length;v++){var y=p.parts[v];g?(y.isStatic||(y._original={restitution:y.restitution,friction:y.friction,mass:y.mass,inertia:y.inertia,density:y.density,inverseMass:y.inverseMass,inverseInertia:y.inverseInertia}),y.restitution=0,y.friction=1,y.mass=y.inertia=y.density=1/0,y.inverseMass=y.inverseInertia=0,y.positionPrev.x=y.position.x,y.positionPrev.y=y.position.y,y.anglePrev=y.angle,y.angularVelocity=0,y.speed=0,y.angularSpeed=0,y.motion=0):y._original&&(y.restitution=y._original.restitution,y.friction=y._original.friction,y.mass=y._original.mass,y.inertia=y._original.inertia,y.density=y._original.density,y.inverseMass=y._original.inverseMass,y.inverseInertia=y._original.inverseInertia,y._original=null),y.isStatic=g}},o.setMass=function(p,g){var v=p.inertia/(p.mass/6);p.inertia=v*(g/6),p.inverseInertia=1/p.inertia,p.mass=g,p.inverseMass=1/p.mass,p.density=p.mass/p.area},o.setDensity=function(p,g){o.setMass(p,g*p.area),p.density=g},o.setInertia=function(p,g){p.inertia=g,p.inverseInertia=1/p.inertia},o.setVertices=function(p,g){g[0].body===p?p.vertices=g:p.vertices=u.create(g,p),p.axes=f.fromVertices(p.vertices),p.area=u.area(p.vertices),o.setMass(p,p.density*p.area);var v=u.centre(p.vertices);u.translate(p.vertices,v,-1),o.setInertia(p,o._inertiaScale*u.inertia(p.vertices,p.mass)),u.translate(p.vertices,p.position),d.update(p.bounds,p.vertices,p.velocity)},o.setParts=function(p,g,v){var y;for(g=g.slice(0),p.parts.length=0,p.parts.push(p),p.parent=p,y=0;y<g.length;y++){var x=g[y];x!==p&&(x.parent=p,p.parts.push(x))}if(p.parts.length!==1){if(v=typeof v<"u"?v:!0,v){var b=[];for(y=0;y<g.length;y++)b=b.concat(g[y].vertices);u.clockwiseSort(b);var w=u.hull(b),C=u.centre(w);o.setVertices(p,w),u.translate(p.vertices,C)}var _=o._totalProperties(p),S=_.centre.x,T=_.centre.y,A=p.bounds,M=p.centerOfMass,I=p.centerOffset;d.update(A,p.vertices,p.velocity),M.x=-(A.min.x-S)/(A.max.x-A.min.x),M.y=-(A.min.y-T)/(A.max.y-A.min.y),I.x=S,I.y=T,p.area=_.area,p.parent=p,p.position.x=S,p.position.y=T,p.positionPrev.x=S,p.positionPrev.y=T,o.setMass(p,_.mass),o.setInertia(p,_.inertia),o.setPosition(p,_.centre)}},o.setCentre=function(p,g,v){v?(p.positionPrev.x+=g.x,p.positionPrev.y+=g.y,p.position.x+=g.x,p.position.y+=g.y):(p.positionPrev.x=g.x-(p.position.x-p.positionPrev.x),p.positionPrev.y=g.y-(p.position.y-p.positionPrev.y),p.position.x=g.x,p.position.y=g.y)},o.setPosition=function(p,g,v){var y=l.sub(g,p.position);v?(p.positionPrev.x=p.position.x,p.positionPrev.y=p.position.y,p.velocity.x=y.x,p.velocity.y=y.y,p.speed=l.magnitude(y)):(p.positionPrev.x+=y.x,p.positionPrev.y+=y.y);for(var x=0;x<p.parts.length;x++){var b=p.parts[x];b.position.x+=y.x,b.position.y+=y.y,u.translate(b.vertices,y),d.update(b.bounds,b.vertices,p.velocity)}},o.setAngle=function(p,g,v){var y=g-p.angle;v?(p.anglePrev=p.angle,p.angularVelocity=y,p.angularSpeed=Math.abs(y)):p.anglePrev+=y;for(var x=0;x<p.parts.length;x++){var b=p.parts[x];b.angle+=y,u.rotate(b.vertices,y,p.position),f.rotate(b.axes,y),d.update(b.bounds,b.vertices,p.velocity),x>0&&l.rotateAbout(b.position,y,p.position,b.position)}},o.setVelocity=function(p,g){var v=p.deltaTime/o._baseDelta;p.positionPrev.x=p.position.x-g.x*v,p.positionPrev.y=p.position.y-g.y*v,p.velocity.x=(p.position.x-p.positionPrev.x)/v,p.velocity.y=(p.position.y-p.positionPrev.y)/v,p.speed=l.magnitude(p.velocity)},o.getVelocity=function(p){var g=o._baseDelta/p.deltaTime;return{x:(p.position.x-p.positionPrev.x)*g,y:(p.position.y-p.positionPrev.y)*g}},o.getSpeed=function(p){return l.magnitude(o.getVelocity(p))},o.setSpeed=function(p,g){o.setVelocity(p,l.mult(l.normalise(o.getVelocity(p)),g))},o.setAngularVelocity=function(p,g){var v=p.deltaTime/o._baseDelta;p.anglePrev=p.angle-g*v,p.angularVelocity=(p.angle-p.anglePrev)/v,p.angularSpeed=Math.abs(p.angularVelocity)},o.getAngularVelocity=function(p){return(p.angle-p.anglePrev)*o._baseDelta/p.deltaTime},o.getAngularSpeed=function(p){return Math.abs(o.getAngularVelocity(p))},o.setAngularSpeed=function(p,g){o.setAngularVelocity(p,h.sign(o.getAngularVelocity(p))*g)},o.translate=function(p,g,v){o.setPosition(p,l.add(p.position,g),v)},o.rotate=function(p,g,v,y){if(!v)o.setAngle(p,p.angle+g,y);else{var x=Math.cos(g),b=Math.sin(g),w=p.position.x-v.x,C=p.position.y-v.y;o.setPosition(p,{x:v.x+(w*x-C*b),y:v.y+(w*b+C*x)},y),o.setAngle(p,p.angle+g,y)}},o.scale=function(p,g,v,y){var x=0,b=0;y=y||p.position;for(var w=p.inertia===1/0,C=0;C<p.parts.length;C++){var _=p.parts[C];_.scale.x=g,_.scale.y=v,u.scale(_.vertices,g,v,y),_.axes=f.fromVertices(_.vertices),_.area=u.area(_.vertices),o.setMass(_,p.density*_.area),u.translate(_.vertices,{x:-_.position.x,y:-_.position.y}),o.setInertia(_,o._inertiaScale*u.inertia(_.vertices,_.mass)),u.translate(_.vertices,{x:_.position.x,y:_.position.y}),C>0&&(x+=_.area,b+=_.inertia),_.position.x=y.x+(_.position.x-y.x)*g,_.position.y=y.y+(_.position.y-y.y)*v,d.update(_.bounds,_.vertices,p.velocity)}p.parts.length>1&&(p.area=x,p.isStatic||(o.setMass(p,p.density*x),o.setInertia(p,b))),p.circleRadius&&(g===v?p.circleRadius*=g:p.circleRadius=null),w&&o.setInertia(p,1/0)},o.update=function(p,g){g=(typeof g<"u"?g:16.666666666666668)*p.timeScale;var v=g*g,y=o._timeCorrection?g/(p.deltaTime||g):1,x=1-p.frictionAir*(g/h._baseDelta),b=(p.position.x-p.positionPrev.x)*y,w=(p.position.y-p.positionPrev.y)*y;p.velocity.x=b*x+p.force.x/p.mass*v,p.velocity.y=w*x+p.force.y/p.mass*v,p.positionPrev.x=p.position.x,p.positionPrev.y=p.position.y,p.position.x+=p.velocity.x,p.position.y+=p.velocity.y,p.deltaTime=g,p.angularVelocity=(p.angle-p.anglePrev)*x*y+p.torque/p.inertia*v,p.anglePrev=p.angle,p.angle+=p.angularVelocity,p.speed=l.magnitude(p.velocity),p.angularSpeed=Math.abs(p.angularVelocity);for(var C=0;C<p.parts.length;C++){var _=p.parts[C];u.translate(_.vertices,p.velocity),C>0&&(_.position.x+=p.velocity.x,_.position.y+=p.velocity.y),p.angularVelocity!==0&&(u.rotate(_.vertices,p.angularVelocity,p.position),f.rotate(_.axes,p.angularVelocity),C>0&&l.rotateAbout(_.position,p.angularVelocity,p.position,_.position)),d.update(_.bounds,_.vertices,p.velocity)}},o.updateVelocities=function(p){var g=o._baseDelta/p.deltaTime,v=p.velocity;v.x=(p.position.x-p.positionPrev.x)*g,v.y=(p.position.y-p.positionPrev.y)*g,p.speed=Math.sqrt(v.x*v.x+v.y*v.y),p.angularVelocity=(p.angle-p.anglePrev)*g,p.angularSpeed=Math.abs(p.angularVelocity)},o.applyForce=function(p,g,v){var y={x:g.x-p.position.x,y:g.y-p.position.y};p.force.x+=v.x,p.force.y+=v.y,p.torque+=y.x*v.y-y.y*v.x},o._totalProperties=function(p){for(var g={mass:0,area:0,inertia:0,centre:{x:0,y:0}},v=p.parts.length===1?0:1;v<p.parts.length;v++){var y=p.parts[v],x=y.mass!==1/0?y.mass:1;g.mass+=x,g.area+=y.area,g.inertia+=y.inertia,g.centre=l.add(g.centre,l.mult(y.position,x))}return g.centre=l.div(g.centre,g.mass),g},o.wrap=function(p,g){var v=d.wrap(p.bounds,g);return v&&o.translate(p,v),v}})()},69351:(n,a,s)=>{var o={};n.exports=o;var u=s(35810),l=s(53402),c=s(15647),h=s(22562);(function(){o.create=function(d){return l.extend({id:l.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},d)},o.setModified=function(d,f,m,p){if(u.trigger(d,"compositeModified",d),d.isModified=f,f&&d.cache&&(d.cache.allBodies=null,d.cache.allConstraints=null,d.cache.allComposites=null),m&&d.parent&&o.setModified(d.parent,f,m,p),p)for(var g=0;g<d.composites.length;g++){var v=d.composites[g];o.setModified(v,f,m,p)}},o.add=function(d,f){var m=[].concat(f);u.trigger(d,"beforeAdd",{object:f});for(var p=0;p<m.length;p++){var g=m[p];switch(g.type){case"body":if(g.parent!==g){l.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(d,g);break;case"constraint":o.addConstraint(d,g);break;case"composite":o.addComposite(d,g);break;case"mouseConstraint":o.addConstraint(d,g.constraint);break}}return u.trigger(d,"afterAdd",{object:f}),d},o.remove=function(d,f,m){var p=[].concat(f);u.trigger(d,"beforeRemove",{object:f});for(var g=0;g<p.length;g++){var v=p[g];switch(v.type){case"body":o.removeBody(d,v,m);break;case"constraint":o.removeConstraint(d,v,m);break;case"composite":o.removeComposite(d,v,m);break;case"mouseConstraint":o.removeConstraint(d,v.constraint);break}}return u.trigger(d,"afterRemove",{object:f}),d},o.addComposite=function(d,f){return d.composites.push(f),f.parent=d,o.setModified(d,!0,!0,!1),d},o.removeComposite=function(d,f,m){var p=l.indexOf(d.composites,f);if(p!==-1){var g=o.allBodies(f);o.removeCompositeAt(d,p);for(var v=0;v<g.length;v++)g[v].sleepCounter=0}if(m)for(var v=0;v<d.composites.length;v++)o.removeComposite(d.composites[v],f,!0);return d},o.removeCompositeAt=function(d,f){return d.composites.splice(f,1),o.setModified(d,!0,!0,!1),d},o.addBody=function(d,f){return d.bodies.push(f),o.setModified(d,!0,!0,!1),d},o.removeBody=function(d,f,m){var p=l.indexOf(d.bodies,f);if(p!==-1&&(o.removeBodyAt(d,p),f.sleepCounter=0),m)for(var g=0;g<d.composites.length;g++)o.removeBody(d.composites[g],f,!0);return d},o.removeBodyAt=function(d,f){return d.bodies.splice(f,1),o.setModified(d,!0,!0,!1),d},o.addConstraint=function(d,f){return d.constraints.push(f),o.setModified(d,!0,!0,!1),d},o.removeConstraint=function(d,f,m){var p=l.indexOf(d.constraints,f);if(p!==-1&&o.removeConstraintAt(d,p),m)for(var g=0;g<d.composites.length;g++)o.removeConstraint(d.composites[g],f,!0);return d},o.removeConstraintAt=function(d,f){return d.constraints.splice(f,1),o.setModified(d,!0,!0,!1),d},o.clear=function(d,f,m){if(m)for(var p=0;p<d.composites.length;p++)o.clear(d.composites[p],f,!0);return f?d.bodies=d.bodies.filter(function(g){return g.isStatic}):d.bodies.length=0,d.constraints.length=0,d.composites.length=0,o.setModified(d,!0,!0,!1),d},o.allBodies=function(d){if(d.cache&&d.cache.allBodies)return d.cache.allBodies;for(var f=[].concat(d.bodies),m=0;m<d.composites.length;m++)f=f.concat(o.allBodies(d.composites[m]));return d.cache&&(d.cache.allBodies=f),f},o.allConstraints=function(d){if(d.cache&&d.cache.allConstraints)return d.cache.allConstraints;for(var f=[].concat(d.constraints),m=0;m<d.composites.length;m++)f=f.concat(o.allConstraints(d.composites[m]));return d.cache&&(d.cache.allConstraints=f),f},o.allComposites=function(d){if(d.cache&&d.cache.allComposites)return d.cache.allComposites;for(var f=[].concat(d.composites),m=0;m<d.composites.length;m++)f=f.concat(o.allComposites(d.composites[m]));return d.cache&&(d.cache.allComposites=f),f},o.get=function(d,f,m){var p,g;switch(m){case"body":p=o.allBodies(d);break;case"constraint":p=o.allConstraints(d);break;case"composite":p=o.allComposites(d).concat(d);break}return p?(g=p.filter(function(v){return v.id.toString()===f.toString()}),g.length===0?null:g[0]):null},o.move=function(d,f,m){return o.remove(d,f),o.add(m,f),d},o.rebase=function(d){for(var f=o.allBodies(d).concat(o.allConstraints(d)).concat(o.allComposites(d)),m=0;m<f.length;m++)f[m].id=l.nextId();return d},o.translate=function(d,f,m){for(var p=m?o.allBodies(d):d.bodies,g=0;g<p.length;g++)h.translate(p[g],f);return d},o.rotate=function(d,f,m,p){for(var g=Math.cos(f),v=Math.sin(f),y=p?o.allBodies(d):d.bodies,x=0;x<y.length;x++){var b=y[x],w=b.position.x-m.x,C=b.position.y-m.y;h.setPosition(b,{x:m.x+(w*g-C*v),y:m.y+(w*v+C*g)}),h.rotate(b,f)}return d},o.scale=function(d,f,m,p,g){for(var v=g?o.allBodies(d):d.bodies,y=0;y<v.length;y++){var x=v[y],b=x.position.x-p.x,w=x.position.y-p.y;h.setPosition(x,{x:p.x+b*f,y:p.y+w*m}),h.scale(x,f,m)}return d},o.bounds=function(d){for(var f=o.allBodies(d),m=[],p=0;p<f.length;p+=1){var g=f[p];m.push(g.bounds.min,g.bounds.max)}return c.create(m)},o.wrap=function(d,f){var m=c.wrap(o.bounds(d),f);return m&&o.translate(d,m),m}})()},4372:(n,a,s)=>{var o={};n.exports=o;var u=s(69351);(function(){o.create=u.create,o.add=u.add,o.remove=u.remove,o.clear=u.clear,o.addComposite=u.addComposite,o.addBody=u.addBody,o.addConstraint=u.addConstraint})()},52284:(n,a,s)=>{var o={};n.exports=o;var u=s(41598),l=s(4506);(function(){var c=[],h={overlap:0,axis:null},d={overlap:0,axis:null};o.create=function(f,m){return{pair:null,collided:!1,bodyA:f,bodyB:m,parentA:f.parent,parentB:m.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},o.collides=function(f,m,p){if(o._overlapAxes(h,f.vertices,m.vertices,f.axes),h.overlap<=0||(o._overlapAxes(d,m.vertices,f.vertices,m.axes),d.overlap<=0))return null;var g=p&&p.table[l.id(f,m)],v;g?v=g.collision:(v=o.create(f,m),v.collided=!0,v.bodyA=f.id<m.id?f:m,v.bodyB=f.id<m.id?m:f,v.parentA=v.bodyA.parent,v.parentB=v.bodyB.parent),f=v.bodyA,m=v.bodyB;var y;h.overlap<d.overlap?y=h:y=d;var x=v.normal,b=v.tangent,w=v.penetration,C=v.supports,_=y.overlap,S=y.axis,T=S.x,A=S.y,M=m.position.x-f.position.x,I=m.position.y-f.position.y;T*M+A*I>=0&&(T=-T,A=-A),x.x=T,x.y=A,b.x=-A,b.y=T,w.x=T*_,w.y=A*_,v.depth=_;var D=o._findSupports(f,m,x,1),k=0;if(u.contains(f.vertices,D[0])&&(C[k++]=D[0]),u.contains(f.vertices,D[1])&&(C[k++]=D[1]),k<2){var G=o._findSupports(m,f,x,-1);u.contains(m.vertices,G[0])&&(C[k++]=G[0]),k<2&&u.contains(m.vertices,G[1])&&(C[k++]=G[1])}return k===0&&(C[k++]=D[0]),v.supportCount=k,v},o._overlapAxes=function(f,m,p,g){var v=m.length,y=p.length,x=m[0].x,b=m[0].y,w=p[0].x,C=p[0].y,_=g.length,S=Number.MAX_VALUE,T=0,A,M,I,D,k,G;for(k=0;k<_;k++){var R=g[k],H=R.x,j=R.y,Z=x*H+b*j,ee=w*H+C*j,Y=Z,V=ee;for(G=1;G<v;G+=1)D=m[G].x*H+m[G].y*j,D>Y?Y=D:D<Z&&(Z=D);for(G=1;G<y;G+=1)D=p[G].x*H+p[G].y*j,D>V?V=D:D<ee&&(ee=D);if(M=Y-ee,I=V-Z,A=M<I?M:I,A<S&&(S=A,T=k,A<=0))break}f.axis=g[T],f.overlap=S},o._findSupports=function(f,m,p,g){var v=m.vertices,y=v.length,x=f.position.x,b=f.position.y,w=p.x*g,C=p.y*g,_=v[0],S=_,T=w*(x-S.x)+C*(b-S.y),A,M,I;for(I=1;I<y;I+=1)S=v[I],M=w*(x-S.x)+C*(b-S.y),M<T&&(T=M,_=S);return A=v[(y+_.index-1)%y],T=w*(x-A.x)+C*(b-A.y),S=v[(_.index+1)%y],w*(x-S.x)+C*(b-S.y)<T?(c[0]=_,c[1]=S,c):(c[0]=_,c[1]=A,c)}})()},43424:n=>{var a={};n.exports=a,function(){a.create=function(s){return{vertex:s,normalImpulse:0,tangentImpulse:0}}}()},81388:(n,a,s)=>{var o={};n.exports=o;var u=s(53402),l=s(52284);(function(){o.create=function(c){var h={bodies:[],collisions:[],pairs:null};return u.extend(h,c)},o.setBodies=function(c,h){c.bodies=h.slice(0)},o.clear=function(c){c.bodies=[],c.collisions=[]},o.collisions=function(c){var h=c.pairs,d=c.bodies,f=d.length,m=o.canCollide,p=l.collides,g=c.collisions,v=0,y,x;for(d.sort(o._compareBoundsX),y=0;y<f;y++){var b=d[y],w=b.bounds,C=b.bounds.max.x,_=b.bounds.max.y,S=b.bounds.min.y,T=b.isStatic||b.isSleeping,A=b.parts.length,M=A===1;for(x=y+1;x<f;x++){var I=d[x],D=I.bounds;if(D.min.x>C)break;if(!(_<D.min.y||S>D.max.y)&&!(T&&(I.isStatic||I.isSleeping))&&m(b.collisionFilter,I.collisionFilter)){var k=I.parts.length;if(M&&k===1){var G=p(b,I,h);G&&(g[v++]=G)}else for(var R=A>1?1:0,H=k>1?1:0,j=R;j<A;j++)for(var Z=b.parts[j],w=Z.bounds,ee=H;ee<k;ee++){var Y=I.parts[ee],D=Y.bounds;if(!(w.min.x>D.max.x||w.max.x<D.min.x||w.max.y<D.min.y||w.min.y>D.max.y)){var G=p(Z,Y,h);G&&(g[v++]=G)}}}}}return g.length!==v&&(g.length=v),g},o.canCollide=function(c,h){return c.group===h.group&&c.group!==0?c.group>0:(c.mask&h.category)!==0&&(h.mask&c.category)!==0},o._compareBoundsX=function(c,h){return c.bounds.min.x-h.bounds.min.x}})()},4506:(n,a,s)=>{var o={};n.exports=o;var u=s(43424);(function(){o.create=function(l,c){var h=l.bodyA,d=l.bodyB,f={id:o.id(h,d),bodyA:h,bodyB:d,collision:l,contacts:[u.create(),u.create()],contactCount:0,separation:0,isActive:!0,isSensor:h.isSensor||d.isSensor,timeCreated:c,timeUpdated:c,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(f,l,c),f},o.update=function(l,c,h){var d=c.supports,f=c.supportCount,m=l.contacts,p=c.parentA,g=c.parentB;l.isActive=!0,l.timeUpdated=h,l.collision=c,l.separation=c.depth,l.inverseMass=p.inverseMass+g.inverseMass,l.friction=p.friction<g.friction?p.friction:g.friction,l.frictionStatic=p.frictionStatic>g.frictionStatic?p.frictionStatic:g.frictionStatic,l.restitution=p.restitution>g.restitution?p.restitution:g.restitution,l.slop=p.slop>g.slop?p.slop:g.slop,l.contactCount=f,c.pair=l;var v=d[0],y=m[0],x=d[1],b=m[1];(b.vertex===v||y.vertex===x)&&(m[1]=y,m[0]=y=b,b=m[1]),y.vertex=v,b.vertex=x},o.setActive=function(l,c,h){c?(l.isActive=!0,l.timeUpdated=h):(l.isActive=!1,l.contactCount=0)},o.id=function(l,c){return l.id<c.id?l.id.toString(36)+":"+c.id.toString(36):c.id.toString(36)+":"+l.id.toString(36)}})()},99561:(n,a,s)=>{var o={};n.exports=o;var u=s(4506),l=s(53402);(function(){o.create=function(c){return l.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},c)},o.update=function(c,h,d){var f=u.update,m=u.create,p=u.setActive,g=c.table,v=c.list,y=v.length,x=y,b=c.collisionStart,w=c.collisionEnd,C=c.collisionActive,_=h.length,S=0,T=0,A=0,M,I,D;for(D=0;D<_;D++)M=h[D],I=M.pair,I?(I.isActive&&(C[A++]=I),f(I,M,d)):(I=m(M,d),g[I.id]=I,b[S++]=I,v[x++]=I);for(x=0,y=v.length,D=0;D<y;D++)I=v[D],I.timeUpdated>=d?v[x++]=I:(p(I,!1,d),I.collision.bodyA.sleepCounter>0&&I.collision.bodyB.sleepCounter>0?v[x++]=I:(w[T++]=I,delete g[I.id]));v.length!==x&&(v.length=x),b.length!==S&&(b.length=S),w.length!==T&&(w.length=T),C.length!==A&&(C.length=A)},o.clear=function(c){return c.table={},c.list.length=0,c.collisionStart.length=0,c.collisionActive.length=0,c.collisionEnd.length=0,c}})()},73296:(n,a,s)=>{var o={};n.exports=o;var u=s(31725),l=s(52284),c=s(15647),h=s(66280),d=s(41598);(function(){o.collides=function(f,m){for(var p=[],g=m.length,v=f.bounds,y=l.collides,x=c.overlaps,b=0;b<g;b++){var w=m[b],C=w.parts.length,_=C===1?0:1;if(f!==w&&x(w.bounds,v))for(var S=_;S<C;S++){var T=w.parts[S];if(x(T.bounds,v)){var A=y(T,f);if(A){p.push(A);break}}}}return p},o.ray=function(f,m,p,g){g=g||1e-100;for(var v=u.angle(m,p),y=u.magnitude(u.sub(m,p)),x=(p.x+m.x)*.5,b=(p.y+m.y)*.5,w=h.rectangle(x,b,y,g,{angle:v}),C=o.collides(w,f),_=0;_<C.length;_+=1){var S=C[_];S.body=S.bodyB=S.bodyA}return C},o.region=function(f,m,p){for(var g=[],v=0;v<f.length;v++){var y=f[v],x=c.overlaps(y.bounds,m);(x&&!p||!x&&p)&&g.push(y)}return g},o.point=function(f,m){for(var p=[],g=0;g<f.length;g++){var v=f[g];if(c.contains(v.bounds,m))for(var y=v.parts.length===1?0:1;y<v.parts.length;y++){var x=v.parts[y];if(c.contains(x.bounds,m)&&d.contains(x.vertices,m)){p.push(v);break}}}return p}})()},66272:(n,a,s)=>{var o={};n.exports=o;var u=s(41598),l=s(53402),c=s(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(h){var d,f,m,p=h.length;for(d=0;d<p;d++)f=h[d],f.isActive&&(m=f.contactCount,f.collision.parentA.totalContacts+=m,f.collision.parentB.totalContacts+=m)},o.solvePosition=function(h,d,f){var m,p,g,v,y,x,b,w,C=o._positionDampen*(f||1),_=l.clamp(d/l._baseDelta,0,1),S=h.length;for(m=0;m<S;m++)p=h[m],!(!p.isActive||p.isSensor)&&(g=p.collision,v=g.parentA,y=g.parentB,x=g.normal,p.separation=g.depth+x.x*(y.positionImpulse.x-v.positionImpulse.x)+x.y*(y.positionImpulse.y-v.positionImpulse.y));for(m=0;m<S;m++)p=h[m],!(!p.isActive||p.isSensor)&&(g=p.collision,v=g.parentA,y=g.parentB,x=g.normal,w=p.separation-p.slop*_,(v.isStatic||y.isStatic)&&(w*=2),v.isStatic||v.isSleeping||(b=C/v.totalContacts,v.positionImpulse.x+=x.x*w*b,v.positionImpulse.y+=x.y*w*b),y.isStatic||y.isSleeping||(b=C/y.totalContacts,y.positionImpulse.x-=x.x*w*b,y.positionImpulse.y-=x.y*w*b))},o.postSolvePosition=function(h){for(var d=o._positionWarming,f=h.length,m=u.translate,p=c.update,g=0;g<f;g++){var v=h[g],y=v.positionImpulse,x=y.x,b=y.y,w=v.velocity;if(v.totalContacts=0,x!==0||b!==0){for(var C=0;C<v.parts.length;C++){var _=v.parts[C];m(_.vertices,y),p(_.bounds,_.vertices,w),_.position.x+=x,_.position.y+=b}v.positionPrev.x+=x,v.positionPrev.y+=b,x*w.x+b*w.y<0?(y.x=0,y.y=0):(y.x*=d,y.y*=d)}}},o.preSolveVelocity=function(h){var d=h.length,f,m;for(f=0;f<d;f++){var p=h[f];if(!(!p.isActive||p.isSensor)){var g=p.contacts,v=p.contactCount,y=p.collision,x=y.parentA,b=y.parentB,w=y.normal,C=y.tangent;for(m=0;m<v;m++){var _=g[m],S=_.vertex,T=_.normalImpulse,A=_.tangentImpulse;if(T!==0||A!==0){var M=w.x*T+C.x*A,I=w.y*T+C.y*A;x.isStatic||x.isSleeping||(x.positionPrev.x+=M*x.inverseMass,x.positionPrev.y+=I*x.inverseMass,x.anglePrev+=x.inverseInertia*((S.x-x.position.x)*I-(S.y-x.position.y)*M)),b.isStatic||b.isSleeping||(b.positionPrev.x-=M*b.inverseMass,b.positionPrev.y-=I*b.inverseMass,b.anglePrev-=b.inverseInertia*((S.x-b.position.x)*I-(S.y-b.position.y)*M))}}}}},o.solveVelocity=function(h,d){var f=d/l._baseDelta,m=f*f,p=m*f,g=-o._restingThresh*f,v=o._restingThreshTangent,y=o._frictionNormalMultiplier*f,x=o._frictionMaxStatic,b=h.length,w,C,_,S;for(_=0;_<b;_++){var T=h[_];if(!(!T.isActive||T.isSensor)){var A=T.collision,M=A.parentA,I=A.parentB,D=A.normal.x,k=A.normal.y,G=A.tangent.x,R=A.tangent.y,H=T.inverseMass,j=T.friction*T.frictionStatic*y,Z=T.contacts,ee=T.contactCount,Y=1/ee,V=M.position.x-M.positionPrev.x,O=M.position.y-M.positionPrev.y,F=M.angle-M.anglePrev,X=I.position.x-I.positionPrev.x,ie=I.position.y-I.positionPrev.y,re=I.angle-I.anglePrev;for(S=0;S<ee;S++){var q=Z[S],ae=q.vertex,ue=ae.x-M.position.x,me=ae.y-M.position.y,be=ae.x-I.position.x,ke=ae.y-I.position.y,ze=V-me*F,De=O+ue*F,ge=X-ke*re,Et=ie+be*re,ct=ze-ge,We=De-Et,Ue=D*ct+k*We,qe=G*ct+R*We,it=T.separation+Ue,Ft=Math.min(it,1);Ft=it<0?0:Ft;var at=Ft*j;qe<-at||qe>at?(C=qe>0?qe:-qe,w=T.friction*(qe>0?1:-1)*p,w<-C?w=-C:w>C&&(w=C)):(w=qe,C=x);var bt=ue*k-me*D,ai=be*k-ke*D,ei=Y/(H+M.inverseInertia*bt*bt+I.inverseInertia*ai*ai),li=(1+T.restitution)*Ue*ei;if(w*=ei,Ue<g)q.normalImpulse=0;else{var fi=q.normalImpulse;q.normalImpulse+=li,q.normalImpulse>0&&(q.normalImpulse=0),li=q.normalImpulse-fi}if(qe<-v||qe>v)q.tangentImpulse=0;else{var vi=q.tangentImpulse;q.tangentImpulse+=w,q.tangentImpulse<-C&&(q.tangentImpulse=-C),q.tangentImpulse>C&&(q.tangentImpulse=C),w=q.tangentImpulse-vi}var Ht=D*li+G*w,xi=k*li+R*w;M.isStatic||M.isSleeping||(M.positionPrev.x+=Ht*M.inverseMass,M.positionPrev.y+=xi*M.inverseMass,M.anglePrev+=(ue*xi-me*Ht)*M.inverseInertia),I.isStatic||I.isSleeping||(I.positionPrev.x-=Ht*I.inverseMass,I.positionPrev.y-=xi*I.inverseMass,I.anglePrev-=(be*xi-ke*Ht)*I.inverseInertia)}}}}})()},48140:(n,a,s)=>{var o={};n.exports=o;var u=s(41598),l=s(31725),c=s(53614),h=s(15647),d=s(66615),f=s(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(m){var p=m;p.bodyA&&!p.pointA&&(p.pointA={x:0,y:0}),p.bodyB&&!p.pointB&&(p.pointB={x:0,y:0});var g=p.bodyA?l.add(p.bodyA.position,p.pointA):p.pointA,v=p.bodyB?l.add(p.bodyB.position,p.pointB):p.pointB,y=l.magnitude(l.sub(g,v));p.length=typeof p.length<"u"?p.length:y,p.id=p.id||f.nextId(),p.label=p.label||"Constraint",p.type="constraint",p.stiffness=p.stiffness||(p.length>0?1:.7),p.damping=p.damping||0,p.angularStiffness=p.angularStiffness||0,p.angleA=p.bodyA?p.bodyA.angle:p.angleA,p.angleB=p.bodyB?p.bodyB.angle:p.angleB,p.plugin={};var x={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return p.length===0&&p.stiffness>.1?(x.type="pin",x.anchors=!1):p.stiffness<.9&&(x.type="spring"),p.render=f.extend(x,p.render),p},o.preSolveAll=function(m){for(var p=0;p<m.length;p+=1){var g=m[p],v=g.constraintImpulse;g.isStatic||v.x===0&&v.y===0&&v.angle===0||(g.position.x+=v.x,g.position.y+=v.y,g.angle+=v.angle)}},o.solveAll=function(m,p){for(var g=f.clamp(p/f._baseDelta,0,1),v=0;v<m.length;v+=1){var y=m[v],x=!y.bodyA||y.bodyA&&y.bodyA.isStatic,b=!y.bodyB||y.bodyB&&y.bodyB.isStatic;(x||b)&&o.solve(m[v],g)}for(v=0;v<m.length;v+=1)y=m[v],x=!y.bodyA||y.bodyA&&y.bodyA.isStatic,b=!y.bodyB||y.bodyB&&y.bodyB.isStatic,!x&&!b&&o.solve(m[v],g)},o.solve=function(m,p){var g=m.bodyA,v=m.bodyB,y=m.pointA,x=m.pointB;if(!(!g&&!v)){g&&!g.isStatic&&(l.rotate(y,g.angle-m.angleA,y),m.angleA=g.angle),v&&!v.isStatic&&(l.rotate(x,v.angle-m.angleB,x),m.angleB=v.angle);var b=y,w=x;if(g&&(b=l.add(g.position,y)),v&&(w=l.add(v.position,x)),!(!b||!w)){var C=l.sub(b,w),_=l.magnitude(C);_<o._minLength&&(_=o._minLength);var S=(_-m.length)/_,T=m.stiffness>=1||m.length===0,A=T?m.stiffness*p:m.stiffness*p*p,M=m.damping*p,I=l.mult(C,S*A),D=(g?g.inverseMass:0)+(v?v.inverseMass:0),k=(g?g.inverseInertia:0)+(v?v.inverseInertia:0),G=D+k,R,H,j,Z,ee;if(M>0){var Y=l.create();j=l.div(C,_),ee=l.sub(v&&l.sub(v.position,v.positionPrev)||Y,g&&l.sub(g.position,g.positionPrev)||Y),Z=l.dot(j,ee)}g&&!g.isStatic&&(H=g.inverseMass/D,g.constraintImpulse.x-=I.x*H,g.constraintImpulse.y-=I.y*H,g.position.x-=I.x*H,g.position.y-=I.y*H,M>0&&(g.positionPrev.x-=M*j.x*Z*H,g.positionPrev.y-=M*j.y*Z*H),R=l.cross(y,I)/G*o._torqueDampen*g.inverseInertia*(1-m.angularStiffness),g.constraintImpulse.angle-=R,g.angle-=R),v&&!v.isStatic&&(H=v.inverseMass/D,v.constraintImpulse.x+=I.x*H,v.constraintImpulse.y+=I.y*H,v.position.x+=I.x*H,v.position.y+=I.y*H,M>0&&(v.positionPrev.x+=M*j.x*Z*H,v.positionPrev.y+=M*j.y*Z*H),R=l.cross(x,I)/G*o._torqueDampen*v.inverseInertia*(1-m.angularStiffness),v.constraintImpulse.angle+=R,v.angle+=R)}}},o.postSolveAll=function(m){for(var p=0;p<m.length;p++){var g=m[p],v=g.constraintImpulse;if(!(g.isStatic||v.x===0&&v.y===0&&v.angle===0)){c.set(g,!1);for(var y=0;y<g.parts.length;y++){var x=g.parts[y];u.translate(x.vertices,v),y>0&&(x.position.x+=v.x,x.position.y+=v.y),v.angle!==0&&(u.rotate(x.vertices,v.angle,g.position),d.rotate(x.axes,v.angle),y>0&&l.rotateAbout(x.position,v.angle,g.position,x.position)),h.update(x.bounds,x.vertices,g.velocity)}v.angle*=o._warming,v.x*=o._warming,v.y*=o._warming}}},o.pointAWorld=function(m){return{x:(m.bodyA?m.bodyA.position.x:0)+(m.pointA?m.pointA.x:0),y:(m.bodyA?m.bodyA.position.y:0)+(m.pointA?m.pointA.y:0)}},o.pointBWorld=function(m){return{x:(m.bodyB?m.bodyB.position.x:0)+(m.pointB?m.pointB.x:0),y:(m.bodyB?m.bodyB.position.y:0)+(m.pointB?m.pointB.y:0)}},o.currentLength=function(m){var p=(m.bodyA?m.bodyA.position.x:0)+(m.pointA?m.pointA.x:0),g=(m.bodyA?m.bodyA.position.y:0)+(m.pointA?m.pointA.y:0),v=(m.bodyB?m.bodyB.position.x:0)+(m.pointB?m.pointB.x:0),y=(m.bodyB?m.bodyB.position.y:0)+(m.pointB?m.pointB.y:0),x=p-v,b=g-y;return Math.sqrt(x*x+b*b)}})()},53402:(n,a,s)=>{var o={};n.exports=o,function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(l,c){var h,d,f;typeof c=="boolean"?(h=2,f=c):(h=1,f=!0);for(var m=h;m<arguments.length;m++){var p=arguments[m];if(p)for(var g in p)f&&p[g]&&p[g].constructor===Object&&(!l[g]||l[g].constructor===Object)?(l[g]=l[g]||{},o.extend(l[g],f,p[g])):l[g]=p[g]}return l},o.clone=function(l,c){return o.extend({},c,l)},o.keys=function(l){if(Object.keys)return Object.keys(l);var c=[];for(var h in l)c.push(h);return c},o.values=function(l){var c=[];if(Object.keys){for(var h=Object.keys(l),d=0;d<h.length;d++)c.push(l[h[d]]);return c}for(var f in l)c.push(l[f]);return c},o.get=function(l,c,h,d){c=c.split(".").slice(h,d);for(var f=0;f<c.length;f+=1)l=l[c[f]];return l},o.set=function(l,c,h,d,f){var m=c.split(".").slice(d,f);return o.get(l,c,0,-1)[m[m.length-1]]=h,h},o.shuffle=function(l){for(var c=l.length-1;c>0;c--){var h=Math.floor(o.random()*(c+1)),d=l[c];l[c]=l[h],l[h]=d}return l},o.choose=function(l){return l[Math.floor(o.random()*l.length)]},o.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},o.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},o.isFunction=function(l){return typeof l=="function"},o.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},o.isString=function(l){return toString.call(l)==="[object String]"},o.clamp=function(l,c,h){return l<c?c:l>h?h:l},o.sign=function(l){return l<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(l,c){return l=typeof l<"u"?l:0,c=typeof c<"u"?c:1,l+u()*(c-l)};var u=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[l]||(o.warn(l),o._warnedOnce[l]=!0)},o.deprecated=function(l,c,h){l[c]=o.chain(function(){o.warnOnce("\u{1F505} deprecated \u{1F505}",h)},l[c])},o.nextId=function(){return o._nextId++},o.indexOf=function(l,c){if(l.indexOf)return l.indexOf(c);for(var h=0;h<l.length;h++)if(l[h]===c)return h;return-1},o.map=function(l,c){if(l.map)return l.map(c);for(var h=[],d=0;d<l.length;d+=1)h.push(c(l[d]));return h},o.topologicalSort=function(l){var c=[],h=[],d=[];for(var f in l)!h[f]&&!d[f]&&o._topologicalSort(f,h,d,l,c);return c},o._topologicalSort=function(l,c,h,d,f){var m=d[l]||[];h[l]=!0;for(var p=0;p<m.length;p+=1){var g=m[p];h[g]||c[g]||o._topologicalSort(g,c,h,d,f)}h[l]=!1,c[l]=!0,f.push(l)},o.chain=function(){for(var l=[],c=0;c<arguments.length;c+=1){var h=arguments[c];h._chained?l.push.apply(l,h._chained):l.push(h)}var d=function(){for(var f,m=new Array(arguments.length),p=0,g=arguments.length;p<g;p++)m[p]=arguments[p];for(p=0;p<l.length;p+=1){var v=l[p].apply(f,m);typeof v<"u"&&(f=v)}return f};return d._chained=l,d},o.chainPathBefore=function(l,c,h){return o.set(l,c,o.chain(h,o.get(l,c)))},o.chainPathAfter=function(l,c,h){return o.set(l,c,o.chain(o.get(l,c),h))},o.setDecomp=function(l){o._decomp=l},o.getDecomp=function(){var l=o._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof s.g<"u"&&(l=s.g.decomp)}catch{l=null}return l}}()},48413:(n,a,s)=>{var o={};n.exports=o;var u=s(53614),l=s(66272),c=s(81388),h=s(99561),d=s(35810),f=s(69351),m=s(48140),p=s(53402),g=s(22562);(function(){o._deltaMax=16.666666666666668,o.create=function(v){v=v||{};var y={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},x=p.extend(y,v);return x.world=v.world||f.create({label:"World"}),x.pairs=v.pairs||h.create(),x.detector=v.detector||c.create(),x.detector.pairs=x.pairs,x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},o.update=function(v,y){var x=p.now(),b=v.world,w=v.detector,C=v.pairs,_=v.timing,S=_.timestamp,T;y>o._deltaMax&&p.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",o._deltaMax.toFixed(3),"ms."),y=typeof y<"u"?y:p._baseDelta,y*=_.timeScale,_.timestamp+=y,_.lastDelta=y;var A={timestamp:_.timestamp,delta:y};d.trigger(v,"beforeUpdate",A);var M=f.allBodies(b),I=f.allConstraints(b),D=f.allComposites(b);for(b.isModified&&(c.setBodies(w,M),f.setModified(b,!1,!1,!0)),v.enableSleeping&&u.update(M,y),o._bodiesApplyGravity(M,v.gravity),o.wrap(M,D),o.attractors(M),y>0&&o._bodiesUpdate(M,y),d.trigger(v,"beforeSolve",A),m.preSolveAll(M),T=0;T<v.constraintIterations;T++)m.solveAll(I,y);m.postSolveAll(M);var k=c.collisions(w);h.update(C,k,S),v.enableSleeping&&u.afterCollisions(C.list),C.collisionStart.length>0&&d.trigger(v,"collisionStart",{pairs:C.collisionStart,timestamp:_.timestamp,delta:y});var G=p.clamp(20/v.positionIterations,0,1);for(l.preSolvePosition(C.list),T=0;T<v.positionIterations;T++)l.solvePosition(C.list,y,G);for(l.postSolvePosition(M),m.preSolveAll(M),T=0;T<v.constraintIterations;T++)m.solveAll(I,y);for(m.postSolveAll(M),l.preSolveVelocity(C.list),T=0;T<v.velocityIterations;T++)l.solveVelocity(C.list,y);return o._bodiesUpdateVelocities(M),C.collisionActive.length>0&&d.trigger(v,"collisionActive",{pairs:C.collisionActive,timestamp:_.timestamp,delta:y}),C.collisionEnd.length>0&&d.trigger(v,"collisionEnd",{pairs:C.collisionEnd,timestamp:_.timestamp,delta:y}),o._bodiesClearForces(M),d.trigger(v,"afterUpdate",A),v.timing.lastElapsed=p.now()-x,v},o.merge=function(v,y){if(p.extend(v,y),y.world){v.world=y.world,o.clear(v);for(var x=f.allBodies(v.world),b=0;b<x.length;b++){var w=x[b];u.set(w,!1),w.id=p.nextId()}}},o.clear=function(v){h.clear(v.pairs),c.clear(v.detector)},o._bodiesClearForces=function(v){for(var y=v.length,x=0;x<y;x++){var b=v[x];b.force.x=0,b.force.y=0,b.torque=0}},o._bodiesApplyGravity=function(v,y){var x=typeof y.scale<"u"?y.scale:.001,b=v.length;if(!(y.x===0&&y.y===0||x===0))for(var w=0;w<b;w++){var C=v[w];C.ignoreGravity||C.isStatic||C.isSleeping||(C.force.y+=C.mass*y.y*x,C.force.x+=C.mass*y.x*x)}},o._bodiesUpdate=function(v,y){for(var x=v.length,b=0;b<x;b++){var w=v[b];w.isStatic||w.isSleeping||g.update(w,y)}},o._bodiesUpdateVelocities=function(v){for(var y=v.length,x=0;x<y;x++)g.updateVelocities(v[x])},o.wrap=function(v,y){for(var x=0;x<v.length;x+=1){var b=v[x];b.wrapBounds!==null&&g.wrap(b,b.wrapBounds)}for(x=0;x<y.length;x+=1){var w=y[x];w.wrapBounds!==null&&f.wrap(w,w.wrapBounds)}},o.attractors=function(v){for(var y=0;y<v.length;y++){var x=v[y],b=x.attractors;if(b&&b.length>0)for(var w=0;w<v.length;w++){var C=v[w];if(y!==w)for(var _=0;_<b.length;_++){var S=b[_],T=S;p.isFunction(S)&&(T=S(x,C)),T&&g.applyForce(C,C.position,T)}}}}})()},35810:(n,a,s)=>{var o={};n.exports=o;var u=s(53402);(function(){o.on=function(l,c,h){for(var d=c.split(" "),f,m=0;m<d.length;m++)f=d[m],l.events=l.events||{},l.events[f]=l.events[f]||[],l.events[f].push(h);return h},o.off=function(l,c,h){if(!c){l.events={};return}typeof c=="function"&&(h=c,c=u.keys(l.events).join(" "));for(var d=c.split(" "),f=0;f<d.length;f++){var m=l.events[d[f]],p=[];if(h&&m)for(var g=0;g<m.length;g++)m[g]!==h&&p.push(m[g]);l.events[d[f]]=p}},o.trigger=function(l,c,h){var d,f,m,p,g=l.events;if(g&&u.keys(g).length>0){h||(h={}),d=c.split(" ");for(var v=0;v<d.length;v++)if(f=d[v],m=g[f],m){p=u.clone(h,!1),p.name=f,p.source=l;for(var y=0;y<m.length;y++)m[y].apply(l,[p])}}}})()},6790:(n,a,s)=>{var o={};n.exports=o;var u=s(73832),l=s(53402);(function(){o.name="matter-js",o.version="0.20.0",o.uses=[],o.used=[],o.use=function(){u.use(o,Array.prototype.slice.call(arguments))},o.before=function(c,h){return c=c.replace(/^Matter./,""),l.chainPathBefore(o,c,h)},o.after=function(c,h){return c=c.replace(/^Matter./,""),l.chainPathAfter(o,c,h)}})()},73832:(n,a,s)=>{var o={};n.exports=o;var u=s(53402);(function(){o._registry={},o.register=function(l){if(o.isPlugin(l)||u.warn("Plugin.register:",o.toString(l),"does not implement all required fields."),l.name in o._registry){var c=o._registry[l.name],h=o.versionParse(l.version).number,d=o.versionParse(c.version).number;h>d?(u.warn("Plugin.register:",o.toString(c),"was upgraded to",o.toString(l)),o._registry[l.name]=l):h<d?u.warn("Plugin.register:",o.toString(c),"can not be downgraded to",o.toString(l)):l!==c&&u.warn("Plugin.register:",o.toString(l),"is already registered to different plugin object")}else o._registry[l.name]=l;return l},o.resolve=function(l){return o._registry[o.dependencyParse(l).name]},o.toString=function(l){return typeof l=="string"?l:(l.name||"anonymous")+"@"+(l.version||l.range||"0.0.0")},o.isPlugin=function(l){return l&&l.name&&l.version&&l.install},o.isUsed=function(l,c){return l.used.indexOf(c)>-1},o.isFor=function(l,c){var h=l.for&&o.dependencyParse(l.for);return!l.for||c.name===h.name&&o.versionSatisfies(c.version,h.range)},o.use=function(l,c){if(l.uses=(l.uses||[]).concat(c||[]),l.uses.length===0){u.warn("Plugin.use:",o.toString(l),"does not specify any dependencies to install.");return}for(var h=o.dependencies(l),d=u.topologicalSort(h),f=[],m=0;m<d.length;m+=1)if(d[m]!==l.name){var p=o.resolve(d[m]);if(!p){f.push("\u274C "+d[m]);continue}o.isUsed(l,p.name)||(o.isFor(p,l)||(u.warn("Plugin.use:",o.toString(p),"is for",p.for,"but installed on",o.toString(l)+"."),p._warned=!0),p.install?p.install(l):(u.warn("Plugin.use:",o.toString(p),"does not specify an install function."),p._warned=!0),p._warned?(f.push("\u{1F536} "+o.toString(p)),delete p._warned):f.push("\u2705 "+o.toString(p)),l.used.push(p.name))}f.length>0&&!p.silent&&u.info(f.join("  "))},o.dependencies=function(l,c){var h=o.dependencyParse(l),d=h.name;if(c=c||{},!(d in c)){l=o.resolve(l)||l,c[d]=u.map(l.uses||[],function(m){o.isPlugin(m)&&o.register(m);var p=o.dependencyParse(m),g=o.resolve(m);return g&&!o.versionSatisfies(g.version,p.range)?(u.warn("Plugin.dependencies:",o.toString(g),"does not satisfy",o.toString(p),"used by",o.toString(h)+"."),g._warned=!0,l._warned=!0):g||(u.warn("Plugin.dependencies:",o.toString(m),"used by",o.toString(h),"could not be resolved."),l._warned=!0),p.name});for(var f=0;f<c[d].length;f+=1)o.dependencies(c[d][f],c);return c}},o.dependencyParse=function(l){if(u.isString(l)){var c=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return c.test(l)||u.warn("Plugin.dependencyParse:",l,"is not a valid dependency string."),{name:l.split("@")[0],range:l.split("@")[1]||"*"}}return{name:l.name,range:l.range||l.version}},o.versionParse=function(l){var c=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;c.test(l)||u.warn("Plugin.versionParse:",l,"is not a valid version or range.");var h=c.exec(l),d=Number(h[4]),f=Number(h[5]),m=Number(h[6]);return{isRange:!!(h[1]||h[2]),version:h[3],range:l,operator:h[1]||h[2]||"",major:d,minor:f,patch:m,parts:[d,f,m],prerelease:h[7],number:d*1e8+f*1e4+m}},o.versionSatisfies=function(l,c){c=c||"*";var h=o.versionParse(c),d=o.versionParse(l);if(h.isRange){if(h.operator==="*"||l==="*")return!0;if(h.operator===">")return d.number>h.number;if(h.operator===">=")return d.number>=h.number;if(h.operator==="~")return d.major===h.major&&d.minor===h.minor&&d.patch>=h.patch;if(h.operator==="^")return h.major>0?d.major===h.major&&d.number>=h.number:h.minor>0?d.minor===h.minor&&d.patch>=h.patch:d.patch===h.patch}return l===c||l==="*"}})()},13037:(n,a,s)=>{var o={};n.exports=o;var u=s(35810),l=s(48413),c=s(53402);(function(){o._maxFrameDelta=66.66666666666667,o._frameDeltaFallback=16.666666666666668,o._timeBufferMargin=1.5,o._elapsedNextEstimate=1,o._smoothingLowerBound=.1,o._smoothingUpperBound=.9,o.create=function(d){var f={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},m=c.extend(f,d);return m.fps=0,m},o.run=function(d,f){return d.timeBuffer=o._frameDeltaFallback,function m(p){d.frameRequestId=o._onNextFrame(d,m),p&&d.enabled&&o.tick(d,f,p)}(),d},o.tick=function(d,f,m){var p=c.now(),g=d.delta,v=0,y=m-d.timeLastTick;if((!y||!d.timeLastTick||y>Math.max(o._maxFrameDelta,d.maxFrameTime))&&(y=d.frameDelta||o._frameDeltaFallback),d.frameDeltaSmoothing){d.frameDeltaHistory.push(y),d.frameDeltaHistory=d.frameDeltaHistory.slice(-d.frameDeltaHistorySize);var x=d.frameDeltaHistory.slice(0).sort(),b=d.frameDeltaHistory.slice(x.length*o._smoothingLowerBound,x.length*o._smoothingUpperBound),w=h(b);y=w||y}d.frameDeltaSnapping&&(y=1e3/Math.round(1e3/y)),d.frameDelta=y,d.timeLastTick=m,d.timeBuffer+=d.frameDelta,d.timeBuffer=c.clamp(d.timeBuffer,0,d.frameDelta+g*o._timeBufferMargin),d.lastUpdatesDeferred=0;var C=d.maxUpdates||Math.ceil(d.maxFrameTime/g),_={timestamp:f.timing.timestamp};u.trigger(d,"beforeTick",_),u.trigger(d,"tick",_);for(var S=c.now();g>0&&d.timeBuffer>=g*o._timeBufferMargin;){u.trigger(d,"beforeUpdate",_),l.update(f,g),u.trigger(d,"afterUpdate",_),d.timeBuffer-=g,v+=1;var T=c.now()-p,A=c.now()-S,M=T+o._elapsedNextEstimate*A/v;if(v>=C||M>d.maxFrameTime){d.lastUpdatesDeferred=Math.round(Math.max(0,d.timeBuffer/g-o._timeBufferMargin));break}}f.timing.lastUpdatesPerFrame=v,u.trigger(d,"afterTick",_),d.frameDeltaHistory.length>=100&&(d.lastUpdatesDeferred&&Math.round(d.frameDelta/g)>C?c.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):d.lastUpdatesDeferred&&c.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof d.isFixed<"u"&&c.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(d.deltaMin||d.deltaMax)&&c.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),d.fps!==0&&c.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},o.stop=function(d){o._cancelNextFrame(d)},o._onNextFrame=function(d,f){if(typeof window<"u"&&window.requestAnimationFrame)d.frameRequestId=window.requestAnimationFrame(f);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return d.frameRequestId},o._cancelNextFrame=function(d){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(d.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var h=function(d){for(var f=0,m=d.length,p=0;p<m;p+=1)f+=d[p];return f/m||0}})()},53614:(n,a,s)=>{var o={};n.exports=o;var u=s(22562),l=s(35810),c=s(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(h,d){for(var f=d/c._baseDelta,m=o._motionSleepThreshold,p=0;p<h.length;p++){var g=h[p],v=u.getSpeed(g),y=u.getAngularSpeed(g),x=v*v+y*y;if(g.force.x!==0||g.force.y!==0){o.set(g,!1);continue}var b=Math.min(g.motion,x),w=Math.max(g.motion,x);g.motion=o._minBias*b+(1-o._minBias)*w,g.sleepThreshold>0&&g.motion<m?(g.sleepCounter+=1,g.sleepCounter>=g.sleepThreshold/f&&o.set(g,!0)):g.sleepCounter>0&&(g.sleepCounter-=1)}},o.afterCollisions=function(h){for(var d=o._motionSleepThreshold,f=0;f<h.length;f++){var m=h[f];if(m.isActive){var p=m.collision,g=p.bodyA.parent,v=p.bodyB.parent;if(!(g.isSleeping&&v.isSleeping||g.isStatic||v.isStatic)&&(g.isSleeping||v.isSleeping)){var y=g.isSleeping&&!g.isStatic?g:v,x=y===g?v:g;!y.isStatic&&x.motion>d&&o.set(y,!1)}}}},o.set=function(h,d){var f=h.isSleeping;d?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,f||l.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,f&&l.trigger(h,"sleepEnd"))}})()},66280:(n,a,s)=>{var o={};n.exports=o;var u=s(41598),l=s(53402),c=s(22562),h=s(15647),d=s(31725);(function(){o.rectangle=function(f,m,p,g,v){v=v||{};var y={label:"Rectangle Body",position:{x:f,y:m},vertices:u.fromPath("L 0 0 L "+p+" 0 L "+p+" "+g+" L 0 "+g)};if(v.chamfer){var x=v.chamfer;y.vertices=u.chamfer(y.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete v.chamfer}return c.create(l.extend({},y,v))},o.trapezoid=function(f,m,p,g,v,y){y=y||{},v>=1&&l.warn("Bodies.trapezoid: slope parameter must be < 1."),v*=.5;var x=(1-v*2)*p,b=p*v,w=b+x,C=w+b,_;v<.5?_="L 0 0 L "+b+" "+-g+" L "+w+" "+-g+" L "+C+" 0":_="L 0 0 L "+w+" "+-g+" L "+C+" 0";var S={label:"Trapezoid Body",position:{x:f,y:m},vertices:u.fromPath(_)};if(y.chamfer){var T=y.chamfer;S.vertices=u.chamfer(S.vertices,T.radius,T.quality,T.qualityMin,T.qualityMax),delete y.chamfer}return c.create(l.extend({},S,y))},o.circle=function(f,m,p,g,v){g=g||{};var y={label:"Circle Body",circleRadius:p};v=v||25;var x=Math.ceil(Math.max(10,Math.min(v,p)));return x%2===1&&(x+=1),o.polygon(f,m,x,p,l.extend({},y,g))},o.polygon=function(f,m,p,g,v){if(v=v||{},p<3)return o.circle(f,m,g,v);for(var y=2*Math.PI/p,x="",b=y*.5,w=0;w<p;w+=1){var C=b+w*y,_=Math.cos(C)*g,S=Math.sin(C)*g;x+="L "+_.toFixed(3)+" "+S.toFixed(3)+" "}var T={label:"Polygon Body",position:{x:f,y:m},vertices:u.fromPath(x)};if(v.chamfer){var A=v.chamfer;T.vertices=u.chamfer(T.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete v.chamfer}return c.create(l.extend({},T,v))},o.fromVertices=function(f,m,p,g,v,y,x,b){var w=l.getDecomp(),C,_,S,T,A,M,I,D,k,G,R;for(C=!!(w&&w.quickDecomp),g=g||{},S=[],v=typeof v<"u"?v:!1,y=typeof y<"u"?y:.01,x=typeof x<"u"?x:10,b=typeof b<"u"?b:.01,l.isArray(p[0])||(p=[p]),G=0;G<p.length;G+=1)if(M=p[G],T=u.isConvex(M),A=!T,A&&!C&&l.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),T||!C)T?M=u.clockwiseSort(M):M=u.hull(M),S.push({position:{x:f,y:m},vertices:M});else{var H=M.map(function(q){return[q.x,q.y]});w.makeCCW(H),y!==!1&&w.removeCollinearPoints(H,y),b!==!1&&w.removeDuplicatePoints&&w.removeDuplicatePoints(H,b);var j=w.quickDecomp(H);for(I=0;I<j.length;I++){var Z=j[I],ee=Z.map(function(q){return{x:q[0],y:q[1]}});x>0&&u.area(ee)<x||S.push({position:u.centre(ee),vertices:ee})}}for(I=0;I<S.length;I++)S[I]=c.create(l.extend(S[I],g));if(v){var Y=5;for(I=0;I<S.length;I++){var V=S[I];for(D=I+1;D<S.length;D++){var O=S[D];if(h.overlaps(V.bounds,O.bounds)){var F=V.vertices,X=O.vertices;for(k=0;k<V.vertices.length;k++)for(R=0;R<O.vertices.length;R++){var ie=d.magnitudeSquared(d.sub(F[(k+1)%F.length],X[R])),re=d.magnitudeSquared(d.sub(F[k],X[(R+1)%X.length]));ie<Y&&re<Y&&(F[k].isInternal=!0,X[R].isInternal=!0)}}}}}return S.length>1?(_=c.create(l.extend({parts:S.slice(0)},g)),c.setPosition(_,{x:f,y:m}),_):S[0]},o.flagCoincidentParts=function(f,m){m===void 0&&(m=5);for(var p=0;p<f.length;p++)for(var g=f[p],v=p+1;v<f.length;v++){var y=f[v];if(h.overlaps(g.bounds,y.bounds))for(var x=g.vertices,b=y.vertices,w=0;w<g.vertices.length;w++)for(var C=0;C<y.vertices.length;C++){var _=d.magnitudeSquared(d.sub(x[(w+1)%x.length],b[C])),S=d.magnitudeSquared(d.sub(x[w],b[(C+1)%b.length]));_<m&&S<m&&(x[w].isInternal=!0,b[C].isInternal=!0)}}return f}})()},74116:(n,a,s)=>{var o={};n.exports=o;var u=s(69351),l=s(48140),c=s(53402),h=s(22562),d=s(66280);(function(){o.stack=function(f,m,p,g,v,y,x){for(var b=u.create({label:"Stack"}),w=f,C=m,_,S=0,T=0;T<g;T++){for(var A=0,M=0;M<p;M++){var I=x(w,C,M,T,_,S);if(I){var D=I.bounds.max.y-I.bounds.min.y,k=I.bounds.max.x-I.bounds.min.x;D>A&&(A=D),h.translate(I,{x:k*.5,y:D*.5}),w=I.bounds.max.x+v,u.addBody(b,I),_=I,S+=1}else w+=v}C+=A+y,w=f}return b},o.chain=function(f,m,p,g,v,y){for(var x=f.bodies,b=1;b<x.length;b++){var w=x[b-1],C=x[b],_=w.bounds.max.y-w.bounds.min.y,S=w.bounds.max.x-w.bounds.min.x,T=C.bounds.max.y-C.bounds.min.y,A=C.bounds.max.x-C.bounds.min.x,M={bodyA:w,pointA:{x:S*m,y:_*p},bodyB:C,pointB:{x:A*g,y:T*v}},I=c.extend(M,y);u.addConstraint(f,l.create(I))}return f.label+=" Chain",f},o.mesh=function(f,m,p,g,v){var y=f.bodies,x,b,w,C,_;for(x=0;x<p;x++){for(b=1;b<m;b++)w=y[b-1+x*m],C=y[b+x*m],u.addConstraint(f,l.create(c.extend({bodyA:w,bodyB:C},v)));if(x>0)for(b=0;b<m;b++)w=y[b+(x-1)*m],C=y[b+x*m],u.addConstraint(f,l.create(c.extend({bodyA:w,bodyB:C},v))),g&&b>0&&(_=y[b-1+(x-1)*m],u.addConstraint(f,l.create(c.extend({bodyA:_,bodyB:C},v)))),g&&b<m-1&&(_=y[b+1+(x-1)*m],u.addConstraint(f,l.create(c.extend({bodyA:_,bodyB:C},v))))}return f.label+=" Mesh",f},o.pyramid=function(f,m,p,g,v,y,x){return o.stack(f,m,p,g,v,y,function(b,w,C,_,S,T){var A=Math.min(g,Math.ceil(p/2)),M=S?S.bounds.max.x-S.bounds.min.x:0;if(!(_>A)){_=A-_;var I=_,D=p-1-_;if(!(C<I||C>D)){T===1&&h.translate(S,{x:(C+(p%2===1?1:-1))*M,y:0});var k=S?C*M:0;return x(f+k+C*v,w,C,_,S,T)}}})},o.newtonsCradle=function(f,m,p,g,v){for(var y=u.create({label:"Newtons Cradle"}),x=0;x<p;x++){var b=1.9,w=d.circle(f+x*(g*b),m+v,g,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),C=l.create({pointA:{x:f+x*(g*b),y:m},bodyB:w});u.addBody(y,w),u.addConstraint(y,C)}return y},o.car=function(f,m,p,g,v){var y=h.nextGroup(!0),x=20,b=-p*.5+x,w=p*.5-x,C=0,_=u.create({label:"Car"}),S=d.rectangle(f,m,p,g,{collisionFilter:{group:y},chamfer:{radius:g*.5},density:2e-4}),T=d.circle(f+b,m+C,v,{collisionFilter:{group:y},friction:.8}),A=d.circle(f+w,m+C,v,{collisionFilter:{group:y},friction:.8}),M=l.create({bodyB:S,pointB:{x:b,y:C},bodyA:T,stiffness:1,length:0}),I=l.create({bodyB:S,pointB:{x:w,y:C},bodyA:A,stiffness:1,length:0});return u.addBody(_,S),u.addBody(_,T),u.addBody(_,A),u.addConstraint(_,M),u.addConstraint(_,I),_},o.softBody=function(f,m,p,g,v,y,x,b,w,C){w=c.extend({inertia:1/0},w),C=c.extend({stiffness:.2,render:{type:"line",anchors:!1}},C);var _=o.stack(f,m,p,g,v,y,function(S,T){return d.circle(S,T,b,w)});return o.mesh(_,p,g,x,C),_.label="Soft Body",_}})()},66615:(n,a,s)=>{var o={};n.exports=o;var u=s(31725),l=s(53402);(function(){o.fromVertices=function(c){for(var h={},d=0;d<c.length;d++){var f=(d+1)%c.length,m=u.normalise({x:c[f].y-c[d].y,y:c[d].x-c[f].x}),p=m.y===0?1/0:m.x/m.y;p=p.toFixed(3).toString(),h[p]=m}return l.values(h)},o.rotate=function(c,h){if(h!==0)for(var d=Math.cos(h),f=Math.sin(h),m=0;m<c.length;m++){var p=c[m],g;g=p.x*d-p.y*f,p.y=p.x*f+p.y*d,p.x=g}}})()},15647:n=>{var a={};n.exports=a,function(){a.create=function(s){var o={min:{x:0,y:0},max:{x:0,y:0}};return s&&a.update(o,s),o},a.update=function(s,o,u){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var l=0;l<o.length;l++){var c=o[l];c.x>s.max.x&&(s.max.x=c.x),c.x<s.min.x&&(s.min.x=c.x),c.y>s.max.y&&(s.max.y=c.y),c.y<s.min.y&&(s.min.y=c.y)}u&&(u.x>0?s.max.x+=u.x:s.min.x+=u.x,u.y>0?s.max.y+=u.y:s.min.y+=u.y)},a.contains=function(s,o){return o.x>=s.min.x&&o.x<=s.max.x&&o.y>=s.min.y&&o.y<=s.max.y},a.overlaps=function(s,o){return s.min.x<=o.max.x&&s.max.x>=o.min.x&&s.max.y>=o.min.y&&s.min.y<=o.max.y},a.translate=function(s,o){s.min.x+=o.x,s.max.x+=o.x,s.min.y+=o.y,s.max.y+=o.y},a.shift=function(s,o){var u=s.max.x-s.min.x,l=s.max.y-s.min.y;s.min.x=o.x,s.max.x=o.x+u,s.min.y=o.y,s.max.y=o.y+l},a.wrap=function(s,o,u){var l=null,c=null;if(typeof o.min.x<"u"&&typeof o.max.x<"u"&&(s.min.x>o.max.x?l=o.min.x-s.max.x:s.max.x<o.min.x&&(l=o.max.x-s.min.x)),typeof o.min.y<"u"&&typeof o.max.y<"u"&&(s.min.y>o.max.y?c=o.min.y-s.max.y:s.max.y<o.min.y&&(c=o.max.y-s.min.y)),l!==null||c!==null)return{x:l||0,y:c||0}}}()},74058:(n,a,s)=>{var o={};n.exports=o;var u=s(15647),l=s(53402);(function(){o.pathToVertices=function(c,h){typeof window<"u"&&!("SVGPathSeg"in window)&&l.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var d,f,m,p,g,v,y,x,b,w,C=[],_,S,T=0,A=0,M=0;h=h||15;var I=function(k,G,R){var H=R%2===1&&R>1;if(!b||k!=b.x||G!=b.y){b&&H?(_=b.x,S=b.y):(_=0,S=0);var j={x:_+k,y:S+G};(H||!b)&&(b=j),C.push(j),A=_+k,M=S+G}},D=function(k){var G=k.pathSegTypeAsLetter.toUpperCase();if(G!=="Z"){switch(G){case"M":case"L":case"T":case"C":case"S":case"Q":A=k.x,M=k.y;break;case"H":A=k.x;break;case"V":M=k.y;break}I(A,M,k.pathSegType)}};for(o._svgPathToAbsolute(c),m=c.getTotalLength(),v=[],d=0;d<c.pathSegList.numberOfItems;d+=1)v.push(c.pathSegList.getItem(d));for(y=v.concat();T<m;){if(w=c.getPathSegAtLength(T),g=v[w],g!=x){for(;y.length&&y[0]!=g;)D(y.shift());x=g}switch(g.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":p=c.getPointAtLength(T),I(p.x,p.y,0);break}T+=h}for(d=0,f=y.length;d<f;++d)D(y[d]);return C},o._svgPathToAbsolute=function(c){for(var h,d,f,m,p,g,v=c.pathSegList,y=0,x=0,b=v.numberOfItems,w=0;w<b;++w){var C=v.getItem(w),_=C.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(_))"x"in C&&(y=C.x),"y"in C&&(x=C.y);else switch("x1"in C&&(f=y+C.x1),"x2"in C&&(p=y+C.x2),"y1"in C&&(m=x+C.y1),"y2"in C&&(g=x+C.y2),"x"in C&&(y+=C.x),"y"in C&&(x+=C.y),_){case"m":v.replaceItem(c.createSVGPathSegMovetoAbs(y,x),w);break;case"l":v.replaceItem(c.createSVGPathSegLinetoAbs(y,x),w);break;case"h":v.replaceItem(c.createSVGPathSegLinetoHorizontalAbs(y),w);break;case"v":v.replaceItem(c.createSVGPathSegLinetoVerticalAbs(x),w);break;case"c":v.replaceItem(c.createSVGPathSegCurvetoCubicAbs(y,x,f,m,p,g),w);break;case"s":v.replaceItem(c.createSVGPathSegCurvetoCubicSmoothAbs(y,x,p,g),w);break;case"q":v.replaceItem(c.createSVGPathSegCurvetoQuadraticAbs(y,x,f,m),w);break;case"t":v.replaceItem(c.createSVGPathSegCurvetoQuadraticSmoothAbs(y,x),w);break;case"a":v.replaceItem(c.createSVGPathSegArcAbs(y,x,C.r1,C.r2,C.angle,C.largeArcFlag,C.sweepFlag),w);break;case"z":case"Z":y=h,x=d;break}(_=="M"||_=="m")&&(h=y,d=x)}}})()},31725:n=>{var a={};n.exports=a,function(){a.create=function(s,o){return{x:s||0,y:o||0}},a.clone=function(s){return{x:s.x,y:s.y}},a.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},a.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},a.rotate=function(s,o,u){var l=Math.cos(o),c=Math.sin(o);u||(u={});var h=s.x*l-s.y*c;return u.y=s.x*c+s.y*l,u.x=h,u},a.rotateAbout=function(s,o,u,l){var c=Math.cos(o),h=Math.sin(o);l||(l={});var d=u.x+((s.x-u.x)*c-(s.y-u.y)*h);return l.y=u.y+((s.x-u.x)*h+(s.y-u.y)*c),l.x=d,l},a.normalise=function(s){var o=a.magnitude(s);return o===0?{x:0,y:0}:{x:s.x/o,y:s.y/o}},a.dot=function(s,o){return s.x*o.x+s.y*o.y},a.cross=function(s,o){return s.x*o.y-s.y*o.x},a.cross3=function(s,o,u){return(o.x-s.x)*(u.y-s.y)-(o.y-s.y)*(u.x-s.x)},a.add=function(s,o,u){return u||(u={}),u.x=s.x+o.x,u.y=s.y+o.y,u},a.sub=function(s,o,u){return u||(u={}),u.x=s.x-o.x,u.y=s.y-o.y,u},a.mult=function(s,o){return{x:s.x*o,y:s.y*o}},a.div=function(s,o){return{x:s.x/o,y:s.y/o}},a.perp=function(s,o){return o=o===!0?-1:1,{x:o*-s.y,y:o*s.x}},a.neg=function(s){return{x:-s.x,y:-s.y}},a.angle=function(s,o){return Math.atan2(o.y-s.y,o.x-s.x)},a._temp=[a.create(),a.create(),a.create(),a.create(),a.create(),a.create()]}()},41598:(n,a,s)=>{var o={};n.exports=o;var u=s(31725),l=s(53402);(function(){o.create=function(c,h){for(var d=[],f=0;f<c.length;f++){var m=c[f],p={x:m.x,y:m.y,index:f,body:h,isInternal:!1};d.push(p)}return d},o.fromPath=function(c,h){var d=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return c.replace(d,function(m,p,g){f.push({x:parseFloat(p),y:parseFloat(g)})}),o.create(f,h)},o.centre=function(c){for(var h=o.area(c,!0),d={x:0,y:0},f,m,p,g=0;g<c.length;g++)p=(g+1)%c.length,f=u.cross(c[g],c[p]),m=u.mult(u.add(c[g],c[p]),f),d=u.add(d,m);return u.div(d,6*h)},o.mean=function(c){for(var h={x:0,y:0},d=0;d<c.length;d++)h.x+=c[d].x,h.y+=c[d].y;return u.div(h,c.length)},o.area=function(c,h){for(var d=0,f=c.length-1,m=0;m<c.length;m++)d+=(c[f].x-c[m].x)*(c[f].y+c[m].y),f=m;return h?d/2:Math.abs(d)/2},o.inertia=function(c,h){for(var d=0,f=0,m=c,p,g,v=0;v<m.length;v++)g=(v+1)%m.length,p=Math.abs(u.cross(m[g],m[v])),d+=p*(u.dot(m[g],m[g])+u.dot(m[g],m[v])+u.dot(m[v],m[v])),f+=p;return h/6*(d/f)},o.translate=function(c,h,d){d=typeof d<"u"?d:1;var f=c.length,m=h.x*d,p=h.y*d,g;for(g=0;g<f;g++)c[g].x+=m,c[g].y+=p;return c},o.rotate=function(c,h,d){if(h!==0){var f=Math.cos(h),m=Math.sin(h),p=d.x,g=d.y,v=c.length,y,x,b,w;for(w=0;w<v;w++)y=c[w],x=y.x-p,b=y.y-g,y.x=p+(x*f-b*m),y.y=g+(x*m+b*f);return c}},o.contains=function(c,h){for(var d=h.x,f=h.y,m=c.length,p=c[m-1],g,v=0;v<m;v++){if(g=c[v],(d-p.x)*(g.y-p.y)+(f-p.y)*(p.x-g.x)>0)return!1;p=g}return!0},o.scale=function(c,h,d,f){if(h===1&&d===1)return c;f=f||o.centre(c);for(var m,p,g=0;g<c.length;g++)m=c[g],p=u.sub(m,f),c[g].x=f.x+p.x*h,c[g].y=f.y+p.y*d;return c},o.chamfer=function(c,h,d,f,m){typeof h=="number"?h=[h]:h=h||[8],d=typeof d<"u"?d:-1,f=f||2,m=m||14;for(var p=[],g=0;g<c.length;g++){var v=c[g-1>=0?g-1:c.length-1],y=c[g],x=c[(g+1)%c.length],b=h[g<h.length?g:h.length-1];if(b===0){p.push(y);continue}var w=u.normalise({x:y.y-v.y,y:v.x-y.x}),C=u.normalise({x:x.y-y.y,y:y.x-x.x}),_=Math.sqrt(2*Math.pow(b,2)),S=u.mult(l.clone(w),b),T=u.normalise(u.mult(u.add(w,C),.5)),A=u.sub(y,u.mult(T,_)),M=d;d===-1&&(M=Math.pow(b,.32)*1.75),M=l.clamp(M,f,m),M%2===1&&(M+=1);for(var I=Math.acos(u.dot(w,C)),D=I/M,k=0;k<M;k++)p.push(u.add(u.rotate(S,D*k),A))}return p},o.clockwiseSort=function(c){var h=o.mean(c);return c.sort(function(d,f){return u.angle(h,d)-u.angle(h,f)}),c},o.isConvex=function(c){var h=0,d=c.length,f,m,p,g;if(d<3)return null;for(f=0;f<d;f++)if(m=(f+1)%d,p=(f+2)%d,g=(c[m].x-c[f].x)*(c[p].y-c[m].y),g-=(c[m].y-c[f].y)*(c[p].x-c[m].x),g<0?h|=1:g>0&&(h|=2),h===3)return!1;return h!==0?!0:null},o.hull=function(c){var h=[],d=[],f,m;for(c=c.slice(0),c.sort(function(p,g){var v=p.x-g.x;return v!==0?v:p.y-g.y}),m=0;m<c.length;m+=1){for(f=c[m];d.length>=2&&u.cross3(d[d.length-2],d[d.length-1],f)<=0;)d.pop();d.push(f)}for(m=c.length-1;m>=0;m-=1){for(f=c[m];h.length>=2&&u.cross3(h[h.length-2],h[h.length-1],f)<=0;)h.pop();h.push(f)}return h.pop(),d.pop(),h.concat(d)}})()},55973:n=>{n.exports={decomp:I,quickDecomp:R,isSimple:k,removeCollinearPoints:H,removeDuplicatePoints:j,makeCCW:x};function a(Y,V,O){O=O||0;var F=[0,0],X,ie,re,q,ae,ue,me;return X=Y[1][1]-Y[0][1],ie=Y[0][0]-Y[1][0],re=X*Y[0][0]+ie*Y[0][1],q=V[1][1]-V[0][1],ae=V[0][0]-V[1][0],ue=q*V[0][0]+ae*V[0][1],me=X*ae-q*ie,Z(me,0,O)||(F[0]=(ae*re-ie*ue)/me,F[1]=(X*ue-q*re)/me),F}function s(Y,V,O,F){var X=V[0]-Y[0],ie=V[1]-Y[1],re=F[0]-O[0],q=F[1]-O[1];if(re*ie-q*X===0)return!1;var ae=(X*(O[1]-Y[1])+ie*(Y[0]-O[0]))/(re*ie-q*X),ue=(re*(Y[1]-O[1])+q*(O[0]-Y[0]))/(q*X-re*ie);return ae>=0&&ae<=1&&ue>=0&&ue<=1}function o(Y,V,O){return(V[0]-Y[0])*(O[1]-Y[1])-(O[0]-Y[0])*(V[1]-Y[1])}function u(Y,V,O){return o(Y,V,O)>0}function l(Y,V,O){return o(Y,V,O)>=0}function c(Y,V,O){return o(Y,V,O)<0}function h(Y,V,O){return o(Y,V,O)<=0}var d=[],f=[];function m(Y,V,O,F){if(F){var X=d,ie=f;X[0]=V[0]-Y[0],X[1]=V[1]-Y[1],ie[0]=O[0]-V[0],ie[1]=O[1]-V[1];var re=X[0]*ie[0]+X[1]*ie[1],q=Math.sqrt(X[0]*X[0]+X[1]*X[1]),ae=Math.sqrt(ie[0]*ie[0]+ie[1]*ie[1]),ue=Math.acos(re/(q*ae));return ue<F}else return o(Y,V,O)===0}function p(Y,V){var O=V[0]-Y[0],F=V[1]-Y[1];return O*O+F*F}function g(Y,V){var O=Y.length;return Y[V<0?V%O+O:V%O]}function v(Y){Y.length=0}function y(Y,V,O,F){for(var X=O;X<F;X++)Y.push(V[X])}function x(Y){for(var V=0,O=Y,F=1;F<Y.length;++F)(O[F][1]<O[V][1]||O[F][1]===O[V][1]&&O[F][0]>O[V][0])&&(V=F);return u(g(Y,V-1),g(Y,V),g(Y,V+1))?!1:(b(Y),!0)}function b(Y){for(var V=[],O=Y.length,F=0;F!==O;F++)V.push(Y.pop());for(var F=0;F!==O;F++)Y[F]=V[F]}function w(Y,V){return c(g(Y,V-1),g(Y,V),g(Y,V+1))}var C=[],_=[];function S(Y,V,O){var F,X,ie=C,re=_;if(l(g(Y,V+1),g(Y,V),g(Y,O))&&h(g(Y,V-1),g(Y,V),g(Y,O)))return!1;X=p(g(Y,V),g(Y,O));for(var q=0;q!==Y.length;++q)if(!((q+1)%Y.length===V||q===V)&&l(g(Y,V),g(Y,O),g(Y,q+1))&&h(g(Y,V),g(Y,O),g(Y,q))&&(ie[0]=g(Y,V),ie[1]=g(Y,O),re[0]=g(Y,q),re[1]=g(Y,q+1),F=a(ie,re),p(g(Y,V),F)<X))return!1;return!0}function T(Y,V,O){for(var F=0;F!==Y.length;++F)if(!(F===V||F===O||(F+1)%Y.length===V||(F+1)%Y.length===O)&&s(g(Y,V),g(Y,O),g(Y,F),g(Y,F+1)))return!1;return!0}function A(Y,V,O,F){var X=F||[];if(v(X),V<O)for(var ie=V;ie<=O;ie++)X.push(Y[ie]);else{for(var ie=0;ie<=O;ie++)X.push(Y[ie]);for(var ie=V;ie<Y.length;ie++)X.push(Y[ie])}return X}function M(Y){for(var V=[],O=[],F=[],X=[],ie=Number.MAX_VALUE,re=0;re<Y.length;++re)if(w(Y,re)){for(var q=0;q<Y.length;++q)if(S(Y,re,q)){O=M(A(Y,re,q,X)),F=M(A(Y,q,re,X));for(var ae=0;ae<F.length;ae++)O.push(F[ae]);O.length<ie&&(V=O,ie=O.length,V.push([g(Y,re),g(Y,q)]))}}return V}function I(Y){var V=M(Y);return V.length>0?D(Y,V):[Y]}function D(Y,V){if(V.length===0)return[Y];if(V instanceof Array&&V.length&&V[0]instanceof Array&&V[0].length===2&&V[0][0]instanceof Array){for(var O=[Y],F=0;F<V.length;F++)for(var X=V[F],ie=0;ie<O.length;ie++){var re=O[ie],q=D(re,X);if(q){O.splice(ie,1),O.push(q[0],q[1]);break}}return O}else{var X=V,F=Y.indexOf(X[0]),ie=Y.indexOf(X[1]);return F!==-1&&ie!==-1?[A(Y,F,ie),A(Y,ie,F)]:!1}}function k(Y){var V=Y,O;for(O=0;O<V.length-1;O++)for(var F=0;F<O-1;F++)if(s(V[O],V[O+1],V[F],V[F+1]))return!1;for(O=1;O<V.length-2;O++)if(s(V[0],V[V.length-1],V[O],V[O+1]))return!1;return!0}function G(Y,V,O,F,X){X=X||0;var ie=V[1]-Y[1],re=Y[0]-V[0],q=ie*Y[0]+re*Y[1],ae=F[1]-O[1],ue=O[0]-F[0],me=ae*O[0]+ue*O[1],be=ie*ue-ae*re;return Z(be,0,X)?[0,0]:[(ue*q-re*me)/be,(ie*me-ae*q)/be]}function R(Y,V,O,F,X,ie,re){ie=ie||100,re=re||0,X=X||25,V=typeof V<"u"?V:[],O=O||[],F=F||[];var q=[0,0],ae=[0,0],ue=[0,0],me=0,be=0,ke=0,ze=0,De=0,ge=0,Et=0,ct=[],We=[],Ue=Y,qe=Y;if(qe.length<3)return V;if(re++,re>ie)return console.warn("quickDecomp: max level ("+ie+") reached."),V;for(var it=0;it<Y.length;++it)if(w(Ue,it)){O.push(Ue[it]),me=be=Number.MAX_VALUE;for(var Ft=0;Ft<Y.length;++Ft)u(g(Ue,it-1),g(Ue,it),g(Ue,Ft))&&h(g(Ue,it-1),g(Ue,it),g(Ue,Ft-1))&&(ue=G(g(Ue,it-1),g(Ue,it),g(Ue,Ft),g(Ue,Ft-1)),c(g(Ue,it+1),g(Ue,it),ue)&&(ke=p(Ue[it],ue),ke<be&&(be=ke,ae=ue,ge=Ft))),u(g(Ue,it+1),g(Ue,it),g(Ue,Ft+1))&&h(g(Ue,it+1),g(Ue,it),g(Ue,Ft))&&(ue=G(g(Ue,it+1),g(Ue,it),g(Ue,Ft),g(Ue,Ft+1)),u(g(Ue,it-1),g(Ue,it),ue)&&(ke=p(Ue[it],ue),ke<me&&(me=ke,q=ue,De=Ft)));if(ge===(De+1)%Y.length)ue[0]=(ae[0]+q[0])/2,ue[1]=(ae[1]+q[1])/2,F.push(ue),it<De?(y(ct,Ue,it,De+1),ct.push(ue),We.push(ue),ge!==0&&y(We,Ue,ge,Ue.length),y(We,Ue,0,it+1)):(it!==0&&y(ct,Ue,it,Ue.length),y(ct,Ue,0,De+1),ct.push(ue),We.push(ue),y(We,Ue,ge,it+1));else{if(ge>De&&(De+=Y.length),ze=Number.MAX_VALUE,De<ge)return V;for(var Ft=ge;Ft<=De;++Ft)l(g(Ue,it-1),g(Ue,it),g(Ue,Ft))&&h(g(Ue,it+1),g(Ue,it),g(Ue,Ft))&&(ke=p(g(Ue,it),g(Ue,Ft)),ke<ze&&T(Ue,it,Ft)&&(ze=ke,Et=Ft%Y.length));it<Et?(y(ct,Ue,it,Et+1),Et!==0&&y(We,Ue,Et,qe.length),y(We,Ue,0,it+1)):(it!==0&&y(ct,Ue,it,qe.length),y(ct,Ue,0,Et+1),y(We,Ue,Et,it+1))}return ct.length<We.length?(R(ct,V,O,F,X,ie,re),R(We,V,O,F,X,ie,re)):(R(We,V,O,F,X,ie,re),R(ct,V,O,F,X,ie,re)),V}return V.push(Y),V}function H(Y,V){for(var O=0,F=Y.length-1;Y.length>3&&F>=0;--F)m(g(Y,F-1),g(Y,F),g(Y,F+1),V)&&(Y.splice(F%Y.length,1),O++);return O}function j(Y,V){for(var O=Y.length-1;O>=1;--O)for(var F=Y[O],X=O-1;X>=0;--X)if(ee(F,Y[X],V)){Y.splice(O,1);continue}}function Z(Y,V,O){return O=O||0,Math.abs(Y-V)<=O}function ee(Y,V,O){return Z(Y[0],V[0],O)&&Z(Y[1],V[1],O)}},52018:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c){this.pluginManager=c,this.game=c.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=u},42363:n=>{var a={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};n.exports=a},37277:n=>{var a={},s={},o={};o.register=function(u,l,c,h){h===void 0&&(h=!1),a[u]={plugin:l,mapping:c,custom:h}},o.registerCustom=function(u,l,c,h){s[u]={plugin:l,mapping:c,data:h}},o.hasCore=function(u){return a.hasOwnProperty(u)},o.hasCustom=function(u){return s.hasOwnProperty(u)},o.getCore=function(u){return a[u]},o.getCustom=function(u){return s[u]},o.getCustomClass=function(u){return s.hasOwnProperty(u)?s[u].plugin:null},o.remove=function(u){a.hasOwnProperty(u)&&delete a[u]},o.removeCustom=function(u){s.hasOwnProperty(u)&&delete s[u]},o.destroyCorePlugins=function(){for(var u in a)a.hasOwnProperty(u)&&delete a[u]},o.destroyCustomPlugins=function(){for(var u in s)s.hasOwnProperty(u)&&delete s[u]},n.exports=o},77332:(n,a,s)=>{var o=s(83419),u=s(8443),l=s(50792),c=s(74099),h=s(44603),d=s(39429),f=s(95540),m=s(37277),p=s(72905),g=new o({Extends:l,initialize:function(y){l.call(this),this.game=y,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],y.isBooted?this.boot():y.events.once(u.BOOT,this.boot,this)},boot:function(){var v,y,x,b,w,C,_,S=this.game.config,T=S.installGlobalPlugins;for(T=T.concat(this._pendingGlobal),v=0;v<T.length;v++)y=T[v],x=f(y,"key",null),b=f(y,"plugin",null),w=f(y,"start",!1),C=f(y,"mapping",null),_=f(y,"data",null),x&&(b?this.install(x,b,w,C,_):console.warn("Missing `plugin` for key: "+x));for(T=S.installScenePlugins,T=T.concat(this._pendingScene),v=0;v<T.length;v++)y=T[v],x=f(y,"key",null),b=f(y,"plugin",null),C=f(y,"mapping",null),x&&(b?this.installScenePlugin(x,b,C):console.warn("Missing `plugin` for key: "+x));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(u.DESTROY,this.destroy,this)},addToScene:function(v,y,x){var b,w,C,_=this.game,S=v.scene,T=v.settings.map,A=v.settings.isBooted;for(b=0;b<y.length;b++)w=y[b],_[w]?(v[w]=_[w],T.hasOwnProperty(w)&&(S[T[w]]=v[w])):w==="game"&&T.hasOwnProperty(w)&&(S[T[w]]=_);for(var M=0;M<x.length;M++)for(C=x[M],b=0;b<C.length;b++)if(w=C[b],!!m.hasCore(w)){var I=m.getCore(w),D=I.mapping,k=new I.plugin(S,this,D);v[D]=k,I.custom?S[D]=k:T.hasOwnProperty(D)&&(S[T[D]]=k),A&&k.boot()}for(C=this.plugins,b=0;b<C.length;b++){var G=C[b];G.mapping&&(S[G.mapping]=G.plugin)}},getDefaultScenePlugins:function(){var v=this.game.config.defaultPlugins;return v=v.concat(this.scenePlugins),v},installScenePlugin:function(v,y,x,b,w){if(w===void 0&&(w=!1),typeof y!="function"){console.warn("Invalid Scene Plugin: "+v);return}if(m.hasCore(v)||m.register(v,y,x,!0),this.scenePlugins.indexOf(v)===-1)this.scenePlugins.push(v);else if(!w&&m.hasCore(v)){console.warn("Scene Plugin key in use: "+v);return}if(b){var C=new y(b,this,v);b.sys[v]=C,x&&x!==""&&(b[x]=C),C.boot()}},install:function(v,y,x,b,w){if(x===void 0&&(x=!1),b===void 0&&(b=null),w===void 0&&(w=null),typeof y!="function")return console.warn("Invalid Plugin: "+v),null;if(m.hasCustom(v))return console.warn("Plugin key in use: "+v),null;if(b!==null&&(x=!0),!this.game.isBooted)this._pendingGlobal.push({key:v,plugin:y,start:x,mapping:b,data:w});else if(m.registerCustom(v,y,b,w),x)return this.start(v);return null},getIndex:function(v){for(var y=this.plugins,x=0;x<y.length;x++){var b=y[x];if(b.key===v)return x}return-1},getEntry:function(v){var y=this.getIndex(v);if(y!==-1)return this.plugins[y]},isActive:function(v){var y=this.getEntry(v);return y&&y.active},start:function(v,y){y===void 0&&(y=v);var x=this.getEntry(y);return x&&!x.active?(x.active=!0,x.plugin.start()):x||(x=this.createEntry(v,y)),x?x.plugin:null},createEntry:function(v,y){var x=m.getCustom(v);if(x){var b=new x.plugin(this);x={key:y,plugin:b,active:!0,mapping:x.mapping,data:x.data},this.plugins.push(x),b.init(x.data),b.start()}return x},stop:function(v){var y=this.getEntry(v);return y&&y.active&&(y.active=!1,y.plugin.stop()),this},get:function(v,y){y===void 0&&(y=!0);var x=this.getEntry(v);if(x)return x.plugin;var b=this.getClass(v);return b&&y?(x=this.createEntry(v,v),x?x.plugin:null):b||null},getClass:function(v){return m.getCustomClass(v)},removeGlobalPlugin:function(v){var y=this.getEntry(v);y&&p(this.plugins,y),m.removeCustom(v)},removeScenePlugin:function(v){p(this.scenePlugins,v),m.remove(v)},registerGameObject:function(v,y,x){return y&&d.register(v,y),x&&h.register(v,x),this},removeGameObject:function(v,y,x){return y===void 0&&(y=!0),x===void 0&&(x=!0),y&&d.remove(v),x&&h.remove(v),this},registerFileType:function(v,y,x){c.register(v,y),x&&x.sys.load&&(x.sys.load[v]=y)},destroy:function(){for(var v=0;v<this.plugins.length;v++)this.plugins[v].plugin.destroy();m.destroyCustomPlugins(),this.game.noReturn&&m.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});n.exports=g},45145:(n,a,s)=>{var o=s(52018),u=s(83419),l=s(44594),c=new u({Extends:o,initialize:function(d,f,m){o.call(this,f),this.scene=d,this.systems=d.sys,this.pluginKey=m,d.sys.events.once(l.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=c},18922:(n,a,s)=>{n.exports={BasePlugin:s(52018),DefaultPlugins:s(42363),PluginCache:s(37277),PluginManager:s(77332),ScenePlugin:s(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(n){let a=performance.now(),s=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames,u=(l,c)=>{let h=this.getVideoPlaybackQuality(),d=this.mozPresentedFrames||this.mozPaintedFrames||h.totalVideoFrames-h.droppedVideoFrames;if(d>o){let f=this.mozFrameDelay||h.totalFrameDelay-s.totalFrameDelay||0,m=c-l;n(c,{presentationTime:c+f*1e3,expectedDisplayTime:c+m,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+m/1e3,presentedFrames:d,processingDuration:f}),delete this._rvfcpolyfillmap[a]}else this._rvfcpolyfillmap[a]=requestAnimationFrame(f=>u(c,f))};return this._rvfcpolyfillmap[a]=requestAnimationFrame(l=>u(a,l)),a},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(n){cancelAnimationFrame(this._rvfcpolyfillmap[n]),delete this._rvfcpolyfillmap[n]})},10312:n=>{n.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:n=>{var a={DEFAULT:0,LINEAR:0,NEAREST:1};n.exports=a},68627:(n,a,s)=>{var o=s(19715),u=s(32880),l=s(83419),c=s(8054),h=s(50792),d=s(92503),f=s(56373),m=s(97480),p=s(69442),g=s(61340),v=new l({Extends:h,initialize:function(x){h.call(this);var b=x.config;this.config={clearBeforeRender:b.clearBeforeRender,backgroundColor:b.backgroundColor,antialias:b.antialias,roundPixels:b.roundPixels},this.game=x,this.type=c.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=x.canvas;var w={alpha:x.config.transparent,desynchronized:x.config.desynchronized,willReadFrequently:!1};this.gameContext=b.context?b.context:this.gameCanvas.getContext("2d",w),this.currentContext=this.gameContext,this.antialias=x.config.antialias,this.blendModes=f(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new g,this._tempMatrix2=new g,this._tempMatrix3=new g,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(p.READY,this.boot,this)},boot:function(){var y=this.game,x=y.scale.baseSize;this.width=x.width,this.height=x.height,this.isBooted=!0,y.scale.on(m.RESIZE,this.onResize,this),this.resize(x.width,x.height)},onResize:function(y,x){(x.width!==this.width||x.height!==this.height)&&this.resize(x.width,x.height)},resize:function(y,x){this.width=y,this.height=x,this.emit(d.RESIZE,y,x)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(y){return this.currentContext.globalCompositeOperation=y,this},setContext:function(y){return this.currentContext=y||this.gameContext,this},setAlpha:function(y){return this.currentContext.globalAlpha=y,this},preRender:function(){var y=this.gameContext,x=this.config,b=this.width,w=this.height;y.globalAlpha=1,y.globalCompositeOperation="source-over",y.setTransform(1,0,0,1,0,0),this.emit(d.PRE_RENDER_CLEAR),x.clearBeforeRender&&(y.clearRect(0,0,b,w),x.transparent||(y.fillStyle=x.backgroundColor.rgba,y.fillRect(0,0,b,w))),y.save(),this.drawCount=0,this.emit(d.PRE_RENDER)},render:function(y,x,b){var w=x.length;this.emit(d.RENDER,y,b);var C=b.x,_=b.y,S=b.width,T=b.height,A=b.renderToTexture?b.context:y.sys.context;A.save(),this.game.scene.customViewports&&(A.beginPath(),A.rect(C,_,S,T),A.clip()),b.emit(o.PRE_RENDER,b),this.currentContext=A;var M=b.mask;M&&M.preRenderCanvas(this,null,b._maskCamera),b.transparent||(A.fillStyle=b.backgroundColor.rgba,A.fillRect(C,_,S,T)),A.globalAlpha=b.alpha,A.globalCompositeOperation="source-over",this.drawCount+=w,b.renderToTexture&&b.emit(o.PRE_RENDER,b),b.matrix.copyToContext(A);for(var I=0;I<w;I++){var D=x[I];D.mask&&D.mask.preRenderCanvas(this,D,b),D.renderCanvas(this,D,b),D.mask&&D.mask.postRenderCanvas(this,D,b)}A.setTransform(1,0,0,1,0,0),A.globalCompositeOperation="source-over",A.globalAlpha=1,b.flashEffect.postRenderCanvas(A),b.fadeEffect.postRenderCanvas(A),b.dirty=!1,M&&M.postRenderCanvas(this),A.restore(),b.renderToTexture&&(b.emit(o.POST_RENDER,b),b.renderToGame&&y.sys.context.drawImage(b.canvas,C,_)),b.emit(o.POST_RENDER,b)},postRender:function(){var y=this.gameContext;y.restore(),this.emit(d.POST_RENDER);var x=this.snapshotState;x.callback&&(u(this.gameCanvas,x),x.callback=null)},snapshotCanvas:function(y,x,b,w,C,_,S,T,A){b===void 0&&(b=!1),this.snapshotArea(w,C,_,S,x,T,A);var M=this.snapshotState;return M.getPixel=b,u(y,M),M.callback=null,this},snapshot:function(y,x,b){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,y,x,b)},snapshotArea:function(y,x,b,w,C,_,S){var T=this.snapshotState;return T.callback=C,T.type=_,T.encoder=S,T.getPixel=!1,T.x=y,T.y=x,T.width=Math.min(b,this.gameCanvas.width),T.height=Math.min(w,this.gameCanvas.height),this},snapshotPixel:function(y,x,b){return this.snapshotArea(y,x,1,1,b),this.snapshotState.getPixel=!0,this},batchSprite:function(y,x,b,w){var C=b.alpha*y.alpha;if(C!==0){var _=this.currentContext,S=this._tempMatrix1,T=this._tempMatrix2,A=x.canvasData,M=A.x,I=A.y,D=x.cutWidth,k=x.cutHeight,G=x.customPivot,R=x.source.resolution,H=y.displayOriginX,j=y.displayOriginY,Z=-H+x.x,ee=-j+x.y;if(y.isCropped){var Y=y._crop;(Y.flipX!==y.flipX||Y.flipY!==y.flipY)&&x.updateCropUVs(Y,y.flipX,y.flipY),D=Y.cw,k=Y.ch,M=Y.cx,I=Y.cy,Z=-H+Y.x,ee=-j+Y.y,y.flipX&&(Z>=0?Z=-(Z+D):Z<0&&(Z=Math.abs(Z)-D)),y.flipY&&(ee>=0?ee=-(ee+k):ee<0&&(ee=Math.abs(ee)-k))}var V=1,O=1;y.flipX&&(G||(Z+=-x.realWidth+H*2),V=-1),y.flipY&&(G||(ee+=-x.realHeight+j*2),O=-1);var F=y.x,X=y.y;if(b.roundPixels&&(F=Math.floor(F),X=Math.floor(X)),T.applyITRS(F,X,y.rotation,y.scaleX*V,y.scaleY*O),S.copyFrom(b.matrix),w?(S.multiplyWithOffset(w,-b.scrollX*y.scrollFactorX,-b.scrollY*y.scrollFactorY),T.e=F,T.f=X):(T.e-=b.scrollX*y.scrollFactorX,T.f-=b.scrollY*y.scrollFactorY),S.multiply(T),b.renderRoundPixels&&(S.e=Math.floor(S.e+.5),S.f=Math.floor(S.f+.5)),_.save(),S.setToContext(_),_.globalCompositeOperation=this.blendModes[y.blendMode],_.globalAlpha=C,_.imageSmoothingEnabled=!x.source.scaleMode,y.mask&&y.mask.preRenderCanvas(this,y,b),D>0&&k>0){var ie=D/R,re=k/R;b.roundPixels&&(Z=Math.floor(Z+.5),ee=Math.floor(ee+.5),ie+=.5,re+=.5),_.drawImage(x.source.image,M,I,D,k,Z,ee,ie,re)}y.mask&&y.mask.postRenderCanvas(this,y,b),_.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});n.exports=v},55830:(n,a,s)=>{n.exports={CanvasRenderer:s(68627),GetBlendModes:s(56373),SetTransform:s(20926)}},56373:(n,a,s)=>{var o=s(10312),u=s(89289),l=function(){var c=[],h=u.supportNewBlendModes,d="source-over";return c[o.NORMAL]=d,c[o.ADD]="lighter",c[o.MULTIPLY]=h?"multiply":d,c[o.SCREEN]=h?"screen":d,c[o.OVERLAY]=h?"overlay":d,c[o.DARKEN]=h?"darken":d,c[o.LIGHTEN]=h?"lighten":d,c[o.COLOR_DODGE]=h?"color-dodge":d,c[o.COLOR_BURN]=h?"color-burn":d,c[o.HARD_LIGHT]=h?"hard-light":d,c[o.SOFT_LIGHT]=h?"soft-light":d,c[o.DIFFERENCE]=h?"difference":d,c[o.EXCLUSION]=h?"exclusion":d,c[o.HUE]=h?"hue":d,c[o.SATURATION]=h?"saturation":d,c[o.COLOR]=h?"color":d,c[o.LUMINOSITY]=h?"luminosity":d,c[o.ERASE]="destination-out",c[o.SOURCE_IN]="source-in",c[o.SOURCE_OUT]="source-out",c[o.SOURCE_ATOP]="source-atop",c[o.DESTINATION_OVER]="destination-over",c[o.DESTINATION_IN]="destination-in",c[o.DESTINATION_OUT]="destination-out",c[o.DESTINATION_ATOP]="destination-atop",c[o.LIGHTER]="lighter",c[o.COPY]="copy",c[o.XOR]="xor",c};n.exports=l},20926:(n,a,s)=>{var o=s(91296),u=function(l,c,h,d,f){var m=d.alpha*h.alpha;if(m<=0)return!1;var p=o(h,d,f).calc;return c.globalCompositeOperation=l.blendModes[h.blendMode],c.globalAlpha=m,c.save(),p.setToContext(c),c.imageSmoothingEnabled=h.frame?!h.frame.source.scaleMode:l.antialias,!0};n.exports=u},63899:n=>{n.exports="losewebgl"},6119:n=>{n.exports="postrender"},48070:n=>{n.exports="prerender"},15640:n=>{n.exports="render"},8912:n=>{n.exports="resize"},87124:n=>{n.exports="restorewebgl"},92503:(n,a,s)=>{n.exports={LOSE_WEBGL:s(63899),POST_RENDER:s(6119),PRE_RENDER:s(48070),RENDER:s(15640),RESIZE:s(8912),RESTORE_WEBGL:s(87124)}},36909:(n,a,s)=>{n.exports={Events:s(92503),Snapshot:s(89966)},n.exports.Canvas=s(55830),n.exports.WebGL=s(4159)},32880:(n,a,s)=>{var o=s(27919),u=s(40987),l=s(95540),c=function(h,d){var f=l(d,"callback"),m=l(d,"type","image/png"),p=l(d,"encoder",.92),g=Math.abs(Math.round(l(d,"x",0))),v=Math.abs(Math.round(l(d,"y",0))),y=Math.floor(l(d,"width",h.width)),x=Math.floor(l(d,"height",h.height)),b=l(d,"getPixel",!1);if(b){var w=h.getContext("2d",{willReadFrequently:!1}),C=w.getImageData(g,v,1,1),_=C.data;f.call(null,new u(_[0],_[1],_[2],_[3]))}else if(g!==0||v!==0||y!==h.width||x!==h.height){var S=o.createWebGL(this,y,x),T=S.getContext("2d",{willReadFrequently:!0});y>0&&x>0&&T.drawImage(h,g,v,y,x,0,0,y,x);var A=new Image;A.onerror=function(){f.call(null),o.remove(S)},A.onload=function(){f.call(null,A),o.remove(S)},A.src=S.toDataURL(m,p)}else{var M=new Image;M.onerror=function(){f.call(null)},M.onload=function(){f.call(null,M)},M.src=h.toDataURL(m,p)}};n.exports=c},88815:(n,a,s)=>{var o=s(27919),u=s(40987),l=s(95540),c=function(h,d){var f=h,m=l(d,"callback"),p=l(d,"type","image/png"),g=l(d,"encoder",.92),v=Math.abs(Math.round(l(d,"x",0))),y=Math.abs(Math.round(l(d,"y",0))),x=l(d,"getPixel",!1),b=l(d,"isFramebuffer",!1),w=b?l(d,"bufferWidth",1):f.drawingBufferWidth,C=b?l(d,"bufferHeight",1):f.drawingBufferHeight;if(x){var _=new Uint8Array(4),S=b?y:C-y;f.readPixels(v,S,1,1,f.RGBA,f.UNSIGNED_BYTE,_),m.call(null,new u(_[0],_[1],_[2],_[3]))}else{var T=Math.floor(l(d,"width",w)),A=Math.floor(l(d,"height",C)),M=T*A*4,I=new Uint8Array(M);f.readPixels(v,C-y-A,T,A,f.RGBA,f.UNSIGNED_BYTE,I);for(var D=o.createWebGL(this,T,A),k=D.getContext("2d",{willReadFrequently:!0}),G=k.getImageData(0,0,T,A),R=G.data,H=0;H<A;H++)for(var j=0;j<T;j++){var Z=((A-H-1)*T+j)*4,ee=b?M-(H*T+(T-j))*4:(H*T+j)*4;R[ee+0]=I[Z+0],R[ee+1]=I[Z+1],R[ee+2]=I[Z+2],R[ee+3]=I[Z+3]}k.putImageData(G,0,0);var Y=new Image;Y.onerror=function(){m.call(null),o.remove(D)},Y.onload=function(){m.call(null,Y),o.remove(D)},Y.src=D.toDataURL(p,g)}};n.exports=c},89966:(n,a,s)=>{n.exports={Canvas:s(32880),WebGL:s(88815)}},7530:(n,a,s)=>{var o=s(83419),u=s(36060),l=s(90330),c=s(82264),h=s(95540),d=s(32302),f=s(63448),m=s(31302),p=s(58918),g=s(14811),v=s(92651),y=s(96569),x=s(56527),b=s(57516),w=s(43439),C=s(81041),_=s(12385),S=s(7589),T=s(95428),A=s(72905),M=new o({initialize:function(D){this.game=D.game,this.renderer=D,this.classes=new l([[u.UTILITY_PIPELINE,S],[u.MULTI_PIPELINE,b],[u.BITMAPMASK_PIPELINE,m],[u.SINGLE_PIPELINE,_],[u.ROPE_PIPELINE,C],[u.LIGHT_PIPELINE,y],[u.POINTLIGHT_PIPELINE,w],[u.MOBILE_PIPELINE,x]]),this.postPipelineClasses=new l,this.pipelines=new l,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(I,D,k){var G=this.renderer,R=this.renderTargets;this.frameInc=Math.floor(h(I,"frameInc",32));var H=G.width,j=G.height,Z=this.game.config.disablePreFX,ee=this.game.config.disablePostFX;if(ee||this.postPipelineClasses.setAll([[String(g.BARREL),p.Barrel],[String(g.BLOOM),p.Bloom],[String(g.BLUR),p.Blur],[String(g.BOKEH),p.Bokeh],[String(g.CIRCLE),p.Circle],[String(g.COLOR_MATRIX),p.ColorMatrix],[String(g.DISPLACEMENT),p.Displacement],[String(g.GLOW),p.Glow],[String(g.GRADIENT),p.Gradient],[String(g.PIXELATE),p.Pixelate],[String(g.SHADOW),p.Shadow],[String(g.SHINE),p.Shine],[String(g.VIGNETTE),p.Vignette],[String(g.WIPE),p.Wipe]]),!Z){this.classes.set(u.FX_PIPELINE,v);for(var Y=Math.min(H,j),V=Math.ceil(Y/this.frameInc),O=1;O<V;O++){var F=O*this.frameInc;R.push(new d(G,F,F)),R.push(new d(G,F,F)),R.push(new d(G,F,F)),this.maxDimension=F}R.push(new d(G,H,j,1,0,!0,!0)),R.push(new d(G,H,j,1,0,!0,!0)),R.push(new d(G,H,j,1,0,!0,!0))}var X,ie,re=this,q=this.game;if(this.classes.each(function(ue,me){X=re.add(ue,new me({game:q})),ue===u.UTILITY_PIPELINE&&(re.UTILITY_PIPELINE=X,re.fullFrame1=X.fullFrame1,re.fullFrame2=X.fullFrame2,re.halfFrame1=X.halfFrame1,re.halfFrame2=X.halfFrame2)}),this.MULTI_PIPELINE=this.get(u.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(u.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(u.MOBILE_PIPELINE),Z||(this.FX_PIPELINE=this.get(u.FX_PIPELINE)),I)for(ie in I){var ae=I[ie];X=new ae(q),X.name=ie,X.isPostFX?this.postPipelineClasses.set(ie,ae):this.has(ie)||(this.classes.set(ie,ae),this.add(ie,X))}this.default=this.get(D),k&&!c.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(I){var D=this.get(I);return D&&(this.default=D),D},add:function(I,D){if(D.isPostFX){console.warn(I+" is a Post Pipeline. Use `addPostPipeline` instead");return}var k=this.pipelines,G=this.renderer;return k.has(I)?console.warn("Pipeline exists: "+I):(D.name=I,D.manager=this,k.set(I,D)),D.hasBooted||D.boot(),G.width!==0&&G.height!==0&&!D.isPreFX&&D.resize(G.width,G.height),D},addPostPipeline:function(I,D){this.postPipelineClasses.has(I)||this.postPipelineClasses.set(I,D)},flush:function(){this.current&&this.current.flush()},has:function(I){var D=this.pipelines;return typeof I=="string"?D.has(I):!!D.contains(I)},get:function(I){var D=this.pipelines;if(typeof I=="string")return D.get(I);if(D.contains(I))return I},getPostPipeline:function(I,D,k){var G=this.postPipelineClasses,R,H="",j=typeof I;if(j==="string"||j==="number"?(R=G.get(I),H=I):j==="function"?(G.contains(I)&&(R=I),H=I.name):j==="object"&&(R=G.get(I.name),H=I.name),R){var Z=new R(this.game,k);return Z.name=H,D&&(Z.gameObject=D),this.postPipelineInstances.push(Z),Z}},removePostPipeline:function(I){A(this.postPipelineInstances,I)},remove:function(I,D,k){D===void 0&&(D=!0),k===void 0&&(k=!0),this.pipelines.delete(I),D&&this.classes.delete(I),k&&this.postPipelineClasses.delete(I)},set:function(I,D,k){if(!I.isPostFX)return this.isCurrent(I,k)||(this.flush(),this.current&&this.current.unbind(),this.current=I,I.bind(k)),I.updateProjectionMatrix(),I.onBind(D),I},preBatch:function(I){if(I.hasPostPipeline){this.flush();for(var D=I.postPipelines,k=D.length-1;k>=0;k--){var G=D[k];G.active&&G.preBatch(I)}}},postBatch:function(I){if(I.hasPostPipeline){this.flush();for(var D=I.postPipelines,k=0;k<D.length;k++){var G=D[k];G.active&&G.postBatch(I)}}},preBatchCamera:function(I){if(I.hasPostPipeline){this.flush();for(var D=I.postPipelines,k=D.length-1;k>=0;k--){var G=D[k];G.active&&G.preBatch(I)}}},postBatchCamera:function(I){if(I.hasPostPipeline){this.flush();for(var D=I.postPipelines,k=0;k<D.length;k++){var G=D[k];G.active&&G.postBatch(I)}}},isCurrent:function(I,D){var k=this.renderer,G=this.current;return G&&!D&&(D=G.currentShader),!(G!==I||D.program!==k.currentProgram)},copyFrame:function(I,D,k,G,R){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(I,D,k,G,R),this},copyToGame:function(I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(I),this},drawFrame:function(I,D,k,G){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(I,D,k,G),this},blendFrames:function(I,D,k,G,R){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(I,D,k,G,R),this},blendFramesAdditive:function(I,D,k,G,R){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(I,D,k,G,R),this},clearFrame:function(I,D){return this.UTILITY_PIPELINE.clearFrame(I,D),this},blitFrame:function(I,D,k,G,R,H){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(I,D,k,G,R,H),this},copyFrameRect:function(I,D,k,G,R,H,j,Z){return this.UTILITY_PIPELINE.copyFrameRect(I,D,k,G,R,H,j,Z),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(I){return this.UTILITY_PIPELINE.bind(I)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(I,D){D.restoreContext()}),T(this.postPipelineInstances,function(I){I.restoreContext()})},rebind:function(I){I===void 0&&this.previous&&(I=this.previous);var D=this.renderer,k=D.gl;k.disable(k.DEPTH_TEST),k.disable(k.CULL_FACE),D.hasActiveStencilMask()?k.clear(k.DEPTH_BUFFER_BIT):(k.disable(k.STENCIL_TEST),k.clear(k.DEPTH_BUFFER_BIT|k.STENCIL_BUFFER_BIT)),k.viewport(0,0,D.width,D.height),D.currentProgram=null,D.setBlendMode(0,!0);var G=D.vaoExtension;G&&G.bindVertexArrayOES(null);var R=this.pipelines.entries;for(var H in R)R[H].glReset=!0;I&&(this.current=I,I.rebind())},clear:function(){var I=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,I.currentProgram=null,I.setBlendMode(0,!0);var D=I.vaoExtension;D&&D.bindVertexArrayOES(null)},getRenderTarget:function(I){var D=this.renderTargets,k=3;if(I>this.maxDimension)return this.targetIndex=D.length-k,D[this.targetIndex];var G=(f(I,this.frameInc,0,!0)-1)*k;return this.targetIndex=G,D[G]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});n.exports=M},32302:(n,a,s)=>{var o=s(83419),u=s(92503),l=new o({initialize:function(h,d,f,m,p,g,v,y,x){m===void 0&&(m=1),p===void 0&&(p=0),g===void 0&&(g=!0),v===void 0&&(v=!1),y===void 0&&(y=!0),x===void 0&&(x=!0),this.renderer=h,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=m,this.minFilter=p,this.autoClear=g,this.autoResize=!0,this.hasDepthBuffer=y,this.forceClamp=x,this.init(d,f),v?this.renderer.on(u.RESIZE,this.resize,this):this.autoResize=!1},init:function(c,h){var d=this.renderer;this.texture=d.createTextureFromSource(null,c,h,this.minFilter,this.forceClamp),this.framebuffer=d.createFramebuffer(c,h,this.texture,this.hasDepthBuffer),this.width=c,this.height=h},setAutoResize:function(c){return c&&!this.autoResize?(this.renderer.on(u.RESIZE,this.resize,this),this.autoResize=!0):!c&&this.autoResize&&(this.renderer.off(u.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(c,h){if(this.autoResize&&this.willResize(c,h)){var d=this.renderer;d.deleteFramebuffer(this.framebuffer),d.deleteTexture(this.texture),this.texture=d.createTextureFromSource(null,c,h,this.minFilter,this.forceClamp),this.framebuffer=d.createFramebuffer(c,h,this.texture,this.hasDepthBuffer),this.width=c,this.height=h}return this},willResize:function(c,h){return typeof c!="number"||typeof h!="number"?!1:(c=Math.round(c*this.scale),h=Math.round(h*this.scale),c=Math.max(c,1),h=Math.max(h,1),c!==this.width||h!==this.height)},bind:function(c,h,d){c===void 0&&(c=!1);var f=this.renderer;if(c&&f.flush(),h&&d&&this.resize(h,d),f.pushFramebuffer(this.framebuffer,!1,!1),c&&this.adjustViewport(),this.autoClear){var m=this.renderer.gl;m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT)}f.clearStencilMask()},adjustViewport:function(){var c=this.renderer.gl;c.viewport(0,0,this.width,this.height),c.disable(c.SCISSOR_TEST)},clear:function(c,h,d,f){var m=this.renderer,p=m.gl;m.pushFramebuffer(this.framebuffer),c!==void 0&&h!==void 0&&d!==void 0&&f!==void 0?(p.enable(p.SCISSOR_TEST),p.scissor(c,h,d,f)):p.disable(p.SCISSOR_TEST),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),m.popFramebuffer(),m.resetScissor()},unbind:function(c){c===void 0&&(c=!1);var h=this.renderer;return c&&h.flush(),h.popFramebuffer()},destroy:function(){var c=this.renderer;c.off(u.RESIZE,this.resize,this),c.deleteFramebuffer(this.framebuffer),c.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});n.exports=l},70554:n=>{n.exports={getTintFromFloats:function(a,s,o,u){var l=(a*255|0)&255,c=(s*255|0)&255,h=(o*255|0)&255,d=(u*255|0)&255;return(d<<24|l<<16|c<<8|h)>>>0},getTintAppendFloatAlpha:function(a,s){var o=(s*255|0)&255;return(o<<24|a)>>>0},getTintAppendFloatAlphaAndSwap:function(a,s){var o=(a>>16|0)&255,u=(a>>8|0)&255,l=(a|0)&255,c=(s*255|0)&255;return(c<<24|l<<16|u<<8|o)>>>0},getFloatsFromUintRGB:function(a){var s=(a>>16|0)&255,o=(a>>8|0)&255,u=(a|0)&255;return[s/255,o/255,u/255]},checkShaderMax:function(a,s){var o=Math.min(16,a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS));return!s||s===-1?o:Math.min(o,s)},parseFragmentShaderMaxTextures:function(a,s){if(!a)return"";for(var o="",u=0;u<s;u++)u>0&&(o+=`
	else `),u<s-1&&(o+="if (outTexId < "+u+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+u+"], outTexCoord);",o+=`
	}`;return a=a.replace(/%count%/gi,s.toString()),a.replace(/%forloop%/gi,o)},setGlowQuality:function(a,s,o,u){return o===void 0&&(o=s.config.glowFXQuality),u===void 0&&(u=s.config.glowFXDistance),a=a.replace(/__SIZE__/gi,(1/o/u).toFixed(7)),a=a.replace(/__DIST__/gi,u.toFixed(0)+".0"),a}}},29100:(n,a,s)=>{var o=s(83419),u=s(62644),l=s(50792),c=s(77085),h=s(95540),d=s(37867),f=s(92503),m=s(32302),p=s(70554),g=s(38683),v=new o({Extends:l,initialize:function(x){l.call(this);var b=x.game,w=b.renderer,C=w.gl;this.name=h(x,"name","WebGLPipeline"),this.game=b,this.renderer=w,this.manager,this.gl=C,this.view=b.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=h(x,"topology",C.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=h(x,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=x,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=h(x,"resizeUniform","")},boot:function(){var y,x=this.gl,b=this.config,w=this.renderer;this.isPostFX||(this.projectionMatrix=new d().identity());var C=this.renderTargets,_=h(b,"renderTarget",!1);typeof _=="boolean"&&_&&(_=1);var S=w.width,T=w.height;if(typeof _=="number")for(y=0;y<_;y++)C.push(new m(w,S,T,1,0,!0));else if(Array.isArray(_))for(y=0;y<_.length;y++){var A=h(_[y],"scale",1),M=h(_[y],"minFilter",0),I=h(_[y],"autoClear",1),D=h(_[y],"autoResize",!1),k=h(_[y],"width",null),G=h(_[y],"height",k);k?C.push(new m(w,k,G,1,M,I,D)):C.push(new m(w,S,T,A,M,I,D))}C.length&&(this.currentRenderTarget=C[0]),this.setShadersFromConfig(b);var R=this.shaders,H=0;for(y=0;y<R.length;y++)R[y].vertexSize>H&&(H=R[y].vertexSize);var j=h(b,"batchSize",w.config.batchSize);this.vertexCapacity=j*6;var Z=new ArrayBuffer(this.vertexCapacity*H);this.vertexData=Z,this.bytes=new Uint8Array(Z),this.vertexViewF32=new Float32Array(Z),this.vertexViewU32=new Uint32Array(Z);var ee=h(b,"vertices",null);for(ee?(this.vertexViewF32.set(ee),this.vertexBuffer=w.createVertexBuffer(Z,x.STATIC_DRAW)):this.vertexBuffer=w.createVertexBuffer(Z.byteLength,x.DYNAMIC_DRAW),this.setVertexBuffer(),y=R.length-1;y>=0;y--)R[y].rebind();this.hasBooted=!0,w.on(f.RESIZE,this.resize,this),w.on(f.PRE_RENDER,this.onPreRender,this),w.on(f.RENDER,this.onRender,this),w.on(f.POST_RENDER,this.onPostRender,this),this.emit(c.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(y,x,b){var w=this.renderer;if(y!==this.currentShader||w.currentProgram!==this.currentShader.program){this.flush();var C=this.setVertexBuffer(b);C&&!x&&(x=!0),y.bind(x,!1),this.currentShader=y}return this},getShaderByName:function(y){for(var x=this.shaders,b=0;b<x.length;b++)if(x[b].name===y)return x[b]},setShadersFromConfig:function(y){var x,b=this.shaders,w=this.renderer;for(x=0;x<b.length;x++)b[x].destroy();var C="vertShader",_="fragShader",S="attributes",T=h(y,C,null),A=p.parseFragmentShaderMaxTextures(h(y,_,null),w.maxTextures),M=h(y,S,null),I=h(y,"shaders",[]),D=I.length;if(D===0)T&&A&&(this.shaders=[new g(this,"default",T,A,u(M))]);else{var k=[];for(x=0;x<D;x++){var G=I[x],R,H,j,Z;if(typeof G=="string"?(R="default",H=T,j=p.parseFragmentShaderMaxTextures(G,w.maxTextures),Z=M):(R=h(G,"name","default"),H=h(G,C,T),j=p.parseFragmentShaderMaxTextures(h(G,_,A),w.maxTextures),Z=h(G,S,M)),R==="default"){var ee=j.split(`
`),Y=ee[0].trim();Y.indexOf("#define SHADER_NAME")>-1&&(R=Y.substring(20))}H&&j&&k.push(new g(this,R,H,j,u(Z)))}this.shaders=k}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(y){return this.currentBatch={start:this.vertexCount,count:0,texture:[y],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=y,this.batch.push(this.currentBatch),0},addTextureToBatch:function(y){var x=this.currentBatch;x&&(x.texture.push(y),x.unit++,x.maxUnit++)},pushBatch:function(y){if(!this.currentBatch||this.forceZero&&y!==this.currentTexture)return this.createBatch(y);if(y===this.currentTexture)return this.currentUnit;var x=this.currentBatch,b=x.texture.indexOf(y);return b===-1?x.texture.length===this.renderer.maxTextures?this.createBatch(y):(x.unit++,x.maxUnit++,x.texture.push(y),this.currentUnit=x.unit,this.currentTexture=y,x.unit):(this.currentUnit=b,this.currentTexture=y,b)},setGameObject:function(y,x){return x===void 0&&(x=y.frame),this.pushBatch(x.source.glTexture)},shouldFlush:function(y){return y===void 0&&(y=0),this.vertexCount+y>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(y,x){(y!==this.width||x!==this.height)&&this.flush(),this.width=y,this.height=x;for(var b=this.renderTargets,w=0;w<b.length;w++)b[w].resize(y,x);return this.setProjectionMatrix(y,x),this.resizeUniform&&this.set2f(this.resizeUniform,y,x),this.emit(c.RESIZE,y,x,this),this.onResize(y,x),this},setProjectionMatrix:function(y,x){var b=this.projectionMatrix;if(!b)return this;this.projectionWidth=y,this.projectionHeight=x,b.ortho(0,y,x,0,-1e3,1e3);for(var w=this.shaders,C="uProjectionMatrix",_=0;_<w.length;_++){var S=w[_];S.hasUniform(C)&&(S.resetUniform(C),S.setMatrix4fv(C,!1,b.val,S))}return this},flipProjectionMatrix:function(y){y===void 0&&(y=!0);var x=this.projectionMatrix;if(!x)return this;var b=this.projectionWidth,w=this.projectionHeight;y?x.ortho(0,b,0,w,-1e3,1e3):x.ortho(0,b,w,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,x.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var y=this.renderer.projectionWidth,x=this.renderer.projectionHeight;(this.projectionWidth!==y||this.projectionHeight!==x)&&this.setProjectionMatrix(y,x)}},bind:function(y){if(y===void 0&&(y=this.currentShader),this.glReset)return this.rebind(y);var x=!1,b=this.gl;return b.getParameter(b.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(b.bindBuffer(b.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,x=!0),y.bind(x),this.currentShader=y,this.activeTextures.length=0,this.emit(c.BIND,this,y),this.onActive(y),this},rebind:function(y){this.activeBuffer=null,this.setVertexBuffer();for(var x=this.shaders,b=x.length-1;b>=0;b--){var w=x[b].rebind();(!y||w===y)&&(this.currentShader=w)}return this.activeTextures.length=0,this.emit(c.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var y=this.shaders,x=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,x&&this.setVertexBuffer();for(var b=0;b<y.length;b++){var w=y[b];w.syncUniforms(),x&&w.rebind()}},setVertexBuffer:function(y){if(y===void 0&&(y=this.vertexBuffer),y!==this.activeBuffer){var x=this.gl;return this.gl.bindBuffer(x.ARRAY_BUFFER,y.webGLBuffer),this.activeBuffer=y,!0}return!1},preBatch:function(y){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(y),this},postBatch:function(y){return this.onDraw(this.currentRenderTarget),this.onPostBatch(y),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(y){if(y===void 0&&(y=!1),this.vertexCount>0){this.emit(c.BEFORE_FLUSH,this,y),this.onBeforeFlush(y);var x=this.gl,b=this.vertexCount,w=this.currentShader.vertexSize,C=this.topology;if(this.active){this.setVertexBuffer(),b===this.vertexCapacity?x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.DYNAMIC_DRAW):x.bufferSubData(x.ARRAY_BUFFER,0,this.bytes.subarray(0,b*w));var _,S,T,A=this.batch,M=this.activeTextures;if(this.forceZero)for(M[0]||x.activeTexture(x.TEXTURE0),_=0;_<A.length;_++)S=A[_],T=S.texture[0],M[0]!==T&&(x.bindTexture(x.TEXTURE_2D,T.webGLTexture),M[0]=T),x.drawArrays(C,S.start,S.count);else for(_=0;_<A.length;_++){S=A[_];for(var I=0;I<=S.maxUnit;I++)T=S.texture[I],M[I]!==T&&(x.activeTexture(x.TEXTURE0+I),x.bindTexture(x.TEXTURE_2D,T.webGLTexture),M[I]=T);x.drawArrays(C,S.start,S.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(c.AFTER_FLUSH,this,y),this.onAfterFlush(y)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(y,x,b,w,C,_,S){var T=this.vertexViewF32,A=this.vertexViewU32,M=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++M]=y,T[++M]=x,T[++M]=b,T[++M]=w,T[++M]=C,T[++M]=_,A[++M]=S,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(y,x,b,w,C,_,S,T,A,M,I,D,k,G,R,H,j,Z,ee,Y){Y===void 0&&(Y=this.currentUnit);var V=!1;this.shouldFlush(6)&&(this.flush(),V=!0),this.currentBatch||(Y=this.setTexture2D(ee));var O=this.vertexViewF32,F=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return O[++X]=x,O[++X]=b,O[++X]=M,O[++X]=I,O[++X]=Y,O[++X]=Z,F[++X]=G,O[++X]=w,O[++X]=C,O[++X]=M,O[++X]=k,O[++X]=Y,O[++X]=Z,F[++X]=H,O[++X]=_,O[++X]=S,O[++X]=D,O[++X]=k,O[++X]=Y,O[++X]=Z,F[++X]=j,O[++X]=x,O[++X]=b,O[++X]=M,O[++X]=I,O[++X]=Y,O[++X]=Z,F[++X]=G,O[++X]=_,O[++X]=S,O[++X]=D,O[++X]=k,O[++X]=Y,O[++X]=Z,F[++X]=j,O[++X]=T,O[++X]=A,O[++X]=D,O[++X]=I,O[++X]=Y,O[++X]=Z,F[++X]=R,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(y),V},batchTri:function(y,x,b,w,C,_,S,T,A,M,I,D,k,G,R,H,j){j===void 0&&(j=this.currentUnit);var Z=!1;this.shouldFlush(3)&&(this.flush(),Z=!0),this.currentBatch||(j=this.setTexture2D(H));var ee=this.vertexViewF32,Y=this.vertexViewU32,V=this.vertexCount*this.currentShader.vertexComponentCount-1;return ee[++V]=x,ee[++V]=b,ee[++V]=T,ee[++V]=A,ee[++V]=j,ee[++V]=R,Y[++V]=D,ee[++V]=w,ee[++V]=C,ee[++V]=T,ee[++V]=I,ee[++V]=j,ee[++V]=R,Y[++V]=k,ee[++V]=_,ee[++V]=S,ee[++V]=M,ee[++V]=I,ee[++V]=j,ee[++V]=R,Y[++V]=G,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(y),Z},drawFillRect:function(y,x,b,w,C,_,S,T){S===void 0&&(S=this.renderer.whiteTexture),T===void 0&&(T=!0),y=Math.floor(y),x=Math.floor(x);var A=Math.floor(y+b),M=Math.floor(x+w),I=this.setTexture2D(S),D=p.getTintAppendFloatAlphaAndSwap(C,_),k=0,G=0,R=1,H=1;T&&(G=1,H=0),this.batchQuad(null,y,x,y,M,A,M,A,x,k,G,R,H,D,D,D,D,0,S,I)},setTexture2D:function(y){return y===void 0&&(y=this.renderer.whiteTexture),this.pushBatch(y)},bindTexture:function(y,x){x===void 0&&(x=0);var b=this.gl;return b.activeTexture(b.TEXTURE0+x),b.bindTexture(b.TEXTURE_2D,y.webGLTexture),this},bindRenderTarget:function(y,x){return this.bindTexture(y.texture,x)},setTime:function(y,x){return this.set1f(y,this.game.loop.getDuration(),x),this},setBoolean:function(y,x,b){return b===void 0&&(b=this.currentShader),b.setBoolean(y,x),this},set1f:function(y,x,b){return b===void 0&&(b=this.currentShader),b.set1f(y,x),this},set2f:function(y,x,b,w){return w===void 0&&(w=this.currentShader),w.set2f(y,x,b),this},set3f:function(y,x,b,w,C){return C===void 0&&(C=this.currentShader),C.set3f(y,x,b,w),this},set4f:function(y,x,b,w,C,_){return _===void 0&&(_=this.currentShader),_.set4f(y,x,b,w,C),this},set1fv:function(y,x,b){return b===void 0&&(b=this.currentShader),b.set1fv(y,x),this},set2fv:function(y,x,b){return b===void 0&&(b=this.currentShader),b.set2fv(y,x),this},set3fv:function(y,x,b){return b===void 0&&(b=this.currentShader),b.set3fv(y,x),this},set4fv:function(y,x,b){return b===void 0&&(b=this.currentShader),b.set4fv(y,x),this},set1iv:function(y,x,b){return b===void 0&&(b=this.currentShader),b.set1iv(y,x),this},set2iv:function(y,x,b){return b===void 0&&(b=this.currentShader),b.set2iv(y,x),this},set3iv:function(y,x,b){return b===void 0&&(b=this.currentShader),b.set3iv(y,x),this},set4iv:function(y,x,b){return b===void 0&&(b=this.currentShader),b.set4iv(y,x),this},set1i:function(y,x,b){return b===void 0&&(b=this.currentShader),b.set1i(y,x),this},set2i:function(y,x,b,w){return w===void 0&&(w=this.currentShader),w.set2i(y,x,b),this},set3i:function(y,x,b,w,C){return C===void 0&&(C=this.currentShader),C.set3i(y,x,b,w),this},set4i:function(y,x,b,w,C,_){return _===void 0&&(_=this.currentShader),_.set4i(y,x,b,w,C),this},setMatrix2fv:function(y,x,b,w){return w===void 0&&(w=this.currentShader),w.setMatrix2fv(y,x,b),this},setMatrix3fv:function(y,x,b,w){return w===void 0&&(w=this.currentShader),w.setMatrix3fv(y,x,b),this},setMatrix4fv:function(y,x,b,w){return w===void 0&&(w=this.currentShader),w.setMatrix4fv(y,x,b),this},destroy:function(){this.emit(c.DESTROY,this);var y,x=this.shaders;for(y=0;y<x.length;y++)x[y].destroy();var b=this.renderTargets;for(y=0;y<b.length;y++)b[y].destroy();var w=this.renderer;return w.deleteBuffer(this.vertexBuffer),w.off(f.RESIZE,this.resize,this),w.off(f.PRE_RENDER,this.onPreRender,this),w.off(f.RENDER,this.onRender,this),w.off(f.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});n.exports=v},74797:(n,a,s)=>{var o=s(95428),u=s(72905),l=s(19715),c=s(83419),h=s(8054),d=s(50792),f=s(92503),m=s(50030),p=s(37867),g=s(29747),v=s(7530),y=s(32302),x=s(97480),b=s(69442),w=s(70554),C=s(88815),_=s(26128),S=s(1482),T=s(82751),A=s(84387),M=s(93567),I=s(57183),D=!1;if(0)var k;var G=new c({Extends:d,initialize:function(H){d.call(this);var j=H.config,Z={alpha:j.transparent,desynchronized:j.desynchronized,depth:!0,antialias:j.antialiasGL,premultipliedAlpha:j.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:j.failIfMajorPerformanceCaveat,powerPreference:j.powerPreference,preserveDrawingBuffer:j.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:j.clearBeforeRender,antialias:j.antialias,backgroundColor:j.backgroundColor,contextCreation:Z,roundPixels:j.roundPixels,maxTextures:j.maxTextures,maxTextureSize:j.maxTextureSize,batchSize:j.batchSize,maxLights:j.maxLights,mipmapFilter:j.mipmapFilter},this.game=H,this.type=h.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=H.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=g,this.contextRestoredHandler=g,this.previousContextLostHandler=g,this.previousContextRestoredHandler=g,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(R){var H,j=this.game,Z=this.canvas,ee=R.backgroundColor;if(D&&(this.spector=new k.Spector,this.spector.onCapture.add(this.onCapture.bind(this))),j.config.context?H=j.config.context:H=Z.getContext("webgl",R.contextCreation)||Z.getContext("experimental-webgl",R.contextCreation),!H||H.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=H,this.setExtensions(),this.setContextHandlers(),j.context=H;for(var Y=0;Y<=27;Y++)this.blendModes.push({func:[H.ONE,H.ONE_MINUS_SRC_ALPHA],equation:H.FUNC_ADD});this.blendModes[1].func=[H.ONE,H.DST_ALPHA],this.blendModes[2].func=[H.DST_COLOR,H.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[H.ONE,H.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[H.ZERO,H.ONE_MINUS_SRC_ALPHA],equation:H.FUNC_REVERSE_SUBTRACT},this.glFormats=[H.BYTE,H.SHORT,H.UNSIGNED_BYTE,H.UNSIGNED_SHORT,H.FLOAT],this.glFuncMap={mat2:{func:H.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:H.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:H.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:H.uniform1f,length:1},"1fv":{func:H.uniform1fv,length:1},"1i":{func:H.uniform1i,length:1},"1iv":{func:H.uniform1iv,length:1},"2f":{func:H.uniform2f,length:2},"2fv":{func:H.uniform2fv,length:1},"2i":{func:H.uniform2i,length:2},"2iv":{func:H.uniform2iv,length:1},"3f":{func:H.uniform3f,length:3},"3fv":{func:H.uniform3fv,length:1},"3i":{func:H.uniform3i,length:3},"3iv":{func:H.uniform3iv,length:1},"4f":{func:H.uniform4f,length:4},"4fv":{func:H.uniform4fv,length:1},"4i":{func:H.uniform4i,length:4},"4iv":{func:H.uniform4iv,length:1}},(!R.maxTextures||R.maxTextures===-1)&&(R.maxTextures=H.getParameter(H.MAX_TEXTURE_IMAGE_UNITS)),R.maxTextureSize||(R.maxTextureSize=H.getParameter(H.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),H.disable(H.DEPTH_TEST),H.disable(H.CULL_FACE),H.enable(H.BLEND),H.clearColor(ee.redGL,ee.greenGL,ee.blueGL,ee.alphaGL);var V=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return V.indexOf(R.mipmapFilter)!==-1&&(this.mipmapFilter=H[R.mipmapFilter]),this.maxTextures=w.checkShaderMax(H,R.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new v(this),this.setBlendMode(h.BlendModes.NORMAL),this.projectionMatrix=new p().identity(),j.textures.once(b.READY,this.boot,this),this},boot:function(){var R=this.game,H=this.pipelines,j=R.scale.baseSize,Z=j.width,ee=j.height;this.width=Z,this.height=ee,this.isBooted=!0,this.renderTarget=new y(this,Z,ee,1,0,!0,!0),this.maskTarget=new y(this,Z,ee,1,0,!0,!0),this.maskSource=new y(this,Z,ee,1,0,!0,!0);var Y=R.config;H.boot(Y.pipeline,Y.defaultPipeline,Y.autoMobilePipeline),this.blankTexture=R.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=R.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=R.textures.getFrame("__WHITE").glTexture;var V=this.gl;V.bindFramebuffer(V.FRAMEBUFFER,null),V.enable(V.SCISSOR_TEST),R.scale.on(x.RESIZE,this.onResize,this),this.resize(Z,ee)},setExtensions:function(){var R=this.gl,H=R.getSupportedExtensions();this.supportedExtensions=H;var j="ANGLE_instanced_arrays";this.instancedArraysExtension=H.indexOf(j)>-1?R.getExtension(j):null;var Z="OES_vertex_array_object";this.vaoExtension=H.indexOf(Z)>-1?R.getExtension(Z):null},setContextHandlers:function(R,H){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof R=="function"?this.contextLostHandler=R.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof H=="function"?this.contextRestoredHandler=H.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(R){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(f.LOSE_WEBGL,this),R.preventDefault()},dispatchContextRestored:function(R){var H=this.gl;if(H.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(h.BlendModes.NORMAL),H.disable(H.BLEND),H.disable(H.DEPTH_TEST),H.enable(H.CULL_FACE),this.compression=this.getCompressedTextures();var j=function(Z){Z.createResource()};o(this.glTextureWrappers,j),o(this.glBufferWrappers,j),o(this.glFramebufferWrappers,j),o(this.glProgramWrappers,j),o(this.glAttribLocationWrappers,j),o(this.glUniformLocationWrappers,j),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(f.RESTORE_WEBGL,this),R.preventDefault()},createTemporaryTextures:function(){for(var R=this.gl,H=0;H<this.maxTextures;H++){var j=R.createTexture();R.activeTexture(R.TEXTURE0+H),R.bindTexture(R.TEXTURE_2D,j),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,1,1,0,R.RGBA,R.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(H)}},captureFrame:function(R,H){R===void 0&&(R=!1),H===void 0&&(H=!1),D&&this.spector&&!this._debugCapture&&(this.spector.captureCanvas(this.canvas,0,R,H),this._debugCapture=!0)},captureNextFrame:function(){D&&this.spector&&!this._debugCapture&&(this._debugCapture=!0,this.spector.captureNextFrame(this.canvas))},getFps:function(){if(D&&this.spector)return this.spector.getFps()},log:function(){if(D&&this.spector){var R=Array.prototype.slice.call(arguments).join(" ");return this.spector.log(R)}},startCapture:function(R,H,j){R===void 0&&(R=0),H===void 0&&(H=!1),j===void 0&&(j=!1),D&&this.spector&&!this._debugCapture&&(this.spector.startCapture(this.canvas,R,H,j),this._debugCapture=!0)},stopCapture:function(){if(D&&this.spector&&this._debugCapture)return this.spector.stopCapture()},onCapture:function(R){if(D){var H=this.spector.getResultUI();H.display(R),this._debugCapture=!1}},onResize:function(R,H){(H.width!==this.width||H.height!==this.height)&&this.resize(H.width,H.height)},beginCapture:function(R,H){R===void 0&&(R=this.width),H===void 0&&(H=this.height),this.renderTarget.bind(!0,R,H),this.setProjectionMatrix(R,H)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(R,H){var j=this.gl;return this.width=R,this.height=H,this.setProjectionMatrix(R,H),j.viewport(0,0,R,H),this.drawingBufferHeight=j.drawingBufferHeight,j.scissor(0,j.drawingBufferHeight-H,R,H),this.defaultScissor[2]=R,this.defaultScissor[3]=H,this.emit(f.RESIZE,R,H),this},getCompressedTextures:function(){var R="WEBGL_compressed_texture_",H="WEBKIT_"+R,j="EXT_texture_compression_",Z=function(Y,V){var O=Y.getExtension(R+V)||Y.getExtension(H+V)||Y.getExtension(j+V);if(O){var F={};for(var X in O)F[O[X]]=X;return F}},ee=this.gl;return{ETC:Z(ee,"etc"),ETC1:Z(ee,"etc1"),ATC:Z(ee,"atc"),ASTC:Z(ee,"astc"),BPTC:Z(ee,"bptc"),RGTC:Z(ee,"rgtc"),PVRTC:Z(ee,"pvrtc"),S3TC:Z(ee,"s3tc"),S3TCSRGB:Z(ee,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(R,H){var j=this.compression[R.toUpperCase()];if(H in j)return j[H]},supportsCompressedTexture:function(R,H){var j=this.compression[R.toUpperCase()];return j?H?H in j:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(R,H){return(R!==this.projectionWidth||H!==this.projectionHeight)&&(this.projectionWidth=R,this.projectionHeight=H,this.projectionMatrix.ortho(0,R,H,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(R){return this.supportedExtensions?this.supportedExtensions.indexOf(R):!1},getExtension:function(R){return this.hasExtension(R)?(R in this.extensions||(this.extensions[R]=this.gl.getExtension(R)),this.extensions[R]):null},flush:function(){this.pipelines.flush()},pushScissor:function(R,H,j,Z,ee){ee===void 0&&(ee=this.drawingBufferHeight);var Y=this.scissorStack,V=[R,H,j,Z];return Y.push(V),this.setScissor(R,H,j,Z,ee),this.currentScissor=V,V},setScissor:function(R,H,j,Z,ee){ee===void 0&&(ee=this.drawingBufferHeight);var Y=this.gl,V=this.currentScissor,O=j>0&&Z>0;if(V&&O){var F=V[0],X=V[1],ie=V[2],re=V[3];O=F!==R||X!==H||ie!==j||re!==Z}O&&(this.flush(),Y.scissor(R,ee-H-Z,j,Z))},resetScissor:function(){var R=this.gl;R.enable(R.SCISSOR_TEST);var H=this.currentScissor;if(H){var j=H[0],Z=H[1],ee=H[2],Y=H[3];ee>0&&Y>0&&R.scissor(j,this.drawingBufferHeight-Z-Y,ee,Y)}},popScissor:function(){var R=this.scissorStack;R.pop();var H=R[R.length-1];H&&this.setScissor(H[0],H[1],H[2],H[3]),this.currentScissor=H},hasActiveStencilMask:function(){var R=this.currentMask.mask,H=this.currentCameraMask.mask;return R&&R.isStencil||H&&H.isStencil},resetViewport:function(){var R=this.gl;R.viewport(0,0,this.width,this.height),this.drawingBufferHeight=R.drawingBufferHeight},setBlendMode:function(R,H){H===void 0&&(H=!1);var j=this.gl,Z=this.blendModes[R];return H||R!==h.BlendModes.SKIP_CHECK&&this.currentBlendMode!==R?(this.flush(),j.enable(j.BLEND),j.blendEquation(Z.equation),Z.func.length>2?j.blendFuncSeparate(Z.func[0],Z.func[1],Z.func[2],Z.func[3]):j.blendFunc(Z.func[0],Z.func[1]),this.currentBlendMode=R,!0):!1},addBlendMode:function(R,H){var j=this.blendModes.push({func:R,equation:H});return j-1},updateBlendMode:function(R,H,j){return this.blendModes[R]&&(this.blendModes[R].func=H,j&&(this.blendModes[R].equation=j)),this},removeBlendMode:function(R){return R>17&&this.blendModes[R]&&this.blendModes.splice(R,1),this},pushFramebuffer:function(R,H,j,Z,ee){return R===this.currentFramebuffer?this:(this.fboStack.push(R),this.setFramebuffer(R,H,j,Z,ee))},setFramebuffer:function(R,H,j,Z,ee){if(H===void 0&&(H=!1),j===void 0&&(j=!0),Z===void 0&&(Z=null),ee===void 0&&(ee=!1),R===this.currentFramebuffer)return this;var Y=this.gl,V=this.width,O=this.height;return R&&R.renderTexture&&j?(V=R.renderTexture.width,O=R.renderTexture.height):this.flush(),R?Y.bindFramebuffer(Y.FRAMEBUFFER,R.webGLFramebuffer):Y.bindFramebuffer(Y.FRAMEBUFFER,null),j&&Y.viewport(0,0,V,O),Z&&Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,Z.webGLTexture,0),ee&&(Y.clearColor(0,0,0,0),Y.clear(Y.COLOR_BUFFER_BIT)),H&&(R?(this.drawingBufferHeight=O,this.pushScissor(0,0,V,O)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=R,this},popFramebuffer:function(R,H){R===void 0&&(R=!1),H===void 0&&(H=!0);var j=this.fboStack;j.pop();var Z=j[j.length-1];return Z||(Z=null),this.setFramebuffer(Z,R,H),Z},restoreFramebuffer:function(R,H){R===void 0&&(R=!1),H===void 0&&(H=!0);var j=this.fboStack,Z=j[j.length-1];Z||(Z=null),this.currentFramebuffer=null,this.setFramebuffer(Z,R,H)},setProgram:function(R){return R!==this.currentProgram?(this.flush(),this.gl.useProgram(R.webGLProgram),this.currentProgram=R,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(R,H,j,Z,ee){ee===void 0&&(ee=!1);var Y=this.gl,V=Y.NEAREST,O=Y.NEAREST,F=Y.CLAMP_TO_EDGE,X=null;H=R?R.width:H,j=R?R.height:j;var ie=m(H,j);if(ie&&!ee&&(F=Y.REPEAT),Z===h.ScaleModes.LINEAR&&this.config.antialias){var re=R&&R.compressed,q=!re&&ie||re&&R.mipmaps.length>1;V=this.mipmapFilter&&q?this.mipmapFilter:Y.LINEAR,O=Y.LINEAR}return!R&&typeof H=="number"&&typeof j=="number"?X=this.createTexture2D(0,V,O,F,F,Y.RGBA,null,H,j):X=this.createTexture2D(0,V,O,F,F,Y.RGBA,R),X},createTexture2D:function(R,H,j,Z,ee,Y,V,O,F,X,ie,re){typeof O!="number"&&(O=V?V.width:1),typeof F!="number"&&(F=V?V.height:1);var q=new T(this.gl,R,H,j,Z,ee,Y,V,O,F,X,ie,re);return this.glTextureWrappers.push(q),q},createFramebuffer:function(R,H,j,Z){this.currentFramebuffer=null;var ee=new A(this.gl,R,H,j,Z);return this.glFramebufferWrappers.push(ee),ee},beginBitmapMask:function(R,H){var j=this.gl;j&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==R&&(this.currentMask.mask=R,this.currentMask.camera=H))},drawBitmapMask:function(R,H,j){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),R.renderWebGL(this,R,H),this.maskSource.unbind(!0),this.maskTarget.unbind();var Z=this.gl,ee=this.getCurrentStencilMask();ee?(Z.enable(Z.STENCIL_TEST),ee.mask.applyStencil(this,ee.camera,!0)):this.currentMask.mask=null,this.pipelines.set(j),Z.activeTexture(Z.TEXTURE0),Z.bindTexture(Z.TEXTURE_2D,this.maskTarget.texture.webGLTexture),Z.activeTexture(Z.TEXTURE1),Z.bindTexture(Z.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(R,H){var j=new S(this.gl,R,H);return this.glProgramWrappers.push(j),j},createVertexBuffer:function(R,H){var j=this.gl,Z=new _(j,R,j.ARRAY_BUFFER,H);return this.glBufferWrappers.push(Z),Z},createAttribLocation:function(R,H){var j=new M(this.gl,R,H);return this.glAttribLocationWrappers.push(j),j},createUniformLocation:function(R,H){var j=new I(this.gl,R,H);return this.glUniformLocationWrappers.push(j),j},createIndexBuffer:function(R,H){var j=this.gl,Z=new _(j,R,j.ELEMENT_ARRAY_BUFFER,H);return this.glBufferWrappers.push(Z),Z},deleteTexture:function(R){if(R)return u(this.glTextureWrappers,R),R.destroy(),this},deleteFramebuffer:function(R){return R?(u(this.fboStack,R),u(this.glFramebufferWrappers,R),R.destroy(),this):this},deleteProgram:function(R){return R&&(u(this.glProgramWrappers,R),R.destroy()),this},deleteAttribLocation:function(R){return R&&(u(this.glAttribLocationWrappers,R),R.destroy()),this},deleteUniformLocation:function(R){return R&&(u(this.glUniformLocationWrappers,R),R.destroy()),this},deleteBuffer:function(R){return R?(u(this.glBufferWrappers,R),R.destroy(),this):this},preRenderCamera:function(R){var H=R.x,j=R.y,Z=R.width,ee=R.height,Y=R.backgroundColor;if(R.emit(l.PRE_RENDER,R),this.pipelines.preBatchCamera(R),this.pushScissor(H,j,Z,ee),R.mask&&(this.currentCameraMask.mask=R.mask,this.currentCameraMask.camera=R._maskCamera,R.mask.preRenderWebGL(this,R,R._maskCamera)),Y.alphaGL>0){var V=this.pipelines.setMulti();V.drawFillRect(H,j,Z,ee,w.getTintFromFloats(Y.blueGL,Y.greenGL,Y.redGL,1),Y.alphaGL)}},getCurrentStencilMask:function(){var R=null,H=this.maskStack,j=this.currentCameraMask;return H.length>0?R=H[H.length-1]:j.mask&&j.mask.isStencil&&(R=j),R},postRenderCamera:function(R){var H=R.flashEffect,j=R.fadeEffect;if(H.isRunning||j.isRunning||j.isComplete){var Z=this.pipelines.setMulti();H.postRenderWebGL(Z,w.getTintFromFloats),j.postRenderWebGL(Z,w.getTintFromFloats)}R.dirty=!1,this.popScissor(),R.mask&&(this.currentCameraMask.mask=null,R.mask.postRenderWebGL(this,R._maskCamera)),this.pipelines.postBatchCamera(R),R.emit(l.POST_RENDER,R)},preRender:function(){if(!this.contextLost){var R=this.gl;if(R.bindFramebuffer(R.FRAMEBUFFER,null),this.emit(f.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var H=this.config.backgroundColor;R.clearColor(H.redGL,H.greenGL,H.blueGL,H.alphaGL),R.clear(R.COLOR_BUFFER_BIT|R.DEPTH_BUFFER_BIT|R.STENCIL_BUFFER_BIT)}R.enable(R.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&R.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(f.PRE_RENDER)}},render:function(R,H,j){if(!this.contextLost){var Z=H.length;if(this.emit(f.RENDER,R,j),this.preRenderCamera(j),Z===0){this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(j);return}this.currentType="";for(var ee=this.currentMask,Y=0;Y<Z;Y++){this.finalType=Y===Z-1;var V=H[Y],O=V.mask;ee=this.currentMask,ee.mask&&ee.mask!==O&&ee.mask.postRenderWebGL(this,ee.camera),O&&ee.mask!==O&&O.preRenderWebGL(this,V,j),V.blendMode!==this.currentBlendMode&&this.setBlendMode(V.blendMode);var F=V.type;F!==this.currentType&&(this.newType=!0,this.currentType=F),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=H[Y+1].type===this.currentType,V.renderWebGL(this,V,j),this.newType=!1}ee=this.currentMask,ee.mask&&ee.mask.postRenderWebGL(this,ee.camera),this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(j)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(f.POST_RENDER);var R=this.snapshotState;R.callback&&(C(this.gl,R),R.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var R=this.gl,H=this.getCurrentStencilMask();if(H){var j=H.mask;R.enable(R.STENCIL_TEST),j.invertAlpha?R.stencilFunc(R.NOTEQUAL,j.level,255):R.stencilFunc(R.EQUAL,j.level,255)}},snapshot:function(R,H,j){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,R,H,j)},snapshotArea:function(R,H,j,Z,ee,Y,V){var O=this.snapshotState;return O.callback=ee,O.type=Y,O.encoder=V,O.getPixel=!1,O.x=R,O.y=H,O.width=j,O.height=Z,this},snapshotPixel:function(R,H,j){return this.snapshotArea(R,H,1,1,j),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(R,H,j,Z,ee,Y,V,O,F,X,ie){ee===void 0&&(ee=!1),Y===void 0&&(Y=0),V===void 0&&(V=0),O===void 0&&(O=H),F===void 0&&(F=j),X==="pixel"&&(ee=!0,X="image/png");var re=this.currentFramebuffer;this.snapshotArea(Y,V,O,F,Z,X,ie);var q=this.snapshotState;return q.getPixel=ee,q.isFramebuffer=!0,q.bufferWidth=H,q.bufferHeight=j,q.width=Math.min(q.width,H),q.height=Math.min(q.height,j),this.setFramebuffer(R),C(this.gl,q),this.setFramebuffer(re),q.callback=null,q.isFramebuffer=!1,this},canvasToTexture:function(R,H,j,Z){j===void 0&&(j=!1),Z===void 0&&(Z=!1);var ee=this.gl,Y=ee.NEAREST,V=ee.NEAREST,O=R.width,F=R.height,X=ee.CLAMP_TO_EDGE,ie=m(O,F);return!j&&ie&&(X=ee.REPEAT),this.config.antialias&&(Y=ie&&this.mipmapFilter?this.mipmapFilter:ee.LINEAR,V=ee.LINEAR),H?(H.update(R,O,F,Z,X,X,Y,V,H.format),H):this.createTexture2D(0,Y,V,X,X,ee.RGBA,R,O,F,!0,!1,Z)},createCanvasTexture:function(R,H,j){return H===void 0&&(H=!1),j===void 0&&(j=!1),this.canvasToTexture(R,null,H,j)},updateCanvasTexture:function(R,H,j,Z){return j===void 0&&(j=!1),Z===void 0&&(Z=!1),this.canvasToTexture(R,H,Z,j)},videoToTexture:function(R,H,j,Z){j===void 0&&(j=!1),Z===void 0&&(Z=!1);var ee=this.gl,Y=ee.NEAREST,V=ee.NEAREST,O=R.videoWidth,F=R.videoHeight,X=ee.CLAMP_TO_EDGE,ie=m(O,F);return!j&&ie&&(X=ee.REPEAT),this.config.antialias&&(Y=ie&&this.mipmapFilter?this.mipmapFilter:ee.LINEAR,V=ee.LINEAR),H?(H.update(R,O,F,Z,X,X,Y,V,H.format),H):this.createTexture2D(0,Y,V,X,X,ee.RGBA,R,O,F,!0,!0,Z)},createVideoTexture:function(R,H,j){return H===void 0&&(H=!1),j===void 0&&(j=!1),this.videoToTexture(R,null,H,j)},updateVideoTexture:function(R,H,j,Z){return j===void 0&&(j=!1),Z===void 0&&(Z=!1),this.videoToTexture(R,H,Z,j)},createUint8ArrayTexture:function(R,H,j){var Z=this.gl,ee=Z.NEAREST,Y=Z.NEAREST,V=Z.CLAMP_TO_EDGE,O=m(H,j);return O&&(V=Z.REPEAT),this.createTexture2D(0,ee,Y,V,V,Z.RGBA,R,H,j)},setTextureFilter:function(R,H){var j=this.gl,Z=H===0?j.LINEAR:j.NEAREST;j.activeTexture(j.TEXTURE0);var ee=j.getParameter(j.TEXTURE_BINDING_2D);return j.bindTexture(j.TEXTURE_2D,R.webGLTexture),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,Z),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,Z),R.minFilter=Z,R.magFilter=Z,ee&&j.bindTexture(j.TEXTURE_2D,ee),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var R=function(H){H.destroy()};o(this.glAttribLocationWrappers,R),o(this.glBufferWrappers,R),o(this.glFramebufferWrappers,R),o(this.glProgramWrappers,R),o(this.glTextureWrappers,R),o(this.glUniformLocationWrappers,R),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null,D&&(this.spector=null)}});n.exports=G},38683:(n,a,s)=>{var o=s(83419),u=s(95428),l=s(95540),c=s(14500),h=new o({initialize:function(f,m,p,g,v){this.pipeline=f,this.name=m,this.renderer=f.renderer,this.gl=this.renderer.gl,this.fragSrc=g,this.vertSrc=p,this.program=this.renderer.createProgram(p,g),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(v),this.createUniforms()},createAttributes:function(d){var f=0,m=0,p=[];this.vertexComponentCount=0;for(var g=0;g<d.length;g++){var v=d[g],y=v.name,x=l(v,"size",1),b=l(v,"type",c.FLOAT),w=b.enum,C=b.size,_=!!v.normalized;p.push({name:y,size:x,type:w,normalized:_,offset:m,enabled:!1,location:-1}),C===4?f+=x:f++,m+=x*C}this.vertexSize=m,this.vertexComponentCount=f,this.attributes=p},bind:function(d,f){return d===void 0&&(d=!1),f===void 0&&(f=!1),f&&this.pipeline.flush(),this.renderer.setProgram(this.program),d&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(d){d===void 0&&(d=!1);for(var f=this.gl,m=this.renderer,p=this.vertexSize,g=this.attributes,v=this.program,y=0;y<g.length;y++){var x=g[y],b=x.size,w=x.type,C=x.offset,_=x.enabled,S=x.location,T=!!x.normalized;if(d){S!==-1&&m.deleteAttribLocation(S);var A=this.renderer.createAttribLocation(v,x.name);A.webGLAttribLocation>=0?(f.enableVertexAttribArray(A.webGLAttribLocation),f.vertexAttribPointer(A.webGLAttribLocation,b,w,T,p,C),x.enabled=!0,x.location=A):A.webGLAttribLocation!==-1&&f.disableVertexAttribArray(A.webGLAttribLocation)}else _?f.vertexAttribPointer(S.webGLAttribLocation,b,w,T,p,C):!_&&S!==-1&&S.webGLAttribLocation>-1&&(f.disableVertexAttribArray(S.webGLAttribLocation),x.location=-1)}return this},createUniforms:function(){var d=this.gl,f=this.program,m=this.uniforms,p,g,v,y=d.getProgramParameter(f.webGLProgram,d.ACTIVE_UNIFORMS);for(p=0;p<y;p++){var x=d.getActiveUniform(f.webGLProgram,p);if(x){g=x.name,v=this.renderer.createUniformLocation(f,g),v!==null&&(m[g]={name:g,location:v,setter:null,value1:null,value2:null,value3:null,value4:null});var b=g.indexOf("[");b>0&&(g=g.substr(0,b),m.hasOwnProperty(g)||(v=this.renderer.createUniformLocation(f,g),v!==null&&(m[g]={name:g,location:v,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var d=this.gl;this.renderer.setProgram(this.program);for(var f in this.uniforms){var m=this.uniforms[f];m.setter&&m.setter.call(d,m.location.webGLUniformLocation,m.value1,m.value2,m.value3,m.value4)}},hasUniform:function(d){return this.uniforms.hasOwnProperty(d)},resetUniform:function(d){var f=this.uniforms[d];return f&&(f.value1=null,f.value2=null,f.value3=null,f.value4=null),this},setUniform1:function(d,f,m,p){var g=this.uniforms[f];return g?((p||g.value1!==m)&&(g.setter||(g.setter=d),g.value1=m,this.renderer.setProgram(this.program),d.call(this.gl,g.location.webGLUniformLocation,m),this.pipeline.currentShader=this),this):this},setUniform2:function(d,f,m,p,g){var v=this.uniforms[f];return v?((g||v.value1!==m||v.value2!==p)&&(v.setter||(v.setter=d),v.value1=m,v.value2=p,this.renderer.setProgram(this.program),d.call(this.gl,v.location.webGLUniformLocation,m,p),this.pipeline.currentShader=this),this):this},setUniform3:function(d,f,m,p,g,v){var y=this.uniforms[f];return y?((v||y.value1!==m||y.value2!==p||y.value3!==g)&&(y.setter||(y.setter=d),y.value1=m,y.value2=p,y.value3=g,this.renderer.setProgram(this.program),d.call(this.gl,y.location.webGLUniformLocation,m,p,g),this.pipeline.currentShader=this),this):this},setUniform4:function(d,f,m,p,g,v,y){var x=this.uniforms[f];return x?((y||x.value1!==m||x.value2!==p||x.value3!==g||x.value4!==v)&&(x.setter||(x.setter=d),x.value1=m,x.value2=p,x.value3=g,x.value4=v,this.renderer.setProgram(this.program),d.call(this.gl,x.location.webGLUniformLocation,m,p,g,v),this.pipeline.currentShader=this),this):this},setBoolean:function(d,f){return this.setUniform1(this.gl.uniform1i,d,Number(f))},set1f:function(d,f){return this.setUniform1(this.gl.uniform1f,d,f)},set2f:function(d,f,m){return this.setUniform2(this.gl.uniform2f,d,f,m)},set3f:function(d,f,m,p){return this.setUniform3(this.gl.uniform3f,d,f,m,p)},set4f:function(d,f,m,p,g){return this.setUniform4(this.gl.uniform4f,d,f,m,p,g)},set1fv:function(d,f){return this.setUniform1(this.gl.uniform1fv,d,f,!0)},set2fv:function(d,f){return this.setUniform1(this.gl.uniform2fv,d,f,!0)},set3fv:function(d,f){return this.setUniform1(this.gl.uniform3fv,d,f,!0)},set4fv:function(d,f){return this.setUniform1(this.gl.uniform4fv,d,f,!0)},set1iv:function(d,f){return this.setUniform1(this.gl.uniform1iv,d,f,!0)},set2iv:function(d,f){return this.setUniform1(this.gl.uniform2iv,d,f,!0)},set3iv:function(d,f){return this.setUniform1(this.gl.uniform3iv,d,f,!0)},set4iv:function(d,f){return this.setUniform1(this.gl.uniform4iv,d,f,!0)},set1i:function(d,f){return this.setUniform1(this.gl.uniform1i,d,f)},set2i:function(d,f,m){return this.setUniform2(this.gl.uniform2i,d,f,m)},set3i:function(d,f,m,p){return this.setUniform3(this.gl.uniform3i,d,f,m,p)},set4i:function(d,f,m,p,g){return this.setUniform4(this.gl.uniform4i,d,f,m,p,g)},setMatrix2fv:function(d,f,m){return this.setUniform2(this.gl.uniformMatrix2fv,d,f,m,!0)},setMatrix3fv:function(d,f,m){return this.setUniform2(this.gl.uniformMatrix3fv,d,f,m,!0)},setMatrix4fv:function(d,f,m){return this.setUniform2(this.gl.uniformMatrix4fv,d,f,m,!0)},createProgram:function(d,f){return d===void 0&&(d=this.vertSrc),f===void 0&&(f=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=d,this.fragSrc=f,this.program=this.renderer.createProgram(d,f),this.createUniforms(),this.rebind()},destroy:function(){var d=this.renderer;u(this.uniforms,function(f){d.deleteUniformLocation(f.location)}),this.uniforms=null,u(this.attributes,function(f){d.deleteAttribLocation(f.location)}),this.attributes=null,d.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});n.exports=h},14500:n=>{var a={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};n.exports=a},4159:(n,a,s)=>{var o=s(14500),u=s(79291),l={PipelineManager:s(7530),Pipelines:s(96615),RenderTarget:s(32302),Utils:s(70554),WebGLPipeline:s(29100),WebGLRenderer:s(74797),WebGLShader:s(38683),Wrappers:s(9503)};l=u(!1,l,o),n.exports=l},31302:(n,a,s)=>{var o=s(83419),u=s(95540),l=s(78908),c=s(85191),h=s(14500),d=s(29100),f=new o({Extends:d,initialize:function(p){p.fragShader=u(p,"fragShader",l),p.vertShader=u(p,"vertShader",c),p.batchSize=u(p,"batchSize",1),p.vertices=u(p,"vertices",[-1,1,-1,-7,7,1]),p.attributes=u(p,"attributes",[{name:"inPosition",size:2,type:h.FLOAT}]),d.call(this,p)},boot:function(){d.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(m,p){d.prototype.resize.call(this,m,p),this.set2f("uResolution",m,p)},beginMask:function(m,p,g){this.renderer.beginBitmapMask(m,g)},endMask:function(m,p,g){var v=this.gl,y=this.renderer,x=m.bitmapMask;x&&v&&(y.drawBitmapMask(x,p,this),g&&this.set2f("uResolution",g.width,g.height),this.set1i("uInvertMaskAlpha",m.invertAlpha),v.drawArrays(this.topology,0,3),g&&this.set2f("uResolution",this.width,this.height),v.bindTexture(v.TEXTURE_2D,null))}});n.exports=f},92651:(n,a,s)=>{var o=s(83419),u=s(58918),l=s(14811),c=s(95540),h=s(43558),d=s(89350),f=s(70554),m=new o({Extends:h,initialize:function(g){g.shaders=[f.setGlowQuality(d.FXGlowFrag,g.game),d.FXShadowFrag,d.FXPixelateFrag,d.FXVignetteFrag,d.FXShineFrag,d.FXBlurLowFrag,d.FXBlurMedFrag,d.FXBlurHighFrag,d.FXGradientFrag,d.FXBloomFrag,d.ColorMatrixFrag,d.FXCircleFrag,d.FXBarrelFrag,d.FXDisplacementFrag,d.FXWipeFrag,d.FXBokehFrag],h.call(this,g);var v=this.game;this.glow=new u.Glow(v),this.shadow=new u.Shadow(v),this.pixelate=new u.Pixelate(v),this.vignette=new u.Vignette(v),this.shine=new u.Shine(v),this.gradient=new u.Gradient(v),this.circle=new u.Circle(v),this.barrel=new u.Barrel(v),this.wipe=new u.Wipe(v),this.bokeh=new u.Bokeh(v);var y=[];y[l.GLOW]=this.onGlow,y[l.SHADOW]=this.onShadow,y[l.PIXELATE]=this.onPixelate,y[l.VIGNETTE]=this.onVignette,y[l.SHINE]=this.onShine,y[l.BLUR]=this.onBlur,y[l.GRADIENT]=this.onGradient,y[l.BLOOM]=this.onBloom,y[l.COLOR_MATRIX]=this.onColorMatrix,y[l.CIRCLE]=this.onCircle,y[l.BARREL]=this.onBarrel,y[l.DISPLACEMENT]=this.onDisplacement,y[l.WIPE]=this.onWipe,y[l.BOKEH]=this.onBokeh,this.fxHandlers=y,this.source,this.target,this.swap},onDraw:function(p,g,v){this.source=p,this.target=g,this.swap=v;var y=p.width,x=p.height,b=this.tempSprite,w=this.fxHandlers;if(b&&b.preFX)for(var C=b.preFX.list,_=0;_<C.length;_++){var S=C[_];S.active&&w[S.type].call(this,S,y,x)}this.drawToGame(this.source)},runDraw:function(){var p=this.source,g=this.target;this.copy(p,g),this.source=g,this.target=p},onGlow:function(p,g,v){var y=this.shaders[l.GLOW];this.setShader(y),this.glow.onPreRender(p,y,g,v),this.runDraw()},onShadow:function(p){var g=this.shaders[l.SHADOW];this.setShader(g),this.shadow.onPreRender(p,g),this.runDraw()},onPixelate:function(p,g,v){var y=this.shaders[l.PIXELATE];this.setShader(y),this.pixelate.onPreRender(p,y,g,v),this.runDraw()},onVignette:function(p){var g=this.shaders[l.VIGNETTE];this.setShader(g),this.vignette.onPreRender(p,g),this.runDraw()},onShine:function(p,g,v){var y=this.shaders[l.SHINE];this.setShader(y),this.shine.onPreRender(p,y,g,v),this.runDraw()},onBlur:function(p,g,v){var y=c(p,"quality"),x=this.shaders[l.BLUR+y];this.setShader(x),this.set1i("uMainSampler",0),this.set2f("resolution",g,v),this.set1f("strength",c(p,"strength")),this.set3fv("color",c(p,"glcolor"));for(var b=c(p,"x"),w=c(p,"y"),C=c(p,"steps"),_=0;_<C;_++)this.set2f("offset",b,0),this.runDraw(),this.set2f("offset",0,w),this.runDraw()},onGradient:function(p){var g=this.shaders[l.GRADIENT];this.setShader(g),this.gradient.onPreRender(p,g),this.runDraw()},onBloom:function(p,g,v){var y=this.shaders[l.BLOOM];this.copySprite(this.source,this.swap),this.setShader(y),this.set1i("uMainSampler",0),this.set1f("strength",c(p,"blurStrength")),this.set3fv("color",c(p,"glcolor"));for(var x=2/g*c(p,"offsetX"),b=2/v*c(p,"offsetY"),w=c(p,"steps"),C=0;C<w;C++)this.set2f("offset",x,0),this.runDraw(),this.set2f("offset",0,b),this.runDraw();this.blendFrames(this.swap,this.source,this.target,c(p,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(p){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",p.getData()),this.set1f("uAlpha",p.alpha),this.runDraw()},onCircle:function(p,g,v){var y=this.shaders[l.CIRCLE];this.setShader(y),this.circle.onPreRender(p,y,g,v),this.runDraw()},onBarrel:function(p){var g=this.shaders[l.BARREL];this.setShader(g),this.barrel.onPreRender(p,g),this.runDraw()},onDisplacement:function(p){this.setShader(this.shaders[l.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",p.x,p.y),this.bindTexture(p.glTexture,1),this.runDraw()},onWipe:function(p){var g=this.shaders[l.WIPE];this.setShader(g),this.wipe.onPreRender(p,g),this.runDraw()},onBokeh:function(p,g,v){var y=this.shaders[l.BOKEH];this.setShader(y),this.bokeh.onPreRender(p,y,g,v),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,h.prototype.destroy.call(this),this}});n.exports=m},96569:(n,a,s)=>{var o=s(83419),u=s(95540),l=s(31063),c=s(57516),h=s(61340),d=s(26099),f=s(29100),m=new o({Extends:c,initialize:function(g){var v=u(g,"fragShader",l);g.fragShader=v.replace("%LIGHT_COUNT%",g.game.renderer.config.maxLights),c.call(this,g),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new d,this._tempMatrix=new h,this._tempMatrix2=new h},boot:function(){f.prototype.boot.call(this)},onRender:function(p,g){var v=p.sys.lights;if(this.lightsActive=!1,!(!v||!v.active)){var y=v.getLights(g),x=y.length;this.lightsActive=!0;var b,w=this.renderer,C=w.height,_=g.matrix,S=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",g.x,g.y,g.rotation,g.zoom),this.set3f("uAmbientLightColor",v.ambientColor.r,v.ambientColor.g,v.ambientColor.b),this.set1i("uLightCount",x),b=0;b<x;b++){var T=y[b].light,A=T.color,M="uLights["+b+"].";_.transformPoint(T.x,T.y,S),this.set2f(M+"position",S.x-g.scrollX*T.scrollFactorX*g.zoom,C-(S.y-g.scrollY*T.scrollFactorY*g.zoom)),this.set3f(M+"color",A.r,A.g,A.b),this.set1f(M+"intensity",T.intensity),this.set1f(M+"radius",T.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(p){if(p!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var g=this.inverseRotationMatrix;if(p){var v=-p,y=Math.cos(v),x=Math.sin(v);g[1]=x,g[3]=-x,g[0]=g[4]=y}else g[0]=g[4]=1,g[1]=g[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,g),this.currentNormalMapRotation=p}},setTexture2D:function(p,g){var v=this.renderer;p===void 0&&(p=v.whiteTexture);var y=this.getNormalMap(g);this.isNewNormalMap(p,y)&&(this.flush(),this.createBatch(p),this.addTextureToBatch(y),this.currentNormalMap=y);var x=0;if(g&&g.parentContainer){var b=g.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);x=b.rotationNormalized}else g&&(x=g.rotation);return this.currentBatch===null&&(this.createBatch(p),this.addTextureToBatch(y)),this.setNormalMapRotation(x),0},setGameObject:function(p,g){g===void 0&&(g=p.frame);var v=g.glTexture,y=this.getNormalMap(p);if(this.isNewNormalMap(v,y)&&(this.flush(),this.createBatch(v),this.addTextureToBatch(y),this.currentNormalMap=y),p.parentContainer){var x=p.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(x.rotationNormalized)}else this.setNormalMapRotation(p.rotation);return this.currentBatch===null&&(this.createBatch(v),this.addTextureToBatch(y)),0},isNewNormalMap:function(p,g){return this.currentTexture!==p||this.currentNormalMap!==g},getNormalMap:function(p){var g;if(p)p.displayTexture?g=p.displayTexture.dataSource[p.displayFrame.sourceIndex]:p.texture?g=p.texture.dataSource[p.frame.sourceIndex]:p.tileset&&(Array.isArray(p.tileset)?g=p.tileset[0].image.dataSource[0]:g=p.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return g?g.glTexture:this.renderer.normalTexture},batchSprite:function(p,g,v){this.lightsActive&&c.prototype.batchSprite.call(this,p,g,v)},batchTexture:function(p,g,v,y,x,b,w,C,_,S,T,A,M,I,D,k,G,R,H,j,Z,ee,Y,V,O,F,X,ie,re,q,ae,ue){this.lightsActive&&c.prototype.batchTexture.call(this,p,g,v,y,x,b,w,C,_,S,T,A,M,I,D,k,G,R,H,j,Z,ee,Y,V,O,F,X,ie,re,q,ae,ue)},batchTextureFrame:function(p,g,v,y,x,b,w){this.lightsActive&&c.prototype.batchTextureFrame.call(this,p,g,v,y,x,b,w)}});n.exports=m},56527:(n,a,s)=>{var o=s(83419),u=s(95540),l=s(57516),c=s(45561),h=s(60722),d=s(14500),f=s(29100),m=new o({Extends:l,initialize:function(g){g.fragShader=u(g,"fragShader",c),g.vertShader=u(g,"vertShader",h),g.attributes=u(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:d.UNSIGNED_BYTE,normalized:!0}]),g.forceZero=!0,g.resizeUniform="uResolution",l.call(this,g)},boot:function(){f.prototype.boot.call(this);var p=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",p.width,p.height)}});n.exports=m},57516:(n,a,s)=>{var o=s(83419),u=s(94811),l=s(95540),c=s(98840),h=s(44667),d=s(61340),f=s(70554),m=s(14500),p=s(29100),g=new o({Extends:p,initialize:function(y){var x=y.game.renderer,b=l(y,"fragShader",c);y.fragShader=f.parseFragmentShaderMaxTextures(b,x.maxTextures),y.vertShader=l(y,"vertShader",h),y.attributes=l(y,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:m.UNSIGNED_BYTE,normalized:!0}]),y.resizeUniform="uResolution",p.call(this,y),this._tempMatrix1=new d,this._tempMatrix2=new d,this._tempMatrix3=new d,this.calcMatrix=new d,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){p.prototype.boot.call(this);var v=this.renderer;this.set1iv("uMainSampler",v.textureIndexes),this.set2f("uResolution",v.width,v.height)},batchSprite:function(v,y,x){this.manager.set(this,v);var b=this._tempMatrix1,w=this._tempMatrix2,C=this._tempMatrix3,_=v.frame,S=_.glTexture,T=_.u0,A=_.v0,M=_.u1,I=_.v1,D=_.x,k=_.y,G=_.cutWidth,R=_.cutHeight,H=_.customPivot,j=v.displayOriginX,Z=v.displayOriginY,ee=-j+D,Y=-Z+k;if(v.isCropped){var V=v._crop;(V.flipX!==v.flipX||V.flipY!==v.flipY)&&_.updateCropUVs(V,v.flipX,v.flipY),T=V.u0,A=V.v0,M=V.u1,I=V.v1,G=V.width,R=V.height,D=V.x,k=V.y,ee=-j+D,Y=-Z+k}var O=1,F=1;v.flipX&&(H||(ee+=-_.realWidth+j*2),O=-1),v.flipY&&(H||(Y+=-_.realHeight+Z*2),F=-1);var X=v.x,ie=v.y;y.roundPixels&&(X=Math.floor(X),ie=Math.floor(ie)),w.applyITRS(X,ie,v.rotation,v.scaleX*O,v.scaleY*F),b.copyFrom(y.matrix),x?(b.multiplyWithOffset(x,-y.scrollX*v.scrollFactorX,-y.scrollY*v.scrollFactorY),w.e=X,w.f=ie):(w.e-=y.scrollX*v.scrollFactorX,w.f-=y.scrollY*v.scrollFactorY),b.multiply(w,C);var re=C.setQuad(ee,Y,ee+G,Y+R,y.renderRoundPixels),q=f.getTintAppendFloatAlpha,ae=y.alpha,ue=q(v.tintTopLeft,ae*v._alphaTL),me=q(v.tintTopRight,ae*v._alphaTR),be=q(v.tintBottomLeft,ae*v._alphaBL),ke=q(v.tintBottomRight,ae*v._alphaBR);this.shouldFlush(6)&&this.flush();var ze=this.setGameObject(v,_);this.manager.preBatch(v),this.batchQuad(v,re[0],re[1],re[2],re[3],re[4],re[5],re[6],re[7],T,A,M,I,ue,me,be,ke,v.tintFill,S,ze),this.manager.postBatch(v)},batchTexture:function(v,y,x,b,w,C,_,S,T,A,M,I,D,k,G,R,H,j,Z,ee,Y,V,O,F,X,ie,re,q,ae,ue,me,be,ke){ke===void 0&&(ke=!1),this.manager.set(this,v);var ze=this._tempMatrix1,De=this._tempMatrix2,ge=this._tempMatrix3,Et=j/x+re,ct=Z/b+q,We=(j+ee)/x+re,Ue=(Z+Y)/b+q,qe=_,it=S,Ft=-R,at=-H;if(v.isCropped){var bt=v._crop,ai=bt.width,ei=bt.height;qe=ai,it=ei,_=ai,S=ei,j=bt.x,Z=bt.y;var li=j,fi=Z;I&&(li=ee-bt.x-ai),D&&(fi=Y-bt.y-ei),Et=li/x+re,ct=fi/b+q,We=(li+ai)/x+re,Ue=(fi+ei)/b+q,Ft=-R+j,at=-H+Z}D=D^(!me&&y.isRenderTexture?1:0),I&&(qe*=-1,Ft+=_),D&&(it*=-1,at+=S),ae.roundPixels&&(w=Math.floor(w),C=Math.floor(C)),De.applyITRS(w,C,M,T,A),ze.copyFrom(ae.matrix),ue?(ze.multiplyWithOffset(ue,-ae.scrollX*k,-ae.scrollY*G),De.e=w,De.f=C):(De.e-=ae.scrollX*k,De.f-=ae.scrollY*G),ze.multiply(De,ge);var vi=ge.setQuad(Ft,at,Ft+qe,at+it,ae.renderRoundPixels);be==null&&(be=this.setTexture2D(y)),v&&!ke&&this.manager.preBatch(v),this.batchQuad(v,vi[0],vi[1],vi[2],vi[3],vi[4],vi[5],vi[6],vi[7],Et,ct,We,Ue,V,O,F,X,ie,y,be),v&&!ke&&this.manager.postBatch(v)},batchTextureFrame:function(v,y,x,b,w,C,_){this.manager.set(this);var S=this._tempMatrix1.copyFrom(C),T=this._tempMatrix2;_?S.multiply(_,T):T=S;var A=T.setQuad(y,x,y+v.width,x+v.height),M=this.setTexture2D(v.source.glTexture);b=f.getTintAppendFloatAlpha(b,w),this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],v.u0,v.v0,v.u1,v.v1,b,b,b,b,0,v.glTexture,M)},batchFillRect:function(v,y,x,b,w,C){this.renderer.pipelines.set(this);var _=this.calcMatrix;C&&C.multiply(w,_);var S=_.setQuad(v,y,v+x,y+b),T=this.fillTint;this.batchQuad(null,S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7],0,0,1,1,T.TL,T.TR,T.BL,T.BR,2)},batchFillTriangle:function(v,y,x,b,w,C,_,S){this.renderer.pipelines.set(this);var T=this.calcMatrix;S&&S.multiply(_,T);var A=T.getX(v,y),M=T.getY(v,y),I=T.getX(x,b),D=T.getY(x,b),k=T.getX(w,C),G=T.getY(w,C),R=this.fillTint;this.batchTri(null,A,M,I,D,k,G,0,0,1,1,R.TL,R.TR,R.BL,2)},batchStrokeTriangle:function(v,y,x,b,w,C,_,S,T){var A=this.tempTriangle;A[0].x=v,A[0].y=y,A[0].width=_,A[1].x=x,A[1].y=b,A[1].width=_,A[2].x=w,A[2].y=C,A[2].width=_,A[3].x=v,A[3].y=y,A[3].width=_,this.batchStrokePath(A,_,!1,S,T)},batchFillPath:function(v,y,x){this.renderer.pipelines.set(this);var b=this.calcMatrix;x&&x.multiply(y,b);for(var w=v.length,C=this.polygonCache,_,S,T=this.fillTint.TL,A=this.fillTint.TR,M=this.fillTint.BL,I=0;I<w;++I)S=v[I],C.push(S.x,S.y);_=u(C),w=_.length;for(var D=0;D<w;D+=3){var k=_[D+0]*2,G=_[D+1]*2,R=_[D+2]*2,H=C[k+0],j=C[k+1],Z=C[G+0],ee=C[G+1],Y=C[R+0],V=C[R+1],O=b.getX(H,j),F=b.getY(H,j),X=b.getX(Z,ee),ie=b.getY(Z,ee),re=b.getX(Y,V),q=b.getY(Y,V);this.batchTri(null,O,F,X,ie,re,q,0,0,1,1,T,A,M,2)}C.length=0},batchStrokePath:function(v,y,x,b,w){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var C=v.length-1,_=0;_<C;_++){var S=v[_],T=v[_+1];this.batchLine(S.x,S.y,T.x,T.y,S.width/2,T.width/2,y,_,!x&&_===C-1,b,w)}},batchLine:function(v,y,x,b,w,C,_,S,T,A,M){this.renderer.pipelines.set(this);var I=this.calcMatrix;M&&M.multiply(A,I);var D=x-v,k=b-y,G=Math.sqrt(D*D+k*k);if(G!==0){var R=w*(b-y)/G,H=w*(v-x)/G,j=C*(b-y)/G,Z=C*(v-x)/G,ee=x-j,Y=b-Z,V=v-R,O=y-H,F=x+j,X=b+Z,ie=v+R,re=y+H,q=I.getX(ee,Y),ae=I.getY(ee,Y),ue=I.getX(V,O),me=I.getY(V,O),be=I.getX(F,X),ke=I.getY(F,X),ze=I.getX(ie,re),De=I.getY(ie,re),ge=this.strokeTint,Et=ge.TL,ct=ge.TR,We=ge.BL,Ue=ge.BR;if(this.batchQuad(null,ze,De,ue,me,q,ae,be,ke,0,0,1,1,Et,ct,We,Ue,2),!(_<=2)){var qe=this.prevQuad,it=this.firstQuad;S>0&&qe[4]?this.batchQuad(null,ze,De,ue,me,qe[0],qe[1],qe[2],qe[3],0,0,1,1,Et,ct,We,Ue,2):(it[0]=ze,it[1]=De,it[2]=ue,it[3]=me,it[4]=1),T&&it[4]?this.batchQuad(null,q,ae,be,ke,it[0],it[1],it[2],it[3],0,0,1,1,Et,ct,We,Ue,2):(qe[0]=q,qe[1]=ae,qe[2]=be,qe[3]=ke,qe[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,p.prototype.destroy.call(this),this}});n.exports=g},43439:(n,a,s)=>{var o=s(83419),u=s(95540),l=s(4127),c=s(89924),h=s(29100),d=new o({Extends:h,initialize:function(m){m.vertShader=u(m,"vertShader",c),m.fragShader=u(m,"fragShader",l),m.attributes=u(m,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),h.call(this,m)},onRender:function(f,m){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",m.zoom)},batchPointLight:function(f,m,p,g,v,y,x,b,w,C,_,S){var T=f.color,A=f.intensity,M=f.radius,I=f.attenuation,D=T.r*A,k=T.g*A,G=T.b*A,R=m.alpha*f.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(p,g,_,S,M,I,D,k,G,R),this.batchLightVert(v,y,_,S,M,I,D,k,G,R),this.batchLightVert(x,b,_,S,M,I,D,k,G,R),this.batchLightVert(p,g,_,S,M,I,D,k,G,R),this.batchLightVert(x,b,_,S,M,I,D,k,G,R),this.batchLightVert(w,C,_,S,M,I,D,k,G,R),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(f,m,p,g,v,y,x,b,w,C){var _=this.vertexViewF32,S=this.vertexCount*this.currentShader.vertexComponentCount-1;_[++S]=f,_[++S]=m,_[++S]=p,_[++S]=g,_[++S]=v,_[++S]=y,_[++S]=x,_[++S]=b,_[++S]=w,_[++S]=C,this.vertexCount++}});n.exports=d},84057:(n,a,s)=>{var o=s(83419),u=s(89422),l=s(95540),c=s(27681),h=s(49627),d=s(29100),f=new o({Extends:d,initialize:function(p){p.renderTarget=l(p,"renderTarget",1),p.fragShader=l(p,"fragShader",c),p.vertShader=l(p,"vertShader",h),p.attributes=l(p,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),p.batchSize=1,p.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.call(this,p),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new u,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){d.prototype.boot.call(this);var m=this.manager.UTILITY_PIPELINE;this.fullFrame1=m.fullFrame1,this.fullFrame2=m.fullFrame2,this.halfFrame1=m.halfFrame1,this.halfFrame2=m.halfFrame2;var p=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",p.width,p.height);for(var g=this.renderTargets,v=0;v<g.length;v++)g[v].autoResize=!0},postBatch:function(m){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(m),this},onDraw:function(m){this.bindAndDraw(m)},getController:function(m){return m!==void 0?m:this.controller?this.controller:this},copySprite:function(m,p,g){g===void 0&&(g=!1);var v=this.gl;v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,m.texture.webGLTexture);var y=v.getParameter(v.FRAMEBUFFER_BINDING);v.bindFramebuffer(v.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,p.texture.webGLTexture,0),v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),g&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,y))},copyFrame:function(m,p,g,v,y){this.manager.copyFrame(m,p,g,v,y)},copyToGame:function(m){this.manager.copyToGame(m)},drawFrame:function(m,p,g){this.manager.drawFrame(m,p,g,this.colorMatrix)},blendFrames:function(m,p,g,v,y){this.manager.blendFrames(m,p,g,v,y)},blendFramesAdditive:function(m,p,g,v,y){this.manager.blendFramesAdditive(m,p,g,v,y)},clearFrame:function(m,p){this.manager.clearFrame(m,p)},blitFrame:function(m,p,g,v,y,x){this.manager.blitFrame(m,p,g,v,y,x)},copyFrameRect:function(m,p,g,v,y,x,b,w){this.manager.copyFrameRect(m,p,g,v,y,x,b,w)},bindAndDraw:function(m,p,g,v,y){g===void 0&&(g=!0),v===void 0&&(v=!0);var x=this.gl,b=this.renderer;this.bind(y),this.set1i("uMainSampler",0),p?(x.viewport(0,0,p.width,p.height),x.bindFramebuffer(x.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,p.texture.webGLTexture,0),g&&(v?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT))):(b.popFramebuffer(!1,!1),b.currentFramebuffer||x.viewport(0,0,b.width,b.height)),b.restoreStencilMask(),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,m.texture.webGLTexture),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),p&&(x.bindTexture(x.TEXTURE_2D,null),x.bindFramebuffer(x.FRAMEBUFFER,b.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),d.prototype.destroy.call(this),this}});n.exports=f},43558:(n,a,s)=>{var o=s(10312),u=s(67502),l=s(83419),c=s(96293),h=s(95540),d=s(57516),f=s(27681),m=s(87841),p=s(32302),g=s(45561),v=s(60722),y=s(29100),x=new l({Extends:d,initialize:function(w){var C=h(w,"fragShader",f),_=h(w,"vertShader",v),S=h(w,"drawShader",f),T=[{name:"DrawSprite",fragShader:g,vertShader:v},{name:"CopySprite",fragShader:C,vertShader:_},{name:"DrawGame",fragShader:S,vertShader:v},{name:"ColorMatrix",fragShader:c}],A=h(w,"shaders",[]);w.shaders=T.concat(A),w.vertShader||(w.vertShader=_),w.batchSize=1,d.call(this,w),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new m,this.targetBounds=new m,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){y.prototype.boot.call(this);var b=this.shaders,w=this.renderer;this.drawSpriteShader=b[0],this.copyShader=b[1],this.gameShader=b[2],this.colorMatrixShader=b[3],this.fsTarget=new p(w,w.width,w.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var C=new ArrayBuffer(168);this.quadVertexData=C,this.quadVertexViewF32=new Float32Array(C),this.quadVertexBuffer=w.createVertexBuffer(C,this.gl.STATIC_DRAW),this.onResize(w.width,w.height),this.currentShader=this.copyShader,this.set2f("uResolution",w.width,w.height)},onResize:function(b,w){var C=this.quadVertexViewF32;C[1]=w,C[22]=w,C[14]=b,C[28]=b,C[35]=b,C[36]=w},batchQuad:function(b,w,C,_,S,T,A,M,I,D,k,G,R,H,j,Z,ee,Y,V){var O=Math.min(w,_,T,M),F=Math.min(C,S,A,I),X=Math.max(w,_,T,M),ie=Math.max(C,S,A,I),re=X-O,q=ie-F,ae=this.spriteBounds.setTo(O,F,re,q),ue=b?b.preFX.padding:0,me=re+ue*2,be=q+ue*2,ke=Math.abs(Math.max(me,be)),ze=this.manager.getRenderTarget(ke),De=this.targetBounds.setTo(0,0,ze.width,ze.height);u(De,Math.round(ae.centerX),Math.round(ae.centerY)),this.tempSprite=b;var ge=this.gl,Et=this.renderer;Et.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Et.width,Et.height),this.flipProjectionMatrix(!0),b&&(this.onDrawSprite(b,ze),b.preFX.onFX(this));var ct=this.fsTarget;return this.flush(),ge.viewport(0,0,Et.width,Et.height),ge.bindFramebuffer(ge.FRAMEBUFFER,ct.framebuffer.webGLFramebuffer),ge.framebufferTexture2D(ge.FRAMEBUFFER,ge.COLOR_ATTACHMENT0,ge.TEXTURE_2D,ct.texture.webGLTexture,0),ge.clearColor(0,0,0,0),ge.clear(ge.COLOR_BUFFER_BIT),this.setTexture2D(V),this.batchVert(w,C,D,k,0,Y,H),this.batchVert(_,S,D,R,0,Y,Z),this.batchVert(T,A,G,R,0,Y,ee),this.batchVert(w,C,D,k,0,Y,H),this.batchVert(T,A,G,R,0,Y,ee),this.batchVert(M,I,G,k,0,Y,j),this.flush(),this.flipProjectionMatrix(!1),ge.activeTexture(ge.TEXTURE0),ge.bindTexture(ge.TEXTURE_2D,ze.texture.webGLTexture),ge.copyTexSubImage2D(ge.TEXTURE_2D,0,0,0,De.x,De.y,De.width,De.height),ge.bindFramebuffer(ge.FRAMEBUFFER,null),ge.bindTexture(ge.TEXTURE_2D,null),this.onBatch(b),this.currentShader=this.copyShader,this.onDraw(ze,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(b,w,C,_,S,T,A){C===void 0&&(C=!0),_===void 0&&(_=!0),S===void 0&&(S=!1),A===void 0&&(A=this.copyShader);var M=this.gl,I=this.tempSprite;T&&(A=this.colorMatrixShader),this.currentShader=A;var D=this.setVertexBuffer(this.quadVertexBuffer);A.bind(D,!1);var k=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",k.width,k.height),I.preFX.onFXCopy(this),this.onCopySprite(b,w,I),T&&(this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha)),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,b.texture.webGLTexture),b.height>w.height)M.viewport(0,0,b.width,b.height),this.setTargetUVs(b,w);else{var G=w.height-b.height;M.viewport(0,G,b.width,b.height),this.resetUVs()}if(M.bindFramebuffer(M.FRAMEBUFFER,w.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,w.texture.webGLTexture,0),C&&(M.clearColor(0,0,0,+!_),M.clear(M.COLOR_BUFFER_BIT)),S){var R=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}M.bufferData(M.ARRAY_BUFFER,this.quadVertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),S&&this.renderer.setBlendMode(R),M.bindFramebuffer(M.FRAMEBUFFER,null)},copy:function(b,w){var C=this.gl;this.set1i("uMainSampler",0),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,b.texture.webGLTexture),C.viewport(0,0,b.width,b.height),this.setUVs(0,0,0,1,1,1,1,0),C.bindFramebuffer(C.FRAMEBUFFER,w.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,w.texture.webGLTexture,0),C.clearColor(0,0,0,0),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.quadVertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null)},blendFrames:function(b,w,C,_,S){this.manager.blendFrames(b,w,C,_,S)},blendFramesAdditive:function(b,w,C,_,S){this.manager.blendFramesAdditive(b,w,C,_,S)},drawToGame:function(b){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(b)},copyToGame:function(b){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(b)},bindAndDraw:function(b){var w=this.gl,C=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(b.texture);var _=this._tempMatrix1.loadIdentity(),S=this.targetBounds.x,T=this.targetBounds.y,A=S+b.width,M=T+b.height,I=_.getX(S,T),D=_.getX(S,M),k=_.getX(A,M),G=_.getX(A,T),R=_.getY(S,T),H=_.getY(S,M),j=_.getY(A,M),Z=_.getY(A,T),ee=16777215;this.batchVert(I,R,0,0,0,0,ee),this.batchVert(D,H,0,1,0,0,ee),this.batchVert(k,j,1,1,0,0,ee),this.batchVert(I,R,0,0,0,0,ee),this.batchVert(k,j,1,1,0,0,ee),this.batchVert(G,Z,1,0,0,0,ee),C.restoreFramebuffer(!1,!0),C.currentFramebuffer||w.viewport(0,0,C.width,C.height),C.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(b){this.drawToGame(b)},setUVs:function(b,w,C,_,S,T,A,M){var I=this.quadVertexViewF32;I[2]=b,I[3]=w,I[9]=C,I[10]=_,I[16]=S,I[17]=T,I[23]=b,I[24]=w,I[30]=S,I[31]=T,I[37]=A,I[38]=M},setTargetUVs:function(b,w){var C=w.height/b.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,d.prototype.destroy.call(this),this}});n.exports=x},81041:(n,a,s)=>{var o=s(83419),u=s(95540),l=s(57516),c=new o({Extends:l,initialize:function(d){d.topology=5,d.batchSize=u(d,"batchSize",256),l.call(this,d)}});n.exports=c},12385:(n,a,s)=>{var o=s(83419),u=s(95540),l=s(57516),c=s(45561),h=s(60722),d=s(29100),f=new o({Extends:l,initialize:function(p){p.fragShader=u(p,"fragShader",c),p.vertShader=u(p,"vertShader",h),p.forceZero=!0,l.call(this,p)},boot:function(){d.prototype.boot.call(this);var m=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",m.width,m.height)}});n.exports=f},7589:(n,a,s)=>{var o=s(35407),u=s(10312),l=s(83419),c=s(89422),h=s(96293),d=s(36682),f=s(95540),m=s(48247),p=s(49627),g=s(29100),v=new l({Extends:g,initialize:function(x){x.renderTarget=f(x,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),x.vertShader=f(x,"vertShader",p),x.shaders=f(x,"shaders",[{name:"Copy",fragShader:d},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:m},{name:"ColorMatrix",fragShader:h}]),x.attributes=f(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),x.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],x.batchSize=1,g.call(this,x),this.colorMatrix=new c,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){g.prototype.boot.call(this);var y=this.shaders,x=this.renderTargets;this.copyShader=y[0],this.addShader=y[1],this.linearShader=y[2],this.colorMatrixShader=y[3],this.fullFrame1=x[0],this.fullFrame2=x[1],this.halfFrame1=x[2],this.halfFrame2=x[3]},copyFrame:function(y,x,b,w,C){b===void 0&&(b=1),w===void 0&&(w=!0),C===void 0&&(C=!0);var _=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",b),_.activeTexture(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,y.texture.webGLTexture),x?(_.viewport(0,0,x.width,x.height),_.bindFramebuffer(_.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,x.texture.webGLTexture,0)):_.viewport(0,0,y.width,y.height),w&&(C?_.clearColor(0,0,0,0):_.clearColor(0,0,0,1),_.clear(_.COLOR_BUFFER_BIT)),_.bufferData(_.ARRAY_BUFFER,this.vertexData,_.STATIC_DRAW),_.drawArrays(_.TRIANGLES,0,6),_.bindFramebuffer(_.FRAMEBUFFER,null),_.bindTexture(_.TEXTURE_2D,null)},blitFrame:function(y,x,b,w,C,_,S){b===void 0&&(b=1),w===void 0&&(w=!0),C===void 0&&(C=!0),_===void 0&&(_=!1),S===void 0&&(S=!1);var T=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",b),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,y.texture.webGLTexture),y.height>x.height)T.viewport(0,0,y.width,y.height),this.setTargetUVs(y,x);else{var A=x.height-y.height;T.viewport(0,A,y.width,y.height)}if(T.bindFramebuffer(T.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,x.texture.webGLTexture,0),w&&(C?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),_){var M=this.renderer.currentBlendMode;this.renderer.setBlendMode(u.ERASE)}S&&this.flipY(),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),_&&this.renderer.setBlendMode(M),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(y,x,b,w,C,_,S,T){S===void 0&&(S=!0),T===void 0&&(T=!0);var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,y.texture.webGLTexture,0),S&&(T?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,x.texture.webGLTexture),A.copyTexSubImage2D(A.TEXTURE_2D,0,0,0,b,w,C,_),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},copyToGame:function(y){var x=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,y.texture.webGLTexture),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6)},drawFrame:function(y,x,b,w){b===void 0&&(b=!0),w===void 0&&(w=this.colorMatrix);var C=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",w.getData()),this.set1f("uAlpha",w.alpha),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,y.texture.webGLTexture),x?(C.viewport(0,0,x.width,x.height),C.bindFramebuffer(C.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,x.texture.webGLTexture,0)):C.viewport(0,0,y.width,y.height),b?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blendFrames:function(y,x,b,w,C,_){w===void 0&&(w=1),C===void 0&&(C=!0),_===void 0&&(_=this.linearShader);var S=this.gl;this.setShader(_),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",w),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,y.texture.webGLTexture),S.activeTexture(S.TEXTURE1),S.bindTexture(S.TEXTURE_2D,x.texture.webGLTexture),b?(S.bindFramebuffer(S.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,b.texture.webGLTexture,0),S.viewport(0,0,b.width,b.height)):S.viewport(0,0,y.width,y.height),C?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blendFramesAdditive:function(y,x,b,w,C){this.blendFrames(y,x,b,w,C,this.addShader)},clearFrame:function(y,x){x===void 0&&(x=!0);var b=this.gl;b.viewport(0,0,y.width,y.height),b.bindFramebuffer(b.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),x?b.clearColor(0,0,0,0):b.clearColor(0,0,0,1),b.clear(b.COLOR_BUFFER_BIT);var w=this.renderer.currentFramebuffer;b.bindFramebuffer(b.FRAMEBUFFER,w.webGLFramebuffer)},setUVs:function(y,x,b,w,C,_,S,T){var A=this.vertexViewF32;A[2]=y,A[3]=x,A[6]=b,A[7]=w,A[10]=C,A[11]=_,A[14]=y,A[15]=x,A[18]=C,A[19]=_,A[22]=S,A[23]=T},setTargetUVs:function(y,x){var b=x.height/y.height;b>.5?b=.5-(b-.5):b=.5+(.5-b),this.setUVs(0,b,0,1+b,1,1+b,1,b)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});n.exports=v},36060:n=>{var a={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};n.exports=a},84817:n=>{n.exports="pipelineafterflush"},36712:n=>{n.exports="pipelinebeforeflush"},40285:n=>{n.exports="pipelinebind"},65918:n=>{n.exports="pipelineboot"},92852:n=>{n.exports="pipelinedestroy"},56072:n=>{n.exports="pipelinerebind"},57566:n=>{n.exports="pipelineresize"},77085:(n,a,s)=>{n.exports={AFTER_FLUSH:s(84817),BEFORE_FLUSH:s(36712),BIND:s(40285),BOOT:s(65918),DESTROY:s(92852),REBIND:s(56072),RESIZE:s(57566)}},54812:(n,a,s)=>{var o=s(83419),u=s(99155),l=s(84057),c=new o({Extends:l,initialize:function(d){l.call(this,{game:d,fragShader:u}),this.amount=1},onPreRender:function(h,d){h=this.getController(h),this.set1f("amount",h.amount,d)}});n.exports=c},67329:(n,a,s)=>{var o=s(83419),u=s(24400),l=s(84057),c=new o({Extends:l,initialize:function(d){l.call(this,{game:d,fragShader:u}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(h){h=this.getController(h),this.set1f("strength",h.blurStrength),this.set3fv("color",h.glcolor)},onDraw:function(h){var d=this.getController(),f=this.fullFrame1,m=this.fullFrame2;this.copyFrame(h,m);for(var p=2/h.width*d.offsetX,g=2/h.height*d.offsetY,v=0;v<d.steps;v++)this.set2f("offset",p,0),this.copySprite(h,f),this.set2f("offset",0,g),this.copySprite(f,h);this.blendFrames(m,h,f,d.strength),this.copyToGame(f)}});n.exports=c},8861:(n,a,s)=>{var o=s(83419),u=s(41514),l=s(51078),c=s(94328),h=s(84057),d=new o({Extends:h,initialize:function(m){h.call(this,{game:m,shaders:[{name:"Gaussian5",fragShader:u},{name:"Gaussian9",fragShader:l},{name:"Gaussian13",fragShader:c}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(f){var m=this.getController(),p=this.gl,g=this.fullFrame1,v=p.getParameter(p.FRAMEBUFFER_BINDING);this.bind(this.shaders[m.quality]),p.activeTexture(p.TEXTURE0),p.viewport(0,0,f.width,f.height),this.set1i("uMainSampler",0),this.set2f("resolution",f.width,f.height),this.set1f("strength",m.strength),this.set3fv("color",m.glcolor);for(var y=0;y<m.steps;y++)this.set2f("offset",m.x,0),this.copySprite(f,g),this.set2f("offset",0,m.y),this.copySprite(g,f);p.bindFramebuffer(p.FRAMEBUFFER,v),p.bindTexture(p.TEXTURE_2D,null),this.copyToGame(f)}});n.exports=d},51051:(n,a,s)=>{var o=s(83419),u=s(90610),l=s(84057),c=new o({Extends:l,initialize:function(d){l.call(this,{game:d,fragShader:u}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(h,d,f,m){h=this.getController(h),this.set1f("radius",h.radius,d),this.set1f("amount",h.amount,d),this.set1f("contrast",h.contrast,d),this.set1f("strength",h.strength,d),this.set2f("blur",h.blurX,h.blurY,d),this.setBoolean("isTiltShift",h.isTiltShift,d),f&&m&&this.set2f("resolution",f,m,d)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});n.exports=c},89428:(n,a,s)=>{var o=s(83419),u=s(91899),l=s(84057),c=new o({Extends:l,initialize:function(d){l.call(this,{game:d,fragShader:u}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(h,d,f,m){h=this.getController(h),this.set1f("scale",h.scale,d),this.set1f("feather",h.feather,d),this.set1f("thickness",h.thickness,d),this.set3fv("color",h.glcolor,d),this.set4fv("backgroundColor",h.glcolor2,d),f&&m&&this.set2f("resolution",f,m,d)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});n.exports=c},88904:(n,a,s)=>{var o=s(83419),u=s(84057),l=new o({Extends:u,initialize:function(h){u.call(this,{game:h})},onDraw:function(c){var h=this.fullFrame1;this.controller?this.manager.drawFrame(c,h,!0,this.controller):this.drawFrame(c,h),this.copyToGame(h)}});n.exports=l},63563:(n,a,s)=>{var o=s(83419),u=s(47838),l=s(84057),c=new o({Extends:l,initialize:function(d){l.call(this,{game:d,fragShader:u}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(h){var d=this.game.textures.getFrame(h);d&&(this.glTexture=d.glTexture)},onDraw:function(h){var d=this.getController(),f=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",d.x,d.y),this.bindTexture(d.glTexture,1),this.copySprite(h,f),this.copyToGame(f)}});n.exports=c},94045:(n,a,s)=>{var o=s(83419),u=s(95540),l=s(98656),c=s(84057),h=s(70554),d=new o({Extends:c,initialize:function(m,p){var g=u(p,"quality",.1),v=u(p,"distance",10);c.call(this,{game:m,fragShader:h.setGlowQuality(l,m,g,v)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(f,m,p,g){f=this.getController(f),this.set1f("outerStrength",f.outerStrength,m),this.set1f("innerStrength",f.innerStrength,m),this.set4fv("glowColor",f.glcolor,m),this.setBoolean("knockout",f.knockout,m),p&&g&&this.set2f("resolution",p,g,m)},onDraw:function(f){this.set2f("resolution",f.width,f.height),this.bindAndDraw(f)}});n.exports=d},74088:(n,a,s)=>{var o=s(83419),u=s(70463),l=s(84057),c=new o({Extends:l,initialize:function(d){l.call(this,{game:d,fragShader:u}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(h,d){h=this.getController(h),this.set1f("alpha",h.alpha,d),this.set1i("size",h.size,d),this.set3fv("color1",h.glcolor1,d),this.set3fv("color2",h.glcolor2,d),this.set2f("positionFrom",h.fromX,h.fromY,d),this.set2f("positionTo",h.toX,h.toY,d)}});n.exports=c},99636:(n,a,s)=>{var o=s(83419),u=s(50831),l=s(84057),c=new o({Extends:l,initialize:function(d){l.call(this,{game:d,fragShader:u}),this.amount=1},onPreRender:function(h,d,f,m){h=this.getController(h),this.set1f("amount",h.amount,d),f&&m&&this.set2f("resolution",f,m,d)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});n.exports=c},34700:(n,a,s)=>{var o=s(83419),u=s(92595),l=s(84057),c=new o({Extends:l,initialize:function(d){l.call(this,{game:d,fragShader:u}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(h,d){h=this.getController(h);var f=h.samples;this.set1i("samples",f,d),this.set1f("intensity",h.intensity,d),this.set1f("decay",h.decay,d),this.set1f("power",h.power/f,d),this.set2f("lightPosition",h.x,h.y,d),this.set4fv("color",h.glcolor,d)}});n.exports=c},91157:(n,a,s)=>{var o=s(83419),u=s(72464),l=s(84057),c=new o({Extends:l,initialize:function(d){l.call(this,{game:d,fragShader:u}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(h,d,f,m){h=this.getController(h),this.setTime("time",d),this.set1f("speed",h.speed,d),this.set1f("lineWidth",h.lineWidth,d),this.set1f("gradient",h.gradient,d),this.setBoolean("reveal",h.reveal,d),f&&m&&this.set2f("resolution",f,m,d)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});n.exports=c},27797:(n,a,s)=>{var o=s(83419),u=s(39249),l=s(84057),c=new o({Extends:l,initialize:function(d){l.call(this,{game:d,fragShader:u}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(h,d){h=this.getController(h),this.set1f("radius",h.radius,d),this.set1f("strength",h.strength,d),this.set2f("position",h.x,h.y,d)}});n.exports=c},67603:(n,a,s)=>{var o=s(83419),u=s(2878),l=s(84057),c=new o({Extends:l,initialize:function(d){l.call(this,{game:d,fragShader:u}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(h,d){h=this.getController(h);var f=h.progress,m=h.wipeWidth,p=h.direction,g=h.axis;this.set4f("config",f,m,p,g,d),this.setBoolean("reveal",h.reveal,d)}});n.exports=c},58918:(n,a,s)=>{var o={Barrel:s(54812),Bloom:s(67329),Blur:s(8861),Bokeh:s(51051),Circle:s(89428),ColorMatrix:s(88904),Displacement:s(63563),Glow:s(94045),Gradient:s(74088),Pixelate:s(99636),Shadow:s(34700),Shine:s(91157),Vignette:s(27797),Wipe:s(67603)};n.exports=o},96615:(n,a,s)=>{var o=s(36060),u=s(79291),l={FX:s(58918),BitmapMaskPipeline:s(31302),Events:s(77085),FXPipeline:s(92651),LightPipeline:s(96569),MobilePipeline:s(56527),MultiPipeline:s(57516),PointLightPipeline:s(43439),PostFXPipeline:s(84057),PreFXPipeline:s(43558),RopePipeline:s(81041),SinglePipeline:s(12385),UtilityPipeline:s(7589)};l=u(!1,l,o),n.exports=l},35407:n=>{n.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:n=>{n.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:n=>{n.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:n=>{n.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:n=>{n.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:n=>{n.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:n=>{n.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:n=>{n.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:n=>{n.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:n=>{n.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:n=>{n.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:n=>{n.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:n=>{n.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:n=>{n.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:n=>{n.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:n=>{n.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:n=>{n.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:n=>{n.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:n=>{n.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:n=>{n.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:n=>{n.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:n=>{n.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(n,a,s)=>{n.exports={AddBlendFrag:s(35407),BitmapMaskFrag:s(78908),BitmapMaskVert:s(85191),ColorMatrixFrag:s(96293),CopyFrag:s(36682),FXBarrelFrag:s(99155),FXBloomFrag:s(24400),FXBlurHighFrag:s(94328),FXBlurLowFrag:s(41514),FXBlurMedFrag:s(51078),FXBokehFrag:s(90610),FXCircleFrag:s(91899),FXDisplacementFrag:s(47838),FXGlowFrag:s(98656),FXGradientFrag:s(70463),FXPixelateFrag:s(50831),FXShadowFrag:s(92595),FXShineFrag:s(72464),FXVignetteFrag:s(39249),FXWipeFrag:s(2878),LightFrag:s(31063),LinearBlendFrag:s(48247),MeshFrag:s(41214),MeshVert:s(39653),MobileFrag:s(62143),MobileVert:s(47940),MultiFrag:s(98840),MultiVert:s(44667),PointLightFrag:s(4127),PointLightVert:s(89924),PostFXFrag:s(27681),QuadVert:s(49627),SingleFrag:s(45561),SingleVert:s(60722)}},93567:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h,d){this.webGLAttribLocation=-1,this.gl=c,this.program=h,this.name=d,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var l=this.gl;l.isContextLost()||(this.webGLAttribLocation=l.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});n.exports=u},26128:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h,d,f){this.webGLBuffer=null,this.gl=c,this.initialDataOrSize=h,this.bufferType=d,this.bufferUsage=f,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var l=this.gl;if(!l.isContextLost()){var c=this.bufferType,h=l.createBuffer();this.webGLBuffer=h,l.bindBuffer(c,this.webGLBuffer),l.bufferData(c,this.initialDataOrSize,this.bufferUsage),l.bindBuffer(c,null)}}},destroy:function(){var l=this.gl;l.isContextLost()||l.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});n.exports=u},84387:(n,a,s)=>{var o=s(83419),u={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},l=new o({initialize:function(h,d,f,m,p){this.webGLFramebuffer=null,this.gl=h,this.width=d,this.height=f,this.renderTexture=m,this.addDepthStencilBuffer=!!p,this.createResource()},createResource:function(){var c=this.gl;if(!c.isContextLost()){var h=this.renderTexture,d=0,f=c.createFramebuffer();if(this.webGLFramebuffer=f,c.bindFramebuffer(c.FRAMEBUFFER,f),h.isRenderTexture=!0,h.isAlphaPremultiplied=!1,c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,h.webGLTexture,0),d=c.checkFramebufferStatus(c.FRAMEBUFFER),d!==c.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(u[d]||d));if(this.addDepthStencilBuffer){var m=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,m),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,this.width,this.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,m)}c.bindFramebuffer(c.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var c=this.gl;if(!c.isContextLost()){c.bindFramebuffer(c.FRAMEBUFFER,this.webGLFramebuffer);var h=c.getFramebufferAttachmentParameter(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);h!==null&&(c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),c.deleteTexture(h));var d=c.getFramebufferAttachmentParameter(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);d!==null&&c.deleteRenderbuffer(d),c.bindFramebuffer(c.FRAMEBUFFER,null),c.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});n.exports=l},1482:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h,d){this.webGLProgram=null,this.gl=c,this.vertexSource=h,this.fragmentSource=d,this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){var c=l.createProgram(),h=l.createShader(l.VERTEX_SHADER),d=l.createShader(l.FRAGMENT_SHADER);l.shaderSource(h,this.vertexSource),l.shaderSource(d,this.fragmentSource),l.compileShader(h),l.compileShader(d);var f=`Shader failed:
`;if(!l.getShaderParameter(h,l.COMPILE_STATUS))throw new Error("Vertex "+f+l.getShaderInfoLog(h));if(!l.getShaderParameter(d,l.COMPILE_STATUS))throw new Error("Fragment "+f+l.getShaderInfoLog(d));if(l.attachShader(c,h),l.attachShader(c,d),l.linkProgram(c),!l.getProgramParameter(c,l.LINK_STATUS))throw new Error("Link "+f+l.getProgramInfoLog(c));l.useProgram(c),this.webGLProgram=c}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});n.exports=u},82751:(n,a,s)=>{var o=s(83419),u=s(50030),l=new o({initialize:function(h,d,f,m,p,g,v,y,x,b,w,C,_){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=h,this.mipLevel=d,this.minFilter=f,this.magFilter=m,this.wrapT=p,this.wrapS=g,this.format=v,this.pixels=y,this.width=x,this.height=b,this.pma=w??!0,this.forceSize=!!C,this.flipY=!!_,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var c=this.gl;if(!c.isContextLost()){if(this.pixels instanceof l){this.webGLTexture=this.pixels.webGLTexture;return}var h=c.createTexture();h.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=h,this._processTexture()}},update:function(c,h,d,f,m,p,g,v,y){if(!(h===0||d===0)){this.pixels=c,this.width=h,this.height=d,this.flipY=f,this.wrapS=m,this.wrapT=p,this.minFilter=g,this.magFilter=v,this.format=y;var x=this.gl;x.isContextLost()||this._processTexture()}},_processTexture:function(){var c=this.gl;c.activeTexture(c.TEXTURE0);var h=c.getParameter(c.TEXTURE_BINDING_2D);c.bindTexture(c.TEXTURE_2D,this.webGLTexture),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,this.minFilter),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,this.magFilter),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,this.wrapS),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,this.wrapT),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,this.flipY);var d=this.pixels,f=this.mipLevel,m=this.width,p=this.height,g=this.format,v=!1;if(d==null)c.texImage2D(c.TEXTURE_2D,f,g,m,p,0,g,c.UNSIGNED_BYTE,null),v=u(m,p);else if(d.compressed){m=d.width,p=d.height,v=d.generateMipmap;for(var y=0;y<d.mipmaps.length;y++)c.compressedTexImage2D(c.TEXTURE_2D,y,d.internalFormat,d.mipmaps[y].width,d.mipmaps[y].height,0,d.mipmaps[y].data)}else d instanceof Uint8Array?(c.texImage2D(c.TEXTURE_2D,f,g,m,p,0,g,c.UNSIGNED_BYTE,d),v=u(m,p)):(this.forceSize||(m=d.width,p=d.height),c.texImage2D(c.TEXTURE_2D,f,g,g,c.UNSIGNED_BYTE,d),v=u(m,p));v&&c.generateMipmap(c.TEXTURE_2D),h?c.bindTexture(c.TEXTURE_2D,h):c.bindTexture(c.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(c){this.__SPECTOR_Metadata=c,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=c)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof l||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});n.exports=l},57183:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h,d){this.webGLUniformLocation=null,this.gl=c,this.program=h,this.name=d,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var l=this.gl;l.isContextLost()||(this.webGLUniformLocation=l.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});n.exports=u},9503:(n,a,s)=>{var o={WebGLAttribLocationWrapper:s(93567),WebGLBufferWrapper:s(26128),WebGLProgramWrapper:s(1482),WebGLTextureWrapper:s(82751),WebGLFramebufferWrapper:s(84387),WebGLUniformLocationWrapper:s(57183)};n.exports=o},76531:(n,a,s)=>{var o=s(13560),u=s(83419),l=s(50792),c=s(97480),h=s(8443),d=s(57811),f=s(74403),m=s(45818),p=s(29747),g=s(87841),v=s(86555),y=s(56583),x=s(26099),b=s(38058),w=new u({Extends:l,initialize:function(_){l.call(this),this.game=_,this.canvas,this.canvasBounds=new g,this.parent=null,this.parentIsWindow=!1,this.parentSize=new v,this.gameSize=new v,this.baseSize=new v,this.displaySize=new v,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new x(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:p,windowResize:p,fullScreenChange:p,fullScreenError:p}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(h.BOOT,this.boot,this)},boot:function(){var C=this.game;this.canvas=C.canvas,this.fullscreen=C.device.fullscreen;var _=this.scaleMode;_!==o.SCALE_MODE.RESIZE&&_!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(_),_===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),C.events.on(h.PRE_STEP,this.step,this),C.events.once(h.READY,this.refresh,this),C.events.once(h.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(C){this.getParent(C),this.getParentBounds();var _=C.width,S=C.height,T=C.scaleMode,A=C.zoom,M=C.autoRound;if(typeof _=="string")if(_.substr(-1)!=="%")_=parseInt(_,10);else{var I=this.parentSize.width;I===0&&(I=window.innerWidth);var D=parseInt(_,10)/100;_=Math.floor(I*D)}if(typeof S=="string")if(S.substr(-1)!=="%")S=parseInt(S,10);else{var k=this.parentSize.height;k===0&&(k=window.innerHeight);var G=parseInt(S,10)/100;S=Math.floor(k*G)}this.scaleMode=T,this.autoRound=M,this.autoCenter=C.autoCenter,this.resizeInterval=C.resizeInterval,M&&(_=Math.floor(_),S=Math.floor(S)),this.gameSize.setSize(_,S),A===o.ZOOM.MAX_ZOOM&&(A=this.getMaxZoom()),this.zoom=A,A!==1&&(this._resetZoom=!0),this.baseSize.setSize(_,S),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),C.minWidth>0&&this.displaySize.setMin(C.minWidth*A,C.minHeight*A),C.maxWidth>0&&this.displaySize.setMax(C.maxWidth*A,C.maxHeight*A),this.displaySize.setSize(_,S),(C.snapWidth>0||C.snapHeight>0)&&this.displaySize.setSnap(C.snapWidth,C.snapHeight),this.orientation=m(_,S)},getParent:function(C){var _=C.parent;if(_!==null){if(this.parent=f(_),this.parentIsWindow=this.parent===document.body,C.expandParent&&C.scaleMode!==o.SCALE_MODE.NONE){var S=this.parent.getBoundingClientRect();(this.parentIsWindow||S.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",S=this.parent.getBoundingClientRect(),!this.parentIsWindow&&S.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}C.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=f(C.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var C=this.parentSize,_=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(_.height=d(!0));var S=_.width,T=_.height;if(C.width!==S||C.height!==T)return C.setSize(S,T),!0;if(this.canvas){var A=this.canvasBounds,M=this.canvas.getBoundingClientRect();if(M.x!==A.x||M.y!==A.y)return!0}return!1},lockOrientation:function(C){var _=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return _?_.call(screen,C):!1},setParentSize:function(C,_){return this.parentSize.setSize(C,_),this.refresh()},setGameSize:function(C,_){var S=this.autoRound;S&&(C=Math.floor(C),_=Math.floor(_));var T=this.width,A=this.height;return this.gameSize.resize(C,_),this.baseSize.resize(C,_),S&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(C/_),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(T,A)},resize:function(C,_){var S=this.zoom,T=this.autoRound;T&&(C=Math.floor(C),_=Math.floor(_));var A=this.width,M=this.height;this.gameSize.resize(C,_),this.baseSize.resize(C,_),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(C*S,_*S),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var I=this.canvas.style,D=C*S,k=_*S;return T&&(D=Math.floor(D),k=Math.floor(k)),(D!==C||k!==_)&&(I.width=D+"px",I.height=k+"px"),this.refresh(A,M)},setZoom:function(C){return this.zoom=C,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(C,_){return C===void 0&&(C=0),_===void 0&&(_=C),this.displaySize.setSnap(C,_),this.refresh()},refresh:function(C,_){C===void 0&&(C=this.width),_===void 0&&(_=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var S=this.game.domContainer;if(S){this.baseSize.setCSS(S);var T=this.canvas.style,A=S.style;A.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",A.marginLeft=T.marginLeft,A.marginTop=T.marginTop}return this.emit(c.RESIZE,this.gameSize,this.baseSize,this.displaySize,C,_),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var C=m(this.width,this.height);C!==this.orientation&&(this.orientation=C,this.emit(c.ORIENTATION_CHANGE,C))}},updateScale:function(){var C=this.canvas.style,_=this.gameSize.width,S=this.gameSize.height,T,A,M=this.zoom,I=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(_*M,S*M),T=this.displaySize.width,A=this.displaySize.height,I&&(T=Math.floor(T),A=Math.floor(A)),this._resetZoom&&(C.width=T+"px",C.height=A+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),T=this.displaySize.width,A=this.displaySize.height,I&&(T=Math.floor(T),A=Math.floor(A)),this.canvas.width=T,this.canvas.height=A;else if(this.scaleMode===o.SCALE_MODE.EXPAND){var D=this.game.config.width,k=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),T=this.displaySize.width,A=this.displaySize.height,I&&(T=Math.floor(T),A=Math.floor(A)),C.width=T+"px",C.height=A+"px";var G=this.parentSize.width/D,R=this.parentSize.height/k;G<R&&G!==0?this.baseSize.setSize(D,this.parentSize.height/G):R!==0&&this.baseSize.setSize(this.displaySize.width/R,k),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),T=this.baseSize.width,A=this.baseSize.height,I&&(T=Math.floor(T),A=Math.floor(A)),this.canvas.width=T,this.canvas.height=A}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),T=this.displaySize.width,A=this.displaySize.height,I&&(T=Math.floor(T),A=Math.floor(A)),C.width=T+"px",C.height=A+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var C=y(this.parentSize.width,this.gameSize.width,0,!0),_=y(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(C,_),1)},updateCenter:function(){var C=this.autoCenter;if(C!==o.CENTER.NO_CENTER){var _=this.canvas,S=_.style,T=_.getBoundingClientRect(),A=T.width,M=T.height,I=Math.floor((this.parentSize.width-A)/2),D=Math.floor((this.parentSize.height-M)/2);C===o.CENTER.CENTER_HORIZONTALLY?D=0:C===o.CENTER.CENTER_VERTICALLY&&(I=0),S.marginLeft=I+"px",S.marginTop=D+"px"}},updateBounds:function(){var C=this.canvasBounds,_=this.canvas.getBoundingClientRect();C.x=_.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),C.y=_.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),C.width=_.width,C.height=_.height},transformX:function(C){return(C-this.canvasBounds.left)*this.displayScale.x},transformY:function(C){return(C-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(C){C===void 0&&(C={navigationUI:"hide"});var _=this.fullscreen;if(!_.available){this.emit(c.FULLSCREEN_UNSUPPORTED);return}if(!_.active){var S=this.getFullscreenTarget();_.keyboard?S[_.request](Element.ALLOW_KEYBOARD_INPUT):S[_.request](C)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(c.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(C){this.removeFullscreenTarget(),this.emit(c.FULLSCREEN_FAILED,C)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var C=document.createElement("div");C.style.margin="0",C.style.padding="0",C.style.width="100%",C.style.height="100%",this.fullscreenTarget=C,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var _=this.canvas.parentNode;_.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var C=this.fullscreenTarget;if(C&&C.parentNode){var _=C.parentNode;_.insertBefore(this.canvas,C),_.removeChild(C)}}},stopFullscreen:function(){var C=this.fullscreen;if(!C.available)return this.emit(c.FULLSCREEN_UNSUPPORTED),!1;C.active&&document[C.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(c.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(C){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(C)},startListeners:function(){var C=this,_=this.domlisteners;if(_.orientationChange=function(){C.updateBounds(),C._checkOrientation=!0,C.dirty=!0,C.refresh()},_.windowResize=function(){C.updateBounds(),C.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",_.orientationChange,!1):window.addEventListener("orientationchange",_.orientationChange,!1),window.addEventListener("resize",_.windowResize,!1),this.fullscreen.available){_.fullScreenChange=function(T){return C.onFullScreenChange(T)},_.fullScreenError=function(T){return C.onFullScreenError(T)};var S=["webkit","moz",""];S.forEach(function(T){document.addEventListener(T+"fullscreenchange",_.fullScreenChange,!1),document.addEventListener(T+"fullscreenerror",_.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",_.fullScreenChange,!1),document.addEventListener("MSFullscreenError",_.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(C,_){C instanceof b||(_=C,C=void 0),_===void 0&&(_=new g);var S=this.baseSize,T=this.parentSize,A=this.canvasBounds,M=this.displayScale,I=A.x>=0?0:-(A.x*M.x),D=A.y>=0?0:-(A.y*M.y),k;T.width>=A.width?k=S.width:k=S.width-(A.width-T.width)*M.x;var G;return T.height>=A.height?G=S.height:G=S.height-(A.height-T.height)*M.y,_.setTo(I,D,k,G),C&&(_.width/=C.zoomX,_.height/=C.zoomY,_.centerX=C.centerX+C.scrollX,_.centerY=C.centerY+C.scrollY),_},step:function(C,_){this.parent&&(this._lastCheck+=_,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var C=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",C.orientationChange,!1):window.removeEventListener("orientationchange",C.orientationChange,!1),window.removeEventListener("resize",C.windowResize,!1);var _=["webkit","moz",""];_.forEach(function(S){document.removeEventListener(S+"fullscreenchange",C.fullScreenChange,!1),document.removeEventListener(S+"fullscreenerror",C.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",C.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",C.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});n.exports=w},64743:n=>{n.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:n=>{n.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:n=>{n.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:n=>{n.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(n,a,s)=>{var o={CENTER:s(64743),ORIENTATION:s(39218),SCALE_MODE:s(81050),ZOOM:s(80805)};n.exports=o},56139:n=>{n.exports="enterfullscreen"},2336:n=>{n.exports="fullscreenfailed"},47412:n=>{n.exports="fullscreenunsupported"},51452:n=>{n.exports="leavefullscreen"},20666:n=>{n.exports="orientationchange"},47945:n=>{n.exports="resize"},97480:(n,a,s)=>{n.exports={ENTER_FULLSCREEN:s(56139),FULLSCREEN_FAILED:s(2336),FULLSCREEN_UNSUPPORTED:s(47412),LEAVE_FULLSCREEN:s(51452),ORIENTATION_CHANGE:s(20666),RESIZE:s(47945)}},93364:(n,a,s)=>{var o=s(79291),u=s(13560),l={Center:s(64743),Events:s(97480),Orientation:s(39218),ScaleManager:s(76531),ScaleModes:s(81050),Zoom:s(80805)};l=o(!1,l,u.CENTER),l=o(!1,l,u.ORIENTATION),l=o(!1,l,u.SCALE_MODE),l=o(!1,l,u.ZOOM),n.exports=l},27397:(n,a,s)=>{var o=s(95540),u=s(35355),l=function(c){var h=c.game.config.defaultPhysicsSystem,d=o(c.settings,"physics",!1);if(!(!h&&!d)){var f=[];if(h&&f.push(u(h+"Physics")),d)for(var m in d)m=u(m.concat("Physics")),f.indexOf(m)===-1&&f.push(m);return f}};n.exports=l},52106:(n,a,s)=>{var o=s(95540),u=function(l){var c=l.plugins.getDefaultScenePlugins(),h=o(l.settings,"plugins",!1);return Array.isArray(h)?h:c||[]};n.exports=u},87033:n=>{var a={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};n.exports=a},97482:(n,a,s)=>{var o=s(83419),u=s(2368),l=new o({initialize:function(h){this.sys=new u(this,h),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});n.exports=l},60903:(n,a,s)=>{var o=s(83419),u=s(89993),l=s(44594),c=s(8443),h=s(35154),d=s(54899),f=s(29747),m=s(97482),p=s(2368),g=new o({initialize:function(y,x){if(this.game=y,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,x){Array.isArray(x)||(x=[x]);for(var b=0;b<x.length;b++)this._pending.push({key:"default",scene:x[b],autoStart:b===0,data:{}})}y.events.once(c.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new m),this.game.events.emit(c.SYSTEM_READY,this.systemScene,this);var v,y,x,b;for(v=0;v<this._pending.length;v++){y=this._pending[v],x=y.key,b=y.scene;var w;b instanceof m?w=this.createSceneFromInstance(x,b):typeof b=="object"?w=this.createSceneFromObject(x,b):typeof b=="function"&&(w=this.createSceneFromFunction(x,b)),x=w.sys.settings.key,this.keys[x]=w,this.scenes.push(w),this._data[x]&&(w.sys.settings.data=this._data[x].data,this._data[x].autoStart&&(y.autoStart=!0)),(y.autoStart||w.sys.settings.active)&&this._start.push(x)}for(this._pending.length=0,this._data={},this.isBooted=!0,v=0;v<this._start.length;v++)y=this._start[v],this.start(y);this._start.length=0}},processQueue:function(){var v=this._pending.length,y=this._queue.length;if(!(v===0&&y===0)){var x,b;if(v){for(x=0;x<v;x++)b=this._pending[x],this.add(b.key,b.scene,b.autoStart,b.data);for(x=0;x<this._start.length;x++)b=this._start[x],this.start(b);this._start.length=0,this._pending.length=0}for(x=0;x<this._queue.length;x++)b=this._queue[x],this[b.op](b.keyA,b.keyB,b.data);this._queue.length=0}},add:function(v,y,x,b){if(x===void 0&&(x=!1),b===void 0&&(b={}),this.isProcessing||!this.isBooted)return this._pending.push({key:v,scene:y,autoStart:x,data:b}),this.isBooted||(this._data[v]={data:b}),null;v=this.getKey(v,y);var w;return y instanceof m?w=this.createSceneFromInstance(v,y):typeof y=="object"?(y.key=v,w=this.createSceneFromObject(v,y)):typeof y=="function"&&(w=this.createSceneFromFunction(v,y)),w.sys.settings.data=b,v=w.sys.settings.key,this.keys[v]=w,this.scenes.push(w),(x||w.sys.settings.active)&&(this._pending.length?this._start.push(v):this.start(v)),w},remove:function(v){if(this.isProcessing)return this.queueOp("remove",v);var y=this.getScene(v);if(!y||y.sys.isTransitioning())return this;var x=this.scenes.indexOf(y),b=y.sys.settings.key;return x>-1&&(delete this.keys[b],this.scenes.splice(x,1),this._start.indexOf(b)>-1&&(x=this._start.indexOf(b),this._start.splice(x,1)),y.sys.destroy()),this},bootScene:function(v){var y=v.sys,x=y.settings;y.sceneUpdate=f,v.init&&(v.init.call(v,x.data),x.status=u.INIT,x.isTransition&&y.events.emit(l.TRANSITION_INIT,x.transitionFrom,x.transitionDuration));var b;y.load&&(b=y.load,b.reset()),b&&v.preload?(v.preload.call(v),x.status=u.LOADING,b.once(d.COMPLETE,this.loadComplete,this),b.start()):this.create(v)},loadComplete:function(v){this.create(v.scene)},payloadComplete:function(v){this.bootScene(v.scene)},update:function(v,y){this.processQueue(),this.isProcessing=!0;for(var x=this.scenes.length-1;x>=0;x--){var b=this.scenes[x].sys;b.settings.status>u.START&&b.settings.status<=u.RUNNING&&b.step(v,y),b.scenePlugin&&b.scenePlugin._target&&b.scenePlugin.step(v,y)}},render:function(v){for(var y=0;y<this.scenes.length;y++){var x=this.scenes[y].sys;x.settings.visible&&x.settings.status>=u.LOADING&&x.settings.status<u.SLEEPING&&x.render(v)}this.isProcessing=!1},create:function(v){var y=v.sys,x=y.settings;v.create&&(x.status=u.CREATING,v.create.call(v,x.data),x.status===u.DESTROYED)||(x.isTransition&&y.events.emit(l.TRANSITION_START,x.transitionFrom,x.transitionDuration),v.update&&(y.sceneUpdate=v.update),x.status=u.RUNNING,y.events.emit(l.CREATE,v))},createSceneFromFunction:function(v,y){var x=new y;if(x instanceof m){var b=x.sys.settings.key;if(b!==""&&(v=b),this.keys.hasOwnProperty(v))throw new Error("Cannot add Scene with duplicate key: "+v);return this.createSceneFromInstance(v,x)}else return x.sys=new p(x),x.sys.settings.key=v,x.sys.init(this.game),x},createSceneFromInstance:function(v,y){var x=y.sys.settings.key;return x===""&&(y.sys.settings.key=v),y.sys.init(this.game),y},createSceneFromObject:function(v,y){var x=new m(y),b=x.sys.settings.key;b!==""?v=b:x.sys.settings.key=v,x.sys.init(this.game);for(var w=["init","preload","create","update","render"],C=0;C<w.length;C++){var _=h(y,w[C],null);_&&(x[w[C]]=_)}if(y.hasOwnProperty("extend")){for(var S in y.extend)if(y.extend.hasOwnProperty(S)){var T=y.extend[S];S==="data"&&x.hasOwnProperty("data")&&typeof T=="object"?x.data.merge(T):S!=="sys"&&(x[S]=T)}}return x},getKey:function(v,y){if(v||(v="default"),typeof y=="function")return v;if(y instanceof m?v=y.sys.settings.key:typeof y=="object"&&y.hasOwnProperty("key")&&(v=y.key),this.keys.hasOwnProperty(v))throw new Error("Cannot add Scene with duplicate key: "+v);return v},getScenes:function(v,y){v===void 0&&(v=!0),y===void 0&&(y=!1);for(var x=[],b=this.scenes,w=0;w<b.length;w++){var C=b[w];C&&(!v||v&&C.sys.isActive())&&x.push(C)}return y?x.reverse():x},getScene:function(v){if(typeof v=="string"){if(this.keys[v])return this.keys[v]}else for(var y=0;y<this.scenes.length;y++)if(v===this.scenes[y])return v;return null},isActive:function(v){var y=this.getScene(v);return y?y.sys.isActive():null},isPaused:function(v){var y=this.getScene(v);return y?y.sys.isPaused():null},isVisible:function(v){var y=this.getScene(v);return y?y.sys.isVisible():null},isSleeping:function(v){var y=this.getScene(v);return y?y.sys.isSleeping():null},pause:function(v,y){var x=this.getScene(v);return x&&x.sys.pause(y),this},resume:function(v,y){var x=this.getScene(v);return x&&x.sys.resume(y),this},sleep:function(v,y){var x=this.getScene(v);return x&&!x.sys.isTransitioning()&&x.sys.sleep(y),this},wake:function(v,y){var x=this.getScene(v);return x&&x.sys.wake(y),this},run:function(v,y){var x=this.getScene(v);if(!x){for(var b=0;b<this._pending.length;b++)if(this._pending[b].key===v){this.queueOp("start",v,y);break}return this}x.sys.isSleeping()?x.sys.wake(y):x.sys.isPaused()?x.sys.resume(y):this.start(v,y)},start:function(v,y){if(!this.isBooted)return this._data[v]={autoStart:!0,data:y},this;var x=this.getScene(v);if(!x)return console.warn("Scene key not found: "+v),this;var b=x.sys,w=b.settings.status;if(w>=u.START&&w<=u.CREATING)return this;if(w>=u.RUNNING&&w<=u.SLEEPING)b.shutdown(),b.sceneUpdate=f,b.start(y);else{b.sceneUpdate=f,b.start(y);var C;if(b.load&&(C=b.load),C&&b.settings.hasOwnProperty("pack")&&(C.reset(),C.addPack({payload:b.settings.pack})))return b.settings.status=u.LOADING,C.once(d.COMPLETE,this.payloadComplete,this),C.start(),this}return this.bootScene(x),this},stop:function(v,y){var x=this.getScene(v);if(x&&!x.sys.isTransitioning()&&x.sys.settings.status!==u.SHUTDOWN){var b=x.sys.load;b&&(b.off(d.COMPLETE,this.loadComplete,this),b.off(d.COMPLETE,this.payloadComplete,this)),x.sys.shutdown(y)}return this},switch:function(v,y,x){var b=this.getScene(v),w=this.getScene(y);return b&&w&&b!==w&&(this.sleep(v),this.isSleeping(y)?this.wake(y,x):this.start(y,x)),this},getAt:function(v){return this.scenes[v]},getIndex:function(v){var y=this.getScene(v);return this.scenes.indexOf(y)},bringToTop:function(v){if(this.isProcessing)return this.queueOp("bringToTop",v);var y=this.getIndex(v),x=this.scenes;if(y!==-1&&y<x.length){var b=this.getScene(v);x.splice(y,1),x.push(b)}return this},sendToBack:function(v){if(this.isProcessing)return this.queueOp("sendToBack",v);var y=this.getIndex(v);if(y!==-1&&y>0){var x=this.getScene(v);this.scenes.splice(y,1),this.scenes.unshift(x)}return this},moveDown:function(v){if(this.isProcessing)return this.queueOp("moveDown",v);var y=this.getIndex(v);if(y>0){var x=y-1,b=this.getScene(v),w=this.getAt(x);this.scenes[y]=w,this.scenes[x]=b}return this},moveUp:function(v){if(this.isProcessing)return this.queueOp("moveUp",v);var y=this.getIndex(v);if(y<this.scenes.length-1){var x=y+1,b=this.getScene(v),w=this.getAt(x);this.scenes[y]=w,this.scenes[x]=b}return this},moveAbove:function(v,y){if(v===y)return this;if(this.isProcessing)return this.queueOp("moveAbove",v,y);var x=this.getIndex(v),b=this.getIndex(y);if(x!==-1&&b!==-1&&b<x){var w=this.getAt(b);this.scenes.splice(b,1),this.scenes.splice(x+(b>x),0,w)}return this},moveBelow:function(v,y){if(v===y)return this;if(this.isProcessing)return this.queueOp("moveBelow",v,y);var x=this.getIndex(v),b=this.getIndex(y);if(x!==-1&&b!==-1&&b>x){var w=this.getAt(b);this.scenes.splice(b,1),x===0?this.scenes.unshift(w):this.scenes.splice(x-(b<x),0,w)}return this},queueOp:function(v,y,x,b){return this._queue.push({op:v,keyA:y,keyB:x,data:b}),this},swapPosition:function(v,y){if(v===y)return this;if(this.isProcessing)return this.queueOp("swapPosition",v,y);var x=this.getIndex(v),b=this.getIndex(y);if(x!==b&&x!==-1&&b!==-1){var w=this.getAt(x);this.scenes[x]=this.scenes[b],this.scenes[b]=w}return this},dump:function(){for(var v=[],y=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],x=0;x<this.scenes.length;x++){var b=this.scenes[x].sys,w=b.settings.visible&&(b.settings.status===u.RUNNING||b.settings.status===u.PAUSED)?"[*] ":"[-] ";w+=b.settings.key+" ("+y[b.settings.status]+")",v.push(w)}console.log(v.join(`
`))},destroy:function(){for(var v=0;v<this.scenes.length;v++){var y=this.scenes[v].sys;y.destroy()}this.systemScene.sys.destroy(),this.update=f,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});n.exports=g},52209:(n,a,s)=>{var o=s(45319),u=s(83419),l=s(44594),c=s(95540),h=s(37277),d=new u({initialize:function(m){this.scene=m,this.systems=m.sys,this.settings=m.sys.settings,this.key=m.sys.settings.key,this.manager=m.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,m.sys.events.once(l.BOOT,this.boot,this),m.sys.events.on(l.START,this.pluginStart,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(l.SHUTDOWN,this.shutdown,this)},start:function(f,m){return f===void 0&&(f=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",f,m),this},restart:function(f){var m=this.key;return this.manager.queueOp("stop",m),this.manager.queueOp("start",m,f),this},transition:function(f){f===void 0&&(f={});var m=c(f,"target",!1),p=this.manager.getScene(m);if(!m||!this.checkValidTransition(p))return!1;var g=c(f,"duration",1e3);this._elapsed=0,this._target=p,this._duration=g,this._willSleep=c(f,"sleep",!1),this._willRemove=c(f,"remove",!1);var v=c(f,"onUpdate",null);v&&(this._onUpdate=v,this._onUpdateScope=c(f,"onUpdateScope",this.scene));var y=c(f,"allowInput",!1);this.settings.transitionAllowInput=y;var x=p.sys.settings;x.isTransition=!0,x.transitionFrom=this.scene,x.transitionDuration=g,x.transitionAllowInput=y,c(f,"moveAbove",!1)?this.manager.moveAbove(this.key,m):c(f,"moveBelow",!1)&&this.manager.moveBelow(this.key,m),p.sys.isSleeping()?p.sys.wake(c(f,"data")):this.manager.start(m,c(f,"data"));var b=c(f,"onStart",null),w=c(f,"onStartScope",this.scene);return b&&b.call(w,this.scene,p,g),this.systems.events.emit(l.TRANSITION_OUT,p,g),!0},checkValidTransition:function(f){return!(!f||f.sys.isActive()||f.sys.isTransitioning()||f===this.scene||this.systems.isTransitioning())},step:function(f,m){this._elapsed+=m,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var f=this._target.sys,m=this._target.sys.settings;f.events.emit(l.TRANSITION_COMPLETE,this.scene),m.isTransition=!1,m.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(f,m,p,g){return this.manager.add(f,m,p,g)},launch:function(f,m){return f&&f!==this.key&&this.manager.queueOp("start",f,m),this},run:function(f,m){return f&&f!==this.key&&this.manager.queueOp("run",f,m),this},pause:function(f,m){return f===void 0&&(f=this.key),this.manager.queueOp("pause",f,m),this},resume:function(f,m){return f===void 0&&(f=this.key),this.manager.queueOp("resume",f,m),this},sleep:function(f,m){return f===void 0&&(f=this.key),this.manager.queueOp("sleep",f,m),this},wake:function(f,m){return f===void 0&&(f=this.key),this.manager.queueOp("wake",f,m),this},switch:function(f,m){return f!==this.key&&this.manager.queueOp("switch",this.key,f,m),this},stop:function(f,m){return f===void 0&&(f=this.key),this.manager.queueOp("stop",f,m),this},setActive:function(f,m,p){m===void 0&&(m=this.key);var g=this.manager.getScene(m);return g&&g.sys.setActive(f,p),this},setVisible:function(f,m){m===void 0&&(m=this.key);var p=this.manager.getScene(m);return p&&p.sys.setVisible(f),this},isSleeping:function(f){return f===void 0&&(f=this.key),this.manager.isSleeping(f)},isActive:function(f){return f===void 0&&(f=this.key),this.manager.isActive(f)},isPaused:function(f){return f===void 0&&(f=this.key),this.manager.isPaused(f)},isVisible:function(f){return f===void 0&&(f=this.key),this.manager.isVisible(f)},swapPosition:function(f,m){return m===void 0&&(m=this.key),f!==m&&this.manager.swapPosition(f,m),this},moveAbove:function(f,m){return m===void 0&&(m=this.key),f!==m&&this.manager.moveAbove(f,m),this},moveBelow:function(f,m){return m===void 0&&(m=this.key),f!==m&&this.manager.moveBelow(f,m),this},remove:function(f){return f===void 0&&(f=this.key),this.manager.remove(f),this},moveUp:function(f){return f===void 0&&(f=this.key),this.manager.moveUp(f),this},moveDown:function(f){return f===void 0&&(f=this.key),this.manager.moveDown(f),this},bringToTop:function(f){return f===void 0&&(f=this.key),this.manager.bringToTop(f),this},sendToBack:function(f){return f===void 0&&(f=this.key),this.manager.sendToBack(f),this},get:function(f){return this.manager.getScene(f)},getStatus:function(f){var m=this.manager.getScene(f);if(m)return m.sys.getStatus()},getIndex:function(f){return f===void 0&&(f=this.key),this.manager.getIndex(f)},shutdown:function(){var f=this.systems.events;f.off(l.SHUTDOWN,this.shutdown,this),f.off(l.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});h.register("ScenePlugin",d,"scenePlugin"),n.exports=d},55681:(n,a,s)=>{var o=s(89993),u=s(35154),l=s(46975),c=s(87033),h={create:function(d){return typeof d=="string"?d={key:d}:d===void 0&&(d={}),{status:o.PENDING,key:u(d,"key",""),active:u(d,"active",!1),visible:u(d,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:u(d,"pack",!1),cameras:u(d,"cameras",null),map:u(d,"map",l(c,u(d,"mapAdd",{}))),physics:u(d,"physics",{}),loader:u(d,"loader",{}),plugins:u(d,"plugins",!1),input:u(d,"input",{})}}};n.exports=h},2368:(n,a,s)=>{var o=s(83419),u=s(89993),l=s(42363),c=s(44594),h=s(27397),d=s(52106),f=s(29747),m=s(55681),p=new o({initialize:function(v,y){this.scene=v,this.game,this.renderer,this.config=y,this.settings=m.create(y),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=f},init:function(g){this.settings.status=u.INIT,this.sceneUpdate=f,this.game=g,this.renderer=g.renderer,this.canvas=g.canvas,this.context=g.context;var v=g.plugins;this.plugins=v,v.addToScene(this,l.Global,[l.CoreScene,d(this),h(this)]),this.events.emit(c.BOOT,this),this.settings.isBooted=!0},step:function(g,v){var y=this.events;y.emit(c.PRE_UPDATE,g,v),y.emit(c.UPDATE,g,v),this.sceneUpdate.call(this.scene,g,v),y.emit(c.POST_UPDATE,g,v)},render:function(g){var v=this.displayList;v.depthSort(),this.events.emit(c.PRE_RENDER,g),this.cameras.render(g,v),this.events.emit(c.RENDER,g)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(g){var v=this.settings,y=this.getStatus();return y!==u.CREATING&&y!==u.RUNNING?console.warn("Cannot pause non-running Scene",v.key):this.settings.active&&(v.status=u.PAUSED,v.active=!1,this.events.emit(c.PAUSE,this,g)),this},resume:function(g){var v=this.events,y=this.settings;return this.settings.active||(y.status=u.RUNNING,y.active=!0,v.emit(c.RESUME,this,g)),this},sleep:function(g){var v=this.settings,y=this.getStatus();return y!==u.CREATING&&y!==u.RUNNING?console.warn("Cannot sleep non-running Scene",v.key):(v.status=u.SLEEPING,v.active=!1,v.visible=!1,this.events.emit(c.SLEEP,this,g)),this},wake:function(g){var v=this.events,y=this.settings;return y.status=u.RUNNING,y.active=!0,y.visible=!0,v.emit(c.WAKE,this,g),y.isTransition&&v.emit(c.TRANSITION_WAKE,y.transitionFrom,y.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var g=this.settings.status;return g>u.PENDING&&g<=u.RUNNING},isSleeping:function(){return this.settings.status===u.SLEEPING},isActive:function(){return this.settings.status===u.RUNNING},isPaused:function(){return this.settings.status===u.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(g){return this.settings.visible=g,this},setActive:function(g,v){return g?this.resume(v):this.pause(v)},start:function(g){var v=this.events,y=this.settings;g&&(y.data=g),y.status=u.START,y.active=!0,y.visible=!0,v.emit(c.START,this),v.emit(c.READY,this,g)},shutdown:function(g){var v=this.events,y=this.settings;v.off(c.TRANSITION_INIT),v.off(c.TRANSITION_START),v.off(c.TRANSITION_COMPLETE),v.off(c.TRANSITION_OUT),y.status=u.SHUTDOWN,y.active=!1,y.visible=!1,v.emit(c.SHUTDOWN,this,g)},destroy:function(){var g=this.events,v=this.settings;v.status=u.DESTROYED,v.active=!1,v.visible=!1,g.emit(c.DESTROY,this),g.removeAllListeners();for(var y=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],x=0;x<y.length;x++)this[y[x]]=null}});n.exports=p},89993:n=>{var a={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};n.exports=a},69830:n=>{n.exports="addedtoscene"},7919:n=>{n.exports="boot"},46763:n=>{n.exports="create"},11763:n=>{n.exports="destroy"},71555:n=>{n.exports="pause"},36735:n=>{n.exports="postupdate"},3809:n=>{n.exports="prerender"},90716:n=>{n.exports="preupdate"},58262:n=>{n.exports="ready"},91633:n=>{n.exports="removedfromscene"},10319:n=>{n.exports="render"},87132:n=>{n.exports="resume"},81961:n=>{n.exports="shutdown"},90194:n=>{n.exports="sleep"},6265:n=>{n.exports="start"},33178:n=>{n.exports="transitioncomplete"},43063:n=>{n.exports="transitioninit"},11259:n=>{n.exports="transitionout"},61611:n=>{n.exports="transitionstart"},45209:n=>{n.exports="transitionwake"},22966:n=>{n.exports="update"},21747:n=>{n.exports="wake"},44594:(n,a,s)=>{n.exports={ADDED_TO_SCENE:s(69830),BOOT:s(7919),CREATE:s(46763),DESTROY:s(11763),PAUSE:s(71555),POST_UPDATE:s(36735),PRE_RENDER:s(3809),PRE_UPDATE:s(90716),READY:s(58262),REMOVED_FROM_SCENE:s(91633),RENDER:s(10319),RESUME:s(87132),SHUTDOWN:s(81961),SLEEP:s(90194),START:s(6265),TRANSITION_COMPLETE:s(33178),TRANSITION_INIT:s(43063),TRANSITION_OUT:s(11259),TRANSITION_START:s(61611),TRANSITION_WAKE:s(45209),UPDATE:s(22966),WAKE:s(21747)}},62194:(n,a,s)=>{var o=s(89993),u=s(79291),l={Events:s(44594),GetPhysicsPlugins:s(27397),GetScenePlugins:s(52106),SceneManager:s(60903),ScenePlugin:s(52209),Settings:s(55681),Systems:s(2368)};l=u(!1,l,o),n.exports=l},30341:(n,a,s)=>{var o=s(83419),u=s(50792),l=s(14463),c=s(79291),h=s(29747),d=new o({Extends:u,initialize:function(m,p,g){u.call(this),this.manager=m,this.key=p,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=c(this.config,g),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(f){return!f||!f.name||typeof f.name!="string"?!1:this.markers[f.name]?(console.error("addMarker "+f.name+" already exists in Sound"),!1):(f=c(!0,{name:"",start:0,duration:this.totalDuration-(f.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},f),this.markers[f.name]=f,!0)},updateMarker:function(f){return!f||!f.name||typeof f.name!="string"?!1:this.markers[f.name]?(this.markers[f.name]=c(!0,this.markers[f.name],f),!0):(console.warn("Audio Marker: "+f.name+" missing in Sound: "+this.key),!1)},removeMarker:function(f){var m=this.markers[f];return m?(this.markers[f]=null,m):null},play:function(f,m){if(f===void 0&&(f=""),typeof f=="object"&&(m=f,f=""),typeof f!="string")return!1;if(!f)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[f])return console.warn("Marker: "+f+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[f],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=c(this.currentConfig,m),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:h,calculateRate:function(){var f=1.0005777895065548,m=this.currentConfig.detune+this.manager.detune,p=Math.pow(f,m);this.totalRate=this.currentConfig.rate*this.manager.rate*p},destroy:function(){this.pendingRemove||(this.stop(),this.emit(l.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});n.exports=d},85034:(n,a,s)=>{var o=s(83419),u=s(41786),l=s(50792),c=s(14463),h=s(8443),d=s(46710),f=s(58731),m=s(29747),p=s(26099),g=new o({Extends:l,initialize:function(y){l.call(this),this.game=y,this.jsonCache=y.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new p,y.events.on(h.BLUR,this.onGameBlur,this),y.events.on(h.FOCUS,this.onGameFocus,this),y.events.on(h.PRE_STEP,this.update,this),y.events.once(h.DESTROY,this.destroy,this)},add:m,addAudioSprite:function(v,y){y===void 0&&(y={});var x=this.add(v,y);x.spritemap=this.jsonCache.get(v).spritemap;for(var b in x.spritemap)if(x.spritemap.hasOwnProperty(b)){var w=u(y),C=x.spritemap[b];w.loop=C.hasOwnProperty("loop")?C.loop:!1,x.addMarker({name:b,start:C.start,duration:C.end-C.start,config:w})}return x},get:function(v){return f(this.sounds,"key",v)},getAll:function(v){return v?d(this.sounds,"key",v):d(this.sounds)},getAllPlaying:function(){return d(this.sounds,"isPlaying",!0)},play:function(v,y){var x=this.add(v);return x.once(c.COMPLETE,x.destroy,x),y?y.name?(x.addMarker(y),x.play(y.name)):x.play(y):x.play()},playAudioSprite:function(v,y,x){var b=this.addAudioSprite(v);return b.once(c.COMPLETE,b.destroy,b),b.play(y,x)},remove:function(v){var y=this.sounds.indexOf(v);return y!==-1?(v.destroy(),this.sounds.splice(y,1),!0):!1},removeAll:function(){this.sounds.forEach(function(v){v.destroy()}),this.sounds.length=0},removeByKey:function(v){for(var y=0,x=this.sounds.length-1;x>=0;x--){var b=this.sounds[x];b.key===v&&(b.destroy(),this.sounds.splice(x,1),y++)}return y},pauseAll:function(){this.forEachActiveSound(function(v){v.pause()}),this.emit(c.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(v){v.resume()}),this.emit(c.RESUME_ALL,this)},setListenerPosition:m,stopAll:function(){this.forEachActiveSound(function(v){v.stop()}),this.emit(c.STOP_ALL,this)},stopByKey:function(v){var y=0;return this.getAll(v).forEach(function(x){x.stop()&&y++}),y},isPlaying:function(v){var y=this.sounds,x=y.length-1,b;if(v===void 0){for(;x>=0;x--)if(b=this.sounds[x],b.isPlaying)return!0}else for(;x>=0;x--)if(b=this.sounds[x],b.key===v&&b.isPlaying)return!0;return!1},unlock:m,onBlur:m,onFocus:m,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(v,y){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(c.UNLOCKED,this));for(var x=this.sounds.length-1;x>=0;x--)this.sounds[x].pendingRemove&&this.sounds.splice(x,1);this.sounds.forEach(function(b){b.update(v,y)})},destroy:function(){this.game.events.off(h.BLUR,this.onGameBlur,this),this.game.events.off(h.FOCUS,this.onGameFocus,this),this.game.events.off(h.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(v,y){var x=this;this.sounds.forEach(function(b,w){b&&!b.pendingRemove&&v.call(y||x,b,w,x.sounds)})},setRate:function(v){return this.rate=v,this},rate:{get:function(){return this._rate},set:function(v){this._rate=v,this.forEachActiveSound(function(y){y.calculateRate()}),this.emit(c.GLOBAL_RATE,this,v)}},setDetune:function(v){return this.detune=v,this},detune:{get:function(){return this._detune},set:function(v){this._detune=v,this.forEachActiveSound(function(y){y.calculateRate()}),this.emit(c.GLOBAL_DETUNE,this,v)}}});n.exports=g},14747:(n,a,s)=>{var o=s(33684),u=s(25960),l=s(57490),c={create:function(h){var d=h.config.audio,f=h.device.audio;return d.noAudio||!f.webAudio&&!f.audioData?new u(h):f.webAudio&&!d.disableWebAudio?new l(h):new o(h)}};n.exports=c},19723:n=>{n.exports="complete"},98882:n=>{n.exports="decodedall"},57506:n=>{n.exports="decoded"},73146:n=>{n.exports="destroy"},11305:n=>{n.exports="detune"},40577:n=>{n.exports="detune"},30333:n=>{n.exports="mute"},20394:n=>{n.exports="rate"},21802:n=>{n.exports="volume"},1299:n=>{n.exports="looped"},99190:n=>{n.exports="loop"},97125:n=>{n.exports="mute"},89259:n=>{n.exports="pan"},79986:n=>{n.exports="pauseall"},17586:n=>{n.exports="pause"},19618:n=>{n.exports="play"},42306:n=>{n.exports="rate"},10387:n=>{n.exports="resumeall"},48959:n=>{n.exports="resume"},9960:n=>{n.exports="seek"},19180:n=>{n.exports="stopall"},98328:n=>{n.exports="stop"},50401:n=>{n.exports="unlocked"},52498:n=>{n.exports="volume"},14463:(n,a,s)=>{n.exports={COMPLETE:s(19723),DECODED:s(57506),DECODED_ALL:s(98882),DESTROY:s(73146),DETUNE:s(11305),GLOBAL_DETUNE:s(40577),GLOBAL_MUTE:s(30333),GLOBAL_RATE:s(20394),GLOBAL_VOLUME:s(21802),LOOP:s(99190),LOOPED:s(1299),MUTE:s(97125),PAN:s(89259),PAUSE_ALL:s(79986),PAUSE:s(17586),PLAY:s(19618),RATE:s(42306),RESUME_ALL:s(10387),RESUME:s(48959),SEEK:s(9960),STOP_ALL:s(19180),STOP:s(98328),UNLOCKED:s(50401),VOLUME:s(52498)}},64895:(n,a,s)=>{var o=s(30341),u=s(83419),l=s(14463),c=s(45319),h=new u({Extends:o,initialize:function(f,m,p){if(p===void 0&&(p={}),this.tags=f.game.cache.audio.get(m),!this.tags)throw new Error('No cached audio asset with key "'+m);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,f,m,p)},play:function(d,f){return this.manager.isLocked(this,"play",[d,f])||!o.prototype.play.call(this,d,f)||!this.pickAndPlayAudioTag()?!1:(this.emit(l.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(l.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(l.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(l.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var d=this.currentConfig.seek,f=this.currentConfig.delay,m=(this.currentMarker?this.currentMarker.start:0)+d;return this.previousTime=m,this.audio.currentTime=m,this.applyConfig(),f===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+f*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var d=0;d<this.tags.length;d++){var f=this.tags[d];if(f.dataset.used==="false")return f.dataset.used="true",this.audio=f,!0}if(!this.manager.override)return!1;var m=[];this.manager.forEachActiveSound(function(g){g.key===this.key&&g.audio&&m.push(g)},this),m.sort(function(g,v){return g.loop===v.loop?v.seek/v.duration-g.seek/g.duration:g.loop?1:-1});var p=m[0];return this.audio=p.audio,p.reset(),p.audio=null,p.startTime=0,p.previousTime=0,!0},playCatchPromise:function(){var d=this.audio.play();d&&d.catch(function(f){console.warn(f)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(d){if(this.isPlaying){if(this.startTime>0){this.startTime<d-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,d-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var f=this.currentMarker?this.currentMarker.start:0,m=f+this.duration,p=this.audio.currentTime;if(this.currentConfig.loop)p>=m-this.manager.loopEndOffset?(this.audio.currentTime=f+Math.max(0,p-m),p=this.audio.currentTime):p<f&&(this.audio.currentTime+=f,p=this.audio.currentTime),p<this.previousTime&&this.emit(l.LOOPED,this);else if(p>=m){this.reset(),this.stopAndReleaseAudioTag(),this.emit(l.COMPLETE,this);return}this.previousTime=p}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=c(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(d){this.currentConfig.mute=d,!this.manager.isLocked(this,"mute",d)&&(this.updateMute(),this.emit(l.MUTE,this,d))}},setMute:function(d){return this.mute=d,this},volume:{get:function(){return this.currentConfig.volume},set:function(d){this.currentConfig.volume=d,!this.manager.isLocked(this,"volume",d)&&(this.updateVolume(),this.emit(l.VOLUME,this,d))}},setVolume:function(d){return this.volume=d,this},rate:{get:function(){return this.currentConfig.rate},set:function(d){this.currentConfig.rate=d,!this.manager.isLocked(this,l.RATE,d)&&(this.calculateRate(),this.emit(l.RATE,this,d))}},setRate:function(d){return this.rate=d,this},detune:{get:function(){return this.currentConfig.detune},set:function(d){this.currentConfig.detune=d,!this.manager.isLocked(this,l.DETUNE,d)&&(this.calculateRate(),this.emit(l.DETUNE,this,d))}},setDetune:function(d){return this.detune=d,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(d){this.manager.isLocked(this,"seek",d)||this.startTime>0||(this.isPlaying||this.isPaused)&&(d=Math.min(Math.max(0,d),this.duration),this.isPlaying?(this.previousTime=d,this.audio.currentTime=d):this.isPaused&&(this.currentConfig.seek=d),this.emit(l.SEEK,this,d))}},setSeek:function(d){return this.seek=d,this},loop:{get:function(){return this.currentConfig.loop},set:function(d){this.currentConfig.loop=d,!this.manager.isLocked(this,"loop",d)&&(this.audio&&(this.audio.loop=d),this.emit(l.LOOP,this,d))}},setLoop:function(d){return this.loop=d,this},pan:{get:function(){return this.currentConfig.pan},set:function(d){this.currentConfig.pan=d,this.emit(l.PAN,this,d)}},setPan:function(d){return this.pan=d,this}});n.exports=h},33684:(n,a,s)=>{var o=s(85034),u=s(83419),l=s(14463),c=s(64895),h=new u({Extends:o,initialize:function(f){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,f)},add:function(d,f){var m=new c(this,d,f);return this.sounds.push(m),m},unlock:function(){this.locked=!1;var d=this;if(this.game.cache.audio.entries.each(function(g,v){for(var y=0;y<v.length;y++)if(v[y].dataset.locked==="true")return d.locked=!0,!1;return!0}),!!this.locked){var f=!1,m=function(){f=!0},p=function(){if(f){f=!1;return}document.body.removeEventListener("touchmove",m),document.body.removeEventListener("touchend",p);var g=[];if(d.game.cache.audio.entries.each(function(y,x){for(var b=0;b<x.length;b++){var w=x[b];w.dataset.locked==="true"&&g.push(w)}return!0}),g.length!==0){var v=g[g.length-1];v.oncanplaythrough=function(){v.oncanplaythrough=null,g.forEach(function(y){y.dataset.locked="false"}),d.unlocked=!0},g.forEach(function(y){y.load()})}};this.once(l.UNLOCKED,function(){for(this.forEachActiveSound(function(v){v.currentMarker===null&&v.duration===0&&(v.duration=v.tags[0].duration),v.totalDuration=v.tags[0].duration});this.lockedActionsQueue.length;){var g=this.lockedActionsQueue.shift();g.sound[g.prop].apply?g.sound[g.prop].apply(g.sound,g.value||[]):g.sound[g.prop]=g.value}},this),document.body.addEventListener("touchmove",m,!1),document.body.addEventListener("touchend",p,!1)}},onBlur:function(){this.forEachActiveSound(function(d){d.isPlaying&&(this.onBlurPausedSounds.push(d),d.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(d){d.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(d,f,m){return d.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:d,prop:f,value:m}),!0):!1},setMute:function(d){return this.mute=d,this},mute:{get:function(){return this._mute},set:function(d){this._mute=d,this.forEachActiveSound(function(f){f.updateMute()}),this.emit(l.GLOBAL_MUTE,this,d)}},setVolume:function(d){return this.volume=d,this},volume:{get:function(){return this._volume},set:function(d){this._volume=d,this.forEachActiveSound(function(f){f.updateVolume()}),this.emit(l.GLOBAL_VOLUME,this,d)}}});n.exports=h},23717:(n,a,s)=>{n.exports={SoundManagerCreator:s(14747),Events:s(14463),BaseSound:s(30341),BaseSoundManager:s(85034),WebAudioSound:s(71741),WebAudioSoundManager:s(57490),HTML5AudioSound:s(64895),HTML5AudioSoundManager:s(33684),NoAudioSound:s(4603),NoAudioSoundManager:s(25960)}},4603:(n,a,s)=>{var o=s(30341),u=s(83419),l=s(50792),c=s(79291),h=s(29747),d=function(){return!1},f=function(){return null},m=function(){return this},p=new u({Extends:l,initialize:function(v,y,x){x===void 0&&(x={}),l.call(this),this.manager=v,this.key=y,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=c({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},x),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:d,updateMarker:d,removeMarker:f,play:d,pause:d,resume:d,stop:d,setMute:m,setVolume:m,setRate:m,setDetune:m,setSeek:m,setLoop:m,setPan:m,applyConfig:f,resetConfig:f,update:h,calculateRate:f,destroy:function(){o.prototype.destroy.call(this)}});n.exports=p},25960:(n,a,s)=>{var o=s(85034),u=s(83419),l=s(50792),c=s(4603),h=s(29747),d=new u({Extends:l,initialize:function(m){l.call(this),this.game=m,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(f,m){var p=new c(this,f,m);return this.sounds.push(p),p},addAudioSprite:function(f,m){var p=this.add(f,m);return p.spritemap={},p},get:function(f){return o.prototype.get.call(this,f)},getAll:function(f){return o.prototype.getAll.call(this,f)},play:function(f,m){return!1},playAudioSprite:function(f,m,p){return!1},remove:function(f){return o.prototype.remove.call(this,f)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(f){return o.prototype.removeByKey.call(this,f)},stopByKey:function(f){return o.prototype.stopByKey.call(this,f)},onBlur:h,onFocus:h,onGameBlur:h,onGameFocus:h,pauseAll:h,resumeAll:h,stopAll:h,update:h,setRate:h,setDetune:h,setMute:h,setVolume:h,unlock:h,forEachActiveSound:function(f,m){o.prototype.forEachActiveSound.call(this,f,m)},destroy:function(){o.prototype.destroy.call(this)}});n.exports=d},71741:(n,a,s)=>{var o=s(30341),u=s(83419),l=s(14463),c=s(95540),h=new u({Extends:o,initialize:function(f,m,p){if(p===void 0&&(p={}),this.audioBuffer=f.game.cache.audio.get(m),!this.audioBuffer)throw new Error('Audio key "'+m+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=f.context.createGain(),this.volumeNode=f.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),f.context.createPanner&&(this.spatialNode=f.context.createPanner(),this.volumeNode.connect(this.spatialNode)),f.context.createStereoPanner?(this.pannerNode=f.context.createStereoPanner(),f.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(f.destination)):f.context.createPanner?this.spatialNode.connect(f.destination):this.volumeNode.connect(f.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,f,m,p)},play:function(d,f){return o.prototype.play.call(this,d,f)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(l.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(l.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(l.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(l.STOP,this),!0):!1},createAndStartBufferSource:function(){var d=this.currentConfig.seek,f=this.currentConfig.delay,m=this.manager.context.currentTime+f,p=(this.currentMarker?this.currentMarker.start:0)+d,g=this.duration-d;this.playTime=m-d,this.startTime=m,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,m),Math.max(0,p),Math.max(0,g)),this.resetConfig()},createAndStartLoopBufferSource:function(){var d=this.getLoopTime(),f=this.currentMarker?this.currentMarker.start:0,m=this.duration;this.loopTime=d,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,d),Math.max(0,f),Math.max(0,m))},createBufferSource:function(){var d=this,f=this.manager.context.createBufferSource();return f.buffer=this.audioBuffer,f.connect(this.muteNode),f.onended=function(m){var p=m.target;(p===d.source||p===d.loopSource)&&(d.currentConfig.loop?d.hasLooped=!0:d.hasEnded=!0)},f},stopAndRemoveBufferSource:function(){if(this.source){var d=this.source;this.source=null,d.stop(),d.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var d=this.currentConfig.source;if(d&&this.manager.context.createPanner){var f=this.spatialNode;f.panningModel=c(d,"panningModel","equalpower"),f.distanceModel=c(d,"distanceModel","inverse"),f.orientationX.value=c(d,"orientationX",0),f.orientationY.value=c(d,"orientationY",0),f.orientationZ.value=c(d,"orientationZ",-1),f.refDistance=c(d,"refDistance",1),f.maxDistance=c(d,"maxDistance",1e4),f.rolloffFactor=c(d,"rolloffFactor",1),f.coneInnerAngle=c(d,"coneInnerAngle",360),f.coneOuterAngle=c(d,"coneOuterAngle",0),f.coneOuterGain=c(d,"coneOuterGain",0),this.spatialSource=c(d,"follow",null),this.spatialSource||(f.positionX.value=c(d,"x",0),f.positionY.value=c(d,"y",0),f.positionZ.value=c(d,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(d){this.spatialNode&&(this.spatialNode.positionX.value=d)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(d){this.spatialNode&&(this.spatialNode.positionY.value=d)}},update:function(){if(this.isPlaying&&this.spatialSource){var d=c(this.spatialSource,"x",null),f=c(this.spatialSource,"y",null);d&&d!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=d),f&&f!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=f)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(l.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(l.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var d=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,d),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,d)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var d=0,f=0;f<this.rateUpdates.length;f++){var m=0;f<this.rateUpdates.length-1?m=this.rateUpdates[f+1].time:m=this.manager.context.currentTime-this.playTime,d+=(m-this.rateUpdates[f].time)*this.rateUpdates[f].rate}return d},getLoopTime:function(){for(var d=0,f=0;f<this.rateUpdates.length-1;f++)d+=(this.rateUpdates[f+1].time-this.rateUpdates[f].time)*this.rateUpdates[f].rate;var m=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+m.time+(this.duration-d)/m.rate},rate:{get:function(){return this.currentConfig.rate},set:function(d){this.currentConfig.rate=d,this.calculateRate(),this.emit(l.RATE,this,d)}},setRate:function(d){return this.rate=d,this},detune:{get:function(){return this.currentConfig.detune},set:function(d){this.currentConfig.detune=d,this.calculateRate(),this.emit(l.DETUNE,this,d)}},setDetune:function(d){return this.detune=d,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(d){this.currentConfig.mute=d,this.muteNode.gain.setValueAtTime(d?0:1,0),this.emit(l.MUTE,this,d)}},setMute:function(d){return this.mute=d,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(d){this.currentConfig.volume=d,this.volumeNode.gain.setValueAtTime(d,0),this.emit(l.VOLUME,this,d)}},setVolume:function(d){return this.volume=d,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(d){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(d=Math.min(Math.max(0,d),this.duration),this.currentConfig.seek=d,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(l.SEEK,this,d))}},setSeek:function(d){return this.seek=d,this},loop:{get:function(){return this.currentConfig.loop},set:function(d){this.currentConfig.loop=d,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),d&&this.createAndStartLoopBufferSource()),this.emit(l.LOOP,this,d)}},setLoop:function(d){return this.loop=d,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(d){this.currentConfig.pan=d,this.pannerNode&&this.pannerNode.pan.setValueAtTime(d,this.manager.context.currentTime),this.emit(l.PAN,this,d)}},setPan:function(d){return this.pan=d,this}});n.exports=h},57490:(n,a,s)=>{var o=s(53134),u=s(85034),l=s(83419),c=s(14463),h=s(8443),d=s(71741),f=s(95540),m=new l({Extends:u,initialize:function(g){this.context=this.createAudioContext(g),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),u.call(this,g),this.locked&&g.isBooted?this.unlock():g.events.once(h.BOOT,this.unlock,this)},createAudioContext:function(p){var g=p.config.audio;if(g.context)return g.context.resume(),g.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(p){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=p,this.masterMuteNode=p.createGain(),this.masterVolumeNode=p.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(p.destination),this.destination=this.masterMuteNode,this},add:function(p,g){var v=new d(this,p,g);return this.sounds.push(v),v},decodeAudio:function(p,g){var v;Array.isArray(p)?v=p:v=[{key:p,data:g}];for(var y=this.game.cache.audio,x=v.length,b=0;b<v.length;b++){var w=v[b],C=w.key,_=w.data;typeof _=="string"&&(_=o(_));var S=function(A,M){y.add(A,M),this.emit(c.DECODED,A),x--,x===0&&this.emit(c.DECODED_ALL)}.bind(this,C),T=function(A,M){console.error("Error decoding audio: "+A+" - ",M?M.message:""),x--,x===0&&this.emit(c.DECODED_ALL)}.bind(this,C);this.context.decodeAudioData(_,S,T)}},setListenerPosition:function(p,g){return p===void 0&&(p=this.game.scale.width/2),g===void 0&&(g=this.game.scale.height/2),this.listenerPosition.set(p,g),this},unlock:function(){var p=this,g=document.body,v=function y(){if(p.context&&g){var x=g.removeEventListener.bind(g);p.context.resume().then(function(){x("touchstart",y),x("touchend",y),x("click",y),x("keydown",y),p.unlocked=!0},function(){x("touchstart",y),x("touchend",y),x("click",y),x("keydown",y)})}};g&&(g.addEventListener("touchstart",v,!1),g.addEventListener("touchend",v,!1),g.addEventListener("click",v,!1),g.addEventListener("keydown",v,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var p=this.context;p&&!this.locked&&(p.state==="suspended"||p.state==="interrupted")&&p.resume()},update:function(p,g){var v=this.context.listener;if(v&&v.positionX!==void 0){var y=f(this.listenerPosition,"x",null),x=f(this.listenerPosition,"y",null);y&&y!==this._spatialx&&(this._spatialx=v.positionX.value=y),x&&x!==this._spatialy&&(this._spatialy=v.positionY.value=x)}u.prototype.update.call(this,p,g),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var p=this;this.context.close().then(function(){p.context=null})}u.prototype.destroy.call(this)},setMute:function(p){return this.mute=p,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(p){this.masterMuteNode.gain.setValueAtTime(p?0:1,0),this.emit(c.GLOBAL_MUTE,this,p)}},setVolume:function(p){return this.volume=p,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(p){this.masterVolumeNode.gain.setValueAtTime(p,0),this.emit(c.GLOBAL_VOLUME,this,p)}}});n.exports=m},73162:(n,a,s)=>{var o=s(37105),u=s(83419),l=s(29747),c=s(19186),h=new u({initialize:function(f){this.parent=f,this.list=[],this.position=0,this.addCallback=l,this.removeCallback=l,this._sortKey=""},add:function(d,f){return f?o.Add(this.list,d):o.Add(this.list,d,0,this.addCallback,this)},addAt:function(d,f,m){return m?o.AddAt(this.list,d,f):o.AddAt(this.list,d,f,0,this.addCallback,this)},getAt:function(d){return this.list[d]},getIndex:function(d){return this.list.indexOf(d)},sort:function(d,f){return d?(f===void 0&&(f=function(m,p){return m[d]-p[d]}),c(this.list,f),this):this},getByName:function(d){return o.GetFirst(this.list,"name",d)},getRandom:function(d,f){return o.GetRandom(this.list,d,f)},getFirst:function(d,f,m,p){return o.GetFirst(this.list,d,f,m,p)},getAll:function(d,f,m,p){return o.GetAll(this.list,d,f,m,p)},count:function(d,f){return o.CountAllMatching(this.list,d,f)},swap:function(d,f){o.Swap(this.list,d,f)},moveTo:function(d,f){return o.MoveTo(this.list,d,f)},moveAbove:function(d,f){return o.MoveAbove(this.list,d,f)},moveBelow:function(d,f){return o.MoveBelow(this.list,d,f)},remove:function(d,f){return f?o.Remove(this.list,d):o.Remove(this.list,d,this.removeCallback,this)},removeAt:function(d,f){return f?o.RemoveAt(this.list,d):o.RemoveAt(this.list,d,this.removeCallback,this)},removeBetween:function(d,f,m){return m?o.RemoveBetween(this.list,d,f):o.RemoveBetween(this.list,d,f,this.removeCallback,this)},removeAll:function(d){for(var f=this.list.length;f--;)this.remove(this.list[f],d);return this},bringToTop:function(d){return o.BringToTop(this.list,d)},sendToBack:function(d){return o.SendToBack(this.list,d)},moveUp:function(d){return o.MoveUp(this.list,d),d},moveDown:function(d){return o.MoveDown(this.list,d),d},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(d,f){return o.Replace(this.list,d,f)},exists:function(d){return this.list.indexOf(d)>-1},setAll:function(d,f,m,p){return o.SetAll(this.list,d,f,m,p),this},each:function(d,f){for(var m=[null],p=2;p<arguments.length;p++)m.push(arguments[p]);for(p=0;p<this.list.length;p++)m[0]=this.list[p],d.apply(f,m)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});n.exports=h},90330:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c){this.entries={},this.size=0,this.setAll(c)},setAll:function(l){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.set(l[c][0],l[c][1]);return this},set:function(l,c){return this.has(l)||this.size++,this.entries[l]=c,this},get:function(l){if(this.has(l))return this.entries[l]},getArray:function(){var l=[],c=this.entries;for(var h in c)l.push(c[h]);return l},has:function(l){return this.entries.hasOwnProperty(l)},delete:function(l){return this.has(l)&&(delete this.entries[l],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(l){delete this.entries[l]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var l=[],c=this.entries;for(var h in c)l.push(c[h]);return l},dump:function(){var l=this.entries;console.group("Map");for(var c in l)console.log(c,l[c]);console.groupEnd()},each:function(l){var c=this.entries;for(var h in c)if(l(h,c[h])===!1)break;return this},contains:function(l){var c=this.entries;for(var h in c)if(c[h]===l)return!0;return!1},merge:function(l,c){c===void 0&&(c=!1);var h=this.entries,d=l.entries;for(var f in d)h.hasOwnProperty(f)&&c?h[f]=d[f]:this.set(f,d[f]);return this}});n.exports=u},25774:(n,a,s)=>{var o=s(83419),u=s(50792),l=s(82348),c=new o({Extends:u,initialize:function(){u.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(h){return this._active.indexOf(h)>-1},isPending:function(h){return this._toProcess>0&&this._pending.indexOf(h)>-1},isDestroying:function(h){return this._destroy.indexOf(h)>-1},add:function(h){return this.checkQueue&&this.isActive(h)&&!this.isDestroying(h)||this.isPending(h)||(this._pending.push(h),this._toProcess++),h},remove:function(h){if(this.isPending(h)){var d=this._pending,f=d.indexOf(h);f!==-1&&d.splice(f,1)}else this.isActive(h)&&(this._destroy.push(h),this._toProcess++);return h},removeAll:function(){for(var h=this._active,d=this._destroy,f=h.length;f--;)d.push(h[f]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var h=this._destroy,d=this._active,f,m;for(f=0;f<h.length;f++){m=h[f];var p=d.indexOf(m);p!==-1&&(d.splice(p,1),this.emit(l.PROCESS_QUEUE_REMOVE,m))}for(h.length=0,h=this._pending,f=0;f<h.length;f++)m=h[f],(!this.checkQueue||this.checkQueue&&d.indexOf(m)===-1)&&(d.push(m),this.emit(l.PROCESS_QUEUE_ADD,m));return h.length=0,this._toProcess=0,d},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});n.exports=c},59542:(n,a,s)=>{var o=s(43886);function u(_){var S=[".left",".top",".right",".bottom"];if(!(this instanceof u))return new u(_,S);this._maxEntries=Math.max(4,_||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}u.prototype={all:function(){return this._all(this.data,[])},search:function(_){var S=this.data,T=[],A=this.toBBox;if(!b(_,S))return T;for(var M=[],I,D,k,G;S;){for(I=0,D=S.children.length;I<D;I++)k=S.children[I],G=S.leaf?A(k):k,b(_,G)&&(S.leaf?T.push(k):x(_,G)?this._all(k,T):M.push(k));S=M.pop()}return T},collides:function(_){var S=this.data,T=this.toBBox;if(!b(_,S))return!1;for(var A=[],M,I,D,k;S;){for(M=0,I=S.children.length;M<I;M++)if(D=S.children[M],k=S.leaf?T(D):D,b(_,k)){if(S.leaf||x(_,k))return!0;A.push(D)}S=A.pop()}return!1},load:function(_){if(!(_&&_.length))return this;if(_.length<this._minEntries){for(var S=0,T=_.length;S<T;S++)this.insert(_[S]);return this}var A=this._build(_.slice(),0,_.length-1,0);if(!this.data.children.length)this.data=A;else if(this.data.height===A.height)this._splitRoot(this.data,A);else{if(this.data.height<A.height){var M=this.data;this.data=A,A=M}this._insert(A,this.data.height-A.height-1,!0)}return this},insert:function(_){return _&&this._insert(_,this.data.height-1),this},clear:function(){return this.data=w([]),this},remove:function(_,S){if(!_)return this;for(var T=this.data,A=this.toBBox(_),M=[],I=[],D,k,G,R;T||M.length;){if(T||(T=M.pop(),k=M[M.length-1],D=I.pop(),R=!0),T.leaf&&(G=l(_,T.children,S),G!==-1))return T.children.splice(G,1),M.push(T),this._condense(M),this;!R&&!T.leaf&&x(T,A)?(M.push(T),I.push(D),D=0,k=T,T=T.children[0]):k?(D++,T=k.children[D],R=!1):T=null}return this},toBBox:function(_){return _},compareMinX:f,compareMinY:m,toJSON:function(){return this.data},fromJSON:function(_){return this.data=_,this},_all:function(_,S){for(var T=[];_;)_.leaf?S.push.apply(S,_.children):T.push.apply(T,_.children),_=T.pop();return S},_build:function(_,S,T,A){var M=T-S+1,I=this._maxEntries,D;if(M<=I)return D=w(_.slice(S,T+1)),c(D,this.toBBox),D;A||(A=Math.ceil(Math.log(M)/Math.log(I)),I=Math.ceil(M/Math.pow(I,A-1))),D=w([]),D.leaf=!1,D.height=A;var k=Math.ceil(M/I),G=k*Math.ceil(Math.sqrt(I)),R,H,j,Z;for(C(_,S,T,G,this.compareMinX),R=S;R<=T;R+=G)for(j=Math.min(R+G-1,T),C(_,R,j,k,this.compareMinY),H=R;H<=j;H+=k)Z=Math.min(H+k-1,j),D.children.push(this._build(_,H,Z,A-1));return c(D,this.toBBox),D},_chooseSubtree:function(_,S,T,A){for(var M,I,D,k,G,R,H,j;A.push(S),!(S.leaf||A.length-1===T);){for(H=j=1/0,M=0,I=S.children.length;M<I;M++)D=S.children[M],G=p(D),R=v(_,D)-G,R<j?(j=R,H=G<H?G:H,k=D):R===j&&G<H&&(H=G,k=D);S=k||S.children[0]}return S},_insert:function(_,S,T){var A=this.toBBox,M=T?_:A(_),I=[],D=this._chooseSubtree(M,this.data,S,I);for(D.children.push(_),d(D,M);S>=0&&I[S].children.length>this._maxEntries;)this._split(I,S),S--;this._adjustParentBBoxes(M,I,S)},_split:function(_,S){var T=_[S],A=T.children.length,M=this._minEntries;this._chooseSplitAxis(T,M,A);var I=this._chooseSplitIndex(T,M,A),D=w(T.children.splice(I,T.children.length-I));D.height=T.height,D.leaf=T.leaf,c(T,this.toBBox),c(D,this.toBBox),S?_[S-1].children.push(D):this._splitRoot(T,D)},_splitRoot:function(_,S){this.data=w([_,S]),this.data.height=_.height+1,this.data.leaf=!1,c(this.data,this.toBBox)},_chooseSplitIndex:function(_,S,T){var A,M,I,D,k,G,R,H;for(G=R=1/0,A=S;A<=T-S;A++)M=h(_,0,A,this.toBBox),I=h(_,A,T,this.toBBox),D=y(M,I),k=p(M)+p(I),D<G?(G=D,H=A,R=k<R?k:R):D===G&&k<R&&(R=k,H=A);return H},_chooseSplitAxis:function(_,S,T){var A=_.leaf?this.compareMinX:f,M=_.leaf?this.compareMinY:m,I=this._allDistMargin(_,S,T,A),D=this._allDistMargin(_,S,T,M);I<D&&_.children.sort(A)},_allDistMargin:function(_,S,T,A){_.children.sort(A);var M=this.toBBox,I=h(_,0,S,M),D=h(_,T-S,T,M),k=g(I)+g(D),G,R;for(G=S;G<T-S;G++)R=_.children[G],d(I,_.leaf?M(R):R),k+=g(I);for(G=T-S-1;G>=S;G--)R=_.children[G],d(D,_.leaf?M(R):R),k+=g(D);return k},_adjustParentBBoxes:function(_,S,T){for(var A=T;A>=0;A--)d(S[A],_)},_condense:function(_){for(var S=_.length-1,T;S>=0;S--)_[S].children.length===0?S>0?(T=_[S-1].children,T.splice(T.indexOf(_[S]),1)):this.clear():c(_[S],this.toBBox)},compareMinX:function(_,S){return _.left-S.left},compareMinY:function(_,S){return _.top-S.top},toBBox:function(_){return{minX:_.left,minY:_.top,maxX:_.right,maxY:_.bottom}}};function l(_,S,T){if(!T)return S.indexOf(_);for(var A=0;A<S.length;A++)if(T(_,S[A]))return A;return-1}function c(_,S){h(_,0,_.children.length,S,_)}function h(_,S,T,A,M){M||(M=w(null)),M.minX=1/0,M.minY=1/0,M.maxX=-1/0,M.maxY=-1/0;for(var I=S,D;I<T;I++)D=_.children[I],d(M,_.leaf?A(D):D);return M}function d(_,S){return _.minX=Math.min(_.minX,S.minX),_.minY=Math.min(_.minY,S.minY),_.maxX=Math.max(_.maxX,S.maxX),_.maxY=Math.max(_.maxY,S.maxY),_}function f(_,S){return _.minX-S.minX}function m(_,S){return _.minY-S.minY}function p(_){return(_.maxX-_.minX)*(_.maxY-_.minY)}function g(_){return _.maxX-_.minX+(_.maxY-_.minY)}function v(_,S){return(Math.max(S.maxX,_.maxX)-Math.min(S.minX,_.minX))*(Math.max(S.maxY,_.maxY)-Math.min(S.minY,_.minY))}function y(_,S){var T=Math.max(_.minX,S.minX),A=Math.max(_.minY,S.minY),M=Math.min(_.maxX,S.maxX),I=Math.min(_.maxY,S.maxY);return Math.max(0,M-T)*Math.max(0,I-A)}function x(_,S){return _.minX<=S.minX&&_.minY<=S.minY&&S.maxX<=_.maxX&&S.maxY<=_.maxY}function b(_,S){return S.minX<=_.maxX&&S.minY<=_.maxY&&S.maxX>=_.minX&&S.maxY>=_.minY}function w(_){return{children:_,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function C(_,S,T,A,M){for(var I=[S,T],D;I.length;)T=I.pop(),S=I.pop(),!(T-S<=A)&&(D=S+Math.ceil((T-S)/A/2)*A,o(_,D,S,T,M),I.push(S,D,D,T))}n.exports=u},35072:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c){if(this.entries=[],Array.isArray(c))for(var h=0;h<c.length;h++)this.set(c[h])},set:function(l){return this.entries.indexOf(l)===-1&&this.entries.push(l),this},get:function(l,c){for(var h=0;h<this.entries.length;h++){var d=this.entries[h];if(d[l]===c)return d}},getArray:function(){return this.entries.slice(0)},delete:function(l){var c=this.entries.indexOf(l);return c>-1&&this.entries.splice(c,1),this},dump:function(){console.group("Set");for(var l=0;l<this.entries.length;l++){var c=this.entries[l];console.log(c)}console.groupEnd()},each:function(l,c){var h,d=this.entries.slice(),f=d.length;if(c)for(h=0;h<f&&l.call(c,d[h],h)!==!1;h++);else for(h=0;h<f&&l(d[h],h)!==!1;h++);return this},iterate:function(l,c){var h,d=this.entries.length;if(c)for(h=0;h<d&&l.call(c,this.entries[h],h)!==!1;h++);else for(h=0;h<d&&l(this.entries[h],h)!==!1;h++);return this},iterateLocal:function(l){var c,h=[];for(c=1;c<arguments.length;c++)h.push(arguments[c]);var d=this.entries.length;for(c=0;c<d;c++){var f=this.entries[c];f[l].apply(f,h)}return this},clear:function(){return this.entries.length=0,this},contains:function(l){return this.entries.indexOf(l)>-1},union:function(l){var c=new u;return l.entries.forEach(function(h){c.set(h)}),this.entries.forEach(function(h){c.set(h)}),c},intersect:function(l){var c=new u;return this.entries.forEach(function(h){l.contains(h)&&c.set(h)}),c},difference:function(l){var c=new u;return this.entries.forEach(function(h){l.contains(h)||c.set(h)}),c},size:{get:function(){return this.entries.length},set:function(l){return l<this.entries.length?this.entries.length=l:this.entries.length}}});n.exports=u},86555:(n,a,s)=>{var o=s(45319),u=s(83419),l=s(56583),c=s(26099),h=new u({initialize:function(f,m,p,g){f===void 0&&(f=0),m===void 0&&(m=f),p===void 0&&(p=0),g===void 0&&(g=null),this._width=f,this._height=m,this._parent=g,this.aspectMode=p,this.aspectRatio=m===0?1:f/m,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new c},setAspectMode:function(d){return d===void 0&&(d=0),this.aspectMode=d,this.setSize(this._width,this._height)},setSnap:function(d,f){return d===void 0&&(d=0),f===void 0&&(f=d),this.snapTo.set(d,f),this.setSize(this._width,this._height)},setParent:function(d){return this._parent=d,this.setSize(this._width,this._height)},setMin:function(d,f){return d===void 0&&(d=0),f===void 0&&(f=d),this.minWidth=o(d,0,this.maxWidth),this.minHeight=o(f,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(d,f){return d===void 0&&(d=Number.MAX_VALUE),f===void 0&&(f=d),this.maxWidth=o(d,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(f,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(d,f){switch(d===void 0&&(d=0),f===void 0&&(f=d),this.aspectMode){case h.NONE:this._width=this.getNewWidth(l(d,this.snapTo.x)),this._height=this.getNewHeight(l(f,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case h.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(l(d,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case h.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(l(f,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case h.FIT:this.constrain(d,f,!0);break;case h.ENVELOP:this.constrain(d,f,!1);break}return this},setAspectRatio:function(d){return this.aspectRatio=d,this.setSize(this._width,this._height)},resize:function(d,f){return this._width=this.getNewWidth(l(d,this.snapTo.x)),this._height=this.getNewHeight(l(f,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(d,f){return f===void 0&&(f=!0),d=o(d,this.minWidth,this.maxWidth),f&&this._parent&&d>this._parent.width&&(d=Math.max(this.minWidth,this._parent.width)),d},getNewHeight:function(d,f){return f===void 0&&(f=!0),d=o(d,this.minHeight,this.maxHeight),f&&this._parent&&d>this._parent.height&&(d=Math.max(this.minHeight,this._parent.height)),d},constrain:function(d,f,m){d===void 0&&(d=0),f===void 0&&(f=d),m===void 0&&(m=!0),d=this.getNewWidth(d),f=this.getNewHeight(f);var p=this.snapTo,g=f===0?1:d/f;return m&&this.aspectRatio>g||!m&&this.aspectRatio<g?(d=l(d,p.x),f=d/this.aspectRatio,p.y>0&&(f=l(f,p.y),d=f*this.aspectRatio)):(m&&this.aspectRatio<g||!m&&this.aspectRatio>g)&&(f=l(f,p.y),d=f*this.aspectRatio,p.x>0&&(d=l(d,p.x),f=d*(1/this.aspectRatio))),this._width=d,this._height=f,this},fitTo:function(d,f){return this.constrain(d,f,!0)},envelop:function(d,f){return this.constrain(d,f,!1)},setWidth:function(d){return this.setSize(d,this._height)},setHeight:function(d){return this.setSize(this._width,d)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(d){d&&d.style&&(d.style.width=this._width+"px",d.style.height=this._height+"px")},copy:function(d){return d.setAspectMode(this.aspectMode),d.aspectRatio=this.aspectRatio,d.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(d){this.setSize(d,this._height)}},height:{get:function(){return this._height},set:function(d){this.setSize(this._width,d)}}});h.NONE=0,h.WIDTH_CONTROLS_HEIGHT=1,h.HEIGHT_CONTROLS_WIDTH=2,h.FIT=3,h.ENVELOP=4,n.exports=h},15238:n=>{n.exports="add"},56187:n=>{n.exports="remove"},82348:(n,a,s)=>{n.exports={PROCESS_QUEUE_ADD:s(15238),PROCESS_QUEUE_REMOVE:s(56187)}},41392:(n,a,s)=>{n.exports={Events:s(82348),List:s(73162),Map:s(90330),ProcessQueue:s(25774),RTree:s(59542),Set:s(35072),Size:s(86555)}},57382:(n,a,s)=>{var o=s(83419),u=s(45319),l=s(40987),c=s(8054),h=s(50030),d=s(79237),f=new o({Extends:d,initialize:function(p,g,v,y,x){d.call(this,p,g,v,y,x),this.add("__BASE",0,0,0,y,x),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=y,this.height=x,this.imageData=this.context.getImageData(0,0,y,x),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===c.WEBGL&&this.refresh(),this},draw:function(m,p,g,v){return v===void 0&&(v=!0),this.context.drawImage(g,m,p),v&&this.update(),this},drawFrame:function(m,p,g,v,y){g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=!0);var x=this.manager.getFrame(m,p);if(x){var b=x.canvasData,w=x.cutWidth,C=x.cutHeight,_=x.source.resolution;this.context.drawImage(x.source.image,b.x,b.y,w,C,g,v,w/_,C/_),y&&this.update()}return this},setPixel:function(m,p,g,v,y,x){x===void 0&&(x=255),m=Math.abs(Math.floor(m)),p=Math.abs(Math.floor(p));var b=this.getIndex(m,p);if(b>-1){var w=this.context.getImageData(m,p,1,1);w.data[0]=g,w.data[1]=v,w.data[2]=y,w.data[3]=x,this.context.putImageData(w,m,p)}return this},putData:function(m,p,g,v,y,x,b){return v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=m.width),b===void 0&&(b=m.height),this.context.putImageData(m,p,g,v,y,x,b),this},getData:function(m,p,g,v){m=u(Math.floor(m),0,this.width-1),p=u(Math.floor(p),0,this.height-1),g=u(g,1,this.width-m),v=u(v,1,this.height-p);var y=this.context.getImageData(m,p,g,v);return y},getPixel:function(m,p,g){g||(g=new l);var v=this.getIndex(m,p);if(v>-1){var y=this.data,x=y[v+0],b=y[v+1],w=y[v+2],C=y[v+3];g.setTo(x,b,w,C)}return g},getPixels:function(m,p,g,v){m===void 0&&(m=0),p===void 0&&(p=0),g===void 0&&(g=this.width),v===void 0&&(v=g),m=Math.abs(Math.round(m)),p=Math.abs(Math.round(p));for(var y=u(m,0,this.width),x=u(m+g,0,this.width),b=u(p,0,this.height),w=u(p+v,0,this.height),C=new l,_=[],S=b;S<w;S++){for(var T=[],A=y;A<x;A++)C=this.getPixel(A,S,C),T.push({x:A,y:S,color:C.color,alpha:C.alphaGL});_.push(T)}return _},getIndex:function(m,p){return m=Math.abs(Math.round(m)),p=Math.abs(Math.round(p)),m<this.width&&p<this.height?(m+p*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(m,p,g,v,y){return m===void 0&&(m=0),p===void 0&&(p=0),g===void 0&&(g=this.width),v===void 0&&(v=this.height),y===void 0&&(y=!0),this.context.clearRect(m,p,g,v),y&&this.update(),this},setSize:function(m,p){return p===void 0&&(p=m),(m!==this.width||p!==this.height)&&(this.canvas.width=m,this.canvas.height=p,this._source.width=m,this._source.height=p,this._source.isPowerOf2=h(m,p),this.frames.__BASE.setSize(m,p,0,0),this.width=m,this.height=p,this.refresh()),this},destroy:function(){d.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});n.exports=f},81320:(n,a,s)=>{var o=s(10312),u=s(38058),l=s(27919),c=s(83419),h=s(8054),d=s(4327),f=s(95540),m=s(36060),p=s(32302),g=s(79237),v=s(70554),y=new c({Extends:g,initialize:function(b,w,C,_){C===void 0&&(C=256),_===void 0&&(_=256),this.type="DynamicTexture";var S=b.game.renderer,T=S&&S.type===h.CANVAS,A=T?l.create2D(this,C,_):[this];g.call(this,b,w,A,C,_),this.add("__BASE",0,0,0,C,_),this.renderer=S,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=T?A:null,this.context=T?A.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new u(0,0,C,_).setScene(b.game.scene.systemScene,!1),this.renderTarget=T?null:new p(S,C,_,1,0,!1,!1,!0,!1),this.pipeline=T?null:S.pipelines.get(m.SINGLE_PIPELINE),this.setSize(C,_)},setSize:function(x,b){b===void 0&&(b=x);var w=this.get(),C=w.source;if(x!==this.width||b!==this.height){this.canvas&&(this.canvas.width=x,this.canvas.height=b);var _=this.renderTarget;_&&(_.willResize(x,b)&&_.resize(x,b),_.texture!==C.glTexture&&this.renderer.deleteTexture(C.glTexture),this.setFromRenderTarget()),this.camera.setSize(x,b),C.width=x,C.height=b,w.setSize(x,b),this.width=x,this.height=b}else{var S=this.getSourceImage();w.cutX+x>S.width&&(x=S.width-w.cutX),w.cutY+b>S.height&&(b=S.height-w.cutY),w.setSize(x,b,w.cutX,w.cutY)}return this},setFromRenderTarget:function(){var x=this.get(),b=x.source,w=this.renderTarget;return b.isRenderTexture=!0,b.isGLTexture=!0,b.glTexture=w.texture,this},setIsSpriteTexture:function(x){return this.isSpriteTexture=x,this},fill:function(x,b,w,C,_,S){var T=this.camera,A=this.renderer;b===void 0&&(b=1),w===void 0&&(w=0),C===void 0&&(C=0),_===void 0&&(_=this.width),S===void 0&&(S=this.height);var M=x>>16&255,I=x>>8&255,D=x&255,k=this.renderTarget;if(T.preRender(),k){k.bind(!0);var G=this.pipeline.manager.set(this.pipeline),R=A.width/k.width,H=A.height/k.height,j=k.height-(C+S);G.drawFillRect(w*R,j*H,_*R,S*H,v.getTintFromFloats(D/255,I/255,M/255,1),b),k.unbind(!0)}else{var Z=this.context;A.setContext(Z),Z.globalCompositeOperation="source-over",Z.fillStyle="rgba("+M+","+I+","+D+","+b+")",Z.fillRect(w,C,_,S),A.setContext()}return this.dirty=!0,this},clear:function(x,b,w,C){if(this.dirty){var _=this.context,S=this.renderTarget;S?S.clear(x,b,w,C):_&&(x!==void 0&&b!==void 0&&w!==void 0&&C!==void 0?_.clearRect(x,b,w,C):(_.save(),_.setTransform(1,0,0,1,0,0),_.clearRect(0,0,this.width,this.height),_.restore())),this.dirty=!1}return this},stamp:function(x,b,w,C,_){w===void 0&&(w=0),C===void 0&&(C=0);var S=f(_,"alpha",1),T=f(_,"tint",16777215),A=f(_,"angle",0),M=f(_,"rotation",0),I=f(_,"scale",1),D=f(_,"scaleX",I),k=f(_,"scaleY",I),G=f(_,"originX",.5),R=f(_,"originY",.5),H=f(_,"blendMode",0),j=f(_,"erase",!1),Z=f(_,"skipBatch",!1),ee=this.manager.resetStamp(S,T);return ee.setAngle(0),A!==0?ee.setAngle(A):M!==0&&ee.setRotation(M),ee.setScale(D,k),ee.setTexture(x,b),ee.setOrigin(G,R),ee.setBlendMode(H),j&&(this._eraseMode=!0),Z?this.batchGameObject(ee,w,C):this.draw(ee,w,C),j&&(this._eraseMode=!1),this},erase:function(x,b,w){return this._eraseMode=!0,this.draw(x,b,w),this._eraseMode=!1,this},draw:function(x,b,w,C,_){return this.beginDraw(),this.batchDraw(x,b,w,C,_),this.endDraw(),this},drawFrame:function(x,b,w,C,_,S){return this.beginDraw(),this.batchDrawFrame(x,b,w,C,_,S),this.endDraw(),this},repeat:function(x,b,w,C,_,S,T,A,M){if(w===void 0&&(w=0),C===void 0&&(C=0),_===void 0&&(_=this.width),S===void 0&&(S=this.height),T===void 0&&(T=1),A===void 0&&(A=16777215),M===void 0&&(M=!1),x instanceof d?b=x:b=this.manager.getFrame(x,b),!b)return this;var I=this.manager.resetStamp(T,A);I.setFrame(b),I.setOrigin(0);var D=b.width,k=b.height;_=Math.floor(_),S=Math.floor(S);var G=Math.ceil(_/D),R=Math.ceil(S/k),H=G*D-_,j=R*k-S;H>0&&(H=D-H),j>0&&(j=k-j),w<0&&(G+=Math.ceil(Math.abs(w)/D)),C<0&&(R+=Math.ceil(Math.abs(C)/k));var Z=w,ee=C,Y=!1,V=this.manager.stampCrop.setTo(0,0,D,k);M||this.beginDraw();for(var O=0;O<R;O++){if(ee+k<0){ee+=k;continue}for(var F=0;F<G;F++){if(Y=!1,Z+D<0){Z+=D;continue}else Z<0&&(Y=!0,V.width=D+Z,V.x=D-V.width);ee<0&&(Y=!0,V.height=k+ee,V.y=k-V.height),H>0&&F===G-1&&(Y=!0,V.width=H),j>0&&O===R-1&&(Y=!0,V.height=j),Y&&I.setCrop(V),this.batchGameObject(I,Z,ee),I.isCropped=!1,V.setTo(0,0,D,k),Z+=D}Z=w,ee+=k}return M||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var x=this.camera,b=this.renderer,w=this.renderTarget;x.preRender(),w?b.beginCapture(w.width,w.height):b.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(x,b,w,C,_){return Array.isArray(x)||(x=[x]),this.batchList(x,b,w,C,_),this},batchDrawFrame:function(x,b,w,C,_,S){w===void 0&&(w=0),C===void 0&&(C=0),_===void 0&&(_=1),S===void 0&&(S=16777215);var T=this.manager.getFrame(x,b);return T&&(this.renderTarget?this.pipeline.batchTextureFrame(T,w,C,S,_,this.camera.matrix,null):this.batchTextureFrame(T,w,C,_,S)),this},endDraw:function(x){if(x===void 0&&(x=this._eraseMode),this.isDrawing){var b=this.renderer,w=this.renderTarget;if(w){var C=b.endCapture(),_=b.pipelines.setUtility();_.blitFrame(C,w,1,!1,!1,x,this.isSpriteTexture),b.resetScissor(),b.resetViewport()}else b.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(x,b,w,C,_){var S=x.length;if(S!==0)for(var T=0;T<S;T++){var A=x[T];!A||A===this||(A.renderWebGL||A.renderCanvas?this.batchGameObject(A,b,w):A.isParent||A.list?this.batchGroup(A.getChildren(),b,w):typeof A=="string"?this.batchTextureFrameKey(A,null,b,w,C,_):A instanceof d?this.batchTextureFrame(A,b,w,C,_):Array.isArray(A)&&this.batchList(A,b,w,C,_))}},batchGroup:function(x,b,w){b===void 0&&(b=0),w===void 0&&(w=0);for(var C=0;C<x.length;C++){var _=x[C];_.willRender(this.camera)&&this.batchGameObject(_,_.x+b,_.y+w)}},batchGameObject:function(x,b,w){b===void 0&&(b=x.x),w===void 0&&(w=x.y);var C=x.x,_=x.y,S=this.camera,T=this.renderer,A=this._eraseMode,M=x.mask;if(x.setPosition(b,w),this.canvas){if(A){var I=x.blendMode;x.blendMode=o.ERASE}M&&M.preRenderCanvas(T,x,S),x.renderCanvas(T,x,S,null),M&&M.postRenderCanvas(T,x,S),A&&(x.blendMode=I)}else T&&(M&&M.preRenderWebGL(T,x,S),A||T.setBlendMode(x.blendMode),x.renderWebGL(T,x,S),M&&M.postRenderWebGL(T,S,this.renderTarget));x.setPosition(C,_)},batchTextureFrameKey:function(x,b,w,C,_,S){var T=this.manager.getFrame(x,b);T&&this.batchTextureFrame(T,w,C,_,S)},batchTextureFrame:function(x,b,w,C,_){b===void 0&&(b=0),w===void 0&&(w=0),C===void 0&&(C=1),_===void 0&&(_=16777215);var S=this.camera.matrix,T=this.renderTarget;if(T)this.pipeline.batchTextureFrame(x,b,w,_,C,S,null);else{var A=this.context,M=x.canvasData,I=x.source.image;A.save(),A.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",A.globalAlpha=C,S.setToContext(A),M.width>0&&M.height>0&&A.drawImage(I,M.x,M.y,M.width,M.height,b,w,M.width,M.height),A.restore()}},snapshotArea:function(x,b,w,C,_,S,T){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,_,!1,x,b,w,C,S,T):this.renderer.snapshotCanvas(this.canvas,_,!1,x,b,w,C,S,T),this},snapshot:function(x,b,w){return this.snapshotArea(0,0,this.width,this.height,x,b,w)},snapshotPixel:function(x,b,w){return this.snapshotArea(x,b,1,1,w,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(x,b,w,C){var _=this.manager.resetStamp();_.setTexture(this),_.setOrigin(0),_.renderWebGL(x,_,w,C)},renderCanvas:function(){},destroy:function(){var x=this.manager.stamp;x&&x.texture===this&&this.manager.resetStamp(),g.prototype.destroy.call(this),l.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});n.exports=y},4327:(n,a,s)=>{var o=s(83419),u=s(45319),l=s(79291),c=new o({initialize:function(d,f,m,p,g,v,y){this.texture=d,this.name=f,this.source=d.source[m],this.sourceIndex=m,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(v,y,p,g)},setCutPosition:function(h,d){return h===void 0&&(h=0),d===void 0&&(d=0),this.cutX=h,this.cutY=d,this.updateUVs()},setCutSize:function(h,d){return this.cutWidth=h,this.cutHeight=d,this.updateUVs()},setSize:function(h,d,f,m){f===void 0&&(f=0),m===void 0&&(m=0),this.setCutPosition(f,m),this.setCutSize(h,d),this.width=h,this.height=d,this.halfWidth=Math.floor(h*.5),this.halfHeight=Math.floor(d*.5),this.centerX=Math.floor(h/2),this.centerY=Math.floor(d/2);var p=this.data,g=p.cut;g.x=f,g.y=m,g.w=h,g.h=d,g.r=f+h,g.b=m+d,p.sourceSize.w=h,p.sourceSize.h=d,p.spriteSourceSize.w=h,p.spriteSourceSize.h=d,p.radius=.5*Math.sqrt(h*h+d*d);var v=p.drawImage;return v.x=f,v.y=m,v.width=h,v.height=d,this.updateUVs()},setTrim:function(h,d,f,m,p,g){var v=this.data,y=v.spriteSourceSize;return v.trim=!0,v.sourceSize.w=h,v.sourceSize.h=d,y.x=f,y.y=m,y.w=p,y.h=g,y.r=f+p,y.b=m+g,this.x=f,this.y=m,this.width=p,this.height=g,this.halfWidth=p*.5,this.halfHeight=g*.5,this.centerX=Math.floor(p/2),this.centerY=Math.floor(g/2),this.updateUVs()},setScale9:function(h,d,f,m){var p=this.data;return p.scale9=!0,p.is3Slice=d===0&&m===this.height,p.scale9Borders.x=h,p.scale9Borders.y=d,p.scale9Borders.w=f,p.scale9Borders.h=m,this},setCropUVs:function(h,d,f,m,p,g,v){var y=this.cutX,x=this.cutY,b=this.cutWidth,w=this.cutHeight,C=this.realWidth,_=this.realHeight;d=u(d,0,C),f=u(f,0,_),m=u(m,0,C-d),p=u(p,0,_-f);var S=y+d,T=x+f,A=m,M=p,I=this.data;if(I.trim){var D=I.spriteSourceSize;m=u(m,0,b-d),p=u(p,0,w-f);var k=d+m,G=f+p,R=!(D.r<d||D.b<f||D.x>k||D.y>G);if(R){var H=Math.max(D.x,d),j=Math.max(D.y,f),Z=Math.min(D.r,k)-H,ee=Math.min(D.b,G)-j;A=Z,M=ee,g?S=y+(b-(H-D.x)-Z):S=y+(H-D.x),v?T=x+(w-(j-D.y)-ee):T=x+(j-D.y),d=H,f=j,m=Z,p=ee}else S=0,T=0,A=0,M=0}else g&&(S=y+(b-d-m)),v&&(T=x+(w-f-p));var Y=this.source.width,V=this.source.height;return h.u0=Math.max(0,S/Y),h.v0=Math.max(0,T/V),h.u1=Math.min(1,(S+A)/Y),h.v1=Math.min(1,(T+M)/V),h.x=d,h.y=f,h.cx=S,h.cy=T,h.cw=A,h.ch=M,h.width=m,h.height=p,h.flipX=g,h.flipY=v,h},updateCropUVs:function(h,d,f){return this.setCropUVs(h,h.x,h.y,h.width,h.height,d,f)},setUVs:function(h,d,f,m,p,g){var v=this.data.drawImage;return v.width=h,v.height=d,this.u0=f,this.v0=m,this.u1=p,this.v1=g,this},updateUVs:function(){var h=this.cutX,d=this.cutY,f=this.cutWidth,m=this.cutHeight,p=this.data.drawImage;p.width=f,p.height=m;var g=this.source.width,v=this.source.height;return this.u0=h/g,this.v0=d/v,this.u1=(h+f)/g,this.v1=(d+m)/v,this},updateUVsInverted:function(){var h=this.source.width,d=this.source.height;return this.u0=(this.cutX+this.cutHeight)/h,this.v0=this.cutY/d,this.u1=this.cutX/h,this.v1=(this.cutY+this.cutWidth)/d,this},clone:function(){var h=new c(this.texture,this.name,this.sourceIndex);return h.cutX=this.cutX,h.cutY=this.cutY,h.cutWidth=this.cutWidth,h.cutHeight=this.cutHeight,h.x=this.x,h.y=this.y,h.width=this.width,h.height=this.height,h.halfWidth=this.halfWidth,h.halfHeight=this.halfHeight,h.centerX=this.centerX,h.centerY=this.centerY,h.rotated=this.rotated,h.data=l(!0,h.data,this.data),h.updateUVs(),h},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});n.exports=c},79237:(n,a,s)=>{var o=s(83419),u=s(4327),l=s(11876),c='Texture "%s" has no frame "%s"',h=new o({initialize:function(f,m,p,g,v){Array.isArray(p)||(p=[p]),this.manager=f,this.key=m,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var y=0;y<p.length;y++)this.source.push(new l(this,p[y],g,v))},add:function(d,f,m,p,g,v){if(this.has(d))return null;var y=new u(this,d,f,m,p,g,v);return this.frames[d]=y,this.firstFrame==="__BASE"&&(this.firstFrame=d),this.frameTotal++,y},remove:function(d){if(this.has(d)){var f=this.get(d);return f.destroy(),delete this.frames[d],!0}return!1},has:function(d){return this.frames.hasOwnProperty(d)},get:function(d){d||(d=this.firstFrame);var f=this.frames[d];return f||(console.warn(c,this.key,d),f=this.frames[this.firstFrame]),f},getTextureSourceIndex:function(d){for(var f=0;f<this.source.length;f++)if(this.source[f]===d)return f;return-1},getFramesFromTextureSource:function(d,f){f===void 0&&(f=!1);var m=[];for(var p in this.frames)if(!(p==="__BASE"&&!f)){var g=this.frames[p];g.sourceIndex===d&&m.push(g)}return m},getFrameBounds:function(d){d===void 0&&(d=0);for(var f=this.getFramesFromTextureSource(d,!0),m=f[0],p=m.cutX,g=m.cutY,v=m.cutX+m.cutWidth,y=m.cutY+m.cutHeight,x=1;x<f.length;x++){var b=f[x];b.cutX<p&&(p=b.cutX),b.cutY<g&&(g=b.cutY),b.cutX+b.cutWidth>v&&(v=b.cutX+b.cutWidth),b.cutY+b.cutHeight>y&&(y=b.cutY+b.cutHeight)}return{x:p,y:g,width:v-p,height:y-g}},getFrameNames:function(d){d===void 0&&(d=!1);var f=Object.keys(this.frames);if(!d){var m=f.indexOf("__BASE");m!==-1&&f.splice(m,1)}return f},getSourceImage:function(d){(d==null||this.frameTotal===1)&&(d="__BASE");var f=this.frames[d];return f?f.source.image:(console.warn(c,this.key,d),this.frames.__BASE.source.image)},getDataSourceImage:function(d){(d==null||this.frameTotal===1)&&(d="__BASE");var f=this.frames[d],m;return f?m=f.sourceIndex:(console.warn(c,this.key,d),m=this.frames.__BASE.sourceIndex),this.dataSource[m].image},setDataSource:function(d){Array.isArray(d)||(d=[d]);for(var f=0;f<d.length;f++){var m=this.source[f];this.dataSource.push(new l(this,d[f],m.width,m.height))}},setFilter:function(d){var f;for(f=0;f<this.source.length;f++)this.source[f].setFilter(d);for(f=0;f<this.dataSource.length;f++)this.dataSource[f].setFilter(d)},destroy:function(){var d,f=this.source,m=this.dataSource;for(d=0;d<f.length;d++)f[d]&&f[d].destroy();for(d=0;d<m.length;d++)m[d]&&m[d].destroy();for(var p in this.frames){var g=this.frames[p];g&&g.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});n.exports=h},17130:(n,a,s)=>{var o=s(27919),u=s(57382),l=s(83419),c=s(40987),h=s(8054),d=s(81320),f=s(50792),m=s(69442),p=s(4327),g=s(8443),v=s(99584),y=s(35154),x=s(88571),b=s(41212),w=s(61309),C=s(87841),_=s(79237),S=new l({Extends:f,initialize:function(A){f.call(this),this.game=A,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new C,this.silentWarnings=!1,A.events.once(g.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(m.LOAD,this.updatePending,this),this.on(m.ERROR,this.updatePending,this);var T=this.game.config;T.defaultImage!==null&&this.addBase64("__DEFAULT",T.defaultImage),T.missingImage!==null&&this.addBase64("__MISSING",T.missingImage),T.whiteImage!==null&&this.addBase64("__WHITE",T.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(g.DESTROY,this.destroy,this),this.game.events.once(g.SYSTEM_READY,function(A){this.stamp=new x(A).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(m.LOAD),this.off(m.ERROR),this.emit(m.READY))},checkKey:function(T){return!T||typeof T!="string"||this.exists(T)?(this.silentWarnings||console.error("Texture key already in use: "+T),!1):!0},remove:function(T){if(typeof T=="string")if(this.exists(T))T=this.get(T);else return this.silentWarnings||console.warn("No texture found matching key: "+T),this;var A=T.key;return this.list.hasOwnProperty(A)&&(T.destroy(),this.emit(m.REMOVE,A),this.emit(m.REMOVE_KEY+A)),this},removeKey:function(T){return this.list.hasOwnProperty(T)&&delete this.list[T],this},addBase64:function(T,A){if(this.checkKey(T)){var M=this,I=new Image;I.onerror=function(){M.emit(m.ERROR,T)},I.onload=function(){var D=M.create(T,I);w.Image(D,0),M.emit(m.ADD,T,D),M.emit(m.ADD_KEY+T,D),M.emit(m.LOAD,T,D)},I.src=A}return this},getBase64:function(T,A,M,I){M===void 0&&(M="image/png"),I===void 0&&(I=.92);var D="",k=this.getFrame(T,A);if(k&&(k.source.isRenderTexture||k.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(k){var G=k.canvasData,R=o.create2D(this,G.width,G.height),H=R.getContext("2d",{willReadFrequently:!0});G.width>0&&G.height>0&&H.drawImage(k.source.image,G.x,G.y,G.width,G.height,0,0,G.width,G.height),D=R.toDataURL(M,I),o.remove(R)}return D},addImage:function(T,A,M){var I=null;return this.checkKey(T)&&(I=this.create(T,A),w.Image(I,0),M&&I.setDataSource(M),this.emit(m.ADD,T,I),this.emit(m.ADD_KEY+T,I)),I},addGLTexture:function(T,A){var M=null;if(this.checkKey(T)){var I=A.width,D=A.height;M=this.create(T,A,I,D),M.add("__BASE",0,0,0,I,D),this.emit(m.ADD,T,M),this.emit(m.ADD_KEY+T,M)}return M},addCompressedTexture:function(T,A,M){var I=null;if(this.checkKey(T)){if(I=this.create(T,A),I.add("__BASE",0,0,0,A.width,A.height),M){var D=function(G,R,H){Array.isArray(H.textures)||Array.isArray(H.frames)?w.JSONArray(G,R,H):w.JSONHash(G,R,H)};if(Array.isArray(M))for(var k=0;k<M.length;k++)D(I,k,M[k]);else D(I,0,M)}this.emit(m.ADD,T,I),this.emit(m.ADD_KEY+T,I)}return I},addRenderTexture:function(T,A){var M=null;return this.checkKey(T)&&(M=this.create(T,A),M.add("__BASE",0,0,0,A.width,A.height),this.emit(m.ADD,T,M),this.emit(m.ADD_KEY+T,M)),M},generate:function(T,A){if(this.checkKey(T)){var M=o.create(this,1,1);return A.canvas=M,v(A),this.addCanvas(T,M)}else return null},createCanvas:function(T,A,M){if(A===void 0&&(A=256),M===void 0&&(M=256),this.checkKey(T)){var I=o.create(this,A,M,h.CANVAS,!0);return this.addCanvas(T,I)}return null},addCanvas:function(T,A,M){M===void 0&&(M=!1);var I=null;return M?I=new u(this,T,A,A.width,A.height):this.checkKey(T)&&(I=new u(this,T,A,A.width,A.height),this.list[T]=I,this.emit(m.ADD,T,I),this.emit(m.ADD_KEY+T,I)),I},addDynamicTexture:function(T,A,M){var I=null;return typeof T=="string"&&!this.exists(T)?I=new d(this,T,A,M):(I=T,T=I.key),this.checkKey(T)?(this.list[T]=I,this.emit(m.ADD,T,I),this.emit(m.ADD_KEY+T,I)):I=null,I},addAtlas:function(T,A,M,I){return Array.isArray(M.textures)||Array.isArray(M.frames)?this.addAtlasJSONArray(T,A,M,I):this.addAtlasJSONHash(T,A,M,I)},addAtlasJSONArray:function(T,A,M,I){var D=null;if(A instanceof _?(T=A.key,D=A):this.checkKey(T)&&(D=this.create(T,A)),D){if(Array.isArray(M))for(var k=M.length===1,G=0;G<D.source.length;G++){var R=k?M[0]:M[G];w.JSONArray(D,G,R)}else w.JSONArray(D,0,M);I&&D.setDataSource(I),this.emit(m.ADD,T,D),this.emit(m.ADD_KEY+T,D)}return D},addAtlasJSONHash:function(T,A,M,I){var D=null;if(A instanceof _?(T=A.key,D=A):this.checkKey(T)&&(D=this.create(T,A)),D){if(Array.isArray(M))for(var k=0;k<M.length;k++)w.JSONHash(D,k,M[k]);else w.JSONHash(D,0,M);I&&D.setDataSource(I),this.emit(m.ADD,T,D),this.emit(m.ADD_KEY+T,D)}return D},addAtlasXML:function(T,A,M,I){var D=null;return A instanceof _?(T=A.key,D=A):this.checkKey(T)&&(D=this.create(T,A)),D&&(w.AtlasXML(D,0,M),I&&D.setDataSource(I),this.emit(m.ADD,T,D),this.emit(m.ADD_KEY+T,D)),D},addUnityAtlas:function(T,A,M,I){var D=null;return A instanceof _?(T=A.key,D=A):this.checkKey(T)&&(D=this.create(T,A)),D&&(w.UnityYAML(D,0,M),I&&D.setDataSource(I),this.emit(m.ADD,T,D),this.emit(m.ADD_KEY+T,D)),D},addSpriteSheet:function(T,A,M,I){var D=null;if(A instanceof _?(T=A.key,D=A):this.checkKey(T)&&(D=this.create(T,A)),D){var k=D.source[0].width,G=D.source[0].height;w.SpriteSheet(D,0,0,0,k,G,M),I&&D.setDataSource(I),this.emit(m.ADD,T,D),this.emit(m.ADD_KEY+T,D)}return D},addSpriteSheetFromAtlas:function(T,A){if(!this.checkKey(T))return null;var M=y(A,"atlas",null),I=y(A,"frame",null);if(!(!M||!I)){var D=this.get(M),k=D.get(I);if(k){var G=k.source.image;G||(G=k.source.glTexture);var R=this.create(T,G);return k.trimmed?w.SpriteSheetFromAtlas(R,k,A):w.SpriteSheet(R,0,k.cutX,k.cutY,k.cutWidth,k.cutHeight,A),this.emit(m.ADD,T,R),this.emit(m.ADD_KEY+T,R),R}}},addUint8Array:function(T,A,M,I){if(!this.checkKey(T)||A.length/4!==M*I)return null;var D=this.create(T,A,M,I);return D.add("__BASE",0,0,0,M,I),this.emit(m.ADD,T,D),this.emit(m.ADD_KEY+T,D),D},create:function(T,A,M,I){var D=null;return this.checkKey(T)&&(D=new _(this,T,A,M,I),this.list[T]=D),D},exists:function(T){return this.list.hasOwnProperty(T)},get:function(T){return T===void 0&&(T="__DEFAULT"),this.list[T]?this.list[T]:T instanceof _?T:T instanceof p?T.texture:this.list.__MISSING},cloneFrame:function(T,A){if(this.list[T])return this.list[T].get(A).clone()},getFrame:function(T,A){if(this.list[T])return this.list[T].get(A)},parseFrame:function(T){if(T){if(typeof T=="string")return this.getFrame(T);if(Array.isArray(T)&&T.length===2)return this.getFrame(T[0],T[1]);if(b(T))return this.getFrame(T.key,T.frame);if(T instanceof _)return T.get();if(T instanceof p)return T}else return},getTextureKeys:function(){var T=[];for(var A in this.list)A!=="__DEFAULT"&&A!=="__MISSING"&&A!=="__WHITE"&&A!=="__NORMAL"&&T.push(A);return T},getPixel:function(T,A,M,I){var D=this.getFrame(M,I);if(D){T-=D.x,A-=D.y;var k=D.data.cut;if(T+=k.x,A+=k.y,T>=k.x&&T<k.r&&A>=k.y&&A<k.b){var G=this._tempContext;G.clearRect(0,0,1,1),G.drawImage(D.source.image,T,A,1,1,0,0,1,1);var R=G.getImageData(0,0,1,1);return new c(R.data[0],R.data[1],R.data[2],R.data[3])}}return null},getPixelAlpha:function(T,A,M,I){var D=this.getFrame(M,I);if(D){T-=D.x,A-=D.y;var k=D.data.cut;if(T+=k.x,A+=k.y,T>=k.x&&T<k.r&&A>=k.y&&A<k.b){var G=this._tempContext;G.clearRect(0,0,1,1),G.drawImage(D.source.image,T,A,1,1,0,0,1,1);var R=G.getImageData(0,0,1,1);return R.data[3]}}return null},setTexture:function(T,A,M){return this.list[A]&&(T.texture=this.list[A],T.frame=T.texture.get(M)),T},renameTexture:function(T,A){var M=this.get(T);return M&&T!==A?(M.key=A,this.list[A]=M,delete this.list[T],!0):!1},each:function(T,A){for(var M=[null],I=1;I<arguments.length;I++)M.push(arguments[I]);for(var D in this.list)M[0]=this.list[D],T.apply(A,M)},resetStamp:function(T,A){T===void 0&&(T=1),A===void 0&&(A=16777215);var M=this.stamp;return M.setCrop(),M.setPosition(0),M.setAngle(0),M.setScale(1),M.setAlpha(T),M.setTint(A),M.setTexture("__WHITE"),M},destroy:function(){for(var T in this.list)this.list[T].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});n.exports=S},11876:(n,a,s)=>{var o=s(27919),u=s(83419),l=s(50030),c=s(29795),h=s(82751),d=new u({initialize:function(m,p,g,v,y){y===void 0&&(y=!1);var x=m.manager.game;this.renderer=x.renderer,this.texture=m,this.source=p,this.image=p.compressed?null:p,this.compressionAlgorithm=p.compressed?p.format:null,this.resolution=1,this.width=g||p.naturalWidth||p.videoWidth||p.width||0,this.height=v||p.naturalHeight||p.videoHeight||p.height||0,this.scaleMode=c.DEFAULT,this.isCanvas=p instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&p instanceof HTMLVideoElement,this.isRenderTexture=p.type==="RenderTexture"||p.type==="DynamicTexture",this.isGLTexture=p instanceof h,this.isPowerOf2=l(this.width,this.height),this.glTexture=null,this.flipY=y,this.init(x)},init:function(f){var m=this.renderer;if(m){var p=this.source;if(m.gl){var g=this.image,v=this.flipY,y=this.width,x=this.height,b=this.scaleMode;this.isCanvas?this.glTexture=m.createCanvasTexture(g,!1,v):this.isVideo?this.glTexture=m.createVideoTexture(g,!1,v):this.isRenderTexture?this.glTexture=m.createTextureFromSource(null,y,x,b):this.isGLTexture?this.glTexture=p:this.compressionAlgorithm?this.glTexture=m.createTextureFromSource(p,void 0,void 0,b):p instanceof Uint8Array?this.glTexture=m.createUint8ArrayTexture(p,y,x,b):this.glTexture=m.createTextureFromSource(g,y,x,b)}else this.isRenderTexture&&(this.image=p.canvas)}f.config.antialias||this.setFilter(1)},setFilter:function(f){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,f),this.scaleMode=f},setFlipY:function(f){return f===void 0&&(f=!0),f===this.flipY?this:(this.flipY=f,this.update(),this)},update:function(){var f=this.renderer,m=this.image,p=this.flipY,g=f.gl;g&&this.isCanvas?f.updateCanvasTexture(m,this.glTexture,p):g&&this.isVideo&&f.updateVideoTexture(m,this.glTexture,p)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});n.exports=d},19673:n=>{var a={LINEAR:0,NEAREST:1};n.exports=a},44538:n=>{n.exports="addtexture"},63486:n=>{n.exports="addtexture-"},94851:n=>{n.exports="onerror"},29099:n=>{n.exports="onload"},8678:n=>{n.exports="ready"},86415:n=>{n.exports="removetexture"},30879:n=>{n.exports="removetexture-"},69442:(n,a,s)=>{n.exports={ADD:s(44538),ADD_KEY:s(63486),ERROR:s(94851),LOAD:s(29099),READY:s(8678),REMOVE:s(86415),REMOVE_KEY:s(30879)}},27458:(n,a,s)=>{var o=s(79291),u=s(19673),l={CanvasTexture:s(57382),DynamicTexture:s(81320),Events:s(69442),FilterMode:u,Frame:s(4327),Parsers:s(61309),Texture:s(79237),TextureManager:s(17130),TextureSource:s(11876)};l=o(!1,l,u),n.exports=l},89905:n=>{var a=function(s,o,u){if(!u.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var l=s.source[o];s.add("__BASE",o,0,0,l.width,l.height);for(var c=u.getElementsByTagName("SubTexture"),h,d=0;d<c.length;d++){var f=c[d].attributes,m=f.name.value,p=parseInt(f.x.value,10),g=parseInt(f.y.value,10),v=parseInt(f.width.value,10),y=parseInt(f.height.value,10);if(h=s.add(m,o,p,g,v,y),f.frameX){var x=Math.abs(parseInt(f.frameX.value,10)),b=Math.abs(parseInt(f.frameY.value,10)),w=parseInt(f.frameWidth.value,10),C=parseInt(f.frameHeight.value,10);h.setTrim(v,y,x,b,w,C)}}return s};n.exports=a},72893:n=>{var a=function(s,o){var u=s.source[o];return s.add("__BASE",o,0,0,u.width,u.height),s};n.exports=a},4832:n=>{var a=function(s,o){var u=s.source[o];return s.add("__BASE",o,0,0,u.width,u.height),s};n.exports=a},78566:(n,a,s)=>{var o=s(41786),u=function(l,c,h){if(!h.frames&&!h.textures){console.warn("Invalid Texture Atlas JSON Array");return}var d=l.source[c];l.add("__BASE",c,0,0,d.width,d.height);for(var f=Array.isArray(h.textures)?h.textures[c].frames:h.frames,m,p=0;p<f.length;p++){var g=f[p];if(m=l.add(g.filename,c,g.frame.x,g.frame.y,g.frame.w,g.frame.h),!m){console.warn("Invalid atlas json, frame already exists: "+g.filename);continue}g.trimmed&&m.setTrim(g.sourceSize.w,g.sourceSize.h,g.spriteSourceSize.x,g.spriteSourceSize.y,g.spriteSourceSize.w,g.spriteSourceSize.h),g.rotated&&(m.rotated=!0,m.updateUVsInverted());var v=g.anchor||g.pivot;v&&(m.customPivot=!0,m.pivotX=v.x,m.pivotY=v.y),g.scale9Borders&&m.setScale9(g.scale9Borders.x,g.scale9Borders.y,g.scale9Borders.w,g.scale9Borders.h),m.customData=o(g)}for(var y in h)y!=="frames"&&(Array.isArray(h[y])?l.customData[y]=h[y].slice(0):l.customData[y]=h[y]);return l};n.exports=u},39711:(n,a,s)=>{var o=s(41786),u=function(l,c,h){if(!h.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var d=l.source[c];l.add("__BASE",c,0,0,d.width,d.height);var f=h.frames,m;for(var p in f)if(f.hasOwnProperty(p)){var g=f[p];if(m=l.add(p,c,g.frame.x,g.frame.y,g.frame.w,g.frame.h),!m){console.warn("Invalid atlas json, frame already exists: "+p);continue}g.trimmed&&m.setTrim(g.sourceSize.w,g.sourceSize.h,g.spriteSourceSize.x,g.spriteSourceSize.y,g.spriteSourceSize.w,g.spriteSourceSize.h),g.rotated&&(m.rotated=!0,m.updateUVsInverted());var v=g.anchor||g.pivot;v&&(m.customPivot=!0,m.pivotX=v.x,m.pivotY=v.y),g.scale9Borders&&m.setScale9(g.scale9Borders.x,g.scale9Borders.y,g.scale9Borders.w,g.scale9Borders.h),m.customData=o(g)}for(var y in h)y!=="frames"&&(Array.isArray(h[y])?l.customData[y]=h[y].slice(0):l.customData[y]=h[y]);return l};n.exports=u},31403:n=>{var a=function(s){var o=[171,75,84,88,32,49,49,187,13,10,26,10],u,l=new Uint8Array(s,0,12);for(u=0;u<l.length;u++)if(l[u]!==o[u]){console.warn("KTXParser - Invalid file format");return}var c=Uint32Array.BYTES_PER_ELEMENT,h=new DataView(s,12,13*c),d=h.getUint32(0,!0)===67305985,f=h.getUint32(1*c,d);if(f!==0){console.warn("KTXParser - Only compressed formats supported");return}var m=h.getUint32(4*c,d),p=h.getUint32(6*c,d),g=h.getUint32(7*c,d),v=Math.max(1,h.getUint32(11*c,d)),y=h.getUint32(12*c,d),x=new Array(v),b=12+13*4+y,w=p,C=g;for(u=0;u<v;u++){var _=new Int32Array(s,b,1)[0];b+=4,x[u]={data:new Uint8Array(s,b,_),width:w,height:C},w=Math.max(1,w>>1),C=Math.max(1,C>>1),b+=_}return{mipmaps:x,width:p,height:g,internalFormat:m,compressed:!0,generateMipmap:!1}};n.exports=a},82038:n=>{function a(A,M,I,D,k,G,R){return R===void 0&&(R=16),Math.floor((A+I)/k)*Math.floor((M+D)/G)*R}function s(A,M){return A=Math.max(A,16),M=Math.max(M,8),A*M/4}function o(A,M){return A=Math.max(A,8),M=Math.max(M,8),A*M/2}function u(A,M){return Math.ceil(A/4)*Math.ceil(M/4)*16}function l(A,M){return a(A,M,3,3,4,4,8)}function c(A,M){return a(A,M,3,3,4,4)}function h(A,M){return a(A,M,4,3,5,4)}function d(A,M){return a(A,M,4,4,5,5)}function f(A,M){return a(A,M,5,4,6,5)}function m(A,M){return a(A,M,5,5,6,6)}function p(A,M){return a(A,M,7,4,8,5)}function g(A,M){return a(A,M,7,5,8,6)}function v(A,M){return a(A,M,7,7,8,8)}function y(A,M){return a(A,M,9,4,10,5)}function x(A,M){return a(A,M,9,5,10,6)}function b(A,M){return a(A,M,9,7,10,8)}function w(A,M){return a(A,M,9,9,10,10)}function C(A,M){return a(A,M,11,9,12,10)}function _(A,M){return a(A,M,11,11,12,12)}var S={0:{sizeFunc:s,glFormat:[35841]},1:{sizeFunc:s,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:l,glFormat:[36196]},7:{sizeFunc:l,glFormat:[33776,35916]},8:{sizeFunc:c,glFormat:[33777,35917]},9:{sizeFunc:c,glFormat:[33778,35918]},11:{sizeFunc:c,glFormat:[33779,35919]},14:{sizeFunc:u,glFormat:[36494,36495]},15:{sizeFunc:u,glFormat:[36492,36493]},22:{sizeFunc:l,glFormat:[37492,37493]},23:{sizeFunc:c,glFormat:[37496,37497]},24:{sizeFunc:l,glFormat:[37494,37495]},25:{sizeFunc:l,glFormat:[37488]},26:{sizeFunc:c,glFormat:[37490]},27:{sizeFunc:c,glFormat:[37808,37840]},28:{sizeFunc:h,glFormat:[37809,37841]},29:{sizeFunc:d,glFormat:[37810,37842]},30:{sizeFunc:f,glFormat:[37811,37843]},31:{sizeFunc:m,glFormat:[37812,37844]},32:{sizeFunc:p,glFormat:[37813,37845]},33:{sizeFunc:g,glFormat:[37814,37846]},34:{sizeFunc:v,glFormat:[37815,37847]},35:{sizeFunc:y,glFormat:[37816,37848]},36:{sizeFunc:x,glFormat:[37817,37849]},37:{sizeFunc:b,glFormat:[37818,37850]},38:{sizeFunc:w,glFormat:[37819,37851]},39:{sizeFunc:C,glFormat:[37820,37852]},40:{sizeFunc:_,glFormat:[37821,37853]}},T=function(A){for(var M=new Uint32Array(A,0,13),I=M[0],D=I===55727696,k=D?M[2]:M[3],G=M[4],R=S[k].glFormat[G],H=S[k].sizeFunc,j=M[11],Z=M[7],ee=M[6],Y=52+M[12],V=new Uint8Array(A,Y),O=new Array(j),F=0,X=Z,ie=ee,re=0;re<j;re++){var q=H(X,ie);O[re]={data:new Uint8Array(V.buffer,V.byteOffset+F,q),width:X,height:ie},X=Math.max(1,X>>1),ie=Math.max(1,ie>>1),F+=q}return{mipmaps:O,width:Z,height:ee,internalFormat:R,compressed:!0,generateMipmap:!1}};n.exports=T},75549:(n,a,s)=>{var o=s(95540),u=function(l,c,h,d,f,m,p){var g=o(p,"frameWidth",null),v=o(p,"frameHeight",g);if(g===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var y=l.source[c];l.add("__BASE",c,0,0,y.width,y.height);var x=o(p,"startFrame",0),b=o(p,"endFrame",-1),w=o(p,"margin",0),C=o(p,"spacing",0),_=Math.floor((f-w+C)/(g+C)),S=Math.floor((m-w+C)/(v+C)),T=_*S;T===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",l.key),(x>T||x<-T)&&(x=0),x<0&&(x=T+x),(b===-1||b>T||b<x)&&(b=T);for(var A=w,M=w,I=0,D=0,k=0,G=0;G<T;G++){I=0,D=0;var R=A+g,H=M+v;R>f&&(I=R-f),H>m&&(D=H-m),G>=x&&G<=b&&(l.add(k,c,h+A,d+M,g-I,v-D),k++),A+=g+C,A+g>f&&(A=w,M+=v+C)}return l};n.exports=u},47534:(n,a,s)=>{var o=s(95540),u=function(l,c,h){var d=o(h,"frameWidth",null),f=o(h,"frameHeight",d);if(!d)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var m=l.source[0];l.add("__BASE",0,0,0,m.width,m.height);var p=o(h,"startFrame",0),g=o(h,"endFrame",-1),v=o(h,"margin",0),y=o(h,"spacing",0),x=c.cutX,b=c.cutY,w=c.cutWidth,C=c.cutHeight,_=c.realWidth,S=c.realHeight,T=Math.floor((_-v+y)/(d+y)),A=Math.floor((S-v+y)/(f+y)),M=T*A,I=c.x,D=d-I,k=d-(_-w-I),G=c.y,R=f-G,H=f-(S-C-G);(p>M||p<-M)&&(p=0),p<0&&(p=M+p),g!==-1&&(M=p+(g+1));for(var j,Z=v,ee=v,Y=0,V=0,O=0;O<A;O++){for(var F=O===0,X=O===A-1,ie=0;ie<T;ie++){var re=ie===0,q=ie===T-1;if(j=l.add(Y,V,x+Z,b+ee,d,f),re||F||q||X){var ae=re?I:0,ue=F?G:0,me=0,be=0;re&&(me+=d-D),q&&(me+=d-k),F&&(be+=f-R),X&&(be+=f-H);var ke=d-me,ze=f-be;j.cutWidth=ke,j.cutHeight=ze,j.setTrim(d,f,ae,ue,ke,ze)}Z+=y,re?Z+=D:q?Z+=k:Z+=d,Y++}Z=v,ee+=y,F?ee+=R:X?ee+=H:ee+=f}return l};n.exports=u},86147:n=>{var a=0,s=function(u,l,c,h){var d=a-h.y-h.height;u.add(c,l,h.x,d,h.width,h.height)},o=function(u,l,c){var h=u.source[l];u.add("__BASE",l,0,0,h.width,h.height),a=h.height;for(var d=c.split(`
`),f=/^[ ]*(- )*(\w+)+[: ]+(.*)/,m="",p="",g={x:0,y:0,width:0,height:0},v=0;v<d.length;v++){var y=d[v].match(f);if(y){var x=y[1]==="- ",b=y[2],w=y[3];if(x&&(p!==m&&(s(u,l,p,g),m=p),g={x:0,y:0,width:0,height:0}),b==="name"){p=w;continue}switch(b){case"x":case"y":case"width":case"height":g[b]=parseInt(w,10);break}}}return p!==m&&s(u,l,p,g),u};n.exports=o},55222:(n,a,s)=>{var o=s(50030),u=function(m){for(var p=m.mipmaps,g=1;g<p.length;g++){var v=p[g].width,y=p[g].height;if(!o(v,y))return console.warn("Mip level "+g+" is not a power-of-two size: "+v+"x"+y),!1}var x=f[m.internalFormat];return x?x(m):(console.warn("No format checker found for internal format "+m.internalFormat+". Assuming valid."),!0)};function l(m){for(var p=m.mipmaps,g=0;g<p.length;g++){var v=p[g].width,y=p[g].height;if((v<<g)%4!==0||(y<<g)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+g+" is "+v+"x"+y),!1}return!0}function c(){return!0}function h(m){var p=m.mipmaps,g=p[0];return o(g.width,g.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+g.width+"x"+g.height),!1)}function d(m){var p=m.mipmaps,g=p[0];return g.width%4!==0||g.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+g.width+"x"+g.height+" pixels"),!1):!0}var f={37488:c,37489:c,37490:c,37491:c,37492:c,37493:c,37494:c,37495:c,37496:c,37497:c,36196:c,37808:c,37809:c,37810:c,37811:c,37812:c,37813:c,37814:c,37815:c,37816:c,37817:c,37818:c,37819:c,37820:c,37821:c,37840:c,37841:c,37842:c,37843:c,37844:c,37845:c,37846:c,37847:c,37848:c,37849:c,37850:c,37851:c,37852:c,37853:c,36492:l,36493:l,36494:l,36495:l,36283:l,36284:l,36285:l,36286:l,35840:h,35841:h,35842:h,35843:h,33776:l,33777:l,33778:l,33779:l,35916:d,35917:d,35918:d,35919:d};n.exports=u},61309:(n,a,s)=>{n.exports={AtlasXML:s(89905),Canvas:s(72893),Image:s(4832),JSONArray:s(78566),JSONHash:s(39711),KTXParser:s(31403),PVRParser:s(82038),SpriteSheet:s(75549),SpriteSheetFromAtlas:s(47534),UnityYAML:s(86147)}},80341:n=>{n.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c,h,d,f,m,p,g){(d===void 0||d<=0)&&(d=32),(f===void 0||f<=0)&&(f=32),m===void 0&&(m=0),p===void 0&&(p=0),this.name=c,this.firstgid=h|0,this.imageWidth=d|0,this.imageHeight=f|0,this.imageMargin=m|0,this.imageSpacing=p|0,this.properties=g||{},this.images=[],this.total=0},containsImageIndex:function(l){return l>=this.firstgid&&l<this.firstgid+this.total},addImage:function(l,c){return this.images.push({gid:l,image:c}),this.total++,this}});n.exports=u},27462:(n,a,s)=>{var o=s(83419),u=new o({initialize:function(c){if(this.gids=[],c!==void 0)for(var h=0;h<c.length;++h)for(var d=c[h],f=0;f<d.total;++f)this.gids[d.firstgid+f]=d;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(l){this.gids=l?this._gids:void 0}},getTypeIncludingTile:function(l){if(l.type!==void 0&&l.type!=="")return l.type;if(!(!this.gids||l.gid===void 0)){var c=this.gids[l.gid];if(c){var h=c.getTileData(l.gid);if(h)return h.type}}},setTextureAndFrame:function(l,c,h,d){if(c===null&&this.gids&&d.gid!==void 0){var f=this.gids[d.gid];f&&(c===null&&f.image!==void 0&&(c=f.image.key),h===null&&(h=d.gid-f.firstgid),l.scene.textures.getFrame(c,h)||(c=null,h=null))}l.setTexture(c,h)},setPropertiesFromTiledObject:function(l,c){if(this.gids!==void 0&&c.gid!==void 0){var h=this.gids[c.gid];h!==void 0&&this.setFromJSON(l,h.getTileProperties(c.gid))}this.setFromJSON(l,c.properties)},setFromJSON:function(l,c){if(c){if(Array.isArray(c)){for(var h=0;h<c.length;h++){var d=c[h];l[d.name]!==void 0?l[d.name]=d.value:l.setData(d.name,d.value)}return}for(var f in c)l[f]!==void 0?l[f]=c[f]:l.setData(f,c[f])}}});n.exports=u},31989:(n,a,s)=>{var o=s(80341),u=s(87010),l=s(46177),c=s(49075),h=function(d,f,m,p,g,v,y,x){m===void 0&&(m=32),p===void 0&&(p=32),g===void 0&&(g=10),v===void 0&&(v=10),x===void 0&&(x=!1);var b=null;if(Array.isArray(y)){var w=f!==void 0?f:"map";b=l(w,o.ARRAY_2D,y,m,p,x)}else if(f!==void 0){var C=d.cache.tilemap.get(f);C?b=l(f,C.format,C.data,m,p,x):console.warn("No map data found for key "+f)}return b===null&&(b=new u({tileWidth:m,tileHeight:p,width:g,height:v})),new c(d,b)};n.exports=h},23029:(n,a,s)=>{var o=s(83419),u=s(31401),l=s(91907),c=s(62644),h=s(93232),d=new o({Mixins:[u.AlphaSingle,u.Flip,u.Visible],initialize:function(m,p,g,v,y,x,b,w){this.layer=m,this.index=p,this.x=g,this.y=v,this.width=y,this.height=x,this.right,this.bottom,this.baseWidth=b!==void 0?b:y,this.baseHeight=w!==void 0?w:x,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(f,m){return!(f<this.pixelX||m<this.pixelY||f>this.right||m>this.bottom)},copy:function(f){return this.index=f.index,this.alpha=f.alpha,this.properties=c(f.properties),this.visible=f.visible,this.setFlip(f.flipX,f.flipY),this.tint=f.tint,this.rotation=f.rotation,this.collideUp=f.collideUp,this.collideDown=f.collideDown,this.collideLeft=f.collideLeft,this.collideRight=f.collideRight,this.collisionCallback=f.collisionCallback,this.collisionCallbackContext=f.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(f){var m=this.tilemapLayer;if(m){var p=m.tileToWorldXY(this.x,this.y,void 0,f);return p.x}return this.x*this.baseWidth},getRight:function(f){var m=this.tilemapLayer;return m?this.getLeft(f)+this.width*m.scaleX:this.getLeft(f)+this.width},getTop:function(f){var m=this.tilemapLayer;if(m){var p=m.tileToWorldXY(this.x,this.y,void 0,f);return p.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(f){var m=this.tilemapLayer;return m?this.getTop(f)+this.height*m.scaleY:this.getTop(f)+this.height},getBounds:function(f,m){return m===void 0&&(m=new h),m.x=this.getLeft(f),m.y=this.getTop(f),m.width=this.getRight(f)-m.x,m.height=this.getBottom(f)-m.y,m},getCenterX:function(f){return(this.getLeft(f)+this.getRight(f))/2},getCenterY:function(f){return(this.getTop(f)+this.getBottom(f))/2},intersects:function(f,m,p,g){return!(p<=this.pixelX||g<=this.pixelY||f>=this.right||m>=this.bottom)},isInteresting:function(f,m){return f&&m?this.canCollide||this.hasInterestingFace:f?this.collides:m?this.hasInterestingFace:!1},resetCollision:function(f){if(f===void 0&&(f=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,f){var m=this.tilemapLayer;m&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(f,m,p,g,v){if(m===void 0&&(m=f),p===void 0&&(p=f),g===void 0&&(g=f),v===void 0&&(v=!0),this.collideLeft=f,this.collideRight=m,this.collideUp=p,this.collideDown=g,this.faceLeft=f,this.faceRight=m,this.faceTop=p,this.faceBottom=g,v){var y=this.tilemapLayer;y&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(f,m){return f===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=f,this.collisionCallbackContext=m),this},setSize:function(f,m,p,g){return f!==void 0&&(this.width=f),m!==void 0&&(this.height=m),p!==void 0&&(this.baseWidth=p),g!==void 0&&(this.baseHeight=g),this.updatePixelXY(),this},updatePixelXY:function(){var f=this.layer.orientation;if(f===l.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(f===l.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(f===l.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(f===l.HEXAGONAL){var m=this.layer.staggerAxis,p=this.layer.staggerIndex,g=this.layer.hexSideLength,v,y;m==="y"?(y=(this.baseHeight-g)/2+g,p==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*y):m==="x"&&(v=(this.baseWidth-g)/2+g,this.pixelX=this.x*v,p==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var f=this.layer.tilemapLayer;if(f){var m=f.gidMap[this.index];if(m)return m}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var f=this.tilemapLayer;return f?f.tilemap:null}}});n.exports=d},49075:(n,a,s)=>{var o=s(84101),u=s(83419),l=s(39506),c=s(80341),h=s(95540),d=s(14977),f=s(27462),m=s(91907),p=s(36305),g=s(19133),v=s(68287),y=s(23029),x=s(81086),b=s(20442),w=s(33629),C=new u({initialize:function(S,T){this.scene=S,this.tileWidth=T.tileWidth,this.tileHeight=T.tileHeight,this.width=T.width,this.height=T.height,this.orientation=T.orientation,this.renderOrder=T.renderOrder,this.format=T.format,this.version=T.version,this.properties=T.properties,this.widthInPixels=T.widthInPixels,this.heightInPixels=T.heightInPixels,this.imageCollections=T.imageCollections,this.images=T.images,this.layers=T.layers,this.tiles=T.tiles,this.tilesets=T.tilesets,this.objects=T.objects,this.currentLayerIndex=0,this.hexSideLength=T.hexSideLength;var A=this.orientation;this._convert={WorldToTileXY:x.GetWorldToTileXYFunction(A),WorldToTileX:x.GetWorldToTileXFunction(A),WorldToTileY:x.GetWorldToTileYFunction(A),TileToWorldXY:x.GetTileToWorldXYFunction(A),TileToWorldX:x.GetTileToWorldXFunction(A),TileToWorldY:x.GetTileToWorldYFunction(A),GetTileCorners:x.GetTileCornersFunction(A)}},setRenderOrder:function(_){var S=["right-down","left-down","right-up","left-up"];return typeof _=="number"&&(_=S[_]),S.indexOf(_)>-1&&(this.renderOrder=_),this},addTilesetImage:function(_,S,T,A,M,I,D,k){if(_===void 0)return null;S==null&&(S=_);var G=this.scene.sys.textures;if(!G.exists(S))return console.warn('Texture key "%s" not found',S),null;var R=G.get(S),H=this.getTilesetIndex(_);if(H===null&&this.format===c.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',_,this.tilesets),null;var j=this.tilesets[H];return j?((T||A)&&j.setTileSize(T,A),(M||I)&&j.setSpacing(M,I),j.setImage(R),j):(T===void 0&&(T=this.tileWidth),A===void 0&&(A=this.tileHeight),M===void 0&&(M=0),I===void 0&&(I=0),D===void 0&&(D=0),k===void 0&&(k={x:0,y:0}),j=new w(_,D,T,A,M,I,void 0,void 0,k),j.setImage(R),this.tilesets.push(j),this.tiles=o(this),j)},copy:function(_,S,T,A,M,I,D,k){return k=this.getLayer(k),k!==null?(x.Copy(_,S,T,A,M,I,D,k),this):null},createBlankLayer:function(_,S,T,A,M,I,D,k){T===void 0&&(T=0),A===void 0&&(A=0),M===void 0&&(M=this.width),I===void 0&&(I=this.height),D===void 0&&(D=this.tileWidth),k===void 0&&(k=this.tileHeight);var G=this.getLayerIndex(_);if(G!==null)return console.warn("Invalid Tilemap Layer ID: "+_),null;for(var R=new d({name:_,tileWidth:D,tileHeight:k,width:M,height:I,orientation:this.orientation}),H,j=0;j<I;j++){H=[];for(var Z=0;Z<M;Z++)H.push(new y(R,-1,Z,j,D,k,this.tileWidth,this.tileHeight));R.data.push(H)}this.layers.push(R),this.currentLayerIndex=this.layers.length-1;var ee=new b(this.scene,this,this.currentLayerIndex,S,T,A);return ee.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(ee),ee},createLayer:function(_,S,T,A){var M=this.getLayerIndex(_);if(M===null)return console.warn("Invalid Tilemap Layer ID: "+_),typeof _=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var I=this.layers[M];if(I.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+_),null;this.currentLayerIndex=M,T===void 0&&(T=I.x),A===void 0&&(A=I.y);var D=new b(this.scene,this,M,S,T,A);return D.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(D),D},createFromObjects:function(_,S,T){T===void 0&&(T=!0);var A=[],M=this.getObjectLayer(_);if(!M)return console.warn("createFromObjects: Invalid objectLayerName given: "+_),A;var I=new f(T?this.tilesets:void 0);Array.isArray(S)||(S=[S]);for(var D=M.objects,k=0;k<S.length;k++){var G=S[k],R=h(G,"id",null),H=h(G,"gid",null),j=h(G,"name",null),Z=h(G,"type",null);I.enabled=!h(G,"ignoreTileset",null);for(var ee,Y=[],V=0;V<D.length;V++)ee=D[V],(R===null&&H===null&&j===null&&Z===null||R!==null&&ee.id===R||H!==null&&ee.gid===H||j!==null&&ee.name===j||Z!==null&&I.getTypeIncludingTile(ee)===Z)&&Y.push(ee);for(var O=h(G,"classType",v),F=h(G,"scene",this.scene),X=h(G,"container",null),ie=h(G,"key",null),re=h(G,"frame",null),q=0;q<Y.length;q++){ee=Y[q];var ae=new O(F);if(ae.setName(ee.name),ae.setPosition(ee.x,ee.y),I.setTextureAndFrame(ae,ie,re,ee),ee.width&&(ae.displayWidth=ee.width),ee.height&&(ae.displayHeight=ee.height),this.orientation===m.ISOMETRIC){var ue=this.tileWidth/this.tileHeight,me={x:ae.x-ae.y,y:(ae.x+ae.y)/ue};ae.x=me.x,ae.y=me.y}var be={x:ae.originX*ee.width,y:(ae.originY-(ee.gid?1:0))*ee.height};if(ee.rotation){var ke=l(ee.rotation);p(be,ke),ae.rotation=ke}ae.x+=be.x,ae.y+=be.y,(ee.flippedHorizontal!==void 0||ee.flippedVertical!==void 0)&&ae.setFlip(ee.flippedHorizontal,ee.flippedVertical),ee.visible||(ae.visible=!1),I.setPropertiesFromTiledObject(ae,ee),X?X.add(ae):F.add.existing(ae),A.push(ae)}}return A},createFromTiles:function(_,S,T,A,M,I){return I=this.getLayer(I),I===null?null:x.CreateFromTiles(_,S,T,A,M,I)},fill:function(_,S,T,A,M,I,D){return I===void 0&&(I=!0),D=this.getLayer(D),D===null?null:(x.Fill(_,S,T,A,M,I,D),this)},filterObjects:function(_,S,T){if(typeof _=="string"){var A=_;if(_=this.getObjectLayer(_),!_)return console.warn("No object layer found with the name: "+A),null}return _.objects.filter(S,T)},filterTiles:function(_,S,T,A,M,I,D,k){return k=this.getLayer(k),k===null?null:x.FilterTiles(_,S,T,A,M,I,D,k)},findByIndex:function(_,S,T,A){return A=this.getLayer(A),A===null?null:x.FindByIndex(_,S,T,A)},findObject:function(_,S,T){if(typeof _=="string"){var A=_;if(_=this.getObjectLayer(_),!_)return console.warn("No object layer found with the name: "+A),null}return _.objects.find(S,T)||null},findTile:function(_,S,T,A,M,I,D,k){return k=this.getLayer(k),k===null?null:x.FindTile(_,S,T,A,M,I,D,k)},forEachTile:function(_,S,T,A,M,I,D,k){return k=this.getLayer(k),k===null?null:(x.ForEachTile(_,S,T,A,M,I,D,k),this)},getImageIndex:function(_){return this.getIndex(this.images,_)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(_){return _.name})},getIndex:function(_,S){for(var T=0;T<_.length;T++)if(_[T].name===S)return T;return null},getLayer:function(_){var S=this.getLayerIndex(_);return S!==null?this.layers[S]:null},getObjectLayer:function(_){var S=this.getIndex(this.objects,_);return S!==null?this.objects[S]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(_){return _.name})},getLayerIndex:function(_){return _===void 0?this.currentLayerIndex:typeof _=="string"?this.getLayerIndexByName(_):typeof _=="number"&&_<this.layers.length?_:_ instanceof b&&_.tilemap===this?_.layerIndex:null},getLayerIndexByName:function(_){return this.getIndex(this.layers,_)},getTileAt:function(_,S,T,A){return A=this.getLayer(A),A===null?null:x.GetTileAt(_,S,T,A)},getTileAtWorldXY:function(_,S,T,A,M){return M=this.getLayer(M),M===null?null:x.GetTileAtWorldXY(_,S,T,A,M)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(_){return _.name})},getTilesWithin:function(_,S,T,A,M,I){return I=this.getLayer(I),I===null?null:x.GetTilesWithin(_,S,T,A,M,I)},getTilesWithinShape:function(_,S,T,A){return A=this.getLayer(A),A===null?null:x.GetTilesWithinShape(_,S,T,A)},getTilesWithinWorldXY:function(_,S,T,A,M,I,D){return D=this.getLayer(D),D===null?null:x.GetTilesWithinWorldXY(_,S,T,A,M,I,D)},getTileset:function(_){var S=this.getIndex(this.tilesets,_);return S!==null?this.tilesets[S]:null},getTilesetIndex:function(_){return this.getIndex(this.tilesets,_)},hasTileAt:function(_,S,T){return T=this.getLayer(T),T===null?null:x.HasTileAt(_,S,T)},hasTileAtWorldXY:function(_,S,T,A){return A=this.getLayer(A),A===null?null:x.HasTileAtWorldXY(_,S,T,A)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(_){this.setLayer(_)}},putTileAt:function(_,S,T,A,M){return A===void 0&&(A=!0),M=this.getLayer(M),M===null?null:x.PutTileAt(_,S,T,A,M)},putTileAtWorldXY:function(_,S,T,A,M,I){return A===void 0&&(A=!0),I=this.getLayer(I),I===null?null:x.PutTileAtWorldXY(_,S,T,A,M,I)},putTilesAt:function(_,S,T,A,M){return A===void 0&&(A=!0),M=this.getLayer(M),M===null?null:(x.PutTilesAt(_,S,T,A,M),this)},randomize:function(_,S,T,A,M,I){return I=this.getLayer(I),I===null?null:(x.Randomize(_,S,T,A,M,I),this)},calculateFacesAt:function(_,S,T){return T=this.getLayer(T),T===null?null:(x.CalculateFacesAt(_,S,T),this)},calculateFacesWithin:function(_,S,T,A,M){return M=this.getLayer(M),M===null?null:(x.CalculateFacesWithin(_,S,T,A,M),this)},removeLayer:function(_){var S=this.getLayerIndex(_);if(S!==null){g(this.layers,S);for(var T=S;T<this.layers.length;T++)this.layers[T].tilemapLayer&&this.layers[T].tilemapLayer.layerIndex--;return this.currentLayerIndex===S&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(_){var S=this.getLayerIndex(_);return S!==null?(_=this.layers[S],_.tilemapLayer.destroy(),g(this.layers,S),this.currentLayerIndex===S&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var _=this.layers,S=0;S<_.length;S++)_[S].tilemapLayer&&_[S].tilemapLayer.destroy(!1);return _.length=0,this.currentLayerIndex=0,this},removeTile:function(_,S,T){S===void 0&&(S=-1),T===void 0&&(T=!0);var A=[];Array.isArray(_)||(_=[_]);for(var M=0;M<_.length;M++){var I=_[M];A.push(this.removeTileAt(I.x,I.y,!0,T,I.tilemapLayer)),S>-1&&this.putTileAt(S,I.x,I.y,T,I.tilemapLayer)}return A},removeTileAt:function(_,S,T,A,M){return T===void 0&&(T=!0),A===void 0&&(A=!0),M=this.getLayer(M),M===null?null:x.RemoveTileAt(_,S,T,A,M)},removeTileAtWorldXY:function(_,S,T,A,M,I){return T===void 0&&(T=!0),A===void 0&&(A=!0),I=this.getLayer(I),I===null?null:x.RemoveTileAtWorldXY(_,S,T,A,M,I)},renderDebug:function(_,S,T){return T=this.getLayer(T),T===null?null:(this.orientation===m.ORTHOGONAL&&x.RenderDebug(_,S,T),this)},renderDebugFull:function(_,S){for(var T=this.layers,A=0;A<T.length;A++)x.RenderDebug(_,S,T[A]);return this},replaceByIndex:function(_,S,T,A,M,I,D){return D=this.getLayer(D),D===null?null:(x.ReplaceByIndex(_,S,T,A,M,I,D),this)},setCollision:function(_,S,T,A,M){return S===void 0&&(S=!0),T===void 0&&(T=!0),M===void 0&&(M=!0),A=this.getLayer(A),A===null?null:(x.SetCollision(_,S,T,A,M),this)},setCollisionBetween:function(_,S,T,A,M){return T===void 0&&(T=!0),A===void 0&&(A=!0),M=this.getLayer(M),M===null?null:(x.SetCollisionBetween(_,S,T,A,M),this)},setCollisionByProperty:function(_,S,T,A){return S===void 0&&(S=!0),T===void 0&&(T=!0),A=this.getLayer(A),A===null?null:(x.SetCollisionByProperty(_,S,T,A),this)},setCollisionByExclusion:function(_,S,T,A){return S===void 0&&(S=!0),T===void 0&&(T=!0),A=this.getLayer(A),A===null?null:(x.SetCollisionByExclusion(_,S,T,A),this)},setCollisionFromCollisionGroup:function(_,S,T){return _===void 0&&(_=!0),S===void 0&&(S=!0),T=this.getLayer(T),T===null?null:(x.SetCollisionFromCollisionGroup(_,S,T),this)},setTileIndexCallback:function(_,S,T,A){return A=this.getLayer(A),A===null?null:(x.SetTileIndexCallback(_,S,T,A),this)},setTileLocationCallback:function(_,S,T,A,M,I,D){return D=this.getLayer(D),D===null?null:(x.SetTileLocationCallback(_,S,T,A,M,I,D),this)},setLayer:function(_){var S=this.getLayerIndex(_);return S!==null&&(this.currentLayerIndex=S),this},setBaseTileSize:function(_,S){this.tileWidth=_,this.tileHeight=S,this.widthInPixels=this.width*_,this.heightInPixels=this.height*S;for(var T=0;T<this.layers.length;T++){this.layers[T].baseTileWidth=_,this.layers[T].baseTileHeight=S;for(var A=this.layers[T].data,M=this.layers[T].width,I=this.layers[T].height,D=0;D<I;D++)for(var k=0;k<M;k++){var G=A[D][k];G!==null&&G.setSize(void 0,void 0,_,S)}}return this},setLayerTileSize:function(_,S,T){if(T=this.getLayer(T),T===null)return this;T.tileWidth=_,T.tileHeight=S;for(var A=T.data,M=T.width,I=T.height,D=0;D<I;D++)for(var k=0;k<M;k++){var G=A[D][k];G!==null&&G.setSize(_,S)}return this},shuffle:function(_,S,T,A,M){return M=this.getLayer(M),M===null?null:(x.Shuffle(_,S,T,A,M),this)},swapByIndex:function(_,S,T,A,M,I,D){return D=this.getLayer(D),D===null?null:(x.SwapByIndex(_,S,T,A,M,I,D),this)},tileToWorldX:function(_,S,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldX(_,S,T)},tileToWorldY:function(_,S,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldY(_,S,T)},tileToWorldXY:function(_,S,T,A,M){return M=this.getLayer(M),M===null?null:this._convert.TileToWorldXY(_,S,T,A,M)},getTileCorners:function(_,S,T,A){return A=this.getLayer(A),A===null?null:this._convert.GetTileCorners(_,S,T,A)},weightedRandomize:function(_,S,T,A,M,I){return I=this.getLayer(I),I===null?null:(x.WeightedRandomize(S,T,A,M,_,I),this)},worldToTileX:function(_,S,T,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileX(_,S,T,A)},worldToTileY:function(_,S,T,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileY(_,S,T,A)},worldToTileXY:function(_,S,T,A,M,I){return I=this.getLayer(I),I===null?null:this._convert.WorldToTileXY(_,S,T,A,M,I)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});n.exports=C},45939:(n,a,s)=>{var o=s(44603),u=s(31989);o.register("tilemap",function(l){var c=l!==void 0?l:{};return u(this.scene,c.key,c.tileWidth,c.tileHeight,c.width,c.height,c.data,c.insertNull)})},46029:(n,a,s)=>{var o=s(39429),u=s(31989);o.register("tilemap",function(l,c,h,d,f,m,p){return l===null&&(l=void 0),c===null&&(c=void 0),h===null&&(h=void 0),d===null&&(d=void 0),f===null&&(f=void 0),u(this.scene,l,c,h,d,f,m,p)})},20442:(n,a,s)=>{var o=s(83419),u=s(78389),l=s(31401),c=s(95643),h=s(81086),d=s(19218),f=s(26099),m=new o({Extends:c,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.Transform,l.Visible,l.ScrollFactor,u,d],initialize:function(g,v,y,x,b,w){c.call(this,g,"TilemapLayer"),this.isTilemap=!0,this.tilemap=v,this.layerIndex=y,this.layer=v.layers[y],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=h.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new f,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(x),this.setAlpha(this.layer.alpha),this.setPosition(b,w),this.setOrigin(0,0),this.setSize(v.tileWidth*this.layer.width,v.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(p){var g=[],v=[],y=this.tilemap;Array.isArray(p)||(p=[p]);for(var x=0;x<p.length;x++){var b=p[x];if(typeof b=="string"&&(b=y.getTileset(b)),b){v.push(b);for(var w=b.firstgid,C=0;C<b.total;C++)g[w+C]=b}}this.gidMap=g,this.tileset=v},setRenderOrder:function(p){var g=["right-down","left-down","right-up","left-up"];return typeof p=="string"&&(p=g.indexOf(p)),p>=0&&p<4&&(this._renderOrder=p),this},calculateFacesAt:function(p,g){return h.CalculateFacesAt(p,g,this.layer),this},calculateFacesWithin:function(p,g,v,y){return h.CalculateFacesWithin(p,g,v,y,this.layer),this},createFromTiles:function(p,g,v,y,x){return h.CreateFromTiles(p,g,v,y,x,this.layer)},cull:function(p){return this.cullCallback(this.layer,p,this.culledTiles,this._renderOrder)},copy:function(p,g,v,y,x,b,w){return h.Copy(p,g,v,y,x,b,w,this.layer),this},fill:function(p,g,v,y,x,b){return h.Fill(p,g,v,y,x,b,this.layer),this},filterTiles:function(p,g,v,y,x,b,w){return h.FilterTiles(p,g,v,y,x,b,w,this.layer)},findByIndex:function(p,g,v){return h.FindByIndex(p,g,v,this.layer)},findTile:function(p,g,v,y,x,b,w){return h.FindTile(p,g,v,y,x,b,w,this.layer)},forEachTile:function(p,g,v,y,x,b,w){return h.ForEachTile(p,g,v,y,x,b,w,this.layer),this},setTint:function(p,g,v,y,x,b){p===void 0&&(p=16777215);var w=function(C){C.tint=p,C.tintFill=!1};return this.forEachTile(w,this,g,v,y,x,b)},setTintFill:function(p,g,v,y,x,b){p===void 0&&(p=16777215);var w=function(C){C.tint=p,C.tintFill=!0};return this.forEachTile(w,this,g,v,y,x,b)},getTileAt:function(p,g,v){return h.GetTileAt(p,g,v,this.layer)},getTileAtWorldXY:function(p,g,v,y){return h.GetTileAtWorldXY(p,g,v,y,this.layer)},getIsoTileAtWorldXY:function(p,g,v,y,x){v===void 0&&(v=!0);var b=this.tempVec;return h.IsometricWorldToTileXY(p,g,!0,b,x,this.layer,v),this.getTileAt(b.x,b.y,y)},getTilesWithin:function(p,g,v,y,x){return h.GetTilesWithin(p,g,v,y,x,this.layer)},getTilesWithinShape:function(p,g,v){return h.GetTilesWithinShape(p,g,v,this.layer)},getTilesWithinWorldXY:function(p,g,v,y,x,b){return h.GetTilesWithinWorldXY(p,g,v,y,x,b,this.layer)},hasTileAt:function(p,g){return h.HasTileAt(p,g,this.layer)},hasTileAtWorldXY:function(p,g,v){return h.HasTileAtWorldXY(p,g,v,this.layer)},putTileAt:function(p,g,v,y){return h.PutTileAt(p,g,v,y,this.layer)},putTileAtWorldXY:function(p,g,v,y,x){return h.PutTileAtWorldXY(p,g,v,y,x,this.layer)},putTilesAt:function(p,g,v,y){return h.PutTilesAt(p,g,v,y,this.layer),this},randomize:function(p,g,v,y,x){return h.Randomize(p,g,v,y,x,this.layer),this},removeTileAt:function(p,g,v,y){return h.RemoveTileAt(p,g,v,y,this.layer)},removeTileAtWorldXY:function(p,g,v,y,x){return h.RemoveTileAtWorldXY(p,g,v,y,x,this.layer)},renderDebug:function(p,g){return h.RenderDebug(p,g,this.layer),this},replaceByIndex:function(p,g,v,y,x,b){return h.ReplaceByIndex(p,g,v,y,x,b,this.layer),this},setSkipCull:function(p){return p===void 0&&(p=!0),this.skipCull=p,this},setCullPadding:function(p,g){return p===void 0&&(p=1),g===void 0&&(g=1),this.cullPaddingX=p,this.cullPaddingY=g,this},setCollision:function(p,g,v,y){return h.SetCollision(p,g,v,this.layer,y),this},setCollisionBetween:function(p,g,v,y){return h.SetCollisionBetween(p,g,v,y,this.layer),this},setCollisionByProperty:function(p,g,v){return h.SetCollisionByProperty(p,g,v,this.layer),this},setCollisionByExclusion:function(p,g,v){return h.SetCollisionByExclusion(p,g,v,this.layer),this},setCollisionFromCollisionGroup:function(p,g){return h.SetCollisionFromCollisionGroup(p,g,this.layer),this},setTileIndexCallback:function(p,g,v){return h.SetTileIndexCallback(p,g,v,this.layer),this},setTileLocationCallback:function(p,g,v,y,x,b){return h.SetTileLocationCallback(p,g,v,y,x,b,this.layer),this},shuffle:function(p,g,v,y){return h.Shuffle(p,g,v,y,this.layer),this},swapByIndex:function(p,g,v,y,x,b){return h.SwapByIndex(p,g,v,y,x,b,this.layer),this},tileToWorldX:function(p,g){return this.tilemap.tileToWorldX(p,g,this)},tileToWorldY:function(p,g){return this.tilemap.tileToWorldY(p,g,this)},tileToWorldXY:function(p,g,v,y){return this.tilemap.tileToWorldXY(p,g,v,y,this)},getTileCorners:function(p,g,v){return this.tilemap.getTileCorners(p,g,v,this)},weightedRandomize:function(p,g,v,y,x){return h.WeightedRandomize(g,v,y,x,p,this.layer),this},worldToTileX:function(p,g,v){return this.tilemap.worldToTileX(p,g,v,this)},worldToTileY:function(p,g,v){return this.tilemap.worldToTileY(p,g,v,this)},worldToTileXY:function(p,g,v,y,x){return this.tilemap.worldToTileXY(p,g,v,y,x,this)},destroy:function(p){p===void 0&&(p=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),p&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],c.prototype.destroy.call(this))}});n.exports=m},16153:(n,a,s)=>{var o=s(61340),u=new o,l=new o,c=new o,h=function(d,f,m,p){var g=f.cull(m),v=g.length,y=m.alpha*f.alpha;if(!(v===0||y<=0)){var x=u,b=l,w=c;b.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),x.copyFrom(m.matrix);var C=d.currentContext,_=f.gidMap;C.save(),p?(x.multiplyWithOffset(p,-m.scrollX*f.scrollFactorX,-m.scrollY*f.scrollFactorY),b.e=f.x,b.f=f.y,x.multiply(b,w),w.copyToContext(C)):(b.e-=m.scrollX*f.scrollFactorX,b.f-=m.scrollY*f.scrollFactorY,b.copyToContext(C)),(!d.antialias||f.scaleX>1||f.scaleY>1)&&(C.imageSmoothingEnabled=!1);for(var S=0;S<v;S++){var T=g[S],A=_[T.index];if(A){var M=A.image.getSourceImage(),I=A.getTileTextureCoordinates(T.index),D=A.tileWidth,k=A.tileHeight;if(!(I===null||D===0||k===0)){var G=D*.5,R=k*.5;I.x+=A.tileOffset.x,I.y+=A.tileOffset.y,C.save(),C.translate(T.pixelX+G,T.pixelY+R),T.rotation!==0&&C.rotate(T.rotation),(T.flipX||T.flipY)&&C.scale(T.flipX?-1:1,T.flipY?-1:1),C.globalAlpha=y*T.alpha,C.drawImage(M,I.x,I.y,D,k,-G,-R,D,k),C.restore()}}}C.restore()}};n.exports=h},19218:(n,a,s)=>{var o=s(29747),u=o,l=o;u=s(99558),l=s(16153),n.exports={renderWebGL:u,renderCanvas:l}},99558:(n,a,s)=>{var o=s(70554),u=function(l,c,h){var d=c.cull(h),f=d.length,m=h.alpha*c.alpha;if(!(f===0||m<=0)){var p=c.gidMap,g=l.pipelines.set(c.pipeline,c),v=o.getTintAppendFloatAlpha,y=c.scrollFactorX,x=c.scrollFactorY,b=c.x,w=c.y,C=c.scaleX,_=c.scaleY;l.pipelines.preBatch(c);for(var S=0;S<f;S++){var T=d[S],A=p[T.index];if(A){var M=A.getTileTextureCoordinates(T.index),I=A.tileWidth,D=A.tileHeight;if(!(!M||I===0||D===0)){var k=I*.5,G=D*.5,R=A.glTexture,H=g.setTexture2D(R,c),j=I,Z=D,ee=M.x,Y=M.y,V=A.tileOffset.x,O=A.tileOffset.y,F=v(T.tint,m*T.alpha);g.batchTexture(c,R,R.width,R.height,b+T.pixelX*C+(k*C-V),w+T.pixelY*_+(G*_-O),I,D,C,_,T.rotation,T.flipX,T.flipY,y,x,k,G,ee,Y,j,Z,F,F,F,F,T.tintFill,0,0,h,null,!0,H,!0)}}}l.pipelines.postBatch(c)}};n.exports=u},33629:(n,a,s)=>{var o=s(83419),u=s(26099),l=new o({initialize:function(h,d,f,m,p,g,v,y,x){(f===void 0||f<=0)&&(f=32),(m===void 0||m<=0)&&(m=32),p===void 0&&(p=0),g===void 0&&(g=0),v===void 0&&(v={}),y===void 0&&(y={}),this.name=h,this.firstgid=d,this.tileWidth=f,this.tileHeight=m,this.tileMargin=p,this.tileSpacing=g,this.tileProperties=v,this.tileData=y,this.tileOffset=new u,x!==void 0&&this.tileOffset.set(x.x,x.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(c){return this.containsTileIndex(c)?this.tileProperties[c-this.firstgid]:null},getTileData:function(c){return this.containsTileIndex(c)?this.tileData[c-this.firstgid]:null},getTileCollisionGroup:function(c){var h=this.getTileData(c);return h&&h.objectgroup?h.objectgroup:null},containsTileIndex:function(c){return c>=this.firstgid&&c<this.firstgid+this.total},getTileTextureCoordinates:function(c){return this.containsTileIndex(c)?this.texCoordinates[c-this.firstgid]:null},setImage:function(c){this.image=c;var h=c.get(),d=c.getFrameBounds();return this.glTexture=h.source.glTexture,h.width>d.width||h.height>d.height?this.updateTileData(h.width,h.height):this.updateTileData(d.width,d.height,d.x,d.y),this},setTileSize:function(c,h){return c!==void 0&&(this.tileWidth=c),h!==void 0&&(this.tileHeight=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(c,h){return c!==void 0&&(this.tileMargin=c),h!==void 0&&(this.tileSpacing=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(c,h,d,f){d===void 0&&(d=0),f===void 0&&(f=0);var m=(h-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),p=(c-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(m%1!==0||p%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),m=Math.floor(m),p=Math.floor(p),this.rows=m,this.columns=p,this.total=m*p,this.texCoordinates.length=0;for(var g=this.tileMargin+d,v=this.tileMargin+f,y=0;y<this.rows;y++){for(var x=0;x<this.columns;x++)this.texCoordinates.push({x:g,y:v}),g+=this.tileWidth+this.tileSpacing;g=this.tileMargin+d,v+=this.tileHeight+this.tileSpacing}return this}});n.exports=l},72023:(n,a,s)=>{var o=s(7423),u=function(l,c,h){var d=o(l,c,!0,h),f=o(l,c-1,!0,h),m=o(l,c+1,!0,h),p=o(l-1,c,!0,h),g=o(l+1,c,!0,h),v=d&&d.collides;return v&&(d.faceTop=!0,d.faceBottom=!0,d.faceLeft=!0,d.faceRight=!0),f&&f.collides&&(v&&(d.faceTop=!1),f.faceBottom=!v),m&&m.collides&&(v&&(d.faceBottom=!1),m.faceTop=!v),p&&p.collides&&(v&&(d.faceLeft=!1),p.faceRight=!v),g&&g.collides&&(v&&(d.faceRight=!1),g.faceLeft=!v),d&&!d.collides&&d.resetFaces(),d};n.exports=u},42573:(n,a,s)=>{var o=s(7423),u=s(7386),l=function(c,h,d,f,m){for(var p=null,g=null,v=null,y=null,x=u(c,h,d,f,null,m),b=0;b<x.length;b++){var w=x[b];w&&(w.collides?(p=o(w.x,w.y-1,!0,m),g=o(w.x,w.y+1,!0,m),v=o(w.x-1,w.y,!0,m),y=o(w.x+1,w.y,!0,m),w.faceTop=!(p&&p.collides),w.faceBottom=!(g&&g.collides),w.faceLeft=!(v&&v.collides),w.faceRight=!(y&&y.collides)):w.resetFaces())}};n.exports=l},33528:(n,a,s)=>{var o=s(26099),u=new o,l=function(c,h,d,f){var m=d.tilemapLayer,p=m.cullPaddingX,g=m.cullPaddingY,v=m.tilemap.tileToWorldXY(c,h,u,f,m);return v.x>f.worldView.x+m.scaleX*d.tileWidth*(-p-.5)&&v.x<f.worldView.right+m.scaleX*d.tileWidth*(p-.5)&&v.y>f.worldView.y+m.scaleY*d.tileHeight*(-g-1)&&v.y<f.worldView.bottom+m.scaleY*d.tileHeight*(g-.5)};n.exports=l},1785:(n,a,s)=>{var o=s(42573),u=s(7386),l=s(62991),c=s(23029),h=function(d,f,m,p,g,v,y,x){y===void 0&&(y=!0);var b=u(d,f,m,p,null,x),w=[];b.forEach(function(I){var D=new c(I.layer,I.index,I.x,I.y,I.width,I.height,I.baseWidth,I.baseHeight);D.copy(I),w.push(D)});for(var C=g-d,_=v-f,S=0;S<w.length;S++){var T=w[S],A=T.x+C,M=T.y+_;l(A,M,x)&&x.data[M][A]&&(T.x=A,T.y=M,T.updatePixelXY(),x.data[M][A]=T)}y&&o(g-1,v-1,m+2,p+2,x),b.length=0,w.length=0};n.exports=h},78419:(n,a,s)=>{var o=s(62644),u=s(7386),l=s(27987),c=function(h,d,f,m,p,g){f||(f={}),Array.isArray(h)||(h=[h]);var v=g.tilemapLayer;m||(m=v.scene),p||(p=m.cameras.main);var y=g.width,x=g.height,b=u(0,0,y,x,null,g),w=[],C,_=function(M,I,D){for(var k=0;k<D.length;k++){var G=D[k];M.hasOwnProperty(G)||(M[G]=I[G])}};for(C=0;C<b.length;C++){var S=b[C],T=o(f);if(h.indexOf(S.index)!==-1){var A=v.tileToWorldXY(S.x,S.y,void 0,p,g);T.x=A.x,T.y=A.y,_(T,S,["rotation","flipX","flipY","alpha","visible","tint"]),T.hasOwnProperty("origin")||(T.x+=S.width*.5,T.y+=S.height*.5),T.hasOwnProperty("useSpriteSheet")&&(T.key=S.tileset.image,T.frame=S.index-1),w.push(m.make.sprite(T))}}if(Array.isArray(d))for(C=0;C<h.length;C++)l(h[C],d[C],0,0,y,x,g);else if(d!==null)for(C=0;C<h.length;C++)l(h[C],d,0,0,y,x,g);return w};n.exports=c},19545:(n,a,s)=>{var o=s(87841),u=s(63448),l=s(56583),c=new o,h=function(d,f){var m=d.tilemapLayer.tilemap,p=d.tilemapLayer,g=Math.floor(m.tileWidth*p.scaleX),v=Math.floor(m.tileHeight*p.scaleY),y=l(f.worldView.x-p.x,g,0,!0)-p.cullPaddingX,x=u(f.worldView.right-p.x,g,0,!0)+p.cullPaddingX,b=l(f.worldView.y-p.y,v,0,!0)-p.cullPaddingY,w=u(f.worldView.bottom-p.y,v,0,!0)+p.cullPaddingY;return c.setTo(y,b,x-y,w-b)};n.exports=h},30003:(n,a,s)=>{var o=s(19545),u=s(32483),l=function(c,h,d,f){d===void 0&&(d=[]),f===void 0&&(f=0),d.length=0;var m=c.tilemapLayer,p=o(c,h);return(m.skipCull||m.scrollFactorX!==1||m.scrollFactorY!==1)&&(p.left=0,p.right=c.width,p.top=0,p.bottom=c.height),u(c,p,f,d),d};n.exports=l},35137:(n,a,s)=>{var o=s(7386),u=s(42573),l=s(20576),c=function(h,d,f,m,p,g,v){for(var y=v.collideIndexes.indexOf(h)!==-1,x=o(d,f,m,p,null,v),b=0;b<x.length;b++)x[b].index=h,l(x[b],y);g&&u(d-1,f-1,m+2,p+2,v)};n.exports=c},40253:(n,a,s)=>{var o=s(7386),u=function(l,c,h,d,f,m,p,g){var v=o(h,d,f,m,p,g);return v.filter(l,c)};n.exports=u},52692:n=>{var a=function(s,o,u,l){o===void 0&&(o=0),u===void 0&&(u=!1);var c=0,h,d,f;if(u){for(d=l.height-1;d>=0;d--)for(h=l.width-1;h>=0;h--)if(f=l.data[d][h],f&&f.index===s){if(c===o)return f;c+=1}}else for(d=0;d<l.height;d++)for(h=0;h<l.width;h++)if(f=l.data[d][h],f&&f.index===s){if(c===o)return f;c+=1}return null};n.exports=a},66151:(n,a,s)=>{var o=s(7386),u=function(l,c,h,d,f,m,p,g){var v=o(h,d,f,m,p,g);return v.find(l,c)||null};n.exports=u},97560:(n,a,s)=>{var o=s(7386),u=function(l,c,h,d,f,m,p,g){var v=o(h,d,f,m,p,g);v.forEach(l,c)};n.exports=u},43305:(n,a,s)=>{var o=s(91907),u=s(30003),l=s(9474),c=s(14018),h=s(29747),d=s(54503),f=function(m){return m===o.ORTHOGONAL?u:m===o.HEXAGONAL?l:m===o.STAGGERED?d:m===o.ISOMETRIC?c:h};n.exports=f},7423:(n,a,s)=>{var o=s(62991),u=function(l,c,h,d){if(o(l,c,d)){var f=d.data[c][l]||null;return f?f.index===-1?h?f:null:f:null}else return null};n.exports=u},60540:(n,a,s)=>{var o=s(7423),u=s(26099),l=new u,c=function(h,d,f,m,p){return p.tilemapLayer.worldToTileXY(h,d,!0,l,m),o(l.x,l.y,f,p)};n.exports=c},55826:(n,a,s)=>{var o=s(26099),u=function(l,c,h,d){var f=d.baseTileWidth,m=d.baseTileHeight,p=d.tilemapLayer,g=0,v=0;p&&(h||(h=p.scene.cameras.main),g=p.x+h.scrollX*(1-p.scrollFactorX),v=p.y+h.scrollY*(1-p.scrollFactorY),f*=p.scaleX,m*=p.scaleY);var y=g+l*f,x=v+c*m;return[new o(y,x),new o(y+f,x),new o(y+f,x+m),new o(y,x+m)]};n.exports=u},11758:(n,a,s)=>{var o=s(91907),u=s(27229),l=s(29747),c=s(55826),h=function(d){return d===o.ORTHOGONAL?c:d===o.ISOMETRIC?l:d===o.HEXAGONAL?u:(d===o.STAGGERED,l)};n.exports=h},39167:(n,a,s)=>{var o=s(91907),u=s(29747),l=s(97281),c=function(h){return h===o.ORTHOGONAL?l:u};n.exports=c},62e3:(n,a,s)=>{var o=s(91907),u=s(19951),l=s(14127),c=s(29747),h=s(97202),d=s(70326),f=function(m){return m===o.ORTHOGONAL?d:m===o.ISOMETRIC?l:m===o.HEXAGONAL?u:m===o.STAGGERED?h:c};n.exports=f},5984:(n,a,s)=>{var o=s(91907),u=s(29747),l=s(28054),c=s(29650),h=function(d){return d===o.ORTHOGONAL?c:d===o.STAGGERED?l:u};n.exports=h},7386:(n,a,s)=>{var o=s(95540),u=function(l,c,h,d,f,m){l===void 0&&(l=0),c===void 0&&(c=0),h===void 0&&(h=m.width),d===void 0&&(d=m.height),f||(f={});var p=o(f,"isNotEmpty",!1),g=o(f,"isColliding",!1),v=o(f,"hasInterestingFace",!1);l<0&&(h+=l,l=0),c<0&&(d+=c,c=0),l+h>m.width&&(h=Math.max(m.width-l,0)),c+d>m.height&&(d=Math.max(m.height-c,0));for(var y=[],x=c;x<c+d;x++)for(var b=l;b<l+h;b++){var w=m.data[x][b];if(w!==null){if(p&&w.index===-1||g&&!w.collides||v&&!w.hasInterestingFace)continue;y.push(w)}}return y};n.exports=u},91141:(n,a,s)=>{var o=s(55738),u=s(7386),l=s(91865),c=s(29747),h=s(26099),d=function(v,y){return l.RectangleToTriangle(y,v)},f=new h,m=new h,p=new h,g=function(v,y,x,b){if(v===void 0)return[];var w=c;v instanceof o.Circle?w=l.CircleToRectangle:v instanceof o.Rectangle?w=l.RectangleToRectangle:v instanceof o.Triangle?w=d:v instanceof o.Line&&(w=l.LineToRectangle),b.tilemapLayer.worldToTileXY(v.left,v.top,!0,m,x);var C=m.x,_=m.y;b.tilemapLayer.worldToTileXY(v.right,v.bottom,!1,p,x);var S=Math.ceil(p.x),T=Math.ceil(p.y),A=Math.max(S-C,1),M=Math.max(T-_,1),I=u(C,_,A,M,y,b),D=b.tileWidth,k=b.tileHeight;b.tilemapLayer&&(D*=b.tilemapLayer.scaleX,k*=b.tilemapLayer.scaleY);for(var G=[],R=new o.Rectangle(0,0,D,k),H=0;H<I.length;H++){var j=I[H];b.tilemapLayer.tileToWorldXY(j.x,j.y,f,x),R.x=f.x,R.y=f.y,w(v,R)&&G.push(j)}return G};n.exports=g},96523:(n,a,s)=>{var o=s(7386),u=s(26099),l=new u,c=new u,h=function(d,f,m,p,g,v,y){var x=y.tilemapLayer.tilemap._convert.WorldToTileXY;x(d,f,!0,l,v,y);var b=l.x,w=l.y;x(d+m,f+p,!1,c,v,y);var C=Math.ceil(c.x),_=Math.ceil(c.y);return o(b,w,C-b,_-w,g,y)};n.exports=h},96113:(n,a,s)=>{var o=s(91907),u=s(20242),l=s(10095),c=function(h){return h===o.ORTHOGONAL?l:u};n.exports=c},16926:(n,a,s)=>{var o=s(91907),u=s(86625),l=s(96897),c=s(29747),h=s(15108),d=s(85896),f=function(m){return m===o.ORTHOGONAL?d:m===o.ISOMETRIC?l:m===o.HEXAGONAL?u:m===o.STAGGERED?h:c};n.exports=f},55762:(n,a,s)=>{var o=s(91907),u=s(20242),l=s(51900),c=s(63288),h=function(d){return d===o.ORTHOGONAL?c:d===o.STAGGERED?l:u};n.exports=h},45091:(n,a,s)=>{var o=s(62991),u=function(l,c,h){if(o(l,c,h)){var d=h.data[c][l];return d!==null&&d.index>-1}else return!1};n.exports=u},24152:(n,a,s)=>{var o=s(45091),u=s(26099),l=new u,c=function(h,d,f,m){m.tilemapLayer.worldToTileXY(h,d,!0,l,f);var p=l.x,g=l.y;return o(p,g,m)};n.exports=c},90454:(n,a,s)=>{var o=s(63448),u=s(56583),l=function(c,h){var d=c.tilemapLayer.tilemap,f=c.tilemapLayer,m=Math.floor(d.tileWidth*f.scaleX),p=Math.floor(d.tileHeight*f.scaleY),g=c.hexSideLength,v,y,x,b;if(c.staggerAxis==="y"){var w=(p-g)/2+g;v=u(h.worldView.x-f.x,m,0,!0)-f.cullPaddingX,y=o(h.worldView.right-f.x,m,0,!0)+f.cullPaddingX,x=u(h.worldView.y-f.y,w,0,!0)-f.cullPaddingY,b=o(h.worldView.bottom-f.y,w,0,!0)+f.cullPaddingY}else{var C=(m-g)/2+g;v=u(h.worldView.x-f.x,C,0,!0)-f.cullPaddingX,y=o(h.worldView.right-f.x,C,0,!0)+f.cullPaddingX,x=u(h.worldView.y-f.y,p,0,!0)-f.cullPaddingY,b=o(h.worldView.bottom-f.y,p,0,!0)+f.cullPaddingY}return{left:v,right:y,top:x,bottom:b}};n.exports=l},9474:(n,a,s)=>{var o=s(90454),u=s(32483),l=function(c,h,d,f){d===void 0&&(d=[]),f===void 0&&(f=0),d.length=0;var m=c.tilemapLayer,p=o(c,h);return m.skipCull&&m.scrollFactorX===1&&m.scrollFactorY===1&&(p.left=0,p.right=c.width,p.top=0,p.bottom=c.height),u(c,p,f,d),d};n.exports=l},27229:(n,a,s)=>{var o=s(19951),u=s(26099),l=new u,c=function(h,d,f,m){var p=m.baseTileWidth,g=m.baseTileHeight,v=m.tilemapLayer;v&&(p*=v.scaleX,g*=v.scaleY);var y=o(h,d,l,f,m),x=[],b=.5773502691896257,w,C;m.staggerAxis==="y"?(w=b*p,C=g/2):(w=p/2,C=b*g);for(var _=0;_<6;_++){var S=2*Math.PI*(.5-_)/6;x.push(new u(y.x+w*Math.cos(S),y.y+C*Math.sin(S)))}return x};n.exports=c},19951:(n,a,s)=>{var o=s(26099),u=function(l,c,h,d,f){h||(h=new o);var m=f.baseTileWidth,p=f.baseTileHeight,g=f.tilemapLayer,v=0,y=0;g&&(d||(d=g.scene.cameras.main),v=g.x+d.scrollX*(1-g.scrollFactorX),y=g.y+d.scrollY*(1-g.scrollFactorY),m*=g.scaleX,p*=g.scaleY);var x=m/2,b=p/2,w,C,_=f.staggerAxis,S=f.staggerIndex;return _==="y"?(w=v+m*l+m,C=y+1.5*c*b+b,c%2===0&&(S==="odd"?w-=x:w+=x)):_==="x"&&S==="odd"&&(w=v+1.5*l*x+x,C=y+p*l+p,l%2===0&&(S==="odd"?C-=b:C+=b)),h.set(w,C)};n.exports=u},86625:(n,a,s)=>{var o=s(26099),u=function(l,c,h,d,f,m){d||(d=new o);var p=m.baseTileWidth,g=m.baseTileHeight,v=m.tilemapLayer;v&&(f||(f=v.scene.cameras.main),l=l-(v.x+f.scrollX*(1-v.scrollFactorX)),c=c-(v.y+f.scrollY*(1-v.scrollFactorY)),p*=v.scaleX,g*=v.scaleY);var y=.5773502691896257,x=-.3333333333333333,b=0,w=.6666666666666666,C=p/2,_=g/2,S,T,A,M,I;m.staggerAxis==="y"?(S=(l-C)/(y*p),T=(c-_)/_,A=y*S+x*T,M=b*S+w*T):(S=(l-C)/C,T=(c-_)/(y*g),A=x*S+y*T,M=w*S+b*T),I=-A-M;var D=Math.round(A),k=Math.round(M),G=Math.round(I),R=Math.abs(D-A),H=Math.abs(k-M),j=Math.abs(G-I);R>H&&R>j?D=-k-G:H>j&&(k=-D-G);var Z,ee=k;return m.staggerIndex==="odd"?Z=ee%2===0?k/2+D:k/2+D-.5:Z=ee%2===0?k/2+D:k/2+D+.5,d.set(Z,ee)};n.exports=u},62991:n=>{var a=function(s,o,u){return s>=0&&s<u.width&&o>=0&&o<u.height};n.exports=a},14018:(n,a,s)=>{var o=s(33528),u=function(l,c,h,d){h===void 0&&(h=[]),d===void 0&&(d=0),h.length=0;var f=l.tilemapLayer,m=l.data,p=l.width,g=l.height,v=f.skipCull,y=0,x=p,b=0,w=g,C,_,S;if(d===0)for(_=b;_<w;_++)for(C=y;C<x;C++)S=m[_][C],!(!S||S.index===-1||!S.visible||S.alpha===0)&&(!v&&!o(C,_,l,c)||h.push(S));else if(d===1)for(_=b;_<w;_++)for(C=x;C>=y;C--)S=m[_][C],!(!S||S.index===-1||!S.visible||S.alpha===0)&&(!v&&!o(C,_,l,c)||h.push(S));else if(d===2)for(_=w;_>=b;_--)for(C=y;C<x;C++)S=m[_][C],!(!S||S.index===-1||!S.visible||S.alpha===0)&&(!v&&!o(C,_,l,c)||h.push(S));else if(d===3)for(_=w;_>=b;_--)for(C=x;C>=y;C--)S=m[_][C],!(!S||S.index===-1||!S.visible||S.alpha===0)&&(!v&&!o(C,_,l,c)||h.push(S));return f.tilesDrawn=h.length,f.tilesTotal=p*g,h};n.exports=u},14127:(n,a,s)=>{var o=s(26099),u=function(l,c,h,d,f){h||(h=new o);var m=f.baseTileWidth,p=f.baseTileHeight,g=f.tilemapLayer,v=0,y=0;g&&(d||(d=g.scene.cameras.main),v=g.x+d.scrollX*(1-g.scrollFactorX),m*=g.scaleX,y=g.y+d.scrollY*(1-g.scrollFactorY),p*=g.scaleY);var x=v+(l-c)*(m/2),b=y+(l+c)*(p/2);return h.set(x,b)};n.exports=u},96897:(n,a,s)=>{var o=s(26099),u=function(l,c,h,d,f,m,p){d||(d=new o);var g=m.baseTileWidth,v=m.baseTileHeight,y=m.tilemapLayer;y&&(f||(f=y.scene.cameras.main),c=c-(y.y+f.scrollY*(1-y.scrollFactorY)),v*=y.scaleY,l=l-(y.x+f.scrollX*(1-y.scrollFactorX)),g*=y.scaleX);var x=g/2,b=v/2;l=l-x,p||(c=c-v);var w=.5*(l/x+c/b),C=.5*(-l/x+c/b);return h&&(w=Math.floor(w),C=Math.floor(C)),d.set(w,C)};n.exports=u},71558:(n,a,s)=>{var o=s(23029),u=s(62991),l=s(72023),c=s(20576),h=function(d,f,m,p,g){if(p===void 0&&(p=!0),!u(f,m,g))return null;var v,y=g.data[m][f],x=y&&y.collides;d instanceof o?(g.data[m][f]===null&&(g.data[m][f]=new o(g,d.index,f,m,g.tileWidth,g.tileHeight)),g.data[m][f].copy(d)):(v=d,g.data[m][f]===null?g.data[m][f]=new o(g,v,f,m,g.tileWidth,g.tileHeight):g.data[m][f].index=v);var b=g.data[m][f],w=g.collideIndexes.indexOf(b.index)!==-1;if(v=d instanceof o?d.index:d,v===-1)b.width=g.tileWidth,b.height=g.tileHeight;else{var C=g.tilemapLayer.tilemap,_=C.tiles,S=_[v][2],T=C.tilesets[S];b.width=T.tileWidth,b.height=T.tileHeight}return c(b,w),p&&x!==b.collides&&l(f,m,g),b};n.exports=h},26303:(n,a,s)=>{var o=s(71558),u=s(26099),l=new u,c=function(h,d,f,m,p,g){return g.tilemapLayer.worldToTileXY(d,f,!0,l,p,g),o(h,l.x,l.y,m,g)};n.exports=c},14051:(n,a,s)=>{var o=s(42573),u=s(71558),l=function(c,h,d,f,m){if(f===void 0&&(f=!0),!Array.isArray(c))return null;Array.isArray(c[0])||(c=[c]);for(var p=c.length,g=c[0].length,v=0;v<p;v++)for(var y=0;y<g;y++){var x=c[v][y];u(x,h+y,d+v,!1,m)}f&&o(h-1,d-1,g+2,p+2,m)};n.exports=l},77389:(n,a,s)=>{var o=s(7386),u=s(26546),l=function(c,h,d,f,m,p){var g,v=o(c,h,d,f,{},p);if(!m)for(m=[],g=0;g<v.length;g++)m.indexOf(v[g].index)===-1&&m.push(v[g].index);for(g=0;g<v.length;g++)v[g].index=u(m)};n.exports=l},63557:(n,a,s)=>{var o=s(23029),u=s(62991),l=s(72023),c=function(h,d,f,m,p){if(f===void 0&&(f=!0),m===void 0&&(m=!0),!u(h,d,p))return null;var g=p.data[d][h];if(g)p.data[d][h]=f?null:new o(p,-1,h,d,p.tileWidth,p.tileHeight);else return null;return m&&g&&g.collides&&l(h,d,p),g};n.exports=c},94178:(n,a,s)=>{var o=s(63557),u=s(26099),l=new u,c=function(h,d,f,m,p,g){return g.tilemapLayer.worldToTileXY(h,d,!0,l,p,g),o(l.x,l.y,f,m,g)};n.exports=c},15533:(n,a,s)=>{var o=s(7386),u=s(3956),l=new u(105,210,231,150),c=new u(243,134,48,200),h=new u(40,39,37,150),d=function(f,m,p){m===void 0&&(m={});var g=m.tileColor!==void 0?m.tileColor:l,v=m.collidingTileColor!==void 0?m.collidingTileColor:c,y=m.faceColor!==void 0?m.faceColor:h,x=o(0,0,p.width,p.height,null,p);f.translateCanvas(p.tilemapLayer.x,p.tilemapLayer.y),f.scaleCanvas(p.tilemapLayer.scaleX,p.tilemapLayer.scaleY);for(var b=0;b<x.length;b++){var w=x[b],C=w.width,_=w.height,S=w.pixelX,T=w.pixelY,A=w.collides?v:g;A!==null&&(f.fillStyle(A.color,A.alpha/255),f.fillRect(S,T,C,_)),S+=1,T+=1,C-=2,_-=2,y!==null&&(f.lineStyle(1,y.color,y.alpha/255),w.faceTop&&f.lineBetween(S,T,S+C,T),w.faceRight&&f.lineBetween(S+C,T,S+C,T+_),w.faceBottom&&f.lineBetween(S,T+_,S+C,T+_),w.faceLeft&&f.lineBetween(S,T,S,T+_))}};n.exports=d},27987:(n,a,s)=>{var o=s(7386),u=function(l,c,h,d,f,m,p){for(var g=o(h,d,f,m,null,p),v=0;v<g.length;v++)g[v]&&g[v].index===l&&(g[v].index=c)};n.exports=u},32483:n=>{var a=function(s,o,u,l){var c=s.data,h=s.width,d=s.height,f=s.tilemapLayer,m=Math.max(0,o.left),p=Math.min(h,o.right),g=Math.max(0,o.top),v=Math.min(d,o.bottom),y,x,b;if(u===0)for(x=g;x<v;x++)for(y=m;c[x]&&y<p;y++)b=c[x][y],!(!b||b.index===-1||!b.visible||b.alpha===0)&&l.push(b);else if(u===1)for(x=g;x<v;x++)for(y=p;c[x]&&y>=m;y--)b=c[x][y],!(!b||b.index===-1||!b.visible||b.alpha===0)&&l.push(b);else if(u===2)for(x=v;x>=g;x--)for(y=m;c[x]&&y<p;y++)b=c[x][y],!(!b||b.index===-1||!b.visible||b.alpha===0)&&l.push(b);else if(u===3)for(x=v;x>=g;x--)for(y=p;c[x]&&y>=m;y--)b=c[x][y],!(!b||b.index===-1||!b.visible||b.alpha===0)&&l.push(b);return f.tilesDrawn=l.length,f.tilesTotal=h*d,l};n.exports=a},57068:(n,a,s)=>{var o=s(20576),u=s(42573),l=s(9589),c=function(h,d,f,m,p){d===void 0&&(d=!0),f===void 0&&(f=!0),p===void 0&&(p=!0),Array.isArray(h)||(h=[h]);for(var g=0;g<h.length;g++)l(h[g],d,m);if(p)for(var v=0;v<m.height;v++)for(var y=0;y<m.width;y++){var x=m.data[v][y];x&&h.indexOf(x.index)!==-1&&o(x,d)}f&&u(0,0,m.width,m.height,m)};n.exports=c},37266:(n,a,s)=>{var o=s(20576),u=s(42573),l=s(9589),c=function(h,d,f,m,p,g){if(f===void 0&&(f=!0),m===void 0&&(m=!0),g===void 0&&(g=!0),!(h>d)){for(var v=h;v<=d;v++)l(v,f,p);if(g)for(var y=0;y<p.height;y++)for(var x=0;x<p.width;x++){var b=p.data[y][x];b&&b.index>=h&&b.index<=d&&o(b,f)}m&&u(0,0,p.width,p.height,p)}};n.exports=c},75661:(n,a,s)=>{var o=s(20576),u=s(42573),l=s(9589),c=function(h,d,f,m){d===void 0&&(d=!0),f===void 0&&(f=!0),Array.isArray(h)||(h=[h]);for(var p=0;p<m.height;p++)for(var g=0;g<m.width;g++){var v=m.data[p][g];v&&h.indexOf(v.index)===-1&&(o(v,d),l(v.index,d,m))}f&&u(0,0,m.width,m.height,m)};n.exports=c},64740:(n,a,s)=>{var o=s(20576),u=s(42573),l=s(97022),c=function(h,d,f,m){d===void 0&&(d=!0),f===void 0&&(f=!0);for(var p=0;p<m.height;p++)for(var g=0;g<m.width;g++){var v=m.data[p][g];if(v){for(var y in h)if(l(v.properties,y)){var x=h[y];Array.isArray(x)||(x=[x]);for(var b=0;b<x.length;b++)v.properties[y]===x[b]&&o(v,d)}}}f&&u(0,0,m.width,m.height,m)};n.exports=c},63307:(n,a,s)=>{var o=s(20576),u=s(42573),l=function(c,h,d){c===void 0&&(c=!0),h===void 0&&(h=!0);for(var f=0;f<d.height;f++)for(var m=0;m<d.width;m++){var p=d.data[f][m];if(p){var g=p.getCollisionGroup();g&&g.objects&&g.objects.length>0&&o(p,c)}}h&&u(0,0,d.width,d.height,d)};n.exports=l},9589:n=>{var a=function(s,o,u){var l=u.collideIndexes.indexOf(s);o&&l===-1?u.collideIndexes.push(s):!o&&l!==-1&&u.collideIndexes.splice(l,1)};n.exports=a},20576:n=>{var a=function(s,o){o?s.setCollision(!0,!0,!0,!0,!1):s.resetCollision(!1)};n.exports=a},79583:n=>{var a=function(s,o,u,l){if(typeof s=="number")l.callbacks[s]=o!==null?{callback:o,callbackContext:u}:void 0;else for(var c=0,h=s.length;c<h;c++)l.callbacks[s[c]]=o!==null?{callback:o,callbackContext:u}:void 0};n.exports=a},93254:(n,a,s)=>{var o=s(7386),u=function(l,c,h,d,f,m,p){for(var g=o(l,c,h,d,null,p),v=0;v<g.length;v++)g[v].setCollisionCallback(f,m)};n.exports=u},32903:(n,a,s)=>{var o=s(7386),u=s(33680),l=function(c,h,d,f,m){var p=o(c,h,d,f,null,m),g=p.map(function(y){return y.index});u(g);for(var v=0;v<p.length;v++)p[v].index=g[v]};n.exports=l},61325:(n,a,s)=>{var o=s(63448),u=s(56583),l=function(c,h){var d=c.tilemapLayer.tilemap,f=c.tilemapLayer,m=Math.floor(d.tileWidth*f.scaleX),p=Math.floor(d.tileHeight*f.scaleY),g=u(h.worldView.x-f.x,m,0,!0)-f.cullPaddingX,v=o(h.worldView.right-f.x,m,0,!0)+f.cullPaddingX,y=u(h.worldView.y-f.y,p/2,0,!0)-f.cullPaddingY,x=o(h.worldView.bottom-f.y,p/2,0,!0)+f.cullPaddingY;return{left:g,right:v,top:y,bottom:x}};n.exports=l},54503:(n,a,s)=>{var o=s(61325),u=s(32483),l=function(c,h,d,f){d===void 0&&(d=[]),f===void 0&&(f=0),d.length=0;var m=c.tilemapLayer,p=o(c,h);return m.skipCull&&m.scrollFactorX===1&&m.scrollFactorY===1&&(p.left=0,p.right=c.width,p.top=0,p.bottom=c.height),u(c,p,f,d),d};n.exports=l},97202:(n,a,s)=>{var o=s(26099),u=function(l,c,h,d,f){h||(h=new o);var m=f.baseTileWidth,p=f.baseTileHeight,g=f.tilemapLayer,v=0,y=0;g&&(d||(d=g.scene.cameras.main),v=g.x+d.scrollX*(1-g.scrollFactorX),m*=g.scaleX,y=g.y+d.scrollY*(1-g.scrollFactorY),p*=g.scaleY);var x=v+l*m+c%2*(m/2),b=y+c*(p/2);return h.set(x,b)};n.exports=u},28054:n=>{var a=function(s,o,u){var l=u.baseTileHeight,c=u.tilemapLayer,h=0;return c&&(o===void 0&&(o=c.scene.cameras.main),h=c.y+o.scrollY*(1-c.scrollFactorY),l*=c.scaleY),h+s*(l/2)+l};n.exports=a},15108:(n,a,s)=>{var o=s(26099),u=function(l,c,h,d,f,m){d||(d=new o);var p=m.baseTileWidth,g=m.baseTileHeight,v=m.tilemapLayer;v&&(f||(f=v.scene.cameras.main),c=c-(v.y+f.scrollY*(1-v.scrollFactorY)),g*=v.scaleY,l=l-(v.x+f.scrollX*(1-v.scrollFactorX)),p*=v.scaleX);var y=h?Math.floor(c/(g/2)):c/(g/2),x=h?Math.floor((l+y%2*.5*p)/p):(l+y%2*.5*p)/p;return d.set(x,y)};n.exports=u},51900:n=>{var a=function(s,o,u,l){var c=l.baseTileHeight,h=l.tilemapLayer;return h&&(u||(u=h.scene.cameras.main),s=s-(h.y+u.scrollY*(1-h.scrollFactorY)),c*=h.scaleY),o?Math.floor(s/(c/2)):s/(c/2)};n.exports=a},86560:(n,a,s)=>{var o=s(7386),u=function(l,c,h,d,f,m,p){for(var g=o(h,d,f,m,null,p),v=0;v<g.length;v++)g[v]&&(g[v].index===l?g[v].index=c:g[v].index===c&&(g[v].index=l))};n.exports=u},97281:n=>{var a=function(s,o,u){var l=u.baseTileWidth,c=u.tilemapLayer,h=0;return c&&(o||(o=c.scene.cameras.main),h=c.x+o.scrollX*(1-c.scrollFactorX),l*=c.scaleX),h+s*l};n.exports=a},70326:(n,a,s)=>{var o=s(97281),u=s(29650),l=s(26099),c=function(h,d,f,m,p){return f||(f=new l(0,0)),f.x=o(h,m,p),f.y=u(d,m,p),f};n.exports=c},29650:n=>{var a=function(s,o,u){var l=u.baseTileHeight,c=u.tilemapLayer,h=0;return c&&(o||(o=c.scene.cameras.main),h=c.y+o.scrollY*(1-c.scrollFactorY),l*=c.scaleY),h+s*l};n.exports=a},77366:(n,a,s)=>{var o=s(7386),u=s(75508),l=function(c,h,d,f,m,p){if(m){var g,v=o(c,h,d,f,null,p),y=0;for(g=0;g<m.length;g++)y+=m[g].weight;if(!(y<=0))for(g=0;g<v.length;g++){for(var x=u.RND.frac()*y,b=0,w=-1,C=0;C<m.length;C++)if(b+=m[C].weight,x<=b){var _=m[C].index;w=Array.isArray(_)?_[Math.floor(u.RND.frac()*_.length)]:_;break}v[g].index=w}}};n.exports=l},10095:(n,a,s)=>{var o=s(85896),u=s(26099),l=new u,c=function(h,d,f,m){return o(h,0,d,l,f,m),l.x};n.exports=c},85896:(n,a,s)=>{var o=s(26099),u=function(l,c,h,d,f,m){h===void 0&&(h=!0),d||(d=new o);var p=m.baseTileWidth,g=m.baseTileHeight,v=m.tilemapLayer;v&&(f||(f=v.scene.cameras.main),l=l-(v.x+f.scrollX*(1-v.scrollFactorX)),c=c-(v.y+f.scrollY*(1-v.scrollFactorY)),p*=v.scaleX,g*=v.scaleY);var y=l/p,x=c/g;return h&&(y=Math.floor(y),x=Math.floor(x)),d.set(y,x)};n.exports=u},63288:(n,a,s)=>{var o=s(85896),u=s(26099),l=new u,c=function(h,d,f,m){return o(0,h,d,l,f,m),l.y};n.exports=c},81086:(n,a,s)=>{n.exports={CalculateFacesAt:s(72023),CalculateFacesWithin:s(42573),CheckIsoBounds:s(33528),Copy:s(1785),CreateFromTiles:s(78419),CullBounds:s(19545),CullTiles:s(30003),Fill:s(35137),FilterTiles:s(40253),FindByIndex:s(52692),FindTile:s(66151),ForEachTile:s(97560),GetCullTilesFunction:s(43305),GetTileAt:s(7423),GetTileAtWorldXY:s(60540),GetTileCorners:s(55826),GetTileCornersFunction:s(11758),GetTilesWithin:s(7386),GetTilesWithinShape:s(91141),GetTilesWithinWorldXY:s(96523),GetTileToWorldXFunction:s(39167),GetTileToWorldXYFunction:s(62e3),GetTileToWorldYFunction:s(5984),GetWorldToTileXFunction:s(96113),GetWorldToTileXYFunction:s(16926),GetWorldToTileYFunction:s(55762),HasTileAt:s(45091),HasTileAtWorldXY:s(24152),HexagonalCullBounds:s(90454),HexagonalCullTiles:s(9474),HexagonalGetTileCorners:s(27229),HexagonalTileToWorldXY:s(19951),HexagonalWorldToTileXY:s(86625),IsInLayerBounds:s(62991),IsometricCullTiles:s(14018),IsometricTileToWorldXY:s(14127),IsometricWorldToTileXY:s(96897),PutTileAt:s(71558),PutTileAtWorldXY:s(26303),PutTilesAt:s(14051),Randomize:s(77389),RemoveTileAt:s(63557),RemoveTileAtWorldXY:s(94178),RenderDebug:s(15533),ReplaceByIndex:s(27987),RunCull:s(32483),SetCollision:s(57068),SetCollisionBetween:s(37266),SetCollisionByExclusion:s(75661),SetCollisionByProperty:s(64740),SetCollisionFromCollisionGroup:s(63307),SetLayerCollisionIndex:s(9589),SetTileCollision:s(20576),SetTileIndexCallback:s(79583),SetTileLocationCallback:s(93254),Shuffle:s(32903),StaggeredCullBounds:s(61325),StaggeredCullTiles:s(54503),StaggeredTileToWorldXY:s(97202),StaggeredTileToWorldY:s(28054),StaggeredWorldToTileXY:s(15108),StaggeredWorldToTileY:s(51900),SwapByIndex:s(86560),TileToWorldX:s(97281),TileToWorldXY:s(70326),TileToWorldY:s(29650),WeightedRandomize:s(77366),WorldToTileX:s(10095),WorldToTileXY:s(85896),WorldToTileY:s(63288)}},91907:n=>{n.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(n,a,s)=>{var o={ORIENTATION:s(91907)};n.exports=o},62501:(n,a,s)=>{var o=s(79291),u=s(21829),l={Components:s(81086),Parsers:s(57442),Formats:s(80341),ImageCollection:s(16536),ParseToTilemap:s(31989),Tile:s(23029),Tilemap:s(49075),TilemapCreator:s(45939),TilemapFactory:s(46029),Tileset:s(33629),TilemapLayer:s(20442),Orientation:s(91907),LayerData:s(14977),MapData:s(87010),ObjectLayer:s(48700)};l=o(!1,l,u.ORIENTATION),n.exports=l},14977:(n,a,s)=>{var o=s(83419),u=s(91907),l=s(95540),c=new o({initialize:function(d){d===void 0&&(d={}),this.name=l(d,"name","layer"),this.id=l(d,"id",0),this.x=l(d,"x",0),this.y=l(d,"y",0),this.width=l(d,"width",0),this.height=l(d,"height",0),this.tileWidth=l(d,"tileWidth",0),this.tileHeight=l(d,"tileHeight",0),this.baseTileWidth=l(d,"baseTileWidth",this.tileWidth),this.baseTileHeight=l(d,"baseTileHeight",this.tileHeight),this.orientation=l(d,"orientation",u.ORTHOGONAL),this.widthInPixels=l(d,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=l(d,"heightInPixels",this.height*this.baseTileHeight),this.alpha=l(d,"alpha",1),this.visible=l(d,"visible",!0),this.properties=l(d,"properties",[]),this.indexes=l(d,"indexes",[]),this.collideIndexes=l(d,"collideIndexes",[]),this.callbacks=l(d,"callbacks",[]),this.bodies=l(d,"bodies",[]),this.data=l(d,"data",[]),this.tilemapLayer=l(d,"tilemapLayer",null),this.hexSideLength=l(d,"hexSideLength",0),this.staggerAxis=l(d,"staggerAxis","y"),this.staggerIndex=l(d,"staggerIndex","odd")}});n.exports=c},87010:(n,a,s)=>{var o=s(83419),u=s(91907),l=s(95540),c=new o({initialize:function(d){d===void 0&&(d={}),this.name=l(d,"name","map"),this.width=l(d,"width",0),this.height=l(d,"height",0),this.infinite=l(d,"infinite",!1),this.tileWidth=l(d,"tileWidth",0),this.tileHeight=l(d,"tileHeight",0),this.widthInPixels=l(d,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=l(d,"heightInPixels",this.height*this.tileHeight),this.format=l(d,"format",null),this.orientation=l(d,"orientation",u.ORTHOGONAL),this.renderOrder=l(d,"renderOrder","right-down"),this.version=l(d,"version","1"),this.properties=l(d,"properties",{}),this.layers=l(d,"layers",[]),this.images=l(d,"images",[]),this.objects=l(d,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=l(d,"collision",{}),this.tilesets=l(d,"tilesets",[]),this.imageCollections=l(d,"imageCollections",[]),this.tiles=l(d,"tiles",[]),this.hexSideLength=l(d,"hexSideLength",0),this.staggerAxis=l(d,"staggerAxis","y"),this.staggerIndex=l(d,"staggerIndex","odd")}});n.exports=c},48700:(n,a,s)=>{var o=s(83419),u=s(95540),l=new o({initialize:function(h){h===void 0&&(h={}),this.name=u(h,"name","object layer"),this.id=u(h,"id",0),this.opacity=u(h,"opacity",1),this.properties=u(h,"properties",{}),this.propertyTypes=u(h,"propertytypes",{}),this.type=u(h,"type","objectgroup"),this.visible=u(h,"visible",!0),this.objects=u(h,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});n.exports=l},6641:(n,a,s)=>{var o=s(91907),u=function(l){return l=l.toLowerCase(),l==="isometric"?o.ISOMETRIC:l==="staggered"?o.STAGGERED:l==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};n.exports=u},46177:(n,a,s)=>{var o=s(80341),u=s(2342),l=s(82593),c=s(46594),h=s(87021),d=function(f,m,p,g,v,y){var x;switch(m){case o.ARRAY_2D:x=u(f,p,g,v,y);break;case o.CSV:x=l(f,p,g,v,y);break;case o.TILED_JSON:x=c(f,p,y);break;case o.WELTMEISTER:x=h(f,p,y);break;default:console.warn("Unrecognized tilemap data format: "+m),x=null}return x};n.exports=d},2342:(n,a,s)=>{var o=s(80341),u=s(14977),l=s(87010),c=s(23029),h=function(d,f,m,p,g){for(var v=new u({tileWidth:m,tileHeight:p}),y=new l({name:d,tileWidth:m,tileHeight:p,format:o.ARRAY_2D,layers:[v]}),x=[],b=f.length,w=0,C=0;C<f.length;C++){x[C]=[];for(var _=f[C],S=0;S<_.length;S++){var T=parseInt(_[S],10);isNaN(T)||T===-1?x[C][S]=g?null:new c(v,-1,S,C,m,p):x[C][S]=new c(v,T,S,C,m,p)}w===0&&(w=_.length)}return y.width=v.width=w,y.height=v.height=b,y.widthInPixels=v.widthInPixels=w*m,y.heightInPixels=v.heightInPixels=b*p,v.data=x,y};n.exports=h},82593:(n,a,s)=>{var o=s(80341),u=s(2342),l=function(c,h,d,f,m){var p=h.trim().split(`
`).map(function(v){return v.split(",")}),g=u(c,p,d,f,m);return g.format=o.CSV,g};n.exports=l},6656:(n,a,s)=>{var o=s(14977),u=s(23029),l=function(c,h){for(var d=[],f=0;f<c.layer.length;f++){for(var m=c.layer[f],p=new o({name:m.name,width:m.width,height:m.height,tileWidth:m.tilesize,tileHeight:m.tilesize,visible:m.visible===1}),g=[],v=[],y=0;y<m.data.length;y++){for(var x=0;x<m.data[y].length;x++){var b=m.data[y][x]-1,w;b>-1?w=new u(p,b,x,y,m.tilesize,m.tilesize):w=h?null:new u(p,-1,x,y,m.tilesize,m.tilesize),g.push(w)}v.push(g),g=[]}p.data=v,d.push(p)}return d};n.exports=l},96483:(n,a,s)=>{var o=s(33629),u=function(l){for(var c=[],h=[],d=0;d<l.layer.length;d++){var f=l.layer[d],m=f.tilesetName;m!==""&&h.indexOf(m)===-1&&(h.push(m),c.push(new o(m,0,f.tilesize,f.tilesize,0,0)))}return c};n.exports=u},87021:(n,a,s)=>{var o=s(80341),u=s(87010),l=s(6656),c=s(96483),h=function(d,f,m){if(f.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+d),null;for(var p=0,g=0,v=0;v<f.layer.length;v++)f.layer[v].width>p&&(p=f.layer[v].width),f.layer[v].height>g&&(g=f.layer[v].height);var y=new u({width:p,height:g,name:d,tileWidth:f.layer[0].tilesize,tileHeight:f.layer[0].tilesize,format:o.WELTMEISTER});return y.layers=l(f,m),y.tilesets=c(f),y};n.exports=h},52833:(n,a,s)=>{n.exports={ParseTileLayers:s(6656),ParseTilesets:s(96483),ParseWeltmeister:s(87021)}},57442:(n,a,s)=>{n.exports={FromOrientationString:s(6641),Parse:s(46177),Parse2DArray:s(2342),ParseCSV:s(82593),Impact:s(52833),Tiled:s(96761)}},51233:(n,a,s)=>{var o=s(79291),u=function(l){for(var c,h,d,f,m,p=0;p<l.layers.length;p++){c=l.layers[p],f=null;for(var g=0;g<c.data.length;g++){m=c.data[g];for(var v=0;v<m.length;v++)h=m[v],!(h===null||h.index<0)&&(d=l.tiles[h.index][2],f=l.tilesets[d],h.width=f.tileWidth,h.height=f.tileHeight,f.tileProperties&&f.tileProperties[h.index-f.firstgid]&&(h.properties=o(h.properties,f.tileProperties[h.index-f.firstgid])))}}};n.exports=u},41868:n=>{var a=function(s){for(var o=window.atob(s),u=o.length,l=new Array(u/4),c=0;c<u;c+=4)l[c/4]=(o.charCodeAt(c)|o.charCodeAt(c+1)<<8|o.charCodeAt(c+2)<<16|o.charCodeAt(c+3)<<24)>>>0;return l};n.exports=a},84101:(n,a,s)=>{var o=s(33629),u=function(l){var c,h,d=[];for(c=0;c<l.imageCollections.length;c++)for(var f=l.imageCollections[c],m=f.images,p=0;p<m.length;p++){var g=m[p];h=new o(g.image,g.gid,f.imageWidth,f.imageHeight,0,0),h.updateTileData(f.imageWidth,f.imageHeight),l.tilesets.push(h)}for(c=0;c<l.tilesets.length;c++){h=l.tilesets[c];for(var v=h.tileMargin,y=h.tileMargin,x=0,b=0,w=0,C=h.firstgid;C<h.firstgid+h.total&&(d[C]=[v,y,c],v+=h.tileWidth+h.tileSpacing,x++,!(x===h.total||(b++,b===h.columns&&(v=h.tileMargin,y+=h.tileHeight+h.tileSpacing,b=0,w++,w===h.rows))));C++);}return d};n.exports=u},79677:(n,a,s)=>{var o=s(95540),u=function(l,c,h){if(!c)return{i:0,layers:l.layers,name:"",opacity:1,visible:!0,x:0,y:0};var d=c.x+o(c,"startx",0)*l.tilewidth+o(c,"offsetx",0),f=c.y+o(c,"starty",0)*l.tileheight+o(c,"offsety",0);return{i:0,layers:c.layers,name:h.name+c.name+"/",opacity:h.opacity*c.opacity,visible:h.visible&&c.visible,x:h.x+d,y:h.y+f}};n.exports=u},29920:n=>{var a=2147483648,s=1073741824,o=536870912,u=function(l){var c=!!(l&a),h=!!(l&s),d=!!(l&o);l=l&~(a|s|o);var f=0,m=!1;return c&&h&&d?(f=Math.PI/2,m=!0):c&&h&&!d?(f=Math.PI,m=!1):c&&!h&&d?(f=Math.PI/2,m=!1):c&&!h&&!d?(f=0,m=!0):!c&&h&&d?(f=3*Math.PI/2,m=!1):!c&&h&&!d?(f=Math.PI,m=!0):!c&&!h&&d?(f=3*Math.PI/2,m=!0):!c&&!h&&!d&&(f=0,m=!1),{gid:l,flippedHorizontal:c,flippedVertical:h,flippedAntiDiagonal:d,rotation:f,flipped:m}};n.exports=u},12635:(n,a,s)=>{var o=s(95540),u=s(79677),l=function(c){for(var h=[],d=[],f=u(c);f.i<f.layers.length||d.length>0;){if(f.i>=f.layers.length){if(d.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}f=d.pop();continue}var m=f.layers[f.i];if(f.i++,m.type!=="imagelayer"){if(m.type==="group"){var p=u(c,m,f);d.push(f),f=p}continue}var g=o(m,"offsetx",0)+o(m,"startx",0),v=o(m,"offsety",0)+o(m,"starty",0);h.push({name:f.name+m.name,image:m.image,x:f.x+g+m.x,y:f.y+v+m.y,alpha:f.opacity*m.opacity,visible:f.visible&&m.visible,properties:o(m,"properties",{})})}return h};n.exports=l},46594:(n,a,s)=>{var o=s(51233),u=s(84101),l=s(91907),c=s(62644),h=s(80341),d=s(6641),f=s(87010),m=s(12635),p=s(22611),g=s(28200),v=s(24619),y=function(x,b,w){var C=c(b),_=new f({width:C.width,height:C.height,name:x,tileWidth:C.tilewidth,tileHeight:C.tileheight,orientation:d(C.orientation),format:h.TILED_JSON,version:C.version,properties:C.properties,renderOrder:C.renderorder,infinite:C.infinite});_.orientation===l.HEXAGONAL&&(_.hexSideLength=C.hexsidelength,_.staggerAxis=C.staggeraxis,_.staggerIndex=C.staggerindex),_.layers=g(C,w),_.images=m(C);var S=v(C);return _.tilesets=S.tilesets,_.imageCollections=S.imageCollections,_.objects=p(C),_.tiles=u(_),o(_),_};n.exports=y},52205:(n,a,s)=>{var o=s(18254),u=s(29920),l=function(d){return{x:d.x,y:d.y}},c=["id","name","type","rotation","properties","visible","x","y","width","height"],h=function(d,f,m){f===void 0&&(f=0),m===void 0&&(m=0);var p=o(d,c);if(p.x+=f,p.y+=m,d.gid){var g=u(d.gid);p.gid=g.gid,p.flippedHorizontal=g.flippedHorizontal,p.flippedVertical=g.flippedVertical,p.flippedAntiDiagonal=g.flippedAntiDiagonal}else d.polyline?p.polyline=d.polyline.map(l):d.polygon?p.polygon=d.polygon.map(l):d.ellipse?p.ellipse=d.ellipse:d.text?p.text=d.text:d.point?p.point=!0:p.rectangle=!0;return p};n.exports=h},22611:(n,a,s)=>{var o=s(95540),u=s(52205),l=s(48700),c=s(79677),h=function(d){for(var f=[],m=[],p=c(d);p.i<p.layers.length||m.length>0;){if(p.i>=p.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}p=m.pop();continue}var g=p.layers[p.i];if(p.i++,g.opacity*=p.opacity,g.visible=p.visible&&g.visible,g.type!=="objectgroup"){if(g.type==="group"){var v=c(d,g,p);m.push(p),p=v}continue}g.name=p.name+g.name;for(var y=p.x+o(g,"startx",0)+o(g,"offsetx",0),x=p.y+o(g,"starty",0)+o(g,"offsety",0),b=[],w=0;w<g.objects.length;w++){var C=u(g.objects[w],y,x);b.push(C)}var _=new l(g);_.objects=b,f.push(_)}return f};n.exports=h},28200:(n,a,s)=>{var o=s(41868),u=s(91907),l=s(79677),c=s(6641),h=s(95540),d=s(14977),f=s(29920),m=s(23029),p=function(g,v){for(var y=h(g,"infinite",!1),x=[],b=[],w=l(g);w.i<w.layers.length||b.length>0;){if(w.i>=w.layers.length){if(b.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}w=b.pop();continue}var C=w.layers[w.i];if(w.i++,C.type!=="tilelayer"){if(C.type==="group"){var _=l(g,C,w);b.push(w),w=_}continue}if(C.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+C.name+"'");continue}else if(C.encoding&&C.encoding==="base64"){if(C.chunks)for(var S=0;S<C.chunks.length;S++)C.chunks[S].data=o(C.chunks[S].data);C.data&&(C.data=o(C.data)),delete C.encoding}var T,A,M,I,D=[],k=0;if(y){var G=h(C,"startx",0)+C.x,R=h(C,"starty",0)+C.y;T=new d({name:w.name+C.name,id:C.id,x:w.x+h(C,"offsetx",0)+G*g.tilewidth,y:w.y+h(C,"offsety",0)+R*g.tileheight,width:C.width,height:C.height,tileWidth:g.tilewidth,tileHeight:g.tileheight,alpha:w.opacity*C.opacity,visible:w.visible&&C.visible,properties:h(C,"properties",[]),orientation:c(g.orientation)}),T.orientation===u.HEXAGONAL&&(T.hexSideLength=g.hexsidelength,T.staggerAxis=g.staggeraxis,T.staggerIndex=g.staggerindex);for(var H=0;H<C.height;H++){D[H]=[null];for(var j=0;j<C.width;j++)D[H][j]=null}for(H=0,ae=C.chunks.length;H<ae;H++)for(var Z=C.chunks[H],ee=Z.x-G,Y=Z.y-R,V=0,O=0,F=Z.data.length;O<F;O++){var X=k+ee,ie=V+Y;A=f(Z.data[O]),A.gid>0?(M=new m(T,A.gid,X,ie,g.tilewidth,g.tileheight),M.rotation=A.rotation,M.flipX=A.flipped,D[ie][X]=M):(I=v?null:new m(T,-1,X,ie,g.tilewidth,g.tileheight),D[ie][X]=I),k++,k===Z.width&&(V++,k=0)}}else{T=new d({name:w.name+C.name,id:C.id,x:w.x+h(C,"offsetx",0)+C.x,y:w.y+h(C,"offsety",0)+C.y,width:C.width,height:C.height,tileWidth:g.tilewidth,tileHeight:g.tileheight,alpha:w.opacity*C.opacity,visible:w.visible&&C.visible,properties:h(C,"properties",[]),orientation:c(g.orientation)}),T.orientation===u.HEXAGONAL&&(T.hexSideLength=g.hexsidelength,T.staggerAxis=g.staggeraxis,T.staggerIndex=g.staggerindex);for(var re=[],q=0,ae=C.data.length;q<ae;q++)A=f(C.data[q]),A.gid>0?(M=new m(T,A.gid,k,D.length,g.tilewidth,g.tileheight),M.rotation=A.rotation,M.flipX=A.flipped,re.push(M)):(I=v?null:new m(T,-1,k,D.length,g.tilewidth,g.tileheight),re.push(I)),k++,k===C.width&&(D.push(re),k=0,re=[])}T.data=D,x.push(T)}return x};n.exports=p},24619:(n,a,s)=>{var o=s(33629),u=s(16536),l=s(52205),c=s(57880),h=function(d){for(var f=[],m=[],p=null,g,v=0;v<d.tilesets.length;v++){var y=d.tilesets[v];if(y.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(y.image){var x=new o(y.name,y.firstgid,y.tilewidth,y.tileheight,y.margin,y.spacing,void 0,void 0,y.tileoffset);if(d.version>1){var b=void 0,w=void 0;if(Array.isArray(y.tiles)){b=b||{},w=w||{};for(var C=0;C<y.tiles.length;C++){var _=y.tiles[C];if(_.properties){var S={};_.properties.forEach(function(H){S[H.name]=H.value}),w[_.id]=S}if(_.objectgroup&&((b[_.id]||(b[_.id]={})).objectgroup=_.objectgroup,_.objectgroup.objects)){var T=_.objectgroup.objects.map(function(H){return l(H)});b[_.id].objectgroup.objects=T}_.animation&&((b[_.id]||(b[_.id]={})).animation=_.animation),_.type&&((b[_.id]||(b[_.id]={})).type=_.type)}}Array.isArray(y.wangsets)&&(b=b||{},w=w||{},c(y.wangsets,b)),b&&(x.tileData=b,x.tileProperties=w)}else if(y.tileproperties&&(x.tileProperties=y.tileproperties),y.tiles){x.tileData=y.tiles;for(g in x.tileData){var A=x.tileData[g].objectgroup;if(A&&A.objects){var M=A.objects.map(function(H){return l(H)});x.tileData[g].objectgroup.objects=M}}}x.updateTileData(y.imagewidth,y.imageheight),f.push(x)}else{var I=new u(y.name,y.firstgid,y.tilewidth,y.tileheight,y.margin,y.spacing,y.properties),D=0;for(C=0;C<y.tiles.length;C++){_=y.tiles[C];var k=_.image,G=parseInt(_.id,10),R=y.firstgid+G;I.addImage(R,k),D=Math.max(G,D)}I.maxId=D,m.push(I)}p&&(p.lastgid=y.firstgid-1),p=y}return{tilesets:f,imageCollections:m}};n.exports=h},57880:n=>{var a=function(s,o){for(var u=0;u<s.length;u++){var l=s[u],c=u;if(l.name&&l.name!==""&&(c=l.name),Array.isArray(l.wangtiles)&&l.wangtiles.length>0){var h={},d={},f,m,p;if(Array.isArray(l.edgecolors))for(f=0;f<l.edgecolors.length;f++)p=1+f,m=l.edgecolors[f],m.name!==""&&(h[p]=m.name);if(Array.isArray(l.cornercolors))for(f=0;f<l.cornercolors.length;f++)p=1+f,m=l.cornercolors[f],m.name!==""&&(d[p]=m.name);if(Array.isArray(l.colors))for(f=0;f<l.colors.length;f++)m=l.colors[f],p=1+f,m.name!==""&&(h[p]=d[p]=m.name);for(var g=[h,d,h,d,h,d,h,d],v=0;v<l.wangtiles.length;v++){var y=l.wangtiles[v],x=o[y.tileid]||(o[y.tileid]={});x=x.wangid||(x.wangid={});for(var b=[],w=0;w<Math.min(g.length,y.wangid.length);w++){if(m=y.wangid[w],m===0){b.push(void 0);continue}var C=g[w][m];if(C!==void 0){b.push(C);continue}b.push(m)}x[c]=b}}}};n.exports=a},96761:(n,a,s)=>{n.exports={AssignTileProperties:s(51233),Base64Decode:s(41868),BuildTilesetIndex:s(84101),CreateGroupLayer:s(79677),ParseGID:s(29920),ParseImageLayers:s(12635),ParseJSONTiled:s(46594),ParseObject:s(52205),ParseObjectLayers:s(22611),ParseTileLayers:s(28200),ParseTilesets:s(24619)}},33385:(n,a,s)=>{var o=s(83419),u=s(37277),l=s(44594),c=s(94880),h=s(72905),d=new o({initialize:function(m){this.scene=m,this.systems=m.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],m.sys.events.once(l.BOOT,this.boot,this),m.sys.events.on(l.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var f=this.systems.events;f.on(l.PRE_UPDATE,this.preUpdate,this),f.on(l.UPDATE,this.update,this),f.once(l.SHUTDOWN,this.shutdown,this)},addEvent:function(f){var m;return f instanceof c?(m=f,this.removeEvent(m),m.elapsed=m.startAt,m.hasDispatched=!1,m.repeatCount=m.repeat===-1||m.loop?999999999999:m.repeat):m=new c(f),this._pendingInsertion.push(m),m},delayedCall:function(f,m,p,g){return this.addEvent({delay:f,callback:m,args:p,callbackScope:g})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(f){Array.isArray(f)||(f=[f]);for(var m=0;m<f.length;m++){var p=f[m];h(this._pendingRemoval,p),h(this._pendingInsertion,p),h(this._active,p)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var f=this._pendingRemoval.length,m=this._pendingInsertion.length;if(!(f===0&&m===0)){var p,g;for(p=0;p<f;p++){g=this._pendingRemoval[p];var v=this._active.indexOf(g);v>-1&&this._active.splice(v,1),g.destroy()}for(p=0;p<m;p++)g=this._pendingInsertion[p],this._active.push(g);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(f,m){if(this.now=f,!this.paused){m*=this.timeScale;for(var p=0;p<this._active.length;p++){var g=this._active[p];if(!g.paused&&(g.elapsed+=m*g.timeScale,g.elapsed>=g.delay)){var v=g.elapsed-g.delay;if(g.elapsed=g.delay,!g.hasDispatched&&g.callback&&(g.hasDispatched=!0,g.callback.apply(g.callbackScope,g.args)),g.repeatCount>0){if(g.repeatCount--,v>=g.delay)for(;v>=g.delay&&g.repeatCount>0;)g.callback&&g.callback.apply(g.callbackScope,g.args),v-=g.delay,g.repeatCount--;g.elapsed=v,g.hasDispatched=!1}else g.hasDispatched&&this._pendingRemoval.push(g)}}}},shutdown:function(){var f;for(f=0;f<this._pendingInsertion.length;f++)this._pendingInsertion[f].destroy();for(f=0;f<this._active.length;f++)this._active[f].destroy();for(f=0;f<this._pendingRemoval.length;f++)this._pendingRemoval[f].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var m=this.systems.events;m.off(l.PRE_UPDATE,this.preUpdate,this),m.off(l.UPDATE,this.update,this),m.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});u.register("Clock",d,"time"),n.exports=d},96120:(n,a,s)=>{var o=s(83419),u=s(50792),l=s(39429),c=s(95540),h=s(44594),d=s(89809),f=new o({Extends:u,initialize:function(p,g){u.call(this),this.scene=p,this.systems=p.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var v=this.systems.events;v.on(h.PRE_UPDATE,this.preUpdate,this),v.on(h.UPDATE,this.update,this),v.once(h.SHUTDOWN,this.destroy,this),g&&this.add(g)},preUpdate:function(m,p){this.paused||(this.elapsed+=p*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var m,p=this.events,g=!1,v=this.systems,y;for(m=0;m<p.length;m++){var x=p[m];if(!x.complete&&x.time<=this.elapsed){if(x.complete=!0,this.totalComplete++,y=x.target?x.target:this,x.if&&!x.if.call(y,x))continue;if(x.once&&(g=!0),x.set&&x.target)for(var b in x.set)x.target[b]=x.set[b];this.iteration&&x.repeat++,x.loop&&x.repeat&&x.loop.call(y),x.tween&&(x.tweenInstance=v.tweens.add(x.tween)),x.sound&&(typeof x.sound=="string"?v.sound.play(x.sound):v.sound.play(x.sound.key,x.sound.config)),x.event&&this.emit(x.event,y),x.run&&x.run.call(y),x.stop&&this.stop()}}if(g)for(m=0;m<p.length;m++)p[m].complete&&p[m].once&&(p.splice(m,1),m--);this.totalComplete>=p.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(d.COMPLETE,this)}},play:function(m){return m===void 0&&(m=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,m&&this.reset(),this},pause:function(){this.paused=!0;for(var m=this.events,p=0;p<m.length;p++){var g=m[p];g.tweenInstance&&(g.tweenInstance.paused=!0)}return this},repeat:function(m){return(m===void 0||m===!0)&&(m=-1),m===!1&&(m=0),this.loop=m,this},resume:function(){this.paused=!1;for(var m=this.events,p=0;p<m.length;p++){var g=m[p];g.tweenInstance&&(g.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(m){m===void 0&&(m=!1),this.elapsed=0,m||(this.iteration=0);for(var p=this.events,g=0;g<p.length;g++){var v=p[g];v.complete=!1,m||(v.repeat=0),v.tweenInstance&&v.tweenInstance.stop()}return this.play(!1)},add:function(m){Array.isArray(m)||(m=[m]);var p=this.events,g=0;p.length>0&&(g=p[p.length-1].time);for(var v=0;v<m.length;v++){var y=m[v],x=c(y,"at",0),b=c(y,"in",null);b!==null&&(x=this.elapsed+b);var w=c(y,"from",null);w!==null&&(x=g+w),p.push({complete:!1,time:x,repeat:0,if:c(y,"if",null),run:c(y,"run",null),loop:c(y,"loop",null),event:c(y,"event",null),target:c(y,"target",null),set:c(y,"set",null),tween:c(y,"tween",null),sound:c(y,"sound",null),once:c(y,"once",!1),stop:c(y,"stop",!1)}),g=x}return this.complete=!1,this},clear:function(){for(var m=this.events,p=0;p<m.length;p++){var g=m[p];g.tweenInstance&&g.tweenInstance.stop()}return m=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var m=Math.min(this.totalComplete,this.events.length);return m/this.events.length},destroy:function(){var m=this.systems.events;m.off(h.PRE_UPDATE,this.preUpdate,this),m.off(h.UPDATE,this.update,this),m.off(h.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});l.register("timeline",function(m){return new f(this.scene,m)}),n.exports=f},94880:(n,a,s)=>{var o=s(83419),u=s(95540),l=new o({initialize:function(h){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(h)},reset:function(c){if(this.delay=u(c,"delay",0),this.repeat=u(c,"repeat",0),this.loop=u(c,"loop",!1),this.callback=u(c,"callback",void 0),this.callbackScope=u(c,"callbackScope",this),this.args=u(c,"args",[]),this.timeScale=u(c,"timeScale",1),this.startAt=u(c,"startAt",0),this.paused=u(c,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var c=this.delay+this.delay*this.repeat,h=this.elapsed+this.delay*(this.repeat-this.repeatCount);return h/c}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(c){c===void 0&&(c=!1),this.elapsed=this.delay,this.hasDispatched=!c,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});n.exports=l},35945:n=>{n.exports="complete"},89809:(n,a,s)=>{n.exports={COMPLETE:s(35945)}},90291:(n,a,s)=>{n.exports={Clock:s(33385),Events:s(89809),Timeline:s(96120),TimerEvent:s(94880)}},40382:(n,a,s)=>{var o=s(72905),u=s(83419),l=s(43491),c=s(88032),h=s(37277),d=s(44594),f=s(93109),m=s(86081),p=s(8357),g=s(43960),v=s(26012),y=new u({initialize:function(b){this.scene=b,this.events=b.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(d.UPDATE,this.update,this),this.events.once(d.SHUTDOWN,this.shutdown,this)},create:function(x){Array.isArray(x)||(x=[x]);for(var b=[],w=0;w<x.length;w++){var C=x[w];C instanceof m||C instanceof g?b.push(C):Array.isArray(C.tweens)?b.push(v(this,C)):b.push(p(this,C))}return b.length===1?b[0]:b},add:function(x){var b=x,w=this.tweens;return b instanceof m||b instanceof g||(Array.isArray(b.tweens)?b=v(this,b):b=p(this,b)),w.push(b.reset()),b},addMultiple:function(x){for(var b,w=[],C=this.tweens,_=0;_<x.length;_++)b=x[_],b instanceof m||b instanceof g||(Array.isArray(b.tweens)?b=v(this,b):b=p(this,b)),C.push(b.reset()),w.push(b);return w},chain:function(x){var b=v(this,x);return this.tweens.push(b.init()),b},getChainedTweens:function(x){return x.getChainedTweens()},has:function(x){return this.tweens.indexOf(x)>-1},existing:function(x){return this.has(x)||this.tweens.push(x.reset()),this},addCounter:function(x){var b=c(this,x);return this.tweens.push(b.reset()),b},stagger:function(x,b){return f(x,b)},setLagSmooth:function(x,b){return x===void 0&&(x=1/1e-8),b===void 0&&(b=0),this.maxLag=x,this.lagSkip=Math.min(b,this.maxLag),this},setFps:function(x){return x===void 0&&(x=240),this.gap=1e3/x,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(x){var b=Date.now()-this.prevTime;b>this.maxLag&&(this.startTime+=b-this.lagSkip),this.prevTime+=b;var w=this.prevTime-this.startTime,C=w-this.nextTime,_=w-this.time*1e3;return C>0||x?(w/=1e3,this.time=w,this.nextTime+=C+(C>=this.gap?4:this.gap-C)):_=0,_},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(x){x===void 0&&(x=!1);var b=this.getDelta(x);if(!(b<=0)){this.processing=!0;var w,C,_=[],S=this.tweens;for(w=0;w<S.length;w++)C=S[w],C.update(b)&&_.push(C);var T=_.length;if(T&&S.length>0){for(w=0;w<T;w++){C=_[w];var A=S.indexOf(C);A>-1&&(C.isPendingRemove()||C.isDestroyed())&&(S.splice(A,1),C.destroy())}_.length=0}this.processing=!1}},remove:function(x){return this.processing?x.setPendingRemoveState():(o(this.tweens,x),x.setRemovedState()),this},reset:function(x){return this.existing(x),x.seek(),x.setActiveState(),this},makeActive:function(x){return this.existing(x),x.setActiveState(),this},each:function(x,b){var w,C=[null];for(w=1;w<arguments.length;w++)C.push(arguments[w]);return this.tweens.forEach(function(_){C[0]=_,x.apply(b,C)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(x){var b=[],w=this.tweens;Array.isArray(x)?x=l(x):x=[x];for(var C=x.length,_=0;_<w.length;_++)for(var S=w[_],T=0;T<C;T++)!S.isDestroyed()&&S.hasTarget(x[T])&&b.push(S);return b},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(x){return this.timeScale=x,this},isTweening:function(x){for(var b=this.tweens,w,C=0;C<b.length;C++)if(w=b[C],w.isPlaying()&&w.hasTarget(x))return!0;return!1},killAll:function(){for(var x=this.processing?this.getTweens():this.tweens,b=0;b<x.length;b++)x[b].destroy();return this.processing||(x.length=0),this},killTweensOf:function(x){for(var b=this.getTweensOf(x),w=0;w<b.length;w++)b[w].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(d.UPDATE,this.update,this),this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.events=null}});h.register("TweenManager",y,"tweens"),n.exports=y},57355:n=>{var a=function(s,o,u){return s&&s.hasOwnProperty(o)?s[o]:u};n.exports=a},6113:(n,a,s)=>{var o=s(62640),u=s(35355),l=function(c,h){var d=o.Power0;if(typeof c=="string")if(o.hasOwnProperty(c))d=o[c];else{var f="";if(c.indexOf(".")){f=c.substring(c.indexOf(".")+1);var m=f.toLowerCase();m==="in"?f="easeIn":m==="out"?f="easeOut":m==="inout"&&(f="easeInOut")}c=u(c.substring(0,c.indexOf(".")+1)+f),o.hasOwnProperty(c)&&(d=o[c])}else typeof c=="function"&&(d=c);if(!h)return d;var p=h.slice(0);return p.unshift(0),function(g){return p[0]=g,d.apply(this,p)}};n.exports=l},91389:(n,a,s)=>{var o=s(89318),u=s(77259),l=s(28392),c={bezier:o,catmull:u,catmullrom:u,linear:l},h=function(d){if(d===null)return null;var f=c.linear;return typeof d=="string"?c.hasOwnProperty(d)&&(f=c[d]):typeof d=="function"&&(f=d),f};n.exports=h},55292:n=>{var a=function(s,o,u){var l;if(s.hasOwnProperty(o)){var c=typeof s[o];c==="function"?l=function(h,d,f,m,p,g){return s[o](h,d,f,m,p,g)}:l=function(){return s[o]}}else typeof u=="function"?l=u:l=function(){return u};return l};n.exports=a},82985:(n,a,s)=>{var o=s(81076),u=function(l){var c,h=[];if(l.hasOwnProperty("props"))for(c in l.props)c.substring(0,1)!=="_"&&h.push({key:c,value:l.props[c]});else for(c in l)o.indexOf(c)===-1&&c.substring(0,1)!=="_"&&h.push({key:c,value:l[c]});return h};n.exports=u},62329:(n,a,s)=>{var o=s(35154),u=function(l){var c=o(l,"targets",null);return c===null||(typeof c=="function"&&(c=c.call()),Array.isArray(c)||(c=[c])),c};n.exports=u},17777:(n,a,s)=>{var o=s(30976),u=s(99472);function l(m){return!!m.getActive&&typeof m.getActive=="function"}function c(m){return!!m.getStart&&typeof m.getStart=="function"}function h(m){return!!m.getEnd&&typeof m.getEnd=="function"}function d(m){return c(m)||h(m)||l(m)}var f=function(m,p){var g,v=function(Z,ee,Y){return Y},y=function(Z,ee,Y){return Y},x=null,b=typeof p;if(b==="number")v=function(){return p};else if(Array.isArray(p))y=function(){return p[0]},v=function(){return p[p.length-1]};else if(b==="string"){var w=p.toLowerCase(),C=w.substring(0,6)==="random",_=w.substring(0,3)==="int";if(C||_){var S=w.indexOf("("),T=w.indexOf(")"),A=w.indexOf(",");if(S&&T&&A){var M=parseFloat(w.substring(S+1,A)),I=parseFloat(w.substring(A+1,T));C?v=function(){return u(M,I)}:v=function(){return o(M,I)}}else throw new Error("invalid random() format")}else{w=w[0];var D=parseFloat(p.substr(2));switch(w){case"+":v=function(Z,ee,Y){return Y+D};break;case"-":v=function(Z,ee,Y){return Y-D};break;case"*":v=function(Z,ee,Y){return Y*D};break;case"/":v=function(Z,ee,Y){return Y/D};break;default:v=function(){return parseFloat(p)}}}}else if(b==="function")v=p;else if(b==="object")if(d(p))l(p)&&(x=p.getActive),h(p)&&(v=p.getEnd),c(p)&&(y=p.getStart);else if(p.hasOwnProperty("value"))g=f(m,p.value);else{var k=p.hasOwnProperty("to"),G=p.hasOwnProperty("from"),R=p.hasOwnProperty("start");if(k&&(G||R)){if(g=f(m,p.to),R){var H=f(m,p.start);g.getActive=H.getEnd}if(G){var j=f(m,p.from);g.getStart=j.getEnd}}}return g||(g={getActive:x,getEnd:v,getStart:y}),g};n.exports=f},88032:(n,a,s)=>{var o=s(70402),u=s(69902),l=s(23568),c=s(57355),h=s(6113),d=s(55292),f=s(35154),m=s(17777),p=s(269),g=s(86081),v=function(y,x,b){if(x instanceof g)return x.parent=y,x;b===void 0?b=u:b=p(u,b);var w=f(x,"from",0),C=f(x,"to",1),_=[{value:w}],S=f(x,"delay",b.delay),T=f(x,"easeParams",b.easeParams),A=f(x,"ease",b.ease),M=m("value",C),I=new g(y,_),D=I.add(0,"value",M.getEnd,M.getStart,M.getActive,h(f(x,"ease",A),f(x,"easeParams",T)),d(x,"delay",S),f(x,"duration",b.duration),c(x,"yoyo",b.yoyo),f(x,"hold",b.hold),f(x,"repeat",b.repeat),f(x,"repeatDelay",b.repeatDelay),!1,!1);D.start=w,D.current=w,I.completeDelay=l(x,"completeDelay",0),I.loop=Math.round(l(x,"loop",0)),I.loopDelay=Math.round(l(x,"loopDelay",0)),I.paused=c(x,"paused",!1),I.persist=c(x,"persist",!1),I.callbackScope=f(x,"callbackScope",I);for(var k=o.TYPES,G=0;G<k.length;G++){var R=k[G],H=f(x,R,!1);if(H){var j=f(x,R+"Params",[]);I.setCallback(R,H,j)}}return I};n.exports=v},93109:(n,a,s)=>{var o=s(6113),u=s(35154),l=s(36383),c=function(h,d){d===void 0&&(d={});var f,m=u(d,"start",0),p=u(d,"ease",null),g=u(d,"grid",null),v=u(d,"from",0),y=v==="first",x=v==="center",b=v==="last",w=typeof v=="number",C=Array.isArray(h),_=parseFloat(C?h[0]:h),S=C?parseFloat(h[1]):0,T=Math.max(_,S);if(C&&(m+=_),g){var A=g[0],M=g[1],I=0,D=0,k=0,G=0,R=[];b?(I=A-1,D=M-1):w?(I=v%A,D=Math.floor(v/A)):x&&(I=(A-1)/2,D=(M-1)/2);for(var H=l.MIN_SAFE_INTEGER,j=0;j<M;j++){R[j]=[];for(var Z=0;Z<A;Z++){k=I-Z,G=D-j;var ee=Math.sqrt(k*k+G*G);ee>H&&(H=ee),R[j][Z]=ee}}}var Y=p?o(p):null;return g?f=function(V,O,F,X){var ie=0,re=X%A,q=Math.floor(X/A);re>=0&&re<A&&q>=0&&q<M&&(ie=R[q][re]);var ae;if(C){var ue=S-_;Y?ae=ie/H*ue*Y(ie/H):ae=ie/H*ue}else Y?ae=ie*_*Y(ie/H):ae=ie*_;return ae+m}:f=function(V,O,F,X,ie){ie--;var re;y?re=X:x?re=Math.abs(ie/2-X):b?re=ie-X:w&&(re=Math.abs(v-X));var q;if(C){var ae;x?ae=(S-_)/ie*(re*2):ae=(S-_)/ie*re,Y?q=ae*Y(re/ie):q=ae}else Y?q=ie*T*Y(re/ie):q=re*_;return q+m},f};n.exports=c},8357:(n,a,s)=>{var o=s(70402),u=s(69902),l=s(23568),c=s(57355),h=s(6113),d=s(91389),f=s(55292),m=s(82985),p=s(62329),g=s(35154),v=s(17777),y=s(269),x=s(86081),b=function(w,C,_){if(C instanceof x)return C.parent=w,C;_===void 0?_=u:_=y(u,_);var S=p(C);!S&&_.targets&&(S=_.targets);for(var T=m(C),A=g(C,"delay",_.delay),M=g(C,"duration",_.duration),I=g(C,"easeParams",_.easeParams),D=g(C,"ease",_.ease),k=g(C,"hold",_.hold),G=g(C,"repeat",_.repeat),R=g(C,"repeatDelay",_.repeatDelay),H=c(C,"yoyo",_.yoyo),j=c(C,"flipX",_.flipX),Z=c(C,"flipY",_.flipY),ee=g(C,"interpolation",_.interpolation),Y=function(be,ke,ze,De){if(ze==="texture"){var ge=De,Et=void 0;Array.isArray(De)?(ge=De[0],Et=De[1]):De.hasOwnProperty("value")?(ge=De.value,Array.isArray(De.value)?(ge=De.value[0],Et=De.value[1]):typeof De.value=="string"&&(ge=De.value)):typeof De=="string"&&(ge=De),be.addFrame(ke,ge,Et,f(De,"delay",A),g(De,"duration",M),g(De,"hold",k),g(De,"repeat",G),g(De,"repeatDelay",R),c(De,"flipX",j),c(De,"flipY",Z))}else{var ct=v(ze,De),We=d(g(De,"interpolation",ee));be.add(ke,ze,ct.getEnd,ct.getStart,ct.getActive,h(g(De,"ease",D),g(De,"easeParams",I)),f(De,"delay",A),g(De,"duration",M),c(De,"yoyo",H),g(De,"hold",k),g(De,"repeat",G),g(De,"repeatDelay",R),c(De,"flipX",j),c(De,"flipY",Z),We,We?De:null)}},V=new x(w,S),O=0;O<T.length;O++)for(var F=T[O].key,X=T[O].value,ie=0;ie<S.length;ie++)F==="scale"&&!S[ie].hasOwnProperty("scale")?(Y(V,ie,"scaleX",X),Y(V,ie,"scaleY",X)):Y(V,ie,F,X);V.completeDelay=l(C,"completeDelay",0),V.loop=Math.round(l(C,"loop",0)),V.loopDelay=Math.round(l(C,"loopDelay",0)),V.paused=c(C,"paused",!1),V.persist=c(C,"persist",!1),V.callbackScope=g(C,"callbackScope",V);for(var re=o.TYPES,q=0;q<re.length;q++){var ae=re[q],ue=g(C,ae,!1);if(ue){var me=g(C,ae+"Params",[]);V.setCallback(ae,ue,me)}}return V};n.exports=b},26012:(n,a,s)=>{var o=s(70402),u=s(23568),l=s(57355),c=s(62329),h=s(35154),d=s(8357),f=s(43960),m=function(p,g){if(g instanceof f)return g.parent=p,g;var v=new f(p);v.startDelay=h(g,"delay",0),v.completeDelay=u(g,"completeDelay",0),v.loop=Math.round(u(g,"loop",h(g,"repeat",0))),v.loopDelay=Math.round(u(g,"loopDelay",h(g,"repeatDelay",0))),v.paused=l(g,"paused",!1),v.persist=l(g,"persist",!1),v.callbackScope=h(g,"callbackScope",v);var y,x=o.TYPES;for(y=0;y<x.length;y++){var b=x[y],w=h(g,b,!1);if(w){var C=h(g,b+"Params",[]);v.setCallback(b,w,C)}}var _=h(g,"tweens",null);if(Array.isArray(_)){var S=[],T=c(g),A=void 0;for(T&&(A={targets:T}),y=0;y<_.length;y++)S.push(d(v,_[y],A));v.add(S)}return v};n.exports=m},30231:(n,a,s)=>{n.exports={GetBoolean:s(57355),GetEaseFunction:s(6113),GetInterpolationFunction:s(91389),GetNewValue:s(55292),GetProps:s(82985),GetTargets:s(62329),GetValueOp:s(17777),NumberTweenBuilder:s(88032),StaggerBuilder:s(93109),TweenBuilder:s(8357)}},73685:n=>{n.exports="active"},98540:n=>{n.exports="complete"},67233:n=>{n.exports="loop"},2859:n=>{n.exports="pause"},98336:n=>{n.exports="repeat"},25764:n=>{n.exports="resume"},32193:n=>{n.exports="start"},84371:n=>{n.exports="stop"},70766:n=>{n.exports="update"},55659:n=>{n.exports="yoyo"},842:(n,a,s)=>{n.exports={TWEEN_ACTIVE:s(73685),TWEEN_COMPLETE:s(98540),TWEEN_LOOP:s(67233),TWEEN_PAUSE:s(2859),TWEEN_RESUME:s(25764),TWEEN_REPEAT:s(98336),TWEEN_START:s(32193),TWEEN_STOP:s(84371),TWEEN_UPDATE:s(70766),TWEEN_YOYO:s(55659)}},43066:(n,a,s)=>{var o={States:s(86353),Builders:s(30231),Events:s(842),TweenManager:s(40382),Tween:s(86081),TweenData:s(48177),TweenFrameData:s(42220),BaseTween:s(70402),TweenChain:s(43960)};n.exports=o},70402:(n,a,s)=>{var o=s(83419),u=s(50792),l=s(842),c=s(86353),h=new o({Extends:u,initialize:function(f){u.call(this),this.parent=f,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=c.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(d){return this.timeScale=d,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(l.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(l.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(l.TWEEN_COMPLETE,"onComplete")},complete:function(d){return d===void 0&&(d=0),d?(this.setCompleteDelayState(),this.countdown=d):this.onCompleteHandler(),this},completeAfterLoop:function(d){return d===void 0&&(d=0),this.loopCounter>d&&(this.loopCounter=d),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(l.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(d){this.countdown-=d,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(d){return this.countdown-=d,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(l.TWEEN_START,"onStart"),d=0),d},updateCompleteDelay:function(d){this.countdown-=d,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(d,f,m){return m===void 0&&(m=[]),this.callbacks.hasOwnProperty(d)&&(this.callbacks[d]={func:f,params:m}),this},setPendingState:function(){this.state=c.PENDING},setActiveState:function(){this.state=c.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=c.LOOP_DELAY},setCompleteDelayState:function(){this.state=c.COMPLETE_DELAY},setStartDelayState:function(){this.state=c.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=c.PENDING_REMOVE},setRemovedState:function(){this.state=c.REMOVED},setFinishedState:function(){this.state=c.FINISHED},setDestroyedState:function(){this.state=c.DESTROYED},isPending:function(){return this.state===c.PENDING},isActive:function(){return this.state===c.ACTIVE},isLoopDelayed:function(){return this.state===c.LOOP_DELAY},isCompleteDelayed:function(){return this.state===c.COMPLETE_DELAY},isStartDelayed:function(){return this.state===c.START_DELAY},isPendingRemove:function(){return this.state===c.PENDING_REMOVE},isRemoved:function(){return this.state===c.REMOVED},isFinished:function(){return this.state===c.FINISHED},isDestroyed:function(){return this.state===c.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(d){d.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});h.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],n.exports=h},95042:(n,a,s)=>{var o=s(83419),u=s(842),l=s(86353),c=new o({initialize:function(d,f,m,p,g,v,y,x,b,w){this.tween=d,this.targetIndex=f,this.duration=p,this.totalDuration=0,this.delay=0,this.getDelay=m,this.yoyo=g,this.hold=v,this.repeat=y,this.repeatDelay=x,this.repeatCounter=0,this.flipX=b,this.flipY=w,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(h){h===void 0&&(h=this.current),this.tween.targets[this.targetIndex][this.key]=h},setCreatedState:function(){this.state=l.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=l.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=l.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=l.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=l.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=l.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=l.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=l.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===l.CREATED},isDelayed:function(){return this.state===l.DELAY},isPendingRender:function(){return this.state===l.PENDING_RENDER},isPlayingForward:function(){return this.state===l.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===l.PLAYING_BACKWARD},isHolding:function(){return this.state===l.HOLD_DELAY},isRepeating:function(){return this.state===l.REPEAT_DELAY},isComplete:function(){return this.state===l.COMPLETE},setStateFromEnd:function(h){this.yoyo?this.onRepeat(h,!0,!0):this.repeatCounter>0?this.onRepeat(h,!0,!1):this.setCompleteState()},setStateFromStart:function(h){this.repeatCounter>0?this.onRepeat(h,!1):this.setCompleteState()},reset:function(){var h=this.tween,d=h.totalTargets,f=this.targetIndex,m=h.targets[f],p=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(m,p,0,f,d,h),this.repeatCounter=this.repeat===-1?l.MAX:this.repeat,this.setPendingRenderState();var g=this.duration+this.hold;this.yoyo&&(g+=this.duration);var v=g+this.repeatDelay;this.totalDuration=this.delay+g,this.repeat===-1?(this.totalDuration+=v*l.MAX,h.isInfinite=!0):this.repeat>0&&(this.totalDuration+=v*this.repeat),this.totalDuration>h.duration&&(h.duration=this.totalDuration),this.delay<h.startDelay&&(h.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(h,d,f){var m=this.tween,p=m.totalTargets,g=this.targetIndex,v=m.targets[g],y=this.key,x=y!=="texture";if(this.elapsed=h,this.progress=h/this.duration,this.flipX&&v.toggleFlipX(),this.flipY&&v.toggleFlipY(),x&&(d||f)&&(this.start=this.getStartValue(v,y,this.start,g,p,m)),f){this.setPlayingBackwardState(),this.dispatchEvent(u.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,x&&(this.end=this.getEndValue(v,y,this.start,g,p,m)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-h,x&&(this.current=this.start,v[y]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});n.exports=c},69902:n=>{var a={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};n.exports=a},81076:n=>{n.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(n,a,s)=>{var o=s(70402),u=s(83419),l=s(842),c=s(44603),h=s(39429),d=s(36383),f=s(86353),m=s(48177),p=s(42220),g=new u({Extends:o,initialize:function(y,x){o.call(this,y),this.targets=x,this.totalTargets=x.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(v,y,x,b,w,C,_,S,T,A,M,I,D,k,G,R){var H=new m(this,v,y,x,b,w,C,_,S,T,A,M,I,D,k,G,R);return this.totalData=this.data.push(H),H},addFrame:function(v,y,x,b,w,C,_,S,T,A){var M=new p(this,v,y,x,b,w,C,_,S,T,A);return this.totalData=this.data.push(M),M},getValue:function(v){v===void 0&&(v=0);var y=null;return this.data&&(y=this.data[v].current),y},hasTarget:function(v){return this.targets&&this.targets.indexOf(v)!==-1},updateTo:function(v,y,x){if(x===void 0&&(x=!1),v!=="texture")for(var b=0;b<this.totalData;b++){var w=this.data[b];w.key===v&&(w.isPlayingForward()||w.isPlayingBackward())&&(w.end=y,x&&(w.start=w.current))}return this},restart:function(){switch(this.state){case f.REMOVED:case f.FINISHED:this.seek(),this.parent.makeActive(this);break;case f.PENDING:case f.PENDING_REMOVE:this.parent.reset(this);break;case f.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(v,y,x){if(v===void 0&&(v=0),y===void 0&&(y=16.6),x===void 0&&(x=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;x||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive");var b=this.paused;if(this.paused=!1,v>0){for(var w=Math.floor(v/y),C=v-w*y,_=0;_<w;_++)this.update(y);C>0&&this.update(C)}return this.paused=b,this.isSeeking=!1,this},initTweenData:function(v){v===void 0&&(v=!1),this.duration=0,this.startDelay=d.MAX_SAFE_INTEGER;for(var y=this.data,x=0;x<this.totalData;x++)y[x].reset(v);this.duration=Math.max(this.duration,.01);var b=this.duration,w=this.completeDelay,C=this.loopCounter,_=this.loopDelay;C>0?this.totalDuration=b+w+(b+_)*C:this.totalDuration=b+w},reset:function(v){return v===void 0&&(v=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=f.MAX),v||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive")),this},update:function(v){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(v*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(v),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(v),!1;this.hasStarted||(this.startDelay-=v,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(l.TWEEN_START,"onStart"),v=0));var y=!1;if(this.isActive())for(var x=this.data,b=0;b<this.totalData;b++)x[b].update(v)&&(y=!0);this.elapsed+=v,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=v,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),y||this.nextState();var w=this.isPendingRemove();return w&&this.persist&&(this.setFinishedState(),w=!1),w},forward:function(v){return this.update(v),this},rewind:function(v){return this.update(-v),this},dispatchEvent:function(v,y){if(!this.isSeeking){this.emit(v,this,this.targets);var x=this.callbacks[y];x&&x.func.apply(this.callbackScope,[this,this.targets].concat(x.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});h.register("tween",function(v){return this.scene.sys.tweens.add(v)}),c.register("tween",function(v){return this.scene.sys.tweens.create(v)}),n.exports=g},43960:(n,a,s)=>{var o=s(72905),u=s(70402),l=s(83419),c=s(842),h=s(44603),d=s(39429),f=s(86353),m=new l({Extends:u,initialize:function(g){u.call(this,g),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?f.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(p){var g=this.parent.create(p);Array.isArray(g)||(g=[g]);for(var v=this.data,y=0;y<g.length;y++){var x=g[y];x.parent=this,v.push(x.reset())}return this.totalData=v.length,this},remove:function(p){return o(this.data,p),p.setRemovedState(),p===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(p){for(var g=this.data,v=0;v<this.totalData;v++)if(g[v].hasTarget(p))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(p){return p.seek(),p.setActiveState(),this},makeActive:function(p){return p.reset(),p.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var p=this.data,g=this.totalData,v=0;v<g;v++)p[v].reset(!1);this.setCurrentTween(0)},update:function(p){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;p*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(p):this.isCompleteDelayed()?this.updateCompleteDelay(p):this.isStartDelayed()&&(p=this.updateStartCountdown(p));var g=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(p)&&this.nextTween()&&this.nextState(),g=this.isPendingRemove(),g&&this.persist&&(this.setFinishedState(),g=!1)),g},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(p){this.currentIndex=p,this.currentTween=this.data[p],this.currentTween.setActiveState()},dispatchEvent:function(p,g){this.emit(p,this);var v=this.callbacks[g];v&&v.func.apply(this.callbackScope,[this].concat(v.params))},destroy:function(){u.prototype.destroy.call(this),this.currentTween=null}});d.register("tweenchain",function(p){return this.scene.sys.tweens.chain(p)}),h.register("tweenchain",function(p){return this.scene.sys.tweens.create(p)}),n.exports=m},48177:(n,a,s)=>{var o=s(95042),u=s(45319),l=s(83419),c=s(842),h=new l({Extends:o,initialize:function(f,m,p,g,v,y,x,b,w,C,_,S,T,A,M,I,D){o.call(this,f,m,b,w,C,_,S,T,A,M),this.key=p,this.getActiveValue=y,this.getEndValue=g,this.getStartValue=v,this.ease=x,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=I,this.interpolationData=D},reset:function(d){o.prototype.reset.call(this);var f=this.tween.targets[this.targetIndex],m=this.key;d&&(f[m]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(f[m]=this.getActiveValue(f,m,0))},update:function(d){var f=this.tween,m=f.totalTargets,p=this.targetIndex,g=f.targets[p],v=this.key;if(!g)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=d,this.elapsed<=0&&(this.elapsed=0,d=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(c.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(g,v,g[v],p,m,f),this.end=this.getEndValue(g,v,this.start,p,m,f),this.current=this.start,g[v]=this.start,this.setPlayingForwardState(),!0;var y=this.isPlayingForward(),x=this.isPlayingBackward();if(y||x){var b=this.elapsed,w=this.duration,C=0,_=!1;b+=d,b>=w?(C=b-w,b=w,_=!0):b<0&&(b=0);var S=u(b/w,0,1);this.elapsed=b,this.progress=S,this.previous=this.current,y||(S=1-S);var T=this.ease(S);this.interpolation?this.current=this.interpolation(this.interpolationData,T):this.current=this.start+(this.end-this.start)*T,g[v]=this.current,_&&(y?this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C):this.setStateFromStart(C)),this.dispatchEvent(c.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(d,f){var m=this.tween;if(!m.isSeeking){var p=m.targets[this.targetIndex],g=this.key,v=this.current,y=this.previous;m.emit(d,m,g,p,v,y);var x=m.callbacks[f];x&&x.func.apply(m.callbackScope,[m,p,g,v,y].concat(x.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});n.exports=h},42220:(n,a,s)=>{var o=s(95042),u=s(45319),l=s(83419),c=s(842),h=new l({Extends:o,initialize:function(f,m,p,g,v,y,x,b,w,C,_){o.call(this,f,m,v,y,!1,x,b,w,C,_),this.key="texture",this.startTexture=null,this.endTexture=p,this.startFrame=null,this.endFrame=g,this.yoyo=b!==0},reset:function(d){o.prototype.reset.call(this);var f=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=f.texture.key,this.startFrame=f.frame.name),d&&f.setTexture(this.startTexture,this.startFrame)},update:function(d){var f=this.tween,m=this.targetIndex,p=f.targets[m];if(!p)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=d,this.elapsed<=0&&(this.elapsed=0,d=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(c.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&p.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var g=this.isPlayingForward(),v=this.isPlayingBackward();if(g||v){var y=this.elapsed,x=this.duration,b=0,w=!1;y+=d,y>=x?(b=y-x,y=x,w=!0):y<0&&(y=0);var C=u(y/x,0,1);this.elapsed=y,this.progress=C,w&&(g?(p.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(b)):(p.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(b))),this.dispatchEvent(c.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(d,f){var m=this.tween;if(!m.isSeeking){var p=m.targets[this.targetIndex],g=this.key;m.emit(d,m,g,p);var v=m.callbacks[f];v&&v.func.apply(m.callbackScope,[m,p,g].concat(v.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});n.exports=h},86353:n=>{var a={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};n.exports=a},83419:n=>{function a(h){return!!h.get&&typeof h.get=="function"||!!h.set&&typeof h.set=="function"}function s(h,d,f){var m=f?h[d]:Object.getOwnPropertyDescriptor(h,d);return!f&&m.value&&typeof m.value=="object"&&(m=m.value),m&&a(m)?(typeof m.enumerable>"u"&&(m.enumerable=!0),typeof m.configurable>"u"&&(m.configurable=!0),m):!1}function o(h,d){var f=Object.getOwnPropertyDescriptor(h,d);return f?(f.value&&typeof f.value=="object"&&(f=f.value),f.configurable===!1):!1}function u(h,d,f,m){for(var p in d)if(d.hasOwnProperty(p)){var g=s(d,p,f);if(g!==!1){var v=m||h;if(o(v.prototype,p)){if(c.ignoreFinals)continue;throw new Error("cannot override final property '"+p+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(h.prototype,p,g)}else h.prototype[p]=d[p]}}function l(h,d){if(d){Array.isArray(d)||(d=[d]);for(var f=0;f<d.length;f++)u(h,d[f].prototype||d[f])}}function c(h){h||(h={});var d,f;if(h.initialize){if(typeof h.initialize!="function")throw new Error("initialize must be a function");d=h.initialize,delete h.initialize}else if(h.Extends){var m=h.Extends;d=function(){m.apply(this,arguments)}}else d=function(){};h.Extends?(d.prototype=Object.create(h.Extends.prototype),d.prototype.constructor=d,f=h.Extends,delete h.Extends):d.prototype.constructor=d;var p=null;return h.Mixins&&(p=h.Mixins,delete h.Mixins),l(d,p),u(d,h,!0,f),d}c.extend=u,c.mixin=l,c.ignoreFinals=!1,n.exports=c},29747:n=>{var a=function(){};n.exports=a},20242:n=>{var a=function(){return null};n.exports=a},71146:n=>{var a=function(s,o,u,l,c){if(c===void 0&&(c=s),u>0){var h=u-s.length;if(h<=0)return null}if(!Array.isArray(o))return s.indexOf(o)===-1?(s.push(o),l&&l.call(c,o),o):null;for(var d=o.length-1;d>=0;)s.indexOf(o[d])!==-1&&o.splice(d,1),d--;if(d=o.length,d===0)return null;u>0&&d>h&&(o.splice(h),d=h);for(var f=0;f<d;f++){var m=o[f];s.push(m),l&&l.call(c,m)}return o};n.exports=a},51067:n=>{var a=function(s,o,u,l,c,h){if(u===void 0&&(u=0),h===void 0&&(h=s),l>0){var d=l-s.length;if(d<=0)return null}if(!Array.isArray(o))return s.indexOf(o)===-1?(s.splice(u,0,o),c&&c.call(h,o),o):null;for(var f=o.length-1;f>=0;)s.indexOf(o[f])!==-1&&o.pop(),f--;if(f=o.length,f===0)return null;l>0&&f>d&&(o.splice(d),f=d);for(var m=f-1;m>=0;m--){var p=o[m];s.splice(u,0,p),c&&c.call(h,p)}return o};n.exports=a},66905:n=>{var a=function(s,o){var u=s.indexOf(o);return u!==-1&&u<s.length&&(s.splice(u,1),s.push(o)),o};n.exports=a},21612:(n,a,s)=>{var o=s(82011),u=function(l,c,h,d,f){d===void 0&&(d=0),f===void 0&&(f=l.length);var m=0;if(o(l,d,f))for(var p=d;p<f;p++){var g=l[p];g[c]===h&&m++}return m};n.exports=u},95428:n=>{var a=function(s,o,u){var l,c=[null];for(l=3;l<arguments.length;l++)c.push(arguments[l]);for(l=0;l<s.length;l++)c[0]=s[l],o.apply(u,c);return s};n.exports=a},36914:(n,a,s)=>{var o=s(82011),u=function(l,c,h,d,f){if(d===void 0&&(d=0),f===void 0&&(f=l.length),o(l,d,f)){var m,p=[null];for(m=5;m<arguments.length;m++)p.push(arguments[m]);for(m=d;m<f;m++)p[0]=l[m],c.apply(h,p)}return l};n.exports=u},81957:n=>{var a=function(s,o,u){if(o.length){if(o.length===1)return o[0]}else return NaN;var l=1,c,h;if(u){if(s<o[0][u])return o[0];for(;o[l][u]<s;)l++}else for(;o[l]<s;)l++;return l>o.length&&(l=o.length),u?(c=o[l-1][u],h=o[l][u],h-s<=s-c?o[l]:o[l-1]):(c=o[l-1],h=o[l],h-s<=s-c?h:c)};n.exports=a},43491:n=>{var a=function(s,o){o===void 0&&(o=[]);for(var u=0;u<s.length;u++)Array.isArray(s[u])?a(s[u],o):o.push(s[u]);return o};n.exports=a},46710:(n,a,s)=>{var o=s(82011),u=function(l,c,h,d,f){d===void 0&&(d=0),f===void 0&&(f=l.length);var m=[];if(o(l,d,f))for(var p=d;p<f;p++){var g=l[p];(!c||c&&h===void 0&&g.hasOwnProperty(c)||c&&h!==void 0&&g[c]===h)&&m.push(g)}return m};n.exports=u},58731:(n,a,s)=>{var o=s(82011),u=function(l,c,h,d,f){if(d===void 0&&(d=0),f===void 0&&(f=l.length),o(l,d,f))for(var m=d;m<f;m++){var p=l[m];if(!c||c&&h===void 0&&p.hasOwnProperty(c)||c&&h!==void 0&&p[c]===h)return p}return null};n.exports=u},26546:n=>{var a=function(s,o,u){o===void 0&&(o=0),u===void 0&&(u=s.length);var l=o+Math.floor(Math.random()*u);return s[l]===void 0?null:s[l]};n.exports=a},85835:n=>{var a=function(s,o,u){if(o===u)return s;var l=s.indexOf(o),c=s.indexOf(u);if(l<0||c<0)throw new Error("Supplied items must be elements of the same array");return l>c||(s.splice(l,1),c=s.indexOf(u),s.splice(c+1,0,o)),s};n.exports=a},83371:n=>{var a=function(s,o,u){if(o===u)return s;var l=s.indexOf(o),c=s.indexOf(u);if(l<0||c<0)throw new Error("Supplied items must be elements of the same array");return l<c||(s.splice(l,1),c===0?s.unshift(o):s.splice(c,0,o)),s};n.exports=a},70864:n=>{var a=function(s,o){var u=s.indexOf(o);if(u>0){var l=s[u-1],c=s.indexOf(l);s[u]=l,s[c]=o}return s};n.exports=a},69693:n=>{var a=function(s,o,u){var l=s.indexOf(o);if(l===-1||u<0||u>=s.length)throw new Error("Supplied index out of bounds");return l!==u&&(s.splice(l,1),s.splice(u,0,o)),o};n.exports=a},40853:n=>{var a=function(s,o){var u=s.indexOf(o);if(u!==-1&&u<s.length-1){var l=s[u+1],c=s.indexOf(l);s[u]=l,s[c]=o}return s};n.exports=a},20283:n=>{var a=function(s,o,u,l){var c=[],h,d=!1;if((u||l)&&(d=!0,u||(u=""),l||(l="")),o<s)for(h=s;h>=o;h--)d?c.push(u+h.toString()+l):c.push(h);else for(h=s;h<=o;h++)d?c.push(u+h.toString()+l):c.push(h);return c};n.exports=a},593:(n,a,s)=>{var o=s(2284),u=function(l,c,h){l===void 0&&(l=0),c===void 0&&(c=null),h===void 0&&(h=1),c===null&&(c=l,l=0);for(var d=[],f=Math.max(o((c-l)/(h||1)),0),m=0;m<f;m++)d.push(l),l+=h;return d};n.exports=u},43886:n=>{function a(u,l,c){var h=u[l];u[l]=u[c],u[c]=h}function s(u,l){return u<l?-1:u>l?1:0}var o=function(u,l,c,h,d){for(c===void 0&&(c=0),h===void 0&&(h=u.length-1),d===void 0&&(d=s);h>c;){if(h-c>600){var f=h-c+1,m=l-c+1,p=Math.log(f),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(f-g)/f)*(m-f/2<0?-1:1),y=Math.max(c,Math.floor(l-m*g/f+v)),x=Math.min(h,Math.floor(l+(f-m)*g/f+v));o(u,l,y,x,d)}var b=u[l],w=c,C=h;for(a(u,c,l),d(u[h],b)>0&&a(u,c,h);w<C;){for(a(u,w,C),w++,C--;d(u[w],b)<0;)w++;for(;d(u[C],b)>0;)C--}d(u[c],b)===0?a(u,c,C):(C++,a(u,C,h)),C<=l&&(c=C+1),l<=C&&(h=C-1)}};n.exports=o},88492:(n,a,s)=>{var o=s(35154),u=s(33680),l=function(h,d,f){for(var m=[],p=0;p<h.length;p++)for(var g=0;g<d.length;g++)for(var v=0;v<f;v++)m.push({a:h[p],b:d[g]});return m},c=function(h,d,f){var m=o(f,"max",0),p=o(f,"qty",1),g=o(f,"random",!1),v=o(f,"randomB",!1),y=o(f,"repeat",0),x=o(f,"yoyo",!1),b=[];if(v&&u(d),y===-1)if(m===0)y=0;else{var w=h.length*d.length*p;x&&(w*=2),y=Math.ceil(m/w)}for(var C=0;C<=y;C++){var _=l(h,d,p);g&&u(_),b=b.concat(_),x&&(_.reverse(),b=b.concat(_))}return m&&b.splice(m),b};n.exports=c},72905:(n,a,s)=>{var o=s(19133),u=function(l,c,h,d){d===void 0&&(d=l);var f;if(!Array.isArray(c))return f=l.indexOf(c),f!==-1?(o(l,f),h&&h.call(d,c),c):null;for(var m=c.length-1,p=[];m>=0;){var g=c[m];f=l.indexOf(g),f!==-1&&(o(l,f),p.push(g),h&&h.call(d,g)),m--}return p};n.exports=u},60248:(n,a,s)=>{var o=s(19133),u=function(l,c,h,d){if(d===void 0&&(d=l),c<0||c>l.length-1)throw new Error("Index out of bounds");var f=o(l,c);return h&&h.call(d,f),f};n.exports=u},81409:(n,a,s)=>{var o=s(82011),u=function(l,c,h,d,f){if(c===void 0&&(c=0),h===void 0&&(h=l.length),f===void 0&&(f=l),o(l,c,h)){var m=h-c,p=l.splice(c,m);if(d)for(var g=0;g<p.length;g++){var v=p[g];d.call(f,v)}return p}else return[]};n.exports=u},31856:(n,a,s)=>{var o=s(19133),u=function(l,c,h){c===void 0&&(c=0),h===void 0&&(h=l.length);var d=c+Math.floor(Math.random()*h);return o(l,d)};n.exports=u},42169:n=>{var a=function(s,o,u){var l=s.indexOf(o),c=s.indexOf(u);return l!==-1&&c===-1?(s[l]=u,!0):!1};n.exports=a},86003:n=>{var a=function(s,o){o===void 0&&(o=1);for(var u=null,l=0;l<o;l++)u=s.shift(),s.push(u);return u};n.exports=a},49498:n=>{var a=function(s,o){o===void 0&&(o=1);for(var u=null,l=0;l<o;l++)u=s.pop(),s.unshift(u);return u};n.exports=a},82011:n=>{var a=function(s,o,u,l){var c=s.length;if(o<0||o>c||o>=u||u>c){if(l)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};n.exports=a},89545:n=>{var a=function(s,o){var u=s.indexOf(o);return u!==-1&&u>0&&(s.splice(u,1),s.unshift(o)),o};n.exports=a},17810:(n,a,s)=>{var o=s(82011),u=function(l,c,h,d,f){if(d===void 0&&(d=0),f===void 0&&(f=l.length),o(l,d,f))for(var m=d;m<f;m++){var p=l[m];p.hasOwnProperty(c)&&(p[c]=h)}return l};n.exports=u},33680:n=>{var a=function(s){for(var o=s.length-1;o>0;o--){var u=Math.floor(Math.random()*(o+1)),l=s[o];s[o]=s[u],s[u]=l}return s};n.exports=a},90126:n=>{var a=function(s){var o=/\D/g;return s.sort(function(u,l){return parseInt(u.replace(o,""),10)-parseInt(l.replace(o,""),10)}),s};n.exports=a},19133:n=>{var a=function(s,o){if(!(o>=s.length)){for(var u=s.length-1,l=s[o],c=o;c<u;c++)s[c]=s[c+1];return s.length=u,l}};n.exports=a},19186:(n,a,s)=>{var o=s(82264);function u(d,f){return String(d).localeCompare(f)}function l(d,f){var m=d.length;if(m<=1)return d;for(var p=new Array(m),g=1;g<m;g*=2){c(d,f,g,p);var v=d;d=p,p=v}return d}function c(d,f,m,p){var g=d.length,v=0,y=m*2,x,b,w,C,_;for(x=0;x<g;x+=y)for(b=x+m,w=b+m,b>g&&(b=g),w>g&&(w=g),C=x,_=b;;)if(C<b&&_<w)f(d[C],d[_])<=0?p[v++]=d[C++]:p[v++]=d[_++];else if(C<b)p[v++]=d[C++];else if(_<w)p[v++]=d[_++];else break}var h=function(d,f){if(f===void 0&&(f=u),!d||d.length<2)return d;if(o.features.stableSort)return d.sort(f);var m=l(d,f);return m!==d&&c(m,null,d.length,d),d};n.exports=h},25630:n=>{var a=function(s,o,u){if(o===u)return s;var l=s.indexOf(o),c=s.indexOf(u);if(l<0||c<0)throw new Error("Supplied items must be elements of the same array");return s[l]=u,s[c]=o,s};n.exports=a},37105:(n,a,s)=>{n.exports={Matrix:s(54915),Add:s(71146),AddAt:s(51067),BringToTop:s(66905),CountAllMatching:s(21612),Each:s(95428),EachInRange:s(36914),FindClosestInSorted:s(81957),Flatten:s(43491),GetAll:s(46710),GetFirst:s(58731),GetRandom:s(26546),MoveDown:s(70864),MoveTo:s(69693),MoveUp:s(40853),MoveAbove:s(85835),MoveBelow:s(83371),NumberArray:s(20283),NumberArrayStep:s(593),QuickSelect:s(43886),Range:s(88492),Remove:s(72905),RemoveAt:s(60248),RemoveBetween:s(81409),RemoveRandomElement:s(31856),Replace:s(42169),RotateLeft:s(86003),RotateRight:s(49498),SafeRange:s(82011),SendToBack:s(89545),SetAll:s(17810),Shuffle:s(33680),SortByDigits:s(90126),SpliceOne:s(19133),StableSort:s(19186),Swap:s(25630)}},86922:n=>{var a=function(s){if(!Array.isArray(s)||!Array.isArray(s[0]))return!1;for(var o=s[0].length,u=1;u<s.length;u++)if(s[u].length!==o)return!1;return!0};n.exports=a},63362:(n,a,s)=>{var o=s(41836),u=s(86922),l=function(c){var h="";if(!u(c))return h;for(var d=0;d<c.length;d++){for(var f=0;f<c[d].length;f++){var m=c[d][f].toString();m!=="undefined"?h+=o(m,2):h+="?",f<c[d].length-1&&(h+=" |")}if(d<c.length-1){h+=`
`;for(var p=0;p<c[d].length;p++)h+="---",p<c[d].length-1&&(h+="+");h+=`
`}}return h};n.exports=l},92598:n=>{var a=function(s){return s.reverse()};n.exports=a},21224:n=>{var a=function(s){for(var o=0;o<s.length;o++)s[o].reverse();return s};n.exports=a},98717:(n,a,s)=>{var o=s(37829),u=function(l){return o(l,180)};n.exports=u},44657:(n,a,s)=>{var o=s(37829),u=function(l,c){c===void 0&&(c=1);for(var h=0;h<c;h++)l=o(l,90);return l};n.exports=u},37829:(n,a,s)=>{var o=s(86922),u=s(2429),l=function(c,h){if(h===void 0&&(h=90),!o(c))return null;if(typeof h!="string"&&(h=(h%360+360)%360),h===90||h===-270||h==="rotateLeft")c=u(c),c.reverse();else if(h===-90||h===270||h==="rotateRight")c.reverse(),c=u(c);else if(Math.abs(h)===180||h==="rotate180"){for(var d=0;d<c.length;d++)c[d].reverse();c.reverse()}return c};n.exports=l},92632:(n,a,s)=>{var o=s(37829),u=function(l,c){c===void 0&&(c=1);for(var h=0;h<c;h++)l=o(l,-90);return l};n.exports=u},69512:(n,a,s)=>{var o=s(86003),u=s(49498),l=function(c,h,d){if(h===void 0&&(h=0),d===void 0&&(d=0),d!==0&&(d<0?o(c,Math.abs(d)):u(c,d)),h!==0)for(var f=0;f<c.length;f++){var m=c[f];h<0?o(m,Math.abs(h)):u(m,h)}return c};n.exports=l},2429:n=>{var a=function(s){for(var o=s.length,u=s[0].length,l=new Array(u),c=0;c<u;c++){l[c]=new Array(o);for(var h=o-1;h>-1;h--)l[c][h]=s[h][c]}return l};n.exports=a},54915:(n,a,s)=>{n.exports={CheckMatrix:s(86922),MatrixToString:s(63362),ReverseColumns:s(92598),ReverseRows:s(21224),Rotate180:s(98717),RotateLeft:s(44657),RotateMatrix:s(37829),RotateRight:s(92632),Translate:s(69512),TransposeMatrix:s(2429)}},71334:n=>{var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(o,u){for(var l=new Uint8Array(o),c=l.length,h=u?"data:"+u+";base64,":"",d=0;d<c;d+=3)h+=a[l[d]>>2],h+=a[(l[d]&3)<<4|l[d+1]>>4],h+=a[(l[d+1]&15)<<2|l[d+2]>>6],h+=a[l[d+2]&63];return c%3===2?h=h.substring(0,h.length-1)+"=":c%3===1&&(h=h.substring(0,h.length-2)+"=="),h};n.exports=s},53134:n=>{for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(256),o=0;o<a.length;o++)s[a.charCodeAt(o)]=o;var u=function(l){l=l.substr(l.indexOf(",")+1);var c=l.length,h=c*.75,d=0,f,m,p,g;l[c-1]==="="&&(h--,l[c-2]==="="&&h--);for(var v=new ArrayBuffer(h),y=new Uint8Array(v),x=0;x<c;x+=4)f=s[l.charCodeAt(x)],m=s[l.charCodeAt(x+1)],p=s[l.charCodeAt(x+2)],g=s[l.charCodeAt(x+3)],y[d++]=f<<2|m>>4,y[d++]=(m&15)<<4|p>>2,y[d++]=(p&3)<<6|g&63;return v};n.exports=u},65839:(n,a,s)=>{n.exports={ArrayBufferToBase64:s(71334),Base64ToArrayBuffer:s(53134)}},91799:(n,a,s)=>{n.exports={Array:s(37105),Base64:s(65839),Objects:s(1183),String:s(31749),NOOP:s(29747),NULL:s(20242)}},41786:n=>{var a=function(s){var o={};for(var u in s)Array.isArray(s[u])?o[u]=s[u].slice(0):o[u]=s[u];return o};n.exports=a},62644:n=>{var a=function(s){var o,u,l;if(typeof s!="object"||s===null)return s;o=Array.isArray(s)?[]:{};for(l in s)u=s[l],o[l]=a(u);return o};n.exports=a},79291:(n,a,s)=>{var o=s(41212),u=function(){var l,c,h,d,f,m,p=arguments[0]||{},g=1,v=arguments.length,y=!1;for(typeof p=="boolean"&&(y=p,p=arguments[1]||{},g=2),v===g&&(p=this,--g);g<v;g++)if((l=arguments[g])!=null)for(c in l)h=p[c],d=l[c],p!==d&&(y&&d&&(o(d)||(f=Array.isArray(d)))?(f?(f=!1,m=h&&Array.isArray(h)?h:[]):m=h&&o(h)?h:{},p[c]=u(y,m,d)):d!==void 0&&(p[c]=d));return p};n.exports=u},23568:(n,a,s)=>{var o=s(75508),u=s(35154),l=function(c,h,d){var f=u(c,h,null);if(f===null)return d;if(Array.isArray(f))return o.RND.pick(f);if(typeof f=="object"){if(f.hasOwnProperty("randInt"))return o.RND.integerInRange(f.randInt[0],f.randInt[1]);if(f.hasOwnProperty("randFloat"))return o.RND.realInRange(f.randFloat[0],f.randFloat[1])}else if(typeof f=="function")return f(h);return f};n.exports=l},95540:n=>{var a=function(s,o,u){var l=typeof s;return!s||l==="number"||l==="string"?u:s.hasOwnProperty(o)&&s[o]!==void 0?s[o]:u};n.exports=a},82840:(n,a,s)=>{var o=s(35154),u=s(45319),l=function(c,h,d,f,m){m===void 0&&(m=d);var p=o(c,h,m);return u(p,d,f)};n.exports=l},35154:n=>{var a=function(s,o,u,l){if(!s&&!l||typeof s=="number")return u;if(s&&s.hasOwnProperty(o))return s[o];if(l&&l.hasOwnProperty(o))return l[o];if(o.indexOf(".")!==-1){for(var c=o.split("."),h=s,d=l,f=u,m=u,p=!0,g=!0,v=0;v<c.length;v++)h&&h.hasOwnProperty(c[v])?(f=h[c[v]],h=h[c[v]]):p=!1,d&&d.hasOwnProperty(c[v])?(m=d[c[v]],d=d[c[v]]):g=!1;return p?f:g?m:u}else return u};n.exports=a},69036:n=>{var a=function(s,o){for(var u=0;u<o.length;u++)if(!s.hasOwnProperty(o[u]))return!1;return!0};n.exports=a},1985:n=>{var a=function(s,o){for(var u=0;u<o.length;u++)if(s.hasOwnProperty(o[u]))return!0;return!1};n.exports=a},97022:n=>{var a=function(s,o){return s.hasOwnProperty(o)};n.exports=a},41212:n=>{var a=function(s){if(!s||typeof s!="object"||s.nodeType||s===s.window)return!1;try{if(s.constructor&&!{}.hasOwnProperty.call(s.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};n.exports=a},46975:(n,a,s)=>{var o=s(41786),u=function(l,c){var h=o(l);for(var d in c)h.hasOwnProperty(d)||(h[d]=c[d]);return h};n.exports=u},269:(n,a,s)=>{var o=s(41786),u=function(l,c){var h=o(l);for(var d in c)h.hasOwnProperty(d)&&(h[d]=c[d]);return h};n.exports=u},18254:(n,a,s)=>{var o=s(97022),u=function(l,c){for(var h={},d=0;d<c.length;d++){var f=c[d];o(l,f)&&(h[f]=l[f])}return h};n.exports=u},61622:n=>{var a=function(s,o,u){if(!s||typeof s=="number")return!1;if(s.hasOwnProperty(o))return s[o]=u,!0;if(o.indexOf(".")!==-1){for(var l=o.split("."),c=s,h=s,d=0;d<l.length;d++)if(c.hasOwnProperty(l[d]))h=c,c=c[l[d]];else return!1;return h[l[l.length-1]]=u,!0}return!1};n.exports=a},1183:(n,a,s)=>{n.exports={Clone:s(41786),DeepCopy:s(62644),Extend:s(79291),GetAdvancedValue:s(23568),GetFastValue:s(95540),GetMinMaxValue:s(82840),GetValue:s(35154),HasAll:s(69036),HasAny:s(1985),HasValue:s(97022),IsPlainObject:s(41212),Merge:s(46975),MergeRight:s(269),Pick:s(18254),SetValue:s(61622)}},27902:n=>{var a=function(s,o){return s.replace(/%([0-9]+)/g,function(u,l){return o[Number(l)-1]})};n.exports=a},41836:n=>{var a=function(s,o,u,l){o===void 0&&(o=0),u===void 0&&(u=" "),l===void 0&&(l=3),s=s.toString();var c=0;if(o+1>=s.length)switch(l){case 1:s=new Array(o+1-s.length).join(u)+s;break;case 3:var h=Math.ceil((c=o-s.length)/2),d=c-h;s=new Array(d+1).join(u)+s+new Array(h+1).join(u);break;default:s=s+new Array(o+1-s.length).join(u);break}return s};n.exports=a},33628:n=>{var a=function(s,o){return o===0?s.slice(1):s.slice(0,o)+s.slice(o+1)};n.exports=a},27671:n=>{var a=function(s){return s.split("").reverse().join("")};n.exports=a},45650:n=>{var a=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var o=Math.random()*16|0,u=s==="x"?o:o&3|8;return u.toString(16)})};n.exports=a},35355:n=>{var a=function(s){return s&&s[0].toUpperCase()+s.slice(1)};n.exports=a},31749:(n,a,s)=>{n.exports={Format:s(27902),Pad:s(41836),RemoveAt:s(33628),Reverse:s(27671),UppercaseFirst:s(35355),UUID:s(45650)}}},i={};function e(n){var a=i[n];if(a!==void 0)return a.exports;var s=i[n]={exports:{}};return t[n](s,s.exports,e),s.exports}e.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var r=e(85454);return r})())});function JB(t,i){return Object.is(t,i)}var mo=null,ub=!1,m5=1,Al=Symbol("SIGNAL");function tr(t){let i=mo;return mo=t,i}function qB(){return mo}function Poe(){return ub}var Y0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tC(t){if(ub)throw new Error("");if(mo===null)return;mo.consumerOnSignalRead(t);let i=mo.nextProducerIndex++;if(nC(mo),i<mo.producerNode.length&&mo.producerNode[i]!==t&&db(mo)){let e=mo.producerNode[i];iC(e,mo.producerIndexOfThis[i])}mo.producerNode[i]!==t&&(mo.producerNode[i]=t,mo.producerIndexOfThis[i]=db(mo)?r9(t,mo,i):0),mo.producerLastReadVersion[i]=t.version}function Roe(){m5++}function e9(t){if(!(db(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===m5)){if(!t.producerMustRecompute(t)&&!fb(t)){ZB(t);return}t.producerRecomputeValue(t),ZB(t)}}function t9(t){if(t.liveConsumerNode===void 0)return;let i=ub;ub=!0;try{for(let e of t.liveConsumerNode)e.dirty||n9(e)}finally{ub=i}}function i9(){return mo?.consumerAllowSignalWrites!==!1}function n9(t){t.dirty=!0,t9(t),t.consumerMarkedDirty?.(t)}function ZB(t){t.dirty=!1,t.lastCleanEpoch=m5}function zv(t){return t&&(t.nextProducerIndex=0),tr(t)}function hb(t,i){if(tr(i),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(db(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)iC(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fb(t){nC(t);for(let i=0;i<t.producerNode.length;i++){let e=t.producerNode[i],r=t.producerLastReadVersion[i];if(r!==e.version||(e9(e),r!==e.version))return!0}return!1}function Uv(t){if(nC(t),db(t))for(let i=0;i<t.producerNode.length;i++)iC(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function r9(t,i,e){if(s9(t),t.liveConsumerNode.length===0&&a9(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=r9(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(i)-1}function iC(t,i){if(s9(t),t.liveConsumerNode.length===1&&a9(t))for(let r=0;r<t.producerNode.length;r++)iC(t.producerNode[r],t.producerIndexOfThis[r]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[i],n=t.liveConsumerNode[i];nC(n),n.producerIndexOfThis[r]=i}}function db(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function nC(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function s9(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function a9(t){return t.producerNode!==void 0}function g5(t){let i=Object.create(koe);i.computation=t;let e=()=>{if(e9(i),tC(i),i.value===eC)throw i.error;return i.value};return e[Al]=i,e}var h5=Symbol("UNSET"),f5=Symbol("COMPUTING"),eC=Symbol("ERRORED"),koe=Ri(ht({},Y0),{value:h5,dirty:!0,error:null,equal:JB,kind:"computed",producerMustRecompute(t){return t.value===h5||t.value===f5},producerRecomputeValue(t){if(t.value===f5)throw new Error("Detected cycle in computations.");let i=t.value;t.value=f5;let e=zv(t),r,n=!1;try{r=t.computation(),tr(null),n=i!==h5&&i!==eC&&r!==eC&&t.equal(i,r)}catch(a){r=eC,t.error=a}finally{hb(t,e)}if(n){t.value=i;return}t.value=r,t.version++}});function Foe(){throw new Error}var o9=Foe;function l9(){o9()}function c9(t){o9=t}var Ooe=null;function u9(t){let i=Object.create(v5);i.value=t;let e=()=>(tC(i),i.value);return e[Al]=i,e}function rC(t,i){i9()||l9(),t.equal(t.value,i)||(t.value=i,Loe(t))}function d9(t,i){i9()||l9(),rC(t,i(t.value))}var v5=Ri(ht({},Y0),{equal:JB,value:void 0,kind:"signal"});function Loe(t){t.version++,Roe(),t9(t),Ooe?.()}function h9(t,i,e){let r=Object.create(Noe);e&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=i;let n=u=>{r.cleanupFn=u};function a(u){return u.fn===null&&u.schedule===null}function s(u){a(u)||(Uv(u),u.cleanupFn(),u.fn=null,u.schedule=null,u.cleanupFn=p5)}let o=()=>{if(r.fn===null)return;if(Poe())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!fb(r))return;r.hasRun=!0;let u=zv(r);try{r.cleanupFn(),r.cleanupFn=p5,r.fn(n)}finally{hb(r,u)}};return r.ref={notify:()=>n9(r),run:o,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Al]:r},r.ref}var p5=()=>{},Noe=Ri(ht({},Y0),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:p5});function un(t){return typeof t=="function"}function Hv(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var sC=Hv(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,n)=>`${n+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function $0(t,i){if(t){let e=t.indexOf(i);0<=e&&t.splice(e,1)}}var Vi=class t{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let a of e)a.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(un(r))try{r()}catch(a){i=a instanceof sC?a.errors:[a]}let{_finalizers:n}=this;if(n){this._finalizers=null;for(let a of n)try{f9(a)}catch(s){i=i??[],s instanceof sC?i=[...i,...s.errors]:i.push(s)}}if(i)throw new sC(i)}}add(i){var e;if(i&&i!==this)if(this.closed)f9(i);else{if(i instanceof t){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(i)}}_hasParent(i){let{_parentage:e}=this;return e===i||Array.isArray(e)&&e.includes(i)}_addParent(i){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(i),e):e?[e,i]:i}_removeParent(i){let{_parentage:e}=this;e===i?this._parentage=null:Array.isArray(e)&&$0(e,i)}remove(i){let{_finalizers:e}=this;e&&$0(e,i),i instanceof t&&i._removeParent(this)}};Vi.EMPTY=(()=>{let t=new Vi;return t.closed=!0,t})();var y5=Vi.EMPTY;function aC(t){return t instanceof Vi||t&&"closed"in t&&un(t.remove)&&un(t.add)&&un(t.unsubscribe)}function f9(t){un(t)?t():t.unsubscribe()}var oh={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Gv={setTimeout(t,i,...e){let{delegate:r}=Gv;return r?.setTimeout?r.setTimeout(t,i,...e):setTimeout(t,i,...e)},clearTimeout(t){let{delegate:i}=Gv;return(i?.clearTimeout||clearTimeout)(t)},delegate:void 0};function oC(t){Gv.setTimeout(()=>{let{onUnhandledError:i}=oh;if(i)i(t);else throw t})}function Q0(){}var p9=x5("C",void 0,void 0);function m9(t){return x5("E",void 0,t)}function g9(t){return x5("N",t,void 0)}function x5(t,i,e){return{kind:t,value:i,error:e}}var K0=null;function jv(t){if(oh.useDeprecatedSynchronousErrorHandling){let i=!K0;if(i&&(K0={errorThrown:!1,error:null}),t(),i){let{errorThrown:e,error:r}=K0;if(K0=null,e)throw r}}else t()}function v9(t){oh.useDeprecatedSynchronousErrorHandling&&K0&&(K0.errorThrown=!0,K0.error=t)}var Z0=class extends Vi{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,aC(i)&&i.add(this)):this.destination=zoe}static create(i,e,r){return new lh(i,e,r)}next(i){this.isStopped?_5(g9(i),this):this._next(i)}error(i){this.isStopped?_5(m9(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?_5(p9,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Boe=Function.prototype.bind;function b5(t,i){return Boe.call(t,i)}var w5=class{constructor(i){this.partialObserver=i}next(i){let{partialObserver:e}=this;if(e.next)try{e.next(i)}catch(r){lC(r)}}error(i){let{partialObserver:e}=this;if(e.error)try{e.error(i)}catch(r){lC(r)}else lC(i)}complete(){let{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(e){lC(e)}}},lh=class extends Z0{constructor(i,e,r){super();let n;if(un(i)||!i)n={next:i??void 0,error:e??void 0,complete:r??void 0};else{let a;this&&oh.useDeprecatedNextContext?(a=Object.create(i),a.unsubscribe=()=>this.unsubscribe(),n={next:i.next&&b5(i.next,a),error:i.error&&b5(i.error,a),complete:i.complete&&b5(i.complete,a)}):n=i}this.destination=new w5(n)}};function lC(t){oh.useDeprecatedSynchronousErrorHandling?v9(t):oC(t)}function Voe(t){throw t}function _5(t,i){let{onStoppedNotification:e}=oh;e&&Gv.setTimeout(()=>e(t,i))}var zoe={closed:!0,next:Q0,error:Voe,complete:Q0};var Wv=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gc(t){return t}function C5(...t){return S5(t)}function S5(t){return t.length===0?gc:t.length===1?t[0]:function(e){return t.reduce((r,n)=>n(r),e)}}var rn=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,n){let a=Hoe(e)?e:new lh(e,r,n);return jv(()=>{let{operator:s,source:o}=this;a.add(s?s.call(a,o):o?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=y9(r),new r((n,a)=>{let s=new lh({next:o=>{try{e(o)}catch(u){a(u),s.unsubscribe()}},error:a,complete:n});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[Wv](){return this}pipe(...e){return S5(e)(this)}toPromise(e){return e=y9(e),new e((r,n)=>{let a;this.subscribe(s=>a=s,s=>n(s),()=>r(a))})}}return t.create=i=>new t(i),t})();function y9(t){var i;return(i=t??oh.Promise)!==null&&i!==void 0?i:Promise}function Uoe(t){return t&&un(t.next)&&un(t.error)&&un(t.complete)}function Hoe(t){return t&&t instanceof Z0||Uoe(t)&&aC(t)}function T5(t){return un(t?.lift)}function _n(t){return i=>{if(T5(i))return i.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function vn(t,i,e,r,n){return new E5(t,i,e,r,n)}var E5=class extends Z0{constructor(i,e,r,n,a,s){super(i),this.onFinalize=a,this.shouldUnsubscribe=s,this._next=e?function(o){try{e(o)}catch(u){i.error(u)}}:super._next,this._error=n?function(o){try{n(o)}catch(u){i.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){i.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((i=this.onFinalize)===null||i===void 0||i.call(this))}}};function Xv(){return _n((t,i)=>{let e=null;t._refCount++;let r=vn(i,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let n=t._connection,a=e;e=null,n&&(!a||n===a)&&n.unsubscribe(),i.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var _m=class extends rn{constructor(i,e){super(),this.source=i,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,T5(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){let i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Vi;let e=this.getSubject();i.add(this.source.subscribe(vn(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Vi.EMPTY)}return i}refCount(){return Xv()(this)}};var Yv={schedule(t){let i=requestAnimationFrame,e=cancelAnimationFrame,{delegate:r}=Yv;r&&(i=r.requestAnimationFrame,e=r.cancelAnimationFrame);let n=i(a=>{e=void 0,t(a)});return new Vi(()=>e?.(n))},requestAnimationFrame(...t){let{delegate:i}=Yv;return(i?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:i}=Yv;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var x9=Hv(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var mt=(()=>{class t extends rn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new cC(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new x9}next(e){jv(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){jv(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){jv(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:n,observers:a}=this;return r||n?y5:(this.currentObservers=null,a.push(e),new Vi(()=>{this.currentObservers=null,$0(a,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:n,isStopped:a}=this;r?e.error(n):a&&e.complete()}asObservable(){let e=new rn;return e.source=this,e}}return t.create=(i,e)=>new cC(i,e),t})(),cC=class extends mt{constructor(i,e){super(),this.destination=i,this.source=e}next(i){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,i)}error(i){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,i)}complete(){var i,e;(e=(i=this.destination)===null||i===void 0?void 0:i.complete)===null||e===void 0||e.call(i)}_subscribe(i){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(i))!==null&&r!==void 0?r:y5}};var Rn=class extends mt{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){let e=super._subscribe(i);return!e.closed&&i.next(this._value),e}getValue(){let{hasError:i,thrownError:e,_value:r}=this;if(i)throw e;return this._throwIfClosed(),r}next(i){super.next(this._value=i)}};var pb={now(){return(pb.delegate||Date).now()},delegate:void 0};var yd=class extends mt{constructor(i=1/0,e=1/0,r=pb){super(),this._bufferSize=i,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,e)}next(i){let{isStopped:e,_buffer:r,_infiniteTimeWindow:n,_timestampProvider:a,_windowTime:s}=this;e||(r.push(i),!n&&r.push(a.now()+s)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(i),{_infiniteTimeWindow:r,_buffer:n}=this,a=n.slice();for(let s=0;s<a.length&&!i.closed;s+=r?1:2)i.next(a[s]);return this._checkFinalizedStatuses(i),e}_trimBuffer(){let{_bufferSize:i,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:n}=this,a=(n?1:2)*i;if(i<1/0&&a<r.length&&r.splice(0,r.length-a),!n){let s=e.now(),o=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)o=u;o&&r.splice(0,o+1)}}};var uC=class extends Vi{constructor(i,e){super()}schedule(i,e=0){return this}};var mb={setInterval(t,i,...e){let{delegate:r}=mb;return r?.setInterval?r.setInterval(t,i,...e):setInterval(t,i,...e)},clearInterval(t){let{delegate:i}=mb;return(i?.clearInterval||clearInterval)(t)},delegate:void 0};var $v=class extends uC{constructor(i,e){super(i,e),this.scheduler=i,this.work=e,this.pending=!1}schedule(i,e=0){var r;if(this.closed)return this;this.state=i;let n=this.id,a=this.scheduler;return n!=null&&(this.id=this.recycleAsyncId(a,n,e)),this.pending=!0,this.delay=e,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(a,this.id,e),this}requestAsyncId(i,e,r=0){return mb.setInterval(i.flush.bind(i,this),r)}recycleAsyncId(i,e,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return e;e!=null&&mb.clearInterval(e)}execute(i,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(i,e);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,e){let r=!1,n;try{this.work(i)}catch(a){r=!0,n=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){let{id:i,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,$0(r,this),i!=null&&(this.id=this.recycleAsyncId(e,i,null)),this.delay=null,super.unsubscribe()}}};var Qv=class t{constructor(i,e=t.now){this.schedulerActionCtor=i,this.now=e}schedule(i,e=0,r){return new this.schedulerActionCtor(this,i).schedule(r,e)}};Qv.now=pb.now;var Kv=class extends Qv{constructor(i,e=Qv.now){super(i,e),this.actions=[],this._active=!1}flush(i){let{actions:e}=this;if(this._active){e.push(i);return}let r;this._active=!0;do if(r=i.execute(i.state,i.delay))break;while(i=e.shift());if(this._active=!1,r){for(;i=e.shift();)i.unsubscribe();throw r}}};var lp=new Kv($v),b9=lp;var dC=class extends $v{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,r=0){return r!==null&&r>0?super.requestAsyncId(i,e,r):(i.actions.push(this),i._scheduled||(i._scheduled=Yv.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,e,r=0){var n;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(i,e,r);let{actions:a}=i;e!=null&&((n=a[a.length-1])===null||n===void 0?void 0:n.id)!==e&&(Yv.cancelAnimationFrame(e),i._scheduled=void 0)}};var hC=class extends Kv{flush(i){this._active=!0;let e=this._scheduled;this._scheduled=void 0;let{actions:r}=this,n;i=i||r.shift();do if(n=i.execute(i.state,i.delay))break;while((i=r[0])&&i.id===e&&r.shift());if(this._active=!1,n){for(;(i=r[0])&&i.id===e&&r.shift();)i.unsubscribe();throw n}}};var fC=new hC(dC);var Ea=new rn(t=>t.complete());function pC(t){return t&&un(t.schedule)}function A5(t){return t[t.length-1]}function mC(t){return un(A5(t))?t.pop():void 0}function tf(t){return pC(A5(t))?t.pop():void 0}function _9(t,i){return typeof A5(t)=="number"?t.pop():i}function C9(t,i,e,r){function n(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function o(c){try{l(r.next(c))}catch(h){s(h)}}function u(c){try{l(r.throw(c))}catch(h){s(h)}}function l(c){c.done?a(c.value):n(c.value).then(o,u)}l((r=r.apply(t,i||[])).next())})}function w9(t){var i=typeof Symbol=="function"&&Symbol.iterator,e=i&&t[i],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function J0(t){return this instanceof J0?(this.v=t,this):new J0(t)}function S9(t,i,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,i||[]),n,a=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),n[Symbol.asyncIterator]=function(){return this},n;function s(f){return function(m){return Promise.resolve(m).then(f,h)}}function o(f,m){r[f]&&(n[f]=function(p){return new Promise(function(g,v){a.push([f,p,g,v])>1||u(f,p)})},m&&(n[f]=m(n[f])))}function u(f,m){try{l(r[f](m))}catch(p){d(a[0][3],p)}}function l(f){f.value instanceof J0?Promise.resolve(f.value.v).then(c,h):d(a[0][2],f)}function c(f){u("next",f)}function h(f){u("throw",f)}function d(f,m){f(m),a.shift(),a.length&&u(a[0][0],a[0][1])}}function T9(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t[Symbol.asyncIterator],e;return i?i.call(t):(t=typeof w9=="function"?w9(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(a){e[a]=t[a]&&function(s){return new Promise(function(o,u){s=t[a](s),n(o,u,s.done,s.value)})}}function n(a,s,o,u){Promise.resolve(u).then(function(l){a({value:l,done:o})},s)}}var Zv=t=>t&&typeof t.length=="number"&&typeof t!="function";function gC(t){return un(t?.then)}function vC(t){return un(t[Wv])}function yC(t){return Symbol.asyncIterator&&un(t?.[Symbol.asyncIterator])}function xC(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Goe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bC=Goe();function _C(t){return un(t?.[bC])}function wC(t){return S9(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:n}=yield J0(e.read());if(n)return yield J0(void 0);yield yield J0(r)}}finally{e.releaseLock()}})}function CC(t){return un(t?.getReader)}function zr(t){if(t instanceof rn)return t;if(t!=null){if(vC(t))return joe(t);if(Zv(t))return Woe(t);if(gC(t))return Xoe(t);if(yC(t))return E9(t);if(_C(t))return Yoe(t);if(CC(t))return $oe(t)}throw xC(t)}function joe(t){return new rn(i=>{let e=t[Wv]();if(un(e.subscribe))return e.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Woe(t){return new rn(i=>{for(let e=0;e<t.length&&!i.closed;e++)i.next(t[e]);i.complete()})}function Xoe(t){return new rn(i=>{t.then(e=>{i.closed||(i.next(e),i.complete())},e=>i.error(e)).then(null,oC)})}function Yoe(t){return new rn(i=>{for(let e of t)if(i.next(e),i.closed)return;i.complete()})}function E9(t){return new rn(i=>{Qoe(t,i).catch(e=>i.error(e))})}function $oe(t){return E9(wC(t))}function Qoe(t,i){var e,r,n,a;return C9(this,void 0,void 0,function*(){try{for(e=T9(t);r=yield e.next(),!r.done;){let s=r.value;if(i.next(s),i.closed)return}}catch(s){n={error:s}}finally{try{r&&!r.done&&(a=e.return)&&(yield a.call(e))}finally{if(n)throw n.error}}i.complete()})}function zc(t,i,e,r=0,n=!1){let a=i.schedule(function(){e(),n?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(a),!n)return a}function SC(t,i=0){return _n((e,r)=>{e.subscribe(vn(r,n=>zc(r,t,()=>r.next(n),i),()=>zc(r,t,()=>r.complete(),i),n=>zc(r,t,()=>r.error(n),i)))})}function TC(t,i=0){return _n((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),i))})}function A9(t,i){return zr(t).pipe(TC(i),SC(i))}function M9(t,i){return zr(t).pipe(TC(i),SC(i))}function I9(t,i){return new rn(e=>{let r=0;return i.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function D9(t,i){return new rn(e=>{let r;return zc(e,i,()=>{r=t[bC](),zc(e,i,()=>{let n,a;try{({value:n,done:a}=r.next())}catch(s){e.error(s);return}a?e.complete():e.next(n)},0,!0)}),()=>un(r?.return)&&r.return()})}function EC(t,i){if(!t)throw new Error("Iterable cannot be null");return new rn(e=>{zc(e,i,()=>{let r=t[Symbol.asyncIterator]();zc(e,i,()=>{r.next().then(n=>{n.done?e.complete():e.next(n.value)})},0,!0)})})}function P9(t,i){return EC(wC(t),i)}function R9(t,i){if(t!=null){if(vC(t))return A9(t,i);if(Zv(t))return I9(t,i);if(gC(t))return M9(t,i);if(yC(t))return EC(t,i);if(_C(t))return D9(t,i);if(CC(t))return P9(t,i)}throw xC(t)}function Ts(t,i){return i?R9(t,i):zr(t)}function ui(...t){let i=tf(t);return Ts(t,i)}function nf(t,i){let e=un(t)?t:()=>t,r=n=>n.error(e());return new rn(i?n=>i.schedule(r,0,n):r)}function wm(t){return!!t&&(t instanceof rn||un(t.lift)&&un(t.subscribe))}var Iu=Hv(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ir(t,i){let e=typeof i=="object";return new Promise((r,n)=>{let a=!1,s;t.subscribe({next:o=>{s=o,a=!0},error:n,complete:()=>{a?r(s):e?r(i.defaultValue):n(new Iu)}})})}function M5(t,i){let e=typeof i=="object";return new Promise((r,n)=>{let a=new lh({next:s=>{r(s),a.unsubscribe()},error:n,complete:()=>{e?r(i.defaultValue):n(new Iu)}});t.subscribe(a)})}function k9(t){return t instanceof Date&&!isNaN(t)}function si(t,i){return _n((e,r)=>{let n=0;e.subscribe(vn(r,a=>{r.next(t.call(i,a,n++))}))})}var{isArray:Koe}=Array;function Zoe(t,i){return Koe(i)?t(...i):t(i)}function Jv(t){return si(i=>Zoe(t,i))}var{isArray:Joe}=Array,{getPrototypeOf:qoe,prototype:ele,keys:tle}=Object;function AC(t){if(t.length===1){let i=t[0];if(Joe(i))return{args:i,keys:null};if(ile(i)){let e=tle(i);return{args:e.map(r=>i[r]),keys:e}}}return{args:t,keys:null}}function ile(t){return t&&typeof t=="object"&&qoe(t)===ele}function MC(t,i){return t.reduce((e,r,n)=>(e[r]=i[n],e),{})}function il(...t){let i=tf(t),e=mC(t),{args:r,keys:n}=AC(t);if(r.length===0)return Ts([],i);let a=new rn(nle(r,i,n?s=>MC(n,s):gc));return e?a.pipe(Jv(e)):a}function nle(t,i,e=gc){return r=>{F9(i,()=>{let{length:n}=t,a=new Array(n),s=n,o=n;for(let u=0;u<n;u++)F9(i,()=>{let l=Ts(t[u],i),c=!1;l.subscribe(vn(r,h=>{a[u]=h,c||(c=!0,o--),o||r.next(e(a.slice()))},()=>{--s||r.complete()}))},r)},r)}}function F9(t,i,e){t?zc(e,t,i):i()}function O9(t,i,e,r,n,a,s,o){let u=[],l=0,c=0,h=!1,d=()=>{h&&!u.length&&!l&&i.complete()},f=p=>l<r?m(p):u.push(p),m=p=>{a&&i.next(p),l++;let g=!1;zr(e(p,c++)).subscribe(vn(i,v=>{n?.(v),a?f(v):i.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;u.length&&l<r;){let v=u.shift();s?zc(i,s,()=>m(v)):m(v)}d()}catch(v){i.error(v)}}))};return t.subscribe(vn(i,f,()=>{h=!0,d()})),()=>{o?.()}}function ea(t,i,e=1/0){return un(i)?ea((r,n)=>si((a,s)=>i(r,a,n,s))(zr(t(r,n))),e):(typeof i=="number"&&(e=i),_n((r,n)=>O9(r,n,t,e)))}function Cm(t=1/0){return ea(gc,t)}function L9(){return Cm(1)}function xd(...t){return L9()(Ts(t,tf(t)))}function bd(t){return new rn(i=>{zr(t()).subscribe(i)})}function q0(...t){let i=mC(t),{args:e,keys:r}=AC(t),n=new rn(a=>{let{length:s}=e;if(!s){a.complete();return}let o=new Array(s),u=s,l=s;for(let c=0;c<s;c++){let h=!1;zr(e[c]).subscribe(vn(a,d=>{h||(h=!0,l--),o[c]=d},()=>u--,void 0,()=>{(!u||!h)&&(l||a.next(r?MC(r,o):o),a.complete())}))}});return i?n.pipe(Jv(i)):n}var rle=["addListener","removeListener"],sle=["addEventListener","removeEventListener"],ale=["on","off"];function gb(t,i,e,r){if(un(e)&&(r=e,e=void 0),r)return gb(t,i,e).pipe(Jv(r));let[n,a]=cle(t)?sle.map(s=>o=>t[s](i,o,e)):ole(t)?rle.map(N9(t,i)):lle(t)?ale.map(N9(t,i)):[];if(!n&&Zv(t))return ea(s=>gb(s,i,e))(zr(t));if(!n)throw new TypeError("Invalid event target");return new rn(s=>{let o=(...u)=>s.next(1<u.length?u:u[0]);return n(o),()=>a(o)})}function N9(t,i){return e=>r=>t[e](i,r)}function ole(t){return un(t.addListener)&&un(t.removeListener)}function lle(t){return un(t.on)&&un(t.off)}function cle(t){return un(t.addEventListener)&&un(t.removeEventListener)}function ch(t=0,i,e=b9){let r=-1;return i!=null&&(pC(i)?e=i:r=i),new rn(n=>{let a=k9(t)?+t-e.now():t;a<0&&(a=0);let s=0;return e.schedule(function(){n.closed||(n.next(s++),0<=r?this.schedule(void 0,r):n.complete())},a)})}function I5(t=0,i=lp){return t<0&&(t=0),ch(t,t,i)}function $n(...t){let i=tf(t),e=_9(t,1/0),r=t;return r.length?r.length===1?zr(r[0]):Cm(e)(Ts(r,i)):Ea}function ji(t,i){return _n((e,r)=>{let n=0;e.subscribe(vn(r,a=>t.call(i,a,n++)&&r.next(a)))})}function B9(t){return _n((i,e)=>{let r=!1,n=null,a=null,s=!1,o=()=>{if(a?.unsubscribe(),a=null,r){r=!1;let l=n;n=null,e.next(l)}s&&e.complete()},u=()=>{a=null,s&&e.complete()};i.subscribe(vn(e,l=>{r=!0,n=l,a||zr(t(l)).subscribe(a=vn(e,o,u))},()=>{s=!0,(!r||!a||a.closed)&&e.complete()}))})}function IC(t,i=lp){return B9(()=>ch(t,i))}function Ur(t){return _n((i,e)=>{let r=null,n=!1,a;r=i.subscribe(vn(e,void 0,void 0,s=>{a=zr(t(s,Ur(t)(i))),r?(r.unsubscribe(),r=null,a.subscribe(e)):n=!0})),n&&(r.unsubscribe(),r=null,a.subscribe(e))})}function V9(t,i,e,r,n){return(a,s)=>{let o=e,u=i,l=0;a.subscribe(vn(s,c=>{let h=l++;u=o?t(u,c,h):(o=!0,c),r&&s.next(u)},n&&(()=>{o&&s.next(u),s.complete()})))}}function cp(t,i){return un(i)?ea(t,i,1):ea(t,1)}function ta(t,i=lp){return _n((e,r)=>{let n=null,a=null,s=null,o=()=>{if(n){n.unsubscribe(),n=null;let l=a;a=null,r.next(l)}};function u(){let l=s+t,c=i.now();if(c<l){n=this.schedule(void 0,l-c),r.add(n);return}o()}e.subscribe(vn(r,l=>{a=l,s=i.now(),n||(n=i.schedule(u,t),r.add(n))},()=>{o(),r.complete()},void 0,()=>{a=n=null}))})}function Sm(t){return _n((i,e)=>{let r=!1;i.subscribe(vn(e,n=>{r=!0,e.next(n)},()=>{r||e.next(t),e.complete()}))})}function fr(t){return t<=0?()=>Ea:_n((i,e)=>{let r=0;i.subscribe(vn(e,n=>{++r<=t&&(e.next(n),t<=r&&e.complete())}))})}function z9(){return _n((t,i)=>{t.subscribe(vn(i,Q0))})}function qv(t){return si(()=>t)}function D5(t,i){return i?e=>xd(i.pipe(fr(1),z9()),e.pipe(D5(t))):ea((e,r)=>zr(t(e,r)).pipe(fr(1),qv(e)))}function vb(t,i=lp){let e=ch(t,i);return D5(()=>e)}function vc(t,i=gc){return t=t??ule,_n((e,r)=>{let n,a=!0;e.subscribe(vn(r,s=>{let o=i(s);(a||!t(n,o))&&(a=!1,n=o,r.next(s))}))})}function ule(t,i){return t===i}function DC(t=dle){return _n((i,e)=>{let r=!1;i.subscribe(vn(e,n=>{r=!0,e.next(n)},()=>r?e.complete():e.error(t())))})}function dle(){return new Iu}function _d(t){return _n((i,e)=>{try{i.subscribe(e)}finally{e.add(t)}})}function ko(t,i){let e=arguments.length>=2;return r=>r.pipe(t?ji((n,a)=>t(n,a,r)):gc,fr(1),e?Sm(i):DC(()=>new Iu))}function ey(t){return t<=0?()=>Ea:_n((i,e)=>{let r=[];i.subscribe(vn(e,n=>{r.push(n),t<r.length&&r.shift()},()=>{for(let n of r)e.next(n);e.complete()},void 0,()=>{r=null}))})}function P5(t,i){let e=arguments.length>=2;return r=>r.pipe(t?ji((n,a)=>t(n,a,r)):gc,ey(1),e?Sm(i):DC(()=>new Iu))}function PC(){return _n((t,i)=>{let e,r=!1;t.subscribe(vn(i,n=>{let a=e;e=n,r&&i.next([a,n]),r=!0}))})}function R5(t,i){return _n(V9(t,i,arguments.length>=2,!0))}function yb(t={}){let{connector:i=()=>new mt,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:n=!0}=t;return a=>{let s,o,u,l=0,c=!1,h=!1,d=()=>{o?.unsubscribe(),o=void 0},f=()=>{d(),s=u=void 0,c=h=!1},m=()=>{let p=s;f(),p?.unsubscribe()};return _n((p,g)=>{l++,!h&&!c&&d();let v=u=u??i();g.add(()=>{l--,l===0&&!h&&!c&&(o=k5(m,n))}),v.subscribe(g),!s&&l>0&&(s=new lh({next:y=>v.next(y),error:y=>{h=!0,d(),o=k5(f,e,y),v.error(y)},complete:()=>{c=!0,d(),o=k5(f,r),v.complete()}}),zr(p).subscribe(s))})(a)}}function k5(t,i,...e){if(i===!0){t();return}if(i===!1)return;let r=new lh({next:()=>{r.unsubscribe(),t()}});return zr(i(...e)).subscribe(r)}function RC(t,i,e){let r,n=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:i=1/0,refCount:n=!1,scheduler:e}=t:r=t??1/0,yb({connector:()=>new yd(r,i,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:n})}function eg(t){return ji((i,e)=>t<=e)}function Bn(...t){let i=tf(t);return _n((e,r)=>{(i?xd(t,e,i):xd(t,e)).subscribe(r)})}function Mn(t,i){return _n((e,r)=>{let n=null,a=0,s=!1,o=()=>s&&!n&&r.complete();e.subscribe(vn(r,u=>{n?.unsubscribe();let l=0,c=a++;zr(t(u,c)).subscribe(n=vn(r,h=>r.next(i?i(u,h,c,l++):h),()=>{n=null,o()}))},()=>{s=!0,o()}))})}function pi(t){return _n((i,e)=>{zr(t).subscribe(vn(e,()=>e.complete(),Q0)),!e.closed&&i.subscribe(e)})}function ty(t,i=!1){return _n((e,r)=>{let n=0;e.subscribe(vn(r,a=>{let s=t(a,n++);(s||i)&&r.next(a),!s&&r.complete()}))})}function Jn(t,i,e){let r=un(t)||i||e?{next:t,error:i,complete:e}:t;return r?_n((n,a)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let o=!0;n.subscribe(vn(a,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),a.next(u)},()=>{var u;o=!1,(u=r.complete)===null||u===void 0||u.call(r),a.complete()},u=>{var l;o=!1,(l=r.error)===null||l===void 0||l.call(r,u),a.error(u)},()=>{var u,l;o&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):gc}var F7="https://g.co/ng/security#xss",Xt=class extends Error{code;constructor(i,e){super(CS(i,e)),this.code=i}};function CS(t,i){return`${`NG0${Math.abs(t)}`}${i?": "+i:""}`}var O7=Symbol("InputSignalNode#UNSET"),hle=Ri(ht({},v5),{transformFn:void 0,applyValueToInputSignal(t,i){rC(t,i)}});function L7(t,i){let e=Object.create(hle);e.value=t,e.transformFn=i?.transform;function r(){if(tC(e),e.value===O7)throw new Xt(-950,!1);return e.value}return r[Al]=e,r}function kb(t){return{toString:t}.toString()}var kC="__parameters__";function fle(t){return function(...e){if(t){let r=t(...e);for(let n in r)this[n]=r[n]}}}function N7(t,i,e){return kb(()=>{let r=fle(i);function n(...a){if(this instanceof n)return r.apply(this,a),this;let s=new n(...a);return o.annotation=s,o;function o(u,l,c){let h=u.hasOwnProperty(kC)?u[kC]:Object.defineProperty(u,kC,{value:[]})[kC];for(;h.length<=c;)h.push(null);return(h[c]=h[c]||[]).push(s),u}}return e&&(n.prototype=Object.create(e.prototype)),n.prototype.ngMetadataName=t,n.annotationCls=n,n})}var nl=globalThis;function Es(t){for(let i in t)if(t[i]===Es)return i;throw Error("Could not find renamed property on target object.")}function ple(t,i){for(let e in i)i.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=i[e])}function xc(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(xc).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let i=t.toString();if(i==null)return""+i;let e=i.indexOf(`
`);return e===-1?i:i.substring(0,e)}function Y5(t,i){return t==null||t===""?i===null?"":i:i==null||i===""?t:t+" "+i}var mle=Es({__forward_ref__:Es});function Kr(t){return t.__forward_ref__=Kr,t.toString=function(){return xc(this())},t}function rl(t){return B7(t)?t():t}function B7(t){return typeof t=="function"&&t.hasOwnProperty(mle)&&t.__forward_ref__===Kr}function wt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function SS(t){return U9(t,z7)||U9(t,U7)}function V7(t){return SS(t)!==null}function U9(t,i){return t.hasOwnProperty(i)?t[i]:null}function gle(t){let i=t&&(t[z7]||t[U7]);return i||null}function H9(t){return t&&(t.hasOwnProperty(G9)||t.hasOwnProperty(vle))?t[G9]:null}var z7=Es({\u0275prov:Es}),G9=Es({\u0275inj:Es}),U7=Es({ngInjectableDef:Es}),vle=Es({ngInjectorDef:Es}),tt=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(i,e){this._desc=i,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=wt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function H7(t){return t&&!!t.\u0275providers}var yle=Es({\u0275cmp:Es}),xle=Es({\u0275dir:Es}),ble=Es({\u0275pipe:Es}),_le=Es({\u0275mod:Es}),XC=Es({\u0275fac:Es}),wb=Es({__NG_ELEMENT_ID__:Es}),j9=Es({__NG_ENV_ID__:Es});function sf(t){return typeof t=="string"?t:t==null?"":String(t)}function wle(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():sf(t)}function Cle(t,i){let e=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new Xt(-200,t)}function iR(t,i){throw new Xt(-201,!1)}var qn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(qn||{}),$5;function G7(){return $5}function Uc(t){let i=$5;return $5=t,i}function j7(t,i,e){let r=SS(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&qn.Optional)return null;if(i!==void 0)return i;iR(t,"Injector")}var Sle={},Sb=Sle,Q5="__NG_DI_FLAG__",YC="ngTempTokenPath",Tle="ngTokenPath",Ele=/\n/gm,Ale="\u0275",W9="__source",ay;function Mle(){return ay}function Tm(t){let i=ay;return ay=t,i}function Ile(t,i=qn.Default){if(ay===void 0)throw new Xt(-203,!1);return ay===null?j7(t,void 0,i):ay.get(t,i&qn.Optional?null:void 0,i)}function yi(t,i=qn.Default){return(G7()||Ile)(rl(t),i)}function le(t,i=qn.Default){return yi(t,TS(i))}function TS(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function K5(t){let i=[];for(let e=0;e<t.length;e++){let r=rl(t[e]);if(Array.isArray(r)){if(r.length===0)throw new Xt(900,!1);let n,a=qn.Default;for(let s=0;s<r.length;s++){let o=r[s],u=Dle(o);typeof u=="number"?u===-1?n=o.token:a|=u:n=o}i.push(yi(n,a))}else i.push(yi(r))}return i}function W7(t,i){return t[Q5]=i,t.prototype[Q5]=i,t}function Dle(t){return t[Q5]}function Ple(t,i,e,r){let n=t[YC];throw i[W9]&&n.unshift(i[W9]),t.message=Rle(`
`+t.message,n,e,r),t[Tle]=n,t[YC]=null,t}function Rle(t,i,e,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Ale?t.slice(2):t;let n=xc(i);if(Array.isArray(i))n=i.map(xc).join(" -> ");else if(typeof i=="object"){let a=[];for(let s in i)if(i.hasOwnProperty(s)){let o=i[s];a.push(s+":"+(typeof o=="string"?JSON.stringify(o):xc(o)))}n=`{${a.join(", ")}}`}return`${e}${r?"("+r+")":""}[${n}]: ${t.replace(Ele,`
  `)}`}var mp=W7(N7("Optional"),8);var pg=W7(N7("SkipSelf"),4);function ng(t,i){let e=t.hasOwnProperty(XC);return e?t[XC]:null}function kle(t,i,e){if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],a=i[r];if(e&&(n=e(n),a=e(a)),a!==n)return!1}return!0}function Fle(t){return t.flat(Number.POSITIVE_INFINITY)}function nR(t,i){t.forEach(e=>Array.isArray(e)?nR(e,i):i(e))}function X7(t,i,e){i>=t.length?t.push(e):t.splice(i,0,e)}function $C(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Ole(t,i){let e=[];for(let r=0;r<t;r++)e.push(i);return e}function Lle(t,i,e,r){let n=t.length;if(n==i)t.push(e,r);else if(n===1)t.push(r,t[0]),t[0]=e;else{for(n--,t.push(t[n-1],t[n]);n>i;){let a=n-2;t[n]=t[a],n--}t[i]=e,t[i+1]=r}}function ES(t,i,e){let r=Fb(t,i);return r>=0?t[r|1]=e:(r=~r,Lle(t,r,i,e)),r}function F5(t,i){let e=Fb(t,i);if(e>=0)return t[e|1]}function Fb(t,i){return Nle(t,i,1)}function Nle(t,i,e){let r=0,n=t.length>>e;for(;n!==r;){let a=r+(n-r>>1),s=t[a<<e];if(i===s)return a<<e;s>i?n=a:r=a+1}return~(n<<e)}var up={},yc=[],ly=new tt(""),Y7=new tt("",-1),$7=new tt(""),QC=class{get(i,e=Sb){if(e===Sb){let r=new Error(`NullInjectorError: No provider for ${xc(i)}!`);throw r.name="NullInjectorError",r}return e}};function Q7(t,i){let e=t[_le]||null;if(!e&&i===!0)throw new Error(`Type ${xc(t)} does not have '\u0275mod' property.`);return e}function dp(t){return t[yle]||null}function rR(t){return t[xle]||null}function K7(t){return t[ble]||null}function Z7(t){let i=dp(t)||rR(t)||K7(t);return i!==null&&i.standalone}function AS(t){return{\u0275providers:t}}function Ble(...t){return{\u0275providers:J7(!0,t),\u0275fromNgModule:!0}}function J7(t,...i){let e=[],r=new Set,n,a=s=>{e.push(s)};return nR(i,s=>{let o=s;Z5(o,a,[],r)&&(n||=[],n.push(o))}),n!==void 0&&q7(n,a),e}function q7(t,i){for(let e=0;e<t.length;e++){let{ngModule:r,providers:n}=t[e];sR(n,a=>{i(a,r)})}}function Z5(t,i,e,r){if(t=rl(t),!t)return!1;let n=null,a=H9(t),s=!a&&dp(t);if(!a&&!s){let u=t.ngModule;if(a=H9(u),a)n=u;else return!1}else{if(s&&!s.standalone)return!1;n=t}let o=r.has(n);if(s){if(o)return!1;if(r.add(n),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Z5(l,i,e,r)}}else if(a){if(a.imports!=null&&!o){r.add(n);let l;try{nR(a.imports,c=>{Z5(c,i,e,r)&&(l||=[],l.push(c))})}finally{}l!==void 0&&q7(l,i)}if(!o){let l=ng(n)||(()=>new n);i({provide:n,useFactory:l,deps:yc},n),i({provide:$7,useValue:n,multi:!0},n),i({provide:ly,useValue:()=>yi(n),multi:!0},n)}let u=a.providers;if(u!=null&&!o){let l=t;sR(u,c=>{i(c,l)})}}else return!1;return n!==t&&t.providers!==void 0}function sR(t,i){for(let e of t)H7(e)&&(e=e.\u0275providers),Array.isArray(e)?sR(e,i):i(e)}var Vle=Es({provide:String,useValue:Es});function eV(t){return t!==null&&typeof t=="object"&&Vle in t}function zle(t){return!!(t&&t.useExisting)}function Ule(t){return!!(t&&t.useFactory)}function cy(t){return typeof t=="function"}function Hle(t){return!!t.useClass}var MS=new tt(""),zC={},Gle={},O5;function IS(){return O5===void 0&&(O5=new QC),O5}var Ba=class{},Tb=class extends Ba{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(i,e,r,n){super(),this.parent=e,this.source=r,this.scopes=n,q5(i,s=>this.processProvider(s)),this.records.set(Y7,iy(void 0,this)),n.has("environment")&&this.records.set(Ba,iy(void 0,this));let a=this.records.get(MS);a!=null&&typeof a.value=="string"&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get($7,yc,qn.Self))}destroy(){bb(this),this._destroyed=!0;let i=tr(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),tr(i)}}onDestroy(i){return bb(this),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){bb(this);let e=Tm(this),r=Uc(void 0),n;try{return i()}finally{Tm(e),Uc(r)}}get(i,e=Sb,r=qn.Default){if(bb(this),i.hasOwnProperty(j9))return i[j9](this);r=TS(r);let n,a=Tm(this),s=Uc(void 0);try{if(!(r&qn.SkipSelf)){let u=this.records.get(i);if(u===void 0){let l=$le(i)&&SS(i);l&&this.injectableDefInScope(l)?u=iy(J5(i),zC):u=null,this.records.set(i,u)}if(u!=null)return this.hydrate(i,u)}let o=r&qn.Self?IS():this.parent;return e=r&qn.Optional&&e===Sb?null:e,o.get(i,e)}catch(o){if(o.name==="NullInjectorError"){if((o[YC]=o[YC]||[]).unshift(xc(i)),a)throw o;return Ple(o,i,"R3InjectorError",this.source)}else throw o}finally{Uc(s),Tm(a)}}resolveInjectorInitializers(){let i=tr(null),e=Tm(this),r=Uc(void 0),n;try{let a=this.get(ly,yc,qn.Self);for(let s of a)s()}finally{Tm(e),Uc(r),tr(i)}}toString(){let i=[],e=this.records;for(let r of e.keys())i.push(xc(r));return`R3Injector[${i.join(", ")}]`}processProvider(i){i=rl(i);let e=cy(i)?i:rl(i&&i.provide),r=Wle(i);if(!cy(i)&&i.multi===!0){let n=this.records.get(e);n||(n=iy(void 0,zC,!0),n.factory=()=>K5(n.multi),this.records.set(e,n)),e=i,n.multi.push(i)}this.records.set(e,r)}hydrate(i,e){let r=tr(null);try{return e.value===zC&&(e.value=Gle,e.value=e.factory()),typeof e.value=="object"&&e.value&&Yle(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{tr(r)}}injectableDefInScope(i){if(!i.providedIn)return!1;let e=rl(i.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(i){let e=this._onDestroyHooks.indexOf(i);e!==-1&&this._onDestroyHooks.splice(e,1)}};function J5(t){let i=SS(t),e=i!==null?i.factory:ng(t);if(e!==null)return e;if(t instanceof tt)throw new Xt(204,!1);if(t instanceof Function)return jle(t);throw new Xt(204,!1)}function jle(t){if(t.length>0)throw new Xt(204,!1);let e=gle(t);return e!==null?()=>e.factory(t):()=>new t}function Wle(t){if(eV(t))return iy(void 0,t.useValue);{let i=tV(t);return iy(i,zC)}}function tV(t,i,e){let r;if(cy(t)){let n=rl(t);return ng(n)||J5(n)}else if(eV(t))r=()=>rl(t.useValue);else if(Ule(t))r=()=>t.useFactory(...K5(t.deps||[]));else if(zle(t))r=()=>yi(rl(t.useExisting));else{let n=rl(t&&(t.useClass||t.provide));if(Xle(t))r=()=>new n(...K5(t.deps));else return ng(n)||J5(n)}return r}function bb(t){if(t.destroyed)throw new Xt(205,!1)}function iy(t,i,e=!1){return{factory:t,value:i,multi:e?[]:void 0}}function Xle(t){return!!t.deps}function Yle(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function $le(t){return typeof t=="function"||typeof t=="object"&&t instanceof tt}function q5(t,i){for(let e of t)Array.isArray(e)?q5(e,i):e&&H7(e)?q5(e.\u0275providers,i):i(e)}function jc(t,i){t instanceof Tb&&bb(t);let e,r=Tm(t),n=Uc(void 0);try{return i()}finally{Tm(r),Uc(n)}}function iV(){return G7()!==void 0||Mle()!=null}function DS(t){if(!iV())throw new Xt(-203,!1)}function Qle(t){let i=nl.ng;if(i&&i.\u0275compilerFacade)return i.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function Kle(t){return typeof t=="function"}var df=0,Vn=1,Sn=2,Il=3,hh=4,Wc=5,uy=6,KC=7,sl=8,Eb=9,hp=10,Ws=11,Ab=12,X9=13,vy=14,Pu=15,rg=16,ny=17,fp=18,PS=19,nV=20,Em=21,UC=22,sg=23,Du=24,$a=25,aR=1;var ag=7,ZC=8,dy=9,Ml=10;function Am(t){return Array.isArray(t)&&typeof t[aR]=="object"}function gp(t){return Array.isArray(t)&&t[aR]===!0}function oR(t){return(t.flags&4)!==0}function mg(t){return t.componentOffset>-1}function RS(t){return(t.flags&1)===1}function af(t){return!!t.template}function JC(t){return(t[Sn]&512)!==0}function Ob(t){return(t[Sn]&256)===256}var eP=class{previousValue;currentValue;firstChange;constructor(i,e,r){this.previousValue=i,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function rV(t,i,e,r){i!==null?i.applyValueToInputSignal(i,r):t[e]=r}var Ki=(()=>{let t=()=>sV;return t.ngInherit=!0,t})();function sV(t){return t.type.prototype.ngOnChanges&&(t.setInput=Jle),Zle}function Zle(){let t=oV(this),i=t?.current;if(i){let e=t.previous;if(e===up)t.previous=i;else for(let r in i)e[r]=i[r];t.current=null,this.ngOnChanges(i)}}function Jle(t,i,e,r,n){let a=this.declaredInputs[r],s=oV(t)||qle(t,{previous:up,current:null}),o=s.current||(s.current={}),u=s.previous,l=u[a];o[a]=new eP(l&&l.currentValue,e,u===up),rV(t,i,n,e)}var aV="__ngSimpleChanges__";function oV(t){return t[aV]||null}function qle(t,i){return t[aV]=i}var Y9=null;var wd=function(t,i,e){Y9?.(t,i,e)},lV="svg",ece="math";function of(t){for(;Array.isArray(t);)t=t[df];return t}function tce(t){for(;Array.isArray(t);){if(typeof t[aR]=="object")return t;t=t[df]}return null}function cV(t,i){return of(i[t])}function ph(t,i){return of(i[t.index])}function lR(t,i){return t.data[i]}function kS(t,i){return t[i]}function lf(t,i){let e=i[t];return Am(e)?e:e[df]}function ice(t){return(t[Sn]&4)===4}function cR(t){return(t[Sn]&128)===128}function nce(t){return gp(t[Il])}function Mm(t,i){return i==null?null:t[i]}function uV(t){t[ny]=0}function uR(t){t[Sn]&1024||(t[Sn]|=1024,cR(t)&&Lb(t))}function rce(t,i){for(;t>0;)i=i[vy],t--;return i}function FS(t){return!!(t[Sn]&9216||t[Du]?.dirty)}function tP(t){t[hp].changeDetectionScheduler?.notify(9),t[Sn]&64&&(t[Sn]|=1024),FS(t)&&Lb(t)}function Lb(t){t[hp].changeDetectionScheduler?.notify(0);let i=og(t);for(;i!==null&&!(i[Sn]&8192||(i[Sn]|=8192,!cR(i)));)i=og(i)}function dV(t,i){if(Ob(t))throw new Xt(911,!1);t[Em]===null&&(t[Em]=[]),t[Em].push(i)}function sce(t,i){if(t[Em]===null)return;let e=t[Em].indexOf(i);e!==-1&&t[Em].splice(e,1)}function og(t){let i=t[Il];return gp(i)?i[Il]:i}function hV(t){return t[KC]??=[]}function fV(t){return t.cleanup??=[]}function ace(t,i,e,r){let n=hV(i);n.push(e),t.firstCreatePass&&fV(t).push(r,n.length-1)}var zn={lFrame:bV(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var iP=!1;function oce(){return zn.lFrame.elementDepthCount}function lce(){zn.lFrame.elementDepthCount++}function cce(){zn.lFrame.elementDepthCount--}function OS(){return zn.bindingsEnabled}function pV(){return zn.skipHydrationRootTNode!==null}function uce(t){return zn.skipHydrationRootTNode===t}function dce(){zn.skipHydrationRootTNode=null}function on(){return zn.lFrame.lView}function Ns(){return zn.lFrame.tView}function Me(t){return zn.lFrame.contextLView=t,t[sl]}function Ie(t){return zn.lFrame.contextLView=null,t}function al(){let t=mV();for(;t!==null&&t.type===64;)t=t.parent;return t}function mV(){return zn.lFrame.currentTNode}function hce(){let t=zn.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}function gg(t,i){let e=zn.lFrame;e.currentTNode=t,e.isParent=i}function dR(){return zn.lFrame.isParent}function hR(){zn.lFrame.isParent=!1}function fce(){return zn.lFrame.contextLView}function gV(){return iP}function qC(t){let i=iP;return iP=t,i}function yy(){let t=zn.lFrame,i=t.bindingRootIndex;return i===-1&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function vV(){return zn.lFrame.bindingIndex}function pce(t){return zn.lFrame.bindingIndex=t}function Pm(){return zn.lFrame.bindingIndex++}function LS(t){let i=zn.lFrame,e=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,e}function mce(){return zn.lFrame.inI18n}function gce(t,i){let e=zn.lFrame;e.bindingIndex=e.bindingRootIndex=t,nP(i)}function vce(){return zn.lFrame.currentDirectiveIndex}function nP(t){zn.lFrame.currentDirectiveIndex=t}function fR(t){let i=zn.lFrame.currentDirectiveIndex;return i===-1?null:t[i]}function pR(){return zn.lFrame.currentQueryIndex}function NS(t){zn.lFrame.currentQueryIndex=t}function yce(t){let i=t[Vn];return i.type===2?i.declTNode:i.type===1?t[Wc]:null}function yV(t,i,e){if(e&qn.SkipSelf){let n=i,a=t;for(;n=n.parent,n===null&&!(e&qn.Host);)if(n=yce(a),n===null||(a=a[vy],n.type&10))break;if(n===null)return!1;i=n,t=a}let r=zn.lFrame=xV();return r.currentTNode=i,r.lView=t,!0}function mR(t){let i=xV(),e=t[Vn];zn.lFrame=i,i.currentTNode=e.firstChild,i.lView=t,i.tView=e,i.contextLView=t,i.bindingIndex=e.bindingStartIndex,i.inI18n=!1}function xV(){let t=zn.lFrame,i=t===null?null:t.child;return i===null?bV(t):i}function bV(t){let i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=i),i}function _V(){let t=zn.lFrame;return zn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var wV=_V;function gR(){let t=_V();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xce(t){return(zn.lFrame.contextLView=rce(t,zn.lFrame.contextLView))[sl]}function hf(){return zn.lFrame.selectedIndex}function lg(t){zn.lFrame.selectedIndex=t}function xy(){let t=zn.lFrame;return lR(t.tView,t.selectedIndex)}function Aa(){zn.lFrame.currentNamespace=lV}function vg(){bce()}function bce(){zn.lFrame.currentNamespace=null}function _ce(){return zn.lFrame.currentNamespace}var CV=!0;function BS(){return CV}function VS(t){CV=t}function wce(t,i,e){let{ngOnChanges:r,ngOnInit:n,ngDoCheck:a}=i.type.prototype;if(r){let s=sV(i);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}n&&(e.preOrderHooks??=[]).push(0-t,n),a&&((e.preOrderHooks??=[]).push(t,a),(e.preOrderCheckHooks??=[]).push(t,a))}function vR(t,i){for(let e=i.directiveStart,r=i.directiveEnd;e<r;e++){let a=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:o,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=a;s&&(t.contentHooks??=[]).push(-e,s),o&&((t.contentHooks??=[]).push(e,o),(t.contentCheckHooks??=[]).push(e,o)),u&&(t.viewHooks??=[]).push(-e,u),l&&((t.viewHooks??=[]).push(e,l),(t.viewCheckHooks??=[]).push(e,l)),c!=null&&(t.destroyHooks??=[]).push(e,c)}}function HC(t,i,e){SV(t,i,3,e)}function GC(t,i,e,r){(t[Sn]&3)===e&&SV(t,i,e,r)}function L5(t,i){let e=t[Sn];(e&3)===i&&(e&=16383,e+=1,t[Sn]=e)}function SV(t,i,e,r){let n=r!==void 0?t[ny]&65535:0,a=r??-1,s=i.length-1,o=0;for(let u=n;u<s;u++)if(typeof i[u+1]=="number"){if(o=i[u],r!=null&&o>=r)break}else i[u]<0&&(t[ny]+=65536),(o<a||a==-1)&&(Cce(t,e,i,u),t[ny]=(t[ny]&4294901760)+u+2),u++}function $9(t,i){wd(4,t,i);let e=tr(null);try{i.call(t)}finally{tr(e),wd(5,t,i)}}function Cce(t,i,e,r){let n=e[r]<0,a=e[r+1],s=n?-e[r]:e[r],o=t[s];n?t[Sn]>>14<t[ny]>>16&&(t[Sn]&3)===i&&(t[Sn]+=16384,$9(o,a)):$9(o,a)}var oy=-1,cg=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(i,e,r){this.factory=i,this.canSeeViewProviders=e,this.injectImpl=r}};function Sce(t){return t instanceof cg}function Tce(t){return(t.flags&8)!==0}function Ece(t){return(t.flags&16)!==0}function Ace(t,i,e){let r=0;for(;r<e.length;){let n=e[r];if(typeof n=="number"){if(n!==0)break;r++;let a=e[r++],s=e[r++],o=e[r++];t.setAttribute(i,s,o,a)}else{let a=n,s=e[++r];Mce(a)?t.setProperty(i,a,s):t.setAttribute(i,a,s),r++}}return r}function TV(t){return t===3||t===4||t===6}function Mce(t){return t.charCodeAt(0)===64}function hy(t,i){if(!(i===null||i.length===0))if(t===null||t.length===0)t=i.slice();else{let e=-1;for(let r=0;r<i.length;r++){let n=i[r];typeof n=="number"?e=n:e===0||(e===-1||e===2?Q9(t,e,n,null,i[++r]):Q9(t,e,n,null,null))}}return t}function Q9(t,i,e,r,n){let a=0,s=t.length;if(i===-1)s=-1;else for(;a<t.length;){let o=t[a++];if(typeof o=="number"){if(o===i){s=-1;break}else if(o>i){s=a-1;break}}}for(;a<t.length;){let o=t[a];if(typeof o=="number")break;if(o===e){if(r===null){n!==null&&(t[a+1]=n);return}else if(r===t[a+1]){t[a+2]=n;return}}a++,r!==null&&a++,n!==null&&a++}s!==-1&&(t.splice(s,0,i),a=s+1),t.splice(a++,0,e),r!==null&&t.splice(a++,0,r),n!==null&&t.splice(a++,0,n)}var N5={},rP=class{injector;parentInjector;constructor(i,e){this.injector=i,this.parentInjector=e}get(i,e,r){r=TS(r);let n=this.injector.get(i,N5,r);return n!==N5||e===N5?n:this.parentInjector.get(i,e,r)}};function EV(t){return t!==oy}function eS(t){return t&32767}function Ice(t){return t>>16}function tS(t,i){let e=Ice(t),r=i;for(;e>0;)r=r[vy],e--;return r}var sP=!0;function iS(t){let i=sP;return sP=t,i}var Dce=256,AV=Dce-1,MV=5,Pce=0,rf={};function Rce(t,i,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(wb)&&(r=e[wb]),r==null&&(r=e[wb]=Pce++);let n=r&AV,a=1<<n;i.data[t+(n>>MV)]|=a}function nS(t,i){let e=IV(t,i);if(e!==-1)return e;let r=i[Vn];r.firstCreatePass&&(t.injectorIndex=i.length,B5(r.data,t),B5(i,null),B5(r.blueprint,null));let n=yR(t,i),a=t.injectorIndex;if(EV(n)){let s=eS(n),o=tS(n,i),u=o[Vn].data;for(let l=0;l<8;l++)i[a+l]=o[s+l]|u[s+l]}return i[a+8]=n,a}function B5(t,i){t.push(0,0,0,0,0,0,0,0,i)}function IV(t,i){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||i[t.injectorIndex+8]===null?-1:t.injectorIndex}function yR(t,i){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,n=i;for(;n!==null;){if(r=FV(n),r===null)return oy;if(e++,n=n[vy],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return oy}function aP(t,i,e){Rce(t,i,e)}function kce(t,i){if(i==="class")return t.classes;if(i==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,n=0;for(;n<r;){let a=e[n];if(TV(a))break;if(a===0)n=n+2;else if(typeof a=="number")for(n++;n<r&&typeof e[n]=="string";)n++;else{if(a===i)return e[n+1];n=n+2}}}return null}function DV(t,i,e){if(e&qn.Optional||t!==void 0)return t;iR(i,"NodeInjector")}function PV(t,i,e,r){if(e&qn.Optional&&r===void 0&&(r=null),!(e&(qn.Self|qn.Host))){let n=t[Eb],a=Uc(void 0);try{return n?n.get(i,r,e&qn.Optional):j7(i,r,e&qn.Optional)}finally{Uc(a)}}return DV(r,i,e)}function RV(t,i,e,r=qn.Default,n){if(t!==null){if(i[Sn]&2048&&!(r&qn.Self)){let s=Nce(t,i,e,r,rf);if(s!==rf)return s}let a=kV(t,i,e,r,rf);if(a!==rf)return a}return PV(i,e,r,n)}function kV(t,i,e,r,n){let a=Oce(e);if(typeof a=="function"){if(!yV(i,t,r))return r&qn.Host?DV(n,e,r):PV(i,e,r,n);try{let s;if(s=a(r),s==null&&!(r&qn.Optional))iR(e);else return s}finally{wV()}}else if(typeof a=="number"){let s=null,o=IV(t,i),u=oy,l=r&qn.Host?i[Pu][Wc]:null;for((o===-1||r&qn.SkipSelf)&&(u=o===-1?yR(t,i):i[o+8],u===oy||!Z9(r,!1)?o=-1:(s=i[Vn],o=eS(u),i=tS(u,i)));o!==-1;){let c=i[Vn];if(K9(a,o,c.data)){let h=Fce(o,i,e,s,r,l);if(h!==rf)return h}u=i[o+8],u!==oy&&Z9(r,i[Vn].data[o+8]===l)&&K9(a,o,i)?(s=c,o=eS(u),i=tS(u,i)):o=-1}}return n}function Fce(t,i,e,r,n,a){let s=i[Vn],o=s.data[t+8],u=r==null?mg(o)&&sP:r!=s&&(o.type&3)!==0,l=n&qn.Host&&a===o,c=jC(o,s,e,u,l);return c!==null?Mb(i,s,c,o):rf}function jC(t,i,e,r,n){let a=t.providerIndexes,s=i.data,o=a&1048575,u=t.directiveStart,l=t.directiveEnd,c=a>>20,h=r?o:o+c,d=n?o+c:l;for(let f=h;f<d;f++){let m=s[f];if(f<u&&e===m||f>=u&&m.type===e)return f}if(n){let f=s[u];if(f&&af(f)&&f.type===e)return u}return null}function Mb(t,i,e,r){let n=t[e],a=i.data;if(Sce(n)){let s=n;s.resolving&&Cle(wle(a[e]));let o=iS(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Uc(s.injectImpl):null,c=yV(t,r,qn.Default);try{n=t[e]=s.factory(void 0,a,t,r),i.firstCreatePass&&e>=r.directiveStart&&wce(e,a[e],i)}finally{l!==null&&Uc(l),iS(o),s.resolving=!1,wV()}}return n}function Oce(t){if(typeof t=="string")return t.charCodeAt(0)||0;let i=t.hasOwnProperty(wb)?t[wb]:void 0;return typeof i=="number"?i>=0?i&AV:Lce:i}function K9(t,i,e){let r=1<<t;return!!(e[i+(t>>MV)]&r)}function Z9(t,i){return!(t&qn.Self)&&!(t&qn.Host&&i)}var ig=class{_tNode;_lView;constructor(i,e){this._tNode=i,this._lView=e}get(i,e,r){return RV(this._tNode,this._lView,i,TS(r),e)}};function Lce(){return new ig(al(),on())}function fn(t){return kb(()=>{let i=t.prototype.constructor,e=i[XC]||oP(i),r=Object.prototype,n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==r;){let a=n[XC]||oP(n);if(a&&a!==e)return a;n=Object.getPrototypeOf(n)}return a=>new a})}function oP(t){return B7(t)?()=>{let i=oP(rl(t));return i&&i()}:ng(t)}function Nce(t,i,e,r,n){let a=t,s=i;for(;a!==null&&s!==null&&s[Sn]&2048&&!JC(s);){let o=kV(a,s,e,r|qn.Self,rf);if(o!==rf)return o;let u=a.parent;if(!u){let l=s[nV];if(l){let c=l.get(e,rf,r);if(c!==rf)return c}u=FV(s),s=s[vy]}a=u}return n}function FV(t){let i=t[Vn],e=i.type;return e===2?i.declTNode:e===1?t[Wc]:null}function zS(t){return kce(al(),t)}function J9(t,i=null,e=null,r){let n=OV(t,i,e,r);return n.resolveInjectorInitializers(),n}function OV(t,i=null,e=null,r,n=new Set){let a=[e||yc,Ble(t)];return r=r||(typeof t=="object"?void 0:xc(t)),new Tb(a,i||IS(),r||null,n)}var Wi=class t{static THROW_IF_NOT_FOUND=Sb;static NULL=new QC;static create(i,e){if(Array.isArray(i))return J9({name:""},e,i,"");{let r=i.name??"";return J9({name:r},i.parent,i.providers,r)}}static \u0275prov=wt({token:t,providedIn:"any",factory:()=>yi(Y7)});static __NG_ELEMENT_ID__=-1};var go=class{attributeName;constructor(i){this.attributeName=i}__NG_ELEMENT_ID__=()=>zS(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Bce=new tt("");Bce.__NG_ELEMENT_ID__=t=>{let i=al();if(i===null)throw new Xt(204,!1);if(i.type&2)return i.value;if(t&qn.Optional)return null;throw new Xt(204,!1)};var LV=!1,yg=(()=>{class t{static __NG_ELEMENT_ID__=Vce;static __NG_ENV_ID__=e=>e}return t})(),rS=class extends yg{_lView;constructor(i){super(),this._lView=i}onDestroy(i){return dV(this._lView,i),()=>sce(this._lView,i)}};function Vce(){return new rS(on())}var ug=class{},xR=new tt("",{providedIn:"root",factory:()=>!1});var NV=new tt(""),BV=new tt(""),ff=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Rn(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=wt({token:t,providedIn:"root",factory:()=>new t})}return t})();var lP=class extends mt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(i=!1){super(),this.__isAsync=i,iV()&&(this.destroyRef=le(yg,{optional:!0})??void 0,this.pendingTasks=le(ff,{optional:!0})??void 0)}emit(i){let e=tr(null);try{super.next(i)}finally{tr(e)}}subscribe(i,e,r){let n=i,a=e||(()=>null),s=r;if(i&&typeof i=="object"){let u=i;n=u.next?.bind(u),a=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(a=this.wrapInTimeout(a),n&&(n=this.wrapInTimeout(n)),s&&(s=this.wrapInTimeout(s)));let o=super.subscribe({next:n,error:a,complete:s});return i instanceof Vi&&i.add(o),o}wrapInTimeout(i){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{i(e),r!==void 0&&this.pendingTasks?.remove(r)})}}},Tt=lP;function Ib(...t){}function VV(t){let i,e;function r(){t=Ib;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),i!==void 0&&clearTimeout(i)}catch{}}return i=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function q9(t){return queueMicrotask(()=>t()),()=>{t=Ib}}var bR="isAngularZone",sS=bR+"_ID",zce=0,ri=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Tt(!1);onMicrotaskEmpty=new Tt(!1);onStable=new Tt(!1);onError=new Tt(!1);constructor(i){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1,scheduleInRootZone:a=LV}=i;if(typeof Zone>"u")throw new Xt(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!n&&r,s.shouldCoalesceRunChangeDetection=n,s.callbackScheduled=!1,s.scheduleInRootZone=a,Gce(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(bR)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Xt(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Xt(909,!1)}run(i,e,r){return this._inner.run(i,e,r)}runTask(i,e,r,n){let a=this._inner,s=a.scheduleEventTask("NgZoneEvent: "+n,i,Uce,Ib,Ib);try{return a.runTask(s,e,r)}finally{a.cancelTask(s)}}runGuarded(i,e,r){return this._inner.runGuarded(i,e,r)}runOutsideAngular(i){return this._outer.run(i)}},Uce={};function _R(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hce(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function i(){VV(()=>{t.callbackScheduled=!1,cP(t),t.isCheckStableRunning=!0,_R(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{i()}):t._outer.run(()=>{i()}),cP(t)}function Gce(t){let i=()=>{Hce(t)},e=zce++;t._inner=t._inner.fork({name:"angular",properties:{[bR]:!0,[sS]:e,[sS+e]:!0},onInvokeTask:(r,n,a,s,o,u)=>{if(jce(u))return r.invokeTask(a,s,o,u);try{return e7(t),r.invokeTask(a,s,o,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&i(),t7(t)}},onInvoke:(r,n,a,s,o,u,l)=>{try{return e7(t),r.invoke(a,s,o,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Wce(u)&&i(),t7(t)}},onHasTask:(r,n,a,s)=>{r.hasTask(a,s),n===a&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,cP(t),_R(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,n,a,s)=>(r.handleError(a,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function cP(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function e7(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function t7(t){t._nesting--,_R(t)}var aS=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Tt;onMicrotaskEmpty=new Tt;onStable=new Tt;onError=new Tt;run(i,e,r){return i.apply(e,r)}runGuarded(i,e,r){return i.apply(e,r)}runOutsideAngular(i){return i()}runTask(i,e,r,n){return i.apply(e,r)}};function jce(t){return zV(t,"__ignore_ng_zone__")}function Wce(t){return zV(t,"__scheduler_tick__")}function zV(t,i){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[i]===!0}function Xce(t="zone.js",i){return t==="noop"?new aS:t==="zone.js"?new ri(i):t}var Hc=class{_console=console;handleError(i){this._console.error("ERROR",i)}},Yce=new tt("",{providedIn:"root",factory:()=>{let t=le(ri),i=le(Hc);return e=>t.runOutsideAngular(()=>i.handleError(e))}});function i7(t,i){return L7(t,i)}function $ce(t){return L7(O7,t)}var UV=(i7.required=$ce,i7);function Qce(){return by(al(),on())}function by(t,i){return new Pt(ph(t,i))}var Pt=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=Qce}return t})();function HV(t){return t instanceof Pt?t.nativeElement:t}var n7=new Set;function Cd(t){n7.has(t)||(n7.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Rm(t){return typeof t=="function"&&t[Al]!==void 0}function Xc(t,i){Cd("NgSignals");let e=u9(t),r=e[Al];return i?.equal&&(r.equal=i.equal),e.set=n=>rC(r,n),e.update=n=>d9(r,n),e.asReadonly=Kce.bind(e),e}function Kce(){let t=this[Al];if(t.readonlyFn===void 0){let i=()=>this();i[Al]=t,t.readonlyFn=i}return t.readonlyFn}function GV(t){return Rm(t)&&typeof t.set=="function"}function Zce(){return this._results[Symbol.iterator]()}var bc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new mt}constructor(i=!1){this._emitDistinctChangesOnly=i}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,e){return this._results.reduce(i,e)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,e){this.dirty=!1;let r=Fle(i);(this._changesDetected=!kle(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Zce};function jV(t){return(t.flags&128)===128}var WV=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(WV||{}),XV=new Map,Jce=0;function qce(){return Jce++}function eue(t){XV.set(t[PS],t)}function uP(t){XV.delete(t[PS])}var r7="__ngContext__";function xg(t,i){Am(i)?(t[r7]=i[PS],eue(i)):t[r7]=i}function YV(t){return QV(t[Ab])}function $V(t){return QV(t[hh])}function QV(t){for(;t!==null&&!gp(t);)t=t[hh];return t}var dP;function KV(t){dP=t}function ZV(){if(dP!==void 0)return dP;if(typeof document<"u")return document;throw new Xt(210,!1)}var _y=new tt("",{providedIn:"root",factory:()=>tue}),tue="ng",wR=new tt(""),vp=new tt("",{providedIn:"platform",factory:()=>"unknown"});var Un=new tt(""),Nb=new tt("",{providedIn:"root",factory:()=>ZV().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var iue="h",nue="b";var JV=!1,rue=new tt("",{providedIn:"root",factory:()=>JV});var CR=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(CR||{}),wy=new tt("");var ry=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ry||{}),qV=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=wt({token:t,providedIn:"root",factory:()=>new t})}return t})(),sue=[ry.EarlyRead,ry.Write,ry.MixedReadWrite,ry.Read],aue=(()=>{class t{ngZone=le(ri);scheduler=le(ug);errorHandler=le(Hc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){le(wy,{optional:!0})}execute(){this.executing=!0;for(let e of sue)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[e]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[e](r.pipelinedValue),r.snapshot))}catch(n){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(n)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(7))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(CR.AFTER_NEXT_RENDER,e):e()}static \u0275prov=wt({token:t,providedIn:"root",factory:()=>new t})}return t})(),hP=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(i,e,r,n,a=null){this.impl=i,this.hooks=e,this.once=r,this.snapshot=a,this.unregisterOnDestroy=n?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Bb(t,i){!i?.injector&&DS(Bb);let e=i?.injector??le(Wi);return Cd("NgAfterRender"),ez(t,e,i,!1)}function ls(t,i){!i?.injector&&DS(ls);let e=i?.injector??le(Wi);return Cd("NgAfterNextRender"),ez(t,e,i,!0)}function oue(t,i){if(t instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[i]=t,e}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function ez(t,i,e,r){let n=i.get(qV);n.impl??=i.get(aue);let a=i.get(wy,null,{optional:!0}),s=e?.phase??ry.MixedReadWrite,o=e?.manualCleanup!==!0?i.get(yg):null,u=new hP(n.impl,oue(t,s),r,o,a?.snapshot(null));return n.impl.register(u),u}var lue=()=>null;function tz(t,i,e=!1){return lue(t,i,e)}function iz(t,i){let e=t.contentQueries;if(e!==null){let r=tr(null);try{for(let n=0;n<e.length;n+=2){let a=e[n],s=e[n+1];if(s!==-1){let o=t.data[s];NS(a),o.contentQueries(2,i[s],s)}}}finally{tr(r)}}}function fP(t,i,e){NS(0);let r=tr(null);try{i(t,e)}finally{tr(r)}}function SR(t,i,e){if(oR(i)){let r=tr(null);try{let n=i.directiveStart,a=i.directiveEnd;for(let s=n;s<a;s++){let o=t.data[s];if(o.contentQueries){let u=e[s];o.contentQueries(1,u,s)}}}finally{tr(r)}}}var cf=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(cf||{}),FC;function cue(){if(FC===void 0&&(FC=null,nl.trustedTypes))try{FC=nl.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return FC}function US(t){return cue()?.createHTML(t)||t}var OC;function nz(){if(OC===void 0&&(OC=null,nl.trustedTypes))try{OC=nl.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return OC}function s7(t){return nz()?.createHTML(t)||t}function a7(t){return nz()?.createScriptURL(t)||t}var pp=class{changingThisBreaksApplicationSecurity;constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${F7})`}},pP=class extends pp{getTypeName(){return"HTML"}},mP=class extends pp{getTypeName(){return"Style"}},gP=class extends pp{getTypeName(){return"Script"}},vP=class extends pp{getTypeName(){return"URL"}},yP=class extends pp{getTypeName(){return"ResourceURL"}};function Sd(t){return t instanceof pp?t.changingThisBreaksApplicationSecurity:t}function yp(t,i){let e=uue(t);if(e!=null&&e!==i){if(e==="ResourceURL"&&i==="URL")return!0;throw new Error(`Required a safe ${i}, got a ${e} (see ${F7})`)}return e===i}function uue(t){return t instanceof pp&&t.getTypeName()||null}function rz(t){return new pP(t)}function sz(t){return new mP(t)}function az(t){return new gP(t)}function oz(t){return new vP(t)}function lz(t){return new yP(t)}function due(t){let i=new bP(t);return hue()?new xP(i):i}var xP=class{inertDocumentHelper;constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{let e=new window.DOMParser().parseFromString(US(i),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(i):(e.firstChild?.remove(),e)}catch{return null}}},bP=class{defaultDoc;inertDocument;constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){let e=this.inertDocument.createElement("template");return e.innerHTML=US(i),e}};function hue(){try{return!!new window.DOMParser().parseFromString(US(""),"text/html")}catch{return!1}}var fue=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function HS(t){return t=String(t),t.match(fue)?t:"unsafe:"+t}function xp(t){let i={};for(let e of t.split(","))i[e]=!0;return i}function Vb(...t){let i={};for(let e of t)for(let r in e)e.hasOwnProperty(r)&&(i[r]=!0);return i}var cz=xp("area,br,col,hr,img,wbr"),uz=xp("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dz=xp("rp,rt"),pue=Vb(dz,uz),mue=Vb(uz,xp("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gue=Vb(dz,xp("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),o7=Vb(cz,mue,gue,pue),hz=xp("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vue=xp("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yue=xp("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),xue=Vb(hz,vue,yue),bue=xp("script,style,template"),_P=class{sanitizedSomething=!1;buf=[];sanitizeChildren(i){let e=i.firstChild,r=!0,n=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild){n.push(e),e=Cue(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let a=wue(e);if(a){e=a;break}e=n.pop()}}return this.buf.join("")}startElement(i){let e=l7(i).toLowerCase();if(!o7.hasOwnProperty(e))return this.sanitizedSomething=!0,!bue.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let r=i.attributes;for(let n=0;n<r.length;n++){let a=r.item(n),s=a.name,o=s.toLowerCase();if(!xue.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let u=a.value;hz[o]&&(u=HS(u)),this.buf.push(" ",s,'="',c7(u),'"')}return this.buf.push(">"),!0}endElement(i){let e=l7(i).toLowerCase();o7.hasOwnProperty(e)&&!cz.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(i){this.buf.push(c7(i))}};function _ue(t,i){return(t.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function wue(t){let i=t.nextSibling;if(i&&t!==i.previousSibling)throw fz(i);return i}function Cue(t){let i=t.firstChild;if(i&&_ue(t,i))throw fz(i);return i}function l7(t){let i=t.nodeName;return typeof i=="string"?i:"FORM"}function fz(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Sue=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tue=/([^\#-~ |!])/g;function c7(t){return t.replace(/&/g,"&amp;").replace(Sue,function(i){let e=i.charCodeAt(0),r=i.charCodeAt(1);return"&#"+((e-55296)*1024+(r-56320)+65536)+";"}).replace(Tue,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var LC;function TR(t,i){let e=null;try{LC=LC||due(t);let r=i?String(i):"";e=LC.getInertBodyElement(r);let n=5,a=r;do{if(n===0)throw new Error("Failed to sanitize html because the input is unstable");n--,r=a,a=e.innerHTML,e=LC.getInertBodyElement(r)}while(r!==a);let o=new _P().sanitizeChildren(u7(e)||e);return US(o)}finally{if(e){let r=u7(e)||e;for(;r.firstChild;)r.firstChild.remove()}}}function u7(t){return"content"in t&&Eue(t)?t.content:null}function Eue(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var ol=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ol||{});function Yc(t){let i=ER();return i?s7(i.sanitize(ol.HTML,t)||""):yp(t,"HTML")?s7(Sd(t)):TR(ZV(),sf(t))}function bg(t){let i=ER();return i?i.sanitize(ol.URL,t)||"":yp(t,"URL")?Sd(t):HS(sf(t))}function Aue(t){let i=ER();if(i)return a7(i.sanitize(ol.RESOURCE_URL,t)||"");if(yp(t,"ResourceURL"))return a7(Sd(t));throw new Xt(904,!1)}function Mue(t,i){return i==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||i==="href"&&(t==="base"||t==="link")?Aue:bg}function pz(t,i,e){return Mue(i,e)(t)}function ER(){let t=on();return t&&t[hp].sanitizer}var Iue=/^>|^->|<!--|-->|--!>|<!-$/g,Due=/(<|>)/g,Pue="\u200B$1\u200B";function Rue(t){return t.replace(Iue,i=>i.replace(Due,Pue))}function mz(t){return t instanceof Function?t():t}function kue(t,i,e){let r=t.length;for(;;){let n=t.indexOf(i,e);if(n===-1)return n;if(n===0||t.charCodeAt(n-1)<=32){let a=i.length;if(n+a===r||t.charCodeAt(n+a)<=32)return n}e=n+1}}var gz="ng-template";function Fue(t,i,e,r){let n=0;if(r){for(;n<i.length&&typeof i[n]=="string";n+=2)if(i[n]==="class"&&kue(i[n+1].toLowerCase(),e,0)!==-1)return!0}else if(AR(t))return!1;if(n=i.indexOf(1,n),n>-1){let a;for(;++n<i.length&&typeof(a=i[n])=="string";)if(a.toLowerCase()===e)return!0}return!1}function AR(t){return t.type===4&&t.value!==gz}function Oue(t,i,e){let r=t.type===4&&!e?gz:t.value;return i===r}function Lue(t,i,e){let r=4,n=t.attrs,a=n!==null?Vue(n):0,s=!1;for(let o=0;o<i.length;o++){let u=i[o];if(typeof u=="number"){if(!s&&!uh(r)&&!uh(u))return!1;if(s&&uh(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Oue(t,u,e)||u===""&&i.length===1){if(uh(r))return!1;s=!0}}else if(r&8){if(n===null||!Fue(t,n,u,e)){if(uh(r))return!1;s=!0}}else{let l=i[++o],c=Nue(u,n,AR(t),e);if(c===-1){if(uh(r))return!1;s=!0;continue}if(l!==""){let h;if(c>a?h="":h=n[c+1].toLowerCase(),r&2&&l!==h){if(uh(r))return!1;s=!0}}}}return uh(r)||s}function uh(t){return(t&1)===0}function Nue(t,i,e,r){if(i===null)return-1;let n=0;if(r||!e){let a=!1;for(;n<i.length;){let s=i[n];if(s===t)return n;if(s===3||s===6)a=!0;else if(s===1||s===2){let o=i[++n];for(;typeof o=="string";)o=i[++n];continue}else{if(s===4)break;if(s===0){n+=4;continue}}n+=a?1:2}return-1}else return zue(i,t)}function vz(t,i,e=!1){for(let r=0;r<i.length;r++)if(Lue(t,i[r],e))return!0;return!1}function Bue(t){let i=t.attrs;if(i!=null){let e=i.indexOf(5);if(!(e&1))return i[e+1]}return null}function Vue(t){for(let i=0;i<t.length;i++){let e=t[i];if(TV(e))return i}return t.length}function zue(t,i){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===i)return e;e++}return-1}function Uue(t,i){e:for(let e=0;e<i.length;e++){let r=i[e];if(t.length===r.length){for(let n=0;n<t.length;n++)if(t[n]!==r[n])continue e;return!0}}return!1}function d7(t,i){return t?":not("+i.trim()+")":i}function Hue(t){let i=t[0],e=1,r=2,n="",a=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let o=t[++e];n+="["+s+(o.length>0?'="'+o+'"':"")+"]"}else r&8?n+="."+s:r&4&&(n+=" "+s);else n!==""&&!uh(s)&&(i+=d7(a,n),n=""),r=s,a=a||!uh(r);e++}return n!==""&&(i+=d7(a,n)),i}function Gue(t){return t.map(Hue).join(",")}function jue(t){let i=[],e=[],r=1,n=2;for(;r<t.length;){let a=t[r];if(typeof a=="string")n===2?a!==""&&i.push(a,t[++r]):n===8&&e.push(a);else{if(!uh(n))break;n=a}r++}return e.length&&i.push(1,...e),i}var Pl={};function Wue(t,i){return t.createText(i)}function Xue(t,i,e){t.setValue(i,e)}function Yue(t,i){return t.createComment(Rue(i))}function yz(t,i,e){return t.createElement(i,e)}function oS(t,i,e,r,n){t.insertBefore(i,e,r,n)}function xz(t,i,e){t.appendChild(i,e)}function h7(t,i,e,r,n){r!==null?oS(t,i,e,r,n):xz(t,i,e)}function $ue(t,i,e){t.removeChild(null,i,e)}function Que(t,i,e){t.setAttribute(i,"style",e)}function Kue(t,i,e){e===""?t.removeAttribute(i,"class"):t.setAttribute(i,"class",e)}function bz(t,i,e){let{mergedAttrs:r,classes:n,styles:a}=e;r!==null&&Ace(t,i,r),n!==null&&Kue(t,i,n),a!==null&&Que(t,i,a)}function K(t=1){_z(Ns(),on(),hf()+t,!1)}function _z(t,i,e,r){if(!r)if((i[Sn]&3)===3){let a=t.preOrderCheckHooks;a!==null&&HC(i,a,e)}else{let a=t.preOrderHooks;a!==null&&GC(i,a,0,e)}lg(e)}var Im=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Im||{});function wz(t,i,e,r,n,a){let s=tr(null);try{let o=null;n&Im.SignalBased&&(o=i[r][Al]),o!==null&&o.transformFn!==void 0&&(a=o.transformFn(a)),n&Im.HasDecoratorInputTransform&&(a=t.inputTransforms[r].call(i,a)),t.setInput!==null?t.setInput(i,o,a,e,r):rV(i,o,r,a)}finally{tr(s)}}function MR(t,i,e,r,n,a,s,o,u,l,c){let h=i.blueprint.slice();return h[df]=n,h[Sn]=r|4|128|8|64|1024,(l!==null||t&&t[Sn]&2048)&&(h[Sn]|=2048),uV(h),h[Il]=h[vy]=t,h[sl]=e,h[hp]=s||t&&t[hp],h[Ws]=o||t&&t[Ws],h[Eb]=u||t&&t[Eb]||null,h[Wc]=a,h[PS]=qce(),h[uy]=c,h[nV]=l,h[Pu]=i.type==2?t[Pu]:h,h}function Cz(t,i,e,r,n){let a=hf(),s=r&2;try{lg(-1),s&&i.length>$a&&_z(t,i,$a,!1),wd(s?2:0,n),e(r,n)}finally{lg(a),wd(s?3:1,n)}}function IR(t,i,e){OS()&&(xg(ph(e,i),i),Sz(t,i,e))}function Sz(t,i,e){rde(t,i,e),(e.flags&64)===64&&sde(t,i,e)}function DR(t,i,e=ph){let r=i.localNames;if(r!==null){let n=i.index+1;for(let a=0;a<r.length;a+=2){let s=r[a+1],o=s===-1?e(i,t):t[s];t[n++]=o}}}function Zue(t){let i=t.tView;return i===null||i.incompleteFirstPass?t.tView=PR(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function PR(t,i,e,r,n,a,s,o,u,l,c){let h=$a+r,d=h+n,f=Jue(h,d),m=typeof l=="function"?l():l;return f[Vn]={type:t,blueprint:f,template:e,queries:null,viewQuery:o,declTNode:i,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof a=="function"?a():a,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:m,incompleteFirstPass:!1,ssrId:c}}function Jue(t,i){let e=[];for(let r=0;r<i;r++)e.push(r<t?null:Pl);return e}function que(t,i,e,r){let a=r.get(rue,JV)||e===cf.ShadowDom,s=t.selectRootElement(i,a);return ede(s),s}function ede(t){tde(t)}var tde=()=>null;function ide(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function zb(t,i,e,r,n,a,s,o){let u=ph(i,e),l=i.inputs,c;!o&&l!=null&&(c=l[r])?(FR(t,e,c,r,n),mg(i)&&nde(e,i.index)):i.type&3?(r=ide(r),n=s!=null?s(n,i.value||"",r):n,a.setProperty(u,r,n)):i.type&12}function nde(t,i){let e=lf(i,t);e[Sn]&16||(e[Sn]|=64)}function rde(t,i,e){let r=e.directiveStart,n=e.directiveEnd;mg(e)&&ode(i,e,t.data[r+e.componentOffset]),t.firstCreatePass||nS(e,i);let a=e.initialInputs;for(let s=r;s<n;s++){let o=t.data[s],u=Mb(i,t,s,e);if(xg(u,i),a!==null&&ude(i,s-r,u,o,e,a),af(o)){let l=lf(e.index,i);l[sl]=Mb(i,t,s,e)}}}function sde(t,i,e){let r=e.directiveStart,n=e.directiveEnd,a=e.index,s=vce();try{lg(a);for(let o=r;o<n;o++){let u=t.data[o],l=i[o];nP(o),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&ade(u,l)}}finally{lg(-1),nP(s)}}function ade(t,i){t.hostBindings!==null&&t.hostBindings(1,i)}function RR(t,i){let e=t.directiveRegistry,r=null;if(e)for(let n=0;n<e.length;n++){let a=e[n];vz(i,a.selectors,!1)&&(r??=[],af(a)?r.unshift(a):r.push(a))}return r}function Tz(t){let i=16;return t.signals?i=4096:t.onPush&&(i=64),i}function ode(t,i,e){let r=ph(i,t),n=Zue(e),a=t[hp].rendererFactory,s=kR(t,MR(t,n,null,Tz(e),r,i,null,a.createRenderer(r,e),null,null,null));return t[i.index]=s}function lde(t,i,e,r,n,a){let s=ph(t,i);cde(i[Ws],s,a,t.value,e,r,n)}function cde(t,i,e,r,n,a,s){if(a==null)t.removeAttribute(i,n,e);else{let o=s==null?sf(a):s(a,r||"",n);t.setAttribute(i,n,o,e)}}function ude(t,i,e,r,n,a){let s=a[i];if(s!==null)for(let o=0;o<s.length;){let u=s[o++],l=s[o++],c=s[o++],h=s[o++];wz(r,e,u,l,c,h)}}function Ez(t,i,e,r){return[t,!0,0,i,null,r,null,e,null,null]}function kR(t,i){return t[Ab]?t[X9][hh]=i:t[Ab]=i,t[X9]=i,i}function Az(t,i,e){return(t===null||af(t))&&(e=tce(e[i.index])),e[Ws]}function Mz(t,i){let e=t[Eb],r=e?e.get(Hc,null):null;r&&r.handleError(i)}function FR(t,i,e,r,n){for(let a=0;a<e.length;){let s=e[a++],o=e[a++],u=e[a++],l=i[s],c=t.data[s];wz(c,l,r,o,u,n)}}function dde(t,i){let e=lf(i,t),r=e[Vn];hde(r,e);let n=e[df];n!==null&&e[uy]===null&&(e[uy]=tz(n,e[Eb])),OR(r,e,e[sl])}function hde(t,i){for(let e=i.length;e<t.blueprint.length;e++)i.push(t.blueprint[e])}function OR(t,i,e){mR(i);try{let r=t.viewQuery;r!==null&&fP(1,r,e);let n=t.template;n!==null&&Cz(t,i,n,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),i[fp]?.finishViewCreation(t),t.staticContentQueries&&iz(t,i),t.staticViewQueries&&fP(2,t.viewQuery,e);let a=t.components;a!==null&&fde(i,a)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{i[Sn]&=-5,gR()}}function fde(t,i){for(let e=0;e<i.length;e++)dde(t,i[e])}var uf=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(uf||{}),pde;function LR(t,i){return pde(t,i)}function NR(t){return(t.flags&32)===32}function sy(t,i,e,r,n){if(r!=null){let a,s=!1;gp(r)?a=r:Am(r)&&(s=!0,r=r[df]);let o=of(r);t===0&&e!==null?n==null?xz(i,e,o):oS(i,e,o,n||null,!0):t===1&&e!==null?oS(i,e,o,n||null,!0):t===2?$ue(i,o,s):t===3&&i.destroyNode(o),a!=null&&Tde(i,t,a,e,n)}}function mde(t,i){Iz(t,i),i[df]=null,i[Wc]=null}function gde(t,i,e,r,n,a){r[df]=n,r[Wc]=i,WS(t,r,e,1,n,a)}function Iz(t,i){i[hp].changeDetectionScheduler?.notify(10),WS(t,i,i[Ws],2,null,null)}function vde(t){let i=t[Ab];if(!i)return V5(t[Vn],t);for(;i;){let e=null;if(Am(i))e=i[Ab];else{let r=i[Ml];r&&(e=r)}if(!e){for(;i&&!i[hh]&&i!==t;)Am(i)&&V5(i[Vn],i),i=i[Il];i===null&&(i=t),Am(i)&&V5(i[Vn],i),e=i&&i[hh]}i=e}}function yde(t,i,e,r){let n=Ml+r,a=e.length;r>0&&(e[n-1][hh]=i),r<a-Ml?(i[hh]=e[n],X7(e,Ml+r,i)):(e.push(i),i[hh]=null),i[Il]=e;let s=i[rg];s!==null&&e!==s&&Dz(s,i);let o=i[fp];o!==null&&o.insertView(t),tP(i),i[Sn]|=128}function Dz(t,i){let e=t[dy],r=i[Il];if(Am(r))t[Sn]|=2;else{let n=r[Il][Pu];i[Pu]!==n&&(t[Sn]|=2)}e===null?t[dy]=[i]:e.push(i)}function BR(t,i){let e=t[dy],r=e.indexOf(i);e.splice(r,1)}function Db(t,i){if(t.length<=Ml)return;let e=Ml+i,r=t[e];if(r){let n=r[rg];n!==null&&n!==t&&BR(n,r),i>0&&(t[e-1][hh]=r[hh]);let a=$C(t,Ml+i);mde(r[Vn],r);let s=a[fp];s!==null&&s.detachView(a[Vn]),r[Il]=null,r[hh]=null,r[Sn]&=-129}return r}function GS(t,i){if(Ob(i))return;let e=i[Ws];e.destroyNode&&WS(t,i,e,3,null,null),vde(i)}function V5(t,i){if(Ob(i))return;let e=tr(null);try{i[Sn]&=-129,i[Sn]|=256,i[Du]&&Uv(i[Du]),bde(t,i),xde(t,i),i[Vn].type===1&&i[Ws].destroy();let r=i[rg];if(r!==null&&gp(i[Il])){r!==i[Il]&&BR(r,i);let n=i[fp];n!==null&&n.detachView(t)}uP(i)}finally{tr(e)}}function xde(t,i){let e=t.cleanup,r=i[KC];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let o=e[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[e[s+1]];e[s].call(o)}r!==null&&(i[KC]=null);let n=i[Em];if(n!==null){i[Em]=null;for(let s=0;s<n.length;s++){let o=n[s];o()}}let a=i[sg];if(a!==null){i[sg]=null;for(let s of a)s.destroy()}}function bde(t,i){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let n=i[e[r]];if(!(n instanceof cg)){let a=e[r+1];if(Array.isArray(a))for(let s=0;s<a.length;s+=2){let o=n[a[s]],u=a[s+1];wd(4,o,u);try{u.call(o)}finally{wd(5,o,u)}}else{wd(4,n,a);try{a.call(n)}finally{wd(5,n,a)}}}}}function Pz(t,i,e){return _de(t,i.parent,e)}function _de(t,i,e){let r=i;for(;r!==null&&r.type&168;)i=r,r=i.parent;if(r===null)return e[df];if(mg(r)){let{encapsulation:n}=t.data[r.directiveStart+r.componentOffset];if(n===cf.None||n===cf.Emulated)return null}return ph(r,e)}function Rz(t,i,e){return Cde(t,i,e)}function wde(t,i,e){return t.type&40?ph(t,e):null}var Cde=wde,f7;function jS(t,i,e,r){let n=Pz(t,r,i),a=i[Ws],s=r.parent||i[Wc],o=Rz(s,r,i);if(n!=null)if(Array.isArray(e))for(let u=0;u<e.length;u++)h7(a,n,e[u],o,!1);else h7(a,n,e,o,!1);f7!==void 0&&f7(a,r,i,e,n)}function _b(t,i){if(i!==null){let e=i.type;if(e&3)return ph(i,t);if(e&4)return wP(-1,t[i.index]);if(e&8){let r=i.child;if(r!==null)return _b(t,r);{let n=t[i.index];return gp(n)?wP(-1,n):of(n)}}else{if(e&128)return _b(t,i.next);if(e&32)return LR(i,t)()||of(t[i.index]);{let r=kz(t,i);if(r!==null){if(Array.isArray(r))return r[0];let n=og(t[Pu]);return _b(n,r)}else return _b(t,i.next)}}}return null}function kz(t,i){if(i!==null){let r=t[Pu][Wc],n=i.projection;return r.projection[n]}return null}function wP(t,i){let e=Ml+t+1;if(e<i.length){let r=i[e],n=r[Vn].firstChild;if(n!==null)return _b(r,n)}return i[ag]}function VR(t,i,e,r,n,a,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let o=r[e.index],u=e.type;if(s&&i===0&&(o&&xg(of(o),r),e.flags|=2),!NR(e))if(u&8)VR(t,i,e.child,r,n,a,!1),sy(i,t,n,o,a);else if(u&32){let l=LR(e,r),c;for(;c=l();)sy(i,t,n,c,a);sy(i,t,n,o,a)}else u&16?Fz(t,i,r,e,n,a):sy(i,t,n,o,a);e=s?e.projectionNext:e.next}}function WS(t,i,e,r,n,a){VR(e,r,t.firstChild,i,n,a,!1)}function Sde(t,i,e){let r=i[Ws],n=Pz(t,e,i),a=e.parent||i[Wc],s=Rz(a,e,i);Fz(r,0,i,e,n,s)}function Fz(t,i,e,r,n,a){let s=e[Pu],u=s[Wc].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let c=u[l];sy(i,t,n,c,a)}else{let l=u,c=s[Il];jV(r)&&(l.flags|=128),VR(t,i,l,c,n,a,!0)}}function Tde(t,i,e,r,n){let a=e[ag],s=of(e);a!==s&&sy(i,t,r,a,n);for(let o=Ml;o<e.length;o++){let u=e[o];WS(u[Vn],u,t,i,r,a)}}function Ede(t,i,e,r,n){if(i)n?t.addClass(e,r):t.removeClass(e,r);else{let a=r.indexOf("-")===-1?void 0:uf.DashCase;n==null?t.removeStyle(e,r,a):(typeof n=="string"&&n.endsWith("!important")&&(n=n.slice(0,-10),a|=uf.Important),t.setStyle(e,r,n,a))}}function Ub(t,i,e,r){let n=tr(null);try{let a=i.tView,o=t[Sn]&4096?4096:16,u=MR(t,a,e,o,null,i,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[i.index];u[rg]=l;let c=t[fp];return c!==null&&(u[fp]=c.createEmbeddedView(a)),OR(a,u,e),u}finally{tr(n)}}function Oz(t,i){let e=Ml+i;if(e<t.length)return t[e]}function fy(t,i){return!i||i.firstChild===null||jV(t)}function Hb(t,i,e,r=!0){let n=i[Vn];if(yde(n,i,t,e),r){let s=wP(e,t),o=i[Ws],u=o.parentNode(t[ag]);u!==null&&gde(n,t[Wc],o,i,u,s)}let a=i[uy];a!==null&&a.firstChild!==null&&(a.firstChild=null)}function Lz(t,i){let e=Db(t,i);return e!==void 0&&GS(e[Vn],e),e}function lS(t,i,e,r,n=!1){for(;e!==null;){if(e.type===128){e=n?e.projectionNext:e.next;continue}let a=i[e.index];a!==null&&r.push(of(a)),gp(a)&&Ade(a,r);let s=e.type;if(s&8)lS(t,i,e.child,r);else if(s&32){let o=LR(e,i),u;for(;u=o();)r.push(u)}else if(s&16){let o=kz(i,e);if(Array.isArray(o))r.push(...o);else{let u=og(i[Pu]);lS(u[Vn],u,o,r,!0)}}e=n?e.projectionNext:e.next}return r}function Ade(t,i){for(let e=Ml;e<t.length;e++){let r=t[e],n=r[Vn].firstChild;n!==null&&lS(r[Vn],r,n,i)}t[ag]!==t[df]&&i.push(t[ag])}var Nz=[];function Mde(t){return t[Du]??Ide(t)}function Ide(t){let i=Nz.pop()??Object.create(Pde);return i.lView=t,i}function Dde(t){t.lView[Du]!==t&&(t.lView=null,Nz.push(t))}var Pde=Ri(ht({},Y0),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Lb(t.lView)},consumerOnSignalRead(){this.lView[Du]=this}});function Rde(t){let i=t[Du]??Object.create(kde);return i.lView=t,i}var kde=Ri(ht({},Y0),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let i=og(t.lView);for(;i&&!Bz(i[Vn]);)i=og(i);i&&uR(i)},consumerOnSignalRead(){this.lView[Du]=this}});function Bz(t){return t.type!==2}function Vz(t){if(t[sg]===null)return;let i=!0;for(;i;){let e=!1;for(let r of t[sg])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));i=e&&!!(t[Sn]&8192)}}var Fde=100;function zz(t,i=!0,e=0){let n=t[hp].rendererFactory,a=!1;a||n.begin?.();try{Ode(t,e)}catch(s){throw i&&Mz(t,s),s}finally{a||n.end?.()}}function Ode(t,i){let e=gV();try{qC(!0),CP(t,i);let r=0;for(;FS(t);){if(r===Fde)throw new Xt(103,!1);r++,CP(t,1)}}finally{qC(e)}}function Lde(t,i,e,r){if(Ob(i))return;let n=i[Sn],a=!1,s=!1;mR(i);let o=!0,u=null,l=null;a||(Bz(t)?(l=Mde(i),u=zv(l)):qB()===null?(o=!1,l=Rde(i),u=zv(l)):i[Du]&&(Uv(i[Du]),i[Du]=null));try{uV(i),pce(t.bindingStartIndex),e!==null&&Cz(t,i,e,2,r);let c=(n&3)===3;if(!a)if(c){let f=t.preOrderCheckHooks;f!==null&&HC(i,f,null)}else{let f=t.preOrderHooks;f!==null&&GC(i,f,0,null),L5(i,0)}if(s||Nde(i),Vz(i),Uz(i,0),t.contentQueries!==null&&iz(t,i),!a)if(c){let f=t.contentCheckHooks;f!==null&&HC(i,f)}else{let f=t.contentHooks;f!==null&&GC(i,f,1),L5(i,1)}Vde(t,i);let h=t.components;h!==null&&Gz(i,h,0);let d=t.viewQuery;if(d!==null&&fP(2,d,r),!a)if(c){let f=t.viewCheckHooks;f!==null&&HC(i,f)}else{let f=t.viewHooks;f!==null&&GC(i,f,2),L5(i,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),i[UC]){for(let f of i[UC])f();i[UC]=null}a||(i[Sn]&=-73)}catch(c){throw a||Lb(i),c}finally{l!==null&&(hb(l,u),o&&Dde(l)),gR()}}function Uz(t,i){for(let e=YV(t);e!==null;e=$V(e))for(let r=Ml;r<e.length;r++){let n=e[r];Hz(n,i)}}function Nde(t){for(let i=YV(t);i!==null;i=$V(i)){if(!(i[Sn]&2))continue;let e=i[dy];for(let r=0;r<e.length;r++){let n=e[r];uR(n)}}}function Bde(t,i,e){let r=lf(i,t);Hz(r,e)}function Hz(t,i){cR(t)&&CP(t,i)}function CP(t,i){let r=t[Vn],n=t[Sn],a=t[Du],s=!!(i===0&&n&16);if(s||=!!(n&64&&i===0),s||=!!(n&1024),s||=!!(a?.dirty&&fb(a)),s||=!1,a&&(a.dirty=!1),t[Sn]&=-9217,s)Lde(r,t,r.template,t[sl]);else if(n&8192){Vz(t),Uz(t,1);let o=r.components;o!==null&&Gz(t,o,1)}}function Gz(t,i,e){for(let r=0;r<i.length;r++)Bde(t,i[r],e)}function Vde(t,i){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let n=e[r];if(n<0)lg(~n);else{let a=n,s=e[++r],o=e[++r];gce(s,a);let u=i[a];wd(24,u),o(2,u),wd(25,u)}}}finally{lg(-1)}}function zR(t,i){let e=gV()?64:1088;for(t[hp].changeDetectionScheduler?.notify(i);t;){t[Sn]|=e;let r=og(t);if(JC(t)&&!r)return t;t=r}return null}var dg=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let i=this._lView,e=i[Vn];return lS(e,i,e.firstChild,[])}constructor(i,e,r=!0){this._lView=i,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[sl]}get dirty(){return!!(this._lView[Sn]&9280)||!!this._lView[Du]?.dirty}set context(i){this._lView[sl]=i}get destroyed(){return Ob(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let i=this._lView[Il];if(gp(i)){let e=i[ZC],r=e?e.indexOf(this):-1;r>-1&&(Db(i,r),$C(e,r))}this._attachedToViewContainer=!1}GS(this._lView[Vn],this._lView)}onDestroy(i){dV(this._lView,i)}markForCheck(){zR(this._cdRefInjectingView||this._lView,4)}markForRefresh(){uR(this._cdRefInjectingView||this._lView)}detach(){this._lView[Sn]&=-129}reattach(){tP(this._lView),this._lView[Sn]|=128}detectChanges(){this._lView[Sn]|=1024,zz(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let i=JC(this._lView),e=this._lView[rg];e!==null&&!i&&BR(e,this._lView),Iz(this._lView[Vn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Xt(902,!1);this._appRef=i;let e=JC(this._lView),r=this._lView[rg];r!==null&&!e&&Dz(r,this._lView),tP(this._lView)}},sr=(()=>{class t{static __NG_ELEMENT_ID__=Hde}return t})(),zde=sr,Ude=class extends zde{_declarationLView;_declarationTContainer;elementRef;constructor(i,e,r){super(),this._declarationLView=i,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,e){return this.createEmbeddedViewImpl(i,e)}createEmbeddedViewImpl(i,e,r){let n=Ub(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:e,dehydratedView:r});return new dg(n)}};function Hde(){return XS(al(),on())}function XS(t,i){return t.type&4?new Ude(i,t,by(t,i)):null}function Gb(t,i,e,r,n){let a=t.data[i];if(a===null)a=Gde(t,i,e,r,n),mce()&&(a.flags|=32);else if(a.type&64){a.type=e,a.value=r,a.attrs=n;let s=hce();a.injectorIndex=s===null?-1:s.injectorIndex}return gg(a,!0),a}function Gde(t,i,e,r,n){let a=mV(),s=dR(),o=s?a:a&&a.parent,u=t.data[i]=Wde(t,o,e,i,r,n);return jde(t,u,a,s),u}function jde(t,i,e,r){t.firstChild===null&&(t.firstChild=i),e!==null&&(r?e.child==null&&i.parent!==null&&(e.child=i):e.next===null&&(e.next=i,i.prev=e))}function Wde(t,i,e,r,n,a){let s=i?i.injectorIndex:-1,o=0;return pV()&&(o|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:o,providerIndexes:0,value:n,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Nrt=new RegExp(`^(\\d+)*(${nue}|${iue})*(.*)`);var Xde=()=>null;function py(t,i){return Xde(t,i)}var SP=class{},cS=class{},TP=class{resolveComponentFactory(i){throw Error(`No component factory found for ${xc(i)}.`)}},my=class{static NULL=new TP},Dl=class{},Qn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Yde()}return t})();function Yde(){let t=on(),i=al(),e=lf(i.index,t);return(Am(e)?e:t)[Ws]}var $de=(()=>{class t{static \u0275prov=wt({token:t,providedIn:"root",factory:()=>null})}return t})();function EP(t,i,e){let r=e?t.styles:null,n=e?t.classes:null,a=0;if(i!==null)for(let s=0;s<i.length;s++){let o=i[s];if(typeof o=="number")a=o;else if(a==1)n=Y5(n,o);else if(a==2){let u=o,l=i[++s];r=Y5(r,u+": "+l+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=n:t.classesWithoutHost=n}function je(t,i=qn.Default){let e=on();if(e===null)return yi(t,i);let r=al();return RV(r,e,rl(t),i)}function jz(){let t="invalid";throw new Error(t)}function Wz(t,i,e,r){if(e===0)return-1;let n=i.length;for(let a=0;a<e;a++)i.push(r),t.blueprint.push(r),t.data.push(null);return n}function UR(t,i,e,r,n){let a=r===null?null:{"":-1},s=n(t,e);if(s!==null){let[o,u]=Kde(t,e,s);Jde(t,i,e,o,a,u)}a!==null&&r!==null&&Qde(e,r,a)}function Qde(t,i,e){let r=t.localNames=[];for(let n=0;n<i.length;n+=2){let a=e[i[n+1]];if(a==null)throw new Xt(-301,!1);r.push(i[n],a)}}function Kde(t,i,e){let r=[],n=null;for(let a of e)a.findHostDirectiveDefs!==null&&(n??=new Map,a.findHostDirectiveDefs(a,r,n)),af(a)&&(r.push(a),Zde(t,i,r.length-1));return mg(i)?r.push(...e.slice(1)):r.push(...e),[r,n]}function Zde(t,i,e){i.componentOffset=e,(t.components??=[]).push(i.index)}function Jde(t,i,e,r,n,a){for(let l=0;l<r.length;l++)aP(nS(e,i),t,r[l].type);she(e,t.data.length,r.length);for(let l=0;l<r.length;l++){let c=r[l];c.providersResolver&&c.providersResolver(c)}let s=!1,o=!1,u=Wz(t,i,r.length,null);for(let l=0;l<r.length;l++){let c=r[l];e.mergedAttrs=hy(e.mergedAttrs,c.hostAttrs),the(t,e,i,u,c),rhe(u,c,n),c.contentQueries!==null&&(e.flags|=4),(c.hostBindings!==null||c.hostAttrs!==null||c.hostVars!==0)&&(e.flags|=64);let h=c.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!o&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),o=!0),u++}qde(t,e,a)}function qde(t,i,e){let r=i.directiveStart,n=i.directiveEnd,a=t.data,s=i.attrs,o=[],u=null,l=null;for(let c=r;c<n;c++){let h=a[c],d=e?e.get(h):null,f=d?d.inputs:null,m=d?d.outputs:null;u=p7(0,h.inputs,c,u,f),l=p7(1,h.outputs,c,l,m);let p=u!==null&&s!==null&&!AR(i)?ehe(u,c,s):null;o.push(p)}u!==null&&(u.hasOwnProperty("class")&&(i.flags|=8),u.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=o,i.inputs=u,i.outputs=l}function p7(t,i,e,r,n){for(let a in i){if(!i.hasOwnProperty(a))continue;let s=i[a];if(s===void 0)continue;r??={};let o,u=Im.None;Array.isArray(s)?(o=s[0],u=s[1]):o=s;let l=a;if(n!==null){if(!n.hasOwnProperty(a))continue;l=n[a]}t===0?m7(r,e,l,o,u):m7(r,e,l,o)}return r}function m7(t,i,e,r,n){let a;t.hasOwnProperty(e)?(a=t[e]).push(i,r):a=t[e]=[i,r],n!==void 0&&a.push(n)}function ehe(t,i,e){let r=null,n=0;for(;n<e.length;){let a=e[n];if(a===0){n+=4;continue}else if(a===5){n+=2;continue}if(typeof a=="number")break;if(t.hasOwnProperty(a)){r===null&&(r=[]);let s=t[a];for(let o=0;o<s.length;o+=3)if(s[o]===i){r.push(a,s[o+1],s[o+2],e[n+1]);break}}n+=2}return r}function the(t,i,e,r,n){t.data[r]=n;let a=n.factory||(n.factory=ng(n.type,!0)),s=new cg(a,af(n),je);t.blueprint[r]=s,e[r]=s,ihe(t,i,r,Wz(t,e,n.hostVars,Pl),n)}function ihe(t,i,e,r,n){let a=n.hostBindings;if(a){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let o=~i.index;nhe(s)!=o&&s.push(o),s.push(e,r,a)}}function nhe(t){let i=t.length;for(;i>0;){let e=t[--i];if(typeof e=="number"&&e<0)return e}return 0}function rhe(t,i,e){if(e){if(i.exportAs)for(let r=0;r<i.exportAs.length;r++)e[i.exportAs[r]]=t;af(i)&&(e[""]=t)}}function she(t,i,e){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+e,t.providerIndexes=i}function Xz(t,i,e,r,n,a,s,o){let u=i.consts,l=Mm(u,s),c=Gb(i,t,2,r,l);return a&&UR(i,e,c,Mm(u,o),n),c.mergedAttrs=hy(c.mergedAttrs,c.attrs),c.attrs!==null&&EP(c,c.attrs,!1),c.mergedAttrs!==null&&EP(c,c.mergedAttrs,!0),i.queries!==null&&i.queries.elementStart(i,c),c}function Yz(t,i){vR(t,i),oR(i)&&t.queries.elementEnd(i)}var uS=class extends my{ngModule;constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){let e=dp(i);return new hg(e,this.ngModule)}};function g7(t,i){let e=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let n=t[r];if(n===void 0)continue;let a=Array.isArray(n),s=a?n[0]:n,o=a?n[1]:Im.None;i?e.push({propName:s,templateName:r,isSignal:(o&Im.SignalBased)!==0}):e.push({propName:s,templateName:r})}return e}function ahe(t,i,e){let r=i instanceof Ba?i:i?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new rP(e,r):e}function ohe(t){let i=t.get(Dl,null);if(i===null)throw new Xt(407,!1);let e=t.get($de,null),r=t.get(ug,null);return{rendererFactory:i,sanitizer:e,changeDetectionScheduler:r}}function lhe(t,i){let e=(t.selectors[0][0]||"div").toLowerCase();return yz(i,e,e==="svg"?lV:e==="math"?ece:null)}var hg=class extends cS{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let i=this.componentDef,e=i.inputTransforms,r=g7(i.inputs,!0);if(e!==null)for(let n of r)e.hasOwnProperty(n.propName)&&(n.transform=e[n.propName]);return r}get outputs(){return g7(this.componentDef.outputs,!1)}constructor(i,e){super(),this.componentDef=i,this.ngModule=e,this.componentType=i.type,this.selector=Gue(i.selectors),this.ngContentSelectors=i.ngContentSelectors??[],this.isBoundToModule=!!e}create(i,e,r,n){let a=tr(null);try{let s=this.componentDef,o=r?["ng-version","19.1.5"]:jue(this.componentDef.selectors[0]),u=PR(0,null,null,1,0,null,null,null,null,[o],null),l=ahe(s,n||this.ngModule,i),c=ohe(l),h=c.rendererFactory.createRenderer(null,s),d=r?que(h,r,s.encapsulation,l):lhe(s,h),f=MR(null,u,null,512|Tz(s),null,null,c,h,l,null,tz(d,l,!0));f[$a]=d,mR(f);let m=null;try{let p=Xz($a,u,f,"#host",()=>[this.componentDef],!0,0);d&&(bz(h,d,p),xg(d,f)),Sz(u,f,p),SR(u,p,f),Yz(u,p),e!==void 0&&che(p,this.ngContentSelectors,e),m=lf(p.index,f),f[sl]=m[sl],OR(u,f,null)}catch(p){throw m!==null&&uP(m),uP(f),p}finally{gR()}return new AP(this.componentType,f)}finally{tr(a)}}},AP=class extends SP{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(i,e){super(),this._rootLView=e,this._tNode=lR(e[Vn],$a),this.location=by(this._tNode,e),this.instance=lf(this._tNode.index,e)[sl],this.hostView=this.changeDetectorRef=new dg(e,void 0,!1),this.componentType=i}setInput(i,e){let r=this._tNode.inputs,n;if(r!==null&&(n=r[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),e))return;let a=this._rootLView;FR(a[Vn],a,n,i,e),this.previousInputValues.set(i,e);let s=lf(this._tNode.index,a);zR(s,1)}}get injector(){return new ig(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}};function che(t,i,e){let r=t.projection=[];for(let n=0;n<i.length;n++){let a=e[n];r.push(a!=null&&a.length?Array.from(a):null)}}var xr=(()=>{class t{static __NG_ELEMENT_ID__=uhe}return t})();function uhe(){let t=al();return Qz(t,on())}var dhe=xr,$z=class extends dhe{_lContainer;_hostTNode;_hostLView;constructor(i,e,r){super(),this._lContainer=i,this._hostTNode=e,this._hostLView=r}get element(){return by(this._hostTNode,this._hostLView)}get injector(){return new ig(this._hostTNode,this._hostLView)}get parentInjector(){let i=yR(this._hostTNode,this._hostLView);if(EV(i)){let e=tS(i,this._hostLView),r=eS(i),n=e[Vn].data[r+8];return new ig(n,e)}else return new ig(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){let e=v7(this._lContainer);return e!==null&&e[i]||null}get length(){return this._lContainer.length-Ml}createEmbeddedView(i,e,r){let n,a;typeof r=="number"?n=r:r!=null&&(n=r.index,a=r.injector);let s=py(this._lContainer,i.ssrId),o=i.createEmbeddedViewImpl(e||{},a,s);return this.insertImpl(o,n,fy(this._hostTNode,s)),o}createComponent(i,e,r,n,a){let s=i&&!Kle(i),o;if(s)o=e;else{let m=e||{};o=m.index,r=m.injector,n=m.projectableNodes,a=m.environmentInjector||m.ngModuleRef}let u=s?i:new hg(dp(i)),l=r||this.parentInjector;if(!a&&u.ngModule==null){let p=(s?l:this.parentInjector).get(Ba,null);p&&(a=p)}let c=dp(u.componentType??{}),h=py(this._lContainer,c?.id??null),d=h?.firstChild??null,f=u.create(l,n,d,a);return this.insertImpl(f.hostView,o,fy(this._hostTNode,h)),f}insert(i,e){return this.insertImpl(i,e,!0)}insertImpl(i,e,r){let n=i._lView;if(nce(n)){let o=this.indexOf(i);if(o!==-1)this.detach(o);else{let u=n[Il],l=new $z(u,u[Wc],u[Il]);l.detach(l.indexOf(i))}}let a=this._adjustIndex(e),s=this._lContainer;return Hb(s,n,a,r),i.attachToViewContainerRef(),X7(z5(s),a,i),i}move(i,e){return this.insert(i,e)}indexOf(i){let e=v7(this._lContainer);return e!==null?e.indexOf(i):-1}remove(i){let e=this._adjustIndex(i,-1),r=Db(this._lContainer,e);r&&($C(z5(this._lContainer),e),GS(r[Vn],r))}detach(i){let e=this._adjustIndex(i,-1),r=Db(this._lContainer,e);return r&&$C(z5(this._lContainer),e)!=null?new dg(r):null}_adjustIndex(i,e=0){return i??this.length+e}};function v7(t){return t[ZC]}function z5(t){return t[ZC]||(t[ZC]=[])}function Qz(t,i){let e,r=i[t.index];return gp(r)?e=r:(e=Ez(r,i,null,t),i[t.index]=e,kR(i,e)),fhe(e,i,t,r),new $z(e,t,i)}function hhe(t,i){let e=t[Ws],r=e.createComment(""),n=ph(i,t),a=e.parentNode(n);return oS(e,a,r,e.nextSibling(n),!1),r}var fhe=ghe,phe=()=>!1;function mhe(t,i,e){return phe(t,i,e)}function ghe(t,i,e,r){if(t[ag])return;let n;e.type&8?n=of(r):n=hhe(i,e),t[ag]=n}var MP=class t{queryList;matches=null;constructor(i){this.queryList=i}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},IP=class t{queries;constructor(i=[]){this.queries=i}createEmbeddedView(i){let e=i.queries;if(e!==null){let r=i.contentQueries!==null?i.contentQueries[0]:e.length,n=[];for(let a=0;a<r;a++){let s=e.getByIndex(a),o=this.queries[s.indexInDeclarationView];n.push(o.clone())}return new t(n)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let e=0;e<this.queries.length;e++)GR(i,e).matches!==null&&this.queries[e].setDirty()}},dS=class{flags;read;predicate;constructor(i,e,r=null){this.flags=e,this.read=r,typeof i=="string"?this.predicate=whe(i):this.predicate=i}},DP=class t{queries;constructor(i=[]){this.queries=i}elementStart(i,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(i,e)}elementEnd(i){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(i)}embeddedTView(i){let e=null;for(let r=0;r<this.length;r++){let n=e!==null?e.length:0,a=this.getByIndex(r).embeddedTView(i,n);a&&(a.indexInDeclarationView=r,e!==null?e.push(a):e=[a])}return e!==null?new t(e):null}template(i,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(i,e)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}},PP=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(i,e=-1){this.metadata=i,this._declarationNodeIndex=e}elementStart(i,e){this.isApplyingToNode(e)&&this.matchTNode(i,e)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,e){this.elementStart(i,e)}embeddedTView(i,e){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,e),new t(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=i.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(i,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let n=0;n<r.length;n++){let a=r[n];this.matchTNodeWithReadOption(i,e,vhe(e,a)),this.matchTNodeWithReadOption(i,e,jC(e,i,a,!1,!1))}else r===sr?e.type&4&&this.matchTNodeWithReadOption(i,e,-1):this.matchTNodeWithReadOption(i,e,jC(e,i,r,!1,!1))}matchTNodeWithReadOption(i,e,r){if(r!==null){let n=this.metadata.read;if(n!==null)if(n===Pt||n===xr||n===sr&&e.type&4)this.addMatch(e.index,-2);else{let a=jC(e,i,n,!1,!1);a!==null&&this.addMatch(e.index,a)}else this.addMatch(e.index,r)}}addMatch(i,e){this.matches===null?this.matches=[i,e]:this.matches.push(i,e)}};function vhe(t,i){let e=t.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===i)return e[r+1]}return null}function yhe(t,i){return t.type&11?by(t,i):t.type&4?XS(t,i):null}function xhe(t,i,e,r){return e===-1?yhe(i,t):e===-2?bhe(t,i,r):Mb(t,t[Vn],e,i)}function bhe(t,i,e){if(e===Pt)return by(i,t);if(e===sr)return XS(i,t);if(e===xr)return Qz(i,t)}function Kz(t,i,e,r){let n=i[fp].queries[r];if(n.matches===null){let a=t.data,s=e.matches,o=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)o.push(null);else{let c=a[l];o.push(xhe(i,c,s[u+1],e.metadata.read))}}n.matches=o}return n.matches}function RP(t,i,e,r){let n=t.queries.getByIndex(e),a=n.matches;if(a!==null){let s=Kz(t,i,n,e);for(let o=0;o<a.length;o+=2){let u=a[o];if(u>0)r.push(s[o/2]);else{let l=a[o+1],c=i[-u];for(let h=Ml;h<c.length;h++){let d=c[h];d[rg]===d[Il]&&RP(d[Vn],d,l,r)}if(c[dy]!==null){let h=c[dy];for(let d=0;d<h.length;d++){let f=h[d];RP(f[Vn],f,l,r)}}}}}return r}function HR(t,i){return t[fp].queries[i].queryList}function Zz(t,i,e){let r=new bc((e&4)===4);return ace(t,i,r,r.destroy),(i[fp]??=new IP).queries.push(new MP(r))-1}function _he(t,i,e){let r=Ns();return r.firstCreatePass&&(qz(r,new dS(t,i,e),-1),(i&2)===2&&(r.staticViewQueries=!0)),Zz(r,on(),i)}function Jz(t,i,e,r){let n=Ns();if(n.firstCreatePass){let a=al();qz(n,new dS(i,e,r),a.index),Che(n,t),(e&2)===2&&(n.staticContentQueries=!0)}return Zz(n,on(),e)}function whe(t){return t.split(",").map(i=>i.trim())}function qz(t,i,e){t.queries===null&&(t.queries=new DP),t.queries.track(new PP(i,e))}function Che(t,i){let e=t.contentQueries||(t.contentQueries=[]),r=e.length?e[e.length-1]:-1;i!==r&&e.push(t.queries.length-1,i)}function GR(t,i){return t.queries.getByIndex(i)}function eU(t,i){let e=t[Vn],r=GR(e,i);return r.crossesNgTemplate?RP(e,t,i,[]):Kz(e,t,r,i)}function tU(t,i,e){let r,n=g5(()=>{r._dirtyCounter();let a=Ahe(r,t);if(i&&a===void 0)throw new Xt(-951,!1);return a});return r=n[Al],r._dirtyCounter=Xc(0),r._flatValue=void 0,n}function She(t){return tU(!0,!1,t)}function The(t){return tU(!0,!0,t)}function Ehe(t,i){let e=t[Al];e._lView=on(),e._queryIndex=i,e._queryList=HR(e._lView,i),e._queryList.onDirty(()=>e._dirtyCounter.update(r=>r+1))}function Ahe(t,i){let e=t._lView,r=t._queryIndex;if(e===void 0||r===void 0||e[Sn]&4)return i?void 0:yc;let n=HR(e,r),a=eU(e,r);return n.reset(a,HV),i?n.first:n._changesDetected||t._flatValue===void 0?t._flatValue=n.toArray():t._flatValue}function y7(t,i){return She(i)}function Mhe(t,i){return The(i)}var iU=(y7.required=Mhe,y7);function Ihe(t){let i=[],e=new Map;function r(n){let a=e.get(n);if(!a){let s=t(n);e.set(n,a=s.then(khe))}return a}return hS.forEach((n,a)=>{let s=[];n.templateUrl&&s.push(r(n.templateUrl).then(l=>{n.template=l}));let o=typeof n.styles=="string"?[n.styles]:n.styles||[];if(n.styles=o,n.styleUrl&&n.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(n.styleUrls?.length){let l=n.styles.length,c=n.styleUrls;n.styleUrls.forEach((h,d)=>{o.push(""),s.push(r(h).then(f=>{o[l+d]=f,c.splice(c.indexOf(h),1),c.length==0&&(n.styleUrls=void 0)}))})}else n.styleUrl&&s.push(r(n.styleUrl).then(l=>{o.push(l),n.styleUrl=void 0}));let u=Promise.all(s).then(()=>Fhe(a));i.push(u)}),Phe(),Promise.all(i).then(()=>{})}var hS=new Map,Dhe=new Set;function Phe(){let t=hS;return hS=new Map,t}function Rhe(){return hS.size===0}function khe(t){return typeof t=="string"?t:t.text()}function Fhe(t){Dhe.delete(t)}var fh=class{},Pb=class{};var fS=class extends fh{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new uS(this);constructor(i,e,r,n=!0){super(),this.ngModuleType=i,this._parent=e;let a=Q7(i);this._bootstrapComponents=mz(a.bootstrap),this._r3Injector=OV(i,e,[{provide:fh,useValue:this},{provide:my,useValue:this.componentFactoryResolver},...r],xc(i),new Set(["environment"])),n&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}},pS=class extends Pb{moduleType;constructor(i){super(),this.moduleType=i}create(i){return new fS(this.moduleType,i,[])}};function Ohe(t,i,e){return new fS(t,i,e,!1)}var kP=class extends fh{injector;componentFactoryResolver=new uS(this);instance=null;constructor(i){super();let e=new Tb([...i.providers,{provide:fh,useValue:this},{provide:my,useValue:this.componentFactoryResolver}],i.parent||IS(),i.debugName,new Set(["environment"]));this.injector=e,i.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}};function YS(t,i,e=null){return new kP({providers:t,parent:i,debugName:e,runEnvironmentInitializers:!0}).injector}var Lhe=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=J7(!1,e.type),n=r.length>0?YS([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,n)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=wt({token:t,providedIn:"environment",factory:()=>new t(yi(Ba))})}return t})();function Ke(t){return kb(()=>{let i=nU(t),e=Ri(ht({},i),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===WV.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:i.standalone?n=>n.get(Lhe).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||cf.Emulated,styles:t.styles||yc,_:null,schemas:t.schemas||null,tView:null,id:""});i.standalone&&Cd("NgStandalone"),rU(e);let r=t.dependencies;return e.directiveDefs=b7(r,!1),e.pipeDefs=b7(r,!0),e.id=Vhe(e),e})}function Nhe(t){return dp(t)||rR(t)}function Bhe(t){return t!==null}function jt(t){return kb(()=>({type:t.type,bootstrap:t.bootstrap||yc,declarations:t.declarations||yc,imports:t.imports||yc,exports:t.exports||yc,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function x7(t,i){if(t==null)return up;let e={};for(let r in t)if(t.hasOwnProperty(r)){let n=t[r],a,s,o=Im.None;Array.isArray(n)?(o=n[0],a=n[1],s=n[2]??a):(a=n,s=n),i?(e[a]=o!==Im.None?[r,o]:r,i[a]=s):e[a]=r}return e}function _t(t){return kb(()=>{let i=nU(t);return rU(i),i})}function Td(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function nU(t){let i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||up,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||yc,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:x7(t.inputs,i),outputs:x7(t.outputs),debugInfo:null}}function rU(t){t.features?.forEach(i=>i(t))}function b7(t,i){if(!t)return null;let e=i?K7:Nhe;return()=>(typeof t=="function"?t():t).map(r=>e(r)).filter(Bhe)}function Vhe(t){let i=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let a of r.join("|"))i=Math.imul(31,i)+a.charCodeAt(0)<<0;return i+=2147483648,"c"+i}function zhe(t){return Object.getPrototypeOf(t.prototype).constructor}function Ai(t){let i=zhe(t.type),e=!0,r=[t];for(;i;){let n;if(af(t))n=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Xt(903,!1);n=i.\u0275dir}if(n){if(e){r.push(n);let s=t;s.inputs=NC(t.inputs),s.inputTransforms=NC(t.inputTransforms),s.declaredInputs=NC(t.declaredInputs),s.outputs=NC(t.outputs);let o=n.hostBindings;o&&Whe(t,o);let u=n.viewQuery,l=n.contentQueries;if(u&&Ghe(t,u),l&&jhe(t,l),Uhe(t,n),ple(t.outputs,n.outputs),af(n)&&n.data.animation){let c=t.data;c.animation=(c.animation||[]).concat(n.data.animation)}}let a=n.features;if(a)for(let s=0;s<a.length;s++){let o=a[s];o&&o.ngInherit&&o(t),o===Ai&&(e=!1)}}i=Object.getPrototypeOf(i)}Hhe(r)}function Uhe(t,i){for(let e in i.inputs){if(!i.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=i.inputs[e];if(r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=i.declaredInputs[e],i.inputTransforms!==null)){let n=Array.isArray(r)?r[0]:r;if(!i.inputTransforms.hasOwnProperty(n))continue;t.inputTransforms??={},t.inputTransforms[n]=i.inputTransforms[n]}}}function Hhe(t){let i=0,e=null;for(let r=t.length-1;r>=0;r--){let n=t[r];n.hostVars=i+=n.hostVars,n.hostAttrs=hy(n.hostAttrs,e=hy(e,n.hostAttrs))}}function NC(t){return t===up?{}:t===yc?[]:t}function Ghe(t,i){let e=t.viewQuery;e?t.viewQuery=(r,n)=>{i(r,n),e(r,n)}:t.viewQuery=i}function jhe(t,i){let e=t.contentQueries;e?t.contentQueries=(r,n,a)=>{i(r,n,a),e(r,n,a)}:t.contentQueries=i}function Whe(t,i){let e=t.hostBindings;e?t.hostBindings=(r,n)=>{i(r,n),e(r,n)}:t.hostBindings=i}function sU(t){let i=e=>{let r=Array.isArray(t);e.hostDirectives===null?(e.findHostDirectiveDefs=aU,e.hostDirectives=r?t.map(FP):[t]):r?e.hostDirectives.unshift(...t.map(FP)):e.hostDirectives.unshift(t)};return i.ngInherit=!0,i}function aU(t,i,e){if(t.hostDirectives!==null)for(let r of t.hostDirectives)if(typeof r=="function"){let n=r();for(let a of n)_7(FP(a),i,e)}else _7(r,i,e)}function _7(t,i,e){let r=rR(t.directive);Xhe(r.declaredInputs,t.inputs),aU(r,i,e),e.set(r,t),i.push(r)}function FP(t){return typeof t=="function"?{directive:rl(t),inputs:up,outputs:up}:{directive:rl(t.directive),inputs:w7(t.inputs),outputs:w7(t.outputs)}}function w7(t){if(t===void 0||t.length===0)return up;let i={};for(let e=0;e<t.length;e+=2)i[t[e]]=t[e+1];return i}function Xhe(t,i){for(let e in i)if(i.hasOwnProperty(e)){let r=i[e],n=t[e];t[r]=n}}function Mi(t){let i=t.inputConfig,e={};for(let r in i)if(i.hasOwnProperty(r)){let n=i[r];Array.isArray(n)&&n[3]&&(e[r]=n[3])}t.inputTransforms=e}function oU(t){return jR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Yhe(t,i){if(Array.isArray(t))for(let e=0;e<t.length;e++)i(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)i(r.value)}}function jR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function $S(t,i,e){return t[i]=e}function $he(t,i){return t[i]}function Gc(t,i,e){let r=t[i];return Object.is(r,e)?!1:(t[i]=e,!0)}function WR(t,i,e,r){let n=Gc(t,i,e);return Gc(t,i+1,r)||n}function lU(t,i,e,r,n){let a=WR(t,i,e,r);return Gc(t,i+2,n)||a}function Qhe(t,i,e,r,n,a,s,o,u){let l=i.consts,c=Gb(i,t,4,s||null,o||null);OS()&&UR(i,e,c,Mm(l,u),RR),c.mergedAttrs=hy(c.mergedAttrs,c.attrs),vR(i,c);let h=c.tView=PR(2,c,r,n,a,i.directiveRegistry,i.pipeRegistry,null,i.schemas,l,null);return i.queries!==null&&(i.queries.template(i,c),h.queries=i.queries.embeddedTView(c)),c}function mS(t,i,e,r,n,a,s,o,u,l){let c=e+$a,h=i.firstCreatePass?Qhe(c,i,t,r,n,a,s,o,u):i.data[c];gg(h,!1);let d=Khe(i,t,h,e);BS()&&jS(i,t,d,h),xg(d,t);let f=Ez(d,t,d,h);return t[c]=f,kR(t,f),mhe(f,h,t),RS(h)&&IR(i,t,h),u!=null&&DR(t,h,l),h}function Te(t,i,e,r,n,a,s,o){let u=on(),l=Ns(),c=Mm(l.consts,a);return mS(u,l,t,i,e,r,n,c,s,o),Te}var Khe=Zhe;function Zhe(t,i,e,r){return VS(!0),i[Ws].createComment("")}var XR=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var YR=new tt(""),jb=new tt(""),QS=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(e,r,n){this._ngZone=e,this.registry=r,$R||(Jhe(n),n.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ri.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(e)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,n){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==a),e()},r)),this._callbacks.push({doneCb:e,timeoutId:a,updateCb:n})}whenStable(e,r,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,n),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,n){return[]}static \u0275fac=function(r){return new(r||t)(yi(ri),yi(KS),yi(jb))};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})(),KS=(()=>{class t{_applications=new Map;registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return $R?.findTestabilityInTree(this,e,r)??null}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Jhe(t){$R=t}var $R;function km(t){return!!t&&typeof t.then=="function"}function QR(t){return!!t&&typeof t.subscribe=="function"}var ZS=new tt("");var cU=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=le(ZS,{optional:!0})??[];injector=le(Wi);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let n of this.appInits){let a=jc(this.injector,n);if(km(a))e.push(a);else if(QR(a)){let s=new Promise((o,u)=>{a.subscribe({complete:o,error:u})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(n=>{this.reject(n)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uU=(()=>{class t{static \u0275prov=wt({token:t,providedIn:"root",factory:()=>new gS})}return t})(),gS=class{queuedEffectCount=0;queues=new Map;schedule(i){this.enqueue(i)}remove(i){let e=i.zone,r=this.queues.get(e);r.has(i)&&(r.delete(i),this.queuedEffectCount--)}enqueue(i){let e=i.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(i)||(this.queuedEffectCount++,r.add(i))}flush(){for(;this.queuedEffectCount>0;)for(let[i,e]of this.queues)i===null?this.flushQueue(e):i.run(()=>this.flushQueue(e))}flushQueue(i){for(let e of i)i.delete(e),this.queuedEffectCount--,e.run()}},JS=new tt("");function qhe(){c9(()=>{throw new Xt(600,!1)})}function efe(t){return t.isBoundToModule}var tfe=10;function dU(t,i){return Array.isArray(i)?i.reduce(dU,t):ht(ht({},t),i)}var _c=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=le(Yce);afterRenderManager=le(qV);zonelessEnabled=le(xR);rootEffectScheduler=le(uU);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new mt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=le(ff).hasPendingTasks.pipe(si(e=>!e));constructor(){le(wy,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:n=>{n&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=le(Ba);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){let n=e instanceof cS;if(!this._injector.get(cU).done){let d=!n&&Z7(e),f=!1;throw new Xt(405,f)}let s;n?s=e:s=this._injector.get(my).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let o=efe(s)?void 0:this._injector.get(fh),u=r||s.selector,l=s.create(Wi.NULL,[],u,o),c=l.location.nativeElement,h=l.injector.get(YR,null);return h?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),WC(this.components,l),h?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(CR.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new Xt(101,!1);let e=tr(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,tr(e),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Dl,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;this.dirtyFlags!==0&&e++<tfe;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:n}of this.allViews)ife(r,n,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>FS(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;WC(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(JS,[]).forEach(n=>n(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>WC(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Xt(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function WC(t,i){let e=t.indexOf(i);e>-1&&t.splice(e,1)}function ife(t,i,e,r){if(!e&&!FS(t))return;zz(t,i,e&&!r?0:1)}function ti(t,i,e,r){let n=on(),a=Pm();if(Gc(n,a,i)){let s=Ns(),o=xy();lde(o,n,t,i,e,r)}return ti}function KR(t,i,e,r){return Gc(t,Pm(),e)?i+sf(e)+r:Pl}function nfe(t,i,e,r,n,a){let s=vV(),o=WR(t,s,e,n);return LS(2),o?i+sf(e)+r+sf(n)+a:Pl}function rfe(t,i,e,r,n,a,s,o){let u=vV(),l=lU(t,u,e,n,s);return LS(3),l?i+sf(e)+r+sf(n)+a+sf(s)+o:Pl}function BC(t,i){return t<<17|i<<2}function fg(t){return t>>17&32767}function sfe(t){return(t&2)==2}function afe(t,i){return t&131071|i<<17}function OP(t){return t|2}function gy(t){return(t&131068)>>2}function U5(t,i){return t&-131069|i<<2}function ofe(t){return(t&1)===1}function LP(t){return t|1}function lfe(t,i,e,r,n,a){let s=a?i.classBindings:i.styleBindings,o=fg(s),u=gy(s);t[r]=e;let l=!1,c;if(Array.isArray(e)){let h=e;c=h[1],(c===null||Fb(h,c)>0)&&(l=!0)}else c=e;if(n)if(u!==0){let d=fg(t[o+1]);t[r+1]=BC(d,o),d!==0&&(t[d+1]=U5(t[d+1],r)),t[o+1]=afe(t[o+1],r)}else t[r+1]=BC(o,0),o!==0&&(t[o+1]=U5(t[o+1],r)),o=r;else t[r+1]=BC(u,0),o===0?o=r:t[u+1]=U5(t[u+1],r),u=r;l&&(t[r+1]=OP(t[r+1])),C7(t,c,r,!0),C7(t,c,r,!1),cfe(i,c,t,r,a),s=BC(o,u),a?i.classBindings=s:i.styleBindings=s}function cfe(t,i,e,r,n){let a=n?t.residualClasses:t.residualStyles;a!=null&&typeof i=="string"&&Fb(a,i)>=0&&(e[r+1]=LP(e[r+1]))}function C7(t,i,e,r){let n=t[e+1],a=i===null,s=r?fg(n):gy(n),o=!1;for(;s!==0&&(o===!1||a);){let u=t[s],l=t[s+1];ufe(u,i)&&(o=!0,t[s+1]=r?LP(l):OP(l)),s=r?fg(l):gy(l)}o&&(t[e+1]=r?OP(n):LP(n))}function ufe(t,i){return t===null||i==null||(Array.isArray(t)?t[1]:t)===i?!0:Array.isArray(t)&&typeof i=="string"?Fb(t,i)>=0:!1}var dh={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dfe(t){return t.substring(dh.key,dh.keyEnd)}function hfe(t){return ffe(t),hU(t,fU(t,0,dh.textEnd))}function hU(t,i){let e=dh.textEnd;return e===i?-1:(i=dh.keyEnd=pfe(t,dh.key=i,e),fU(t,i,e))}function ffe(t){dh.key=0,dh.keyEnd=0,dh.value=0,dh.valueEnd=0,dh.textEnd=t.length}function fU(t,i,e){for(;i<e&&t.charCodeAt(i)<=32;)i++;return i}function pfe(t,i,e){for(;i<e&&t.charCodeAt(i)>32;)i++;return i}function oe(t,i,e){let r=on(),n=Pm();if(Gc(r,n,i)){let a=Ns(),s=xy();zb(a,s,r,t,i,r[Ws],e,!1)}return oe}function NP(t,i,e,r,n){let a=i.inputs,s=n?"class":"style";FR(t,e,a[s],s,r)}function Fr(t,i,e){return mU(t,i,e,!1),Fr}function Ut(t,i){return mU(t,i,null,!0),Ut}function cs(t){gU(bfe,pU,t,!0)}function pU(t,i){for(let e=hfe(i);e>=0;e=hU(i,e))ES(t,dfe(i),!0)}function mU(t,i,e,r){let n=on(),a=Ns(),s=LS(2);if(a.firstUpdatePass&&yU(a,t,s,r),i!==Pl&&Gc(n,s,i)){let o=a.data[hf()];xU(a,o,n,n[Ws],t,n[s+1]=wfe(i,e),r,s)}}function gU(t,i,e,r){let n=Ns(),a=LS(2);n.firstUpdatePass&&yU(n,null,a,r);let s=on();if(e!==Pl&&Gc(s,a,e)){let o=n.data[hf()];if(bU(o,r)&&!vU(n,a)){let u=r?o.classesWithoutHost:o.stylesWithoutHost;u!==null&&(e=Y5(u,e||"")),NP(n,o,s,e,r)}else _fe(n,o,s,s[Ws],s[a+1],s[a+1]=xfe(t,i,e),r,a)}}function vU(t,i){return i>=t.expandoStartIndex}function yU(t,i,e,r){let n=t.data;if(n[e+1]===null){let a=n[hf()],s=vU(t,e);bU(a,r)&&i===null&&!s&&(i=!1),i=mfe(n,a,i,r),lfe(n,a,i,e,s,r)}}function mfe(t,i,e,r){let n=fR(t),a=r?i.residualClasses:i.residualStyles;if(n===null)(r?i.classBindings:i.styleBindings)===0&&(e=H5(null,t,i,e,r),e=Rb(e,i.attrs,r),a=null);else{let s=i.directiveStylingLast;if(s===-1||t[s]!==n)if(e=H5(n,t,i,e,r),a===null){let u=gfe(t,i,r);u!==void 0&&Array.isArray(u)&&(u=H5(null,t,i,u[1],r),u=Rb(u,i.attrs,r),vfe(t,i,r,u))}else a=yfe(t,i,r)}return a!==void 0&&(r?i.residualClasses=a:i.residualStyles=a),e}function gfe(t,i,e){let r=e?i.classBindings:i.styleBindings;if(gy(r)!==0)return t[fg(r)]}function vfe(t,i,e,r){let n=e?i.classBindings:i.styleBindings;t[fg(n)]=r}function yfe(t,i,e){let r,n=i.directiveEnd;for(let a=1+i.directiveStylingLast;a<n;a++){let s=t[a].hostAttrs;r=Rb(r,s,e)}return Rb(r,i.attrs,e)}function H5(t,i,e,r,n){let a=null,s=e.directiveEnd,o=e.directiveStylingLast;for(o===-1?o=e.directiveStart:o++;o<s&&(a=i[o],r=Rb(r,a.hostAttrs,n),a!==t);)o++;return t!==null&&(e.directiveStylingLast=o),r}function Rb(t,i,e){let r=e?1:2,n=-1;if(i!==null)for(let a=0;a<i.length;a++){let s=i[a];typeof s=="number"?n=s:n===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ES(t,s,e?!0:i[++a]))}return t===void 0?null:t}function xfe(t,i,e){if(e==null||e==="")return yc;let r=[],n=Sd(e);if(Array.isArray(n))for(let a=0;a<n.length;a++)t(r,n[a],!0);else if(typeof n=="object")for(let a in n)n.hasOwnProperty(a)&&t(r,a,n[a]);else typeof n=="string"&&i(r,n);return r}function bfe(t,i,e){let r=String(i);r!==""&&!r.includes(" ")&&ES(t,r,e)}function _fe(t,i,e,r,n,a,s,o){n===Pl&&(n=yc);let u=0,l=0,c=0<n.length?n[0]:null,h=0<a.length?a[0]:null;for(;c!==null||h!==null;){let d=u<n.length?n[u+1]:void 0,f=l<a.length?a[l+1]:void 0,m=null,p;c===h?(u+=2,l+=2,d!==f&&(m=h,p=f)):h===null||c!==null&&c<h?(u+=2,m=c):(l+=2,m=h,p=f),m!==null&&xU(t,i,e,r,m,p,s,o),c=u<n.length?n[u]:null,h=l<a.length?a[l]:null}}function xU(t,i,e,r,n,a,s,o){if(!(i.type&3))return;let u=t.data,l=u[o+1],c=ofe(l)?S7(u,i,e,n,gy(l),s):void 0;if(!vS(c)){vS(a)||sfe(l)&&(a=S7(u,null,e,n,o,s));let h=cV(hf(),e);Ede(r,s,h,n,a)}}function S7(t,i,e,r,n,a){let s=i===null,o;for(;n>0;){let u=t[n],l=Array.isArray(u),c=l?u[1]:u,h=c===null,d=e[n+1];d===Pl&&(d=h?yc:void 0);let f=h?F5(d,r):c===r?d:void 0;if(l&&!vS(f)&&(f=F5(u,r)),vS(f)&&(o=f,s))return o;let m=t[n+1];n=s?fg(m):gy(m)}if(i!==null){let u=a?i.residualClasses:i.residualStyles;u!=null&&(o=F5(u,r))}return o}function vS(t){return t!==void 0}function wfe(t,i){return t==null||t===""||(typeof i=="string"?t=t+i:typeof t=="object"&&(t=xc(Sd(t)))),t}function bU(t,i){return(t.flags&(i?8:16))!==0}function _U(t,i,e){let r=on(),n=KR(r,t,i,e);gU(ES,pU,n,!0)}var BP=class{destroy(i){}updateValue(i,e){}swap(i,e){let r=Math.min(i,e),n=Math.max(i,e),a=this.detach(n);if(n-r>1){let s=this.detach(r);this.attach(r,a),this.attach(n,s)}else this.attach(r,a)}move(i,e){this.attach(e,this.detach(i))}};function G5(t,i,e,r,n){return t===e&&Object.is(i,r)?1:Object.is(n(t,i),n(e,r))?-1:0}function Cfe(t,i,e){let r,n,a=0,s=t.length-1,o=void 0;if(Array.isArray(i)){let u=i.length-1;for(;a<=s&&a<=u;){let l=t.at(a),c=i[a],h=G5(a,l,a,c,e);if(h!==0){h<0&&t.updateValue(a,c),a++;continue}let d=t.at(s),f=i[u],m=G5(s,d,u,f,e);if(m!==0){m<0&&t.updateValue(s,f),s--,u--;continue}let p=e(a,l),g=e(s,d),v=e(a,c);if(Object.is(v,g)){let y=e(u,f);Object.is(y,p)?(t.swap(a,s),t.updateValue(s,f),u--,s--):t.move(s,a),t.updateValue(a,c),a++;continue}if(r??=new yS,n??=E7(t,a,s,e),VP(t,r,a,v))t.updateValue(a,c),a++,s++;else if(n.has(v))r.set(p,t.detach(a)),s--;else{let y=t.create(a,i[a]);t.attach(a,y),a++,s++}}for(;a<=u;)T7(t,r,e,a,i[a]),a++}else if(i!=null){let u=i[Symbol.iterator](),l=u.next();for(;!l.done&&a<=s;){let c=t.at(a),h=l.value,d=G5(a,c,a,h,e);if(d!==0)d<0&&t.updateValue(a,h),a++,l=u.next();else{r??=new yS,n??=E7(t,a,s,e);let f=e(a,h);if(VP(t,r,a,f))t.updateValue(a,h),a++,s++,l=u.next();else if(!n.has(f))t.attach(a,t.create(a,h)),a++,s++,l=u.next();else{let m=e(a,c);r.set(m,t.detach(a)),s--}}}for(;!l.done;)T7(t,r,e,t.length,l.value),l=u.next()}for(;a<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function VP(t,i,e,r){return i!==void 0&&i.has(r)?(t.attach(e,i.get(r)),i.delete(r),!0):!1}function T7(t,i,e,r,n){if(VP(t,i,r,e(r,n)))t.updateValue(r,n);else{let a=t.create(r,n);t.attach(r,a)}}function E7(t,i,e,r){let n=new Set;for(let a=i;a<=e;a++)n.add(r(a,t.at(a)));return n}var yS=class{kvMap=new Map;_vMap=void 0;has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;let e=this.kvMap.get(i);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(i,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,e){if(this.kvMap.has(i)){let r=this.kvMap.get(i);this._vMap===void 0&&(this._vMap=new Map);let n=this._vMap;for(;n.has(r);)r=n.get(r);n.set(r,e)}else this.kvMap.set(i,e)}forEach(i){for(let[e,r]of this.kvMap)if(i(r,e),this._vMap!==void 0){let n=this._vMap;for(;n.has(r);)r=n.get(r),i(r,e)}}};function Zi(t,i){Cd("NgControlFlow");let e=on(),r=Pm(),n=e[r]!==Pl?e[r]:-1,a=n!==-1?xS(e,$a+n):void 0,s=0;if(Gc(e,r,t)){let o=tr(null);try{if(a!==void 0&&Lz(a,s),t!==-1){let u=$a+t,l=xS(e,u),c=GP(e[Vn],u),h=py(l,c.tView.ssrId),d=Ub(e,c,i,{dehydratedView:h});Hb(l,d,s,fy(c,h))}}finally{tr(o)}}else if(a!==void 0){let o=Oz(a,s);o!==void 0&&(o[sl]=i)}}var zP=class{lContainer;$implicit;$index;constructor(i,e,r){this.lContainer=i,this.$implicit=e,this.$index=r}get $count(){return this.lContainer.length-Ml}};function Wb(t,i){return i}var UP=class{hasEmptyBlock;trackByFn;liveCollection;constructor(i,e,r){this.hasEmptyBlock=i,this.trackByFn=e,this.liveCollection=r}};function Cy(t,i,e,r,n,a,s,o,u,l,c,h,d){Cd("NgControlFlow");let f=on(),m=Ns(),p=u!==void 0,g=on(),v=o?s.bind(g[Pu][sl]):s,y=new UP(p,v);g[$a+t]=y,mS(f,m,t+1,i,e,r,n,Mm(m.consts,a)),p&&mS(f,m,t+2,u,l,c,h,Mm(m.consts,d))}var HP=class extends BP{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(i,e,r){super(),this.lContainer=i,this.hostLView=e,this.templateTNode=r}get length(){return this.lContainer.length-Ml}at(i){return this.getLView(i)[sl].$implicit}attach(i,e){let r=e[uy];this.needsIndexUpdate||=i!==this.length,Hb(this.lContainer,e,i,fy(this.templateTNode,r))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,Sfe(this.lContainer,i)}create(i,e){let r=py(this.lContainer,this.templateTNode.tView.ssrId),n=Ub(this.hostLView,this.templateTNode,new zP(this.lContainer,e,i),{dehydratedView:r});return this.operationsCounter?.recordCreate(),n}destroy(i){GS(i[Vn],i),this.operationsCounter?.recordDestroy()}updateValue(i,e){this.getLView(i)[sl].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[sl].$index=i}getLView(i){return Tfe(this.lContainer,i)}};function Sy(t){let i=tr(null),e=hf();try{let r=on(),n=r[Vn],a=r[e],s=e+1,o=xS(r,s);if(a.liveCollection===void 0){let l=GP(n,s);a.liveCollection=new HP(o,r,l)}else a.liveCollection.reset();let u=a.liveCollection;if(Cfe(u,t,a.trackByFn),u.updateIndexes(),a.hasEmptyBlock){let l=Pm(),c=u.length===0;if(Gc(r,l,c)){let h=e+2,d=xS(r,h);if(c){let f=GP(n,h),m=py(d,f.tView.ssrId),p=Ub(r,f,void 0,{dehydratedView:m});Hb(d,p,0,fy(f,m))}else Lz(d,0)}}}finally{tr(i)}}function xS(t,i){return t[i]}function Sfe(t,i){return Db(t,i)}function Tfe(t,i){return Oz(t,i)}function GP(t,i){return lR(t,i)}function B(t,i,e,r){let n=on(),a=Ns(),s=$a+t,o=n[Ws],u=a.firstCreatePass?Xz(s,a,n,i,RR,OS(),e,r):a.data[s],l=Efe(a,n,u,o,i,t);n[s]=l;let c=RS(u);return gg(u,!0),bz(o,l,u),!NR(u)&&BS()&&jS(a,n,l,u),oce()===0&&xg(l,n),lce(),c&&(IR(a,n,u),SR(a,u,n)),r!==null&&DR(n,u),B}function U(){let t=al();dR()?hR():(t=t.parent,gg(t,!1));let i=t;uce(i)&&dce(),cce();let e=Ns();return e.firstCreatePass&&Yz(e,i),i.classesWithoutHost!=null&&Tce(i)&&NP(e,i,on(),i.classesWithoutHost,!0),i.stylesWithoutHost!=null&&Ece(i)&&NP(e,i,on(),i.stylesWithoutHost,!1),U}function He(t,i,e,r){return B(t,i,e,r),U(),He}var Efe=(t,i,e,r,n,a)=>(VS(!0),yz(r,n,_ce()));function Afe(t,i,e,r,n){let a=i.consts,s=Mm(a,r),o=Gb(i,t,8,"ng-container",s);s!==null&&EP(o,s,!0);let u=Mm(a,n);return OS()&&UR(i,e,o,u,RR),o.mergedAttrs=hy(o.mergedAttrs,o.attrs),i.queries!==null&&i.queries.elementStart(i,o),o}function Ni(t,i,e){let r=on(),n=Ns(),a=t+$a,s=n.firstCreatePass?Afe(a,n,r,i,e):n.data[a];gg(s,!0);let o=Mfe(n,r,s,t);return r[a]=o,BS()&&jS(n,r,o,s),xg(o,r),RS(s)&&(IR(n,r,s),SR(n,s,r)),e!=null&&DR(r,s),Ni}function Bi(){let t=al(),i=Ns();return dR()?hR():(t=t.parent,gg(t,!1)),i.firstCreatePass&&(vR(i,t),oR(t)&&i.queries.elementEnd(t)),Bi}function vo(t,i,e){return Ni(t,i,e),Bi(),vo}var Mfe=(t,i,e,r)=>(VS(!0),Yue(i[Ws],""));function Ye(){return on()}function ll(t,i,e){let r=on(),n=Pm();if(Gc(r,n,i)){let a=Ns(),s=xy();zb(a,s,r,t,i,r[Ws],e,!0)}return ll}function ZR(t,i,e){let r=on(),n=Pm();if(Gc(r,n,i)){let a=Ns(),s=xy(),o=fR(a.data),u=Az(o,s,r);zb(a,s,r,t,i,u,e,!0)}return ZR}var tg=void 0;function Ife(t){let i=t,e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&r===0?1:5}var Dfe=["en",[["a","p"],["AM","PM"],tg],[["AM","PM"],tg,tg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tg,"{1} 'at' {0}",tg],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Ife],j5={};function Ru(t){let i=Pfe(t),e=A7(i);if(e)return e;let r=i.split("-")[0];if(e=A7(r),e)return e;if(r==="en")return Dfe;throw new Xt(701,!1)}function A7(t){return t in j5||(j5[t]=nl.ng&&nl.ng.common&&nl.ng.common.locales&&nl.ng.common.locales[t]),j5[t]}var Ma=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ma||{});function Pfe(t){return t.toLowerCase().replace(/_/g,"-")}var bS="en-US";var Rfe=bS;function kfe(t){typeof t=="string"&&(Rfe=t.toLowerCase().replace(/_/g,"-"))}var Ffe=(t,i,e)=>{};function we(t,i,e,r){let n=on(),a=Ns(),s=al();return qR(a,n,n[Ws],s,t,i,r),we}function JR(t,i){let e=al(),r=on(),n=Ns(),a=fR(n.data),s=Az(a,e,r);return qR(n,r,s,e,t,i),JR}function Ofe(t,i,e,r){let n=t.cleanup;if(n!=null)for(let a=0;a<n.length-1;a+=2){let s=n[a];if(s===e&&n[a+1]===r){let o=i[KC],u=n[a+2];return o.length>u?o[u]:null}typeof s=="string"&&(a+=2)}return null}function qR(t,i,e,r,n,a,s){let o=RS(r),l=t.firstCreatePass&&fV(t),c=i[sl],h=hV(i),d=!0;if(r.type&3||s){let p=ph(r,i),g=s?s(p):p,v=h.length,y=s?b=>s(of(b[r.index])):r.index,x=null;if(!s&&o&&(x=Ofe(t,i,n,r.index)),x!==null){let b=x.__ngLastListenerFn__||x;b.__ngNextListenerFn__=a,x.__ngLastListenerFn__=a,d=!1}else{a=I7(r,i,c,a),Ffe(p,n,a);let b=e.listen(g,n,a);h.push(a,b),l&&l.push(n,y,v,v+1)}}else a=I7(r,i,c,a);let f=r.outputs,m;if(d&&f!==null&&(m=f[n])){let p=m.length;if(p)for(let g=0;g<p;g+=2){let v=m[g],y=m[g+1],w=i[v][y].subscribe(a),C=h.length;h.push(a,w),l&&l.push(n,r.index,C,-(C+1))}}}function M7(t,i,e,r){let n=tr(null);try{return wd(6,i,e),e(r)!==!1}catch(a){return Mz(t,a),!1}finally{wd(7,i,e),tr(n)}}function I7(t,i,e,r){return function n(a){if(a===Function)return r;let s=mg(t)?lf(t.index,i):i;zR(s,5);let o=M7(i,e,r,a),u=n.__ngNextListenerFn__;for(;u;)o=M7(i,e,u,a)&&o,u=u.__ngNextListenerFn__;return o}}function pe(t=1){return xce(t)}function Lfe(t,i){let e=null,r=Bue(t);for(let n=0;n<i.length;n++){let a=i[n];if(a==="*"){e=n;continue}if(r===null?vz(t,a,!0):Uue(r,a))return n}return e}function zi(t){let i=on()[Pu][Wc];if(!i.projection){let e=t?t.length:1,r=i.projection=Ole(e,null),n=r.slice(),a=i.child;for(;a!==null;){if(a.type!==128){let s=t?Lfe(a,t):0;s!==null&&(n[s]?n[s].projectionNext=a:r[s]=a,n[s]=a)}a=a.next}}}function $t(t,i=0,e,r,n,a){let s=on(),o=Ns(),u=r?t+1:null;u!==null&&mS(s,o,u,r,n,a,null,e);let l=Gb(o,$a+t,16,null,e||null);l.projection===null&&(l.projection=i),hR();let h=!s[uy]||pV();s[Pu][Wc].projection[l.projection]===null&&u!==null?Nfe(s,o,u):h&&!NR(l)&&Sde(o,s,l)}function Nfe(t,i,e){let r=$a+e,n=i.data[r],a=t[r],s=py(a,n.tView.ssrId),o=Ub(t,n,void 0,{dehydratedView:s});Hb(a,o,0,fy(n,s))}function Fo(t,i,e){return qS(t,"",i,"",e),Fo}function qS(t,i,e,r,n){let a=on(),s=KR(a,i,e,r);if(s!==Pl){let o=Ns(),u=xy();zb(o,u,a,t,s,a[Ws],n,!1)}return qS}function Fi(t,i,e,r){Jz(t,i,e,r)}function Jt(t,i,e){_he(t,i,e)}function yt(t){let i=on(),e=Ns(),r=pR();NS(r+1);let n=GR(e,r);if(t.dirty&&ice(i)===((n.metadata.flags&2)===2)){if(n.matches===null)t.reset([]);else{let a=eU(i,r);t.reset(a,HV),t.notifyOnChanges()}return!0}return!1}function xt(){return HR(on(),pR())}function wU(t,i,e,r,n){Ehe(i,Jz(t,e,r,n))}function CU(t=1){NS(pR()+t)}function Bfe(t,i,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),i[e]=r}function hi(t){let i=fce();return kS(i,$a+t)}function J(t,i=""){let e=on(),r=Ns(),n=t+$a,a=r.firstCreatePass?Gb(r,n,1,i,null):r.data[n],s=Vfe(r,e,a,i,t);e[n]=s,BS()&&jS(r,e,s,a),gg(a,!1)}var Vfe=(t,i,e,r,n)=>(VS(!0),Wue(i[Ws],r));function vt(t){return It("",t,""),vt}function It(t,i,e){let r=on(),n=KR(r,t,i,e);return n!==Pl&&ek(r,hf(),n),It}function Dr(t,i,e,r,n){let a=on(),s=nfe(a,t,i,e,r,n);return s!==Pl&&ek(a,hf(),s),Dr}function _g(t,i,e,r,n,a,s){let o=on(),u=rfe(o,t,i,e,r,n,a,s);return u!==Pl&&ek(o,hf(),u),_g}function ek(t,i,e){let r=cV(i,t);Xue(t[Ws],r,e)}function Hr(t,i,e){GV(i)&&(i=i());let r=on(),n=Pm();if(Gc(r,n,i)){let a=Ns(),s=xy();zb(a,s,r,t,i,r[Ws],e,!1)}return Hr}function Zr(t,i){let e=GV(t);return e&&t.set(i),e}function Gr(t,i){let e=on(),r=Ns(),n=al();return qR(r,e,e[Ws],n,t,i),Gr}function zfe(t,i,e){let r=Ns();if(r.firstCreatePass){let n=af(t);jP(e,r.data,r.blueprint,n,!0),jP(i,r.data,r.blueprint,n,!1)}}function jP(t,i,e,r,n){if(t=rl(t),Array.isArray(t))for(let a=0;a<t.length;a++)jP(t[a],i,e,r,n);else{let a=Ns(),s=on(),o=al(),u=cy(t)?t:rl(t.provide),l=tV(t),c=o.providerIndexes&1048575,h=o.directiveStart,d=o.providerIndexes>>20;if(cy(t)||!t.multi){let f=new cg(l,n,je),m=X5(u,i,n?c:c+d,h);m===-1?(aP(nS(o,s),a,u),W5(a,t,i.length),i.push(u),o.directiveStart++,o.directiveEnd++,n&&(o.providerIndexes+=1048576),e.push(f),s.push(f)):(e[m]=f,s[m]=f)}else{let f=X5(u,i,c+d,h),m=X5(u,i,c,c+d),p=f>=0&&e[f],g=m>=0&&e[m];if(n&&!g||!n&&!p){aP(nS(o,s),a,u);let v=Gfe(n?Hfe:Ufe,e.length,n,r,l);!n&&g&&(e[m].providerFactory=v),W5(a,t,i.length,0),i.push(u),o.directiveStart++,o.directiveEnd++,n&&(o.providerIndexes+=1048576),e.push(v),s.push(v)}else{let v=SU(e[n?m:f],l,!n&&r);W5(a,t,f>-1?f:m,v)}!n&&r&&g&&e[m].componentProviders++}}}function W5(t,i,e,r){let n=cy(i),a=Hle(i);if(n||a){let u=(a?rl(i.useClass):i).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!n&&i.multi){let c=l.indexOf(e);c===-1?l.push(e,[r,u]):l[c+1].push(r,u)}else l.push(e,u)}}}function SU(t,i,e){return e&&t.componentProviders++,t.multi.push(i)-1}function X5(t,i,e,r){for(let n=e;n<r;n++)if(i[n]===t)return n;return-1}function Ufe(t,i,e,r){return WP(this.multi,[])}function Hfe(t,i,e,r){let n=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,o=Mb(e,e[Vn],this.providerFactory.index,r);a=o.slice(0,s),WP(n,a);for(let u=s;u<o.length;u++)a.push(o[u])}else a=[],WP(n,a);return a}function WP(t,i){for(let e=0;e<t.length;e++){let r=t[e];i.push(r())}return i}function Gfe(t,i,e,r,n){let a=new cg(t,e,je);return a.multi=[],a.index=i,a.componentProviders=0,SU(a,n,r&&!e),a}function _i(t,i=[]){return e=>{e.providersResolver=(r,n)=>zfe(r,n?n(t):t,i)}}function Or(t,i,e){let r=yy()+t,n=on();return n[r]===Pl?$S(n,r,e?i.call(e):i()):$he(n,r)}function Ia(t,i,e,r){return TU(on(),yy(),t,i,e,r)}function Ty(t,i,e,r,n){return EU(on(),yy(),t,i,e,r,n)}function tk(t,i){let e=t[i];return e===Pl?void 0:e}function TU(t,i,e,r,n,a){let s=i+e;return Gc(t,s,n)?$S(t,s+1,a?r.call(a,n):r(n)):tk(t,s+1)}function EU(t,i,e,r,n,a,s){let o=i+e;return WR(t,o,n,a)?$S(t,o+2,s?r.call(s,n,a):r(n,a)):tk(t,o+2)}function jfe(t,i,e,r,n,a,s,o){let u=i+e;return lU(t,u,n,a,s)?$S(t,u+3,o?r.call(o,n,a,s):r(n,a,s)):tk(t,u+3)}function pr(t,i){let e=Ns(),r,n=t+$a;e.firstCreatePass?(r=Wfe(i,e.pipeRegistry),e.data[n]=r,r.onDestroy&&(e.destroyHooks??=[]).push(n,r.onDestroy)):r=e.data[n];let a=r.factory||(r.factory=ng(r.type,!0)),s,o=Uc(je);try{let u=iS(!1),l=a();return iS(u),Bfe(e,on(),n,l),l}finally{Uc(o)}}function Wfe(t,i){if(i)for(let e=i.length-1;e>=0;e--){let r=i[e];if(t===r.name)return r}}function Da(t,i,e){let r=t+$a,n=on(),a=kS(n,r);return ik(n,r)?TU(n,yy(),i,a.transform,e,a):a.transform(e)}function yo(t,i,e,r){let n=t+$a,a=on(),s=kS(a,n);return ik(a,n)?EU(a,yy(),i,s.transform,e,r,s):s.transform(e,r)}function AU(t,i,e,r,n){let a=t+$a,s=on(),o=kS(s,a);return ik(s,a)?jfe(s,yy(),i,o.transform,e,r,n,o):o.transform(e,r,n)}function ik(t,i){return t[Vn].data[i].pure}function Fm(t,i){return XS(t,i)}var VC=null;function Xfe(t){VC!==null&&(t.defaultEncapsulation!==VC.defaultEncapsulation||t.preserveWhitespaces!==VC.preserveWhitespaces)||(VC=t)}var Dm=class{full;major;minor;patch;constructor(i){this.full=i;let e=i.split(".");this.major=e[0],this.minor=e[1],this.patch=e.slice(2).join(".")}},nk=new Dm("19.1.5"),XP=class{ngModuleFactory;componentFactories;constructor(i,e){this.ngModuleFactory=i,this.componentFactories=e}},eT=(()=>{class t{compileModuleSync(e){return new pS(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),n=Q7(e),a=mz(n.declarations).reduce((s,o)=>{let u=dp(o);return u&&s.push(new hg(u)),s},[]);return new XP(r,a)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yfe=new tt("");function $fe(t,i,e){let r=new pS(e);return Promise.resolve(r)}function D7(t){for(let i=t.length-1;i>=0;i--)if(t[i]!==void 0)return t[i]}var Qfe=(()=>{class t{zone=le(ri);changeDetectionScheduler=le(ug);applicationRef=le(_c);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kfe({ngZoneFactory:t,ignoreChangesOutsideZone:i,scheduleInRootZone:e}){return t??=()=>new ri(Ri(ht({},MU()),{scheduleInRootZone:e})),[{provide:ri,useFactory:t},{provide:ly,multi:!0,useFactory:()=>{let r=le(Qfe,{optional:!0});return()=>r.initialize()}},{provide:ly,multi:!0,useFactory:()=>{let r=le(Zfe);return()=>{r.initialize()}}},i===!0?{provide:NV,useValue:!0}:[],{provide:BV,useValue:e??LV}]}function MU(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Zfe=(()=>{class t{subscription=new Vi;initialized=!1;zone=le(ri);pendingTasks=le(ff);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ri.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ri.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Jfe=(()=>{class t{appRef=le(_c);taskService=le(ff);ngZone=le(ri);zonelessEnabled=le(xR);tracing=le(wy,{optional:!0});disableScheduling=le(NV,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Vi;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(sS):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(le(BV,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof aS||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let n=this.useMicrotaskScheduler?q9:VV;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>n(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>n(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(sS+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,q9(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qfe(){return typeof $localize<"u"&&$localize.locale||bS}var Ey=new tt("",{providedIn:"root",factory:()=>le(Ey,qn.Optional|qn.SkipSelf)||qfe()});var _S=new tt(""),epe=new tt("");function xb(t){return!t.moduleRef}function tpe(t){let i=xb(t)?t.r3Injector:t.moduleRef.injector,e=i.get(ri);return e.run(()=>{xb(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=i.get(Hc,null),n;if(e.runOutsideAngular(()=>{n=e.onError.subscribe({next:a=>{r.handleError(a)}})}),xb(t)){let a=()=>i.destroy(),s=t.platformInjector.get(_S);s.add(a),i.onDestroy(()=>{n.unsubscribe(),s.delete(a)})}else{let a=()=>t.moduleRef.destroy(),s=t.platformInjector.get(_S);s.add(a),t.moduleRef.onDestroy(()=>{WC(t.allPlatformModules,t.moduleRef),n.unsubscribe(),s.delete(a)})}return npe(r,e,()=>{let a=i.get(cU);return a.runInitializers(),a.donePromise.then(()=>{let s=i.get(Ey,bS);if(kfe(s||bS),!i.get(epe,!0))return xb(t)?i.get(_c):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(xb(t)){let u=i.get(_c);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return ipe(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function ipe(t,i){let e=t.injector.get(_c);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new Xt(-403,!1);i.push(t)}function npe(t,i,e){try{let r=e();return km(r)?r.catch(n=>{throw i.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw i.runOutsideAngular(()=>t.handleError(r)),r}}var IU=(()=>{class t{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(e){this._injector=e}bootstrapModuleFactory(e,r){let n=r?.scheduleInRootZone,a=()=>Xce(r?.ngZone,Ri(ht({},MU({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:n})),s=r?.ignoreChangesOutsideZone,o=[Kfe({ngZoneFactory:a,ignoreChangesOutsideZone:s}),{provide:ug,useExisting:Jfe}],u=Ohe(e.moduleType,this.injector,o);return tpe({moduleRef:u,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,r=[]){let n=dU({},r);return $fe(this.injector,n,e).then(a=>this.bootstrapModuleFactory(a,n))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let e=this._injector.get(_S,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||t)(yi(Wi))};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Cb=null,DU=new tt("");function rpe(t){if(Cb&&!Cb.get(DU,!1))throw new Xt(400,!1);qhe(),Cb=t;let i=t.get(IU);return ope(t),i}function rk(t,i,e=[]){let r=`Platform: ${i}`,n=new tt(r);return(a=[])=>{let s=PU();if(!s||s.injector.get(DU,!1)){let o=[...e,...a,{provide:n,useValue:!0}];t?t(o):rpe(spe(o,r))}return ape(n)}}function spe(t=[],i){return Wi.create({name:i,providers:[{provide:MS,useValue:"platform"},{provide:_S,useValue:new Set([()=>Cb=null])},...t]})}function ape(t){let i=PU();if(!i)throw new Xt(401,!1);return i}function PU(){return Cb?.get(IU)??null}function ope(t){let i=t.get(wR,null);jc(t,()=>{i?.forEach(e=>e())})}var ki=(()=>{class t{static __NG_ELEMENT_ID__=lpe}return t})();function lpe(t){return cpe(al(),on(),(t&16)===16)}function cpe(t,i,e){if(mg(t)&&!e){let r=lf(t.index,i);return new dg(r,r)}else if(t.type&175){let r=i[Pu];return new dg(r,i)}return null}var YP=class{constructor(){}supports(i){return oU(i)}create(i){return new $P(i)}},upe=(t,i)=>i,$P=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(i){this._trackByFn=i||upe}forEachItem(i){let e;for(e=this._itHead;e!==null;e=e._next)i(e)}forEachOperation(i){let e=this._itHead,r=this._removalsHead,n=0,a=null;for(;e||r;){let s=!r||e&&e.currentIndex<P7(r,n,a)?e:r,o=P7(s,n,a),u=s.currentIndex;if(s===r)n--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)n++;else{a||(a=[]);let l=o-n,c=u-n;if(l!=c){for(let d=0;d<l;d++){let f=d<a.length?a[d]:a[d]=0,m=f+d;c<=m&&m<l&&(a[d]=f+1)}let h=s.previousIndex;a[h]=c-l}}o!==u&&i(s,o,u)}}forEachPreviousItem(i){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)i(e)}forEachAddedItem(i){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)i(e)}forEachMovedItem(i){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)i(e)}forEachRemovedItem(i){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)i(e)}forEachIdentityChange(i){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)i(e)}diff(i){if(i==null&&(i=[]),!oU(i))throw new Xt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let e=this._itHead,r=!1,n,a,s;if(Array.isArray(i)){this.length=i.length;for(let o=0;o<this.length;o++)a=i[o],s=this._trackByFn(o,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,o),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next}else n=0,Yhe(i,o=>{s=this._trackByFn(n,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,n),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,n)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next,n++}),this.length=n;return this._truncate(e),this.collection=i,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;i!==null;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;i!==null;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;i!==null;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,e,r,n){let a;return i===null?a=this._itTail:(a=i._prev,this._remove(i)),i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),i!==null?(Object.is(i.item,e)||this._addIdentityChange(i,e),this._reinsertAfter(i,a,n)):(i=this._linkedRecords===null?null:this._linkedRecords.get(r,n),i!==null?(Object.is(i.item,e)||this._addIdentityChange(i,e),this._moveAfter(i,a,n)):i=this._addAfter(new QP(e,r),a,n)),i}_verifyReinsertion(i,e,r,n){let a=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return a!==null?i=this._reinsertAfter(a,i._prev,n):i.currentIndex!=n&&(i.currentIndex=n,this._addToMoves(i,n)),i}_truncate(i){for(;i!==null;){let e=i._next;this._addToRemovals(this._unlink(i)),i=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(i);let n=i._prevRemoved,a=i._nextRemoved;return n===null?this._removalsHead=a:n._nextRemoved=a,a===null?this._removalsTail=n:a._prevRemoved=n,this._insertAfter(i,e,r),this._addToMoves(i,r),i}_moveAfter(i,e,r){return this._unlink(i),this._insertAfter(i,e,r),this._addToMoves(i,r),i}_addAfter(i,e,r){return this._insertAfter(i,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=i:this._additionsTail=this._additionsTail._nextAdded=i,i}_insertAfter(i,e,r){let n=e===null?this._itHead:e._next;return i._next=n,i._prev=e,n===null?this._itTail=i:n._prev=i,e===null?this._itHead=i:e._next=i,this._linkedRecords===null&&(this._linkedRecords=new wS),this._linkedRecords.put(i),i.currentIndex=r,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){this._linkedRecords!==null&&this._linkedRecords.remove(i);let e=i._prev,r=i._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,i}_addToMoves(i,e){return i.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=i:this._movesTail=this._movesTail._nextMoved=i),i}_addToRemovals(i){return this._unlinkedRecords===null&&(this._unlinkedRecords=new wS),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,e){return i.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=i:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=i,i}},QP=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(i,e){this.item=i,this.trackById=e}},KP=class{_head=null;_tail=null;add(i){this._head===null?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,i))return r;return null}remove(i){let e=i._prevDup,r=i._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},wS=class{map=new Map;put(i){let e=i.trackById,r=this.map.get(e);r||(r=new KP,this.map.set(e,r)),r.add(i)}get(i,e){let r=i,n=this.map.get(r);return n?n.get(i,e):null}remove(i){let e=i.trackById;return this.map.get(e).remove(i)&&this.map.delete(e),i}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function P7(t,i,e){let r=t.previousIndex;if(r===null)return r;let n=0;return e&&r<e.length&&(n=e[r]),r+i+n}var ZP=class{constructor(){}supports(i){return i instanceof Map||jR(i)}create(){return new JP}},JP=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(i){let e;for(e=this._mapHead;e!==null;e=e._next)i(e)}forEachPreviousItem(i){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)i(e)}forEachChangedItem(i){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)i(e)}forEachAddedItem(i){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)i(e)}forEachRemovedItem(i){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)i(e)}diff(i){if(!i)i=new Map;else if(!(i instanceof Map||jR(i)))throw new Xt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(i,(r,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{let a=this._getOrCreateRecordForKey(n,r);e=this._insertBeforeOrAppend(e,a)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,e){if(i){let r=i._prev;return e._next=i,e._prev=r,i._prev=e,r&&(r._next=e),i===this._mapHead&&(this._mapHead=e),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(i,e){if(this._records.has(i)){let n=this._records.get(i);this._maybeAddToChanges(n,e);let a=n._prev,s=n._next;return a&&(a._next=s),s&&(s._prev=a),n._next=null,n._prev=null,n}let r=new qP(i);return this._records.set(i,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;i!==null;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;i!==null;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;i!=null;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,e){Object.is(e,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=e,this._addToChanges(i))}_addToAdditions(i){this._additionsHead===null?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){this._changesHead===null?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,e){i instanceof Map?i.forEach(e):Object.keys(i).forEach(r=>e(i[r],r))}},qP=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(i){this.key=i}};function R7(){return new pf([new YP])}var pf=(()=>{class t{factories;static \u0275prov=wt({token:t,providedIn:"root",factory:R7});constructor(e){this.factories=e}static create(e,r){if(r!=null){let n=r.factories.slice();e=e.concat(n)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||R7()),deps:[[t,new pg,new mp]]}}find(e){let r=this.factories.find(n=>n.supports(e));if(r!=null)return r;throw new Xt(901,!1)}}return t})();function k7(){return new tT([new ZP])}var tT=(()=>{class t{static \u0275prov=wt({token:t,providedIn:"root",factory:k7});factories;constructor(e){this.factories=e}static create(e,r){if(r){let n=r.factories.slice();e=e.concat(n)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||k7()),deps:[[t,new pg,new mp]]}}find(e){let r=this.factories.find(n=>n.supports(e));if(r)return r;throw new Xt(901,!1)}}return t})();var RU=rk(null,"core",[]),kU=(()=>{class t{constructor(e){}static \u0275fac=function(r){return new(r||t)(yi(_c))};static \u0275mod=jt({type:t});static \u0275inj=Gt({})}return t})();function Rt(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function mr(t,i=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):i}function bp(t,i){Cd("NgSignals");let e=g5(t);return i?.equal&&(e[Al].equal=i.equal),e}function $c(t){let i=tr(null);try{return t()}finally{tr(i)}}var FU=(()=>{class t{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=dpe}return t})();function dpe(){return new FU(on(),al())}var hpe=!1,fpe=(()=>{class t extends gS{pendingTasks=le(ff);taskId=null;schedule(e){super.schedule(e),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=wt({token:t,providedIn:"root",factory:()=>new t})}return t})(),eR=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(i,e,r,n,a,s){this.scheduler=i,this.effectFn=e,this.zone=r,this.injector=a,this.watcher=h9(o=>this.runEffect(o),()=>this.schedule(),s),this.unregisterOnDestroy=n?.onDestroy(()=>this.destroy())}runEffect(i){try{this.effectFn(i)}catch(e){this.injector.get(Hc,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function ppe(){}function mpe(t,i){Cd("NgSignals"),!i?.injector&&DS(ppe);let e=i?.injector??le(Wi),r=i?.manualCleanup!==!0?e.get(yg):null,n=new eR(e.get(fpe),t,typeof Zone>"u"?null:Zone.current,r,e,i?.allowSignalWrites??!1),a=e.get(ki,null,{optional:!0});return!a||!(a._lView[Sn]&8)?n.watcher.notify():(a._lView[UC]??=[]).push(n.watcher.notify),n}var gpe=hpe;var tR=class{[Al];constructor(i){this[Al]=i}destroy(){this[Al].destroy()}};function Xb(t,i){if(gpe)return mpe(t,i);Cd("NgSignals"),!i?.injector&&DS(Xb);let e=i?.injector??le(Wi),r=i?.manualCleanup!==!0?e.get(yg):null,n,a=e.get(FU,null,{optional:!0}),s=e.get(ug);return a!==null&&!i?.forceRoot?(n=xpe(a.view,s,t),r instanceof rS&&r._lView===a.view&&(r=null)):n=bpe(t,e.get(uU),s),n.injector=e,r!==null&&(n.onDestroyFn=r.onDestroy(()=>n.destroy())),new tR(n)}var OU=Ri(ht({},Y0),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Ib,run(){if(this.dirty=!1,this.hasRun&&!fb(this))return;this.hasRun=!0;let t=r=>(this.cleanupFns??=[]).push(r),i=zv(this),e=qC(!1);try{this.maybeCleanup(),this.fn(t)}finally{qC(e),hb(this,i)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),vpe=Ri(ht({},OU),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){Uv(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),ype=Ri(ht({},OU),{consumerMarkedDirty(){this.view[Sn]|=8192,Lb(this.view),this.notifier.notify(14)},destroy(){Uv(this),this.onDestroyFn(),this.maybeCleanup(),this.view[sg]?.delete(this)}});function xpe(t,i,e){let r=Object.create(ype);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=i,r.fn=e,t[sg]??=new Set,t[sg].add(r),r.consumerMarkedDirty(r),r}function bpe(t,i,e){let r=Object.create(vpe);return r.fn=t,r.scheduler=i,r.notifier=e,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(13),r}function iT(t,i){let e=dp(t),r=i.elementInjector||IS();return new hg(e).create(r,i.projectableNodes,i.hostElement,i.environmentInjector)}function LU(t){let i=dp(t);if(!i)return null;let e=new hg(i);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}var WU=null;function mf(){return WU}function XU(t){WU??=t}var dT=class{};var Di=new tt(""),vk=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:()=>le(_pe),providedIn:"platform"})}return t})(),YU=new tt(""),_pe=(()=>{class t extends vk{_location;_history;_doc=le(Di);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mf().getBaseHref(this._doc)}onPopState(e){let r=mf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=mf().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,n){this._history.pushState(e,r,n)}replaceState(e,r,n){this._history.replaceState(e,r,n)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function yk(t,i){return t?i?t.endsWith("/")?i.startsWith("/")?t+i.slice(1):t+i:i.startsWith("/")?t+i:`${t}/${i}`:t:i}function NU(t){let i=t.match(/#|\?|$/),e=i&&i.index||t.length,r=e-(t[e-1]==="/"?1:0);return t.slice(0,r)+t.slice(e)}function wp(t){return t&&t[0]!=="?"?"?"+t:t}var Sp=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:()=>le(xk),providedIn:"root"})}return t})(),$U=new tt(""),xk=(()=>{class t extends Sp{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??le(Di).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return yk(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+wp(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${r}${n}`:r}pushState(e,r,n,a){let s=this.prepareExternalUrl(n+wp(a));this._platformLocation.pushState(e,r,s)}replaceState(e,r,n,a){let s=this.prepareExternalUrl(n+wp(a));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(yi(vk),yi($U,8))};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),QU=(()=>{class t extends Sp{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=yk(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,n,a){let s=this.prepareExternalUrl(n+wp(a));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,n,a){let s=this.prepareExternalUrl(n+wp(a));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(yi(vk),yi($U,8))};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})(),Om=(()=>{class t{_subject=new mt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=Spe(NU(BU(r))),this._locationStrategy.onPopState(n=>{this._subject.next({url:this.path(!0),pop:!0,state:n.state,type:n.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+wp(r))}normalize(e){return t.stripTrailingSlash(Cpe(this._basePath,BU(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",n=null){this._locationStrategy.pushState(n,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wp(r)),n)}replaceState(e,r="",n=null){this._locationStrategy.replaceState(n,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wp(r)),n)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(n=>n(e,r))}subscribe(e,r,n){return this._subject.subscribe({next:e,error:r??void 0,complete:n??void 0})}static normalizeQueryParams=wp;static joinWithSlash=yk;static stripTrailingSlash=NU;static \u0275fac=function(r){return new(r||t)(yi(Sp))};static \u0275prov=wt({token:t,factory:()=>wpe(),providedIn:"root"})}return t})();function wpe(){return new Om(yi(Sp))}function Cpe(t,i){if(!t||!i.startsWith(t))return i;let e=i.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:i}function BU(t){return t.replace(/\/index.html$/,"")}function Spe(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var KU=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(KU||{});var wc=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(wc||{}),As=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(As||{}),ku=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(ku||{}),Fu={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Tpe(t){return Ru(t)[Ma.LocaleId]}function Epe(t,i,e){let r=Ru(t),n=[r[Ma.DayPeriodsFormat],r[Ma.DayPeriodsStandalone]],a=Ed(n,i);return Ed(a,e)}function Ape(t,i,e){let r=Ru(t),n=[r[Ma.DaysFormat],r[Ma.DaysStandalone]],a=Ed(n,i);return Ed(a,e)}function Mpe(t,i,e){let r=Ru(t),n=[r[Ma.MonthsFormat],r[Ma.MonthsStandalone]],a=Ed(n,i);return Ed(a,e)}function Ipe(t,i){let r=Ru(t)[Ma.Eras];return Ed(r,i)}function nT(t,i){let e=Ru(t);return Ed(e[Ma.DateFormat],i)}function rT(t,i){let e=Ru(t);return Ed(e[Ma.TimeFormat],i)}function sT(t,i){let r=Ru(t)[Ma.DateTimeFormat];return Ed(r,i)}function Cp(t,i){let e=Ru(t),r=e[Ma.NumberSymbols][i];if(typeof r>"u"){if(i===Fu.CurrencyDecimal)return e[Ma.NumberSymbols][Fu.Decimal];if(i===Fu.CurrencyGroup)return e[Ma.NumberSymbols][Fu.Group]}return r}function Dpe(t,i){return Ru(t)[Ma.NumberFormats][i]}function ZU(t){if(!t[Ma.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ma.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ppe(t){let i=Ru(t);return ZU(i),(i[Ma.ExtraData][2]||[]).map(r=>typeof r=="string"?sk(r):[sk(r[0]),sk(r[1])])}function Rpe(t,i,e){let r=Ru(t);ZU(r);let n=[r[Ma.ExtraData][0],r[Ma.ExtraData][1]],a=Ed(n,i)||[];return Ed(a,e)||[]}function Ed(t,i){for(let e=i;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function sk(t){let[i,e]=t.split(":");return{hours:+i,minutes:+e}}var kpe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,aT={},Fpe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Ope(t,i,e,r){let n=jpe(t);i=_p(e,i)||i;let s=[],o;for(;i;)if(o=Fpe.exec(i),o){s=s.concat(o.slice(1));let c=s.pop();if(!c)break;i=c}else{s.push(i);break}let u=n.getTimezoneOffset();r&&(u=qU(r,u),n=Gpe(n,r,!0));let l="";return s.forEach(c=>{let h=Upe(c);l+=h?h(n,e,u):c==="''"?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function hT(t,i,e){let r=new Date(0);return r.setFullYear(t,i,e),r.setHours(0,0,0),r}function _p(t,i){let e=Tpe(t);if(aT[e]??={},aT[e][i])return aT[e][i];let r="";switch(i){case"shortDate":r=nT(t,ku.Short);break;case"mediumDate":r=nT(t,ku.Medium);break;case"longDate":r=nT(t,ku.Long);break;case"fullDate":r=nT(t,ku.Full);break;case"shortTime":r=rT(t,ku.Short);break;case"mediumTime":r=rT(t,ku.Medium);break;case"longTime":r=rT(t,ku.Long);break;case"fullTime":r=rT(t,ku.Full);break;case"short":let n=_p(t,"shortTime"),a=_p(t,"shortDate");r=oT(sT(t,ku.Short),[n,a]);break;case"medium":let s=_p(t,"mediumTime"),o=_p(t,"mediumDate");r=oT(sT(t,ku.Medium),[s,o]);break;case"long":let u=_p(t,"longTime"),l=_p(t,"longDate");r=oT(sT(t,ku.Long),[u,l]);break;case"full":let c=_p(t,"fullTime"),h=_p(t,"fullDate");r=oT(sT(t,ku.Full),[c,h]);break}return r&&(aT[e][i]=r),r}function oT(t,i){return i&&(t=t.replace(/\{([^}]+)}/g,function(e,r){return i!=null&&r in i?i[r]:e})),t}function mh(t,i,e="-",r,n){let a="";(t<0||n&&t<=0)&&(n?t=-t+1:(t=-t,a=e));let s=String(t);for(;s.length<i;)s="0"+s;return r&&(s=s.slice(s.length-i)),a+s}function Lpe(t,i){return mh(t,3).substring(0,i)}function Qa(t,i,e=0,r=!1,n=!1){return function(a,s){let o=Npe(t,a);if((e>0||o>-e)&&(o+=e),t===3)o===0&&e===-12&&(o=12);else if(t===6)return Lpe(o,i);let u=Cp(s,Fu.MinusSign);return mh(o,i,u,r,n)}}function Npe(t,i){switch(t){case 0:return i.getFullYear();case 1:return i.getMonth();case 2:return i.getDate();case 3:return i.getHours();case 4:return i.getMinutes();case 5:return i.getSeconds();case 6:return i.getMilliseconds();case 7:return i.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Bs(t,i,e=wc.Format,r=!1){return function(n,a){return Bpe(n,a,t,i,e,r)}}function Bpe(t,i,e,r,n,a){switch(e){case 2:return Mpe(i,n,r)[t.getMonth()];case 1:return Ape(i,n,r)[t.getDay()];case 0:let s=t.getHours(),o=t.getMinutes();if(a){let l=Ppe(i),c=Rpe(i,n,r),h=l.findIndex(d=>{if(Array.isArray(d)){let[f,m]=d,p=s>=f.hours&&o>=f.minutes,g=s<m.hours||s===m.hours&&o<m.minutes;if(f.hours<m.hours){if(p&&g)return!0}else if(p||g)return!0}else if(d.hours===s&&d.minutes===o)return!0;return!1});if(h!==-1)return c[h]}return Epe(i,n,r)[s<12?0:1];case 3:return Ipe(i,r)[t.getFullYear()<=0?0:1];default:let u=e;throw new Error(`unexpected translation type ${u}`)}}function lT(t){return function(i,e,r){let n=-1*r,a=Cp(e,Fu.MinusSign),s=n>0?Math.floor(n/60):Math.ceil(n/60);switch(t){case 0:return(n>=0?"+":"")+mh(s,2,a)+mh(Math.abs(n%60),2,a);case 1:return"GMT"+(n>=0?"+":"")+mh(s,1,a);case 2:return"GMT"+(n>=0?"+":"")+mh(s,2,a)+":"+mh(Math.abs(n%60),2,a);case 3:return r===0?"Z":(n>=0?"+":"")+mh(s,2,a)+":"+mh(Math.abs(n%60),2,a);default:throw new Error(`Unknown zone width "${t}"`)}}}var Vpe=0,uT=4;function zpe(t){let i=hT(t,Vpe,1).getDay();return hT(t,0,1+(i<=uT?uT:uT+7)-i)}function JU(t){let i=t.getDay(),e=i===0?-3:uT-i;return hT(t.getFullYear(),t.getMonth(),t.getDate()+e)}function ak(t,i=!1){return function(e,r){let n;if(i){let a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();n=1+Math.floor((s+a)/7)}else{let a=JU(e),s=zpe(a.getFullYear()),o=a.getTime()-s.getTime();n=1+Math.round(o/6048e5)}return mh(n,t,Cp(r,Fu.MinusSign))}}function cT(t,i=!1){return function(e,r){let a=JU(e).getFullYear();return mh(a,t,Cp(r,Fu.MinusSign),i)}}var ok={};function Upe(t){if(ok[t])return ok[t];let i;switch(t){case"G":case"GG":case"GGG":i=Bs(3,As.Abbreviated);break;case"GGGG":i=Bs(3,As.Wide);break;case"GGGGG":i=Bs(3,As.Narrow);break;case"y":i=Qa(0,1,0,!1,!0);break;case"yy":i=Qa(0,2,0,!0,!0);break;case"yyy":i=Qa(0,3,0,!1,!0);break;case"yyyy":i=Qa(0,4,0,!1,!0);break;case"Y":i=cT(1);break;case"YY":i=cT(2,!0);break;case"YYY":i=cT(3);break;case"YYYY":i=cT(4);break;case"M":case"L":i=Qa(1,1,1);break;case"MM":case"LL":i=Qa(1,2,1);break;case"MMM":i=Bs(2,As.Abbreviated);break;case"MMMM":i=Bs(2,As.Wide);break;case"MMMMM":i=Bs(2,As.Narrow);break;case"LLL":i=Bs(2,As.Abbreviated,wc.Standalone);break;case"LLLL":i=Bs(2,As.Wide,wc.Standalone);break;case"LLLLL":i=Bs(2,As.Narrow,wc.Standalone);break;case"w":i=ak(1);break;case"ww":i=ak(2);break;case"W":i=ak(1,!0);break;case"d":i=Qa(2,1);break;case"dd":i=Qa(2,2);break;case"c":case"cc":i=Qa(7,1);break;case"ccc":i=Bs(1,As.Abbreviated,wc.Standalone);break;case"cccc":i=Bs(1,As.Wide,wc.Standalone);break;case"ccccc":i=Bs(1,As.Narrow,wc.Standalone);break;case"cccccc":i=Bs(1,As.Short,wc.Standalone);break;case"E":case"EE":case"EEE":i=Bs(1,As.Abbreviated);break;case"EEEE":i=Bs(1,As.Wide);break;case"EEEEE":i=Bs(1,As.Narrow);break;case"EEEEEE":i=Bs(1,As.Short);break;case"a":case"aa":case"aaa":i=Bs(0,As.Abbreviated);break;case"aaaa":i=Bs(0,As.Wide);break;case"aaaaa":i=Bs(0,As.Narrow);break;case"b":case"bb":case"bbb":i=Bs(0,As.Abbreviated,wc.Standalone,!0);break;case"bbbb":i=Bs(0,As.Wide,wc.Standalone,!0);break;case"bbbbb":i=Bs(0,As.Narrow,wc.Standalone,!0);break;case"B":case"BB":case"BBB":i=Bs(0,As.Abbreviated,wc.Format,!0);break;case"BBBB":i=Bs(0,As.Wide,wc.Format,!0);break;case"BBBBB":i=Bs(0,As.Narrow,wc.Format,!0);break;case"h":i=Qa(3,1,-12);break;case"hh":i=Qa(3,2,-12);break;case"H":i=Qa(3,1);break;case"HH":i=Qa(3,2);break;case"m":i=Qa(4,1);break;case"mm":i=Qa(4,2);break;case"s":i=Qa(5,1);break;case"ss":i=Qa(5,2);break;case"S":i=Qa(6,1);break;case"SS":i=Qa(6,2);break;case"SSS":i=Qa(6,3);break;case"Z":case"ZZ":case"ZZZ":i=lT(0);break;case"ZZZZZ":i=lT(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=lT(1);break;case"OOOO":case"ZZZZ":case"zzzz":i=lT(2);break;default:return null}return ok[t]=i,i}function qU(t,i){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?i:e}function Hpe(t,i){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+i),t}function Gpe(t,i,e){let r=e?-1:1,n=t.getTimezoneOffset(),a=qU(i,n);return Hpe(t,r*(a-n))}function jpe(t){if(VU(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[n,a=1,s=1]=t.split("-").map(o=>+o);return hT(n,a-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let r;if(r=t.match(kpe))return Wpe(r)}let i=new Date(t);if(!VU(i))throw new Error(`Unable to convert "${t}" into a date`);return i}function Wpe(t){let i=new Date(0),e=0,r=0,n=t[8]?i.setUTCFullYear:i.setFullYear,a=t[8]?i.setUTCHours:i.setHours;t[9]&&(e=Number(t[9]+t[10]),r=Number(t[9]+t[11])),n.call(i,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,o=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return a.call(i,s,o,u,l),i}function VU(t){return t instanceof Date&&!isNaN(t.valueOf())}var Xpe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,zU=22,fT=".",Yb="0",Ype=";",$pe=",",lk="#";function Qpe(t,i,e,r,n,a,s=!1){let o="",u=!1;if(!isFinite(t))o=Cp(e,Fu.Infinity);else{let l=qpe(t);s&&(l=Jpe(l));let c=i.minInt,h=i.minFrac,d=i.maxFrac;if(a){let y=a.match(Xpe);if(y===null)throw new Error(`${a} is not a valid digit info`);let x=y[1],b=y[3],w=y[5];x!=null&&(c=ck(x)),b!=null&&(h=ck(b)),w!=null?d=ck(w):b!=null&&h>d&&(d=h)}eme(l,h,d);let f=l.digits,m=l.integerLen,p=l.exponent,g=[];for(u=f.every(y=>!y);m<c;m++)f.unshift(0);for(;m<0;m++)f.unshift(0);m>0?g=f.splice(m,f.length):(g=f,f=[0]);let v=[];for(f.length>=i.lgSize&&v.unshift(f.splice(-i.lgSize,f.length).join(""));f.length>i.gSize;)v.unshift(f.splice(-i.gSize,f.length).join(""));f.length&&v.unshift(f.join("")),o=v.join(Cp(e,r)),g.length&&(o+=Cp(e,n)+g.join("")),p&&(o+=Cp(e,Fu.Exponential)+"+"+p)}return t<0&&!u?o=i.negPre+o+i.negSuf:o=i.posPre+o+i.posSuf,o}function Kpe(t,i,e){let r=Dpe(i,KU.Decimal),n=Zpe(r,Cp(i,Fu.MinusSign));return Qpe(t,n,i,Fu.Group,Fu.Decimal,e)}function Zpe(t,i="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(Ype),n=r[0],a=r[1],s=n.indexOf(fT)!==-1?n.split(fT):[n.substring(0,n.lastIndexOf(Yb)+1),n.substring(n.lastIndexOf(Yb)+1)],o=s[0],u=s[1]||"";e.posPre=o.substring(0,o.indexOf(lk));for(let c=0;c<u.length;c++){let h=u.charAt(c);h===Yb?e.minFrac=e.maxFrac=c+1:h===lk?e.maxFrac=c+1:e.posSuf+=h}let l=o.split($pe);if(e.gSize=l[1]?l[1].length:0,e.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,a){let c=n.length-e.posPre.length-e.posSuf.length,h=a.indexOf(lk);e.negPre=a.substring(0,h).replace(/'/g,""),e.negSuf=a.slice(h+c).replace(/'/g,"")}else e.negPre=i+e.posPre,e.negSuf=e.posSuf;return e}function Jpe(t){if(t.digits[0]===0)return t;let i=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(i===0?t.digits.push(0,0):i===1&&t.digits.push(0),t.integerLen+=2),t}function qpe(t){let i=Math.abs(t)+"",e=0,r,n,a,s,o;for((n=i.indexOf(fT))>-1&&(i=i.replace(fT,"")),(a=i.search(/e/i))>0?(n<0&&(n=a),n+=+i.slice(a+1),i=i.substring(0,a)):n<0&&(n=i.length),a=0;i.charAt(a)===Yb;a++);if(a===(o=i.length))r=[0],n=1;else{for(o--;i.charAt(o)===Yb;)o--;for(n-=a,r=[],s=0;a<=o;a++,s++)r[s]=Number(i.charAt(a))}return n>zU&&(r=r.splice(0,zU-1),e=n-1,n=1),{digits:r,exponent:e,integerLen:n}}function eme(t,i,e){if(i>e)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${e}).`);let r=t.digits,n=r.length-t.integerLen,a=Math.min(Math.max(i,n),e),s=a+t.integerLen,o=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let h=s;h<r.length;h++)r[h]=0}else{n=Math.max(0,n),t.integerLen=1,r.length=Math.max(1,s=a+1),r[0]=0;for(let h=1;h<s;h++)r[h]=0}if(o>=5)if(s-1<0){for(let h=0;h>s;h--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;n<Math.max(0,a);n++)r.push(0);let u=a!==0,l=i+t.integerLen,c=r.reduceRight(function(h,d,f,m){return d=d+h,m[f]=d<10?d:d-10,u&&(m[f]===0&&f>=l?m.pop():u=!1),d>=10?1:0},0);c&&(r.unshift(c),t.integerLen++)}function ck(t){let i=parseInt(t);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+t);return i}function pT(t,i){i=encodeURIComponent(i);for(let e of t.split(";")){let r=e.indexOf("="),[n,a]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(n.trim()===i)return decodeURIComponent(a)}return null}var uk=/\s+/,UU=[],Ka=(()=>{class t{_ngEl;_renderer;initialClasses=UU;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(uk):UU}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(uk):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let n=this.stateMap.get(e);n!==void 0?(n.enabled!==r&&(n.changed=!0,n.enabled=r),n.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],n=e[1];n.changed?(this._toggleClass(r,n.enabled),n.changed=!1):n.touched||(n.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),n.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(uk).forEach(n=>{r?this._renderer.addClass(this._ngEl.nativeElement,n):this._renderer.removeClass(this._ngEl.nativeElement,n)})}static \u0275fac=function(r){return new(r||t)(je(Pt),je(Qn))};static \u0275dir=_t({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var dk=class{$implicit;ngForOf;index;count;constructor(i,e,r,n){this.$implicit=i,this.ngForOf=e,this.index=r,this.count=n}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qi=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,n){this._viewContainer=e,this._template=r,this._differs=n}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((n,a,s)=>{if(n.previousIndex==null)r.createEmbeddedView(this._template,new dk(n.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(a===null?void 0:a);else if(a!==null){let o=r.get(a);r.move(o,s),HU(o,n)}});for(let n=0,a=r.length;n<a;n++){let o=r.get(n).context;o.index=n,o.count=a,o.ngForOf=this._ngForOf}e.forEachIdentityChange(n=>{let a=r.get(n.currentIndex);HU(a,n)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(je(xr),je(sr),je(pf))};static \u0275dir=_t({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function HU(t,i){t.context.$implicit=i.item}var Xi=(()=>{class t{_viewContainer;_context=new hk;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){GU("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){GU("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(je(xr),je(sr))};static \u0275dir=_t({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),hk=class{$implicit=null;ngIf=null};function GU(t,i){if(!!!(!i||i.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${xc(i)}'.`)}var fk=class{_viewContainerRef;_templateRef;_created=!1;constructor(i,e){this._viewContainerRef=i,this._templateRef=e}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}},bk=(()=>{class t{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let r=e===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let r of this._defaultViews)r.enforceState(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return t})(),eH=(()=>{class t{ngSwitch;_view;ngSwitchCase;constructor(e,r,n){this.ngSwitch=n,n._addCase(),this._view=new fk(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||t)(je(xr),je(sr),je(bk,9))};static \u0275dir=_t({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return t})();var tH=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,n){this._ngEl=e,this._differs=r,this._renderer=n}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[n,a]=e.split("."),s=n.indexOf("-")===-1?void 0:uf.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,n,a?`${r}${a}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,n,s)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(je(Pt),je(tT),je(Qn))};static \u0275dir=_t({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})(),mT=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let n=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,n,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,n)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,n):!1,get:(e,r,n)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,n)}})}static \u0275fac=function(r){return new(r||t)(je(xr))};static \u0275dir=_t({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Ki]})}return t})();function My(t,i){return new Xt(2100,!1)}var pk=class{createSubscription(i,e){return $c(()=>i.subscribe({next:e,error:r=>{throw r}}))}dispose(i){$c(()=>i.unsubscribe())}},mk=class{createSubscription(i,e){return i.then(e,r=>{throw r})}dispose(i){}},tme=new mk,ime=new pk,Iy=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(km(e))return tme;if(QR(e))return ime;throw My(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(je(ki,16))};static \u0275pipe=Td({name:"async",type:t,pure:!1})}return t})();var nme=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,gT=(()=>{class t{transform(e){if(e==null)return null;if(typeof e!="string")throw My(t,e);return e.replace(nme,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=Td({name:"titlecase",type:t,pure:!0})}return t})(),vT=(()=>{class t{transform(e){if(e==null)return null;if(typeof e!="string")throw My(t,e);return e.toUpperCase()}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=Td({name:"uppercase",type:t,pure:!0})}return t})(),rme="mediumDate",sme=new tt(""),ame=new tt(""),Rl=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(e,r,n){this.locale=e,this.defaultTimezone=r,this.defaultOptions=n}transform(e,r,n,a){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??rme,o=n??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Ope(e,s,a||this.locale,o)}catch(s){throw My(t,s.message)}}static \u0275fac=function(r){return new(r||t)(je(Ey,16),je(sme,24),je(ame,24))};static \u0275pipe=Td({name:"date",type:t,pure:!0})}return t})();function ome(t,i){return{key:t,value:i}}var iH=(()=>{class t{differs;constructor(e){this.differs=e}differ;keyValues=[];compareFn=jU;transform(e,r=jU){if(!e||!(e instanceof Map)&&typeof e!="object")return null;this.differ??=this.differs.find(e).create();let n=this.differ.diff(e),a=r!==this.compareFn;return n&&(this.keyValues=[],n.forEachItem(s=>{this.keyValues.push(ome(s.key,s.currentValue))})),(n||a)&&(r&&this.keyValues.sort(r),this.compareFn=r),this.keyValues}static \u0275fac=function(r){return new(r||t)(je(tT,16))};static \u0275pipe=Td({name:"keyvalue",type:t,pure:!1})}return t})();function jU(t,i){let e=t.key,r=i.key;if(e===r)return 0;if(e==null)return 1;if(r==null)return-1;if(typeof e=="string"&&typeof r=="string")return e<r?-1:1;if(typeof e=="number"&&typeof r=="number")return e-r;if(typeof e=="boolean"&&typeof r=="boolean")return e<r?-1:1;let n=String(e),a=String(r);return n==a?0:n<a?-1:1}var yT=(()=>{class t{_locale;constructor(e){this._locale=e}transform(e,r,n){if(!lme(e))return null;n||=this._locale;try{let a=cme(e);return Kpe(a,n,r)}catch(a){throw My(t,a.message)}}static \u0275fac=function(r){return new(r||t)(je(Ey,16))};static \u0275pipe=Td({name:"number",type:t,pure:!0})}return t})();function lme(t){return!(t==null||t===""||t!==t)}function cme(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var nH=(()=>{class t{transform(e,r,n){if(e==null)return null;if(!this.supports(e))throw My(t,e);return e.slice(r,n)}supports(e){return typeof e=="string"||Array.isArray(e)}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=Td({name:"slice",type:t,pure:!1})}return t})();var Dy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({})}return t})(),_k="browser",ume="server";function rH(t){return t===_k}function wk(t){return t===ume}var sH=(()=>{class t{static \u0275prov=wt({token:t,providedIn:"root",factory:()=>new gk(le(Di),window)})}return t})(),gk=class{document;window;offset=()=>[0,0];constructor(i,e){this.document=i,this.window=e}setOffset(i){Array.isArray(i)?this.offset=()=>i:this.offset=i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){let e=dme(this.document,i);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){let e=i.getBoundingClientRect(),r=e.left+this.window.pageXOffset,n=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],n-a[1])}};function dme(t,i){let e=t.getElementById(i)||t.getElementsByName(i)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),n=r.currentNode;for(;n;){let a=n.shadowRoot;if(a){let s=a.getElementById(i)||a.querySelector(`[name="${i}"]`);if(s)return s}n=r.nextNode()}}return null}var Ay=class{};var Qb=class{},bT=class{},da=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(i){i?typeof i=="string"?this.lazyInit=()=>{this.headers=new Map,i.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let n=e.slice(0,r),a=e.slice(r+1).trim();this.addHeaderEntry(n,a)}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();let e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){let e=i.name.toLowerCase();switch(i.op){case"a":case"s":let r=i.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(i.name,e);let n=(i.op==="a"?this.headers.get(e):void 0)||[];n.push(...r),this.headers.set(e,n);break;case"d":let a=i.value;if(!a)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(o=>a.indexOf(o)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(i,e){let r=i.toLowerCase();this.maybeSetNormalizedName(i,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(i,e){let r=(Array.isArray(e)?e:[e]).map(a=>a.toString()),n=i.toLowerCase();this.headers.set(n,r),this.maybeSetNormalizedName(i,n)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}};var Sk=class{encodeKey(i){return aH(i)}encodeValue(i){return aH(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}};function hme(t,i){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(n=>{let a=n.indexOf("="),[s,o]=a==-1?[i.decodeKey(n),""]:[i.decodeKey(n.slice(0,a)),i.decodeValue(n.slice(a+1))],u=e.get(s)||[];u.push(o),e.set(s,u)}),e}var fme=/%(\d[a-f0-9])/gi,pme={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aH(t){return encodeURIComponent(t).replace(fme,(i,e)=>pme[e]??i)}function xT(t){return`${t}`}var Lm=class t{map;encoder;updates=null;cloneFrom=null;constructor(i={}){if(this.encoder=i.encoder||new Sk,i.fromString){if(i.fromObject)throw new Xt(2805,!1);this.map=hme(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{let r=i.fromObject[e],n=Array.isArray(r)?r.map(xT):[xT(r)];this.map.set(e,n)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();let e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){let e=[];return Object.keys(i).forEach(r=>{let n=i[r];Array.isArray(n)?n.forEach(a=>{e.push({param:r,value:a,op:"a"})}):e.push({param:r,value:n,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{let e=this.encoder.encodeKey(i);return this.map.get(i).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(i=>i!=="").join("&")}clone(i){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":let e=(i.op==="a"?this.map.get(i.param):void 0)||[];e.push(xT(i.value)),this.map.set(i.param,e);break;case"d":if(i.value!==void 0){let r=this.map.get(i.param)||[],n=r.indexOf(xT(i.value));n!==-1&&r.splice(n,1),r.length>0?this.map.set(i.param,r):this.map.delete(i.param)}else{this.map.delete(i.param);break}}}),this.cloneFrom=this.updates=null)}};var Tk=class{map=new Map;set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}};function mme(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function oH(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function lH(t){return typeof Blob<"u"&&t instanceof Blob}function cH(t){return typeof FormData<"u"&&t instanceof FormData}function gme(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var uH="Content-Type",dH="Accept",mH="X-Request-URL",gH="text/plain",vH="application/json",vme=`${vH}, ${gH}, */*`,$b=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(i,e,r,n){this.url=e,this.method=i.toUpperCase();let a;if(mme(this.method)||n?(this.body=r!==void 0?r:null,a=n):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params),this.transferCache=a.transferCache),this.headers??=new da,this.context??=new Tk,!this.params)this.params=new Lm,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let o=e.indexOf("?"),u=o===-1?"?":o<e.length-1?"&":"";this.urlWithParams=e+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||oH(this.body)||lH(this.body)||cH(this.body)||gme(this.body)?this.body:this.body instanceof Lm?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||cH(this.body)?null:lH(this.body)?this.body.type||null:oH(this.body)?null:typeof this.body=="string"?gH:this.body instanceof Lm?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?vH:null}clone(i={}){let e=i.method||this.method,r=i.url||this.url,n=i.responseType||this.responseType,a=i.transferCache??this.transferCache,s=i.body!==void 0?i.body:this.body,o=i.withCredentials??this.withCredentials,u=i.reportProgress??this.reportProgress,l=i.headers||this.headers,c=i.params||this.params,h=i.context??this.context;return i.setHeaders!==void 0&&(l=Object.keys(i.setHeaders).reduce((d,f)=>d.set(f,i.setHeaders[f]),l)),i.setParams&&(c=Object.keys(i.setParams).reduce((d,f)=>d.set(f,i.setParams[f]),c)),new t(e,r,s,{params:c,headers:l,context:h,reportProgress:u,responseType:n,withCredentials:o,transferCache:a})}},Py=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Py||{}),Kb=class{headers;status;statusText;url;ok;type;constructor(i,e=200,r="OK"){this.headers=i.headers||new da,this.status=i.status!==void 0?i.status:e,this.statusText=i.statusText||r,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}},Ek=class t extends Kb{constructor(i={}){super(i)}type=Py.ResponseHeader;clone(i={}){return new t({headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},_T=class t extends Kb{body;constructor(i={}){super(i),this.body=i.body!==void 0?i.body:null}type=Py.Response;clone(i={}){return new t({body:i.body!==void 0?i.body:this.body,headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},wT=class extends Kb{name="HttpErrorResponse";message;error;ok=!1;constructor(i){super(i,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${i.url||"(unknown url)"}`:this.message=`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}},yme=200,xme=204;function Ck(t,i){return{body:i,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ms=(()=>{class t{handler;constructor(e){this.handler=e}request(e,r,n={}){let a;if(e instanceof $b)a=e;else{let u;n.headers instanceof da?u=n.headers:u=new da(n.headers);let l;n.params&&(n.params instanceof Lm?l=n.params:l=new Lm({fromObject:n.params})),a=new $b(e,r,n.body!==void 0?n.body:null,{headers:u,context:n.context,params:l,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache})}let s=ui(a).pipe(cp(u=>this.handler.handle(u)));if(e instanceof $b||n.observe==="events")return s;let o=s.pipe(ji(u=>u instanceof _T));switch(n.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return o.pipe(si(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Xt(2806,!1);return u.body}));case"blob":return o.pipe(si(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Xt(2807,!1);return u.body}));case"text":return o.pipe(si(u=>{if(u.body!==null&&typeof u.body!="string")throw new Xt(2808,!1);return u.body}));case"json":default:return o.pipe(si(u=>u.body))}case"response":return o;default:throw new Xt(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new Lm().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,n={}){return this.request("PATCH",e,Ck(n,r))}post(e,r,n={}){return this.request("POST",e,Ck(n,r))}put(e,r,n={}){return this.request("PUT",e,Ck(n,r))}static \u0275fac=function(r){return new(r||t)(yi(Qb))};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})();var bme=new tt("");function yH(t,i){return i(t)}function _me(t,i){return(e,r)=>i.intercept(e,{handle:n=>t(n,r)})}function wme(t,i,e){return(r,n)=>jc(e,()=>i(r,a=>t(a,n)))}var Cme=new tt(""),Ak=new tt(""),Sme=new tt(""),xH=new tt("",{providedIn:"root",factory:()=>!0});function Tme(){let t=null;return(i,e)=>{t===null&&(t=(le(Cme,{optional:!0})??[]).reduceRight(_me,yH));let r=le(ff);if(le(xH)){let a=r.add();return t(i,e).pipe(_d(()=>r.remove(a)))}else return t(i,e)}}var hH=(()=>{class t extends Qb{backend;injector;chain=null;pendingTasks=le(ff);contributeToStability=le(xH);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Ak),...this.injector.get(Sme,[])]));this.chain=r.reduceRight((n,a)=>wme(n,a,this.injector),yH)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,n=>this.backend.handle(n)).pipe(_d(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(yi(bT),yi(Ba))};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})();var Eme=/^\)\]\}',?\n/,Ame=RegExp(`^${mH}:`,"m");function Mme(t){return"responseURL"in t&&t.responseURL?t.responseURL:Ame.test(t.getAllResponseHeaders())?t.getResponseHeader(mH):null}var fH=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Xt(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ts(r.\u0275loadImpl()):ui(null)).pipe(Mn(()=>new rn(a=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((p,g)=>s.setRequestHeader(p,g.join(","))),e.headers.has(dH)||s.setRequestHeader(dH,vme),!e.headers.has(uH)){let p=e.detectContentTypeHeader();p!==null&&s.setRequestHeader(uH,p)}if(e.responseType){let p=e.responseType.toLowerCase();s.responseType=p!=="json"?p:"text"}let o=e.serializeBody(),u=null,l=()=>{if(u!==null)return u;let p=s.statusText||"OK",g=new da(s.getAllResponseHeaders()),v=Mme(s)||e.url;return u=new Ek({headers:g,status:s.status,statusText:p,url:v}),u},c=()=>{let{headers:p,status:g,statusText:v,url:y}=l(),x=null;g!==xme&&(x=typeof s.response>"u"?s.responseText:s.response),g===0&&(g=x?yme:0);let b=g>=200&&g<300;if(e.responseType==="json"&&typeof x=="string"){let w=x;x=x.replace(Eme,"");try{x=x!==""?JSON.parse(x):null}catch(C){x=w,b&&(b=!1,x={error:C,text:x})}}b?(a.next(new _T({body:x,headers:p,status:g,statusText:v,url:y||void 0})),a.complete()):a.error(new wT({error:x,headers:p,status:g,statusText:v,url:y||void 0}))},h=p=>{let{url:g}=l(),v=new wT({error:p,status:s.status||0,statusText:s.statusText||"Unknown Error",url:g||void 0});a.error(v)},d=!1,f=p=>{d||(a.next(l()),d=!0);let g={type:Py.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(g.total=p.total),e.responseType==="text"&&s.responseText&&(g.partialText=s.responseText),a.next(g)},m=p=>{let g={type:Py.UploadProgress,loaded:p.loaded};p.lengthComputable&&(g.total=p.total),a.next(g)};return s.addEventListener("load",c),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",f),o!==null&&s.upload&&s.upload.addEventListener("progress",m)),s.send(o),a.next({type:Py.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",c),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",f),o!==null&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(yi(Ay))};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})(),bH=new tt(""),Ime="XSRF-TOKEN",Dme=new tt("",{providedIn:"root",factory:()=>Ime}),Pme="X-XSRF-TOKEN",Rme=new tt("",{providedIn:"root",factory:()=>Pme}),CT=class{},kme=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r,n){this.doc=e,this.platform=r,this.cookieName=n}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=pT(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||t)(yi(Di),yi(vp),yi(Dme))};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})();function Fme(t,i){let e=t.url.toLowerCase();if(!le(bH)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return i(t);let r=le(CT).getToken(),n=le(Rme);return r!=null&&!t.headers.has(n)&&(t=t.clone({headers:t.headers.set(n,r)})),i(t)}var _H=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(_H||{});function Ome(t,i){return{\u0275kind:t,\u0275providers:i}}function wH(...t){let i=[Ms,fH,hH,{provide:Qb,useExisting:hH},{provide:bT,useFactory:()=>le(bme,{optional:!0})??le(fH)},{provide:Ak,useValue:Fme,multi:!0},{provide:bH,useValue:!0},{provide:CT,useClass:kme}];for(let e of t)i.push(...e.\u0275providers);return AS(i)}var pH=new tt("");function CH(){return Ome(_H.LegacyInterceptors,[{provide:pH,useFactory:Tme},{provide:Ak,useExisting:pH,multi:!0}])}var Ik=class extends dT{supportsDOMEvents=!0},Dk=class t extends Ik{static makeCurrent(){XU(new t)}onAndCancel(i,e,r,n){return i.addEventListener(e,r,n),()=>{i.removeEventListener(e,r,n)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.remove()}createElement(i,e){return e=e||this.getDefaultDocument(),e.createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return e==="window"?window:e==="document"?i:e==="body"?i.body:null}getBaseHref(i){let e=Lme();return e==null?null:Nme(e)}resetBaseElement(){Zb=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return pT(document.cookie,i)}},Zb=null;function Lme(){return Zb=Zb||document.querySelector("base"),Zb?Zb.getAttribute("href"):null}function Nme(t){return new URL(t,document.baseURI).pathname}var Pk=class{addToWindow(i){nl.getAngularTestability=(r,n=!0)=>{let a=i.findTestabilityInTree(r,n);if(a==null)throw new Xt(5103,!1);return a},nl.getAllAngularTestabilities=()=>i.getAllTestabilities(),nl.getAllAngularRootElements=()=>i.getAllRootElements();let e=r=>{let n=nl.getAllAngularTestabilities(),a=n.length,s=function(){a--,a==0&&r()};n.forEach(o=>{o.whenStable(s)})};nl.frameworkStabilizers||(nl.frameworkStabilizers=[]),nl.frameworkStabilizers.push(e)}findTestabilityInTree(i,e,r){if(e==null)return null;let n=i.getTestability(e);return n??(r?mf().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null)}},Bme=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})(),Rk=new tt(""),MH=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(n=>{n.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,n,a){return this._findPluginFor(r).addEventListener(e,r,n,a)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(a=>a.supports(e)),!r)throw new Xt(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)(yi(Rk),yi(ri))};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})(),TT=class{_doc;constructor(i){this._doc=i}manager},ST="ng-app-id";function SH(t){for(let i of t)i.remove()}function TH(t,i){let e=i.createElement("style");return e.textContent=t,e}function Vme(t,i,e,r){let n=t.head?.querySelectorAll(`style[${ST}="${i}"],link[${ST}="${i}"]`);if(n)for(let a of n)a.removeAttribute(ST),a instanceof HTMLLinkElement?r.set(a.href.slice(a.href.lastIndexOf("/")+1),{usage:0,elements:[a]}):a.textContent&&e.set(a.textContent,{usage:0,elements:[a]})}function kk(t,i){let e=i.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var IH=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,n,a={}){this.doc=e,this.appId=r,this.nonce=n,this.isServer=wk(a),Vme(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let n of e)this.addUsage(n,this.inline,TH);r?.forEach(n=>this.addUsage(n,this.external,kk))}removeStyles(e,r){for(let n of e)this.removeUsage(n,this.inline);r?.forEach(n=>this.removeUsage(n,this.external))}addUsage(e,r,n){let a=r.get(e);a?a.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,n(e,this.doc)))})}removeUsage(e,r){let n=r.get(e);n&&(n.usage--,n.usage<=0&&(SH(n.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])SH(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:n}]of this.inline)n.push(this.addElement(e,TH(r,this.doc)));for(let[r,{elements:n}]of this.external)n.push(this.addElement(e,kk(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ST,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)(yi(Di),yi(_y),yi(Nb,8),yi(vp))};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})(),Mk={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ok=/%COMP%/g;var DH="%COMP%",zme=`_nghost-${DH}`,Ume=`_ngcontent-${DH}`,Hme=!0,Gme=new tt("",{providedIn:"root",factory:()=>Hme});function jme(t){return Ume.replace(Ok,t)}function Wme(t){return zme.replace(Ok,t)}function PH(t,i){return i.map(e=>e.replace(Ok,t))}var ET=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,n,a,s,o,u,l=null,c=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=n,this.removeStylesOnCompDestroy=a,this.doc=s,this.platformId=o,this.ngZone=u,this.nonce=l,this.tracingService=c,this.platformIsServer=wk(o),this.defaultRenderer=new Jb(e,s,u,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===cf.ShadowDom&&(r=Ri(ht({},r),{encapsulation:cf.Emulated}));let n=this.getOrCreateRenderer(e,r);return n instanceof AT?n.applyToHost(e):n instanceof qb&&n.applyStyles(),n}getOrCreateRenderer(e,r){let n=this.rendererByCompId,a=n.get(r.id);if(!a){let s=this.doc,o=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,h=this.platformIsServer,d=this.tracingService;switch(r.encapsulation){case cf.Emulated:a=new AT(u,l,r,this.appId,c,s,o,h,d);break;case cf.ShadowDom:return new Fk(u,l,e,r,s,o,this.nonce,h,d);default:a=new qb(u,l,r,c,s,o,h,d);break}n.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||t)(yi(MH),yi(IH),yi(_y),yi(Gme),yi(Di),yi(vp),yi(ri),yi(Nb),yi(wy,8))};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})(),Jb=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(i,e,r,n,a){this.eventManager=i,this.doc=e,this.ngZone=r,this.platformIsServer=n,this.tracingService=a}destroy(){}destroyNode=null;createElement(i,e){return e?this.doc.createElementNS(Mk[e]||e,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,e){(EH(i)?i.content:i).appendChild(e)}insertBefore(i,e,r){i&&(EH(i)?i.content:i).insertBefore(e,r)}removeChild(i,e){e.remove()}selectRootElement(i,e){let r=typeof i=="string"?this.doc.querySelector(i):i;if(!r)throw new Xt(-5104,!1);return e||(r.textContent=""),r}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,r,n){if(n){e=n+":"+e;let a=Mk[n];a?i.setAttributeNS(a,e,r):i.setAttribute(e,r)}else i.setAttribute(e,r)}removeAttribute(i,e,r){if(r){let n=Mk[r];n?i.removeAttributeNS(n,e):i.removeAttribute(`${r}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,r,n){n&(uf.DashCase|uf.Important)?i.style.setProperty(e,r,n&uf.Important?"important":""):i.style[e]=r}removeStyle(i,e,r){r&uf.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,r){i!=null&&(i[e]=r)}setValue(i,e){i.nodeValue=e}listen(i,e,r,n){if(typeof i=="string"&&(i=mf().getGlobalEventTarget(this.doc,i),!i))throw new Error(`Unsupported event target ${i} for event ${e}`);let a=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(a=this.tracingService.wrapEventListener(i,e,a)),this.eventManager.addEventListener(i,e,a,n)}decoratePreventDefault(i){return e=>{if(e==="__ngUnwrap__")return i;(this.platformIsServer?this.ngZone.runGuarded(()=>i(e)):i(e))===!1&&e.preventDefault()}}};function EH(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Fk=class extends Jb{sharedStylesHost;hostEl;shadowRoot;constructor(i,e,r,n,a,s,o,u,l){super(i,a,s,u,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=n.styles;c=PH(n.id,c);for(let d of c){let f=document.createElement("style");o&&f.setAttribute("nonce",o),f.textContent=d,this.shadowRoot.appendChild(f)}let h=n.getExternalStyles?.();if(h)for(let d of h){let f=kk(d,a);o&&f.setAttribute("nonce",o),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,r){return super.insertBefore(this.nodeOrShadowRoot(i),e,r)}removeChild(i,e){return super.removeChild(null,e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},qb=class extends Jb{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(i,e,r,n,a,s,o,u,l){super(i,a,s,o,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=n;let c=r.styles;this.styles=l?PH(l,c):c,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},AT=class extends qb{contentAttr;hostAttr;constructor(i,e,r,n,a,s,o,u,l){let c=n+"-"+r.id;super(i,e,r,a,s,o,u,l,c),this.contentAttr=jme(c),this.hostAttr=Wme(c)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,e){let r=super.createElement(i,e);return super.setAttribute(r,this.contentAttr,""),r}},Xme=(()=>{class t extends TT{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,n,a){return e.addEventListener(r,n,a),()=>this.removeEventListener(e,r,n,a)}removeEventListener(e,r,n,a){return e.removeEventListener(r,n,a)}static \u0275fac=function(r){return new(r||t)(yi(Di))};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})(),AH=["alt","control","meta","shift"],Yme={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$me={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Qme=(()=>{class t extends TT{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,n,a){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mf().onAndCancel(e,s.domEventName,o,a))}static parseEventName(e){let r=e.toLowerCase().split("."),n=r.shift();if(r.length===0||!(n==="keydown"||n==="keyup"))return null;let a=t._normalizeKey(r.pop()),s="",o=r.indexOf("code");if(o>-1&&(r.splice(o,1),s="code."),AH.forEach(l=>{let c=r.indexOf(l);c>-1&&(r.splice(c,1),s+=l+".")}),s+=a,r.length!=0||a.length===0)return null;let u={};return u.domEventName=n,u.fullKey=s,u}static matchEventFullKeyCode(e,r){let n=Yme[e.key]||e.key,a="";return r.indexOf("code.")>-1&&(n=e.code,a="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),AH.forEach(s=>{if(s!==n){let o=$me[s];o(e)&&(a+=s+".")}}),a+=n,a===r)}static eventCallback(e,r,n){return a=>{t.matchEventFullKeyCode(a,e)&&n.runGuarded(()=>r(a))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)(yi(Di))};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})();function Kme(){Dk.makeCurrent()}function Zme(){return new Hc}function Jme(){return KV(document),document}var qme=[{provide:vp,useValue:_k},{provide:wR,useValue:Kme,multi:!0},{provide:Di,useFactory:Jme,deps:[]}],RH=rk(RU,"browser",qme);var e0e=[{provide:jb,useClass:Pk,deps:[]},{provide:YR,useClass:QS,deps:[ri,KS,jb]},{provide:QS,useClass:QS,deps:[ri,KS,jb]}],t0e=[{provide:MS,useValue:"root"},{provide:Hc,useFactory:Zme,deps:[]},{provide:Rk,useClass:Xme,multi:!0,deps:[Di]},{provide:Rk,useClass:Qme,multi:!0,deps:[Di]},ET,IH,MH,{provide:Dl,useExisting:ET},{provide:Ay,useClass:Bme,deps:[]},[]],MT=(()=>{class t{constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:[...t0e,...e0e],imports:[Dy,kU]})}return t})();var kH=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)(yi(Di))};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Lk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:function(r){let n=null;return r?n=new(r||t):n=yi(i0e),n},providedIn:"root"})}return t})(),i0e=(()=>{class t extends Lk{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case ol.NONE:return r;case ol.HTML:return yp(r,"HTML")?Sd(r):TR(this._doc,String(r)).toString();case ol.STYLE:return yp(r,"Style")?Sd(r):r;case ol.SCRIPT:if(yp(r,"Script"))return Sd(r);throw new Xt(5200,!1);case ol.URL:return yp(r,"URL")?Sd(r):HS(String(r));case ol.RESOURCE_URL:if(yp(r,"ResourceURL"))return Sd(r);throw new Xt(5201,!1);default:throw new Xt(5202,!1)}}bypassSecurityTrustHtml(e){return rz(e)}bypassSecurityTrustStyle(e){return sz(e)}bypassSecurityTrustScript(e){return az(e)}bypassSecurityTrustUrl(e){return oz(e)}bypassSecurityTrustResourceUrl(e){return lz(e)}static \u0275fac=function(r){return new(r||t)(yi(Di))};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Kn="primary",h_=Symbol("RouteTitle"),Hk=class{params;constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Ny(t){return new Hk(t)}function n0e(t,i,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(i.hasChildren()||r.length<t.length))return null;let n={};for(let a=0;a<r.length;a++){let s=r[a],o=t[a];if(s[0]===":")n[s.substring(1)]=o;else if(s!==o.path)return null}return{consumed:t.slice(0,r.length),posParams:n}}function r0e(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(!gf(t[e],i[e]))return!1;return!0}function gf(t,i){let e=t?Gk(t):void 0,r=i?Gk(i):void 0;if(!e||!r||e.length!=r.length)return!1;let n;for(let a=0;a<e.length;a++)if(n=e[a],!GH(t[n],i[n]))return!1;return!0}function Gk(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function GH(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;let e=[...t].sort(),r=[...i].sort();return e.every((n,a)=>r[a]===n)}else return t===i}function jH(t){return t.length>0?t[t.length-1]:null}function Bm(t){return wm(t)?t:km(t)?Ts(Promise.resolve(t)):ui(t)}var s0e={exact:XH,subset:YH},WH={exact:a0e,subset:o0e,ignored:()=>!0};function FH(t,i,e){return s0e[e.paths](t.root,i.root,e.matrixParams)&&WH[e.queryParams](t.queryParams,i.queryParams)&&!(e.fragment==="exact"&&t.fragment!==i.fragment)}function a0e(t,i){return gf(t,i)}function XH(t,i,e){if(!Cg(t.segments,i.segments)||!PT(t.segments,i.segments,e)||t.numberOfChildren!==i.numberOfChildren)return!1;for(let r in i.children)if(!t.children[r]||!XH(t.children[r],i.children[r],e))return!1;return!0}function o0e(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(e=>GH(t[e],i[e]))}function YH(t,i,e){return $H(t,i,i.segments,e)}function $H(t,i,e,r){if(t.segments.length>e.length){let n=t.segments.slice(0,e.length);return!(!Cg(n,e)||i.hasChildren()||!PT(n,e,r))}else if(t.segments.length===e.length){if(!Cg(t.segments,e)||!PT(t.segments,e,r))return!1;for(let n in i.children)if(!t.children[n]||!YH(t.children[n],i.children[n],r))return!1;return!0}else{let n=e.slice(0,t.segments.length),a=e.slice(t.segments.length);return!Cg(t.segments,n)||!PT(t.segments,n,r)||!t.children[Kn]?!1:$H(t.children[Kn],i,a,r)}}function PT(t,i,e){return i.every((r,n)=>WH[e](t[n].parameters,r.parameters))}var Ep=class{root;queryParams;fragment;_queryParamMap;constructor(i=new Jr([],{}),e={},r=null){this.root=i,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ny(this.queryParams),this._queryParamMap}toString(){return u0e.serialize(this)}},Jr=class{segments;children;parent=null;constructor(i,e){this.segments=i,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return RT(this)}},wg=class{path;parameters;_parameterMap;constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap??=Ny(this.parameters),this._parameterMap}toString(){return KH(this)}};function l0e(t,i){return Cg(t,i)&&t.every((e,r)=>gf(e.parameters,i[r].parameters))}function Cg(t,i){return t.length!==i.length?!1:t.every((e,r)=>e.path===i[r].path)}function c0e(t,i){let e=[];return Object.entries(t.children).forEach(([r,n])=>{r===Kn&&(e=e.concat(i(n,r)))}),Object.entries(t.children).forEach(([r,n])=>{r!==Kn&&(e=e.concat(i(n,r)))}),e}var f_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:()=>new By,providedIn:"root"})}return t})(),By=class{parse(i){let e=new Wk(i);return new Ep(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){let e=`/${e_(i.root,!0)}`,r=f0e(i.queryParams),n=typeof i.fragment=="string"?`#${d0e(i.fragment)}`:"";return`${e}${r}${n}`}},u0e=new By;function RT(t){return t.segments.map(i=>KH(i)).join("/")}function e_(t,i){if(!t.hasChildren())return RT(t);if(i){let e=t.children[Kn]?e_(t.children[Kn],!1):"",r=[];return Object.entries(t.children).forEach(([n,a])=>{n!==Kn&&r.push(`${n}:${e_(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=c0e(t,(r,n)=>n===Kn?[e_(t.children[Kn],!1)]:[`${n}:${e_(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Kn]!=null?`${RT(t)}/${e[0]}`:`${RT(t)}/(${e.join("//")})`}}function QH(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function IT(t){return QH(t).replace(/%3B/gi,";")}function d0e(t){return encodeURI(t)}function jk(t){return QH(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kT(t){return decodeURIComponent(t)}function OH(t){return kT(t.replace(/\+/g,"%20"))}function KH(t){return`${jk(t.path)}${h0e(t.parameters)}`}function h0e(t){return Object.entries(t).map(([i,e])=>`;${jk(i)}=${jk(e)}`).join("")}function f0e(t){let i=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(n=>`${IT(e)}=${IT(n)}`).join("&"):`${IT(e)}=${IT(r)}`).filter(e=>e);return i.length?`?${i.join("&")}`:""}var p0e=/^[^\/()?;#]+/;function Bk(t){let i=t.match(p0e);return i?i[0]:""}var m0e=/^[^\/()?;=#]+/;function g0e(t){let i=t.match(m0e);return i?i[0]:""}var v0e=/^[^=?&#]+/;function y0e(t){let i=t.match(v0e);return i?i[0]:""}var x0e=/^[^&#]+/;function b0e(t){let i=t.match(x0e);return i?i[0]:""}var Wk=class{url;remaining;constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jr([],{}):new Jr([],this.parseChildren())}parseQueryParams(){let i={};if(this.consumeOptional("?"))do this.parseQueryParam(i);while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(r[Kn]=new Jr(i,e)),r}parseSegment(){let i=Bk(this.remaining);if(i===""&&this.peekStartsWith(";"))throw new Xt(4009,!1);return this.capture(i),new wg(kT(i),this.parseMatrixParams())}parseMatrixParams(){let i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){let e=g0e(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let n=Bk(this.remaining);n&&(r=n,this.capture(r))}i[kT(e)]=kT(r)}parseQueryParam(i){let e=y0e(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=b0e(this.remaining);s&&(r=s,this.capture(r))}let n=OH(e),a=OH(r);if(i.hasOwnProperty(n)){let s=i[n];Array.isArray(s)||(s=[s],i[n]=s),s.push(a)}else i[n]=a}parseParens(i){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Bk(this.remaining),n=this.remaining[r.length];if(n!=="/"&&n!==")"&&n!==";")throw new Xt(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):i&&(a=Kn);let s=this.parseChildren();e[a]=Object.keys(s).length===1?s[Kn]:new Jr([],s),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return this.peekStartsWith(i)?(this.remaining=this.remaining.substring(i.length),!0):!1}capture(i){if(!this.consumeOptional(i))throw new Xt(4011,!1)}};function ZH(t){return t.segments.length>0?new Jr([],{[Kn]:t}):t}function JH(t){let i={};for(let[r,n]of Object.entries(t.children)){let a=JH(n);if(r===Kn&&a.segments.length===0&&a.hasChildren())for(let[s,o]of Object.entries(a.children))i[s]=o;else(a.segments.length>0||a.hasChildren())&&(i[r]=a)}let e=new Jr(t.segments,i);return _0e(e)}function _0e(t){if(t.numberOfChildren===1&&t.children[Kn]){let i=t.children[Kn];return new Jr(t.segments.concat(i.segments),i.children)}return t}function Sg(t){return t instanceof Ep}function w0e(t,i,e=null,r=null){let n=qH(t);return eG(n,i,e,r)}function qH(t){let i;function e(a){let s={};for(let u of a.children){let l=e(u);s[u.outlet]=l}let o=new Jr(a.url,s);return a===t&&(i=o),o}let r=e(t.root),n=ZH(r);return i??n}function eG(t,i,e,r){let n=t;for(;n.parent;)n=n.parent;if(i.length===0)return Vk(n,n,n,e,r);let a=C0e(i);if(a.toRoot())return Vk(n,n,new Jr([],{}),e,r);let s=S0e(a,n,t),o=s.processChildren?i_(s.segmentGroup,s.index,a.commands):iG(s.segmentGroup,s.index,a.commands);return Vk(n,s.segmentGroup,o,e,r)}function FT(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function s_(t){return typeof t=="object"&&t!=null&&t.outlets}function Vk(t,i,e,r,n){let a={};r&&Object.entries(r).forEach(([u,l])=>{a[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`});let s;t===i?s=e:s=tG(t,i,e);let o=ZH(JH(s));return new Ep(o,a,n)}function tG(t,i,e){let r={};return Object.entries(t.children).forEach(([n,a])=>{a===i?r[n]=e:r[n]=tG(a,i,e)}),new Jr(t.segments,r)}var OT=class{isAbsolute;numberOfDoubleDots;commands;constructor(i,e,r){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=r,i&&r.length>0&&FT(r[0]))throw new Xt(4003,!1);let n=r.find(s_);if(n&&n!==jH(r))throw new Xt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function C0e(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new OT(!0,0,t);let i=0,e=!1,r=t.reduce((n,a,s)=>{if(typeof a=="object"&&a!=null){if(a.outlets){let o={};return Object.entries(a.outlets).forEach(([u,l])=>{o[u]=typeof l=="string"?l.split("/"):l}),[...n,{outlets:o}]}if(a.segmentPath)return[...n,a.segmentPath]}return typeof a!="string"?[...n,a]:s===0?(a.split("/").forEach((o,u)=>{u==0&&o==="."||(u==0&&o===""?e=!0:o===".."?i++:o!=""&&n.push(o))}),n):[...n,a]},[]);return new OT(e,i,r)}var Fy=class{segmentGroup;processChildren;index;constructor(i,e,r){this.segmentGroup=i,this.processChildren=e,this.index=r}};function S0e(t,i,e){if(t.isAbsolute)return new Fy(i,!0,0);if(!e)return new Fy(i,!1,NaN);if(e.parent===null)return new Fy(e,!0,0);let r=FT(t.commands[0])?0:1,n=e.segments.length-1+r;return T0e(e,n,t.numberOfDoubleDots)}function T0e(t,i,e){let r=t,n=i,a=e;for(;a>n;){if(a-=n,r=r.parent,!r)throw new Xt(4005,!1);n=r.segments.length}return new Fy(r,!1,n-a)}function E0e(t){return s_(t[0])?t[0].outlets:{[Kn]:t}}function iG(t,i,e){if(t??=new Jr([],{}),t.segments.length===0&&t.hasChildren())return i_(t,i,e);let r=A0e(t,i,e),n=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let a=new Jr(t.segments.slice(0,r.pathIndex),{});return a.children[Kn]=new Jr(t.segments.slice(r.pathIndex),t.children),i_(a,0,n)}else return r.match&&n.length===0?new Jr(t.segments,{}):r.match&&!t.hasChildren()?Xk(t,i,e):r.match?i_(t,0,n):Xk(t,i,e)}function i_(t,i,e){if(e.length===0)return new Jr(t.segments,{});{let r=E0e(e),n={};if(Object.keys(r).some(a=>a!==Kn)&&t.children[Kn]&&t.numberOfChildren===1&&t.children[Kn].segments.length===0){let a=i_(t.children[Kn],i,e);return new Jr(t.segments,a.children)}return Object.entries(r).forEach(([a,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(n[a]=iG(t.children[a],i,s))}),Object.entries(t.children).forEach(([a,s])=>{r[a]===void 0&&(n[a]=s)}),new Jr(t.segments,n)}}function A0e(t,i,e){let r=0,n=i,a={match:!1,pathIndex:0,commandIndex:0};for(;n<t.segments.length;){if(r>=e.length)return a;let s=t.segments[n],o=e[r];if(s_(o))break;let u=`${o}`,l=r<e.length-1?e[r+1]:null;if(n>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!NH(u,l,s))return a;r+=2}else{if(!NH(u,{},s))return a;r++}n++}return{match:!0,pathIndex:n,commandIndex:r}}function Xk(t,i,e){let r=t.segments.slice(0,i),n=0;for(;n<e.length;){let a=e[n];if(s_(a)){let u=M0e(a.outlets);return new Jr(r,u)}if(n===0&&FT(e[0])){let u=t.segments[i];r.push(new wg(u.path,LH(e[0]))),n++;continue}let s=s_(a)?a.outlets[Kn]:`${a}`,o=n<e.length-1?e[n+1]:null;s&&o&&FT(o)?(r.push(new wg(s,LH(o))),n+=2):(r.push(new wg(s,{})),n++)}return new Jr(r,{})}function M0e(t){let i={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(i[e]=Xk(new Jr([],{}),0,r))}),i}function LH(t){let i={};return Object.entries(t).forEach(([e,r])=>i[e]=`${r}`),i}function NH(t,i,e){return t==e.path&&gf(i,e.parameters)}var n_="imperative",Oo=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Oo||{}),Ad=class{id;url;constructor(i,e){this.id=i,this.url=e}},Vy=class extends Ad{type=Oo.NavigationStart;navigationTrigger;restoredState;constructor(i,e,r="imperative",n=null){super(i,e),this.navigationTrigger=r,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Md=class extends Ad{urlAfterRedirects;type=Oo.NavigationEnd;constructor(i,e,r){super(i,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nu=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Nu||{}),LT=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(LT||{}),Tp=class extends Ad{reason;code;type=Oo.NavigationCancel;constructor(i,e,r,n){super(i,e),this.reason=r,this.code=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nm=class extends Ad{reason;code;type=Oo.NavigationSkipped;constructor(i,e,r,n){super(i,e),this.reason=r,this.code=n}},a_=class extends Ad{error;target;type=Oo.NavigationError;constructor(i,e,r,n){super(i,e),this.error=r,this.target=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},NT=class extends Ad{urlAfterRedirects;state;type=Oo.RoutesRecognized;constructor(i,e,r,n){super(i,e),this.urlAfterRedirects=r,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yk=class extends Ad{urlAfterRedirects;state;type=Oo.GuardsCheckStart;constructor(i,e,r,n){super(i,e),this.urlAfterRedirects=r,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$k=class extends Ad{urlAfterRedirects;state;shouldActivate;type=Oo.GuardsCheckEnd;constructor(i,e,r,n,a){super(i,e),this.urlAfterRedirects=r,this.state=n,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Qk=class extends Ad{urlAfterRedirects;state;type=Oo.ResolveStart;constructor(i,e,r,n){super(i,e),this.urlAfterRedirects=r,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kk=class extends Ad{urlAfterRedirects;state;type=Oo.ResolveEnd;constructor(i,e,r,n){super(i,e),this.urlAfterRedirects=r,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zk=class{route;type=Oo.RouteConfigLoadStart;constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Jk=class{route;type=Oo.RouteConfigLoadEnd;constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},qk=class{snapshot;type=Oo.ChildActivationStart;constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},e3=class{snapshot;type=Oo.ChildActivationEnd;constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},t3=class{snapshot;type=Oo.ActivationStart;constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},i3=class{snapshot;type=Oo.ActivationEnd;constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},BT=class{routerEvent;position;anchor;type=Oo.Scroll;constructor(i,e,r){this.routerEvent=i,this.position=e,this.anchor=r}toString(){let i=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${i}')`}},o_=class{},zy=class{url;navigationBehaviorOptions;constructor(i,e){this.url=i,this.navigationBehaviorOptions=e}};function I0e(t,i){return t.providers&&!t._injector&&(t._injector=YS(t.providers,i,`Route: ${t.path}`)),t._injector??i}function gh(t){return t.outlet||Kn}function D0e(t,i){let e=t.filter(r=>gh(r)===i);return e.push(...t.filter(r=>gh(r)!==i)),e}function p_(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let i=t.parent;i;i=i.parent){let e=i.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var n3=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return p_(this.route?.snapshot)??this.rootInjector}constructor(i){this.rootInjector=i,this.children=new m_(this.rootInjector)}},m_=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let n=this.getOrCreateContext(e);n.outlet=r,this.contexts.set(e,n)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new n3(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)(yi(Ba))};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),VT=class{_root;constructor(i){this._root=i}get root(){return this._root.value}parent(i){let e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){let e=r3(i,this._root);return e?e.children.map(r=>r.value):[]}firstChild(i){let e=r3(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){let e=s3(i,this._root);return e.length<2?[]:e[e.length-2].children.map(n=>n.value).filter(n=>n!==i)}pathFromRoot(i){return s3(i,this._root).map(e=>e.value)}};function r3(t,i){if(t===i.value)return i;for(let e of i.children){let r=r3(t,e);if(r)return r}return null}function s3(t,i){if(t===i.value)return[i];for(let e of i.children){let r=s3(t,e);if(r.length)return r.unshift(i),r}return[]}var Lu=class{value;children;constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}};function ky(t){let i={};return t&&t.children.forEach(e=>i[e.value.outlet]=e),i}var zT=class extends VT{snapshot;constructor(i,e){super(i),this.snapshot=e,p3(this,i)}toString(){return this.snapshot.toString()}};function nG(t){let i=P0e(t),e=new Rn([new wg("",{})]),r=new Rn({}),n=new Rn({}),a=new Rn({}),s=new Rn(""),o=new Va(e,r,a,s,n,Kn,t,i.root);return o.snapshot=i.root,new zT(new Lu(o,[]),i)}function P0e(t){let i={},e={},r={},n="",a=new Oy([],i,r,n,e,Kn,t,null,{});return new HT("",new Lu(a,[]))}var Va=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(i,e,r,n,a,s,o,u){this.urlSubject=i,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=n,this.dataSubject=a,this.outlet=s,this.component=o,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(si(l=>l[h_]))??ui(void 0),this.url=i,this.params=e,this.queryParams=r,this.fragment=n,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(si(i=>Ny(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(si(i=>Ny(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function UT(t,i,e="emptyOnly"){let r,{routeConfig:n}=t;return i!==null&&(e==="always"||n?.path===""||!i.component&&!i.routeConfig?.loadComponent)?r={params:ht(ht({},i.params),t.params),data:ht(ht({},i.data),t.data),resolve:ht(ht(ht(ht({},t.data),i.data),n?.data),t._resolvedData)}:r={params:ht({},t.params),data:ht({},t.data),resolve:ht(ht({},t.data),t._resolvedData??{})},n&&sG(n)&&(r.resolve[h_]=n.title),r}var Oy=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[h_]}constructor(i,e,r,n,a,s,o,u,l){this.url=i,this.params=e,this.queryParams=r,this.fragment=n,this.data=a,this.outlet=s,this.component=o,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ny(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ny(this.queryParams),this._queryParamMap}toString(){let i=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${i}', path:'${e}')`}},HT=class extends VT{url;constructor(i,e){super(e),this.url=i,p3(this,e)}toString(){return rG(this._root)}};function p3(t,i){i.value._routerState=t,i.children.forEach(e=>p3(t,e))}function rG(t){let i=t.children.length>0?` { ${t.children.map(rG).join(", ")} } `:"";return`${t.value}${i}`}function zk(t){if(t.snapshot){let i=t.snapshot,e=t._futureSnapshot;t.snapshot=e,gf(i.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),i.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),gf(i.params,e.params)||t.paramsSubject.next(e.params),r0e(i.url,e.url)||t.urlSubject.next(e.url),gf(i.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function a3(t,i){let e=gf(t.params,i.params)&&l0e(t.url,i.url),r=!t.parent!=!i.parent;return e&&!r&&(!t.parent||a3(t.parent,i.parent))}function sG(t){return typeof t.title=="string"||t.title===null}var R0e=new tt(""),m3=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Kn;activateEvents=new Tt;deactivateEvents=new Tt;attachEvents=new Tt;detachEvents=new Tt;routerOutletData=UV(void 0);parentContexts=le(m_);location=le(xr);changeDetector=le(ki);inputBinder=le(YT,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:n}=e.name;if(r)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Xt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Xt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Xt(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Xt(4013,!1);this._activatedRoute=e;let n=this.location,s=e.snapshot.component,o=this.parentContexts.getOrCreateContext(this.name).children,u=new o3(e,o,n.injector,this.routerOutletData);this.activated=n.createComponent(s,{index:n.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ki]})}return t})(),o3=class t{route;childContexts;parent;outletData;__ngOutletInjector(i){return new t(this.route,this.childContexts,i,this.outletData)}constructor(i,e,r,n){this.route=i,this.childContexts=e,this.parent=r,this.outletData=n}get(i,e){return i===Va?this.route:i===m_?this.childContexts:i===R0e?this.outletData:this.parent.get(i,e)}},YT=new tt(""),BH=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,n=il([r.queryParams,r.params,r.data]).pipe(Mn(([a,s,o],u)=>(o=ht(ht(ht({},a),s),o),u===0?ui(o):Promise.resolve(o)))).subscribe(a=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=LU(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:o}of s.inputs)e.activatedComponentRef.setInput(o,a[o])});this.outletDataSubscriptions.set(e,n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})();function k0e(t,i,e){let r=l_(t,i._root,e?e._root:void 0);return new zT(r,i)}function l_(t,i,e){if(e&&t.shouldReuseRoute(i.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=i.value;let n=F0e(t,i,e);return new Lu(r,n)}else{if(t.shouldAttach(i.value)){let a=t.retrieve(i.value);if(a!==null){let s=a.route;return s.value._futureSnapshot=i.value,s.children=i.children.map(o=>l_(t,o)),s}}let r=O0e(i.value),n=i.children.map(a=>l_(t,a));return new Lu(r,n)}}function F0e(t,i,e){return i.children.map(r=>{for(let n of e.children)if(t.shouldReuseRoute(r.value,n.value.snapshot))return l_(t,r,n);return l_(t,r)})}function O0e(t){return new Va(new Rn(t.url),new Rn(t.params),new Rn(t.queryParams),new Rn(t.fragment),new Rn(t.data),t.outlet,t.component,t)}var c_=class{redirectTo;navigationBehaviorOptions;constructor(i,e){this.redirectTo=i,this.navigationBehaviorOptions=e}},aG="ngNavigationCancelingError";function GT(t,i){let{redirectTo:e,navigationBehaviorOptions:r}=Sg(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,n=oG(!1,Nu.Redirect);return n.url=e,n.navigationBehaviorOptions=r,n}function oG(t,i){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[aG]=!0,e.cancellationCode=i,e}function L0e(t){return lG(t)&&Sg(t.url)}function lG(t){return!!t&&t[aG]}var N0e=(t,i,e,r)=>si(n=>(new l3(i,n.targetRouterState,n.currentRouterState,e,r).activate(t),n)),l3=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(i,e,r,n,a){this.routeReuseStrategy=i,this.futureState=e,this.currState=r,this.forwardEvent=n,this.inputBindingEnabled=a}activate(i){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,i),zk(this.futureState.root),this.activateChildRoutes(e,r,i)}deactivateChildRoutes(i,e,r){let n=ky(e);i.children.forEach(a=>{let s=a.value.outlet;this.deactivateRoutes(a,n[s],r),delete n[s]}),Object.values(n).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(i,e,r){let n=i.value,a=e?e.value:null;if(n===a)if(n.component){let s=r.getContext(n.outlet);s&&this.deactivateChildRoutes(i,e,s.children)}else this.deactivateChildRoutes(i,e,r);else a&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(i,e){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){let r=e.getContext(i.value.outlet),n=r&&i.value.component?r.children:e,a=ky(i);for(let s of Object.values(a))this.deactivateRouteAndItsChildren(s,n);if(r&&r.outlet){let s=r.outlet.detach(),o=r.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:s,route:i,contexts:o})}}deactivateRouteAndOutlet(i,e){let r=e.getContext(i.value.outlet),n=r&&i.value.component?r.children:e,a=ky(i);for(let s of Object.values(a))this.deactivateRouteAndItsChildren(s,n);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(i,e,r){let n=ky(e);i.children.forEach(a=>{this.activateRoutes(a,n[a.value.outlet],r),this.forwardEvent(new i3(a.value.snapshot))}),i.children.length&&this.forwardEvent(new e3(i.value.snapshot))}activateRoutes(i,e,r){let n=i.value,a=e?e.value:null;if(zk(n),n===a)if(n.component){let s=r.getOrCreateContext(n.outlet);this.activateChildRoutes(i,e,s.children)}else this.activateChildRoutes(i,e,r);else if(n.component){let s=r.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let o=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),s.children.onOutletReAttached(o.contexts),s.attachRef=o.componentRef,s.route=o.route.value,s.outlet&&s.outlet.attach(o.componentRef,o.route.value),zk(o.route.value),this.activateChildRoutes(i,null,s.children)}else s.attachRef=null,s.route=n,s.outlet&&s.outlet.activateWith(n,s.injector),this.activateChildRoutes(i,null,s.children)}else this.activateChildRoutes(i,null,r)}},jT=class{path;route;constructor(i){this.path=i,this.route=this.path[this.path.length-1]}},Ly=class{component;route;constructor(i,e){this.component=i,this.route=e}};function B0e(t,i,e){let r=t._root,n=i?i._root:null;return t_(r,n,e,[r.value])}function V0e(t){let i=t.routeConfig?t.routeConfig.canActivateChild:null;return!i||i.length===0?null:{node:t,guards:i}}function Hy(t,i){let e=Symbol(),r=i.get(t,e);return r===e?typeof t=="function"&&!V7(t)?t:i.get(t):r}function t_(t,i,e,r,n={canDeactivateChecks:[],canActivateChecks:[]}){let a=ky(i);return t.children.forEach(s=>{z0e(s,a[s.value.outlet],e,r.concat([s.value]),n),delete a[s.value.outlet]}),Object.entries(a).forEach(([s,o])=>r_(o,e.getContext(s),n)),n}function z0e(t,i,e,r,n={canDeactivateChecks:[],canActivateChecks:[]}){let a=t.value,s=i?i.value:null,o=e?e.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){let u=U0e(s,a,a.routeConfig.runGuardsAndResolvers);u?n.canActivateChecks.push(new jT(r)):(a.data=s.data,a._resolvedData=s._resolvedData),a.component?t_(t,i,o?o.children:null,r,n):t_(t,i,e,r,n),u&&o&&o.outlet&&o.outlet.isActivated&&n.canDeactivateChecks.push(new Ly(o.outlet.component,s))}else s&&r_(i,o,n),n.canActivateChecks.push(new jT(r)),a.component?t_(t,null,o?o.children:null,r,n):t_(t,null,e,r,n);return n}function U0e(t,i,e){if(typeof e=="function")return e(t,i);switch(e){case"pathParamsChange":return!Cg(t.url,i.url);case"pathParamsOrQueryParamsChange":return!Cg(t.url,i.url)||!gf(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!a3(t,i)||!gf(t.queryParams,i.queryParams);case"paramsChange":default:return!a3(t,i)}}function r_(t,i,e){let r=ky(t),n=t.value;Object.entries(r).forEach(([a,s])=>{n.component?i?r_(s,i.children.getContext(a),e):r_(s,null,e):r_(s,i,e)}),n.component?i&&i.outlet&&i.outlet.isActivated?e.canDeactivateChecks.push(new Ly(i.outlet.component,n)):e.canDeactivateChecks.push(new Ly(null,n)):e.canDeactivateChecks.push(new Ly(null,n))}function g_(t){return typeof t=="function"}function H0e(t){return typeof t=="boolean"}function G0e(t){return t&&g_(t.canLoad)}function j0e(t){return t&&g_(t.canActivate)}function W0e(t){return t&&g_(t.canActivateChild)}function X0e(t){return t&&g_(t.canDeactivate)}function Y0e(t){return t&&g_(t.canMatch)}function cG(t){return t instanceof Iu||t?.name==="EmptyError"}var DT=Symbol("INITIAL_VALUE");function Uy(){return Mn(t=>il(t.map(i=>i.pipe(fr(1),Bn(DT)))).pipe(si(i=>{for(let e of i)if(e!==!0){if(e===DT)return DT;if(e===!1||$0e(e))return e}return!0}),ji(i=>i!==DT),fr(1)))}function $0e(t){return Sg(t)||t instanceof c_}function Q0e(t,i){return ea(e=>{let{targetSnapshot:r,currentSnapshot:n,guards:{canActivateChecks:a,canDeactivateChecks:s}}=e;return s.length===0&&a.length===0?ui(Ri(ht({},e),{guardsResult:!0})):K0e(s,r,n,t).pipe(ea(o=>o&&H0e(o)?Z0e(r,a,t,i):ui(o)),si(o=>Ri(ht({},e),{guardsResult:o})))})}function K0e(t,i,e,r){return Ts(t).pipe(ea(n=>ige(n.component,n.route,e,i,r)),ko(n=>n!==!0,!0))}function Z0e(t,i,e,r){return Ts(i).pipe(cp(n=>xd(q0e(n.route.parent,r),J0e(n.route,r),tge(t,n.path,e),ege(t,n.route,e))),ko(n=>n!==!0,!0))}function J0e(t,i){return t!==null&&i&&i(new t3(t)),ui(!0)}function q0e(t,i){return t!==null&&i&&i(new qk(t)),ui(!0)}function ege(t,i,e){let r=i.routeConfig?i.routeConfig.canActivate:null;if(!r||r.length===0)return ui(!0);let n=r.map(a=>bd(()=>{let s=p_(i)??e,o=Hy(a,s),u=j0e(o)?o.canActivate(i,t):jc(s,()=>o(i,t));return Bm(u).pipe(ko())}));return ui(n).pipe(Uy())}function tge(t,i,e){let r=i[i.length-1],a=i.slice(0,i.length-1).reverse().map(s=>V0e(s)).filter(s=>s!==null).map(s=>bd(()=>{let o=s.guards.map(u=>{let l=p_(s.node)??e,c=Hy(u,l),h=W0e(c)?c.canActivateChild(r,t):jc(l,()=>c(r,t));return Bm(h).pipe(ko())});return ui(o).pipe(Uy())}));return ui(a).pipe(Uy())}function ige(t,i,e,r,n){let a=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!a||a.length===0)return ui(!0);let s=a.map(o=>{let u=p_(i)??n,l=Hy(o,u),c=X0e(l)?l.canDeactivate(t,i,e,r):jc(u,()=>l(t,i,e,r));return Bm(c).pipe(ko())});return ui(s).pipe(Uy())}function nge(t,i,e,r){let n=i.canLoad;if(n===void 0||n.length===0)return ui(!0);let a=n.map(s=>{let o=Hy(s,t),u=G0e(o)?o.canLoad(i,e):jc(t,()=>o(i,e));return Bm(u)});return ui(a).pipe(Uy(),uG(r))}function uG(t){return C5(Jn(i=>{if(typeof i!="boolean")throw GT(t,i)}),si(i=>i===!0))}function rge(t,i,e,r){let n=i.canMatch;if(!n||n.length===0)return ui(!0);let a=n.map(s=>{let o=Hy(s,t),u=Y0e(o)?o.canMatch(i,e):jc(t,()=>o(i,e));return Bm(u)});return ui(a).pipe(Uy(),uG(r))}var u_=class{segmentGroup;constructor(i){this.segmentGroup=i||null}},d_=class extends Error{urlTree;constructor(i){super(),this.urlTree=i}};function Ry(t){return nf(new u_(t))}function sge(t){return nf(new Xt(4e3,!1))}function age(t){return nf(oG(!1,Nu.GuardRejected))}var c3=class{urlSerializer;urlTree;constructor(i,e){this.urlSerializer=i,this.urlTree=e}lineralizeSegments(i,e){let r=[],n=e.root;for(;;){if(r=r.concat(n.segments),n.numberOfChildren===0)return ui(r);if(n.numberOfChildren>1||!n.children[Kn])return sge(`${i.redirectTo}`);n=n.children[Kn]}}applyRedirectCommands(i,e,r,n,a){if(typeof e!="string"){let o=e,{queryParams:u,fragment:l,routeConfig:c,url:h,outlet:d,params:f,data:m,title:p}=n,g=jc(a,()=>o({params:f,data:m,queryParams:u,fragment:l,routeConfig:c,url:h,outlet:d,title:p}));if(g instanceof Ep)throw new d_(g);e=g}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),i,r);if(e[0]==="/")throw new d_(s);return s}applyRedirectCreateUrlTree(i,e,r,n){let a=this.createSegmentGroup(i,e.root,r,n);return new Ep(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){let r={};return Object.entries(i).forEach(([n,a])=>{if(typeof a=="string"&&a[0]===":"){let o=a.substring(1);r[n]=e[o]}else r[n]=a}),r}createSegmentGroup(i,e,r,n){let a=this.createSegments(i,e.segments,r,n),s={};return Object.entries(e.children).forEach(([o,u])=>{s[o]=this.createSegmentGroup(i,u,r,n)}),new Jr(a,s)}createSegments(i,e,r,n){return e.map(a=>a.path[0]===":"?this.findPosParam(i,a,n):this.findOrReturn(a,r))}findPosParam(i,e,r){let n=r[e.path.substring(1)];if(!n)throw new Xt(4001,!1);return n}findOrReturn(i,e){let r=0;for(let n of e){if(n.path===i.path)return e.splice(r),n;r++}return i}},u3={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oge(t,i,e,r,n){let a=dG(t,i,e);return a.matched?(r=I0e(i,r),rge(r,i,e,n).pipe(si(s=>s===!0?a:ht({},u3)))):ui(a)}function dG(t,i,e){if(i.path==="**")return lge(e);if(i.path==="")return i.pathMatch==="full"&&(t.hasChildren()||e.length>0)?ht({},u3):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let n=(i.matcher||n0e)(e,t,i);if(!n)return ht({},u3);let a={};Object.entries(n.posParams??{}).forEach(([o,u])=>{a[o]=u.path});let s=n.consumed.length>0?ht(ht({},a),n.consumed[n.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:n.consumed,remainingSegments:e.slice(n.consumed.length),parameters:s,positionalParamSegments:n.posParams??{}}}function lge(t){return{matched:!0,parameters:t.length>0?jH(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function VH(t,i,e,r){return e.length>0&&dge(t,e,r)?{segmentGroup:new Jr(i,uge(r,new Jr(e,t.children))),slicedSegments:[]}:e.length===0&&hge(t,e,r)?{segmentGroup:new Jr(t.segments,cge(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new Jr(t.segments,t.children),slicedSegments:e}}function cge(t,i,e,r){let n={};for(let a of e)if($T(t,i,a)&&!r[gh(a)]){let s=new Jr([],{});n[gh(a)]=s}return ht(ht({},r),n)}function uge(t,i){let e={};e[Kn]=i;for(let r of t)if(r.path===""&&gh(r)!==Kn){let n=new Jr([],{});e[gh(r)]=n}return e}function dge(t,i,e){return e.some(r=>$T(t,i,r)&&gh(r)!==Kn)}function hge(t,i,e){return e.some(r=>$T(t,i,r))}function $T(t,i,e){return(t.hasChildren()||i.length>0)&&e.pathMatch==="full"?!1:e.path===""}function fge(t,i,e){return i.length===0&&!t.children[e]}var d3=class{};function pge(t,i,e,r,n,a,s="emptyOnly"){return new h3(t,i,e,r,n,s,a).recognize()}var mge=31,h3=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(i,e,r,n,a,s,o){this.injector=i,this.configLoader=e,this.rootComponentType=r,this.config=n,this.urlTree=a,this.paramsInheritanceStrategy=s,this.urlSerializer=o,this.applyRedirects=new c3(this.urlSerializer,this.urlTree)}noMatchError(i){return new Xt(4002,`'${i.segmentGroup}'`)}recognize(){let i=VH(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(si(({children:e,rootSnapshot:r})=>{let n=new Lu(r,e),a=new HT("",n),s=w0e(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(s),{state:a,tree:s}}))}match(i){let e=new Oy([],Object.freeze({}),Object.freeze(ht({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Kn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,Kn,e).pipe(si(r=>({children:r,rootSnapshot:e})),Ur(r=>{if(r instanceof d_)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof u_?this.noMatchError(r):r}))}processSegmentGroup(i,e,r,n,a){return r.segments.length===0&&r.hasChildren()?this.processChildren(i,e,r,a):this.processSegment(i,e,r,r.segments,n,!0,a).pipe(si(s=>s instanceof Lu?[s]:[]))}processChildren(i,e,r,n){let a=[];for(let s of Object.keys(r.children))s==="primary"?a.unshift(s):a.push(s);return Ts(a).pipe(cp(s=>{let o=r.children[s],u=D0e(e,s);return this.processSegmentGroup(i,u,o,s,n)}),R5((s,o)=>(s.push(...o),s)),Sm(null),P5(),ea(s=>{if(s===null)return Ry(r);let o=hG(s);return gge(o),ui(o)}))}processSegment(i,e,r,n,a,s,o){return Ts(e).pipe(cp(u=>this.processSegmentAgainstRoute(u._injector??i,e,u,r,n,a,s,o).pipe(Ur(l=>{if(l instanceof u_)return ui(null);throw l}))),ko(u=>!!u),Ur(u=>{if(cG(u))return fge(r,n,a)?ui(new d3):Ry(r);throw u}))}processSegmentAgainstRoute(i,e,r,n,a,s,o,u){return gh(r)!==s&&(s===Kn||!$T(n,a,r))?Ry(n):r.redirectTo===void 0?this.matchSegmentAgainstRoute(i,n,r,a,s,u):this.allowRedirects&&o?this.expandSegmentAgainstRouteUsingRedirect(i,n,e,r,a,s,u):Ry(n)}expandSegmentAgainstRouteUsingRedirect(i,e,r,n,a,s,o){let{matched:u,parameters:l,consumedSegments:c,positionalParamSegments:h,remainingSegments:d}=dG(e,n,a);if(!u)return Ry(e);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mge&&(this.allowRedirects=!1));let f=new Oy(a,l,Object.freeze(ht({},this.urlTree.queryParams)),this.urlTree.fragment,zH(n),gh(n),n.component??n._loadedComponent??null,n,UH(n)),m=UT(f,o,this.paramsInheritanceStrategy);f.params=Object.freeze(m.params),f.data=Object.freeze(m.data);let p=this.applyRedirects.applyRedirectCommands(c,n.redirectTo,h,f,i);return this.applyRedirects.lineralizeSegments(n,p).pipe(ea(g=>this.processSegment(i,r,e,g.concat(d),s,!1,o)))}matchSegmentAgainstRoute(i,e,r,n,a,s){let o=oge(e,r,n,i,this.urlSerializer);return r.path==="**"&&(e.children={}),o.pipe(Mn(u=>u.matched?(i=r._injector??i,this.getChildConfig(i,r,n).pipe(Mn(({routes:l})=>{let c=r._loadedInjector??i,{parameters:h,consumedSegments:d,remainingSegments:f}=u,m=new Oy(d,h,Object.freeze(ht({},this.urlTree.queryParams)),this.urlTree.fragment,zH(r),gh(r),r.component??r._loadedComponent??null,r,UH(r)),p=UT(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(p.params),m.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:v}=VH(e,d,f,l);if(v.length===0&&g.hasChildren())return this.processChildren(c,l,g,m).pipe(si(x=>new Lu(m,x)));if(l.length===0&&v.length===0)return ui(new Lu(m,[]));let y=gh(r)===a;return this.processSegment(c,l,g,v,y?Kn:a,!0,m).pipe(si(x=>new Lu(m,x instanceof Lu?[x]:[])))}))):Ry(e)))}getChildConfig(i,e,r){return e.children?ui({routes:e.children,injector:i}):e.loadChildren?e._loadedRoutes!==void 0?ui({routes:e._loadedRoutes,injector:e._loadedInjector}):nge(i,e,r,this.urlSerializer).pipe(ea(n=>n?this.configLoader.loadChildren(i,e).pipe(Jn(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):age(e))):ui({routes:[],injector:i})}};function gge(t){t.sort((i,e)=>i.value.outlet===Kn?-1:e.value.outlet===Kn?1:i.value.outlet.localeCompare(e.value.outlet))}function vge(t){let i=t.value.routeConfig;return i&&i.path===""}function hG(t){let i=[],e=new Set;for(let r of t){if(!vge(r)){i.push(r);continue}let n=i.find(a=>r.value.routeConfig===a.value.routeConfig);n!==void 0?(n.children.push(...r.children),e.add(n)):i.push(r)}for(let r of e){let n=hG(r.children);i.push(new Lu(r.value,n))}return i.filter(r=>!e.has(r))}function zH(t){return t.data||{}}function UH(t){return t.resolve||{}}function yge(t,i,e,r,n,a){return ea(s=>pge(t,i,e,r,s.extractedUrl,n,a).pipe(si(({state:o,tree:u})=>Ri(ht({},s),{targetSnapshot:o,urlAfterRedirects:u}))))}function xge(t,i){return ea(e=>{let{targetSnapshot:r,guards:{canActivateChecks:n}}=e;if(!n.length)return ui(e);let a=new Set(n.map(u=>u.route)),s=new Set;for(let u of a)if(!s.has(u))for(let l of fG(u))s.add(l);let o=0;return Ts(s).pipe(cp(u=>a.has(u)?bge(u,r,t,i):(u.data=UT(u,u.parent,t).resolve,ui(void 0))),Jn(()=>o++),ey(1),ea(u=>o===s.size?ui(e):Ea))})}function fG(t){let i=t.children.map(e=>fG(e)).flat();return[t,...i]}function bge(t,i,e,r){let n=t.routeConfig,a=t._resolve;return n?.title!==void 0&&!sG(n)&&(a[h_]=n.title),_ge(a,t,i,r).pipe(si(s=>(t._resolvedData=s,t.data=UT(t,t.parent,e).resolve,null)))}function _ge(t,i,e,r){let n=Gk(t);if(n.length===0)return ui({});let a={};return Ts(n).pipe(ea(s=>wge(t[s],i,e,r).pipe(ko(),Jn(o=>{if(o instanceof c_)throw GT(new By,o);a[s]=o}))),ey(1),si(()=>a),Ur(s=>cG(s)?Ea:nf(s)))}function wge(t,i,e,r){let n=p_(i)??r,a=Hy(t,n),s=a.resolve?a.resolve(i,e):jc(n,()=>a(i,e));return Bm(s)}function Uk(t){return Mn(i=>{let e=t(i);return e?Ts(e).pipe(si(()=>i)):ui(i)})}var pG=(()=>{class t{buildTitle(e){let r,n=e.root;for(;n!==void 0;)r=this.getResolvedTitleForRoute(n)??r,n=n.children.find(a=>a.outlet===Kn);return r}getResolvedTitleForRoute(e){return e.data[h_]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:()=>le(Cge),providedIn:"root"})}return t})(),Cge=(()=>{class t extends pG{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(yi(kH))};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),v_=new tt("",{providedIn:"root",factory:()=>({})}),Sge=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,n){r&1&&He(0,"router-outlet")},dependencies:[m3],encapsulation:2})}return t})();function g3(t){let i=t.children&&t.children.map(g3),e=i?Ri(ht({},t),{children:i}):ht({},t);return!e.component&&!e.loadComponent&&(i||e.loadChildren)&&e.outlet&&e.outlet!==Kn&&(e.component=Sge),e}var WT=new tt(""),v3=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=le(eT);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ui(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=Bm(e.loadComponent()).pipe(si(mG),Jn(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),_d(()=>{this.componentLoaders.delete(e)})),n=new _m(r,()=>new mt).pipe(Xv());return this.componentLoaders.set(e,n),n}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ui({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let a=Tge(r,this.compiler,e,this.onLoadEndListener).pipe(_d(()=>{this.childrenLoaders.delete(r)})),s=new _m(a,()=>new mt).pipe(Xv());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Tge(t,i,e,r){return Bm(t.loadChildren()).pipe(si(mG),ea(n=>n instanceof Pb||Array.isArray(n)?ui(n):Ts(i.compileModuleAsync(n))),si(n=>{r&&r(t);let a,s,o=!1;return Array.isArray(n)?(s=n,o=!0):(a=n.create(e).injector,s=a.get(WT,[],{optional:!0,self:!0}).flat()),{routes:s.map(g3),injector:a}}))}function Ege(t){return t&&typeof t=="object"&&"default"in t}function mG(t){return Ege(t)?t.default:t}var y3=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:()=>le(Age),providedIn:"root"})}return t})(),Age=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gG=new tt(""),vG=new tt("");function Mge(t,i,e){let r=t.get(vG),n=t.get(Di);return t.get(ri).runOutsideAngular(()=>{if(!n.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let a,s=new Promise(l=>{a=l}),o=n.startViewTransition(()=>(a(),Ige(t))),{onViewTransitionCreated:u}=r;return u&&jc(t,()=>u({transition:o,from:i,to:e})),s})}function Ige(t){return new Promise(i=>{ls({read:()=>setTimeout(i)},{injector:t})})}var yG=new tt(""),x3=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new mt;transitionAbortSubject=new mt;configLoader=le(v3);environmentInjector=le(Ba);destroyRef=le(yg);urlSerializer=le(f_);rootContexts=le(m_);location=le(Om);inputBindingEnabled=le(YT,{optional:!0})!==null;titleStrategy=le(pG);options=le(v_,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=le(y3);createViewTransition=le(gG,{optional:!0});navigationErrorHandler=le(yG,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ui(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=n=>this.events.next(new Zk(n)),r=n=>this.events.next(new Jk(n));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(Ri(ht(ht({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,n){return this.transitions=new Rn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:n_,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ji(a=>a.id!==0),si(a=>Ri(ht({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Mn(a=>{let s=!1,o=!1;return ui(a).pipe(Mn(u=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",Nu.SupersededByNewNavigation),Ea;this.currentTransition=a,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ri(ht({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=u.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!l&&c!=="reload"){let h="";return this.events.next(new Nm(u.id,this.urlSerializer.serialize(u.rawUrl),h,LT.IgnoredSameUrlNavigation)),u.resolve(!1),Ea}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ui(u).pipe(Mn(h=>{let d=this.transitions?.getValue();return this.events.next(new Vy(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),d!==this.transitions?.getValue()?Ea:Promise.resolve(h)}),yge(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Jn(h=>{a.targetSnapshot=h.targetSnapshot,a.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Ri(ht({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let d=new NT(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(d)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:d,source:f,restoredState:m,extras:p}=u,g=new Vy(h,this.urlSerializer.serialize(d),f,m);this.events.next(g);let v=nG(this.rootComponentType).snapshot;return this.currentTransition=a=Ri(ht({},u),{targetSnapshot:v,urlAfterRedirects:d,extras:Ri(ht({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,ui(a)}else{let h="";return this.events.next(new Nm(u.id,this.urlSerializer.serialize(u.extractedUrl),h,LT.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Ea}}),Jn(u=>{let l=new Yk(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),si(u=>(this.currentTransition=a=Ri(ht({},u),{guards:B0e(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),a)),Q0e(this.environmentInjector,u=>this.events.next(u)),Jn(u=>{if(a.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw GT(this.urlSerializer,u.guardsResult);let l=new $k(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ji(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Nu.GuardRejected),!1)),Uk(u=>{if(u.guards.canActivateChecks.length)return ui(u).pipe(Jn(l=>{let c=new Qk(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Mn(l=>{let c=!1;return ui(l).pipe(xge(this.paramsInheritanceStrategy,this.environmentInjector),Jn({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(l,"",Nu.NoDataFromResolver)}}))}),Jn(l=>{let c=new Kk(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),Uk(u=>{let l=c=>{let h=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(c.routeConfig).pipe(Jn(d=>{c.component=d}),si(()=>{})));for(let d of c.children)h.push(...l(d));return h};return il(l(u.targetSnapshot.root)).pipe(Sm(null),fr(1))}),Uk(()=>this.afterPreactivation()),Mn(()=>{let{currentSnapshot:u,targetSnapshot:l}=a,c=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return c?Ts(c).pipe(si(()=>a)):ui(a)}),si(u=>{let l=k0e(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=a=Ri(ht({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,a}),Jn(()=>{this.events.next(new o_)}),N0e(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),fr(1),Jn({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Md(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),pi(this.transitionAbortSubject.pipe(Jn(u=>{throw u}))),_d(()=>{!s&&!o&&this.cancelNavigationTransition(a,"",Nu.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ur(u=>{if(this.destroyed)return a.resolve(!1),Ea;if(o=!0,lG(u))this.events.next(new Tp(a.id,this.urlSerializer.serialize(a.extractedUrl),u.message,u.cancellationCode)),L0e(u)?this.events.next(new zy(u.url,u.navigationBehaviorOptions)):a.resolve(!1);else{let l=new a_(a.id,this.urlSerializer.serialize(a.extractedUrl),u,a.targetSnapshot??void 0);try{let c=jc(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(c instanceof c_){let{message:h,cancellationCode:d}=GT(this.urlSerializer,c);this.events.next(new Tp(a.id,this.urlSerializer.serialize(a.extractedUrl),h,d)),this.events.next(new zy(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(l),u}catch(c){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(c)}}return Ea}))}))}cancelNavigationTransition(e,r,n){let a=new Tp(e.id,this.urlSerializer.serialize(e.extractedUrl),r,n);this.events.next(a),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dge(t){return t!==n_}var Pge=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:()=>le(Rge),providedIn:"root"})}return t})(),f3=class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}},Rge=(()=>{class t extends f3{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xG=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:()=>le(kge),providedIn:"root"})}return t})(),kge=(()=>{class t extends xG{location=le(Om);urlSerializer=le(f_);options=le(v_,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=le(y3);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ep;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=nG(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof Vy)this.stateMemento=this.createStateMemento();else if(e instanceof Nm)this.rawUrlTree=r.initialUrl;else if(e instanceof NT){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let n=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??n,r)}}else e instanceof o_?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof Tp&&(e.code===Nu.GuardRejected||e.code===Nu.NoDataFromResolver)?this.restoreHistory(r):e instanceof a_?this.restoreHistory(r,!0):e instanceof Md&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let n=e instanceof Ep?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(n)||r.extras.replaceUrl){let a=this.browserPageId,s=ht(ht({},r.extras.state),this.generateNgRouterState(r.id,a));this.location.replaceState(n,"",s)}else{let a=ht(ht({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,a=this.currentPageId-n;a!==0?this.location.historyGo(a):this.currentUrlTree===e.finalUrl&&a===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bG(t,i){t.events.pipe(ji(e=>e instanceof Md||e instanceof Tp||e instanceof a_||e instanceof Nm),si(e=>e instanceof Md||e instanceof Nm?0:(e instanceof Tp?e.code===Nu.Redirect||e.code===Nu.SupersededByNewNavigation:!1)?2:1),ji(e=>e!==2),fr(1)).subscribe(()=>{i()})}var Fge={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oge={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xo=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=le(XR);stateManager=le(xG);options=le(v_,{optional:!0})||{};pendingTasks=le(ff);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=le(x3);urlSerializer=le(f_);location=le(Om);urlHandlingStrategy=le(y3);_events=new mt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=le(Pge);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=le(WT,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!le(YT,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Vi;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let n=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(n!==null&&a!==null){if(this.stateManager.handleRouterEvent(r,a),r instanceof Tp&&r.code!==Nu.Redirect&&r.code!==Nu.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Md)this.navigated=!0;else if(r instanceof zy){let s=r.navigationBehaviorOptions,o=this.urlHandlingStrategy.merge(r.url,n.currentRawUrl),u=ht({browserUrl:n.extras.browserUrl,info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:n.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Dge(n.source)},s);this.scheduleNavigation(o,n_,null,u,{resolve:n.resolve,reject:n.reject,promise:n.promise})}}Nge(r)&&this._events.next(r)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),n_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,n){let a={replaceUrl:!0},s=n?.navigationId?n:null;if(n){let u=ht({},n);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(a.state=u)}let o=this.parseUrl(e);this.scheduleNavigation(o,r,s,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(g3),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:n,queryParams:a,fragment:s,queryParamsHandling:o,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,c=null;switch(o??this.options.defaultQueryParamsHandling){case"merge":c=ht(ht({},this.currentUrlTree.queryParams),a);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=a||null}c!==null&&(c=this.removeEmptyProps(c));let h;try{let d=n?n.snapshot:this.routerState.snapshot.root;h=qH(d)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return eG(h,e,c,l??null)}navigateByUrl(e,r={skipLocationChange:!1}){let n=Sg(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(a,n_,null,r)}navigate(e,r={skipLocationChange:!1}){return Lge(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let n;if(r===!0?n=ht({},Fge):r===!1?n=ht({},Oge):n=r,Sg(e))return FH(this.currentUrlTree,e,n);let a=this.parseUrl(e);return FH(this.currentUrlTree,a,n)}removeEmptyProps(e){return Object.entries(e).reduce((r,[n,a])=>(a!=null&&(r[n]=a),r),{})}scheduleNavigation(e,r,n,a,s){if(this.disposed)return Promise.resolve(!1);let o,u,l;s?(o=s.resolve,u=s.reject,l=s.promise):l=new Promise((h,d)=>{o=h,u=d});let c=this.pendingTasks.add();return bG(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:a,resolve:o,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Lge(t){for(let i=0;i<t.length;i++)if(t[i]==null)throw new Xt(4008,!1)}function Nge(t){return!(t instanceof o_)&&!(t instanceof zy)}var Gy=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new mt;constructor(e,r,n,a,s,o){this.router=e,this.route=r,this.tabIndexAttribute=n,this.renderer=a,this.el=s,this.locationStrategy=o;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof Md&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Sg(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,n,a,s){let o=this.urlTree;if(o===null||this.isAnchorElement&&(e!==0||r||n||a||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(o,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:pz(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let n=this.renderer,a=this.el.nativeElement;r!==null?n.setAttribute(a,e,r):n.removeAttribute(a,e)}get urlTree(){return this.routerLinkInput===null?null:Sg(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(je(xo),je(Va),zS("tabindex"),je(Qn),je(Pt),je(Sp))};static \u0275dir=_t({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,n){r&1&&we("click",function(s){return n.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ti("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Rt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Rt],replaceUrl:[2,"replaceUrl","replaceUrl",Rt],routerLink:"routerLink"},features:[Mi,Ki]})}return t})();var XT=class{};var Bge=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,n,a,s){this.router=e,this.injector=n,this.preloadingStrategy=a,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ji(e=>e instanceof Md),cp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let n=[];for(let a of r){a.providers&&!a._injector&&(a._injector=YS(a.providers,e,`Route: ${a.path}`));let s=a._injector??e,o=a._loadedInjector??s;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&n.push(this.preloadConfig(s,a)),(a.children||a._loadedRoutes)&&n.push(this.processRoutes(o,a.children??a._loadedRoutes))}return Ts(n).pipe(Cm())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let n;r.loadChildren&&r.canLoad===void 0?n=this.loader.loadChildren(e,r):n=ui(null);let a=n.pipe(ea(s=>s===null?ui(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ts([a,s]).pipe(Cm())}else return a})}static \u0275fac=function(r){return new(r||t)(yi(xo),yi(eT),yi(Ba),yi(XT),yi(v3))};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_G=new tt(""),Vge=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,n,a,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=n,this.zone=a,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Vy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Md?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Nm&&e.code===LT.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof BT&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new BT(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){jz()};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})();function zge(t){return t.routerState.root}function y_(t,i){return{\u0275kind:t,\u0275providers:i}}function Uge(){let t=le(Wi);return i=>{let e=t.get(_c);if(i!==e.components[0])return;let r=t.get(xo),n=t.get(wG);t.get(b3)===1&&r.initialNavigation(),t.get(CG,null,qn.Optional)?.setUpPreloading(),t.get(_G,null,qn.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var wG=new tt("",{factory:()=>new mt}),b3=new tt("",{providedIn:"root",factory:()=>1});function Hge(){return y_(2,[{provide:b3,useValue:0},{provide:ZS,multi:!0,deps:[Wi],useFactory:i=>{let e=i.get(YU,Promise.resolve());return()=>e.then(()=>new Promise(r=>{let n=i.get(xo),a=i.get(wG);bG(n,()=>{r(!0)}),i.get(x3).afterPreactivation=()=>(r(!0),a.closed?ui(void 0):a),n.initialNavigation()}))}}])}function Gge(){return y_(3,[{provide:ZS,multi:!0,useFactory:()=>{let i=le(xo);return()=>{i.setUpLocationChangeListener()}}},{provide:b3,useValue:2}])}var CG=new tt("");function jge(t){return y_(0,[{provide:CG,useExisting:Bge},{provide:XT,useExisting:t}])}function Wge(){return y_(8,[BH,{provide:YT,useExisting:BH}])}function Xge(t){let i=[{provide:gG,useValue:Mge},{provide:vG,useValue:ht({skipNextTransition:!!t?.skipInitialTransition},t)}];return y_(9,i)}var Yge=[Om,{provide:f_,useClass:By},xo,m_,{provide:Va,useFactory:zge,deps:[xo]},v3,[]],_3=(()=>{class t{constructor(){}static forRoot(e,r){return{ngModule:t,providers:[Yge,[],{provide:WT,multi:!0,useValue:e},[],r?.errorHandler?{provide:yG,useValue:r.errorHandler}:[],{provide:v_,useValue:r||{}},r?.useHash?Qge():Kge(),$ge(),r?.preloadingStrategy?jge(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Zge(r):[],r?.bindToComponentInputs?Wge().\u0275providers:[],r?.enableViewTransitions?Xge().\u0275providers:[],Jge()]}}static forChild(e){return{ngModule:t,providers:[{provide:WT,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({})}return t})();function $ge(){return{provide:_G,useFactory:()=>{let t=le(sH),i=le(ri),e=le(v_),r=le(x3),n=le(f_);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Vge(n,r,t,i,e)}}}function Qge(){return{provide:Sp,useClass:QU}}function Kge(){return{provide:Sp,useClass:xk}}function Zge(t){return[t.initialNavigation==="disabled"?Gge().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Hge().\u0275providers:[]]}var HH=new tt("");function Jge(){return[{provide:HH,useFactory:Uge},{provide:JS,multi:!0,useExisting:HH}]}var Tg=class{};function KT(t){return t&&typeof t.connect=="function"&&!(t instanceof _m)}var jy=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}(jy||{}),x_=new tt("_ViewRepeater"),Wy=class{applyChanges(i,e,r,n,a){i.forEachOperation((s,o,u)=>{let l,c;if(s.previousIndex==null){let h=r(s,o,u);l=e.createEmbeddedView(h.templateRef,h.context,h.index),c=jy.INSERTED}else u==null?(e.remove(o),c=jy.REMOVED):(l=e.get(o),e.move(l,u),c=jy.MOVED);a&&a({context:l?.context,operation:c,record:s})})}detach(){}};var QT=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new mt;constructor(i=!1,e,r=!0,n){this._multiple=i,this._emitChanges=r,this.compareWith=n,e&&e.length&&(i?e.forEach(a=>this._markSelected(a)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...i){this._verifyValueAssignment(i),i.forEach(r=>this._markSelected(r));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...i){this._verifyValueAssignment(i),i.forEach(r=>this._unmarkSelected(r));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...i){this._verifyValueAssignment(i);let e=this.selected,r=new Set(i);i.forEach(a=>this._markSelected(a)),e.filter(a=>!r.has(this._getConcreteValue(a,r))).forEach(a=>this._unmarkSelected(a));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}toggle(i){return this.isSelected(i)?this.deselect(i):this.select(i)}clear(i=!0){this._unmarkAll();let e=this._hasQueuedChanges();return i&&this._emitChangeEvent(),e}isSelected(i){return this._selection.has(this._getConcreteValue(i))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){i=this._getConcreteValue(i),this.isSelected(i)||(this._multiple||this._unmarkAll(),this.isSelected(i)||this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){i=this._getConcreteValue(i),this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){i.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(i,e){if(this.compareWith){e=e??this._selection;for(let r of e)if(this.compareWith(i,r))return r;return i}else return i}};var Xy=(()=>{class t{_listeners=[];notify(e,r){for(let n of this._listeners)n(e,r)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(r=>e!==r)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var C3;try{C3=typeof Intl<"u"&&Intl.v8BreakIterator}catch{C3=!1}var In=(()=>{class t{_platformId=le(vp);isBrowser=this._platformId?rH(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||C3)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Yy,SG=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function S3(){if(Yy)return Yy;if(typeof document!="object"||!document)return Yy=new Set(SG),Yy;let t=document.createElement("input");return Yy=new Set(SG.filter(i=>(t.setAttribute("type",i),t.type===i))),Yy}var b_;function qge(){if(b_==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>b_=!0}))}finally{b_=b_||!1}return b_}function cl(t){return qge()?t:!!t.capture}var yh=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(yh||{}),ZT,Eg;function JT(){if(Eg==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Eg=!1,Eg;if("scrollBehavior"in document.documentElement.style)Eg=!0;else{let t=Element.prototype.scrollTo;t?Eg=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Eg=!1}}return Eg}function $y(){if(typeof document!="object"||!document)return yh.NORMAL;if(ZT==null){let t=document.createElement("div"),i=t.style;t.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";let e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",t.appendChild(e),document.body.appendChild(t),ZT=yh.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,ZT=t.scrollLeft===0?yh.NEGATED:yh.INVERTED),t.remove()}return ZT}var w3;function eve(){if(w3==null){let t=typeof document<"u"?document.head:null;w3=!!(t&&(t.createShadowRoot||t.attachShadow))}return w3}function Qy(t){if(eve()){let i=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function Ky(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let i=t.shadowRoot.activeElement;if(i===t)break;t=i}return t}function Za(t){return t.composedPath?t.composedPath()[0]:t.target}function T3(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function E3(t,i,e,r,n){let a=parseInt(nk.major),s=parseInt(nk.minor);return a>19||a===19&&s>0||a===0&&s===0?t.listen(i,e,r,n):(i.addEventListener(e,r,n),()=>{i.removeEventListener(e,r,n)})}var qT=new WeakMap,gr=(()=>{class t{_appRef;_injector=le(Wi);_environmentInjector=le(Ba);load(e){let r=this._appRef=this._appRef||this._injector.get(_c),n=qT.get(r);n||(n={loaders:new Set,refs:[]},qT.set(r,n),r.onDestroy(()=>{qT.get(r)?.refs.forEach(a=>a.destroy()),qT.delete(r)})),n.loaders.has(e)||(n.loaders.add(e),n.refs.push(iT(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ag=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,n){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return t})();function Is(t,...i){return i.length?i.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function Xs(t){return t!=null&&`${t}`!="false"}function Lo(t,i=0){return A3(t)?Number(t):arguments.length===2?i:0}function A3(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Vm(t){return Array.isArray(t)?t:[t]}function za(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Pa(t){return t instanceof Pt?t.nativeElement:t}function tve(t){if(t.type==="characterData"&&t.target instanceof Comment)return!0;if(t.type==="childList"){for(let i=0;i<t.addedNodes.length;i++)if(!(t.addedNodes[i]instanceof Comment))return!1;for(let i=0;i<t.removedNodes.length;i++)if(!(t.removedNodes[i]instanceof Comment))return!1;return!0}return!1}var TG=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),EG=(()=>{class t{_mutationObserverFactory=le(TG);_observedElements=new Map;_ngZone=le(ri);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){let r=Pa(e);return new rn(n=>{let s=this._observeElement(r).pipe(si(o=>o.filter(u=>!tve(u))),ji(o=>!!o.length)).subscribe(o=>{this._ngZone.run(()=>{n.next(o)})});return()=>{s.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let r=new mt,n=this._mutationObserverFactory.create(a=>r.next(a));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:r,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:r,stream:n}=this._observedElements.get(e);r&&r.disconnect(),n.complete(),this._observedElements.delete(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eE=(()=>{class t{_contentObserver=le(EG);_elementRef=le(Pt);event=new Tt;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=Lo(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(ta(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Rt],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],features:[Mi]})}return t})(),Zy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:[TG]})}return t})();var AG=new Set,Mg,ive=(()=>{class t{_platform=le(In);_nonce=le(Nb,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):rve}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&nve(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nve(t,i){if(!AG.has(t))try{Mg||(Mg=document.createElement("style"),i&&Mg.setAttribute("nonce",i),Mg.setAttribute("type","text/css"),document.head.appendChild(Mg)),Mg.sheet&&(Mg.sheet.insertRule(`@media ${t} {body{ }}`,0),AG.add(t))}catch(e){console.error(e)}}function rve(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Jy=(()=>{class t{_mediaMatcher=le(ive);_zone=le(ri);_queries=new Map;_destroySubject=new mt;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return MG(Vm(e)).some(n=>this._registerQuery(n).mql.matches)}observe(e){let n=MG(Vm(e)).map(s=>this._registerQuery(s).observable),a=il(n);return a=xd(a.pipe(fr(1)),a.pipe(eg(1),ta(0))),a.pipe(si(s=>{let o={matches:!1,breakpoints:{}};return s.forEach(({matches:u,query:l})=>{o.matches=o.matches||u,o.breakpoints[l]=u}),o}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let r=this._mediaMatcher.matchMedia(e),a={observable:new rn(s=>{let o=u=>this._zone.run(()=>s.next(u));return r.addListener(o),()=>{r.removeListener(o)}}).pipe(Bn(r),si(({matches:s})=>({query:e,matches:s})),pi(this._destroySubject)),mql:r};return this._queries.set(e,a),a}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function MG(t){return t.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}var tE={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var kG=" ";function n1(t,i,e){let r=sE(t,i);e=e.trim(),!r.some(n=>n.trim()===e)&&(r.push(e),t.setAttribute(i,r.join(kG)))}function Um(t,i,e){let r=sE(t,i);e=e.trim();let n=r.filter(a=>a!==e);n.length?t.setAttribute(i,n.join(kG)):t.removeAttribute(i)}function sE(t,i){return t.getAttribute(i)?.match(/\S+/g)??[]}var FG="cdk-describedby-message",iE="cdk-describedby-host",P3=0,oE=(()=>{class t{_platform=le(In);_document=le(Di);_messageRegistry=new Map;_messagesContainer=null;_id=`${P3++}`;constructor(){le(gr).load(Ag),this._id=le(_y)+"-"+P3++}describe(e,r,n){if(!this._canBeDescribed(e,r))return;let a=M3(r,n);typeof r!="string"?(IG(r,this._id),this._messageRegistry.set(a,{messageElement:r,referenceCount:0})):this._messageRegistry.has(a)||this._createMessageElement(r,n),this._isElementDescribedByMessage(e,a)||this._addMessageReference(e,a)}removeDescription(e,r,n){if(!r||!this._isElementNode(e))return;let a=M3(r,n);if(this._isElementDescribedByMessage(e,a)&&this._removeMessageReference(e,a),typeof r=="string"){let s=this._messageRegistry.get(a);s&&s.referenceCount===0&&this._deleteMessageElement(a)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${iE}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute(iE);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){let n=this._document.createElement("div");IG(n,this._id),n.textContent=e,r&&n.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(n),this._messageRegistry.set(M3(e,r),{messageElement:n,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let a=0;a<r.length;a++)r[a].remove();let n=this._document.createElement("div");n.style.visibility="hidden",n.classList.add(e),n.classList.add("cdk-visually-hidden"),this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._messagesContainer=n}_removeCdkDescribedByReferenceIds(e){let r=sE(e,"aria-describedby").filter(n=>n.indexOf(FG)!=0);e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){let n=this._messageRegistry.get(r);n1(e,"aria-describedby",n.messageElement.id),e.setAttribute(iE,this._id),n.referenceCount++}_removeMessageReference(e,r){let n=this._messageRegistry.get(r);n.referenceCount--,Um(e,"aria-describedby",n.messageElement.id),e.removeAttribute(iE)}_isElementDescribedByMessage(e,r){let n=sE(e,"aria-describedby"),a=this._messageRegistry.get(r),s=a&&a.messageElement.id;return!!s&&n.indexOf(s)!=-1}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&typeof r=="object")return!0;let n=r==null?"":`${r}`.trim(),a=e.getAttribute("aria-label");return n?!a||a.trim()!==n:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function M3(t,i){return typeof t=="string"?`${i||""}/${t}`:t}function IG(t,i){t.id||(t.id=`${FG}-${i}-${P3++}`)}var vve=200,R3=class{_letterKeyStream=new mt;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new mt;selectedItem=this._selectedItem;constructor(i,e){let r=typeof e?.debounceInterval=="number"?e.debounceInterval:vve;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(i),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(i){this._selectedItemIndex=i}setItems(i){this._items=i}handleKey(i){let e=i.keyCode;i.key&&i.key.length===1?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(i){this._letterKeyStream.pipe(Jn(e=>this._pressedLetters.push(e)),ta(i),ji(()=>this._pressedLetters.length>0),si(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let r=1;r<this._items.length+1;r++){let n=(this._selectedItemIndex+r)%this._items.length,a=this._items[n];if(!this._skipPredicateFn?.(a)&&a.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(a);break}}this._pressedLetters=[]})}},aE=class{_items;_activeItemIndex=-1;_activeItem=Xc(null);_wrap=!1;_typeaheadSubscription=Vi.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=i=>i.disabled;constructor(i,e){this._items=i,i instanceof bc?this._itemChangesSubscription=i.changes.subscribe(r=>this._itemsChanged(r.toArray())):Rm(i)&&(this._effectRef=Xb(()=>this._itemsChanged(i()),{injector:e}))}tabOut=new mt;change=new mt;skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new R3(e,{debounceInterval:typeof i=="number"?i:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,e=10){return this._pageUpAndDown={enabled:i,delta:e},this}setActiveItem(i){let e=this._activeItem();this.updateActiveItem(i),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(i){let e=i.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!i[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&n){this.setNextItemActive();break}else return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&n){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&n){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&n){let a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&n){let a=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(a<s?a:s-1,-1);break}else return;default:(n||Is(i,"shiftKey"))&&this._typeahead?.handleKey(i);return}this._typeahead?.reset(),i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){let e=this._getItemsArray(),r=typeof i=="number"?i:e.indexOf(i),n=e[r];this._activeItem.set(n??null),this._activeItemIndex=r,this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){let e=this._getItemsArray();for(let r=1;r<=e.length;r++){let n=(this._activeItemIndex+i*r+e.length)%e.length,a=e[n];if(!this._skipPredicateFn(a)){this.setActiveItem(n);return}}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,e){let r=this._getItemsArray();if(r[i]){for(;this._skipPredicateFn(r[i]);)if(i+=e,!r[i])return;this.setActiveItem(i)}}_getItemsArray(){return Rm(this._items)?this._items():this._items instanceof bc?this._items.toArray():this._items}_itemsChanged(i){this._typeahead?.setItems(i);let e=this._activeItem();if(e){let r=i.indexOf(e);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r,this._typeahead?.setCurrentSelectedItemIndex(r))}}},e1=class extends aE{setActiveItem(i){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(i),this.activeItem&&this.activeItem.setActiveStyles()}},Ap=class extends aE{_origin="program";setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}};var __=(()=>{class t{_platform=le(In);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return xve(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let r=yve(Ave(e));if(r&&(DG(r)===-1||!this.isVisible(r)))return!1;let n=e.nodeName.toLowerCase(),a=DG(e);return e.hasAttribute("contenteditable")?a!==-1:n==="iframe"||n==="object"||this._platform.WEBKIT&&this._platform.IOS&&!Tve(e)?!1:n==="audio"?e.hasAttribute("controls")?a!==-1:!1:n==="video"?a===-1?!1:a!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,r){return Eve(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yve(t){try{return t.frameElement}catch{return null}}function xve(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function bve(t){let i=t.nodeName.toLowerCase();return i==="input"||i==="select"||i==="button"||i==="textarea"}function _ve(t){return Cve(t)&&t.type=="hidden"}function wve(t){return Sve(t)&&t.hasAttribute("href")}function Cve(t){return t.nodeName.toLowerCase()=="input"}function Sve(t){return t.nodeName.toLowerCase()=="a"}function OG(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let i=t.getAttribute("tabindex");return!!(i&&!isNaN(parseInt(i,10)))}function DG(t){if(!OG(t))return null;let i=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}function Tve(t){let i=t.nodeName.toLowerCase(),e=i==="input"&&t.type;return e==="text"||e==="password"||i==="select"||i==="textarea"}function Eve(t){return _ve(t)?!1:bve(t)||wve(t)||t.hasAttribute("contenteditable")||OG(t)}function Ave(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var k3=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_enabled=!0;constructor(i,e,r,n,a=!1,s){this._element=i,this._checker=e,this._ngZone=r,this._document=n,this._injector=s,a||this.attachAnchors()}destroy(){let i=this._startAnchor,e=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){let e=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return i=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let r=this._getFirstTabbableElement(e);return r?.focus(i),!!r}return e.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){let e=this._getRegionBoundary("start");return e&&e.focus(i),!!e}focusLastTabbableElement(i){let e=this._getRegionBoundary("end");return e&&e.focus(i),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children;for(let r=0;r<e.length;r++){let n=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(n)return n}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children;for(let r=e.length-1;r>=0;r--){let n=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(n)return n}return null}_createAnchor(){let i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,e){i?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._injector?ls(i,{injector:this._injector}):setTimeout(i)}},lE=(()=>{class t{_checker=le(__);_ngZone=le(ri);_document=le(Di);_injector=le(Wi);constructor(){le(gr).load(Ag)}create(e,r=!1){return new k3(e,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dg(t){return t.buttons===0||t.detail===0}function Pg(t){let i=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!i&&i.identifier===-1&&(i.radiusX==null||i.radiusX===1)&&(i.radiusY==null||i.radiusY===1)}var Mve=new tt("cdk-input-modality-detector-options"),Ive={ignoreKeys:[18,17,224,91,16]},LG=650,qy=cl({passive:!0,capture:!0}),Dve=(()=>{class t{_platform=le(In);modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Rn(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(r=>r===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Za(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<LG||(this._modality.next(Dg(e)?"keyboard":"mouse"),this._mostRecentTarget=Za(e))};_onTouchstart=e=>{if(Pg(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Za(e)};constructor(){let e=le(ri),r=le(Di),n=le(Mve,{optional:!0});this._options=ht(ht({},Ive),n),this.modalityDetected=this._modality.pipe(eg(1)),this.modalityChanged=this.modalityDetected.pipe(vc()),this._platform.isBrowser&&e.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,qy),r.addEventListener("mousedown",this._onMousedown,qy),r.addEventListener("touchstart",this._onTouchstart,qy)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qy),document.removeEventListener("mousedown",this._onMousedown,qy),document.removeEventListener("touchstart",this._onTouchstart,qy))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pve=new tt("liveAnnouncerElement",{providedIn:"root",factory:Rve});function Rve(){return null}var kve=new tt("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Fve=0,cE=(()=>{class t{_ngZone=le(ri);_defaultOptions=le(kve,{optional:!0});_liveElement;_document=le(Di);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=le(Pve,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...r){let n=this._defaultOptions,a,s;return r.length===1&&typeof r[0]=="number"?s=r[0]:[a,s]=r,this.clear(),clearTimeout(this._previousTimeout),a||(a=n&&n.politeness?n.politeness:"polite"),s==null&&n&&(s=n.duration),this._liveElement.setAttribute("aria-live",a),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(o=>this._currentResolve=o)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),n=this._document.createElement("div");for(let a=0;a<r.length;a++)r[a].remove();return n.classList.add(e),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),n.id=`cdk-live-announcer-${Fve++}`,this._document.body.appendChild(n),n}_exposeAnnouncerToModals(e){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<r.length;n++){let a=r[n],s=a.getAttribute("aria-owns");s?s.indexOf(e)===-1&&a.setAttribute("aria-owns",s+" "+e):a.setAttribute("aria-owns",e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rE=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(rE||{}),Ove=new tt("cdk-focus-monitor-default-options"),nE=cl({passive:!0,capture:!0}),ha=(()=>{class t{_ngZone=le(ri);_platform=le(In);_inputModalityDetector=le(Dve);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=le(Di,{optional:!0});_stopInputModalityDetector=new mt;constructor(){let e=le(Ove,{optional:!0});this._detectionMode=e?.detectionMode||rE.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let r=Za(e);for(let n=r;n;n=n.parentElement)e.type==="focus"?this._onFocus(e,n):this._onBlur(e,n)};monitor(e,r=!1){let n=Pa(e);if(!this._platform.isBrowser||n.nodeType!==1)return ui();let a=Qy(n)||this._getDocument(),s=this._elementInfo.get(n);if(s)return r&&(s.checkChildren=!0),s.subject;let o={checkChildren:r,subject:new mt,rootNode:a};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){let r=Pa(e),n=this._elementInfo.get(r);n&&(n.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(n))}focusVia(e,r,n){let a=Pa(e),s=this._getDocument().activeElement;a===s?this._getClosestElementsInfo(a).forEach(([o,u])=>this._originChanged(o,r,u)):(this._setOrigin(r),typeof a.focus=="function"&&a.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===rE.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused",r==="touch"),e.classList.toggle("cdk-keyboard-focused",r==="keyboard"),e.classList.toggle("cdk-mouse-focused",r==="mouse"),e.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&r,this._detectionMode===rE.IMMEDIATE){clearTimeout(this._originTimeoutId);let n=this._originFromTouchInteraction?LG:1;this._originTimeoutId=setTimeout(()=>this._origin=null,n)}})}_onFocus(e,r){let n=this._elementInfo.get(r),a=Za(e);!n||!n.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),n)}_onBlur(e,r){let n=this._elementInfo.get(r);!n||n.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(n,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let r=e.rootNode,n=this._rootNodeFocusListenerCount.get(r)||0;n||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,nE),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,nE)}),this._rootNodeFocusListenerCount.set(r,n+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(pi(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){let r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let n=this._rootNodeFocusListenerCount.get(r);n>1?this._rootNodeFocusListenerCount.set(r,n-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,nE),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,nE),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,n){this._setClasses(e,r),this._emitOrigin(n,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){let r=[];return this._elementInfo.forEach((n,a)=>{(a===e||n.checkChildren&&a.contains(e))&&r.push([a,n])}),r}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:r,mostRecentModality:n}=this._inputModalityDetector;if(n!=="mouse"||!r||r===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let a=e.labels;if(a){for(let s=0;s<a.length;s++)if(a[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NG=(()=>{class t{_elementRef=le(Pt);_focusMonitor=le(ha);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new Tt;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return t})(),Ig=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Ig||{}),PG="cdk-high-contrast-black-on-white",RG="cdk-high-contrast-white-on-black",I3="cdk-high-contrast-active",L3=(()=>{class t{_platform=le(In);_hasCheckedHighContrastMode;_document=le(Di);_breakpointSubscription;constructor(){this._breakpointSubscription=le(Jy).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ig.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let r=this._document.defaultView||window,n=r&&r.getComputedStyle?r.getComputedStyle(e):null,a=(n&&n.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ig.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ig.BLACK_ON_WHITE}return Ig.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(I3,PG,RG),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Ig.BLACK_ON_WHITE?e.add(I3,PG):r===Ig.WHITE_ON_BLACK&&e.add(I3,RG)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uE=(()=>{class t{constructor(){le(L3)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Zy]})}return t})(),D3={},Gn=(()=>{class t{_appId=le(_y);getId(e){return this._appId!=="ng"&&(e+=this._appId),D3.hasOwnProperty(e)||(D3[e]=0),`${e}${D3[e]++}`}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Lve=new tt("cdk-dir-doc",{providedIn:"root",factory:Nve});function Nve(){return le(Di)}var Bve=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Vve(t){let i=t?.toLowerCase()||"";return i==="auto"&&typeof navigator<"u"&&navigator?.language?Bve.test(navigator.language)?"rtl":"ltr":i==="rtl"?"rtl":"ltr"}var qr=(()=>{class t{value="ltr";change=new Tt;constructor(){let e=le(Lve,{optional:!0});if(e){let r=e.body?e.body.dir:null,n=e.documentElement?e.documentElement.dir:null;this.value=Vve(r||n||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Hm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({})}return t})();var zve=["text"],Uve=[[["mat-icon"]],"*"],Hve=["mat-icon","*"];function Gve(t,i){if(t&1&&He(0,"mat-pseudo-checkbox",1),t&2){let e=pe();oe("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function jve(t,i){if(t&1&&He(0,"mat-pseudo-checkbox",3),t&2){let e=pe();oe("disabled",e.disabled)}}function Wve(t,i){if(t&1&&(B(0,"span",4),J(1),U()),t&2){let e=pe();K(),It("(",e.group.label,")")}}var Xve=["mat-internal-form-field",""],Yve=["*"];var WG=(()=>{class t{static STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return t})(),XG=(()=>{class t{static COMPLEX="375ms";static ENTERING="225ms";static EXITING="195ms"}return t})();var Si=(()=>{class t{constructor(){le(L3)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Hm,Hm]})}return t})(),Rg=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(i,e,r,n,a){this._defaultMatcher=i,this.ngControl=e,this._parentFormGroup=r,this._parentForm=n,this._stateChanges=a}updateErrorState(){let i=this.errorState,e=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,n=this.ngControl?this.ngControl.control:null,a=r?.isErrorState(n,e)??!1;a!==i&&(this.errorState=a,this._stateChanges.next())}};var s1=(()=>{class t{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fa=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,n){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return t})();var Bu=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Bu||{}),V3=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Bu.HIDDEN;constructor(i,e,r,n=!1){this._renderer=i,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=n}fadeOut(){this._renderer.fadeOutRipple(this)}},BG=cl({passive:!0,capture:!0}),z3=class{_events=new Map;addHandler(i,e,r,n){let a=this._events.get(e);if(a){let s=a.get(r);s?s.add(n):a.set(r,new Set([n]))}else this._events.set(e,new Map([[r,new Set([n])]])),i.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,BG)})}removeHandler(i,e,r){let n=this._events.get(i);if(!n)return;let a=n.get(e);a&&(a.delete(r),a.size===0&&n.delete(e),n.size===0&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,BG)))}_delegateEventHandler=i=>{let e=Za(i);e&&this._events.get(i.type)?.forEach((r,n)=>{(n===e||n.contains(e))&&r.forEach(a=>a.handleEvent(i))})}},hE={enterDuration:225,exitDuration:150},$ve=800,VG=cl({passive:!0,capture:!0}),zG=["mousedown","touchstart"],UG=["mouseup","mouseleave","touchend","touchcancel"],Qve=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,n){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return t})(),r1=class t{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new z3;constructor(i,e,r,n,a){this._target=i,this._ngZone=e,this._platform=n,n.isBrowser&&(this._containerElement=Pa(r)),a&&a.get(gr).load(Qve)}fadeInRipple(i,e,r={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=ht(ht({},hE),r.animation);r.centered&&(i=n.left+n.width/2,e=n.top+n.height/2);let s=r.radius||Kve(i,e,n),o=i-n.left,u=e-n.top,l=a.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=`${o-s}px`,c.style.top=`${u-s}px`,c.style.height=`${s*2}px`,c.style.width=`${s*2}px`,r.color!=null&&(c.style.backgroundColor=r.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c);let h=window.getComputedStyle(c),d=h.transitionProperty,f=h.transitionDuration,m=d==="none"||f==="0s"||f==="0s, 0s"||n.width===0&&n.height===0,p=new V3(this,c,r,m);c.style.transform="scale3d(1, 1, 1)",p.state=Bu.FADING_IN,r.persistent||(this._mostRecentTransientRipple=p);let g=null;return!m&&(l||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let v=()=>{g&&(g.fallbackTimer=null),clearTimeout(x),this._finishRippleTransition(p)},y=()=>this._destroyRipple(p),x=setTimeout(y,l+100);c.addEventListener("transitionend",v),c.addEventListener("transitioncancel",y),g={onTransitionEnd:v,onTransitionCancel:y,fallbackTimer:x}}),this._activeRipples.set(p,g),(m||!l)&&this._finishRippleTransition(p),p}fadeOutRipple(i){if(i.state===Bu.FADING_OUT||i.state===Bu.HIDDEN)return;let e=i.element,r=ht(ht({},hE),i.config.animation);e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",i.state=Bu.FADING_OUT,(i._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){let e=Pa(i);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,zG.forEach(r=>{t._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(i){i.type==="mousedown"?this._onMousedown(i):i.type==="touchstart"?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{UG.forEach(e=>{this._triggerElement.addEventListener(e,this,VG)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===Bu.FADING_IN?this._startFadeOutTransition(i):i.state===Bu.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){let e=i===this._mostRecentTransientRipple,{persistent:r}=i.config;i.state=Bu.VISIBLE,!r&&(!e||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){let e=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=Bu.HIDDEN,e!==null&&(i.element.removeEventListener("transitionend",e.onTransitionEnd),i.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),i.element.remove()}_onMousedown(i){let e=Dg(i),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+$ve;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!Pg(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=i.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{let e=i.state===Bu.VISIBLE||i.config.terminateOnPointerUp&&i.state===Bu.FADING_IN;!i.config.persistent&&e&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let i=this._triggerElement;i&&(zG.forEach(e=>t._eventManager.removeHandler(e,i,this)),this._pointerUpEventsRegistered&&(UG.forEach(e=>i.removeEventListener(e,this,VG)),this._pointerUpEventsRegistered=!1))}};function Kve(t,i,e){let r=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),n=Math.max(Math.abs(i-e.top),Math.abs(i-e.bottom));return Math.sqrt(r*r+n*n)}var Gm=new tt("mat-ripple-global-options"),zu=(()=>{class t{_elementRef=le(Pt);_animationMode=le(Un,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=le(ri),r=le(In),n=le(Gm,{optional:!0}),a=le(Wi);this._globalOptions=n||{},this._rippleRenderer=new r1(this,e,this._elementRef,r,a)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:ht(ht(ht({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,n){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,r,ht(ht({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,ht(ht({},this.rippleConfig),e))}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,n){r&2&&Ut("mat-ripple-unbounded",n.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})(),Uu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si,Si]})}return t})(),Zve=(()=>{class t{_animationMode=le(Un,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,n){r&2&&Ut("mat-pseudo-checkbox-indeterminate",n.state==="indeterminate")("mat-pseudo-checkbox-checked",n.state==="checked")("mat-pseudo-checkbox-disabled",n.disabled)("mat-pseudo-checkbox-minimal",n.appearance==="minimal")("mat-pseudo-checkbox-full",n.appearance==="full")("_mat-animation-noopable",n._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(r,n){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return t})(),U3=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si]})}return t})(),C_=new tt("MAT_OPTION_PARENT_COMPONENT"),S_=new tt("MatOptgroup");var w_=class{source;isUserInput;constructor(i,e=!1){this.source=i,this.isUserInput=e}},ia=(()=>{class t{_element=le(Pt);_changeDetectorRef=le(ki);_parent=le(C_,{optional:!0});group=le(S_,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=le(Gn).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new Tt;_text;_stateChanges=new mt;constructor(){le(gr).load(fa),le(gr).load(Ag),this._signalDisableRipple=!!this._parent&&Rm(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,r){let n=this._getHostElement();typeof n.focus=="function"&&n.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!Is(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new w_(this,e))}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-option"]],viewQuery:function(r,n){if(r&1&&Jt(zve,7),r&2){let a;yt(a=xt())&&(n._text=a.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,n){r&1&&we("click",function(){return n._selectViaInteraction()})("keydown",function(s){return n._handleKeydown(s)}),r&2&&(ll("id",n.id),ti("aria-selected",n.selected)("aria-disabled",n.disabled.toString()),Ut("mdc-list-item--selected",n.selected)("mat-mdc-option-multiple",n.multiple)("mat-mdc-option-active",n.active)("mdc-list-item--disabled",n.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Rt]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],features:[Mi],ngContentSelectors:Hve,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,n){r&1&&(zi(Uve),Te(0,Gve,1,2,"mat-pseudo-checkbox",1),$t(1),B(2,"span",2,0),$t(4,1),U(),Te(5,jve,1,1,"mat-pseudo-checkbox",3)(6,Wve,2,1,"span",4),He(7,"div",5)),r&2&&(Zi(n.multiple?0:-1),K(5),Zi(!n.multiple&&n.selected&&!n.hideSingleSelectionIndicator?5:-1),K(),Zi(n.group&&n.group._inert?6:-1),K(),oe("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple))},dependencies:[Zve,zu],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return t})();function fE(t,i,e){if(e.length){let r=i.toArray(),n=e.toArray(),a=0;for(let s=0;s<t+1;s++)r[s].group&&r[s].group===n[a]&&a++;return a}return 0}function pE(t,i,e,r){return t<e?t:t+i>e+r?Math.max(0,t-r+i):e}var a1=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Uu,Si,U3]})}return t})(),HG={capture:!0},GG=["focus","mousedown","mouseenter","touchstart"],N3="mat-ripple-loader-uninitialized",B3="mat-ripple-loader-class-name",jG="mat-ripple-loader-centered",dE="mat-ripple-loader-disabled",mE=(()=>{class t{_document=le(Di,{optional:!0});_animationMode=le(Un,{optional:!0});_globalRippleOptions=le(Gm,{optional:!0});_platform=le(In);_ngZone=le(ri);_injector=le(Wi);_hosts=new Map;constructor(){this._ngZone.runOutsideAngular(()=>{for(let e of GG)this._document?.addEventListener(e,this._onInteraction,HG)})}ngOnDestroy(){let e=this._hosts.keys();for(let r of e)this.destroyRipple(r);for(let r of GG)this._document?.removeEventListener(r,this._onInteraction,HG)}configureRipple(e,r){e.setAttribute(N3,this._globalRippleOptions?.namespace??""),(r.className||!e.hasAttribute(B3))&&e.setAttribute(B3,r.className||""),r.centered&&e.setAttribute(jG,""),r.disabled&&e.setAttribute(dE,"")}setDisabled(e,r){let n=this._hosts.get(e);n?(n.target.rippleDisabled=r,!r&&!n.hasSetUpEvents&&(n.hasSetUpEvents=!0,n.renderer.setupTriggerEvents(e))):r?e.setAttribute(dE,""):e.removeAttribute(dE)}_onInteraction=e=>{let r=Za(e);if(r instanceof HTMLElement){let n=r.closest(`[${N3}="${this._globalRippleOptions?.namespace??""}"]`);n&&this._createRipple(n)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(B3)),e.append(r);let n=this._animationMode==="NoopAnimations",a=this._globalRippleOptions,s=n?0:a?.animation?.enterDuration??hE.enterDuration,o=n?0:a?.animation?.exitDuration??hE.exitDuration,u={rippleDisabled:n||a?.disabled||e.hasAttribute(dE),rippleConfig:{centered:e.hasAttribute(jG),terminateOnPointerUp:a?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:o}}},l=new r1(u,this._ngZone,r,this._platform,this._injector),c=!u.rippleDisabled;c&&l.setupTriggerEvents(e),this._hosts.set(e,{target:u,renderer:l,hasSetUpEvents:c}),e.removeAttribute(N3)}destroyRipple(e){let r=this._hosts.get(e);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),o1=(()=>{class t{labelPosition;static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,n){r&2&&Ut("mdc-form-field--align-end",n.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:Xve,ngContentSelectors:Yve,decls:1,vars:0,template:function(r,n){r&1&&(zi(),$t(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return t})();var YG=["mat-button",""],$G=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],QG=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Jve='.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width, 1px);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',KG="@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}";var qve=["mat-icon-button",""],eye=["*"];var tye=new tt("MAT_BUTTON_CONFIG");var iye=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],H3=(()=>{class t{_elementRef=le(Pt);_ngZone=le(ri);_animationMode=le(Un,{optional:!0});_focusMonitor=le(ha);_rippleLoader=le(mE);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){le(gr).load(fa);let e=le(tye,{optional:!0}),r=this._elementRef.nativeElement,n=r.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(r,{className:"mat-mdc-button-ripple"});for(let{attribute:a,mdcClasses:s}of iye)r.hasAttribute(a)&&n.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Rt],disabled:[2,"disabled","disabled",Rt],ariaDisabled:[2,"aria-disabled","ariaDisabled",Rt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Rt]},features:[Mi]})}return t})();var nye=(()=>{class t extends H3{_renderer=le(Qn);_cleanupClick;tabIndex;ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._elementRef.nativeElement,"click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._cleanupClick?.()}_haltDisabledEvents=e=>{this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())};_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled||null}static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,inputs:{tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:mr(e)]},features:[Mi,Ai]})}return t})(),ln=(()=>{class t extends H3{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275cmp=Ke({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,n){r&2&&(ti("disabled",n._getDisabledAttribute())("aria-disabled",n._getAriaDisabled()),cs(n.color?"mat-"+n.color:""),Ut("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ai],attrs:YG,ngContentSelectors:QG,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,n){r&1&&(zi($G),He(0,"span",0),$t(1),B(2,"span",1),$t(3,1),U(),$t(4,2),He(5,"span",2)(6,"span",3)),r&2&&Ut("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width, 1px);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return t})(),ZG=(()=>{class t extends nye{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275cmp=Ke({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(r,n){r&2&&(ti("disabled",n._getDisabledAttribute())("tabindex",n.disabled&&!n.disabledInteractive?-1:n.tabIndex)("aria-disabled",n._getAriaDisabled()),cs(n.color?"mat-"+n.color:""),Ut("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],features:[Ai],attrs:YG,ngContentSelectors:QG,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,n){r&1&&(zi($G),He(0,"span",0),$t(1),B(2,"span",1),$t(3,1),U(),$t(4,2),He(5,"span",2)(6,"span",3)),r&2&&Ut("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:[Jve,KG],encapsulation:2,changeDetection:0})}return t})();var Zn=(()=>{class t extends H3{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,n){r&2&&(ti("disabled",n._getDisabledAttribute())("aria-disabled",n._getAriaDisabled()),cs(n.color?"mat-"+n.color:""),Ut("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ai],attrs:qve,ngContentSelectors:eye,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,n){r&1&&(zi(),He(0,"span",0),$t(1),He(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',KG],encapsulation:2,changeDetection:0})}return t})();var Wm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si,Uu,Si]})}return t})();var En=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(En||{}),vf="*";function us(t,i){return{type:En.Trigger,name:t,definitions:i,options:{}}}function ir(t,i=null){return{type:En.Animate,styles:i,timings:t}}function JG(t,i=null){return{type:En.Group,steps:t,options:i}}function qG(t,i=null){return{type:En.Sequence,steps:t,options:i}}function Oi(t){return{type:En.Style,styles:t,offset:null}}function na(t,i,e){return{type:En.State,name:t,styles:i,options:e}}function gE(t){return{type:En.Keyframes,steps:t}}function vr(t,i,e=null){return{type:En.Transition,expr:t,animation:i,options:e}}function ej(t=null){return{type:En.AnimateChild,options:t}}function tj(t,i,e=null){return{type:En.Query,selector:t,animation:i,options:e}}var Xm=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(i=0,e=0){this.totalTime=i+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){let e=i=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},T_=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(i){this.players=i;let e=0,r=0,n=0,a=this.players.length;a==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==a&&this._onFinish()}),s.onDestroy(()=>{++r==a&&this._onDestroy()}),s.onStart(()=>{++n==a&&this._onStart()})}),this.totalTime=this.players.reduce((s,o)=>Math.max(s,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){let e=i*this.totalTime;this.players.forEach(r=>{let n=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(n)})}getPosition(){let i=this.players.reduce((e,r)=>e===null||r.totalTime>e.totalTime?r:e,null);return i!=null?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){let e=i=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},vE="!";var E_=class{_attachedHost;attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;i!=null&&(this._attachedHost=null,i.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(i){this._attachedHost=i}},xh=class extends E_{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(i,e,r,n,a){super(),this.component=i,this.viewContainerRef=e,this.injector=r,this.projectableNodes=a}},No=class extends E_{templateRef;viewContainerRef;context;injector;constructor(i,e,r,n){super(),this.templateRef=i,this.viewContainerRef=e,this.context=r,this.injector=n}get origin(){return this.templateRef.elementRef}attach(i,e=this.context){return this.context=e,super.attach(i)}detach(){return this.context=void 0,super.detach()}},G3=class extends E_{element;constructor(i){super(),this.element=i instanceof Pt?i.nativeElement:i}},Ym=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(i){if(i instanceof xh)return this._attachedPortal=i,this.attachComponentPortal(i);if(i instanceof No)return this._attachedPortal=i,this.attachTemplatePortal(i);if(this.attachDomPortal&&i instanceof G3)return this._attachedPortal=i,this.attachDomPortal(i)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var A_=class extends Ym{outletElement;_appRef;_defaultInjector;_document;constructor(i,e,r,n,a){super(),this.outletElement=i,this._appRef=r,this._defaultInjector=n,this._document=a}attachComponentPortal(i){let e;if(i.viewContainerRef){let r=i.injector||i.viewContainerRef.injector,n=r.get(fh,null,{optional:!0})||void 0;e=i.viewContainerRef.createComponent(i.component,{index:i.viewContainerRef.length,injector:r,ngModuleRef:n,projectableNodes:i.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else e=iT(i.component,{elementInjector:i.injector||this._defaultInjector||Wi.NULL,environmentInjector:this._appRef.injector,projectableNodes:i.projectableNodes||void 0}),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(e.hostView),e.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=i,e}attachTemplatePortal(i){let e=i.viewContainerRef,r=e.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return r.rootNodes.forEach(n=>this.outletElement.appendChild(n)),r.detectChanges(),this.setDisposeFn(()=>{let n=e.indexOf(r);n!==-1&&e.remove(n)}),this._attachedPortal=i,r}attachDomPortal=i=>{let e=i.element;e.parentNode;let r=this._document.createComment("dom-portal");e.parentNode.insertBefore(r,e),this.outletElement.appendChild(e),this._attachedPortal=i,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(e,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}};var ij=(()=>{class t extends No{constructor(){let e=le(sr),r=le(xr);super(e,r)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Ai]})}return t})();var Qc=(()=>{class t extends Ym{_moduleRef=le(fh,{optional:!0});_document=le(Di);_viewContainerRef=le(xr);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new Tt;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let r=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,n=r.createComponent(e.component,{index:r.length,injector:e.injector||r.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(n.hostView.rootNodes[0]),super.setDisposeFn(()=>n.destroy()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachTemplatePortal(e){e.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=e=>{let r=e.element;r.parentNode;let n=this._document.createComment("dom-portal");e.setAttachedHost(this),r.parentNode.insertBefore(n,r),this._getRootNode().appendChild(r),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(r,n)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ai]})}return t})();var bh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({})}return t})();var rye=20,yf=(()=>{class t{_ngZone=le(ri);_platform=le(In);_renderer=le(Dl).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new mt;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=rye){return this._platform.isBrowser?new rn(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let n=e>0?this._scrolled.pipe(IC(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):ui()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){let n=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(ji(a=>!a||n.indexOf(a)>-1))}getAncestorScrollContainers(e){let r=[];return this.scrollContainers.forEach((n,a)=>{this._scrollableContainsElement(a,e)&&r.push(a)}),r}_scrollableContainsElement(e,r){let n=Pa(r),a=e.getElementRef().nativeElement;do if(n==a)return!0;while(n=n.parentElement);return!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_h=(()=>{class t{elementRef=le(Pt);scrollDispatcher=le(yf);ngZone=le(ri);dir=le(qr,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new mt;_renderer=le(Qn);_cleanupScroll;_elementScrolled=new mt;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let r=this.elementRef.nativeElement,n=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=n?e.end:e.start),e.right==null&&(e.right=n?e.start:e.end),e.bottom!=null&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),n&&$y()!=yh.NORMAL?(e.left!=null&&(e.right=r.scrollWidth-r.clientWidth-e.left),$y()==yh.INVERTED?e.left=e.right:$y()==yh.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let r=this.elementRef.nativeElement;JT()?r.scrollTo(e):(e.top!=null&&(r.scrollTop=e.top),e.left!=null&&(r.scrollLeft=e.left))}measureScrollOffset(e){let r="left",n="right",a=this.elementRef.nativeElement;if(e=="top")return a.scrollTop;if(e=="bottom")return a.scrollHeight-a.clientHeight-a.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?n:r:e=="end"&&(e=s?r:n),s&&$y()==yh.INVERTED?e==r?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:s&&$y()==yh.NEGATED?e==r?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:e==r?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return t})(),sye=20,Bo=(()=>{class t{_platform=le(In);_listeners;_viewportSize;_change=new mt;_document=le(Di,{optional:!0});constructor(){let e=le(ri),r=le(Dl).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let n=a=>this._change.next(a);this._listeners=[r.listen("window","resize",n),r.listen("window","orientationchange",n)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:r,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+r,height:n,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,r=this._getWindow(),n=e.documentElement,a=n.getBoundingClientRect(),s=-a.top||e.body.scrollTop||r.scrollY||n.scrollTop||0,o=-a.left||e.body.scrollLeft||r.scrollX||n.scrollLeft||0;return{top:s,left:o}}change(e=sye){return e>0?this._change.pipe(IC(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Cc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({})}return t})(),M_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Hm,Cc,Hm,Cc]})}return t})();var rj=JT(),j3=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(i,e){this._viewportRuler=i,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=za(-this._previousScrollPosition.left),i.style.top=za(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let i=this._document.documentElement,e=this._document.body,r=i.style,n=e.style,a=r.scrollBehavior||"",s=n.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),rj&&(r.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),rj&&(r.scrollBehavior=a,n.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}};var W3=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(i,e,r,n){this._scrollDispatcher=i,this._ngZone=e,this._viewportRuler=r,this._config=n}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(this._scrollSubscription)return;let i=this._scrollDispatcher.scrolled(0).pipe(ji(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},yE=class{enable(){}disable(){}attach(){}};function X3(t,i){return i.some(e=>{let r=t.bottom<e.top,n=t.top>e.bottom,a=t.right<e.left,s=t.left>e.right;return r||n||a||s})}function sj(t,i){return i.some(e=>{let r=t.top<e.top,n=t.bottom>e.bottom,a=t.left<e.left,s=t.right>e.right;return r||n||a||s})}var Y3=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(i,e,r,n){this._scrollDispatcher=i,this._viewportRuler=e,this._ngZone=r,this._config=n}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(!this._scrollSubscription){let i=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(i).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:n}=this._viewportRuler.getViewportSize();X3(e,[{width:r,height:n,bottom:n,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},aye=(()=>{class t{_scrollDispatcher=le(yf);_viewportRuler=le(Bo);_ngZone=le(ri);_document=le(Di);constructor(){}noop=()=>new yE;close=e=>new W3(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new j3(this._viewportRuler,this._document);reposition=e=>new Y3(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Id=class{positionStrategy;scrollStrategy=new yE;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(i){if(i){let e=Object.keys(i);for(let r of e)i[r]!==void 0&&(this[r]=i[r])}}};var $3=class{connectionPair;scrollableViewProperties;constructor(i,e){this.connectionPair=i,this.scrollableViewProperties=e}};var dj=(()=>{class t{_attachedOverlays=[];_document=le(Di);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oye=(()=>{class t extends dj{_ngZone=le(ri);_renderer=le(Dl).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let r=this._attachedOverlays;for(let n=r.length-1;n>-1;n--)if(r[n]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[n]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lye=(()=>{class t extends dj{_platform=le(In);_ngZone=le(ri,{optional:!0});_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;add(e){if(super.add(e),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}_pointerDownListener=e=>{this._pointerDownEventTarget=Za(e)};_clickListener=e=>{let r=Za(e),n=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let a=this._attachedOverlays.slice();for(let s=a.length-1;s>-1;s--){let o=a[s];if(o._outsidePointerEvents.observers.length<1||!o.hasAttached())continue;if(aj(o.overlayElement,r)||aj(o.overlayElement,n))break;let u=o._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(e)):u.next(e)}};static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function aj(t,i){let e=typeof ShadowRoot<"u"&&ShadowRoot,r=i;for(;r;){if(r===t)return!0;r=e&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var hj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,n){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return t})(),xE=(()=>{class t{_platform=le(In);_containerElement;_document=le(Di);_styleLoader=le(gr);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||T3()){let n=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<n.length;a++)n[a].remove()}let r=this._document.createElement("div");r.classList.add(e),T3()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(hj)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),l1=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropElement=null;_backdropTimeout;_backdropClick=new mt;_attachments=new mt;_detachments=new mt;_positionStrategy;_scrollStrategy;_locationChanges=Vi.EMPTY;_cleanupBackdropClick;_cleanupBackdropTransitionEnd;_previousHostParent;_keydownEvents=new mt;_outsidePointerEvents=new mt;_renders=new mt;_afterRenderRef;_afterNextRenderRef;constructor(i,e,r,n,a,s,o,u,l,c=!1,h,d){this._portalOutlet=i,this._host=e,this._pane=r,this._config=n,this._ngZone=a,this._keyboardDispatcher=s,this._document=o,this._location=u,this._outsideClickDispatcher=l,this._animationsDisabled=c,this._injector=h,this._renderer=d,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy,this._afterRenderRef=$c(()=>Bb(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=ls(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){let i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,i&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=ht(ht({},this._config),i),this._updateElementSize()}setDirection(i){this._config=Ri(ht({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){let i=this._config.direction;return i?typeof i=="string"?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let i=this._pane.style;i.width=za(this._config.width),i.height=za(this._config.height),i.minWidth=za(this._config.minWidth),i.minHeight=za(this._config.minHeight),i.maxWidth=za(this._config.maxWidth),i.maxHeight=za(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){let i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._cleanupBackdropClick?.(),this._cleanupBackdropClick=this._renderer.listen(this._backdropElement,"click",e=>this._backdropClick.next(e)),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let i=this._backdropElement;if(i){if(this._animationsDisabled){this._disposeBackdrop(i);return}i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{this._cleanupBackdropTransitionEnd?.(),this._cleanupBackdropTransitionEnd=this._renderer.listen(i,"transitionend",e=>{this._disposeBackdrop(e.target)})}),i.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(i)},500))}}_toggleClasses(i,e,r){let n=Vm(e||[]).filter(a=>!!a);n.length&&(r?i.classList.add(...n):i.classList.remove(...n))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let i=this._renders.pipe(pi($n(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){let i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}_disposeBackdrop(i){this._cleanupBackdropClick?.(),this._cleanupBackdropTransitionEnd?.(),i&&(i.remove(),this._backdropElement===i&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},oj="cdk-overlay-connected-position-bounding-box",cye=/([A-Za-z%]+)$/,Q3=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new mt;_resizeSubscription=Vi.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(i,e,r,n,a){this._viewportRuler=e,this._document=r,this._platform=n,this._overlayContainer=a,this.setOrigin(i)}attach(i){this._overlayRef&&this._overlayRef,this._validatePositions(),i.hostElement.classList.add(oj),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._originRect,e=this._overlayRect,r=this._viewportRect,n=this._containerRect,a=[],s;for(let o of this._preferredPositions){let u=this._getOriginPoint(i,n,o),l=this._getOverlayPoint(u,e,o),c=this._getOverlayFit(l,e,r,o);if(c.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(o,u);return}if(this._canFitWithFlexibleDimensions(c,l,r)){a.push({position:o,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,o)});continue}(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:l,originPoint:u,position:o,overlayRect:e})}if(a.length){let o=null,u=-1;for(let l of a){let c=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);c>u&&(u=c,o=l)}this._isPushed=!1,this._applyPosition(o.position,o.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(oj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,e)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,i.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,e,r){let n;if(r.originX=="center")n=i.left+i.width/2;else{let s=this._isRtl()?i.right:i.left,o=this._isRtl()?i.left:i.right;n=r.originX=="start"?s:o}e.left<0&&(n-=e.left);let a;return r.originY=="center"?a=i.top+i.height/2:a=r.originY=="top"?i.top:i.bottom,e.top<0&&(a-=e.top),{x:n,y:a}}_getOverlayPoint(i,e,r){let n;r.overlayX=="center"?n=-e.width/2:r.overlayX==="start"?n=this._isRtl()?-e.width:0:n=this._isRtl()?0:-e.width;let a;return r.overlayY=="center"?a=-e.height/2:a=r.overlayY=="top"?0:-e.height,{x:i.x+n,y:i.y+a}}_getOverlayFit(i,e,r,n){let a=cj(e),{x:s,y:o}=i,u=this._getOffset(n,"x"),l=this._getOffset(n,"y");u&&(s+=u),l&&(o+=l);let c=0-s,h=s+a.width-r.width,d=0-o,f=o+a.height-r.height,m=this._subtractOverflows(a.width,c,h),p=this._subtractOverflows(a.height,d,f),g=m*p;return{visibleArea:g,isCompletelyWithinViewport:a.width*a.height===g,fitsInViewportVertically:p===a.height,fitsInViewportHorizontally:m==a.width}}_canFitWithFlexibleDimensions(i,e,r){if(this._hasFlexibleDimensions){let n=r.bottom-e.y,a=r.right-e.x,s=lj(this._overlayRef.getConfig().minHeight),o=lj(this._overlayRef.getConfig().minWidth),u=i.fitsInViewportVertically||s!=null&&s<=n,l=i.fitsInViewportHorizontally||o!=null&&o<=a;return u&&l}return!1}_pushOverlayOnScreen(i,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};let n=cj(e),a=this._viewportRect,s=Math.max(i.x+n.width-a.width,0),o=Math.max(i.y+n.height-a.height,0),u=Math.max(a.top-r.top-i.y,0),l=Math.max(a.left-r.left-i.x,0),c=0,h=0;return n.width<=a.width?c=l||-s:c=i.x<this._viewportMargin?a.left-r.left-i.x:0,n.height<=a.height?h=u||-o:h=i.y<this._viewportMargin?a.top-r.top-i.y:0,this._previousPushAmount={x:c,y:h},{x:i.x+c,y:i.y+h}}_applyPosition(i,e){if(this._setTransformOrigin(i),this._setOverlayElementStyles(e,i),this._setBoundingBoxStyles(e,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(i!==this._lastPosition||!this._lastScrollVisibility||!uye(this._lastScrollVisibility,r)){let n=new $3(i,r);this._positionChanges.next(n)}this._lastScrollVisibility=r}this._lastPosition=i,this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,n=i.overlayY;i.overlayX==="center"?r="center":this._isRtl()?r=i.overlayX==="start"?"right":"left":r=i.overlayX==="start"?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${r} ${n}`}_calculateBoundingBoxRect(i,e){let r=this._viewportRect,n=this._isRtl(),a,s,o;if(e.overlayY==="top")s=i.y,a=r.height-s+this._viewportMargin;else if(e.overlayY==="bottom")o=r.height-i.y+this._viewportMargin*2,a=r.height-o+this._viewportMargin;else{let f=Math.min(r.bottom-i.y+r.top,i.y),m=this._lastBoundingBoxSize.height;a=f*2,s=i.y-f,a>m&&!this._isInitialRender&&!this._growAfterOpen&&(s=i.y-m/2)}let u=e.overlayX==="start"&&!n||e.overlayX==="end"&&n,l=e.overlayX==="end"&&!n||e.overlayX==="start"&&n,c,h,d;if(l)d=r.width-i.x+this._viewportMargin*2,c=i.x-this._viewportMargin;else if(u)h=i.x,c=r.right-i.x;else{let f=Math.min(r.right-i.x+r.left,i.x),m=this._lastBoundingBoxSize.width;c=f*2,h=i.x-f,c>m&&!this._isInitialRender&&!this._growAfterOpen&&(h=i.x-m/2)}return{top:s,left:h,bottom:o,right:d,width:c,height:a}}_setBoundingBoxStyles(i,e){let r=this._calculateBoundingBoxRect(i,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let a=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;n.height=za(r.height),n.top=za(r.top),n.bottom=za(r.bottom),n.width=za(r.width),n.left=za(r.left),n.right=za(r.right),e.overlayX==="center"?n.alignItems="center":n.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?n.justifyContent="center":n.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",a&&(n.maxHeight=za(a)),s&&(n.maxWidth=za(s))}this._lastBoundingBoxSize=r,kg(this._boundingBox.style,n)}_resetBoundingBoxStyles(){kg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,e){let r={},n=this._hasExactPosition(),a=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(n){let c=this._viewportRuler.getViewportScrollPosition();kg(r,this._getExactOverlayY(e,i,c)),kg(r,this._getExactOverlayX(e,i,c))}else r.position="static";let o="",u=this._getOffset(e,"x"),l=this._getOffset(e,"y");u&&(o+=`translateX(${u}px) `),l&&(o+=`translateY(${l}px)`),r.transform=o.trim(),s.maxHeight&&(n?r.maxHeight=za(s.maxHeight):a&&(r.maxHeight="")),s.maxWidth&&(n?r.maxWidth=za(s.maxWidth):a&&(r.maxWidth="")),kg(this._pane.style,r)}_getExactOverlayY(i,e,r){let n={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,i);if(this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),i.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;n.bottom=`${s-(a.y+this._overlayRect.height)}px`}else n.top=za(a.y);return n}_getExactOverlayX(i,e,r){let n={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,i);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r));let s;if(this._isRtl()?s=i.overlayX==="end"?"left":"right":s=i.overlayX==="end"?"right":"left",s==="right"){let o=this._document.documentElement.clientWidth;n.right=`${o-(a.x+this._overlayRect.width)}px`}else n.left=za(a.x);return n}_getScrollVisibility(){let i=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:sj(i,r),isOriginOutsideView:X3(i,r),isOverlayClipped:sj(e,r),isOverlayOutsideView:X3(e,r)}}_subtractOverflows(i,...e){return e.reduce((r,n)=>r-Math.max(n,0),i)}_getNarrowedViewportRect(){let i=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+i-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:i-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,e){return e==="x"?i.offsetX==null?this._offsetX:i.offsetX:i.offsetY==null?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Vm(i).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){let i=this._origin;if(i instanceof Pt)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();let e=i.width||0,r=i.height||0;return{top:i.y,bottom:i.y+r,left:i.x,right:i.x+e,height:r,width:e}}};function kg(t,i){for(let e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}function lj(t){if(typeof t!="number"&&t!=null){let[i,e]=t.split(cye);return!e||e==="px"?parseFloat(i):null}return t||null}function cj(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function uye(t,i){return t===i?!0:t.isOriginClipped===i.isOriginClipped&&t.isOriginOutsideView===i.isOriginOutsideView&&t.isOverlayClipped===i.isOverlayClipped&&t.isOverlayOutsideView===i.isOverlayOutsideView}var uj="cdk-global-overlay-wrapper",K3=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(i){let e=i.getConfig();this._overlayRef=i,this._width&&!e.width&&i.updateSize({width:this._width}),this._height&&!e.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(uj),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:n,height:a,maxWidth:s,maxHeight:o}=r,u=(n==="100%"||n==="100vw")&&(!s||s==="100%"||s==="100vw"),l=(a==="100%"||a==="100vh")&&(!o||o==="100%"||o==="100vh"),c=this._xPosition,h=this._xOffset,d=this._overlayRef.getConfig().direction==="rtl",f="",m="",p="";u?p="flex-start":c==="center"?(p="center",d?m=h:f=h):d?c==="left"||c==="end"?(p="flex-end",f=h):(c==="right"||c==="start")&&(p="flex-start",m=h):c==="left"||c==="start"?(p="flex-start",f=h):(c==="right"||c==="end")&&(p="flex-end",m=h),i.position=this._cssPosition,i.marginLeft=u?"0":f,i.marginTop=l?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=u?"0":m,e.justifyContent=p,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(uj),r.justifyContent=r.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}},dye=(()=>{class t{_viewportRuler=le(Bo);_document=le(Di);_platform=le(In);_overlayContainer=le(xE);constructor(){}global(){return new K3}flexibleConnectedTo(e){return new Q3(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ds=(()=>{class t{scrollStrategies=le(aye);_overlayContainer=le(xE);_positionBuilder=le(dye);_keyboardDispatcher=le(oye);_injector=le(Wi);_ngZone=le(ri);_document=le(Di);_directionality=le(qr);_location=le(Om);_outsideClickDispatcher=le(lye);_animationsModuleType=le(Un,{optional:!0});_idGenerator=le(Gn);_renderer=le(Dl).createRenderer(null,null);_appRef;_styleLoader=le(gr);constructor(){}create(e){this._styleLoader.load(hj);let r=this._createHostElement(),n=this._createPaneElement(r),a=this._createPortalOutlet(n),s=new Id(e);return s.direction=s.direction||this._directionality.value,new l1(a,r,n,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Ba),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let r=this._document.createElement("div");return r.id=this._idGenerator.getId("cdk-overlay-"),r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(_c)),new A_(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hye=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],fj=new tt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=le(Ds);return()=>t.scrollStrategies.reposition()}}),I_=(()=>{class t{elementRef=le(Pt);constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return t})(),Z3=(()=>{class t{_overlay=le(Ds);_dir=le(qr,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=Vi.EMPTY;_attachSubscription=Vi.EMPTY;_detachSubscription=Vi.EMPTY;_positionSubscription=Vi.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=le(fj);_disposeOnNavigation=!1;_ngZone=le(ri);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new Tt;positionChange=new Tt;attach=new Tt;detach=new Tt;overlayKeydown=new Tt;overlayOutsideClick=new Tt;constructor(){let e=le(sr),r=le(xr);this._templatePortal=new No(e,r),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=hye);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),r.keyCode===27&&!this.disableClose&&!Is(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{let n=this._getOriginElement(),a=Za(r);(!n||n!==a&&!n.contains(a))&&this.overlayOutsideClick.next(r)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),r=new Id({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(r.width=this.width),(this.height||this.height===0)&&(r.height=this.height),(this.minWidth||this.minWidth===0)&&(r.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(e){let r=this.positions.map(n=>({originX:n.originX,originY:n.originY,overlayX:n.overlayX,overlayY:n.overlayY,offsetX:n.offsetX||this.offsetX,offsetY:n.offsetY||this.offsetY,panelClass:n.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof I_?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof I_?this.origin.elementRef.nativeElement:this.origin instanceof Pt?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(ty(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Rt],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Rt],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Rt],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Rt],push:[2,"cdkConnectedOverlayPush","push",Rt],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Rt]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Mi,Ki]})}return t})();function fye(t){return()=>t.scrollStrategies.reposition()}var pye={provide:fj,deps:[Ds],useFactory:fye},Zc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:[Ds,pye],imports:[Hm,bh,M_,M_]})}return t})();function mye(t,i){if(t&1){let e=Ye();B(0,"div",1)(1,"button",2),we("click",function(){Me(e);let n=pe();return Ie(n.action())}),J(2),U()()}if(t&2){let e=pe();K(2),It(" ",e.data.action," ")}}var gye=["label"];function vye(t,i){}var yye=Math.pow(2,31)-1,Fg=class{_overlayRef;instance;containerInstance;_afterDismissed=new mt;_afterOpened=new mt;_onAction=new mt;_durationTimeoutId;_dismissedByAction=!1;constructor(i,e){this._overlayRef=e,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,yye))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},bE=new tt("MatSnackBarData"),c1=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},xye=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return t})(),bye=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return t})(),_ye=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return t})(),pj=(()=>{class t{snackBarRef=le(Fg);data=le(bE);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,n){r&1&&(B(0,"div",0),J(1),U(),Te(2,mye,3,1,"div",1)),r&2&&(K(),It(" ",n.data.message,`
`),K(),Zi(n.hasAction?2:-1))},dependencies:[ln,xye,bye,_ye],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return t})(),wye={snackBarState:us("state",[na("void, hidden",Oi({transform:"scale(0.8)",opacity:0})),na("visible",Oi({transform:"scale(1)",opacity:1})),vr("* => visible",ir("150ms cubic-bezier(0, 0, 0.2, 1)")),vr("* => void, * => hidden",ir("75ms cubic-bezier(0.4, 0.0, 1, 1)",Oi({opacity:0})))])},Cye=(()=>{class t extends Ym{_ngZone=le(ri);_elementRef=le(Pt);_changeDetectorRef=le(ki);_platform=le(In);snackBarConfig=le(c1);_document=le(Di);_trackedModals=new Set;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new mt;_onExit=new mt;_onEnter=new mt;_animationState="void";_live;_label;_role;_liveElementId=le(Gn).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),r}attachTemplatePortal(e){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),r}attachDomPortal=e=>{this._assertNotAttached();let r=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),r};onAnimationEnd(e){let{fromState:r,toState:n}=e;if((n==="void"&&r!=="void"||n==="hidden")&&this._completeExit(),n==="visible"){let a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>e.classList.add(s)):e.classList.add(r)),this._exposeToModals();let n=this._label.nativeElement,a="mdc-snackbar__label";n.classList.toggle(a,!n.querySelector(`.${a}`))}_exposeToModals(){let e=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<r.length;n++){let a=r[n],s=a.getAttribute("aria-owns");this._trackedModals.add(a),s?s.indexOf(e)===-1&&a.setAttribute("aria-owns",s+" "+e):a.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let r=e.getAttribute("aria-owns");if(r){let n=r.replace(this._liveElementId,"").trim();n.length>0?e.setAttribute("aria-owns",n):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(n=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),n?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,n){if(r&1&&(Jt(Qc,7),Jt(gye,7)),r&2){let a;yt(a=xt())&&(n._portalOutlet=a.first),yt(a=xt())&&(n._label=a.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(r,n){r&1&&JR("@state.done",function(s){return n.onAnimationEnd(s)}),r&2&&ZR("@state",n._animationState)},features:[Ai],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,n){r&1&&(B(0,"div",1)(1,"div",2,0)(3,"div",3),Te(4,vye,0,0,"ng-template",4),U(),He(5,"div"),U()()),r&2&&(K(5),ti("aria-live",n._live)("role",n._role)("id",n._liveElementId))},dependencies:[Qc],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[wye.snackBarState]}})}return t})();function Sye(){return new c1}var Tye=new tt("mat-snack-bar-default-options",{providedIn:"root",factory:Sye}),bo=(()=>{class t{_overlay=le(Ds);_live=le(cE);_injector=le(Wi);_breakpointObserver=le(Jy);_parentSnackBar=le(t,{optional:!0,skipSelf:!0});_defaultConfig=le(Tye);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=pj;snackBarContainerComponent=Cye;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",n){let a=ht(ht({},this._defaultConfig),n);return a.data={message:e,action:r},a.announcementMessage===e&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){let n=r&&r.viewContainerRef&&r.viewContainerRef.injector,a=Wi.create({parent:n||this._injector,providers:[{provide:c1,useValue:r}]}),s=new xh(this.snackBarContainerComponent,r.viewContainerRef,a),o=e.attach(s);return o.instance.snackBarConfig=r,o.instance}_attach(e,r){let n=ht(ht(ht({},new c1),this._defaultConfig),r),a=this._createOverlay(n),s=this._attachSnackBarContainer(a,n),o=new Fg(s,a);if(e instanceof sr){let u=new No(e,null,{$implicit:n.data,snackBarRef:o});o.instance=s.attachTemplatePortal(u)}else{let u=this._createInjector(n,o),l=new xh(e,void 0,u),c=s.attachComponentPortal(l);o.instance=c.instance}return this._breakpointObserver.observe(tE.HandsetPortrait).pipe(pi(a.detachments())).subscribe(u=>{a.overlayElement.classList.toggle(this.handsetCssClass,u.matches)}),n.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){let r=new Id;r.direction=e.direction;let n=this._overlay.position().global(),a=e.direction==="rtl",s=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!a||e.horizontalPosition==="end"&&a,o=!s&&e.horizontalPosition!=="center";return s?n.left("0"):o?n.right("0"):n.centerHorizontally(),e.verticalPosition==="top"?n.top("0"):n.bottom("0"),r.positionStrategy=n,this._overlay.create(r)}_createInjector(e,r){let n=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Wi.create({parent:n||this._injector,providers:[{provide:Fg,useValue:r},{provide:bE,useValue:e.data}]})}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var mj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:[bo],imports:[Zc,bh,Wm,Si,pj,Si]})}return t})();var kn=(()=>{class t{constructor(e,r){this.sbRef=e,this.data=r}static{this.\u0275fac=function(r){return new(r||t)(je(Fg),je(bE))}}static{this.\u0275cmp=Ke({type:t,selectors:[["snack-alert"]],standalone:!1,decls:2,vars:1,consts:[[1,"example-alert"]],template:function(r,n){r&1&&(B(0,"span",0),J(1),U()),r&2&&(K(),vt(n.data))},styles:[".example-alert[_ngcontent-%COMP%]{color:#fff}"]})}}return t})();var An=(()=>{class t{constructor(e,r){this.http=e,this._snackBar=r,this.snowstormFhirBase="https://snowstorm.ihtsdotools.org/fhir",this.defaultFhirUrlParam="http://snomed.info/sct",this.fhirUrlParam=this.defaultFhirUrlParam,this.lang="en",this.languageRefsetConcept=null,this.snowstormFhirBaseSubject=new Rn(this.snowstormFhirBase),this.fhirUrlParamSubject=new Rn(this.fhirUrlParam),this.langSubject=new Rn(this.lang),this.languageRefsetConceptSubject=new Rn(this.languageRefsetConcept),this.contextSubject=new Rn(this.context),this.expandValuesetCache=new Map,this.CACHE_LIMIT=100,this.CACHE_DURATION=20*60*60*1e3,this.CACHE_KEY="valueSetCache",this.snowstormFhirBase$=this.snowstormFhirBaseSubject.asObservable(),this.fhirUrlParam$=this.fhirUrlParamSubject.asObservable(),this.lang$=this.langSubject.asObservable(),this.languageRefsetConcept$=this.languageRefsetConceptSubject.asObservable(),this.context$=this.contextSubject.asObservable(),this.conceptCache=new Map,this.loadCache()}setSnowstormFhirBase(e){this.snowstormFhirBase=e,this.snowstormFhirBaseSubject.next(e),this.languageRefsetConcept=null}setFhirUrlParam(e){this.fhirUrlParam=e,this.fhirUrlParamSubject.next(e),this.languageRefsetConcept=null}setFhirUrlParamLocal(e){this.fhirUrlParam=e,this.languageRefsetConcept=null}setLang(e){this.lang=e,this.langSubject.next(e),this.setLanguageRefsetConcept(null),this.setContext(null)}setLanguageRefsetConcept(e){this.languageRefsetConcept=e,this.languageRefsetConceptSubject.next(e),this.setContext(null)}setContext(e){this.context=e,this.contextSubject.next(e)}getSnowstormFhirBase(){return this.snowstormFhirBase}getFhirUrlParam(){return this.fhirUrlParam}getLang(){return this.lang}getLanguageRefsetConcept(){return this.languageRefsetConcept}getContext(){return this.context}getComputedLanguageContext(){return this.context?this.context.languageDialects:this.languageRefsetConcept?this.lang+"-X-"+this.languageRefsetConcept.code:this.lang}getCodeSystems(){let e=`${this.snowstormFhirBase}/CodeSystem`;this.snowstormFhirBase.includes("ontoserver")&&(e+="?system=http://snomed.info/sct");let r=new da({"Accept-Language":this.lang});return this.http.get(e,{headers:r}).pipe(Ur(this.handleError("getCodeSystems",{})))}getCodeSystem(e){let r=`${this.snowstormFhirBase}/CodeSystem?version=${e}`,n=new da({"Accept-Language":this.lang});return this.http.get(r,{headers:n}).pipe(Ur(this.handleError("getCodeSystem",{})))}getValueSetExpansionUrl(e,r,n,a){n||(n=0),a||(a=20),typeof r!="string"&&(r="");let s=this.getComputedLanguageContext();return`${this.snowstormFhirBase}/ValueSet/$expand?url=${this.fhirUrlParam}?fhir_vs=ecl/${encodeURIComponent(e)}&count=${a}&offset=${n}&filter=${r}&language=${s}&displayLanguage=${s}`}expandValueSet(e,r,n,a){let s=this.getValueSetExpansionUrl(e,r,n,a),o=new da({"Accept-Language":this.lang});return this.http.get(s,{headers:o}).pipe(Ur(this.handleError("expandValueSet",{})))}getAlternateIdentifiers(e){let r=this.snowstormFhirBase.replace("fhir","snowstorm/snomed-ct/browser/MAIN/LOINC/concepts/"+e),n=new da({"Accept-Language":this.lang});return this.http.get(r,{headers:n}).pipe(si(a=>a.alternateIdentifiers),Ur(this.handleError("getAlternateIdentifiers",[])))}getValueSetFromExpansion(e){let r={resourceType:"Parameters",parameter:[]},n={resourceType:"ValueSet",status:"draft",experimental:!0,compose:{include:[{system:"http://snomed.info/sct",version:this.fhirUrlParam,concept:[]}]}};return e?.contains&&e.contains.forEach(a=>{n.compose.include[0].concept.push({code:a.code})}),r.parameter.push({name:"valueSet",resource:n}),r}expandInlineValueSet(e){let r=`${this.snowstormFhirBase}/ValueSet/$expand`,n={headers:new da({"Content-Type":"application/fhir+json","Accept-Language":this.getComputedLanguageContext()})};return this.http.post(r,e,n).pipe(Ur(this.handleError("expandInlineValueSet",{})))}getLanguageRefsets(e){let r=`${this.snowstormFhirBase}/ValueSet/$expand?url=${this.fhirUrlParam}?fhir_vs=ecl/<< 900000000000506000`;e&&(r+=` {{ C moduleId = ${e} }}`);let n=new da({"Accept-Language":this.lang});return this.http.get(r,{headers:n}).pipe(Ur(this.handleError("getLanguageRefsets",{})))}expandValueSetUsingCache(e,r,n,a){let s=this.getValueSetExpansionUrl(e,r,n,a),o=this.expandValuesetCache.get(s);if(o&&Date.now()-o.timestamp<this.CACHE_DURATION)return this.expandValuesetCache.delete(s),this.expandValuesetCache.set(s,o),this.saveCache(),ui(o.data);let u=new da({"Accept-Language":this.lang});return this.http.get(s,{headers:u}).pipe(Jn(l=>{this.manageCacheLimit(),this.expandValuesetCache.set(s,{timestamp:Date.now(),data:l}),this.saveCache()}),Ur(this.handleError("expandValueSet",{})))}manageCacheLimit(){if(this.expandValuesetCache.size>=this.CACHE_LIMIT){let e=this.expandValuesetCache.keys().next().value;e&&this.expandValuesetCache.delete(e)}}saveCache(){try{let e=Array.from(this.expandValuesetCache.entries());localStorage.setItem(this.CACHE_KEY,JSON.stringify(e))}catch(e){console.error("Failed to save cache:",e)}}loadCache(){try{let e=localStorage.getItem(this.CACHE_KEY);if(e){let r=JSON.parse(e);this.expandValuesetCache=new Map(r)}}catch(e){console.error("Failed to load cache:",e)}}translate(e,r,n){n||(n=this.defaultFhirUrlParam);let a=`${this.snowstormFhirBase}/ConceptMap/$translate?url=http://snomed.info/sct?fhir_cm=${e}&code=${r}&system=${n}`,s=new da({"Accept-Language":this.lang});return this.http.get(a,{headers:s}).pipe(Ur(this.handleError("translate",{})))}expandValueSetFromServer(e,r,n,a,s,o){s||(s=0),o||(o=20),e||(e=this.snowstormFhirBase),r||(r=this.fhirUrlParam),typeof a!="string"&&(a="");let u=this.getComputedLanguageContext(),l=`${e}/ValueSet/$expand?url=${r}?fhir_vs=ecl/${encodeURIComponent(n)}&count=${o}&offset=${s}&filter=${a}&language=${u}&displayLanguage=${u}`,c=new da({"Accept-Language":this.lang});return this.http.get(l,{headers:c}).pipe(Ur(this.handleError("expandValueSet",{})))}handleError(e="operation",r){return n=>(console.error("There was an error!"),console.error(n),this._snackBar.openFromComponent(kn,{duration:5*1e3,data:n.message,panelClass:["red-snackbar"]}),ui(r))}lookupConcept(e,r){r||(r=this.fhirUrlParam);let n=`${r}:${e}`,a=this.conceptCache.get(n);if(a)return ui(a);let s=`${this.snowstormFhirBase}/CodeSystem/$lookup?system=http://snomed.info/sct&code=${e}&property=normalForm`;r!="http://snomed.info/sct"&&(s+=`&version=${r}`);let o={headers:new da({"Accept-Language":this.lang})};return this.http.get(s,o).pipe(Jn(u=>{this.conceptCache.set(n,u)}),Ur(this.handleError("lookupConcept",{})))}getMRCMAttributes(e){let r=`${this.snowstormFhirBase.replace("fhir","snowstorm/snomed-ct")}mrcm/MAIN/domain-attributes?parentIds=${e}&proximalPrimitiveModeling=false&contentType=POSTCOORDINATED`,n=new da({"Accept-Language":this.lang});return this.http.get(r,{headers:n}).pipe(Ur(this.handleError("getMRCMAttributes",{})))}addPostcoordinatedExpression(e){let r=`${this.snowstormFhirBase}/CodeSystem/sct_11000003104_EXP`,n={headers:new da({"Content-Type":"application/fhir+json","Accept-Language":this.lang})};return this.http.patch(r,{resourceType:"CodeSystem",concept:[{code:e}]},n).pipe(Ur(this.handleError("addPostcoordinatedExpression",{})))}runEclLegacy(e){let r=`https://browser.ihtsdotools.org/snowstorm/snomed-ct/MAIN/SNOMEDCT-ES/2022-10-31/concepts?offset=0&limit=100&termActive=true&ecl=${encodeURIComponent(e)}`,n=new da({"Accept-Language":this.lang});return this.http.get(r,{headers:n}).pipe(Ur(this.handleError("expandValueSet",{})))}getIcd10MapTargets(e){let r=`${this.snowstormFhirBase}/ConceptMap/$translate?code=${e}&system=http://snomed.info/sct&source=http://snomed.info/sct?fhir_vs&target=http://hl7.org/fhir/sid/icd-10&url=http://snomed.info/sct/900000000000207008/version/20200131?fhir_cm=447562003`,n=new da({"Accept-Language":this.lang});return this.http.get(r,{headers:n}).pipe(Ur(this.handleError("translate",{})))}lookupOtherCodeSystems(e,r){let n=`${this.snowstormFhirBase}/CodeSystem/$lookup?system=${e}&code=${r}`,a=new da({"Accept-Language":this.lang});return this.http.get(n,{headers:a}).pipe(Ur(this.handleError("lookup",{})))}getNormalForm(e){if(e.parameter)for(let r of e.parameter){let n=!1;if(r.name=="property"){for(let a of r.part)a.name=="code"&&a.valueString=="normalForm"&&(n=!0);if(n){for(let a of r.part)if(a.name=="valueString")return a.valueString}}}return""}parseNormmalForm(e){let r=[];return e.split("} {").forEach(a=>{let s=a.match(/\d+\|[^\|]+\|\s*=\s*\d+\|[^\|]+\|/g);if(!s)return;let o=s.map(u=>{let[l,c]=u.split("=").map(p=>p.trim()),[h,d]=l.split("|").map(p=>p.trim()),[f,m]=c.split("|").map(p=>p.trim());return{type:{code:h,display:d.replace(/\(.*\)/,"").trim()},target:{code:f,display:m}}});r.push(o)}),{groups:r}}static{this.\u0275fac=function(r){return new(r||t)(yi(Ms),yi(bo))}}static{this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Eye=["*"],_E;function Aye(){if(_E===void 0&&(_E=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(_E=t.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return _E}function D_(t){return Aye()?.createHTML(t)||t}function gj(t){return Error(`Unable to find icon with the name "${t}"`)}function Mye(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function vj(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function yj(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var Ip=class{url;svgText;options;svgElement;constructor(i,e,r){this.url=i,this.svgText=e,this.options=r}},Iye=(()=>{class t{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,r,n,a){this._httpClient=e,this._sanitizer=r,this._errorHandler=a,this._document=n}addSvgIcon(e,r,n){return this.addSvgIconInNamespace("",e,r,n)}addSvgIconLiteral(e,r,n){return this.addSvgIconLiteralInNamespace("",e,r,n)}addSvgIconInNamespace(e,r,n,a){return this._addSvgIconConfig(e,r,new Ip(n,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,n,a){let s=this._sanitizer.sanitize(ol.HTML,n);if(!s)throw yj(n);let o=D_(s);return this._addSvgIconConfig(e,r,new Ip("",o,a))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,n){return this._addSvgIconSetConfig(e,new Ip(r,null,n))}addSvgIconSetLiteralInNamespace(e,r,n){let a=this._sanitizer.sanitize(ol.HTML,r);if(!a)throw yj(r);let s=D_(a);return this._addSvgIconSetConfig(e,new Ip("",s,n))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let r=this._sanitizer.sanitize(ol.RESOURCE_URL,e);if(!r)throw vj(e);let n=this._cachedIconsByUrl.get(r);return n?ui(wE(n)):this._loadSvgIconFromConfig(new Ip(e,null)).pipe(Jn(a=>this._cachedIconsByUrl.set(r,a)),si(a=>wE(a)))}getNamedSvgIcon(e,r=""){let n=xj(r,e),a=this._svgIconConfigs.get(n);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,e),a)return this._svgIconConfigs.set(n,a),this._getSvgFromConfig(a);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(e,s):nf(gj(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ui(wE(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(si(r=>wE(r)))}_getSvgFromIconSetConfigs(e,r){let n=this._extractIconWithNameFromAnySet(e,r);if(n)return ui(n);let a=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Ur(o=>{let l=`Loading icon set URL: ${this._sanitizer.sanitize(ol.RESOURCE_URL,s.url)} failed: ${o.message}`;return this._errorHandler.handleError(new Error(l)),ui(null)})));return q0(a).pipe(si(()=>{let s=this._extractIconWithNameFromAnySet(e,r);if(!s)throw gj(e);return s}))}_extractIconWithNameFromAnySet(e,r){for(let n=r.length-1;n>=0;n--){let a=r[n];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(a),o=this._extractSvgIconFromSet(s,e,a.options);if(o)return o}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Jn(r=>e.svgText=r),si(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ui(null):this._fetchIcon(e).pipe(Jn(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,n){let a=e.querySelector(`[id="${r}"]`);if(!a)return null;let s=a.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,n);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),n);let o=this._svgElementFromString(D_("<svg></svg>"));return o.appendChild(s),this._setSvgAttributes(o,n)}_svgElementFromString(e){let r=this._document.createElement("DIV");r.innerHTML=e;let n=r.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){let r=this._svgElementFromString(D_("<svg></svg>")),n=e.attributes;for(let a=0;a<n.length;a++){let{name:s,value:o}=n[a];s!=="id"&&r.setAttribute(s,o)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){let{url:r,options:n}=e,a=n?.withCredentials??!1;if(!this._httpClient)throw Mye();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(ol.RESOURCE_URL,r);if(!s)throw vj(r);let o=this._inProgressUrlFetches.get(s);if(o)return o;let u=this._httpClient.get(s,{responseType:"text",withCredentials:a}).pipe(si(l=>D_(l)),_d(()=>this._inProgressUrlFetches.delete(s)),yb());return this._inProgressUrlFetches.set(s,u),u}_addSvgIconConfig(e,r,n){return this._svgIconConfigs.set(xj(e,r),n),this}_addSvgIconSetConfig(e,r){let n=this._iconSetConfigs.get(e);return n?n.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){let r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let n=0;n<this._resolvers.length;n++){let a=this._resolvers[n](r,e);if(a)return Dye(a)?new Ip(a.url,null,a.options):new Ip(a,null)}}static \u0275fac=function(r){return new(r||t)(yi(Ms,8),yi(Lk),yi(Di,8),yi(Hc))};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wE(t){return t.cloneNode(!0)}function xj(t,i){return t+":"+i}function Dye(t){return!!(t.url&&t.options)}var Pye=new tt("MAT_ICON_DEFAULT_OPTIONS"),Rye=new tt("mat-icon-location",{providedIn:"root",factory:kye});function kye(){let t=le(Di),i=t?t.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}var bj=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Fye=bj.map(t=>`[${t}]`).join(", "),Oye=/^url\(['"]?#(.*?)['"]?\)$/,pn=(()=>{class t{_elementRef=le(Pt);_iconRegistry=le(Iye);_location=le(Rye);_errorHandler=le(Hc);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Vi.EMPTY;constructor(){let e=le(new go("aria-hidden"),{optional:!0}),r=le(Pye,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let n=e.childNodes[r];(n.nodeType!==1||n.nodeName.toLowerCase()==="svg")&&n.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(n=>n.length>0);this._previousFontSetClass.forEach(n=>e.classList.remove(n)),r.forEach(n=>e.classList.add(n)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let r=this._elementsWithExternalReferences;r&&r.forEach((n,a)=>{n.forEach(s=>{a.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let r=e.querySelectorAll(Fye),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)bj.forEach(s=>{let o=r[a],u=o.getAttribute(s),l=u?u.match(Oye):null;if(l){let c=n.get(o);c||(c=[],n.set(o,c)),c.push({name:s,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[r,n]=this._splitIconName(e);r&&(this._svgNamespace=r),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,r).pipe(fr(1)).subscribe(a=>this._setSvgElement(a),a=>{let s=`Error retrieving icon ${r}:${n}! ${a.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,n){r&2&&(ti("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),cs(n.color?"mat-"+n.color:""),Ut("mat-icon-inline",n.inline)("mat-icon-no-color",n.color!=="primary"&&n.color!=="accent"&&n.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Rt],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Mi],ngContentSelectors:Eye,decls:1,vars:0,template:function(r,n){r&1&&(zi(),$t(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return t})(),CE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si,Si]})}return t})();var Lye=["mat-menu-item",""],Nye=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Bye=["mat-icon, [matMenuItemIcon]","*"];function Vye(t,i){t&1&&(Aa(),B(0,"svg",2),He(1,"polygon",3),U())}var zye=["*"];function Uye(t,i){if(t&1){let e=Ye();B(0,"div",0),we("click",function(){Me(e);let n=pe();return Ie(n.closed.emit("click"))})("animationstart",function(n){Me(e);let a=pe();return Ie(a._onAnimationStart(n.animationName))})("animationend",function(n){Me(e);let a=pe();return Ie(a._onAnimationDone(n.animationName))})("animationcancel",function(n){Me(e);let a=pe();return Ie(a._onAnimationDone(n.animationName))}),B(1,"div",1),$t(2),U()()}if(t&2){let e=pe();cs(e._classList),Ut("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating),oe("id",e.panelId),ti("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var q3=new tt("MAT_MENU_PANEL"),Ps=(()=>{class t{_elementRef=le(Pt);_document=le(Di);_focusMonitor=le(ha);_parentMenu=le(q3,{optional:!0});_changeDetectorRef=le(ki);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new mt;_focused=new mt;_highlighted=!1;_triggersSubmenu=!1;constructor(){le(gr).load(fa),this._parentMenu?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let n=0;n<r.length;n++)r[n].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(r,n){r&1&&we("click",function(s){return n._checkDisabled(s)})("mouseenter",function(){return n._handleMouseEnter()}),r&2&&(ti("role",n.role)("tabindex",n._getTabIndex())("aria-disabled",n.disabled)("disabled",n.disabled||null),Ut("mat-mdc-menu-item-highlighted",n._highlighted)("mat-mdc-menu-item-submenu-trigger",n._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",Rt],disableRipple:[2,"disableRipple","disableRipple",Rt]},exportAs:["matMenuItem"],features:[Mi],attrs:Lye,ngContentSelectors:Bye,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,n){r&1&&(zi(Nye),$t(0),B(1,"span",0),$t(2,1),U(),He(3,"div",1),Te(4,Vye,2,0,":svg:svg",2)),r&2&&(K(3),oe("matRippleDisabled",n.disableRipple||n.disabled)("matRippleTrigger",n._getHostElement()),K(),Zi(n._triggersSubmenu?4:-1))},dependencies:[zu],encapsulation:2,changeDetection:0})}return t})();var Hye=new tt("MatMenuContent");var Gye=new tt("mat-menu-default-options",{providedIn:"root",factory:jye});function jye(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var J3="_mat-menu-enter",SE="_mat-menu-exit",ys=(()=>{class t{_elementRef=le(Pt);_changeDetectorRef=le(ki);_injector=le(Wi);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new bc;_classList={};_panelAnimationState="void";_animationDone=new mt;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let r=this._previousPanelClass,n=ht({},this._classList);r&&r.length&&r.split(" ").forEach(a=>{n[a]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(a=>{n[a]=!0}),this._elementRef.nativeElement.className=""),this._classList=n}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new Tt;close=this.closed;panelId=le(Gn).getId("mat-menu-panel-");constructor(){let e=le(Gye);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop,this._animationsDisabled=le(Un,{optional:!0})==="NoopAnimations"}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Ap(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Bn(this._directDescendantItems),Mn(e=>$n(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let r=this._keyManager;if(this._panelAnimationState==="enter"&&r.activeItem?._hasFocus()){let n=e.toArray(),a=Math.max(0,Math.min(n.length-1,r.activeItemIndex||0));n[a]&&!n[a].disabled?r.setActiveItem(a):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(Bn(this._directDescendantItems),Mn(r=>$n(...r.map(n=>n._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let r=e.keyCode,n=this._keyManager;switch(r){case 27:Is(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(r===38||r===40)&&n.setFocusOrigin("keyboard"),n.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=ls(()=>{let r=this._resolvePanel();if(!r||!r.contains(document.activeElement)){let n=this._keyManager;n.setFocusOrigin(e).setFirstItemActive(),!n.activeItem&&r&&r.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,r=this.yPosition){this._classList=Ri(ht({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":r==="above","mat-menu-below":r==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let r=e===SE;(r||e===J3)&&(r&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(r?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(e){(e===J3||e===SE)&&(this._isAnimating=!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let r=this._resolvePanel();r&&(r.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(SE),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?J3:SE)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(Bn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-menu"]],contentQueries:function(r,n,a){if(r&1&&(Fi(a,Hye,5),Fi(a,Ps,5),Fi(a,Ps,4)),r&2){let s;yt(s=xt())&&(n.lazyContent=s.first),yt(s=xt())&&(n._allItems=s),yt(s=xt())&&(n.items=s)}},viewQuery:function(r,n){if(r&1&&Jt(sr,5),r&2){let a;yt(a=xt())&&(n.templateRef=a.first)}},hostVars:3,hostBindings:function(r,n){r&2&&ti("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",Rt],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:Rt(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[_i([{provide:q3,useExisting:t}]),Mi],ngContentSelectors:zye,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(r,n){r&1&&(zi(),Te(0,Uye,3,12,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0})}return t})(),wj=new tt("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let t=le(Ds);return()=>t.scrollStrategies.reposition()}});function Wye(t){return()=>t.scrollStrategies.reposition()}var Xye={provide:wj,deps:[Ds],useFactory:Wye},_j=cl({passive:!0});var P_=new WeakMap,ra=(()=>{class t{_overlay=le(Ds);_element=le(Pt);_viewContainerRef=le(xr);_menuItemInstance=le(Ps,{optional:!0,self:!0});_dir=le(qr,{optional:!0});_focusMonitor=le(ha);_ngZone=le(ri);_scrollStrategy=le(wj);_changeDetectorRef=le(ki);_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=Vi.EMPTY;_hoverSubscription=Vi.EMPTY;_menuCloseSubscription=Vi.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_handleTouchStart=e=>{Pg(e)||(this._openedBy="touch")};_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),(r==="click"||r==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new Tt;onMenuOpen=this.menuOpened;menuClosed=new Tt;onMenuClose=this.menuClosed;constructor(){let e=le(q3,{optional:!0});this._parentMaterialMenu=e instanceof ys?e:void 0,this._element.nativeElement.addEventListener("touchstart",this._handleTouchStart,_j)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&P_.delete(this.menu),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,_j),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;this._pendingRemoval?.unsubscribe();let r=P_.get(e);P_.set(e,this),r&&r!==this&&r.closeMenu();let n=this._createOverlay(e),a=n.getConfig(),s=a.positionStrategy;this._setPosition(e,s),a.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,n.hasAttached()||(n.attach(this._getPortal(e)),e.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),e instanceof ys&&(e._setIsOpen(!0),e._directDescendantItems.changes.pipe(pi(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){let r=this._overlayRef,n=this._menu;!r||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),n instanceof ys&&this._ownsMenu(n)?(this._pendingRemoval=n._animationDone.pipe(fr(1)).subscribe(()=>{r.detach(),n.lazyContent?.detach()}),n._setIsOpen(!1)):(r.detach(),n?.lazyContent?.detach()),n&&this._ownsMenu(n)&&P_.delete(n),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe(n=>{this.menu instanceof ys&&this.menu._handleKeydown(n)})}return this._overlayRef}_getOverlayConfig(e){return new Id({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(n=>{this._ngZone.run(()=>{let a=n.connectionPair.overlayX==="start"?"after":"before",s=n.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(a,s)})})}_setPosition(e,r){let[n,a]=e.xPosition==="before"?["end","start"]:["start","end"],[s,o]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[u,l]=[s,o],[c,h]=[n,a],d=0;if(this.triggersSubmenu()){if(h=n=e.xPosition==="before"?"start":"end",a=c=n==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let f=this._parentMaterialMenu.items.first;this._parentInnerPadding=f?f._getHostElement().offsetTop:0}d=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(u=s==="top"?"bottom":"top",l=o==="top"?"bottom":"top");r.withPositions([{originX:n,originY:u,overlayX:c,overlayY:s,offsetY:d},{originX:a,originY:u,overlayX:h,overlayY:s,offsetY:d},{originX:n,originY:l,overlayX:c,overlayY:o,offsetY:-d},{originX:a,originY:l,overlayX:h,overlayY:o,offsetY:-d}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),n=this._parentMaterialMenu?this._parentMaterialMenu.closed:ui(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(ji(s=>this._menuOpen&&s!==this._menuItemInstance)):ui();return $n(e,n,a,r)}_handleMousedown(e){Dg(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let r=e.keyCode;(r===13||r===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(r===39&&this.dir==="ltr"||r===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new No(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return P_.get(e)===this}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(r,n){r&1&&we("click",function(s){return n._handleClick(s)})("mousedown",function(s){return n._handleMousedown(s)})("keydown",function(s){return n._handleKeydown(s)}),r&2&&ti("aria-haspopup",n.menu?"menu":null)("aria-expanded",n.menuOpen)("aria-controls",n.menuOpen?n.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return t})(),Cj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:[Xye],imports:[Uu,Si,Zc,Cc,Si]})}return t})(),Sj={transformMenu:us("transformMenu",[na("void",Oi({opacity:0,transform:"scale(0.8)"})),vr("void => enter",ir("120ms cubic-bezier(0, 0, 0.2, 1)",Oi({opacity:1,transform:"scale(1)"}))),vr("* => void",ir("100ms 25ms linear",Oi({opacity:0})))]),fadeInItems:us("fadeInItems",[na("showing",Oi({opacity:1})),vr("void => *",[Oi({opacity:0}),ir("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Bct=Sj.fadeInItems,Vct=Sj.transformMenu;var Yye=["determinateSpinner"];function $ye(t,i){if(t&1&&(Aa(),B(0,"svg",11),He(1,"circle",12),U()),t&2){let e=pe();ti("viewBox",e._viewBox()),K(),Fr("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),ti("r",e._circleRadius())}}var Qye=new tt("mat-progress-spinner-default-options",{providedIn:"root",factory:Kye});function Kye(){return{diameter:Tj}}var Tj=100,Zye=10,Ra=(()=>{class t{_elementRef=le(Pt);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=le(Un,{optional:!0}),r=le(Qye);this._noopAnimations=e==="NoopAnimations"&&!!r&&!r._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=Tj;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-Zye)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,n){if(r&1&&Jt(Yye,5),r&2){let a;yt(a=xt())&&(n._determinateCircle=a.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(r,n){r&2&&(ti("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",n.mode==="determinate"?n.value:null)("mode",n.mode),cs("mat-"+n.color),Fr("width",n.diameter,"px")("height",n.diameter,"px")("--mdc-circular-progress-size",n.diameter+"px")("--mdc-circular-progress-active-indicator-width",n.diameter+"px"),Ut("_mat-animation-noopable",n._noopAnimations)("mdc-circular-progress--indeterminate",n.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",mr],diameter:[2,"diameter","diameter",mr],strokeWidth:[2,"strokeWidth","strokeWidth",mr]},exportAs:["matProgressSpinner"],features:[Mi],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,n){if(r&1&&(Te(0,$ye,2,8,"ng-template",null,0,Fm),B(2,"div",2,1),Aa(),B(4,"svg",3),He(5,"circle",4),U()(),vg(),B(6,"div",5)(7,"div",6)(8,"div",7),vo(9,8),U(),B(10,"div",9),vo(11,8),U(),B(12,"div",10),vo(13,8),U()()()),r&2){let a=hi(1);K(4),ti("viewBox",n._viewBox()),K(),Fr("stroke-dasharray",n._strokeCircumference(),"px")("stroke-dashoffset",n._strokeDashOffset(),"px")("stroke-width",n._circleStrokeWidth(),"%"),ti("r",n._circleRadius()),K(4),oe("ngTemplateOutlet",a),K(2),oe("ngTemplateOutlet",a),K(2),oe("ngTemplateOutlet",a)}},dependencies:[mT],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return t})();var TE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si]})}return t})();var Jye=["*"];var qye=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],e1e=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],t1e=new tt("MAT_CARD_CONFIG"),Pd=(()=>{class t{appearance;constructor(){let e=le(t1e,{optional:!0});this.appearance=e?.appearance||"raised"}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,n){r&2&&Ut("mat-mdc-card-outlined",n.appearance==="outlined")("mdc-card--outlined",n.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Jye,decls:1,vars:0,template:function(r,n){r&1&&(zi(),$t(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return t})(),u1=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return t})();var $m=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return t})(),EE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return t})(),AE=(()=>{class t{align="start";static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,n){r&2&&Ut("mat-mdc-card-actions-align-end",n.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"]})}return t})(),d1=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:e1e,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,n){r&1&&(zi(qye),$t(0),B(1,"div",0),$t(2,1),U(),$t(3,2))},encapsulation:2,changeDetection:0})}return t})();var Ej=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si,Si]})}return t})();var n1e=[[["caption"]],[["colgroup"],["col"]],"*"],r1e=["caption","colgroup, col","*"];function s1e(t,i){t&1&&$t(0,2)}function a1e(t,i){t&1&&(B(0,"thead",0),vo(1,1),U(),B(2,"tbody",0),vo(3,2)(4,3),U(),B(5,"tfoot",0),vo(6,4),U())}function o1e(t,i){t&1&&vo(0,1)(1,2)(2,3)(3,4)}var Ch=new tt("CDK_TABLE");var kE=(()=>{class t{template=le(sr);constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkCellDef",""]]})}return t})(),FE=(()=>{class t{template=le(sr);constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkHeaderCellDef",""]]})}return t})(),Ij=(()=>{class t{template=le(sr);constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkFooterCellDef",""]]})}return t})(),f1=(()=>{class t{_table=le(Ch,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(e){this._setNameInput(e)}_name;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(r,n,a){if(r&1&&(Fi(a,kE,5),Fi(a,FE,5),Fi(a,Ij,5)),r&2){let s;yt(s=xt())&&(n.cell=s.first),yt(s=xt())&&(n.headerCell=s.first),yt(s=xt())&&(n.footerCell=s.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",Rt],stickyEnd:[2,"stickyEnd","stickyEnd",Rt]},features:[_i([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Mi]})}return t})(),IE=class{constructor(i,e){e.nativeElement.classList.add(...i._columnCssClassName)}},Dj=(()=>{class t extends IE{constructor(){super(le(f1),le(Pt))}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Ai]})}return t})();var Pj=(()=>{class t extends IE{constructor(){let e=le(f1),r=le(Pt);super(e,r);let n=e._table?._getCellRole();n&&r.nativeElement.setAttribute("role",n)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Ai]})}return t})(),DE=class{tasks=[];endTasks=[]},PE=new tt("_COALESCED_STYLE_SCHEDULER"),t4=(()=>{class t{_currentSchedule=null;_ngZone=le(ri);constructor(){}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new DE,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new DE;for(let r of e.tasks)r();for(let r of e.endTasks)r()}this._currentSchedule=null})))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})();var i4=(()=>{class t{template=le(sr);_differs=le(pf);columns;_columnsDiffer;constructor(){}ngOnChanges(e){if(!this._columnsDiffer){let r=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof R_?e.headerCell.template:this instanceof n4?e.footerCell.template:e.cell.template}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,features:[Ki]})}return t})(),R_=(()=>{class t extends i4{_table=le(Ch,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(le(sr),le(pf))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",Rt]},features:[Mi,Ai,Ki]})}return t})(),n4=(()=>{class t extends i4{_table=le(Ch,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(le(sr),le(pf))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",Rt]},features:[Mi,Ai,Ki]})}return t})(),OE=(()=>{class t extends i4{_table=le(Ch,{optional:!0});when;constructor(){super(le(sr),le(pf))}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[Ai]})}return t})(),Og=(()=>{class t{_viewContainer=le(xr);cells;context;static mostRecentCellOutlet=null;constructor(){t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkCellOutlet",""]]})}return t})(),r4=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,n){r&1&&vo(0,0)},dependencies:[Og],encapsulation:2})}return t})();var s4=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,n){r&1&&vo(0,0)},dependencies:[Og],encapsulation:2})}return t})(),Rj=(()=>{class t{templateRef=le(sr);_contentClassName="cdk-no-data-row";constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["ng-template","cdkNoDataRow",""]]})}return t})(),Aj=["top","bottom","left","right"],e4=class{_isNativeHtmlTable;_stickCellCss;direction;_coalescedStyleScheduler;_isBrowser;_needsPositionStickyOnElement;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(i=>this._updateCachedSizes(i)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(i,e,r,n,a=!0,s=!0,o,u){this._isNativeHtmlTable=i,this._stickCellCss=e,this.direction=r,this._coalescedStyleScheduler=n,this._isBrowser=a,this._needsPositionStickyOnElement=s,this._positionListener=o,this._tableInjector=u,this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(i,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(i);let r=[];for(let n of i)n.nodeType===n.ELEMENT_NODE&&r.push(n,...Array.from(n.children));this._afterNextRender({write:()=>{for(let n of r)this._removeStickyStyle(n,e)}})}updateStickyColumns(i,e,r,n=!0,a=!0){if(a&&this._updateStickyColumnReplayQueue({rows:[...i],stickyStartStates:[...e],stickyEndStates:[...r]}),!i.length||!this._isBrowser||!(e.some(g=>g)||r.some(g=>g))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}let s=i[0],o=s.children.length,u=this.direction==="rtl",l=u?"right":"left",c=u?"left":"right",h=e.lastIndexOf(!0),d=r.indexOf(!0),f,m,p;this._afterNextRender({earlyRead:()=>{f=this._getCellWidths(s,n),m=this._getStickyStartColumnPositions(f,e),p=this._getStickyEndColumnPositions(f,r)},write:()=>{for(let g of i)for(let v=0;v<o;v++){let y=g.children[v];e[v]&&this._addStickyStyle(y,l,m[v],v===h),r[v]&&this._addStickyStyle(y,c,p[v],v===d)}this._positionListener&&f.some(g=>!!g)&&(this._positionListener.stickyColumnsUpdated({sizes:h===-1?[]:f.slice(0,h+1).map((g,v)=>e[v]?g:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:d===-1?[]:f.slice(d).map((g,v)=>r[v+d]?g:null).reverse()}))}})}stickRows(i,e,r){if(!this._isBrowser)return;let n=r==="bottom"?i.slice().reverse():i,a=r==="bottom"?e.slice().reverse():e,s=[],o=[],u=[];this._afterNextRender({earlyRead:()=>{for(let l=0,c=0;l<n.length;l++){if(!a[l])continue;s[l]=c;let h=n[l];u[l]=this._isNativeHtmlTable?Array.from(h.children):[h];let d=this._retrieveElementSize(h).height;c+=d,o[l]=d}},write:()=>{let l=a.lastIndexOf(!0);for(let c=0;c<n.length;c++){if(!a[c])continue;let h=s[c],d=c===l;for(let f of u[c])this._addStickyStyle(f,r,h,d)}r==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:o,offsets:s,elements:u}):this._positionListener?.stickyFooterRowsUpdated({sizes:o,offsets:s,elements:u})}})}updateStickyFooterContainer(i,e){this._isNativeHtmlTable&&this._afterNextRender({write:()=>{let r=i.querySelector("tfoot");r&&(e.some(n=>!n)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1))}})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._destroyed=!0}_removeStickyStyle(i,e){for(let n of e)i.style[n]="",i.classList.remove(this._borderCellCss[n]);Aj.some(n=>e.indexOf(n)===-1&&i.style[n])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,e,r,n){i.classList.add(this._stickCellCss),n&&i.classList.add(this._borderCellCss[e]),i.style[e]=`${r}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){let e={top:100,bottom:10,left:1,right:1},r=0;for(let n of Aj)i.style[n]&&(r+=e[n]);return r?`${r}`:""}_getCellWidths(i,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let r=[],n=i.children;for(let a=0;a<n.length;a++){let s=n[a];r.push(this._retrieveElementSize(s).width)}return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(i,e){let r=[],n=0;for(let a=0;a<i.length;a++)e[a]&&(r[a]=n,n+=i[a]);return r}_getStickyEndColumnPositions(i,e){let r=[],n=0;for(let a=i.length;a>0;a--)e[a]&&(r[a]=n,n+=i[a]);return r}_retrieveElementSize(i){let e=this._elemSizeCache.get(i);if(e)return e;let r=i.getBoundingClientRect(),n={width:r.width,height:r.height};return this._resizeObserver&&(this._elemSizeCache.set(i,n),this._resizeObserver.observe(i,{box:"border-box"})),n}_updateStickyColumnReplayQueue(i){this._removeFromStickyColumnReplayQueue(i.rows),!this._stickyColumnsReplayTimeout&&this._updatedStickyColumnsParamsToReplay.push(i)}_removeFromStickyColumnReplayQueue(i){let e=new Set(i);for(let r of this._updatedStickyColumnsParamsToReplay)r.rows=r.rows.filter(n=>!e.has(n));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(r=>!!r.rows.length)}_updateCachedSizes(i){let e=!1;for(let r of i){let n=r.borderBoxSize?.length?{width:r.borderBoxSize[0].inlineSize,height:r.borderBoxSize[0].blockSize}:{width:r.contentRect.width,height:r.contentRect.height};n.width!==this._elemSizeCache.get(r.target)?.width&&l1e(r.target)&&(e=!0),this._elemSizeCache.set(r.target,n)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(let r of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(r.rows,r.stickyStartStates,r.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}_afterNextRender(i){this._tableInjector?ls(i,{injector:this._tableInjector}):this._coalescedStyleScheduler.schedule(()=>{i.earlyRead?.(),i.write()})}};function l1e(t){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(i=>t.classList.contains(i))}var RE=new tt("CDK_SPL");var a4=(()=>{class t{viewContainer=le(xr);elementRef=le(Pt);constructor(){let e=le(Ch);e._rowOutlet=this,e._outletAssigned()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","rowOutlet",""]]})}return t})(),o4=(()=>{class t{viewContainer=le(xr);elementRef=le(Pt);constructor(){let e=le(Ch);e._headerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","headerRowOutlet",""]]})}return t})(),l4=(()=>{class t{viewContainer=le(xr);elementRef=le(Pt);constructor(){let e=le(Ch);e._footerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","footerRowOutlet",""]]})}return t})(),c4=(()=>{class t{viewContainer=le(xr);elementRef=le(Pt);constructor(){let e=le(Ch);e._noDataRowOutlet=this,e._outletAssigned()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","noDataRowOutlet",""]]})}return t})();var u4=(()=>{class t{_differs=le(pf);_changeDetectorRef=le(ki);_elementRef=le(Pt);_dir=le(qr,{optional:!0});_platform=le(In);_viewRepeater=le(x_);_coalescedStyleScheduler=le(PE);_viewportRuler=le(Bo);_stickyPositioningListener=le(RE,{optional:!0,skipSelf:!0});_document=le(Di);_data;_onDestroy=new mt;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}_trackByFn;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new Tt;viewChange=new Rn({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=le(Wi);constructor(){le(new go("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable=this._elementRef.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(pi(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),KT(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,r,(n,a,s)=>this._getEmbeddedViewArgs(n.item,s),n=>n.item.data,n=>{n.operation===jy.INSERTED&&n.context&&this._renderCellTemplateForItem(n.record.item.rowDef,n.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(n=>{let a=r.get(n.currentIndex);a.context.$implicit=n.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let n=Mj(this._headerRowOutlet,"thead");n&&(n.style.display=e.length?"":"none")}let r=this._headerRowDefs.map(n=>n.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,r,"top"),this._headerRowDefs.forEach(n=>n.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let n=Mj(this._footerRowOutlet,"tfoot");n&&(n.style.display=e.length?"":"none")}let r=this._footerRowDefs.map(n=>n.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(n=>n.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...r,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((a,s)=>{this._addStickyColumnStyles([a],this._headerRowDefs[s])}),this._rowDefs.forEach(a=>{let s=[];for(let o=0;o<r.length;o++)this._renderRows[o].rowDef===a&&s.push(r[o]);this._addStickyColumnStyles(s,a)}),n.forEach((a,s)=>{this._addStickyColumnStyles([a],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let a=this._data[n],s=this._getRenderRowsForData(a,n,r.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let o=0;o<s.length;o++){let u=s[o],l=this._cachedRenderRowsMap.get(u.data);l.has(u.rowDef)?l.get(u.rowDef).push(u):l.set(u.rowDef,[u]),e.push(u)}}return e}_getRenderRowsForData(e,r,n){return this._getRowDefs(e,r).map(s=>{let o=n&&n.has(s)?n.get(s):[];if(o.length){let u=o.shift();return u.dataIndex=r,u}else return{data:e,rowDef:s,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ME(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=ME(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ME(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ME(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(r=>!r.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(s,o)=>{let u=!!o.getColumnsDiff();return s||u},r=this._rowDefs.reduce(e,!1);r&&this._forceRenderDataRows();let n=this._headerRowDefs.reduce(e,!1);n&&this._forceRenderHeaderRows();let a=this._footerRowDefs.reduce(e,!1);return a&&this._forceRenderFooterRows(),r||n||a}_switchDataSource(e){this._data=[],KT(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;KT(this.dataSource)?e=this.dataSource.connect(this):wm(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=ui(this.dataSource)),this._renderChangeSubscription=e.pipe(pi(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,r)=>this._renderRow(this._headerRowOutlet,e,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,r)=>this._renderRow(this._footerRowOutlet,e,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,r){let n=Array.from(r?.columns||[]).map(o=>{let u=this._columnDefsByName.get(o);return u}),a=n.map(o=>o.sticky),s=n.map(o=>o.stickyEnd);this._stickyStyler.updateStickyColumns(e,a,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let r=[];for(let n=0;n<e.viewContainer.length;n++){let a=e.viewContainer.get(n);r.push(a.rootNodes[0])}return r}_getRowDefs(e,r){if(this._rowDefs.length==1)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(a=>!a.when||a.when(r,e));else{let a=this._rowDefs.find(s=>s.when&&s.when(r,e))||this._defaultRowDef;a&&n.push(a)}return n.length,n}_getEmbeddedViewArgs(e,r){let n=e.rowDef,a={$implicit:e.data};return{templateRef:n.template,context:a,index:r}}_renderRow(e,r,n,a={}){let s=e.viewContainer.createEmbeddedView(r.template,a,n);return this._renderCellTemplateForItem(r,a),s}_renderCellTemplateForItem(e,r){for(let n of this._getCellTemplates(e))Og.mostRecentCellOutlet&&Og.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let r=0,n=e.length;r<n;r++){let s=e.get(r).context;s.count=n,s.first=r===0,s.last=r===n-1,s.even=r%2===0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[r].dataIndex,s.renderIndex=r):s.index=this._renderRows[r].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,r=>{let n=this._columnDefsByName.get(r);return e.extractCellTemplate(n)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(r,n)=>r||n.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new e4(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:ui()).pipe(pi(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let r=this._rowOutlet.viewContainer.length===0;if(r===this._isShowingNoDataRow)return;let n=this._noDataRowOutlet.viewContainer;if(r){let a=n.createEmbeddedView(e.templateRef),s=a.rootNodes[0];a.rootNodes.length===1&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else n.clear();this._isShowingNoDataRow=r,this._changeDetectorRef.markForCheck()}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(r,n,a){if(r&1&&(Fi(a,Rj,5),Fi(a,f1,5),Fi(a,OE,5),Fi(a,R_,5),Fi(a,n4,5)),r&2){let s;yt(s=xt())&&(n._noDataRow=s.first),yt(s=xt())&&(n._contentColumnDefs=s),yt(s=xt())&&(n._contentRowDefs=s),yt(s=xt())&&(n._contentHeaderRowDefs=s),yt(s=xt())&&(n._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(r,n){r&2&&Ut("cdk-table-fixed-layout",n.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",Rt],fixedLayout:[2,"fixedLayout","fixedLayout",Rt]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[_i([{provide:Ch,useExisting:t},{provide:x_,useClass:Wy},{provide:PE,useClass:t4},{provide:RE,useValue:null}]),Mi],ngContentSelectors:r1e,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,n){r&1&&(zi(n1e),$t(0),$t(1,1),Te(2,s1e,1,0)(3,a1e,7,0)(4,o1e,4,0)),r&2&&(K(2),Zi(n._isServer?2:-1),K(),Zi(n._isNativeHtmlTable?3:4))},dependencies:[o4,a4,c4,l4],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return t})();function ME(t,i){return t.concat(Array.from(i))}function Mj(t,i){let e=i.toUpperCase(),r=t.viewContainer.element.nativeElement;for(;r;){let n=r.nodeType===1?r.nodeName:null;if(n===e)return r;if(n==="TABLE")break;r=r.parentNode}return null}var kj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[M_]})}return t})();var c1e=[[["caption"]],[["colgroup"],["col"]],"*"],u1e=["caption","colgroup, col","*"];function d1e(t,i){t&1&&$t(0,2)}function h1e(t,i){t&1&&(B(0,"thead",0),vo(1,1),U(),B(2,"tbody",2),vo(3,3)(4,4),U(),B(5,"tfoot",0),vo(6,5),U())}function f1e(t,i){t&1&&vo(0,1)(1,3)(2,4)(3,5)}var Jc=(()=>{class t extends u4{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275cmp=Ke({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(r,n){r&2&&Ut("mdc-table-fixed-layout",n.fixedLayout)},exportAs:["matTable"],features:[_i([{provide:u4,useExisting:t},{provide:Ch,useExisting:t},{provide:PE,useClass:t4},{provide:x_,useClass:Wy},{provide:RE,useValue:null}]),Ai],ngContentSelectors:u1e,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,n){r&1&&(zi(c1e),$t(0),$t(1,1),Te(2,d1e,1,0)(3,h1e,7,0)(4,f1e,4,0)),r&2&&(K(2),Zi(n._isServer?2:-1),K(),Zi(n._isNativeHtmlTable?3:4))},dependencies:[o4,a4,c4,l4],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return t})(),qc=(()=>{class t extends kE{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","matCellDef",""]],features:[_i([{provide:kE,useExisting:t}]),Ai]})}return t})(),eu=(()=>{class t extends FE{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","matHeaderCellDef",""]],features:[_i([{provide:FE,useExisting:t}]),Ai]})}return t})();var tu=(()=>{class t extends f1{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[_i([{provide:f1,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Ai]})}return t})(),iu=(()=>{class t extends Dj{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[Ai]})}return t})();var nu=(()=>{class t extends Pj{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[Ai]})}return t})();var ru=(()=>{class t extends R_{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",Rt]},features:[_i([{provide:R_,useExisting:t}]),Mi,Ai]})}return t})();var su=(()=>{class t extends OE{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[_i([{provide:OE,useExisting:t}]),Ai]})}return t})(),au=(()=>{class t extends r4{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275cmp=Ke({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[_i([{provide:r4,useExisting:t}]),Ai],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,n){r&1&&vo(0,0)},dependencies:[Og],encapsulation:2})}return t})();var ou=(()=>{class t extends s4{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275cmp=Ke({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[_i([{provide:s4,useExisting:t}]),Ai],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,n){r&1&&vo(0,0)},dependencies:[Og],encapsulation:2})}return t})();var Fj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si,kj,Si]})}return t})(),p1e=9007199254740991,Hu=class extends Tg{_data;_renderData=new Rn([]);_filter=new Rn("");_internalPageChanges=new mt;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(i){i=Array.isArray(i)?i:[],this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(i,e)=>{let r=i[e];if(A3(r)){let n=Number(r);return n<p1e?n:r}return r};sortData=(i,e)=>{let r=e.active,n=e.direction;return!r||n==""?i:i.sort((a,s)=>{let o=this.sortingDataAccessor(a,r),u=this.sortingDataAccessor(s,r),l=typeof o,c=typeof u;l!==c&&(l==="number"&&(o+=""),c==="number"&&(u+=""));let h=0;return o!=null&&u!=null?o>u?h=1:o<u&&(h=-1):o!=null?h=1:u!=null&&(h=-1),h*(n=="asc"?1:-1)})};filterPredicate=(i,e)=>{let r=e.trim().toLowerCase();return Object.values(i).some(n=>`${n}`.toLowerCase().includes(r))};constructor(i=[]){super(),this._data=new Rn(i),this._updateChangeSubscription()}_updateChangeSubscription(){let i=this._sort?$n(this._sort.sortChange,this._sort.initialized):ui(null),e=this._paginator?$n(this._paginator.page,this._internalPageChanges,this._paginator.initialized):ui(null),r=this._data,n=il([r,this._filter]).pipe(si(([o])=>this._filterData(o))),a=il([n,i]).pipe(si(([o])=>this._orderData(o))),s=il([a,e]).pipe(si(([o])=>this._pageData(o)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=s.subscribe(o=>this._renderData.next(o))}_filterData(i){return this.filteredData=this.filter==null||this.filter===""?i:i.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;let e=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(e,e+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=i,e.pageIndex>0)){let r=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,r);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};var Hj=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(je(Qn),je(Pt))};static \u0275dir=_t({type:t})}return t})(),Gj=(()=>{class t extends Hj{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,features:[Ai]})}return t})(),_o=new tt("");var m1e={provide:_o,useExisting:Kr(()=>Vs),multi:!0};function g1e(){let t=mf()?mf().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var v1e=new tt(""),Vs=(()=>{class t extends Hj{_compositionMode;_composing=!1;constructor(e,r,n){super(e,r),this._compositionMode=n,this._compositionMode==null&&(this._compositionMode=!g1e())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(je(Qn),je(Pt),je(v1e,8))};static \u0275dir=_t({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,n){r&1&&we("input",function(s){return n._handleInput(s.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(s){return n._compositionEnd(s.target.value)})},standalone:!1,features:[_i([m1e]),Ai]})}return t})();function Qm(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function jj(t){return t!=null&&typeof t.length=="number"}var Rd=new tt(""),V_=new tt(""),y1e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dl=class{static min(i){return x1e(i)}static max(i){return b1e(i)}static required(i){return Wj(i)}static requiredTrue(i){return _1e(i)}static email(i){return w1e(i)}static minLength(i){return Xj(i)}static maxLength(i){return C1e(i)}static pattern(i){return Yj(i)}static nullValidator(i){return NE(i)}static compose(i){return qj(i)}static composeAsync(i){return eW(i)}};function x1e(t){return i=>{if(Qm(i.value)||Qm(t))return null;let e=parseFloat(i.value);return!isNaN(e)&&e<t?{min:{min:t,actual:i.value}}:null}}function b1e(t){return i=>{if(Qm(i.value)||Qm(t))return null;let e=parseFloat(i.value);return!isNaN(e)&&e>t?{max:{max:t,actual:i.value}}:null}}function Wj(t){return Qm(t.value)?{required:!0}:null}function _1e(t){return t.value===!0?null:{required:!0}}function w1e(t){return Qm(t.value)||y1e.test(t.value)?null:{email:!0}}function Xj(t){return i=>Qm(i.value)||!jj(i.value)?null:i.value.length<t?{minlength:{requiredLength:t,actualLength:i.value.length}}:null}function C1e(t){return i=>jj(i.value)&&i.value.length>t?{maxlength:{requiredLength:t,actualLength:i.value.length}}:null}function Yj(t){if(!t)return NE;let i,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),i=new RegExp(e)):(e=t.toString(),i=t),r=>{if(Qm(r.value))return null;let n=r.value;return i.test(n)?null:{pattern:{requiredPattern:e,actualValue:n}}}}function NE(t){return null}function $j(t){return t!=null}function Qj(t){return km(t)?Ts(t):t}function Kj(t){let i={};return t.forEach(e=>{i=e!=null?ht(ht({},i),e):i}),Object.keys(i).length===0?null:i}function Zj(t,i){return i.map(e=>e(t))}function S1e(t){return!t.validate}function Jj(t){return t.map(i=>S1e(i)?i:e=>i.validate(e))}function qj(t){if(!t)return null;let i=t.filter($j);return i.length==0?null:function(e){return Kj(Zj(e,i))}}function g4(t){return t!=null?qj(Jj(t)):null}function eW(t){if(!t)return null;let i=t.filter($j);return i.length==0?null:function(e){let r=Zj(e,i).map(Qj);return q0(r).pipe(si(Kj))}}function v4(t){return t!=null?eW(Jj(t)):null}function Oj(t,i){return t===null?[i]:Array.isArray(t)?[...t,i]:[t,i]}function tW(t){return t._rawValidators}function iW(t){return t._rawAsyncValidators}function d4(t){return t?Array.isArray(t)?t:[t]:[]}function BE(t,i){return Array.isArray(t)?t.includes(i):t===i}function Lj(t,i){let e=d4(i);return d4(t).forEach(n=>{BE(e,n)||e.push(n)}),e}function Nj(t,i){return d4(i).filter(e=>!BE(t,e))}var VE=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=g4(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=v4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,e){return this.control?this.control.hasError(i,e):!1}getError(i,e){return this.control?this.control.getError(i,e):null}},Dp=class extends VE{name;get formDirective(){return null}get path(){return null}},Gu=class extends VE{_parent=null;name=null;valueAccessor=null},zE=class{_cd;constructor(i){this._cd=i}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},T1e={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},idt=Ri(ht({},T1e),{"[class.ng-submitted]":"isSubmitted"}),_r=(()=>{class t extends zE{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(je(Gu,2))};static \u0275dir=_t({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,n){r&2&&Ut("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},standalone:!1,features:[Ai]})}return t})(),kd=(()=>{class t extends zE{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(je(Dp,10))};static \u0275dir=_t({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,n){r&2&&Ut("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},standalone:!1,features:[Ai]})}return t})();var k_="VALID",LE="INVALID",p1="PENDING",F_="DISABLED",Km=class{},UE=class extends Km{value;source;constructor(i,e){super(),this.value=i,this.source=e}},L_=class extends Km{pristine;source;constructor(i,e){super(),this.pristine=i,this.source=e}},N_=class extends Km{touched;source;constructor(i,e){super(),this.touched=i,this.source=e}},m1=class extends Km{status;source;constructor(i,e){super(),this.status=i,this.source=e}},h4=class extends Km{source;constructor(i){super(),this.source=i}},f4=class extends Km{source;constructor(i){super(),this.source=i}};function y4(t){return(WE(t)?t.validators:t)||null}function E1e(t){return Array.isArray(t)?g4(t):t||null}function x4(t,i){return(WE(i)?i.asyncValidators:t)||null}function A1e(t){return Array.isArray(t)?v4(t):t||null}function WE(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function nW(t,i,e){let r=t.controls;if(!(i?Object.keys(r):r).length)throw new Xt(1e3,"");if(!r[e])throw new Xt(1001,"")}function rW(t,i,e){t._forEachChild((r,n)=>{if(e[n]===void 0)throw new Xt(1002,"")})}var g1=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(i,e){this._assignValidators(i),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get status(){return $c(this.statusReactive)}set status(i){$c(()=>this.statusReactive.set(i))}_status=bp(()=>this.statusReactive());statusReactive=Xc(void 0);get valid(){return this.status===k_}get invalid(){return this.status===LE}get pending(){return this.status==p1}get disabled(){return this.status===F_}get enabled(){return this.status!==F_}errors;get pristine(){return $c(this.pristineReactive)}set pristine(i){$c(()=>this.pristineReactive.set(i))}_pristine=bp(()=>this.pristineReactive());pristineReactive=Xc(!0);get dirty(){return!this.pristine}get touched(){return $c(this.touchedReactive)}set touched(i){$c(()=>this.touchedReactive.set(i))}_touched=bp(()=>this.touchedReactive());touchedReactive=Xc(!1);get untouched(){return!this.touched}_events=new mt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(Lj(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(Lj(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(Nj(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(Nj(i,this._rawAsyncValidators))}hasValidator(i){return BE(this._rawValidators,i)}hasAsyncValidator(i){return BE(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){let e=this.touched===!1;this.touched=!0;let r=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched(Ri(ht({},i),{sourceControl:r})),e&&i.emitEvent!==!1&&this._events.next(new N_(!0,r))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(i))}markAsUntouched(i={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=i.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:r})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,r),e&&i.emitEvent!==!1&&this._events.next(new N_(!1,r))}markAsDirty(i={}){let e=this.pristine===!0;this.pristine=!1;let r=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty(Ri(ht({},i),{sourceControl:r})),e&&i.emitEvent!==!1&&this._events.next(new L_(!1,r))}markAsPristine(i={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=i.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,r),e&&i.emitEvent!==!1&&this._events.next(new L_(!0,r))}markAsPending(i={}){this.status=p1;let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new m1(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending(Ri(ht({},i),{sourceControl:e}))}disable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=F_,this.errors=null,this._forEachChild(n=>{n.disable(Ri(ht({},i),{onlySelf:!0}))}),this._updateValue();let r=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new UE(this.value,r)),this._events.next(new m1(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ri(ht({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=k_,this._forEachChild(r=>{r.enable(Ri(ht({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Ri(ht({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(i,e){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===k_||this.status===p1)&&this._runAsyncValidator(r,i.emitEvent)}let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new UE(this.value,e)),this._events.next(new m1(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(Ri(ht({},i),{sourceControl:e}))}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?F_:k_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,e){if(this.asyncValidator){this.status=p1,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=Qj(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:e,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(i){let e=i;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,n)=>r&&r._find(n),this)}getError(i,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,e,r){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||r)&&this._events.next(new m1(this.status,e)),this._parent&&this._parent._updateControlsErrors(i,e,r)}_initObservables(){this.valueChanges=new Tt,this.statusChanges=new Tt}_calculateStatus(){return this._allControlsDisabled()?F_:this.errors?LE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(p1)?p1:this._anyControlsHaveStatus(LE)?LE:k_}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,e){let r=!this._anyControlsDirty(),n=this.pristine!==r;this.pristine=r,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,e),n&&this._events.next(new L_(this.pristine,e))}_updateTouched(i={},e){this.touched=this._anyControlsTouched(),this._events.next(new N_(this.touched,e)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,e)}_onDisabledChange=[];_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){WE(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let e=this._parent&&this._parent.dirty;return!i&&!!e&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=E1e(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=A1e(this._rawAsyncValidators)}},Zm=class extends g1{constructor(i,e,r){super(y4(e),x4(r,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,r={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,r={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){rW(this,!0,i),Object.keys(i).forEach(r=>{nW(this,!0,r),this.controls[r].setValue(i[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(Object.keys(i).forEach(r=>{let n=this.controls[r];n&&n.patchValue(i[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((r,n)=>{r.reset(i?i[n]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,r)=>(i[r]=e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&i(r,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&i(r))return!0;return!1}_reduceValue(){let i={};return this._reduceChildren(i,(e,r,n)=>((r.enabled||this.disabled)&&(e[n]=r.value),e))}_reduceChildren(i,e){let r=i;return this._forEachChild((n,a)=>{r=e(r,n,a)}),r}_allControlsDisabled(){for(let i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}};var p4=class extends Zm{};var v1=new tt("",{providedIn:"root",factory:()=>XE}),XE="always";function sW(t,i){return[...i.path,t]}function B_(t,i,e=XE){b4(t,i),i.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&i.valueAccessor.setDisabledState?.(t.disabled),I1e(t,i),P1e(t,i),D1e(t,i),M1e(t,i)}function HE(t,i,e=!0){let r=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(r),i.valueAccessor.registerOnTouched(r)),jE(t,i),t&&(i._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function GE(t,i){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function M1e(t,i){if(i.valueAccessor.setDisabledState){let e=r=>{i.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),i._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function b4(t,i){let e=tW(t);i.validator!==null?t.setValidators(Oj(e,i.validator)):typeof e=="function"&&t.setValidators([e]);let r=iW(t);i.asyncValidator!==null?t.setAsyncValidators(Oj(r,i.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let n=()=>t.updateValueAndValidity();GE(i._rawValidators,n),GE(i._rawAsyncValidators,n)}function jE(t,i){let e=!1;if(t!==null){if(i.validator!==null){let n=tW(t);if(Array.isArray(n)&&n.length>0){let a=n.filter(s=>s!==i.validator);a.length!==n.length&&(e=!0,t.setValidators(a))}}if(i.asyncValidator!==null){let n=iW(t);if(Array.isArray(n)&&n.length>0){let a=n.filter(s=>s!==i.asyncValidator);a.length!==n.length&&(e=!0,t.setAsyncValidators(a))}}}let r=()=>{};return GE(i._rawValidators,r),GE(i._rawAsyncValidators,r),e}function I1e(t,i){i.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&aW(t,i)})}function D1e(t,i){i.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&aW(t,i),t.updateOn!=="submit"&&t.markAsTouched()})}function aW(t,i){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function P1e(t,i){let e=(r,n)=>{i.valueAccessor.writeValue(r),n&&i.viewToModelUpdate(r)};t.registerOnChange(e),i._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function oW(t,i){t==null,b4(t,i)}function R1e(t,i){return jE(t,i)}function _4(t,i){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(i,e.currentValue)}function k1e(t){return Object.getPrototypeOf(t.constructor)===Gj}function lW(t,i){t._syncPendingControls(),i.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function w4(t,i){if(!i)return null;Array.isArray(i);let e,r,n;return i.forEach(a=>{a.constructor===Vs?e=a:k1e(a)?r=a:n=a}),n||r||e||null}function F1e(t,i){let e=t.indexOf(i);e>-1&&t.splice(e,1)}var O1e={provide:Dp,useExisting:Kr(()=>Pp)},O_=Promise.resolve(),Pp=(()=>{class t extends Dp{callSetDisabledState;get submitted(){return $c(this.submittedReactive)}_submitted=bp(()=>this.submittedReactive());submittedReactive=Xc(!1);_directives=new Set;form;ngSubmit=new Tt;options;constructor(e,r,n){super(),this.callSetDisabledState=n,this.form=new Zm({},g4(e),v4(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){O_.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),B_(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){O_.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){O_.then(()=>{let r=this._findContainer(e.path),n=new Zm({});oW(n,e),r.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){O_.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){O_.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),lW(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||t)(je(Rd,10),je(V_,10),je(v1,8))};static \u0275dir=_t({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,n){r&1&&we("submit",function(s){return n.onSubmit(s)})("reset",function(){return n.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[_i([O1e]),Ai]})}return t})();function Bj(t,i){let e=t.indexOf(i);e>-1&&t.splice(e,1)}function Vj(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ar=class extends g1{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(i=null,e,r){super(y4(e),x4(r,e)),this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),WE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Vj(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=this.defaultValue,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Bj(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Bj(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){Vj(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}},cW=ar,L1e=t=>t instanceof ar;var N1e={provide:Gu,useExisting:Kr(()=>ma)},zj=Promise.resolve(),ma=(()=>{class t extends Gu{_changeDetectorRef;callSetDisabledState;control=new ar;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Tt;constructor(e,r,n,a,s,o){super(),this._changeDetectorRef=s,this.callSetDisabledState=o,this._parent=e,this._setValidators(r),this._setAsyncValidators(n),this.valueAccessor=w4(this,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),_4(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){B_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){zj.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,n=r!==0&&Rt(r);zj.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?sW(e,this._parent):[e]}static \u0275fac=function(r){return new(r||t)(je(Dp,9),je(Rd,10),je(V_,10),je(_o,10),je(ki,8),je(v1,8))};static \u0275dir=_t({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[_i([N1e]),Ai,Ki]})}return t})(),bf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),B1e={provide:_o,useExisting:Kr(()=>z_),multi:!0},z_=(()=>{class t extends Gj{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,n){r&1&&we("input",function(s){return n.onChange(s.target.value)})("blur",function(){return n.onTouched()})},standalone:!1,features:[_i([B1e]),Ai]})}return t})();var C4=new tt(""),V1e={provide:Gu,useExisting:Kr(()=>ju)},ju=(()=>{class t extends Gu{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new Tt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,n,a,s){super(),this._ngModelWarningConfig=a,this.callSetDisabledState=s,this._setValidators(e),this._setAsyncValidators(r),this.valueAccessor=w4(this,n)}ngOnChanges(e){if(this._isControlChanged(e)){let r=e.form.previousValue;r&&HE(r,this,!1),B_(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}_4(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&HE(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||t)(je(Rd,10),je(V_,10),je(_o,10),je(C4,8),je(v1,8))};static \u0275dir=_t({type:t,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[_i([V1e]),Ai,Ki]})}return t})(),z1e={provide:Dp,useExisting:Kr(()=>Sc)},Sc=(()=>{class t extends Dp{callSetDisabledState;get submitted(){return $c(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=bp(()=>this._submittedReactive());_submittedReactive=Xc(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Tt;constructor(e,r,n){super(),this.callSetDisabledState=n,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return B_(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){HE(e.control||null,e,!1),F1e(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),lW(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new h4(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new f4(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,n=this.form.get(e.path);r!==n&&(HE(r||null,e),L1e(n)&&(B_(n,e,this.callSetDisabledState),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);oW(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&R1e(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){b4(this.form,this),this._oldForm&&jE(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||t)(je(Rd,10),je(V_,10),je(v1,8))};static \u0275dir=_t({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,n){r&1&&we("submit",function(s){return n.onSubmit(s)})("reset",function(){return n.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[_i([z1e]),Ai,Ki]})}return t})();var U1e={provide:Gu,useExisting:Kr(()=>Rp)},Rp=(()=>{class t extends Gu{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new Tt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,n,a,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(n),this.valueAccessor=w4(this,a)}ngOnChanges(e){this._added||this._setUpControl(),_4(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return sW(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(je(Dp,13),je(Rd,10),je(V_,10),je(_o,10),je(C4,8))};static \u0275dir=_t({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[_i([U1e]),Ai,Ki]})}return t})();function H1e(t){return typeof t=="number"?t:parseInt(t,10)}var S4=(()=>{class t{_validator=NE;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):NE,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,features:[Ki]})}return t})();var G1e={provide:Rd,useExisting:Kr(()=>T4),multi:!0};var T4=(()=>{class t extends S4{required;inputName="required";normalizeInput=Rt;createValidator=e=>Wj;enabled(e){return e}static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,n){r&2&&ti("required",n._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[_i([G1e]),Ai]})}return t})();var j1e={provide:Rd,useExisting:Kr(()=>E4),multi:!0},E4=(()=>{class t extends S4{minlength;inputName="minlength";normalizeInput=e=>H1e(e);createValidator=e=>Xj(e);static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,n){r&2&&ti("minlength",n._enabled?n.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[_i([j1e]),Ai]})}return t})();var W1e={provide:Rd,useExisting:Kr(()=>A4),multi:!0},A4=(()=>{class t extends S4{pattern;inputName="pattern";normalizeInput=e=>e;createValidator=e=>Yj(e);static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,n){r&2&&ti("pattern",n._enabled?n.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[_i([W1e]),Ai]})}return t})();var uW=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({})}return t})(),m4=class extends g1{constructor(i,e,r){super(y4(e),x4(r,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(i){return this.controls[this._adjustIndex(i)]}push(i,e={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(i,e,r={}){this.controls.splice(i,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(i,e={}){let r=this._adjustIndex(i);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(i,e,r={}){let n=this._adjustIndex(i);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,e={}){rW(this,!1,i),i.forEach((r,n)=>{nW(this,!1,n),this.at(n).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(i.forEach((r,n)=>{this.at(n)&&this.at(n).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i=[],e={}){this._forEachChild((r,n)=>{r.reset(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((e,r)=>{i(e,r)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(e=>e.enabled&&i(e))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(let i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}};function Uj(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Jm=(()=>{class t{useNonNullable=!1;get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,r=null){let n=this._reduceControls(e),a={};return Uj(r)?a=r:r!==null&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new Zm(n,a)}record(e,r=null){let n=this._reduceControls(e);return new p4(n,r)}control(e,r,n){let a={};return this.useNonNullable?(Uj(r)?a=r:(a.validators=r,a.asyncValidators=n),new ar(e,Ri(ht({},a),{nonNullable:!0}))):new ar(e,r,n)}array(e,r,n){let a=e.map(s=>this._createControl(s));return new m4(a,r,n)}_reduceControls(e){let r={};return Object.keys(e).forEach(n=>{r[n]=this._createControl(e[n])}),r}_createControl(e){if(e instanceof ar)return e;if(e instanceof g1)return e;if(Array.isArray(e)){let r=e[0],n=e.length>1?e[1]:null,a=e.length>2?e[2]:null;return this.control(r,n,a)}else return this.control(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var U_=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:v1,useValue:e.callSetDisabledState??XE}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[uW]})}return t})(),YE=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:C4,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:v1,useValue:e.callSetDisabledState??XE}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[uW]})}return t})();var M4=class{_box;_destroyed=new mt;_resizeSubject=new mt;_resizeObserver;_elementObservables=new Map;constructor(i){this._box=i,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(i){return this._elementObservables.has(i)||this._elementObservables.set(i,new rn(e=>{let r=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(i,{box:this._box}),()=>{this._resizeObserver?.unobserve(i),r.unsubscribe(),this._elementObservables.delete(i)}}).pipe(ji(e=>e.some(r=>r.target===i)),RC({bufferSize:1,refCount:!0}),pi(this._destroyed))),this._elementObservables.get(i)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},$E=(()=>{class t{_cleanupErrorListener;_observers=new Map;_ngZone=le(ri);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,r){let n=r?.box||"content-box";return this._observers.has(n)||this._observers.set(n,new M4(n)),this._observers.get(n).observe(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var X1e=["notch"],Y1e=["matFormFieldNotchedOutline",""],$1e=["*"],Q1e=["textField"],K1e=["iconPrefixContainer"],Z1e=["textPrefixContainer"],J1e=["iconSuffixContainer"],q1e=["textSuffixContainer"],exe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],txe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function ixe(t,i){t&1&&He(0,"span",21)}function nxe(t,i){if(t&1&&(B(0,"label",20),$t(1,1),Te(2,ixe,1,0,"span",21),U()),t&2){let e=pe(2);oe("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),ti("for",e._control.disableAutomaticLabeling?null:e._control.id),K(2),Zi(!e.hideRequiredMarker&&e._control.required?2:-1)}}function rxe(t,i){if(t&1&&Te(0,nxe,3,5,"label",20),t&2){let e=pe();Zi(e._hasFloatingLabel()?0:-1)}}function sxe(t,i){t&1&&He(0,"div",7)}function axe(t,i){}function oxe(t,i){if(t&1&&Te(0,axe,0,0,"ng-template",13),t&2){pe(2);let e=hi(1);oe("ngTemplateOutlet",e)}}function lxe(t,i){if(t&1&&(B(0,"div",9),Te(1,oxe,1,1,null,13),U()),t&2){let e=pe();oe("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),K(),Zi(e._forceDisplayInfixLabel()?-1:1)}}function cxe(t,i){t&1&&(B(0,"div",10,2),$t(2,2),U())}function uxe(t,i){t&1&&(B(0,"div",11,3),$t(2,3),U())}function dxe(t,i){}function hxe(t,i){if(t&1&&Te(0,dxe,0,0,"ng-template",13),t&2){pe();let e=hi(1);oe("ngTemplateOutlet",e)}}function fxe(t,i){t&1&&(B(0,"div",14,4),$t(2,4),U())}function pxe(t,i){t&1&&(B(0,"div",15,5),$t(2,5),U())}function mxe(t,i){t&1&&He(0,"div",16)}function gxe(t,i){if(t&1&&(B(0,"div",18),$t(1,6),U()),t&2){let e=pe();oe("@transitionMessages",e._subscriptAnimationState)}}function vxe(t,i){if(t&1&&(B(0,"mat-hint",22),J(1),U()),t&2){let e=pe(2);oe("id",e._hintLabelId),K(),vt(e.hintLabel)}}function yxe(t,i){if(t&1&&(B(0,"div",19),Te(1,vxe,2,2,"mat-hint",22),$t(2,7),He(3,"div",23),$t(4,8),U()),t&2){let e=pe();oe("@transitionMessages",e._subscriptAnimationState),K(),Zi(e.hintLabel?1:-1)}}var xs=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["mat-label"]]})}return t})(),vW=new tt("MatError"),KE=(()=>{class t{id=le(Gn).getId("mat-mdc-error-");constructor(){le(new go("aria-live"),{optional:!0})||le(Pt).nativeElement.setAttribute("aria-live","polite")}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,n){r&2&&ll("id",n.id)},inputs:{id:"id"},features:[_i([{provide:vW,useExisting:t}])]})}return t})(),Fd=(()=>{class t{align="start";id=le(Gn).getId("mat-mdc-hint-");static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,n){r&2&&(ll("id",n.id),ti("align",null),Ut("mat-mdc-form-field-hint-end",n.align==="end"))},inputs:{align:"align",id:"id"}})}return t})(),xxe=new tt("MatPrefix");var yW=new tt("MatSuffix"),y1=(()=>{class t{set _isTextSelector(e){this._isText=!0}_isText=!1;static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[_i([{provide:yW,useExisting:t}])]})}return t})(),xW=new tt("FloatingLabelParent"),dW=(()=>{class t{_elementRef=le(Pt);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=le($E);_ngZone=le(ri);_parent=le(xW);_resizeSubscription=new Vi;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return bxe(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,n){r&2&&Ut("mdc-floating-label--float-above",n.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return t})();function bxe(t){let i=t;if(i.offsetParent!==null)return i.scrollWidth;let e=i.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let r=e.scrollWidth;return e.remove(),r}var hW="mdc-line-ripple--active",QE="mdc-line-ripple--deactivating",fW=(()=>{class t{_elementRef=le(Pt);_cleanupTransitionEnd;constructor(){let e=le(ri),r=le(Qn);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=r.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(QE),e.add(hW)}deactivate(){this._elementRef.nativeElement.classList.add(QE)}_handleTransitionEnd=e=>{let r=this._elementRef.nativeElement.classList,n=r.contains(QE);e.propertyName==="opacity"&&n&&r.remove(hW,QE)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return t})(),pW=(()=>{class t{_elementRef=le(Pt);_ngZone=le(ri);open=!1;_notch;constructor(){}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,n){if(r&1&&Jt(X1e,5),r&2){let a;yt(a=xt())&&(n._notch=a.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,n){r&2&&Ut("mdc-notched-outline--notched",n.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:Y1e,ngContentSelectors:$1e,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,n){r&1&&(zi(),He(0,"div",1),B(1,"div",2,0),$t(3),U(),He(4,"div",3))},encapsulation:2,changeDetection:0})}return t})(),_xe={transitionMessages:us("transitionMessages",[na("enter",Oi({opacity:1,transform:"translateY(0%)"})),vr("void => enter",[Oi({opacity:0,transform:"translateY(-5px)"}),ir("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Ng=(()=>{class t{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t})}return t})();var Bg=new tt("MatFormField"),wxe=new tt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),mW="fill",Cxe="auto",gW="fixed",Sxe="translateY(-50%)",es=(()=>{class t{_elementRef=le(Pt);_changeDetectorRef=le(ki);_dir=le(qr);_platform=le(In);_idGenerator=le(Gn);_defaults=le(wxe,{optional:!0});_animationMode=le(Un,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=iU(xs);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Xs(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Cxe}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(e){let r=this._appearance,n=e||this._defaults?.appearance||mW;this._appearance=n,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=mW;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||gW}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||gW}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_subscriptAnimationState="";get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new mt;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_stateChanges;_valueChanges;_describedByChanges;_injector=le(Wi);constructor(){let e=this._defaults;e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=bp(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let r=this._control,n="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(n+e.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(n+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=r.stateChanges.pipe(Bn([void 0,void 0]),si(()=>[r.errorState,r.userAriaDescribedBy]),PC(),ji(([[a,s],[o,u]])=>a!==o||s!==u)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(pi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),$n(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Bb(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(pi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=bp(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,n=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let r=this._iconPrefixContainer?.nativeElement,n=this._textPrefixContainer?.nativeElement,a=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,u=n?.getBoundingClientRect().width??0,l=a?.getBoundingClientRect().width??0,c=s?.getBoundingClientRect().width??0,h=this._dir.value==="rtl"?"-1":"1",d=`${o+u}px`,m=`calc(${h} * (${d} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Sxe} translateX(${m})
    )`;let p=o+u+l+c;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${p}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-form-field"]],contentQueries:function(r,n,a){if(r&1&&(wU(a,n._labelChild,xs,5),Fi(a,Ng,5),Fi(a,xxe,5),Fi(a,yW,5),Fi(a,vW,5),Fi(a,Fd,5)),r&2){CU();let s;yt(s=xt())&&(n._formFieldControl=s.first),yt(s=xt())&&(n._prefixChildren=s),yt(s=xt())&&(n._suffixChildren=s),yt(s=xt())&&(n._errorChildren=s),yt(s=xt())&&(n._hintChildren=s)}},viewQuery:function(r,n){if(r&1&&(Jt(Q1e,5),Jt(K1e,5),Jt(Z1e,5),Jt(J1e,5),Jt(q1e,5),Jt(dW,5),Jt(pW,5),Jt(fW,5)),r&2){let a;yt(a=xt())&&(n._textField=a.first),yt(a=xt())&&(n._iconPrefixContainer=a.first),yt(a=xt())&&(n._textPrefixContainer=a.first),yt(a=xt())&&(n._iconSuffixContainer=a.first),yt(a=xt())&&(n._textSuffixContainer=a.first),yt(a=xt())&&(n._floatingLabel=a.first),yt(a=xt())&&(n._notchedOutline=a.first),yt(a=xt())&&(n._lineRipple=a.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,n){r&2&&Ut("mat-mdc-form-field-label-always-float",n._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",n._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",n._hasIconSuffix)("mat-form-field-invalid",n._control.errorState)("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-form-field-no-animations",n._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",n.appearance=="fill")("mat-form-field-appearance-outline",n.appearance=="outline")("mat-form-field-hide-placeholder",n._hasFloatingLabel()&&!n._shouldLabelFloat())("mat-focused",n._control.focused)("mat-primary",n.color!=="accent"&&n.color!=="warn")("mat-accent",n.color==="accent")("mat-warn",n.color==="warn")("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[_i([{provide:Bg,useExisting:t},{provide:xW,useExisting:t}])],ngContentSelectors:txe,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,n){if(r&1){let a=Ye();zi(exe),Te(0,rxe,1,1,"ng-template",null,0,Fm),B(2,"div",6,1),we("click",function(o){return Me(a),Ie(n._control.onContainerClick(o))}),Te(4,sxe,1,0,"div",7),B(5,"div",8),Te(6,lxe,2,2,"div",9)(7,cxe,3,0,"div",10)(8,uxe,3,0,"div",11),B(9,"div",12),Te(10,hxe,1,1,null,13),$t(11),U(),Te(12,fxe,3,0,"div",14)(13,pxe,3,0,"div",15),U(),Te(14,mxe,1,0,"div",16),U(),B(15,"div",17),Te(16,gxe,2,1,"div",18)(17,yxe,5,2,"div",19),U()}if(r&2){let a;K(2),Ut("mdc-text-field--filled",!n._hasOutline())("mdc-text-field--outlined",n._hasOutline())("mdc-text-field--no-label",!n._hasFloatingLabel())("mdc-text-field--disabled",n._control.disabled)("mdc-text-field--invalid",n._control.errorState),K(2),Zi(!n._hasOutline()&&!n._control.disabled?4:-1),K(2),Zi(n._hasOutline()?6:-1),K(),Zi(n._hasIconPrefix?7:-1),K(),Zi(n._hasTextPrefix?8:-1),K(2),Zi(!n._hasOutline()||n._forceDisplayInfixLabel()?10:-1),K(2),Zi(n._hasTextSuffix?12:-1),K(),Zi(n._hasIconSuffix?13:-1),K(),Zi(n._hasOutline()?-1:14),K(),Ut("mat-mdc-form-field-subscript-dynamic-size",n.subscriptSizing==="dynamic"),K(),Zi((a=n._getDisplayedMessages())==="error"?16:a==="hint"?17:-1)}},dependencies:[dW,pW,mT,fW,Fd],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[_xe.transitionMessages]},changeDetection:0})}return t})(),Vg=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si,Zy,Si]})}return t})();var Txe=["panel"],Exe=["*"];function Axe(t,i){if(t&1){let e=Ye();B(0,"div",1,0),we("@panelAnimation.done",function(n){Me(e);let a=pe();return Ie(a._animationDone.next(n))}),$t(2),U()}if(t&2){let e=i.id,r=pe();cs(r._classList),Ut("mat-mdc-autocomplete-visible",r.showPanel)("mat-mdc-autocomplete-hidden",!r.showPanel)("mat-primary",r._color==="primary")("mat-accent",r._color==="accent")("mat-warn",r._color==="warn"),oe("id",r.id)("@panelAnimation",r.isOpen?"visible":"hidden"),ti("aria-label",r.ariaLabel||null)("aria-labelledby",r._getPanelAriaLabelledby(e))}}var Mxe=us("panelAnimation",[na("void, hidden",Oi({opacity:0,transform:"scaleY(0.8)"})),vr(":enter, hidden => visible",[JG([ir("0.03s linear",Oi({opacity:1})),ir("0.12s cubic-bezier(0, 0, 0.2, 1)",Oi({transform:"scaleY(1)"}))])]),vr(":leave, visible => hidden",[ir("0.075s linear",Oi({opacity:0}))])]),I4=class{source;option;constructor(i,e){this.source=i,this.option=e}},bW=new tt("mat-autocomplete-default-options",{providedIn:"root",factory:Ixe});function Ixe(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var ZE=(()=>{class t{_changeDetectorRef=le(ki);_elementRef=le(Pt);_defaults=le(bW);_activeOptionChanges=Vi.EMPTY;_animationDone=new Tt;_keyManager;showPanel=!1;get isOpen(){return this._isOpen&&this.showPanel}_isOpen=!1;_latestOpeningTrigger;_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}_color;template;panel;options;optionGroups;ariaLabel;ariaLabelledby;displayWith=null;autoActiveFirstOption;autoSelectActiveOption;requireSelection;panelWidth;disableRipple;optionSelected=new Tt;opened=new Tt;closed=new Tt;optionActivated=new Tt;set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}_classList;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator;_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}id=le(Gn).getId("mat-autocomplete-");inertGroups;constructor(){let e=le(In);this.inertGroups=e?.SAFARI||!1,this.autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this.autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.requireSelection=!!this._defaults.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new e1(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let r=new I4(this,e);this.optionSelected.emit(r)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let r=e?e+" ":"";return this.ariaLabelledby?r+this.ariaLabelledby:e}_skipPredicate(){return!1}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(r,n,a){if(r&1&&(Fi(a,ia,5),Fi(a,S_,5)),r&2){let s;yt(s=xt())&&(n.options=s),yt(s=xt())&&(n.optionGroups=s)}},viewQuery:function(r,n){if(r&1&&(Jt(sr,7),Jt(Txe,5)),r&2){let a;yt(a=xt())&&(n.template=a.first),yt(a=xt())&&(n.panel=a.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",Rt],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",Rt],requireSelection:[2,"requireSelection","requireSelection",Rt],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",Rt],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Rt]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[_i([{provide:C_,useExisting:t}]),Mi],ngContentSelectors:Exe,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(r,n){r&1&&(zi(),Te(0,Axe,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-autocomplete-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-autocomplete-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[Mxe]},changeDetection:0})}return t})();var Dxe={provide:_o,useExisting:Kr(()=>H_),multi:!0};var _W=new tt("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let t=le(Ds);return()=>t.scrollStrategies.reposition()}});function Pxe(t){return()=>t.scrollStrategies.reposition()}var Rxe={provide:_W,deps:[Ds],useFactory:Pxe},H_=(()=>{class t{_environmentInjector=le(Ba);_element=le(Pt);_overlay=le(Ds);_viewContainerRef=le(xr);_zone=le(ri);_changeDetectorRef=le(ki);_dir=le(qr,{optional:!0});_formField=le(Bg,{optional:!0,host:!0});_document=le(Di);_viewportRuler=le(Bo);_scrollStrategy=le(_W);_renderer=le(Qn);_defaults=le(bW,{optional:!0});_overlayRef;_portal;_componentDestroyed=!1;_initialized=new mt;_keydownSubscription;_outsideClickSubscription;_cleanupWindowBlur;_previousValue;_valueOnAttach;_valueOnLastKeydown;_positionStrategy;_manuallyFloatingLabel=!1;_closingActionsSubscription;_viewportSubscription=Vi.EMPTY;_breakpointObserver=le(Jy);_handsetLandscapeSubscription=Vi.EMPTY;_canOpenOnNextFocus=!0;_valueBeforeAutoSelection;_pendingAutoselectedOption;_closeKeyEventStream=new mt;_windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen};_onChange=()=>{};_onTouched=()=>{};autocomplete;position="auto";connectedTo;autocompleteAttribute="off";autocompleteDisabled;constructor(){}_aboveClass="mat-mdc-autocomplete-panel-above";ngAfterViewInit(){this._initialized.next(),this._initialized.complete(),this._cleanupWindowBlur=this._renderer.listen("window","blur",this._windowBlurHandler)}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){this._cleanupWindowBlur?.(),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}_overlayAttached=!1;openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Um(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return $n(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(ji(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(ji(()=>this._overlayAttached)):ui()).pipe(si(e=>e instanceof w_?e:null))}optionSelections=bd(()=>{let e=this.autocomplete?this.autocomplete.options:null;return e?e.changes.pipe(Bn(e),Mn(()=>$n(...e.map(r=>r.onSelectionChange)))):this._initialized.pipe(Mn(()=>this.optionSelections))});get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return new rn(e=>{let r=a=>{let s=Za(a),o=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,u=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;this._overlayAttached&&s!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!o||!o.contains(s))&&(!u||!u.contains(s))&&this._overlayRef&&!this._overlayRef.overlayElement.contains(s)&&e.next(a)},n=[this._renderer.listen("document","click",r),this._renderer.listen("document","auxclick",r),this._renderer.listen("document","touchend",r)];return()=>{n.forEach(a=>a())}})}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let r=e.keyCode,n=Is(e);if(r===27&&!n&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&r===13&&this.panelOpen&&!n)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let a=this.autocomplete._keyManager.activeItem,s=r===38||r===40;r===9||s&&!n&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):s&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(s||this.autocomplete._keyManager.activeItem!==a)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let r=e.target,n=r.value;if(r.type==="number"&&(n=n==""?null:parseFloat(n)),this._previousValue!==n){if(this._previousValue=n,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(n),!n)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let a=this.autocomplete.options?.find(s=>s.selected);if(a){let s=this._getDisplayValue(a.value);n!==s&&a.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===e.target){let a=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(a)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new rn(n=>{ls(()=>{n.next()},{injector:this._environmentInjector})}),r=this.autocomplete.options.changes.pipe(Jn(()=>this._positionStrategy.reapplyLastPosition()),vb(0));return $n(e,r).pipe(Mn(()=>this._zone.run(()=>{let n=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),n!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),fr(1)).subscribe(n=>this._setValueAndClose(n))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let r=this.autocomplete;return r&&r.displayWith?r.displayWith(e):e}_assignOptionValue(e){let r=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(r??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let r=this.autocomplete,n=e?e.source:this._pendingAutoselectedOption;n?(this._clearPreviousSelectedOption(n),this._assignOptionValue(n.value),this._onChange(n.value),r._emitSelectEvent(n),this._element.nativeElement.focus()):r.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),r._animationDone?r._animationDone.pipe(fr(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,r){this.autocomplete?.options?.forEach(n=>{n!==e&&n.selected&&n.deselect(r)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let r=this.autocomplete.id;n1(this._trackedModal,"aria-owns",r)}}_attachOverlay(e){this.autocomplete;let r=this._overlayRef;r?(this._positionStrategy.setOrigin(this._getConnectedElement()),r.updateSize({width:this._getPanelWidth()})):(this._portal=new No(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),r=this._overlay.create(this._getOverlayConfig()),this._overlayRef=r,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&r&&r.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(tE.HandsetLandscape).subscribe(a=>{a.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),r&&!r.hasAttached()&&(r.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let n=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&n!==this.panelOpen&&this._emitOpened()}_handlePanelKeydown=e=>{(e.keyCode===27&&!Is(e)||e.keyCode===38&&Is(e,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),e.stopPropagation(),e.preventDefault())};_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new Id({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let r=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=this._aboveClass,a=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:n},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:n}],s;this.position==="above"?s=a:this.position==="below"?s=r:s=[...r,...a],e.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let r=-1;for(let n=0;n<e.options.length;n++)if(!e.options.get(n).disabled){r=n;break}e._keyManager.setActiveItem(r)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_scrollToOption(e){let r=this.autocomplete,n=fE(e,r.options,r.optionGroups);if(e===0&&n===1)r._setScrollTop(0);else if(r.panel){let a=r.options.toArray()[e];if(a){let s=a._getHostElement(),o=pE(s.offsetTop,s.offsetHeight,r._getScrollTop(),r.panel.nativeElement.offsetHeight);r._setScrollTop(o)}}}_trackedModal=null;_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let r=this.autocomplete.id;this._trackedModal&&Um(this._trackedModal,"aria-owns",r),n1(e,"aria-owns",r),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;Um(this._trackedModal,"aria-owns",e),this._trackedModal=null}}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(r,n){r&1&&we("focusin",function(){return n._handleFocus()})("blur",function(){return n._onTouched()})("input",function(s){return n._handleInput(s)})("keydown",function(s){return n._handleKeydown(s)})("click",function(){return n._handleClick()}),r&2&&ti("autocomplete",n.autocompleteAttribute)("role",n.autocompleteDisabled?null:"combobox")("aria-autocomplete",n.autocompleteDisabled?null:"list")("aria-activedescendant",n.panelOpen&&n.activeOption?n.activeOption.id:null)("aria-expanded",n.autocompleteDisabled?null:n.panelOpen.toString())("aria-controls",n.autocompleteDisabled||!n.panelOpen||n.autocomplete==null?null:n.autocomplete.id)("aria-haspopup",n.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",Rt]},exportAs:["matAutocompleteTrigger"],features:[_i([Dxe]),Mi,Ki]})}return t})(),wW=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:[Rxe],imports:[Zc,a1,Si,Cc,a1,Si]})}return t})();var kxe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(r,n){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return t})(),SW=cl({passive:!0}),TW=(()=>{class t{_platform=le(In);_ngZone=le(ri);_styleLoader=le(gr);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return Ea;this._styleLoader.load(kxe);let r=Pa(e),n=this._monitoredElements.get(r);if(n)return n.subject;let a=new mt,s="cdk-text-field-autofilled",o=u=>{u.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(s)?(r.classList.add(s),this._ngZone.run(()=>a.next({target:u.target,isAutofilled:!0}))):u.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(s)&&(r.classList.remove(s),this._ngZone.run(()=>a.next({target:u.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",o,SW),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",o,SW)}}),a}stopMonitoring(e){let r=Pa(e),n=this._monitoredElements.get(r);n&&(n.unlisten(),n.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var EW=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({})}return t})();var Fxe=new tt("MAT_INPUT_VALUE_ACCESSOR"),Oxe=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Lxe=new tt("MAT_INPUT_CONFIG"),zo=(()=>{class t{_elementRef=le(Pt);_platform=le(In);ngControl=le(Gu,{optional:!0,self:!0});_autofillMonitor=le(TW);_ngZone=le(ri);_formField=le(Bg,{optional:!0});_renderer=le(Qn);_uid=le(Gn).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=le(Lxe,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new mt;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=Xs(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(dl.required)??!1}set required(e){this._required=Xs(e)}_required;get type(){return this._type}set type(e){let r=this._type;this._type=e||"text",this._validateType(),!this._isTextarea&&S3().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==r&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Xs(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>S3().has(e));constructor(){let e=le(Pp,{optional:!0}),r=le(Sc,{optional:!0}),n=le(s1),a=le(Fxe,{optional:!0,self:!0}),s=this._elementRef.nativeElement,o=s.nodeName.toLowerCase();a?Rm(a.value)?this._signalBasedValueAccessor=a:this._inputValueAccessor=a:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Rg(n,this.ngControl,r,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=o==="select",this._isTextarea=o==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Xb(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let r=this._elementRef.nativeElement;r.type==="number"?(r.type="text",r.setSelectionRange(0,0),r.type="number"):r.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Oxe.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){let r=this._elementRef.nativeElement,n=r.getAttribute("aria-describedby"),a;if(n){let s=this._formFieldDescribedBy||e;a=e.concat(n.split(" ").filter(o=>o&&!s.includes(o)))}else a=e;this._formFieldDescribedBy=e,a.length?r.setAttribute("aria-describedby",a.join(" ")):r.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let r=e.target;!r.value&&r.selectionStart===0&&r.selectionEnd===0&&(r.setSelectionRange(1,1),r.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(r,n){r&1&&we("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),r&2&&(ll("id",n.id)("disabled",n.disabled&&!n.disabledInteractive)("required",n.required),ti("name",n.name||null)("readonly",n._getReadonlyAttribute())("aria-disabled",n.disabled&&n.disabledInteractive?"true":null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required)("id",n.id),Ut("mat-input-server",n._isServer)("mat-mdc-form-field-textarea-control",n._isInFormField&&n._isTextarea)("mat-mdc-form-field-input-control",n._isInFormField)("mat-mdc-input-disabled-interactive",n.disabledInteractive)("mdc-text-field__input",n._isInFormField)("mat-mdc-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Rt]},exportAs:["matInput"],features:[_i([{provide:Ng,useExisting:t}]),Mi,Ki]})}return t})(),AW=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si,Vg,Vg,EW,Si]})}return t})();function Nxe(t,i){if(t&1&&(B(0,"mat-label"),J(1),U()),t&2){let e=pe();K(),vt(e.binding.title)}}function Bxe(t,i){if(t&1){let e=Ye();B(0,"button",7),we("click",function(){Me(e);let n=pe();return Ie(n.clearInput())}),B(1,"mat-icon"),J(2,"close"),U()()}}function Vxe(t,i){t&1&&(B(0,"mat-option",8),He(1,"mat-spinner",9),U())}function zxe(t,i){if(t&1&&(B(0,"mat-option",10),J(1),U()),t&2){let e=i.$implicit;oe("value",e),K(),It(" ",e.display," ")}}var Od=(()=>{class t{static{this.nextId=0}constructor(e){this.terminologyService=e,this.term="",this.selectionChange=new Tt,this.formControl=new cW,this.loading=!1,this.selectedConcept={},this.stateChanges=new mt,this.focused=!1,this.ngControl=null,this.errorState=!1,this.controlType="app-autocomplete-binding",this.id=`app-autocomplete-binding-${t.nextId++}`,this.describedBy="",this.onChange=()=>{},this.onTouched=()=>{}}get empty(){return!this.formControl.value}setDescribedByIds(e){this.describedBy=e.join(" ")}onContainerClick(e){}writeValue(e){e&&typeof e=="object"&&e.display?this.formControl.setValue(e.display,{emitEvent:!1}):this.formControl.setValue(e,{emitEvent:!1})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}ngOnChanges(e){e.term&&(this.term=e.term.currentValue,this.term&&typeof this.term=="object"&&this.term.display?this.formControl.setValue(this.term.display):this.formControl.setValue(this.term))}ngOnInit(){this.autoFilter=this.formControl.valueChanges.pipe(ta(300),vc(),Mn(e=>e?.length>=3?(this.loading=!0,xd(ui([]),this.terminologyService.expandValueSet(this.binding.ecl,e,0,50).pipe(si(r=>r.expansion.contains??[]),_d(()=>this.loading=!1)))):ui([])))}onTermChange(){this.formControl.setValue(this.term)}optionSelected(e){this.selectedConcept=e,this.selectionChange.emit(e),this.onChange(e)}clearInput(){this.formControl.reset(),this.selectedConcept={code:"",display:""},this.selectionChange.emit(this.selectedConcept)}change(e){let r=e?.option?.value;r&&(this.optionSelected({code:r.code,display:r.display}),this.formControl.setValue(r.display))}static{this.\u0275fac=function(r){return new(r||t)(je(An))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-autocomplete-binding"]],inputs:{binding:"binding",term:"term"},outputs:{selectionChange:"selectionChange"},standalone:!1,features:[_i([{provide:_o,useExisting:Kr(()=>t),multi:!0},{provide:Ng,useExisting:t}]),Ki],decls:11,vars:10,consts:[["auto","matAutocomplete"],[4,"ngIf"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["autoActiveFirstOption","",3,"optionSelected"],["disabled","","class","loading",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["disabled","",1,"loading"],["diameter","35"],[3,"value"]],template:function(r,n){if(r&1){let a=Ye();B(0,"mat-form-field"),Te(1,Nxe,2,1,"mat-label",1),He(2,"input",2),B(3,"mat-hint"),J(4),U(),Te(5,Bxe,3,0,"button",3),B(6,"mat-autocomplete",4,0),we("optionSelected",function(o){return Me(a),Ie(n.change(o))}),Te(8,Vxe,2,0,"mat-option",5)(9,zxe,2,2,"mat-option",6),pr(10,"async"),U()()}if(r&2){let a=hi(7);K(),oe("ngIf",n.binding.title),K(),Fo("placeholder",(n.formControl.value==null?null:n.formControl.value.display)||n.binding.title||"Search..."),oe("formControl",n.formControl)("matAutocomplete",a),K(2),vt(n.binding.note),K(),oe("ngIf",n.formControl.value),K(3),oe("ngIf",n.loading),K(),oe("ngForOf",Da(10,8,n.autoFilter))}},dependencies:[qi,Xi,Zn,pn,es,xs,Fd,y1,ZE,ia,H_,Ra,zo,Vs,_r,ju,Iy],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}.id-icon[_ngcontent-%COMP%]{margin-left:10px;color:#2e8b57}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}}return t})();function Uxe(t,i){t&1&&He(0,"mat-spinner",20)}function Hxe(t,i){t&1&&(B(0,"th",21),J(1," Date "),U())}function Gxe(t,i){if(t&1&&(B(0,"td",22),J(1),pr(2,"date"),U()),t&2){let e=i.$implicit;K(),It(" ",yo(2,1,e.date,"yyyy-MM-dd")," ")}}function jxe(t,i){t&1&&(B(0,"th",21),J(1," ConceptId "),U())}function Wxe(t,i){if(t&1&&(B(0,"td",22),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.code," ")}}function Xxe(t,i){t&1&&(B(0,"th",21),J(1," Term "),U())}function Yxe(t,i){t&1&&(B(0,"span",24),J(1,"Allergy / Intolerance condition"),U())}function $xe(t,i){if(t&1&&(B(0,"td",22),Te(1,Yxe,2,0,"span",23),J(2),U()),t&2){let e=i.$implicit;K(),oe("ngIf",e.allergy),K(),It(" ",e.display," ")}}function Qxe(t,i){t&1&&He(0,"tr",25)}function Kxe(t,i){t&1&&He(0,"tr",26)}function Zxe(t,i){t&1&&(B(0,"th",21),J(1," ConceptId "),U())}function Jxe(t,i){if(t&1&&(B(0,"td",22),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.code," ")}}function qxe(t,i){t&1&&(B(0,"th",21),J(1," Term "),U())}function ebe(t,i){if(t&1&&(B(0,"td",22),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.display," ")}}function tbe(t,i){t&1&&He(0,"tr",25)}function ibe(t,i){t&1&&He(0,"tr",26)}var nbe=[],rbe=[],JE=(()=>{class t{constructor(e){this.terminologyService=e,this.problemBinding={ecl:"< 404684003 |Clinical finding|",title:"Search..."},this.eclProblem="< 404684003 |Clinical finding|",this.term="",this.displayedColumns=["date","code","display"],this.dataToDisplay=[...nbe],this.dataSource=new D4(this.dataToDisplay),this.loading=!1,this.displayedColumns2=["code","display"],this.dataToDisplay2=[...rbe],this.dataSource2=new P4(this.dataToDisplay2)}updateProblem(e){return Mt(this,null,function*(){this.selectedProblemSct=e})}addProblem(e){return Mt(this,null,function*(){if(this.selectedProblemSct||e){let r=e||this.selectedProblemSct;if(this.loading=!0,this.term=r.display,r.date=new Date,r.code.indexOf(":")>-1){r.allergy=!0;let n=r.substance;this.dataToDisplay2.find(a=>a.code===n.code)||(this.dataToDisplay2=[...this.dataToDisplay2,n],this.dataSource2.setData(this.dataToDisplay2))}else(yield this.getAllergyData(r))?.expansion?.contains?.length>0&&(r.allergy=!0,this.addAllergySubstanceToList(r));this.dataToDisplay.find(n=>n.code===r.code)||(this.dataToDisplay=[...this.dataToDisplay,r],this.dataSource.setData(this.dataToDisplay)),this.loading=!1,this.term=""}})}addAllergySubstanceToList(e){return Mt(this,null,function*(){(yield this.getAllergySubstance(e))?.expansion?.contains?.forEach(n=>{this.dataToDisplay2.find(a=>a.code===n.code)||(this.dataToDisplay2=[...this.dataToDisplay2,n],this.dataSource2.setData(this.dataToDisplay2))})})}getAllergyData(e){return Mt(this,null,function*(){let r=yield this.terminologyService.expandValueSet("<<418038007 |Propensity to adverse reactions to substance| OR <<420134006 |Propensity to adverse reaction (finding)|",e.code,0,1);return Ir(r.pipe(si(n=>n)))})}getAllergySubstance(e){return Mt(this,null,function*(){let r=yield this.terminologyService.expandValueSet(`${e.code} |${e.display}| . (246075003 |Causative agent (attribute)| OR 47429007 |Associated with (attribute)|)`,"");return Ir(r.pipe(si(n=>n)))})}static{this.\u0275fac=function(r){return new(r||t)(je(An))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-allergies-problem-list"]],standalone:!1,decls:60,vars:11,consts:[["substancePopoverMenu","matMenu"],["id","main-card"],[1,"container-space"],[1,"problem-list"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],[1,"container"],[1,"item"],[3,"selectionChange","binding","term"],["mat-flat-button","","color","primary",3,"click"],["diameter","35",4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","display"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["diameter","35"],["mat-header-cell",""],["mat-cell",""],["class","tag pill",4,"ngIf"],[1,"tag","pill"],["mat-header-row",""],["mat-row",""]],template:function(r,n){if(r&1){let a=Ye();B(0,"mat-card",1)(1,"div",2)(2,"div",3)(3,"h4"),J(4,"Problem List "),B(5,"button",4)(6,"mat-icon"),J(7,"info"),U()(),B(8,"mat-menu",null,0)(10,"span",5),we("click",function(o){return Me(a),Ie(o.stopPropagation())}),B(11,"h4"),J(12,"Problem list"),U(),B(13,"p"),J(14,"Allergy or intolerance can also be recorded in the EHR as a problem. The problem list is normally restricted to SNOMED CT concepts from three hierarchies \u2013 Clinical finding, Event and Finding with explicit context. This corresponds either to the FHIR finding based AllergyIntolerance resource data model or the FHIR Condition resource."),U(),B(15,"p"),J(16,"For practical guidance using SNOMED CT to document hypersensitivity to specific substances in a problem list, it is suggested to map to the appropriate concepts under the 473011001 |Allergic condition (finding)|hierarchies. This is due to the lack of sufficient content under 609433001 |Hypersensitivity disposition (finding)|and 421961002 |Hypersensitivity reaction (disorder)| and that many of the concepts under 609328004 |Allergic disposition (finding)|and 419076005 |Allergic reaction (disorder)| have unclear mechanisms which may actually represent non-allergic hypersensitivity. Please note that SNOMED international does not plan to create new children concepts of hypersensitivity disposition to specific substances unless more than one Member country would submit a request for them to answer to an active use-case."),U(),B(17,"p"),J(18,"Almost all allergy concepts are modeled by substances in SNOMED CT. A very small number of allergy concepts are modeled by products but with explicit description for the specific intended meaning. Records of allergy to multiple substances or to multi-ingredient products should be recoded at the product level and updated when more specific information becomes available (e.g., positive sensitivity test to one specific ingredient of the mix)."),U(),B(19,"p"),J(20,"Vaccine allergy is an example where allergy concepts are modeled using a product concept. For example, \u2018Allergy to component of vaccine product (finding)\u2019 with a synonym \u2018vaccine allergy\u2019 has been modeled by vaccine product. The concept represents that allergy is caused by any substance in a vaccine product."),U(),B(21,"p"),J(22,"To record the level of certainty or verification status, it is recommended to use additional data elements in the EHR information model. Even though it is possible to utilize the SNOMED CT model for \u2018situation with explicit context\u2019 to express certainty, this is not recommended due to potential ambiguity. For example, \u201Csuspected penicillin allergy\u201D can mean uncertainty with the condition (is it real allergy?) or with the causative agent (is it penicillin?). Even though SNOMED CT editorial guideline is clear that the first interpretation is correct, it is better to use other methods to represent the uncertainty to avoid confusion."),U(),B(23,"p"),J(24,"For more information check the "),B(25,"a",6),J(26,"Implementation Guide"),U(),J(27," developed by the SNOMED International Allergy Clinical Reference Group."),U()()()(),B(28,"div",7)(29,"div",8)(30,"app-autocomplete-binding",9),we("selectionChange",function(o){return Me(a),Ie(n.updateProblem(o))}),U()(),B(31,"div",8)(32,"button",10),we("click",function(){return Me(a),Ie(n.addProblem())}),J(33,"Add problem"),U()(),B(34,"div",8),Te(35,Uxe,1,0,"mat-spinner",11),U()(),B(36,"table",12),Ni(37,13),Te(38,Hxe,2,0,"th",14)(39,Gxe,3,4,"td",15),Bi(),Ni(40,16),Te(41,jxe,2,0,"th",14)(42,Wxe,2,1,"td",15),Bi(),Ni(43,17),Te(44,Xxe,2,0,"th",14)(45,$xe,3,2,"td",15),Bi(),Te(46,Qxe,1,0,"tr",18)(47,Kxe,1,0,"tr",19),U()(),B(48,"div",3)(49,"h4"),J(50,"Substances the patient is allergic to:"),U(),B(51,"table",12),Ni(52,16),Te(53,Zxe,2,0,"th",14)(54,Jxe,2,1,"td",15),Bi(),Ni(55,17),Te(56,qxe,2,0,"th",14)(57,ebe,2,1,"td",15),Bi(),Te(58,tbe,1,0,"tr",18)(59,ibe,1,0,"tr",19),U()()()()}if(r&2){let a=hi(9);K(5),oe("matMenuTriggerFor",a),K(5),oe("disableRipple",!0),K(20),oe("binding",n.problemBinding)("term",n.term),K(5),oe("ngIf",n.loading),K(),oe("dataSource",n.dataSource),K(10),oe("matHeaderRowDef",n.displayedColumns),K(),oe("matRowDefColumns",n.displayedColumns),K(4),oe("dataSource",n.dataSource2),K(7),oe("matHeaderRowDef",n.displayedColumns2),K(),oe("matRowDefColumns",n.displayedColumns2)}},dependencies:[Xi,ln,Zn,pn,ys,Ps,ra,Ra,Pd,Jc,eu,ru,tu,qc,su,iu,nu,au,ou,Od,Rl],styles:["#main-card[_ngcontent-%COMP%]{padding:10px}app-autocomplete-binding[_ngcontent-%COMP%]{display:block;min-width:500px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin:10px 0;gap:10px}.container-space[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin:10px 0;gap:10px}.problem-list[_ngcontent-%COMP%]{width:60%}.tag[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding-left:10px;padding-right:10px;margin-top:5px}td[_ngcontent-%COMP%]{position:relative}.pill[_ngcontent-%COMP%]{display:inline-block;font-size:10px;background-color:orange;color:#fff;padding:4px 8px;border-radius:20px;position:absolute;top:0;right:0;margin-top:1rem}.mat-column-display[_ngcontent-%COMP%]{min-width:350px}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}}return t})(),D4=class extends Tg{constructor(i){super(),this._dataStream=new yd,this.setData(i)}connect(){return this._dataStream}disconnect(){}setData(i){this._dataStream.next(i)}},P4=class extends Tg{constructor(i){super(),this._dataStream=new yd,this.setData(i)}connect(){return this._dataStream}disconnect(){}setData(i){this._dataStream.next(i)}};var O4=["*"];function abe(t,i){t&1&&$t(0)}var obe=["tabListContainer"],lbe=["tabList"],cbe=["tabListInner"],ube=["nextPaginator"],dbe=["previousPaginator"],hbe=t=>({animationDuration:t}),fbe=(t,i)=>({value:t,params:i});function pbe(t,i){}var mbe=["tabBodyWrapper"],gbe=["tabHeader"];function vbe(t,i){}function ybe(t,i){if(t&1&&Te(0,vbe,0,0,"ng-template",12),t&2){let e=pe().$implicit;oe("cdkPortalOutlet",e.templateLabel)}}function xbe(t,i){if(t&1&&J(0),t&2){let e=pe().$implicit;vt(e.textLabel)}}function bbe(t,i){if(t&1){let e=Ye();B(0,"div",7,2),we("click",function(){let n=Me(e),a=n.$implicit,s=n.$index,o=pe(),u=hi(1);return Ie(o._handleClick(a,u,s))})("cdkFocusChange",function(n){let a=Me(e).$index,s=pe();return Ie(s._tabFocusChanged(n,a))}),He(2,"span",8)(3,"div",9),B(4,"span",10)(5,"span",11),Te(6,ybe,1,1,null,12)(7,xbe,1,1),U()()()}if(t&2){let e=i.$implicit,r=i.$index,n=hi(1),a=pe();cs(e.labelClass),Ut("mdc-tab--active",a.selectedIndex===r),oe("id",a._getTabLabelId(r))("disabled",e.disabled)("fitInkBarToContent",a.fitInkBarToContent),ti("tabIndex",a._getTabIndex(r))("aria-posinset",r+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(r))("aria-selected",a.selectedIndex===r)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),K(3),oe("matRippleTrigger",n)("matRippleDisabled",e.disabled||a.disableRipple),K(3),Zi(e.templateLabel?6:7)}}function _be(t,i){t&1&&$t(0)}function wbe(t,i){if(t&1){let e=Ye();B(0,"mat-tab-body",13),we("_onCentered",function(){Me(e);let n=pe();return Ie(n._removeTabBodyWrapperHeight())})("_onCentering",function(n){Me(e);let a=pe();return Ie(a._setTabBodyWrapperHeight(n))}),U()}if(t&2){let e=i.$implicit,r=i.$index,n=pe();cs(e.bodyClass),Ut("mat-mdc-tab-body-active",n.selectedIndex===r),oe("id",n._getTabContentId(r))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",n.animationDuration)("preserveContent",n.preserveContent),ti("tabindex",n.contentTabIndex!=null&&n.selectedIndex===r?n.contentTabIndex:null)("aria-labelledby",n._getTabLabelId(r))("aria-hidden",n.selectedIndex!==r)}}var Cbe=new tt("MatTabContent"),Sbe=(()=>{class t{template=le(sr);constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","matTabContent",""]],features:[_i([{provide:Cbe,useExisting:t}])]})}return t})(),Tbe=new tt("MatTabLabel"),DW=new tt("MAT_TAB"),Ebe=(()=>{class t extends ij{_closestTab=le(DW,{optional:!0});static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[_i([{provide:Tbe,useExisting:t}]),Ai]})}return t})(),PW=new tt("MAT_TAB_GROUP"),Xu=(()=>{class t{_viewContainerRef=le(xr);_closestTabGroup=le(PW,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new mt;position=null;origin=null;isActive=!1;constructor(){le(gr).load(fa)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new No(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-tab"]],contentQueries:function(r,n,a){if(r&1&&(Fi(a,Ebe,5),Fi(a,Sbe,7,sr)),r&2){let s;yt(s=xt())&&(n.templateLabel=s.first),yt(s=xt())&&(n._explicitContent=s.first)}},viewQuery:function(r,n){if(r&1&&Jt(sr,7),r&2){let a;yt(a=xt())&&(n._implicitContent=a.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",Rt],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[_i([{provide:DW,useExisting:t}]),Mi,Ki],ngContentSelectors:O4,decls:1,vars:0,template:function(r,n){r&1&&(zi(),Te(0,abe,1,0,"ng-template"))},encapsulation:2})}return t})(),R4="mdc-tab-indicator--active",MW="mdc-tab-indicator--no-transition",k4=class{_items;_currentItem;constructor(i){this._items=i}hide(){this._items.forEach(i=>i.deactivateInkBar()),this._currentItem=void 0}alignToElement(i){let e=this._items.find(n=>n.elementRef.nativeElement===i),r=this._currentItem;if(e!==r&&(r?.deactivateInkBar(),e)){let n=r?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(n),this._currentItem=e}}},Abe=(()=>{class t{_elementRef=le(Pt);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let r=this._elementRef.nativeElement;if(!e||!r.getBoundingClientRect||!this._inkBarContentElement){r.classList.add(R4);return}let n=r.getBoundingClientRect(),a=e.width/n.width,s=e.left-n.left;r.classList.add(MW),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${a})`),r.getBoundingClientRect(),r.classList.remove(MW),r.classList.add(R4),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(R4)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,r=this._inkBarElement=e.createElement("span"),n=this._inkBarContentElement=e.createElement("span");r.className="mdc-tab-indicator",n.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",r.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Rt]},features:[Mi]})}return t})();var RW=(()=>{class t extends Abe{elementRef=le(Pt);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(r,n){r&2&&(ti("aria-disabled",!!n.disabled),Ut("mat-mdc-tab-disabled",n.disabled))},inputs:{disabled:[2,"disabled","disabled",Rt]},features:[Mi,Ai]})}return t})(),IW={passive:!0},Mbe=650,Ibe=100,Dbe=(()=>{class t{_elementRef=le(Pt);_changeDetectorRef=le(ki);_viewportRuler=le(Bo);_dir=le(qr,{optional:!0});_ngZone=le(ri);_platform=le(In);_sharedResizeObserver=le($E);_injector=le(Wi);_renderer=le(Qn);_animationMode=le(Un,{optional:!0});_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new mt;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new mt;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let r=isNaN(e)?0:e;this._selectedIndex!=r&&(this._selectedIndexChanged=!0,this._selectedIndex=r,this._keyManager&&this._keyManager.updateActiveItem(r))}_selectedIndex=0;selectFocusedIndex=new Tt;indexFocused=new Tt;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(E3(this._renderer,this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),IW),E3(this._renderer,this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),IW))}ngAfterContentInit(){let e=this._dir?this._dir.change:ui("ltr"),r=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(ta(32),pi(this._destroyed)),n=this._viewportRuler.change(150).pipe(pi(this._destroyed)),a=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Ap(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),ls(a,{injector:this._injector}),$n(e,n,r,this._items.changes,this._itemsResized()).pipe(pi(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),a()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?Ea:this._items.changes.pipe(Bn(this._items),Mn(e=>new rn(r=>this._ngZone.runOutsideAngular(()=>{let n=new ResizeObserver(a=>r.next(a));return e.forEach(a=>n.observe(a.elementRef.nativeElement)),()=>{n.disconnect()}}))),eg(1),ji(e=>e.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Is(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let r=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?r.scrollLeft=0:r.scrollLeft=r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,r=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let r=this._tabListContainer.nativeElement.offsetWidth,n=(e=="before"?-1:1)*r/3;return this._scrollTo(this._scrollDistance+n)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let r=this._items?this._items.toArray()[e]:null;if(!r)return;let n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:a,offsetWidth:s}=r.elementRef.nativeElement,o,u;this._getLayoutDirection()=="ltr"?(o=a,u=o+s):(u=this._tabListInner.nativeElement.offsetWidth-a,o=u-s);let l=this.scrollDistance,c=this.scrollDistance+n;o<l?this.scrollDistance-=l-o:u>c&&(this.scrollDistance+=Math.min(u-c,o-l))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,r=this._elementRef.nativeElement.offsetWidth,n=e-r>=5;n||(this.scrollDistance=0),n!==this._showPaginationControls&&(this._showPaginationControls=n,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,r=this._tabListContainer.nativeElement.offsetWidth;return e-r||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=e?e.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,r){r&&r.button!=null&&r.button!==0||(this._stopInterval(),ch(Mbe,Ibe).pipe(pi($n(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:n,distance:a}=this._scrollHeader(e);(a===0||a>=n)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,inputs:{disablePagination:[2,"disablePagination","disablePagination",Rt],selectedIndex:[2,"selectedIndex","selectedIndex",mr]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Mi]})}return t})(),Pbe=(()=>{class t extends Dbe{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new k4(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275cmp=Ke({type:t,selectors:[["mat-tab-header"]],contentQueries:function(r,n,a){if(r&1&&Fi(a,RW,4),r&2){let s;yt(s=xt())&&(n._items=s)}},viewQuery:function(r,n){if(r&1&&(Jt(obe,7),Jt(lbe,7),Jt(cbe,7),Jt(ube,5),Jt(dbe,5)),r&2){let a;yt(a=xt())&&(n._tabListContainer=a.first),yt(a=xt())&&(n._tabList=a.first),yt(a=xt())&&(n._tabListInner=a.first),yt(a=xt())&&(n._nextPaginator=a.first),yt(a=xt())&&(n._previousPaginator=a.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(r,n){r&2&&Ut("mat-mdc-tab-header-pagination-controls-enabled",n._showPaginationControls)("mat-mdc-tab-header-rtl",n._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",Rt]},features:[Mi,Ai],ngContentSelectors:O4,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(r,n){if(r&1){let a=Ye();zi(),B(0,"div",5,0),we("click",function(){return Me(a),Ie(n._handlePaginatorClick("before"))})("mousedown",function(o){return Me(a),Ie(n._handlePaginatorPress("before",o))})("touchend",function(){return Me(a),Ie(n._stopInterval())}),He(2,"div",6),U(),B(3,"div",7,1),we("keydown",function(o){return Me(a),Ie(n._handleKeydown(o))}),B(5,"div",8,2),we("cdkObserveContent",function(){return Me(a),Ie(n._onContentChanges())}),B(7,"div",9,3),$t(9),U()()(),B(10,"div",10,4),we("mousedown",function(o){return Me(a),Ie(n._handlePaginatorPress("after",o))})("click",function(){return Me(a),Ie(n._handlePaginatorClick("after"))})("touchend",function(){return Me(a),Ie(n._stopInterval())}),He(12,"div",6),U()}r&2&&(Ut("mat-mdc-tab-header-pagination-disabled",n._disableScrollBefore),oe("matRippleDisabled",n._disableScrollBefore||n.disableRipple),K(3),Ut("_mat-animation-noopable",n._animationMode==="NoopAnimations"),K(2),ti("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby||null),K(5),Ut("mat-mdc-tab-header-pagination-disabled",n._disableScrollAfter),oe("matRippleDisabled",n._disableScrollAfter||n.disableRipple))},dependencies:[zu,eE],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}"],encapsulation:2})}return t})(),Rbe=new tt("MAT_TABS_CONFIG"),kbe={translateTab:us("translateTab",[na("center, void, left-origin-center, right-origin-center",Oi({transform:"none",visibility:"visible"})),na("left",Oi({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),na("right",Oi({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),vr("* => left, * => right, left => center, right => center",ir("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),vr("void => left-origin-center",[Oi({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),ir("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),vr("void => right-origin-center",[Oi({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),ir("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},Fbe=(()=>{class t extends Qc{_host=le(kW);_centeringSub=Vi.EMPTY;_leavingSub=Vi.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Bn(this._host._isCenterPosition(this._host._position))).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","matTabBodyHost",""]],features:[Ai]})}return t})(),kW=(()=>{class t{_elementRef=le(Pt);_dir=le(qr,{optional:!0});_positionIndex;_dirChangeSubscription=Vi.EMPTY;_position;_translateTabComplete=new mt;_onCentering=new Tt;_beforeCentering=new Tt;_afterLeavingCenter=new Tt;_onCentered=new Tt(!0);_portalHost;_content;origin;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=le(ki);this._dirChangeSubscription=this._dir.change.subscribe(r=>{this._computePositionAnimationState(r),e.markForCheck()})}this._translateTabComplete.subscribe(e=>{this._isCenterPosition(e.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(e.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){let r=this._isCenterPosition(e.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(e){return e=="center"||e=="left-origin-center"||e=="right-origin-center"}_computePositionAnimationState(e=this._getLayoutDirection()){this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(e){let r=this._getLayoutDirection();return r=="ltr"&&e<=0||r=="rtl"&&e>0?"left-origin-center":"right-origin-center"}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-tab-body"]],viewQuery:function(r,n){if(r&1&&Jt(Qc,5),r&2){let a;yt(a=xt())&&(n._portalHost=a.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(r,n){if(r&1){let a=Ye();B(0,"div",1,0),we("@translateTab.start",function(o){return Me(a),Ie(n._onTranslateTabStarted(o))})("@translateTab.done",function(o){return Me(a),Ie(n._translateTabComplete.next(o))}),Te(2,pbe,0,0,"ng-template",2),U()}r&2&&oe("@translateTab",Ty(3,fbe,n._position,Ia(1,hbe,n.animationDuration)))},dependencies:[Fbe,_h],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[kbe.translateTab]}})}return t})(),Obe=!0,kl=(()=>{class t{_elementRef=le(Pt);_changeDetectorRef=le(ki);_animationMode=le(Un,{optional:!0});_allTabs;_tabBodyWrapper;_tabHeader;_tabs=new bc;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;_tabsSubscription=Vi.EMPTY;_tabLabelSubscription=Vi.EMPTY;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let r=e+"";this._animationDuration=/^\d+$/.test(r)?e+"ms":r}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){if(!Obe)throw new Error("mat-tab-group background color must be set through the Sass theming API");let r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&r.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new Tt;focusChange=new Tt;animationDone=new Tt;selectedTabChange=new Tt(!0);_groupId;_isServer=!le(In).isBrowser;constructor(){let e=le(Rbe,{optional:!0});this._groupId=le(Gn).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let r=this._selectedIndex==null;if(!r){this.selectedTabChange.emit(this._createChangeEvent(e));let n=this._tabBodyWrapper.nativeElement;n.style.minHeight=n.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((n,a)=>n.isActive=a===e),r||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,n)=>{r.position=n-e,this._selectedIndex!=null&&r.position==0&&!r.origin&&(r.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let r=this._tabs.toArray(),n;for(let a=0;a<r.length;a++)if(r[a].isActive){this._indexToSelect=this._selectedIndex=a,this._lastFocusedTabIndex=null,n=r[a];break}!n&&r[e]&&Promise.resolve().then(()=>{r[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Bn(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let r=this._tabHeader;r&&(r.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let r=new F4;return r.index=e,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[e]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=$n(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`${this._groupId}-label-${e}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,r,n){r.focusIndex=n,e.disabled||(this.selectedIndex=n)}_getTabIndex(e){let r=this._lastFocusedTabIndex??this.selectedIndex;return e===r?0:-1}_tabFocusChanged(e,r){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=r)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-tab-group"]],contentQueries:function(r,n,a){if(r&1&&Fi(a,Xu,5),r&2){let s;yt(s=xt())&&(n._allTabs=s)}},viewQuery:function(r,n){if(r&1&&(Jt(mbe,5),Jt(gbe,5)),r&2){let a;yt(a=xt())&&(n._tabBodyWrapper=a.first),yt(a=xt())&&(n._tabHeader=a.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(r,n){r&2&&(ti("mat-align-tabs",n.alignTabs),cs("mat-"+(n.color||"primary")),Fr("--mat-tab-animation-duration",n.animationDuration),Ut("mat-mdc-tab-group-dynamic-height",n.dynamicHeight)("mat-mdc-tab-group-inverted-header",n.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",n.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Rt],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",Rt],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",Rt],selectedIndex:[2,"selectedIndex","selectedIndex",mr],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",mr],disablePagination:[2,"disablePagination","disablePagination",Rt],disableRipple:[2,"disableRipple","disableRipple",Rt],preserveContent:[2,"preserveContent","preserveContent",Rt],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[_i([{provide:PW,useExisting:t}]),Mi],ngContentSelectors:O4,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(r,n){if(r&1){let a=Ye();zi(),B(0,"mat-tab-header",3,0),we("indexFocused",function(o){return Me(a),Ie(n._focusChanged(o))})("selectFocusedIndex",function(o){return Me(a),Ie(n.selectedIndex=o)}),Cy(2,bbe,8,17,"div",4,Wb),U(),Te(4,_be,1,0),B(5,"div",5,1),Cy(7,wbe,1,13,"mat-tab-body",6,Wb),U()}r&2&&(oe("selectedIndex",n.selectedIndex||0)("disableRipple",n.disableRipple)("disablePagination",n.disablePagination)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby),K(2),Sy(n._tabs),K(2),Zi(n._isServer?4:-1),K(),Ut("_mat-animation-noopable",n._animationMode==="NoopAnimations"),K(2),Sy(n._tabs))},dependencies:[Pbe,RW,NG,zu,Qc,kW],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return t})(),F4=class{index;tab};var FW=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si,Si]})}return t})();var GW=Ro(_f());var B4=class{_document;_textarea;constructor(i,e){this._document=e;let r=this._textarea=this._document.createElement("textarea"),n=r.style;n.position="fixed",n.top=n.opacity="0",n.left="-999em",r.setAttribute("aria-hidden","true"),r.value=i,r.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(r)}copy(){let i=this._textarea,e=!1;try{if(i){let r=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),e=this._document.execCommand("copy"),r&&r.focus()}}catch{}return e}destroy(){let i=this._textarea;i&&(i.remove(),this._textarea=void 0)}},wf=(()=>{class t{_document=le(Di);constructor(){}copy(e){let r=this.beginCopy(e),n=r.copy();return r.destroy(),n}beginCopy(e){return new B4(e,this._document)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Lbe=new tt("HighlightJs-Config"),Cf=(()=>{class t{constructor(e,r,n,a,s){this.el=e,this.ngModel=r,this.doc=n,this.ngZone=s,this.lang="html",this.mode="simple",Object.assign(this,a)}escapeHTML(e){return(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}init(){this.ngZone.runOutsideAngular(()=>{this.destroy();let e=this.el.nativeElement,r=this.code||""+e.innerHTML.trim();if(this.codeEl=this.doc.createElement(this.mode==="default"?"div":"pre"),this.codeEl==null)return;let n=this.mode==="simple";n?(this.lang&&(this.codeEl.className=this.lang),this.parentEl=e.parentNode,this.parentEl.insertBefore(this.codeEl,e.nextSibling)):(this.parentEl=e,this.parentEl.innerHTML="",this.parentEl.appendChild(this.codeEl)),this.codeEl.innerHTML=r,hljs.configure(ht({},this.options)),n?hljs.highlightElement(this.codeEl):this.codeEl.querySelectorAll("pre code").forEach(a=>{hljs.highlightElement(a)})})}destroy(){this.codeEl&&this.parentEl&&(this.parentEl.removeChild(this.codeEl),this.codeEl=void 0)}ngAfterViewInit(){this.init(),this.ngModel?this.modelValue$=this.ngModel.valueChanges?.subscribe(e=>{this.code=this.escapeHTML(e),this.init()}):this.initMutation()}ngOnDestroy(){this.destroy(),this.destroyMutation(),this.modelValue$&&this.modelValue$.unsubscribe()}initMutation(){typeof MutationObserver>"u"||this.ngZone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.init.bind(this)),this.observer.observe(this.el.nativeElement,{characterData:!0,childList:!0,subtree:!0})})}destroyMutation(){this.observer&&this.observer.disconnect()}}return t.\u0275fac=function(e){return new(e||t)(je(Pt),je(ma,8),je(Di),je(Lbe,8),je(ri))},t.\u0275dir=_t({type:t,selectors:[["","highlight-js",""]],hostVars:2,hostBindings:function(e,r){e&2&&Fr("display",r.mode==="simple"?"none":null)},inputs:{options:"options",lang:"lang",code:"code",mode:"mode"},exportAs:["highlightJs"]}),t})();var OW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Gt({imports:[U_]}),t})();var Nbe=["trigger"],Bbe=["panel"],Vbe=[[["mat-select-trigger"]],"*"],zbe=["mat-select-trigger","*"];function Ube(t,i){if(t&1&&(B(0,"span",4),J(1),U()),t&2){let e=pe();K(),vt(e.placeholder)}}function Hbe(t,i){t&1&&$t(0)}function Gbe(t,i){if(t&1&&(B(0,"span",11),J(1),U()),t&2){let e=pe(2);K(),vt(e.triggerValue)}}function jbe(t,i){if(t&1&&(B(0,"span",5),Te(1,Hbe,1,0)(2,Gbe,2,1,"span",11),U()),t&2){let e=pe();K(),Zi(e.customTrigger?1:2)}}function Wbe(t,i){if(t&1){let e=Ye();B(0,"div",12,1),we("@transformPanel.done",function(n){Me(e);let a=pe();return Ie(a._panelDoneAnimatingStream.next(n.toState))})("keydown",function(n){Me(e);let a=pe();return Ie(a._handleKeydown(n))}),$t(2,1),U()}if(t&2){let e=pe();_U("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),oe("ngClass",e.panelClass)("@transformPanel","showing"),ti("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var Xbe={transformPanelWrap:us("transformPanelWrap",[vr("* => void",tj("@transformPanel",[ej()],{optional:!0}))]),transformPanel:us("transformPanel",[na("void",Oi({opacity:0,transform:"scale(1, 0.8)"})),vr("void => showing",ir("120ms cubic-bezier(0, 0, 0.2, 1)",Oi({opacity:1,transform:"scale(1, 1)"}))),vr("* => void",ir("100ms linear",Oi({opacity:0})))])};var LW=new tt("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=le(Ds);return()=>t.scrollStrategies.reposition()}});function Ybe(t){return()=>t.scrollStrategies.reposition()}var $be=new tt("MAT_SELECT_CONFIG"),Qbe={provide:LW,deps:[Ds],useFactory:Ybe},Kbe=new tt("MatSelectTrigger"),V4=class{source;value;constructor(i,e){this.source=i,this.value=e}},Fl=(()=>{class t{_viewportRuler=le(Bo);_changeDetectorRef=le(ki);_elementRef=le(Pt);_dir=le(qr,{optional:!0});_idGenerator=le(Gn);_parentFormField=le(Bg,{optional:!0});ngControl=le(Gu,{self:!0,optional:!0});_liveAnnouncer=le(cE);_defaultOptions=le($be,{optional:!0});_initialized=new mt;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let r=this.options.toArray()[e];if(r){let n=this.panel.nativeElement,a=fE(e,this.options,this.optionGroups),s=r._getHostElement();e===0&&a===1?n.scrollTop=0:n.scrollTop=pE(s.offsetTop,s.offsetHeight,n.scrollTop,n.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new V4(this,e)}_scrollStrategyFactory=le(LW);_panelOpen=!1;_compareWith=(e,r)=>e===r;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new mt;_errorStateTracker;stateChanges=new mt;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_panelDoneAnimatingStream=new mt;_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(dl.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=bd(()=>{let e=this.options;return e?e.changes.pipe(Bn(e),Mn(()=>$n(...e.map(r=>r.onSelectionChange)))):this._initialized.pipe(Mn(()=>this.optionSelectionChanges))});openedChange=new Tt;_openedStream=this.openedChange.pipe(ji(e=>e),si(()=>{}));_closedStream=this.openedChange.pipe(ji(e=>!e),si(()=>{}));selectionChange=new Tt;valueChange=new Tt;constructor(){let e=le(s1),r=le(Pp,{optional:!0}),n=le(Sc,{optional:!0}),a=le(new go("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Rg(e,this.ngControl,n,r,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=a==null?0:parseInt(a)||0,this.id=this.id}ngOnInit(){this._selectionModel=new QT(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(vc(),pi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(pi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(pi(this._destroy)).subscribe(e=>{e.added.forEach(r=>r.select()),e.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(Bn(null),pi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),r=this.ngControl;if(e!==this._triggerAriaLabelledBy){let n=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?n.setAttribute("aria-labelledby",e):n.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(this._previousControl!==void 0&&r.disabled!==null&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let r=`${this.id}-panel`;this._trackedModal&&Um(this._trackedModal,"aria-owns",r),n1(e,"aria-owns",r),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Um(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let r=e.keyCode,n=r===40||r===38||r===37||r===39,a=r===13||r===32,s=this._keyManager;if(!s.isTyping()&&a&&!Is(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){let o=this.selected;s.onKeydown(e);let u=this.selected;u&&o!==u&&this._liveAnnouncer.announce(u.viewValue,1e4)}}_handleOpenKeydown(e){let r=this._keyManager,n=e.keyCode,a=n===40||n===38,s=r.isTyping();if(a&&e.altKey)e.preventDefault(),this.close();else if(!s&&(n===13||n===32)&&r.activeItem&&!Is(e))e.preventDefault(),r.activeItem._selectViaInteraction();else if(!s&&this._multiple&&n===65&&e.ctrlKey){e.preventDefault();let o=this.options.some(u=>!u.disabled&&!u.selected);this.options.forEach(u=>{u.disabled||(o?u.select():u.deselect())})}else{let o=r.activeItemIndex;r.onKeydown(e),this._multiple&&a&&e.shiftKey&&r.activeItem&&r.activeItemIndex!==o&&r.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(fr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{let r=this._selectOptionByValue(e);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let r=this.options.find(n=>{if(this._selectionModel.isSelected(n))return!1;try{return(n.value!=null||this.canSelectNullableOptions)&&this._compareWith(n.value,e)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof I_?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new e1(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=$n(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(pi(e)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),$n(...this.options.map(r=>r._stateChanges)).pipe(pi(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,r){let n=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),r&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),r&&this.focus())),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((r,n)=>this.sortComparator?this.sortComparator(r,n,e):e.indexOf(r)-e.indexOf(n)),this.stateChanges.next()}}_propagateChanges(e){let r;this.multiple?r=this.selected.map(n=>n.value):r=this.selected?this.selected.value:e,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){e=r;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,r=e?e+" ":"";return this.ariaLabelledby?r+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),r=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-select"]],contentQueries:function(r,n,a){if(r&1&&(Fi(a,Kbe,5),Fi(a,ia,5),Fi(a,S_,5)),r&2){let s;yt(s=xt())&&(n.customTrigger=s.first),yt(s=xt())&&(n.options=s),yt(s=xt())&&(n.optionGroups=s)}},viewQuery:function(r,n){if(r&1&&(Jt(Nbe,5),Jt(Bbe,5),Jt(Z3,5)),r&2){let a;yt(a=xt())&&(n.trigger=a.first),yt(a=xt())&&(n.panel=a.first),yt(a=xt())&&(n._overlayDir=a.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,n){r&1&&we("keydown",function(s){return n._handleKeydown(s)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),r&2&&(ti("id",n.id)("tabindex",n.disabled?-1:n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-activedescendant",n._getAriaActiveDescendant()),Ut("mat-mdc-select-disabled",n.disabled)("mat-mdc-select-invalid",n.errorState)("mat-mdc-select-required",n.required)("mat-mdc-select-empty",n.empty)("mat-mdc-select-multiple",n.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Rt],disableRipple:[2,"disableRipple","disableRipple",Rt],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:mr(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Rt],placeholder:"placeholder",required:[2,"required","required",Rt],multiple:[2,"multiple","multiple",Rt],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Rt],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",mr],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",Rt]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[_i([{provide:Ng,useExisting:t},{provide:C_,useExisting:t}]),Mi,Ki],ngContentSelectors:zbe,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,n){if(r&1){let a=Ye();zi(Vbe),B(0,"div",2,0),we("click",function(){return Me(a),Ie(n.open())}),B(3,"div",3),Te(4,Ube,2,1,"span",4)(5,jbe,3,1,"span",5),U(),B(6,"div",6)(7,"div",7),Aa(),B(8,"svg",8),He(9,"path",9),U()()()(),Te(10,Wbe,3,9,"ng-template",10),we("backdropClick",function(){return Me(a),Ie(n.close())})("attach",function(){return Me(a),Ie(n._onAttached())})("detach",function(){return Me(a),Ie(n.close())})}if(r&2){let a=hi(1);K(3),ti("id",n._valueId),K(),Zi(n.empty?4:5),K(6),oe("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",n._preferredOverlayOrigin||a)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayWidth",n._overlayWidth)}},dependencies:[I_,Z3,Ka],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-form-field-no-animations .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}'],encapsulation:2,data:{animation:[Xbe.transformPanel]},changeDetection:0})}return t})();var qE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:[Qbe],imports:[Zc,a1,Si,Cc,Vg,a1,Si]})}return t})();var Zbe=["tooltip"],VW=20;var zW=new tt("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let t=le(Ds);return()=>t.scrollStrategies.reposition({scrollThrottle:VW})}});function Jbe(t){return()=>t.scrollStrategies.reposition({scrollThrottle:VW})}var qbe={provide:zW,deps:[Ds],useFactory:Jbe};function e_e(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var t_e=new tt("mat-tooltip-default-options",{providedIn:"root",factory:e_e});var NW="tooltip-panel",BW=cl({passive:!0}),i_e=8,n_e=8,r_e=24,s_e=200,zs=(()=>{class t{_overlay=le(Ds);_elementRef=le(Pt);_scrollDispatcher=le(yf);_viewContainerRef=le(xr);_ngZone=le(ri);_platform=le(In);_ariaDescriber=le(oE);_focusMonitor=le(ha);_dir=le(qr);_injector=le(Wi);_defaultOptions=le(t_e,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_scrollStrategy=le(zW);_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=a_e;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Xs(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let r=Xs(e);this._disabled!==r&&(this._disabled=r,r?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Lo(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Lo(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let r=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(r)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_document=le(Di);_touchstartTimeout=null;_destroyed=new mt;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=i_e}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(pi(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,n])=>{e.removeEventListener(r,n,BW)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let n=this._createOverlay(r);this._detach(),this._portal=this._portal||new xh(this._tooltipComponent,this._viewContainerRef);let a=this._tooltipInstance=n.attach(this._portal).instance;a._triggerElement=this._elementRef.nativeElement,a._mouseLeaveHideDelay=this._hideDelay,a.afterHidden().pipe(pi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),a.show(e)}hide(e=this.hideDelay){let r=this._tooltipInstance;r&&(r.isVisible()?r.hide(e):(r._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&a._origin instanceof Pt)return this._overlayRef;this._detach()}let r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return n.positionChanges.pipe(pi(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:`${this._cssClassPrefix}-${NW}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(pi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(pi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(pi(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&a.keyCode===27&&!Is(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(pi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let r=e.getConfig().positionStrategy,n=this._getOrigin(),a=this._getOverlayPosition();r.withPositions([this._addOffset(ht(ht({},n.main),a.main)),this._addOffset(ht(ht({},n.fallback),a.fallback))])}_addOffset(e){let r=n_e,n=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-r:e.originY==="bottom"?e.offsetY=r:e.originX==="start"?e.offsetX=n?-r:r:e.originX==="end"&&(e.offsetX=n?r:-r),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",r=this.position,n;r=="above"||r=="below"?n={originX:"center",originY:r=="above"?"top":"bottom"}:r=="before"||r=="left"&&e||r=="right"&&!e?n={originX:"start",originY:"center"}:(r=="after"||r=="right"&&e||r=="left"&&!e)&&(n={originX:"end",originY:"center"});let{x:a,y:s}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:a,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",r=this.position,n;r=="above"?n={overlayX:"center",overlayY:"bottom"}:r=="below"?n={overlayX:"center",overlayY:"top"}:r=="before"||r=="left"&&e||r=="right"&&!e?n={overlayX:"end",overlayY:"center"}:(r=="after"||r=="right"&&e||r=="left"&&!e)&&(n={overlayX:"start",overlayY:"center"});let{x:a,y:s}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:a,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),ls(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return this.position==="above"||this.position==="below"?r==="top"?r="bottom":r==="bottom"&&(r="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){let{overlayY:r,originX:n,originY:a}=e,s;if(r==="center"?this._dir&&this._dir.value==="rtl"?s=n==="end"?"left":"right":s=n==="start"?"left":"right":s=r==="bottom"&&a==="top"?"above":"below",s!==this._currentPosition){let o=this._overlayRef;if(o){let u=`${this._cssClassPrefix}-${NW}-`;o.removePanelClass(u+this._currentPosition),o.addPanelClass(u+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let r;e.x!==void 0&&e.y!==void 0&&(r=e),this.show(void 0,r)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let r=e.targetTouches?.[0],n=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let a=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,n)},this._defaultOptions?.touchLongPressShowDelay??a)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{let n=r.relatedTarget;(!n||!this._overlayRef?.overlayElement.contains(n))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let r=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,n])=>{this._elementRef.nativeElement.addEventListener(r,n,BW)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let r=this._document.elementFromPoint(e.clientX,e.clientY),n=this._elementRef.nativeElement;r!==n&&!n.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let r=this._elementRef.nativeElement,n=r.style;(e==="on"||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA")&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),(e==="on"||!r.draggable)&&(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||ls({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,n){r&2&&Ut("mat-mdc-tooltip-disabled",n.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return t})(),a_e=(()=>{class t{_changeDetectorRef=le(ki);_elementRef=le(Pt);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new mt;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let e=le(Un,{optional:!0});this._animationsDisabled=e==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>r_e&&e.width>=s_e}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let r=this._tooltip.nativeElement,n=this._showAnimation,a=this._hideAnimation;if(r.classList.remove(e?a:n),r.classList.add(e?n:a),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(r);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(r,n){if(r&1&&Jt(Zbe,7),r&2){let a;yt(a=xt())&&(n._tooltip=a.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(r,n){r&1&&we("mouseleave",function(s){return n._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(r,n){if(r&1){let a=Ye();B(0,"div",1,0),we("animationend",function(o){return Me(a),Ie(n._handleAnimationEnd(o))}),B(2,"div",2),J(3),U()()}r&2&&(Ut("mdc-tooltip--multiline",n._isMultiline),oe("ngClass",n.tooltipClass),K(3),vt(n.message))},dependencies:[Ka],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return t})();var w1=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:[qbe],imports:[uE,Zc,Si,Si,Cc]})}return t})();var l_e=["switch"],c_e=["*"];function u_e(t,i){t&1&&(B(0,"span",10),Aa(),B(1,"svg",12),He(2,"path",13),U(),B(3,"svg",14),He(4,"path",15),U()())}var d_e=new tt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),h_e={provide:_o,useExisting:Kr(()=>qm),multi:!0},eA=class{source;checked;constructor(i,e){this.source=i,this.checked=e}},qm=(()=>{class t{_elementRef=le(Pt);_focusMonitor=le(ha);_changeDetectorRef=le(ki);defaults=le(d_e);_onChange=e=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(e){return new eA(this,e)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations;_focused;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new Tt;toggleChange=new Tt;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){le(gr).load(fa);let e=le(new go("tabindex"),{optional:!0}),r=this.defaults,n=le(Un,{optional:!0});this.tabIndex=e==null?0:parseInt(e)||0,this.color=r.color||"accent",this._noopAnimations=n==="NoopAnimations",this.id=this._uniqueId=le(Gn).getId("mat-mdc-slide-toggle-"),this.hideIcon=r.hideIcon??!1,this.disabledInteractive=r.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new eA(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(r,n){if(r&1&&Jt(l_e,5),r&2){let a;yt(a=xt())&&(n._switchElement=a.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(r,n){r&2&&(ll("id",n.id),ti("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),cs(n.color?"mat-"+n.color:""),Ut("mat-mdc-slide-toggle-focused",n._focused)("mat-mdc-slide-toggle-checked",n.checked)("_mat-animation-noopable",n._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",Rt],color:"color",disabled:[2,"disabled","disabled",Rt],disableRipple:[2,"disableRipple","disableRipple",Rt],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:mr(e)],checked:[2,"checked","checked",Rt],hideIcon:[2,"hideIcon","hideIcon",Rt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Rt]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[_i([h_e,{provide:Rd,useExisting:t,multi:!0}]),Mi,Ki],ngContentSelectors:c_e,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,n){if(r&1){let a=Ye();zi(),B(0,"div",1)(1,"button",2,0),we("click",function(){return Me(a),Ie(n._handleClick())}),He(3,"span",3),B(4,"span",4)(5,"span",5)(6,"span",6),He(7,"span",7),U(),B(8,"span",8),He(9,"span",9),U(),Te(10,u_e,5,0,"span",10),U()()(),B(11,"label",11),we("click",function(o){return Me(a),Ie(o.stopPropagation())}),$t(12),U()()}if(r&2){let a=hi(2);oe("labelPosition",n.labelPosition),K(),Ut("mdc-switch--selected",n.checked)("mdc-switch--unselected",!n.checked)("mdc-switch--checked",n.checked)("mdc-switch--disabled",n.disabled)("mat-mdc-slide-toggle-disabled-interactive",n.disabledInteractive),oe("tabIndex",n.disabled&&!n.disabledInteractive?-1:n.tabIndex)("disabled",n.disabled&&!n.disabledInteractive),ti("id",n.buttonId)("name",n.name)("aria-label",n.ariaLabel)("aria-labelledby",n._getAriaLabelledBy())("aria-describedby",n.ariaDescribedby)("aria-required",n.required||null)("aria-checked",n.checked)("aria-disabled",n.disabled&&n.disabledInteractive?"true":null),K(8),oe("matRippleTrigger",a)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0),K(),Zi(n.hideIcon?-1:10),K(),oe("for",n.buttonId),ti("id",n._labelId)}},dependencies:[zu,o1],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height, 32px);border-radius:var(--mdc-switch-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width, 2px);border-color:var(--mat-switch-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width, 2px);border-color:var(--mat-switch-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size, 16px);height:var(--mat-switch-unselected-handle-size, 16px);margin:var(--mat-switch-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size, 24px);height:var(--mat-switch-selected-handle-size, 24px);margin:var(--mat-switch-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size, 24px);height:var(--mat-switch-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size, 28px);height:var(--mat-switch-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size, 40px);height:var(--mdc-switch-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 16px);height:var(--mdc-switch-unselected-icon-size, 16px);fill:var(--mdc-switch-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 16px);height:var(--mdc-switch-selected-icon-size, 16px);fill:var(--mdc-switch-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return t})();var UW=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[qm,Si,Si]})}return t})();function f_e(t,i){if(t&1){let e=Ye();B(0,"button",14),we("click",function(){Me(e);let n=pe().index,a=pe();return Ie(a.removeReaction(n))}),B(1,"mat-icon"),J(2,"close"),U()()}}function p_e(t,i){if(t&1){let e=Ye();B(0,"mat-option",15),we("click",function(){let n=Me(e).$implicit,a=pe().$implicit,s=pe();return Ie(s.reactionSeveritySelected(a,n))}),J(1),U()}if(t&2){let e=i.$implicit;oe("value",e),K(),vt(e.display)}}function m_e(t,i){if(t&1){let e=Ye();B(0,"div",4)(1,"div",5),Te(2,f_e,3,0,"button",6),U(),B(3,"div",7)(4,"div",8)(5,"app-autocomplete-binding",9),we("selectionChange",function(n){let a=Me(e).$implicit,s=pe();return Ie(s.reactionManifestationSelected(a,n))}),U()(),B(6,"button",10)(7,"mat-icon"),J(8,"info"),U()(),B(9,"mat-menu",null,0)(11,"span",11),we("click",function(n){return Me(e),Ie(n.stopPropagation())}),B(12,"p"),J(13,"Terminology binding:"),U(),B(14,"pre"),J(15),U()()()(),B(16,"mat-form-field",12)(17,"mat-label"),J(18,"Reaction Severity"),U(),B(19,"mat-select"),Te(20,p_e,2,2,"mat-option",13),U()(),B(21,"div",7)(22,"div",8)(23,"app-autocomplete-binding",9),we("selectionChange",function(n){let a=Me(e).$implicit,s=pe();return Ie(s.reactionRouteSelected(a,n))}),U()(),B(24,"button",10)(25,"mat-icon"),J(26,"info"),U()(),B(27,"mat-menu",null,1)(29,"span",11),we("click",function(n){return Me(e),Ie(n.stopPropagation())}),B(30,"p"),J(31,"Terminology binding:"),U(),B(32,"pre"),J(33),U()()()()()}if(t&2){let e=i.index,r=hi(10),n=hi(28),a=pe();K(2),oe("ngIf",e>0),K(3),oe("binding",a.reactionManifestationBinding),K(),oe("matMenuTriggerFor",r),K(5),oe("disableRipple",!0),K(4),vt(a.reactionManifestationBinding.ecl),K(5),oe("ngForOf",a.severityOptions),K(3),oe("binding",a.routeBinding),K(),oe("matMenuTriggerFor",n),K(5),oe("disableRipple",!0),K(4),vt(a.routeBinding.ecl)}}var HW=(()=>{class t{constructor(){this.reactions=[],this.newManifestation=new Tt,this.severityOptions=[{code:"mild",display:"Mild",sctCode:"255604002",sctDisplay:"Mild (qualifier value)"},{code:"moderate",display:"Moderate",sctCode:"6736007",sctDisplay:"Moderate (qualifier value)"},{code:"severe",display:"Severe",sctCode:"24484000",sctDisplay:"Severe (qualifier value)"}],this.selectedSeverity={},this.reactionManifestationBinding={ecl:"<<404684003 |Clinical finding|",title:"Reaction Manifestation"},this.routeBinding={ecl:"<<284009009 |Route of administration value|",title:"Exposure Route"},this.reaction={},this.onChangeCallback=()=>{},this.onTouchedCallback=()=>{}}writeValue(e){e!==void 0&&(this.reactions=e)}setDisabledState(e){}addNewReaction(){this.reactions.push(this.reaction),this.reaction={},this.onChangeCallback(this.reactions)}removeReaction(e){this.reactions.splice(e,1),this.onChangeCallback(this.reactions)}reactionManifestationSelected(e,r){e.manifestation=r,this.newManifestation.emit(r),this.onChangeCallback(this.reactions)}reactionSeveritySelected(e,r){e.severity=r,this.onChangeCallback(this.reactions)}reactionRouteSelected(e,r){e.route=r,this.onChangeCallback(this.reactions)}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-allergies-allergy-list-reaction"]],inputs:{reactions:"reactions"},outputs:{newManifestation:"newManifestation"},standalone:!1,features:[_i([{provide:_o,useExisting:Kr(()=>t),multi:!0}])],decls:5,vars:1,consts:[["reactionPopoverMenu","matMenu"],["routePopoverMenu","matMenu"],["class","reaction",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary","matTooltip","Add reaction",3,"click"],[1,"reaction"],[1,"button-container"],["mat-icon-button","","color","primary","class","remove","matTooltip","Remove reaction",3,"click",4,"ngIf"],[1,"row-centered"],[1,"small-form-field"],[3,"selectionChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click","disableRipple"],[1,"form-field"],[3,"value","click",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary","matTooltip","Remove reaction",1,"remove",3,"click"],[3,"click","value"]],template:function(r,n){r&1&&(Te(0,m_e,34,10,"div",2),B(1,"div")(2,"button",3),we("click",function(){return n.addNewReaction()}),B(3,"mat-icon"),J(4,"add"),U()()()),r&2&&oe("ngForOf",n.reactions)},dependencies:[qi,Xi,Zn,pn,ys,Ps,ra,es,xs,ia,Fl,zs,Od],styles:["#main-card[_ngcontent-%COMP%]{padding:10px;width:100%}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:flex-start}.row-centered[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center}.column[_ngcontent-%COMP%]{flex:1;margin:5px;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{width:100%}.smallest-form-field[_ngcontent-%COMP%]{width:60%;margin:5px}.small-form-field[_ngcontent-%COMP%]{width:90%;margin:5px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;padding:4px 8px;height:36px}.mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:0}.reaction[_ngcontent-%COMP%]{border-radius:10px;background-color:#a9bee9;padding:10px;margin-bottom:10px}#output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative}pre[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{width:45%;white-space:pre-wrap;word-wrap:break-word}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}"]})}}return t})();var v_e=()=>({});function y_e(t,i){if(t&1){let e=Ye();B(0,"mat-option",31),we("click",function(){Me(e);let n=pe();return Ie(n.updateAllergyStr())}),J(1),U()}if(t&2){let e=i.$implicit;oe("value",e),K(),vt(e.display)}}function x_e(t,i){if(t&1){let e=Ye();B(0,"mat-option",31),we("click",function(){Me(e);let n=pe();return Ie(n.updateAllergyStr())}),J(1),U()}if(t&2){let e=i.$implicit;oe("value",e),K(),vt(e.display)}}function b_e(t,i){if(t&1){let e=Ye();B(0,"mat-option",31),we("click",function(){Me(e);let n=pe();return Ie(n.updateAllergyStr())}),J(1),U()}if(t&2){let e=i.$implicit;oe("value",e),K(),vt(e.display)}}function __e(t,i){if(t&1){let e=Ye();B(0,"app-autocomplete-binding",11),we("selectionChange",function(n){Me(e);let a=pe();return Ie(a.substanceSelected(n,!0))}),U()}if(t&2){let e=pe();oe("binding",e.substanceBinding)("term",e.selectedSubstanceTerm)}}function w_e(t,i){if(t&1){let e=Ye();B(0,"app-autocomplete-binding",11),we("selectionChange",function(n){Me(e);let a=pe();return Ie(a.substanceSelected(n))}),U()}if(t&2){let e=pe();oe("binding",e.refinedSubstanceBinding)("term",e.selectedSubstanceTerm)}}function C_e(t,i){if(t&1&&(B(0,"pre"),J(1),U()),t&2){let e=pe();K(),vt(e.substanceBinding.ecl)}}function S_e(t,i){if(t&1&&(B(0,"pre"),J(1),U()),t&2){let e=pe();K(),vt(e.refinedSubstanceBinding.ecl)}}function T_e(t,i){if(t&1){let e=Ye();B(0,"mat-option",31),we("click",function(){Me(e);let n=pe();return Ie(n.updateAllergyStr())}),J(1),U()}if(t&2){let e=i.$implicit;oe("value",e),K(),vt(e.display)}}function E_e(t,i){if(t&1){let e=Ye();B(0,"mat-option",31),we("click",function(){Me(e);let n=pe();return Ie(n.updateAllergyStr())}),J(1),U()}if(t&2){let e=i.$implicit;oe("value",e),K(),vt(e.display)}}var jW=(()=>{class t{constructor(e,r,n){this.terminologyService=e,this.clipboard=r,this._snackBar=n,this.newProblem=new Tt,this.clinicalStatusOptions=[{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"active",display:"Active"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"inactive",display:"Inactive"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"resolved",display:"Resolved"}],this.selectedClinicalStatus=this.clinicalStatusOptions[0],this.verificationStatusOptions=[{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"unconfirmed",display:"Unconfirmed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"presumed",display:"Presumed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"confirmed",display:"Confirmed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"refuted",display:"Refuted"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"entered-in-error",display:"Entered in Error"}],this.selectedVerificationStatus=this.verificationStatusOptions[0],this.intoleranceTypeOptions=[{system:"http://hl7.org/fhir/allergy-intolerance-type",code:"609433001",display:"Hypersensitivity disposition (finding)",fhirCode:"allergy",fhirDisplay:"Allergy"},{system:"http://hl7.org/fhir/allergy-intolerance-type",code:"782197009",display:"Intolerance to substance (finding)",fhirCode:"intolerance",fhirDisplay:"Intolerance"}],this.selectedIntoleranceType=null,this.intoleranceCategoryOptions=[{code:"food",display:"Food"},{code:"medication",display:"Medication"},{code:"environment",display:"Environment"},{code:"biologic",display:"Biologic"}],this.selectedIntoleranceCategories=[],this.selectedIntoleranceCategoriesControl=new ar(this.selectedIntoleranceCategories),this.criticalityOptions=[{code:"low",display:"Low Risk"},{code:"high",display:"High Risk"},{code:"unable-to-assess",display:"Unable to Assess Risk"}],this.selectedCriticality=null,this.severityOptions=[{code:"mild",display:"Mild",sctCode:"255604002",sctDisplay:"Mild (qualifier value)"},{code:"moderate",display:"Moderate",sctCode:"6736007",sctDisplay:"Moderate (qualifier value)"},{code:"severe",display:"Severe",sctCode:"24484000",sctDisplay:"Severe (qualifier value)"}],this.selectedSeverity={},this.codeBinding={ecl:"<<418038007 |Propensity to adverse reactions to substance| OR <<420134006 |Propensity to adverse reaction (finding)|",title:"Allergy/Intolerance by propensity"},this.selectedCode=null,this.selectedCodeTerm="",this.recordPropensity=!1,this.substanceBinding={ecl:"<<105590001 | Substance (substance) | OR <<373873005 | Pharmaceutical / biologic product (product) |",title:"Allergy/Intolerance substance or product"},this.refinedSubstanceBinding={ecl:"<<105590001 | Substance (substance) |",title:"Allergy/Intolerance substance based on propensity"},this.selectedSubstanceTerm="",this.selectedSubstance=null,this.selectedReactions=[{suibstance:{},manifestation:{},severity:{},route:{}}],this.reactionManifestationBinding={ecl:"<<404684003 |Clinical finding|",title:"Reaction Manifestation"},this.selectedReactionManifestation=null,this.selectedReactionManifestationTerm="",this.routeBinding={ecl:"<<284009009 |Route of administration value|",title:"Exposure Route"},this.selectedRoute=null,this.selectedRouteTerm="",this.outputAllergyBase={resourceType:"AllergyIntolerance",id:"medication",text:{},clinicalStatus:{coding:[]},verificationStatus:{coding:[]},type:"",category:[],criticality:"high",code:{coding:[]},reaction:[{substance:[{coding:[]}],manifestation:[{coding:[]}],exposureRoute:{coding:[]},severity:""}],patient:{reference:"Patient/example"},recordedDate:"2010-03-01",participant:[{function:{coding:[{system:"http://terminology.hl7.org/CodeSystem/provenance-participant-type",code:"author",display:"Author"}]},actor:{reference:"Practitioner/example"}}]},this.outputAllergy=JSON.parse(JSON.stringify(this.outputAllergyBase)),this.outputAllergyStr=""}ngOnInit(){this.updateAllergyStr()}onReactionsChange(e){this.updateAllergyStr()}clear(){this.selectedClinicalStatus=this.clinicalStatusOptions[0],this.selectedVerificationStatus=this.verificationStatusOptions[0],this.selectedIntoleranceType=null,this.selectedIntoleranceCategories=[],this.selectedIntoleranceCategoriesControl=new ar(this.selectedIntoleranceCategories),this.selectedCriticality=null,this.selectedSeverity={},this.selectedCode=null,this.selectedCodeTerm="",this.recordPropensity=!1,this.selectedSubstanceTerm="",this.selectedReactionManifestation=null,this.selectedReactionManifestationTerm=" ",this.selectedRoute=null,this.selectedRouteTerm=" ",this.selectedReactions=[{suibstance:{},manifestation:{},severity:{},route:{}}],this.outputAllergy=JSON.parse(JSON.stringify(this.outputAllergyBase)),this.updateAllergyStr(),setTimeout(()=>{this.selectedReactionManifestationTerm="",this.selectedRouteTerm=""},100)}updateAllergyStr(){this.outputAllergy.clinicalStatus.coding=[this.selectedClinicalStatus],this.outputAllergy.verificationStatus.coding=[this.selectedVerificationStatus],this.outputAllergy.type=this.selectedIntoleranceType?this.selectedIntoleranceType.fhirCode:"",this.outputAllergy.category=this.selectedIntoleranceCategories.length?this.selectedIntoleranceCategories.map(e=>e.display):[],this.outputAllergy.criticality=this.selectedCriticality?.code?[this.selectedCriticality.code]:{},this.outputAllergy.reaction=[],this.selectedReactions.forEach(e=>{e.manifestation.code&&(e.manifestation.system="http://snomed.info/sct"),e.route.code&&(e.route.system="http://snomed.info/sct");let r={substance:[{coding:[this.selectedSubstance]}],manifestation:[{coding:e.manifestation?[e.manifestation]:[{}]}],exposureRoute:{coding:e.route?[e.route]:[{}]},severity:e.severity?e.severity.code:""};this.outputAllergy.reaction.push(r)}),setTimeout(()=>{this.outputAllergyStr=JSON.stringify(this.outputAllergy,null,2)},100)}substanceSelected(e,r){return Mt(this,null,function*(){r&&(this.selectedCodeTerm=""),this.selectedSubstance=e,this.selectedIntoleranceCategories=[],e=Object.assign({system:"http://snomed.info/sct"},e),this.recordPropensity||(this.outputAllergy.code.coding=[e]),this.outputAllergy.reaction[0].substance[0].coding=[e],(yield this.getSubstanceCategories(e))?.expansion?.contains?.forEach(a=>{a.code=="762766007"?this.selectedIntoleranceCategories.push(this.intoleranceCategoryOptions[0]):a.code=="115668003"?this.selectedIntoleranceCategories.push(this.intoleranceCategoryOptions[3]):a.code=="410942007"?this.selectedIntoleranceCategories.push(this.intoleranceCategoryOptions[1]):a.code=="57795002"&&this.selectedIntoleranceCategories.push(this.intoleranceCategoryOptions[2])}),this.selectedIntoleranceCategoriesControl.setValue(this.selectedIntoleranceCategories),this.updateAllergyStr()})}propensityRecordChanged(){this.outputAllergy.code.coding=[],this.selectedCode&&this.codeSelected(this.selectedCode)}codeSelected(e){return Mt(this,null,function*(){if(e=Object.assign({system:"http://snomed.info/sct"},e),e){this.selectedCodeTerm=e.display,this.selectedCode=e,this.recordPropensity&&(this.outputAllergy.code.coding=[e]);let r=yield this.getTypes(e);if(r.expansion?.contains){let a=r.expansion?.contains[0];this.selectedIntoleranceType=this.intoleranceTypeOptions.find(s=>s.code===a.code)}let n=yield this.getAllergySubstance(e);if(n.expansion.contains||(n=yield this.getIntoleranceSubstance(e)),n.expansion?.contains){let a=n.expansion?.contains[0];this.refinedSubstanceBinding.ecl=`<<${a.code} | ${a.display} |`,this.substanceSelected(a),this.selectedSubstanceTerm=a.display}else this.refinedSubstanceBinding.ecl="<<105590001 | Substance (substance) |"}})}getIntoleranceSubstance(e){return Mt(this,null,function*(){let r=yield this.terminologyService.expandValueSet(`${e.code} |${e.display}| . 47429007 |Associated with (attribute)|`,"");return Ir(r.pipe(si(n=>n)))})}getAllergySubstance(e){return Mt(this,null,function*(){let r=yield this.terminologyService.expandValueSet(`${e.code} |${e.display}| . 246075003 |Causative agent (attribute)|`,"");return Ir(r.pipe(si(n=>n)))})}getSubstanceCategories(e){return Mt(this,null,function*(){let r=yield this.terminologyService.expandValueSet(`> ${e.code} |${e.display}| AND (762766007 |Edible substance| OR 115668003 |Biological substance (substance)| OR 410942007 |Drug or medicament (substance)| OR 57795002 |Chemical element|)`,"");return Ir(r.pipe(si(n=>n)))})}getTypes(e){return Mt(this,null,function*(){let r=yield this.terminologyService.expandValueSet(`> ${e.code} |${e.display}| AND (609433001 |Hypersensitivity disposition| OR 782197009 |Intolerance to substance|)`,"");return Ir(r.pipe(si(n=>n)))})}saveFhirResource(){var e=new Blob([this.outputAllergyStr],{type:"text/plain;charset=utf-8"});(0,GW.saveAs)(e,"AllergyIntolerance.json")}copyToClipboard(e){this.clipboard.copy(e)}addToProblemsList(){if(this.selectedCode)this.newProblem.emit(this.selectedCode);else if(this.selectedSubstance&&this.selectedIntoleranceType){let e="";this.selectedIntoleranceType.code==="609433001"?e="Allergy to ":this.selectedIntoleranceType.code==="782197009"&&(e="Intolerance to "),e+=this.selectedSubstance.display;let r={code:`${this.selectedIntoleranceType.code}:246075003=${this.selectedSubstance.code}`,display:e,substance:this.selectedSubstance};this.newProblem.emit(r)}else this._snackBar.openFromComponent(kn,{duration:1*1e3,data:"Nothing to add to problem list",panelClass:["yellow-snackbar"]});this.clear()}static{this.\u0275fac=function(r){return new(r||t)(je(An),je(wf),je(bo))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-allergies-allergy-list"]],outputs:{newProblem:"newProblem"},standalone:!1,decls:105,vars:30,consts:[["substancePopoverMenu","matMenu"],["codePopoverMenu","matMenu"],["id","main-card"],[1,"row"],[1,"column"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],["mat-flat-button","","color","accent","id","clear",3,"click"],[1,"row-centered"],[1,"smallest-form-field"],[3,"selectionChange","binding","term"],["mat-menu-item","",3,"click","disableRipple"],["matTooltip","Defines wether to use a propensity based model or a substance based model. Defines which one is recorded in the code element of the AllergyIntolerance resource.",3,"ngModelChange","click","ngModel"],[1,"form-field"],[3,"ngModelChange","ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[1,"small-form-field"],[3,"binding","term","selectionChange",4,"ngIf"],[4,"ngIf"],[3,"formControl","multiple"],[3,"ngModelChange","newManifestation","ngModel"],["mat-flat-button","","color","accent",3,"click"],["href","https://hl7.org/FHIR/allergyintolerance.html","target","_blank"],["id","output"],["id","save"],["mat-icon-button","","matTooltip","Download FHIR Resource",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy FHIR Resource",3,"click"],["fontIcon","content_copy"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],[3,"click","value"]],template:function(r,n){if(r&1){let a=Ye();B(0,"mat-card",2)(1,"div",3)(2,"div",4)(3,"h4"),J(4,"Allergy Intolerance Form "),B(5,"button",5)(6,"mat-icon"),J(7,"info"),U()(),B(8,"mat-menu",null,0)(10,"span",6),we("click",function(o){return Me(a),Ie(o.stopPropagation())}),B(11,"h4"),J(12,"Allergy list"),U(),B(13,"p"),J(14,"Allergy or intolerance can be recorded in a specific section (e.g., \u201CDrug Allergy and Intolerance\u201D) of the EHR, which records the causative agent together with other details, including type (allergy, non-allergic hypersensitivity, intolerance), certainty, manifestation, and severity. This corresponds to the FHIR substance based AllergyIntolerance resource data model."),U(),B(15,"p"),J(16,"In terms of documenting sensitivity type in the allergy list there is the option to map to 609433001 |Hypersensitivity disposition which in SNOMED CT represents both immune-mediated and non-immune mediated hypersensitivity or to map to 609328004 |Allergic disposition (finding)|which is common clinical parlance for what many clinicians would mean by allergic or non-allergic hypersensitivity. In addition, as recommended in the FHIR documentation if one is unclear as to whether a condition represents hypersensitivity or intolerance, one can just omit the type element from the resource."),U(),B(17,"p"),J(18,"If SNOMED CT concepts are used to document the causative agent, it is preferable to use concepts from the Substance rather than Pharmaceutical/biologic product hierarchy since this will facilitate the downstream use of data, e.g., clinical decision support, data exchange."),U(),B(19,"p"),J(20,"Almost all allergy and intolerance finding concepts are modeled using substance concepts in SNOMED CT. The SNOMED CT substance hierarchy has grouper concepts that are based on structure (e.g., Macrolide) or disposition (e.g., substance with histamine receptor antagonist mechanism of action). Clinical decision support systems can utilize these grouper concepts to access information at the desired level of granularity. Clinicians can also record a class of substance instead of a specific drug or substance (e.g., angiotensin II receptor antagonist). Note that substance grouper concepts based on therapeutic role (e.g., anticonvulsant) is not recommended for use because they are currently under review and may be retired in future."),U(),B(21,"p"),J(22,"There are situations in which it is difficult to determine the specific substance as a true cause or most likely cause of a condition. This is the case for allergy/intolerance to a product containing multiple substances."),U(),B(23,"p"),J(24,"Records of allergy to multiple substances or to multi-ingredient products should be recorded at the product level and updated when more specific information becomes available (e.g., positive sensitivity test to one specific ingredient of the mix)."),U(),B(25,"p"),J(26,"For more information check the "),B(27,"a",7),J(28,"Implementation Guide"),U(),J(29," developed by the SNOMED International Allergy Clinical Reference Group."),U()()()(),B(30,"button",8),we("click",function(){return Me(a),Ie(n.clear())}),J(31,"Clear"),U(),B(32,"div",9)(33,"div",10)(34,"app-autocomplete-binding",11),we("selectionChange",function(o){return Me(a),Ie(n.codeSelected(o))}),U()(),B(35,"button",5)(36,"mat-icon"),J(37,"info"),U()(),B(38,"mat-menu",null,1)(40,"span",12),we("click",function(o){return Me(a),Ie(o.stopPropagation())}),B(41,"p"),J(42,"Terminology binding:"),U(),B(43,"pre"),J(44),U()()(),B(45,"mat-slide-toggle",13),Gr("ngModelChange",function(o){return Me(a),Zr(n.recordPropensity,o)||(n.recordPropensity=o),Ie(o)}),we("click",function(){return Me(a),Ie(n.propensityRecordChanged())}),J(46," Propensity based model "),U()(),B(47,"mat-form-field",14)(48,"mat-label"),J(49,"Allergy Intolerance Type"),U(),B(50,"mat-select",15),Gr("ngModelChange",function(o){return Me(a),Zr(n.selectedIntoleranceType,o)||(n.selectedIntoleranceType=o),Ie(o)}),Te(51,y_e,2,2,"mat-option",16),U()(),B(52,"div",9)(53,"mat-form-field",4)(54,"mat-label"),J(55,"Clinical Status"),U(),B(56,"mat-select",15),Gr("ngModelChange",function(o){return Me(a),Zr(n.selectedClinicalStatus,o)||(n.selectedClinicalStatus=o),Ie(o)}),Te(57,x_e,2,2,"mat-option",16),U()(),B(58,"mat-form-field",4)(59,"mat-label"),J(60,"Verification Status"),U(),B(61,"mat-select",15),Gr("ngModelChange",function(o){return Me(a),Zr(n.selectedVerificationStatus,o)||(n.selectedVerificationStatus=o),Ie(o)}),Te(62,b_e,2,2,"mat-option",16),U()()(),B(63,"div",9)(64,"div",17),Te(65,__e,1,2,"app-autocomplete-binding",18)(66,w_e,1,2,"app-autocomplete-binding",18),U(),B(67,"button",5)(68,"mat-icon"),J(69,"info"),U()(),B(70,"mat-menu",null,0)(72,"span",12),we("click",function(o){return Me(a),Ie(o.stopPropagation())}),B(73,"p"),J(74,"Terminology binding:"),U(),Te(75,C_e,2,1,"pre",19)(76,S_e,2,1,"pre",19),U()()(),B(77,"div",9)(78,"mat-form-field",4)(79,"mat-label"),J(80,"Substance Category"),U(),B(81,"mat-select",20),Te(82,T_e,2,2,"mat-option",16),U()(),B(83,"mat-form-field",4)(84,"mat-label"),J(85,"Allergy Criticality"),U(),B(86,"mat-select",15),Gr("ngModelChange",function(o){return Me(a),Zr(n.selectedCriticality,o)||(n.selectedCriticality=o),Ie(o)}),Te(87,E_e,2,2,"mat-option",16),U()()(),B(88,"app-allergies-allergy-list-reaction",21),Gr("ngModelChange",function(o){return Me(a),Zr(n.selectedReactions,o)||(n.selectedReactions=o),Ie(o)}),we("ngModelChange",function(o){return Me(a),Ie(n.onReactionsChange(o))})("newManifestation",function(o){return Me(a),Ie(n.newProblem.emit(o))}),U(),B(89,"button",22),we("click",function(){return Me(a),Ie(n.addToProblemsList())}),J(90,"Save"),U()(),B(91,"div",4)(92,"h4"),J(93,"AllergyIntolerance HL7 FHIR Resource ("),B(94,"a",23),J(95,"link"),U(),J(96,")"),U(),B(97,"div",24)(98,"div",25)(99,"button",26),we("click",function(){return Me(a),Ie(n.saveFhirResource())}),He(100,"mat-icon",27),U(),B(101,"button",28),we("click",function(){return Me(a),Ie(n.copyToClipboard(n.outputAllergyStr))}),He(102,"mat-icon",29),U()(),B(103,"textarea",30),J(104,"                "),U()()()()()}if(r&2){let a=hi(9),s=hi(39);K(5),oe("matMenuTriggerFor",a),K(5),oe("disableRipple",!0),K(24),oe("binding",n.codeBinding)("term",n.selectedCodeTerm),K(),oe("matMenuTriggerFor",s),K(5),oe("disableRipple",!0),K(4),vt(n.codeBinding.ecl),K(),Hr("ngModel",n.recordPropensity),K(5),Hr("ngModel",n.selectedIntoleranceType),K(),oe("ngForOf",n.intoleranceTypeOptions),K(5),Hr("ngModel",n.selectedClinicalStatus),K(),oe("ngForOf",n.clinicalStatusOptions),K(4),Hr("ngModel",n.selectedVerificationStatus),K(),oe("ngForOf",n.verificationStatusOptions),K(3),oe("ngIf",!n.recordPropensity),K(),oe("ngIf",n.recordPropensity),K(),oe("matMenuTriggerFor",a),K(5),oe("disableRipple",!0),K(3),oe("ngIf",!n.recordPropensity),K(),oe("ngIf",n.recordPropensity),K(5),oe("formControl",n.selectedIntoleranceCategoriesControl)("multiple",!0),K(),oe("ngForOf",n.intoleranceCategoryOptions),K(4),Hr("ngModel",n.selectedCriticality),K(),oe("ngForOf",n.criticalityOptions),K(),Hr("ngModel",n.selectedReactions),K(15),oe("options",Or(29,v_e))("lang","json")("innerHTML",n.outputAllergyStr,Yc)}},dependencies:[qi,Xi,Cf,ln,Zn,pn,ys,Ps,ra,es,xs,ia,_r,ju,Pd,Fl,ma,zs,qm,Od,HW],styles:["#main-card[_ngcontent-%COMP%]{padding:10px;width:100%}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:flex-start}.row-centered[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center}.column[_ngcontent-%COMP%]{position:relative;flex:1;margin:5px;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{width:100%}.smallest-form-field[_ngcontent-%COMP%]{width:60%;margin:5px}.small-form-field[_ngcontent-%COMP%]{width:90%;margin:5px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;padding:4px 8px;height:36px}.mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:0}.reaction[_ngcontent-%COMP%]{border-radius:10px;background-color:#a9bee9;padding:10px}#output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative}pre[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{width:45%;white-space:pre-wrap;word-wrap:break-word}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}#clear[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}}return t})();var WW=(()=>{class t{constructor(e){this._snackBar=e}addProblem(e){return Mt(this,null,function*(){this.allergiesProblemListComponent.addProblem(e),this._snackBar.openFromComponent(kn,{duration:1*1e3,data:"Problem list updated",panelClass:["green-snackbar"]})})}static{this.\u0275fac=function(r){return new(r||t)(je(bo))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-allergies"]],viewQuery:function(r,n){if(r&1&&Jt(JE,5),r&2){let a;yt(a=xt())&&(n.allergiesProblemListComponent=a.first)}},standalone:!1,decls:31,vars:2,consts:[["substancePopoverMenu","matMenu"],["id","main-panel"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Allergy List Approach (AllergyIntolerance FHIR resource)"],[3,"newProblem"],["label","Problem List Approach (Condition FHIR resource)"]],template:function(r,n){if(r&1){let a=Ye();B(0,"div",1)(1,"h3"),J(2,"Allergy, Hypersensitivity and Intolerance "),B(3,"button",2)(4,"mat-icon"),J(5,"info"),U()(),B(6,"mat-menu",null,0)(8,"span",3),we("click",function(o){return Me(a),Ie(o.stopPropagation())}),B(9,"h4"),J(10,"Allergy, Hypersensitivity and Intolerance Implementation Demo"),U(),B(11,"p"),J(12,"This is a demonstration of different implementation approaches for recording Allergies, Hypersensitivity and Intolerance."),U(),B(13,"p")(14,"b"),J(15,"Allergy list:"),U(),J(16," allergy or intolerance can be recorded in a specific section of the EHR, which records the causative agent together with other details, including type (allergy, non-allergic hypersensitivity, intolerance), certainty, manifestation, and severity. This corresponds to the FHIR substance based AllergyIntolerance resource data model."),U(),B(17,"p")(18,"b"),J(19,"Problem list:"),U(),J(20," Allergy or intolerance can also be recorded in the EHR as a problem. The problem list is normally restricted to SNOMED CT concepts from three hierarchies \u2013 Clinical finding, Event and Finding with explicit context. This corresponds either to the FHIR finding based AllergyIntolerance resource data model or the FHIR Condition resource."),U(),B(21,"p"),J(22,"For more information check the "),B(23,"a",4),J(24,"Implementation Guide"),U(),J(25," developed by the SNOMED International Allergy Clinical Reference Group."),U()()()(),B(26,"mat-tab-group",5)(27,"mat-tab",6)(28,"app-allergies-allergy-list",7),we("newProblem",function(o){return Me(a),Ie(n.addProblem(o))}),U()(),B(29,"mat-tab",8),He(30,"app-allergies-problem-list"),U()()()}if(r&2){let a=hi(7);K(3),oe("matMenuTriggerFor",a),K(5),oe("disableRipple",!0)}},dependencies:[Zn,pn,ys,Ps,ra,Xu,kl,JE,jW],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}#guideLink[_ngcontent-%COMP%]{font-size:smaller}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}}return t})();function lX(t){let i=t.cloneNode(!0),e=i.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();i.removeAttribute("id");for(let n=0;n<e.length;n++)e[n].removeAttribute("id");return r==="canvas"?$W(t,i):(r==="input"||r==="select"||r==="textarea")&&YW(t,i),XW("canvas",t,i,$W),XW("input, textarea, select",t,i,YW),i}function XW(t,i,e,r){let n=i.querySelectorAll(t);if(n.length){let a=e.querySelectorAll(t);for(let s=0;s<n.length;s++)r(n[s],a[s])}}var M_e=0;function YW(t,i){i.type!=="file"&&(i.value=t.value),i.type==="radio"&&i.name&&(i.name=`mat-clone-${i.name}-${M_e++}`)}function $W(t,i){let e=i.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}function $4(t){let i=t.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function H4(t,i,e){let{top:r,bottom:n,left:a,right:s}=t;return e>=r&&e<=n&&i>=a&&i<=s}function X_(t,i,e){t.top+=i,t.bottom=t.top+t.height,t.left+=e,t.right=t.left+t.width}function QW(t,i,e,r){let{top:n,right:a,bottom:s,left:o,width:u,height:l}=t,c=u*i,h=l*i;return r>n-h&&r<s+h&&e>o-c&&e<a+c}var nA=class{_document;positions=new Map;constructor(i){this._document=i}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:$4(e)})})}handleScroll(i){let e=Za(i),r=this.positions.get(e);if(!r)return null;let n=r.scrollPosition,a,s;if(e===this._document){let l=this.getViewportScrollPosition();a=l.top,s=l.left}else a=e.scrollTop,s=e.scrollLeft;let o=n.top-a,u=n.left-s;return this.positions.forEach((l,c)=>{l.clientRect&&e!==c&&e.contains(c)&&X_(l.clientRect,o,u)}),n.top=a,n.left=s,{top:o,left:u}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function cX(t,i){let e=t.rootNodes;if(e.length===1&&e[0].nodeType===i.ELEMENT_NODE)return e[0];let r=i.createElement("div");return e.forEach(n=>r.appendChild(n)),r}function Q4(t,i,e){for(let r in i)if(i.hasOwnProperty(r)){let n=i[r];n?t.setProperty(r,n,e?.has(r)?"important":""):t.removeProperty(r)}return t}function C1(t,i){let e=i?"":"none";Q4(t.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function KW(t,i,e){Q4(t.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},e)}function rA(t,i){return i&&i!="none"?t+" "+i:t}function ZW(t,i){t.style.width=`${i.width}px`,t.style.height=`${i.height}px`,t.style.transform=sA(i.left,i.top)}function sA(t,i){return`translate3d(${Math.round(t)}px, ${Math.round(i)}px, 0)`}function JW(t){let i=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*i}function I_e(t){let i=getComputedStyle(t),e=U4(i,"transition-property"),r=e.find(o=>o==="transform"||o==="all");if(!r)return 0;let n=e.indexOf(r),a=U4(i,"transition-duration"),s=U4(i,"transition-delay");return JW(a[n])+JW(s[n])}function U4(t,i){return t.getPropertyValue(i).split(",").map(r=>r.trim())}var D_e=new Set(["position"]),G4=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(i,e,r,n,a,s,o,u,l,c){this._document=i,this._rootElement=e,this._direction=r,this._initialDomRect=n,this._previewTemplate=a,this._previewClass=s,this._pickupPositionOnPage=o,this._initialTransform=u,this._zIndex=l,this._renderer=c}attach(i){this._preview=this._createPreview(),i.appendChild(this._preview),qW(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(i){this._preview.style.transform=i}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(i){this._preview.classList.add(i)}getTransitionDuration(){return I_e(this._preview)}addEventListener(i,e){return this._renderer.listen(this._preview,i,e)}_createPreview(){let i=this._previewTemplate,e=this._previewClass,r=i?i.template:null,n;if(r&&i){let a=i.matchSize?this._initialDomRect:null,s=i.viewContainer.createEmbeddedView(r,i.context);s.detectChanges(),n=cX(s,this._document),this._previewEmbeddedView=s,i.matchSize?ZW(n,a):n.style.transform=sA(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=lX(this._rootElement),ZW(n,this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return Q4(n.style,{"pointer-events":"none",margin:qW(n)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},D_e),C1(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("popover","manual"),n.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(a=>n.classList.add(a)):n.classList.add(e)),n}};function qW(t){return"showPopover"in t}var eX=cl({passive:!0}),tA=cl({passive:!1}),tX=cl({passive:!1,capture:!0}),P_e=800,iX=new Set(["position"]),j4=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Xc(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new mt;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Vi.EMPTY;_pointerUpSubscription=Vi.EMPTY;_scrollSubscription=Vi.EMPTY;_resizeSubscription=Vi.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(e=>C1(e,i)))}_disabled=!1;beforeStarted=new mt;started=new mt;released=new mt;ended=new mt;entered=new mt;exited=new mt;dropped=new mt;moved=this._moveEvents;data;constrainPosition;constructor(i,e,r,n,a,s,o){this._config=e,this._document=r,this._ngZone=n,this._viewportRuler=a,this._dragDropRegistry=s,this._renderer=o,this.withRootElement(i).withParent(e.parentDragRef||null),this._parentPositions=new nA(r),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(r=>Pa(r)),this._handles.forEach(r=>C1(r,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&e.add(r)}),this._disabledHandles=e,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){let e=Pa(i);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,tA),e.addEventListener("touchstart",this._pointerDown,eX),e.addEventListener("dragstart",this._nativeDragStart,tA)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?Pa(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),C1(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),C1(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){let i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){let i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",rX,tX)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=i=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(i);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,i)}else this.disabled||this._initializeDragSequence(this._rootElement,i)};_pointerMove=i=>{let e=this._getPointerPositionOnPage(i);if(!this._hasStartedDragging()){let n=Math.abs(e.x-this._pickupPositionOnPage.x),a=Math.abs(e.y-this._pickupPositionOnPage.y);if(n+a>=this._config.dragStartThreshold){let o=Date.now()>=this._dragStartTime+this._getDragStartDelay(i),u=this._dropContainer;if(!o){this._endDragSequence(i);return}(!u||!u.isDragging()&&!u.isReceiving())&&(i.cancelable&&i.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(i)))}return}i.cancelable&&i.preventDefault();let r=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(r),this._dropContainer)this._updateActiveDropContainer(r,e);else{let n=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,a=this._activeTransform;a.x=r.x-n.x+this._passiveTransform.x,a.y=r.y-n.y+this._passiveTransform.y,this._applyRootElementTransform(a.x,a.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:r,event:i,distance:this._getDragDistance(r),delta:this._pointerDirectionDelta})})};_pointerUp=i=>{this._endDragSequence(i)};_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){W_(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),r=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{e.addEventListener("selectstart",rX,tX)}),r){let n=this._rootElement,a=n.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment("");a.insertBefore(o,n),this._initialTransform=n.style.transform||"",this._preview=new G4(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(a,e)),KW(n,!1,iX),this._document.body.appendChild(a.replaceChild(s,n)),this.started.next({source:this,event:i}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(i,e){this._parentDragRef&&e.stopPropagation();let r=this.isDragging(),n=W_(e),a=!n&&e.button!==0,s=this._rootElement,o=Za(e),u=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+P_e>Date.now(),l=n?Pg(e):Dg(e);if(o&&o.draggable&&e.type==="mousedown"&&e.preventDefault(),r||a||u||l)return;if(this._handles.length){let d=s.style;this._rootElementTapHighlight=d.webkitTapHighlightColor||"",d.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(d=>this._updateOnScroll(d)),this._boundaryElement&&(this._boundaryRect=$4(this._boundaryElement));let c=this._previewTemplate;this._pickupPositionInElement=c&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,e);let h=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:h.x,y:h.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(i){KW(this._rootElement,!0,iX),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,r=e.getItemIndex(this),n=this._getPointerPositionOnPage(i),a=this._getDragDistance(n),s=e._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:a,dropPoint:n,event:i}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:a,dropPoint:n,event:i}),e.drop(this,r,this._initialIndex,this._initialContainer,s,a,n,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:e},{x:r,y:n}){let a=this._initialContainer._getSiblingContainerFromPosition(this,i,e);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,e)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,i,e,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,n),this._dropContainer._sortItem(this,i,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,e):this._applyPreviewTransform(i-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let i=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{let n=o=>{(!o||this._preview&&Za(o)===this._preview.element&&o.propertyName==="transform")&&(s(),r(),clearTimeout(a))},a=setTimeout(n,e*1.5),s=this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){let i=this._placeholderTemplate,e=i?i.template:null,r;return e?(this._placeholderRef=i.viewContainer.createEmbeddedView(e,i.context),this._placeholderRef.detectChanges(),r=cX(this._placeholderRef,this._document)):r=lX(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(i,e,r){let n=e===this._rootElement?null:e,a=n?n.getBoundingClientRect():i,s=W_(r)?r.targetTouches[0]:r,o=this._getViewportScrollPosition(),u=s.pageX-a.left-o.left,l=s.pageY-a.top-o.top;return{x:a.left-i.left+u,y:a.top-i.top+l}}_getPointerPositionOnPage(i){let e=this._getViewportScrollPosition(),r=W_(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,n=r.pageX-e.left,a=r.pageY-e.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let o=this._ownerSVGElement.createSVGPoint();return o.x=n,o.y=a,o.matrixTransform(s.inverse())}}return{x:n,y:a}}_getConstrainedPointerPosition(i){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:r,y:n}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if(this.lockAxis==="x"||e==="x"?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:a,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,o=this._boundaryRect,{width:u,height:l}=this._getPreviewRect(),c=o.top+s,h=o.bottom-(l-s),d=o.left+a,f=o.right-(u-a);r=nX(r,d,f),n=nX(n,c,h)}return{x:r,y:n}}_updatePointerDirectionDelta(i){let{x:e,y:r}=i,n=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-a.x),o=Math.abs(r-a.y);return s>this._config.pointerDirectionChangeThreshold&&(n.x=e>a.x?1:-1,a.x=e),o>this._config.pointerDirectionChangeThreshold&&(n.y=r>a.y?1:-1,a.y=r),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,C1(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,tA),i.removeEventListener("touchstart",this._pointerDown,eX),i.removeEventListener("dragstart",this._nativeDragStart,tA)}_applyRootElementTransform(i,e){let r=1/this.scale,n=sA(i*r,e*r),a=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=a.transform&&a.transform!="none"?a.transform:""),a.transform=rA(n,this._initialTransform)}_applyPreviewTransform(i,e){let r=this._previewTemplate?.template?void 0:this._initialTransform,n=sA(i,e);this._preview.setTransform(rA(n,r))}_getDragDistance(i){let e=this._pickupPositionOnPage;return e?{x:i.x-e.x,y:i.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:e}=this._passiveTransform;if(i===0&&e===0||this.isDragging()||!this._boundaryElement)return;let r=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(n.width===0&&n.height===0||r.width===0&&r.height===0)return;let a=n.left-r.left,s=r.right-n.right,o=n.top-r.top,u=r.bottom-n.bottom;n.width>r.width?(a>0&&(i+=a),s>0&&(i-=s)):i=0,n.height>r.height?(o>0&&(e+=o),u>0&&(e-=u)):e=0,(i!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:i})}_getDragStartDelay(i){let e=this.dragStartDelay;return typeof e=="number"?e:W_(i)?e.touch:e?e.mouse:0}_updateOnScroll(i){let e=this._parentPositions.handleScroll(i);if(e){let r=Za(i);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&X_(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Qy(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,e){let r=this._previewContainer||"global";if(r==="parent")return i;if(r==="global"){let n=this._document;return e||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return Pa(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=i=>{if(this._handles.length){let e=this._getTargetHandle(i);e&&!this._disabledHandles.has(e)&&!this.disabled&&i.preventDefault()}else this.disabled||i.preventDefault()};_getTargetHandle(i){return this._handles.find(e=>i.target&&(i.target===e||e.contains(i.target)))}};function nX(t,i,e){return Math.max(i,Math.min(e,t))}function W_(t){return t.type[0]==="t"}function rX(t){t.preventDefault()}function e0(t,i,e){let r=sX(i,t.length-1),n=sX(e,t.length-1);if(r===n)return;let a=t[r],s=n<r?-1:1;for(let o=r;o!==n;o+=s)t[o]=t[o+s];t[n]=a}function sX(t,i){return Math.max(0,Math.min(i,t))}var aA=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(i){this._dragDropRegistry=i}_previousSwap={drag:null,delta:0,overlaps:!1};start(i){this.withItems(i)}sort(i,e,r,n){let a=this._itemPositions,s=this._getItemIndexFromPointerPosition(i,e,r,n);if(s===-1&&a.length>0)return null;let o=this.orientation==="horizontal",u=a.findIndex(g=>g.drag===i),l=a[s],c=a[u].clientRect,h=l.clientRect,d=u>s?1:-1,f=this._getItemOffsetPx(c,h,d),m=this._getSiblingOffsetPx(u,a,d),p=a.slice();return e0(a,u,s),a.forEach((g,v)=>{if(p[v]===g)return;let y=g.drag===i,x=y?f:m,b=y?i.getPlaceholderElement():g.drag.getRootElement();g.offset+=x;let w=Math.round(g.offset*(1/g.drag.scale));o?(b.style.transform=rA(`translate3d(${w}px, 0, 0)`,g.initialTransform),X_(g.clientRect,0,x)):(b.style.transform=rA(`translate3d(0, ${w}px, 0)`,g.initialTransform),X_(g.clientRect,x,0))}),this._previousSwap.overlaps=H4(h,e,r),this._previousSwap.drag=l.drag,this._previousSwap.delta=o?n.x:n.y,{previousIndex:u,currentIndex:s}}enter(i,e,r,n){let a=n==null||n<0?this._getItemIndexFromPointerPosition(i,e,r):n,s=this._activeDraggables,o=s.indexOf(i),u=i.getPlaceholderElement(),l=s[a];if(l===i&&(l=s[a+1]),!l&&(a==null||a===-1||a<s.length-1)&&this._shouldEnterAsFirstChild(e,r)&&(l=s[0]),o>-1&&s.splice(o,1),l&&!this._dragDropRegistry.isDragging(l)){let c=l.getRootElement();c.parentElement.insertBefore(u,c),s.splice(a,0,i)}else this._element.appendChild(u),s.push(i);u.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables?.forEach(i=>{let e=i.getRootElement();if(e){let r=this._itemPositions.find(n=>n.drag===i)?.initialTransform;e.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===i)}updateOnScroll(i,e){this._itemPositions.forEach(({clientRect:r})=>{X_(r,i,e)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(i){this._element=i}_cacheItemPositions(){let i=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let r=e.getVisibleElement();return{drag:e,offset:0,initialTransform:r.style.transform||"",clientRect:$4(r)}}).sort((e,r)=>i?e.clientRect.left-r.clientRect.left:e.clientRect.top-r.clientRect.top)}_getItemOffsetPx(i,e,r){let n=this.orientation==="horizontal",a=n?e.left-i.left:e.top-i.top;return r===-1&&(a+=n?e.width-i.width:e.height-i.height),a}_getSiblingOffsetPx(i,e,r){let n=this.orientation==="horizontal",a=e[i].clientRect,s=e[i+r*-1],o=a[n?"width":"height"]*r;if(s){let u=n?"left":"top",l=n?"right":"bottom";r===-1?o-=s.clientRect[u]-a[l]:o+=a[u]-s.clientRect[l]}return o}_shouldEnterAsFirstChild(i,e){if(!this._activeDraggables.length)return!1;let r=this._itemPositions,n=this.orientation==="horizontal";if(r[0].drag!==this._activeDraggables[0]){let s=r[r.length-1].clientRect;return n?i>=s.right:e>=s.bottom}else{let s=r[0].clientRect;return n?i<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(i,e,r,n){let a=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:o,clientRect:u})=>{if(o===i)return!1;if(n){let l=a?n.x:n.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&l===this._previousSwap.delta)return!1}return a?e>=Math.floor(u.left)&&e<Math.floor(u.right):r>=Math.floor(u.top)&&r<Math.floor(u.bottom)});return s===-1||!this._sortPredicate(s,i)?-1:s}},W4=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(i,e){this._document=i,this._dragDropRegistry=e}start(i){let e=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<e.length;r++){let n=e[r];this._relatedNodes.push([n,n.nextSibling])}this.withItems(i)}sort(i,e,r,n){let a=this._getItemIndexFromPointerPosition(i,e,r),s=this._previousSwap;if(a===-1||this._activeItems[a]===i)return null;let o=this._activeItems[a];if(s.drag===o&&s.overlaps&&s.deltaX===n.x&&s.deltaY===n.y)return null;let u=this.getItemIndex(i),l=i.getPlaceholderElement(),c=o.getRootElement();a>u?c.after(l):c.before(l),e0(this._activeItems,u,a);let h=this._getRootNode().elementFromPoint(e,r);return s.deltaX=n.x,s.deltaY=n.y,s.drag=o,s.overlaps=c===h||c.contains(h),{previousIndex:u,currentIndex:a}}enter(i,e,r,n){let a=n==null||n<0?this._getItemIndexFromPointerPosition(i,e,r):n;a===-1&&(a=this._getClosestItemIndexToPointer(i,e,r));let s=this._activeItems[a],o=this._activeItems.indexOf(i);o>-1&&this._activeItems.splice(o,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(a,0,i),s.getRootElement().before(i.getPlaceholderElement())):(this._activeItems.push(i),this._element.appendChild(i.getPlaceholderElement()))}withItems(i){this._activeItems=i.slice()}withSortPredicate(i){this._sortPredicate=i}reset(){let i=this._element,e=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){let[n,a]=this._relatedNodes[r];n.parentNode===i&&n.nextSibling!==a&&(a===null?i.appendChild(n):a.parentNode===i&&i.insertBefore(n,a))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(i){return this._activeItems.indexOf(i)}updateOnScroll(){this._activeItems.forEach(i=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(i){i!==this._element&&(this._element=i,this._rootNode=void 0)}_getItemIndexFromPointerPosition(i,e,r){let n=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(r)),a=n?this._activeItems.findIndex(s=>{let o=s.getRootElement();return n===o||o.contains(n)}):-1;return a===-1||!this._sortPredicate(a,i)?-1:a}_getRootNode(){return this._rootNode||(this._rootNode=Qy(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(i,e,r){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let n=1/0,a=-1;for(let s=0;s<this._activeItems.length;s++){let o=this._activeItems[s];if(o!==i){let{x:u,y:l}=o.getRootElement().getBoundingClientRect(),c=Math.hypot(e-u,r-l);c<n&&(n=c,a=s)}}return a}},aX=.05,uX=.05,Nd=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t}(Nd||{}),Tc=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t}(Tc||{}),X4=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new mt;entered=new mt;exited=new mt;dropped=new mt;sorted=new mt;receivingStarted=new mt;receivingStopped=new mt;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Vi.EMPTY;_verticalScrollDirection=Nd.NONE;_horizontalScrollDirection=Tc.NONE;_scrollNode;_stopScrollTimers=new mt;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(i,e,r,n,a){this._dragDropRegistry=e,this._ngZone=n,this._viewportRuler=a;let s=this.element=Pa(i);this._document=r,this.withOrientation("vertical").withElementContainer(s),e.registerDropContainer(this),this._parentPositions=new nA(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,e,r,n){this._draggingStarted(),n==null&&this.sortingDisabled&&(n=this._draggables.indexOf(i)),this._sortStrategy.enter(i,e,r,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,e,r,n,a,s,o,u={}){this._reset(),this.dropped.next({item:i,currentIndex:e,previousIndex:r,container:this,previousContainer:n,isPointerOverContainer:a,distance:s,dropPoint:o,event:u})}withItems(i){let e=this._draggables;return this._draggables=i,i.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(e.filter(n=>n.isDragging()).every(n=>i.indexOf(n)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._direction=i,this._sortStrategy instanceof aA&&(this._sortStrategy.direction=i),this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){if(i==="mixed")this._sortStrategy=new W4(this._document,this._dragDropRegistry);else{let e=new aA(this._dragDropRegistry);e.direction=this._direction,e.orientation=i,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,r)=>this.sortPredicate(e,r,this)),this}withScrollableParents(i){let e=this._container;return this._scrollableElements=i.indexOf(e)===-1?[e,...i]:i.slice(),this}withElementContainer(i){if(i===this._container)return this;let e=Pa(this.element),r=this._scrollableElements.indexOf(this._container),n=this._scrollableElements.indexOf(i);return r>-1&&this._scrollableElements.splice(r,1),n>-1&&this._scrollableElements.splice(n,1),this._sortStrategy&&this._sortStrategy.withElementContainer(i),this._cachedShadowRoot=null,this._scrollableElements.unshift(i),this._container=i,this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,e,r,n){if(this.sortingDisabled||!this._domRect||!QW(this._domRect,aX,e,r))return;let a=this._sortStrategy.sort(i,e,r,n);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,e){if(this.autoScrollDisabled)return;let r,n=Nd.NONE,a=Tc.NONE;if(this._parentPositions.positions.forEach((s,o)=>{o===this._document||!s.clientRect||r||QW(s.clientRect,aX,i,e)&&([n,a]=R_e(o,s.clientRect,this._direction,i,e),(n||a)&&(r=o))}),!n&&!a){let{width:s,height:o}=this._viewportRuler.getViewportSize(),u={width:s,height:o,top:0,right:s,bottom:o,left:0};n=dX(u,e),a=hX(u,i),r=window}r&&(n!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=a,this._scrollNode=r,(n||a)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let i=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let i=this._container.style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),I5(0,fC).pipe(pi(this._stopScrollTimers)).subscribe(()=>{let i=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===Nd.UP?i.scrollBy(0,-e):this._verticalScrollDirection===Nd.DOWN&&i.scrollBy(0,e),this._horizontalScrollDirection===Tc.LEFT?i.scrollBy(-e,0):this._horizontalScrollDirection===Tc.RIGHT&&i.scrollBy(e,0)})};_isOverContainer(i,e){return this._domRect!=null&&H4(this._domRect,i,e)}_getSiblingContainerFromPosition(i,e,r){return this._siblings.find(n=>n._canReceive(i,e,r))}_canReceive(i,e,r){if(!this._domRect||!H4(this._domRect,e,r)||!this.enterPredicate(i,this))return!1;let n=this._getShadowRoot().elementFromPoint(e,r);return n?n===this._container||this._container.contains(n):!1}_startReceiving(i,e){let r=this._activeSiblings;!r.has(i)&&e.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(r.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:e}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(i);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let i=Qy(this._container);this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let i=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,i))}};function dX(t,i){let{top:e,bottom:r,height:n}=t,a=n*uX;return i>=e-a&&i<=e+a?Nd.UP:i>=r-a&&i<=r+a?Nd.DOWN:Nd.NONE}function hX(t,i){let{left:e,right:r,width:n}=t,a=n*uX;return i>=e-a&&i<=e+a?Tc.LEFT:i>=r-a&&i<=r+a?Tc.RIGHT:Tc.NONE}function R_e(t,i,e,r,n){let a=dX(i,n),s=hX(i,r),o=Nd.NONE,u=Tc.NONE;if(a){let l=t.scrollTop;a===Nd.UP?l>0&&(o=Nd.UP):t.scrollHeight-l>t.clientHeight&&(o=Nd.DOWN)}if(s){let l=t.scrollLeft;e==="rtl"?s===Tc.RIGHT?l<0&&(u=Tc.RIGHT):t.scrollWidth+l>t.clientWidth&&(u=Tc.LEFT):s===Tc.LEFT?l>0&&(u=Tc.LEFT):t.scrollWidth-l>t.clientWidth&&(u=Tc.RIGHT)}return[o,u]}var iA=cl({passive:!1,capture:!0}),k_e=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,n){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return t})(),K4=(()=>{class t{_ngZone=le(ri);_document=le(Di);_styleLoader=le(gr);_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=Xc([]);_globalListeners=new Map;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new mt;pointerUp=new mt;scroll=new mt;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,iA)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,iA)}startDragging(e,r){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(k_e),this._activeDragInstances.update(n=>[...n,e]),this._activeDragInstances().length===1)){let n=r.type.startsWith("touch"),a={handler:s=>this.pointerUp.next(s),options:!0};n?(this._globalListeners.set("touchend",a),this._globalListeners.set("touchcancel",a)):this._globalListeners.set("mouseup",a),this._globalListeners.set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:iA}),n||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:iA}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(e){this._activeDragInstances.update(r=>{let n=r.indexOf(e);return n>-1?(r.splice(n,1),[...r]):r}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let r=[this.scroll];return e&&e!==this._document&&r.push(new rn(n=>this._ngZone.runOutsideAngular(()=>{let s=o=>{this._activeDragInstances().length&&n.next(o)};return e.addEventListener("scroll",s,!0),()=>{e.removeEventListener("scroll",s,!0)}}))),$n(...r)}registerDirectiveNode(e,r){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,r)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners.forEach((e,r)=>{this._document.removeEventListener(r,e.handler,e.options)}),this._globalListeners.clear()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),F_e={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Z4=(()=>{class t{_document=le(Di);_ngZone=le(ri);_viewportRuler=le(Bo);_dragDropRegistry=le(K4);_renderer=le(Dl).createRenderer(null,null);constructor(){}createDrag(e,r=F_e){return new j4(e,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new X4(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Y4=new tt("CDK_DRAG_PARENT");var fX=new tt("CdkDragHandle"),pX=(()=>{class t{element=le(Pt);_parentDrag=le(Y4,{optional:!0,skipSelf:!0});_dragDropRegistry=le(K4);_stateChanges=new mt;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let e=this.element.nativeElement.parentElement;for(;e;){let r=this._dragDropRegistry.getDragDirectiveForNode(e);if(r){this._parentDrag=r,r._addHandle(this);break}e=e.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",Rt]},features:[_i([{provide:fX,useExisting:t}]),Mi]})}return t})(),mX=new tt("CDK_DRAG_CONFIG"),gX=new tt("CdkDropList"),S1=(()=>{class t{element=le(Pt);dropContainer=le(gX,{optional:!0,skipSelf:!0});_ngZone=le(ri);_viewContainerRef=le(xr);_dir=le(qr,{optional:!0});_changeDetectorRef=le(ki);_selfHandle=le(fX,{optional:!0,self:!0});_parentDrag=le(Y4,{optional:!0,skipSelf:!0});_dragDropRegistry=le(K4);_destroyed=new mt;_handles=new Rn([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new Tt;released=new Tt;ended=new Tt;entered=new Tt;exited=new Tt;dropped=new Tt;moved=new rn(e=>{let r=this._dragRef.moved.pipe(si(n=>({source:this,pointerPosition:n.pointerPosition,event:n.event,delta:n.delta,distance:n.distance}))).subscribe(e);return()=>{r.unsubscribe()}});_injector=le(Wi);constructor(){let e=this.dropContainer,r=le(mX,{optional:!0}),n=le(Z4);this._dragRef=n.createDrag(this.element,{dragStartThreshold:r&&r.dragStartThreshold!=null?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&r.pointerDirectionChangeThreshold!=null?r.pointerDirectionChangeThreshold:5,zIndex:r?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),r&&this._assignDefaults(r),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe(pi(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){ls(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let r=e.rootElementSelector,n=e.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let r=this._handles.getValue();r.push(e),this._handles.next(r)}_removeHandle(e){let r=this._handles.getValue(),n=r.indexOf(e);n>-1&&(r.splice(n,1),this._handles.next(r))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,r=e;this.rootElementSelector&&(r=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Pa(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let r=this._dir,n=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof n=="object"&&n?n:Lo(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),r&&e.withDirection(r.value)}}),e.beforeStarted.pipe(fr(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let r=this.element.nativeElement.parentElement;for(;r;){let n=this._dragDropRegistry.getDragDirectiveForNode(r);if(n){e.withParent(n._dragRef);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),e.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(e){let{lockAxis:r,dragStartDelay:n,constrainPosition:a,previewClass:s,boundaryElement:o,draggingDisabled:u,rootElementSelector:l,previewContainer:c}=e;this.disabled=u??!1,this.dragStartDelay=n||0,r&&(this.lockAxis=r),a&&(this.constrainPosition=a),s&&(this.previewClass=s),o&&(this.boundaryElement=o),l&&(this.rootElementSelector=l),c&&(this.previewContainer=c)}_setupHandlesListener(){this._handles.pipe(Jn(e=>{let r=e.map(n=>n.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),Mn(e=>$n(...e.map(r=>r._stateChanges.pipe(Bn(r))))),pi(this._destroyed)).subscribe(e=>{let r=this._dragRef,n=e.element.nativeElement;e.disabled?r.disableHandle(n):r.enableHandle(n)})}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,n){r&2&&Ut("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Rt],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",mr]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[_i([{provide:Y4,useExisting:t}]),Mi,Ki]})}return t})(),oX=new tt("CdkDropListGroup");var T1=(()=>{class t{element=le(Pt);_changeDetectorRef=le(ki);_scrollDispatcher=le(yf);_dir=le(qr,{optional:!0});_group=le(oX,{optional:!0,skipSelf:!0});_destroyed=new mt;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=le(Gn).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new Tt;entered=new Tt;exited=new Tt;sorted=new Tt;_unsortedItems=new Set;constructor(){let e=le(Z4),r=le(mX,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,r&&this._assignDefaults(r),this._dropListRef.enterPredicate=(n,a)=>this.enterPredicate(n.data,a.data),this._dropListRef.sortPredicate=(n,a,s)=>this.sortPredicate(n,a.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,r)=>e._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Bn(this._dir.value),pi(this._destroyed)).subscribe(r=>e.withDirection(r)),e.beforeStarted.subscribe(()=>{let r=Vm(this.connectedTo).map(n=>{if(typeof n=="string"){let a=t._dropLists.find(s=>s.id===n);return a}return n});if(this._group&&this._group._items.forEach(n=>{r.indexOf(n)===-1&&r.push(n)}),!this._scrollableParentsResolved){let n=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(n),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let n=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(n)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=Lo(this.autoScrollStep,2),e.connectedTo(r.filter(n=>n&&n!==this).map(n=>n._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),$n(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:r,draggingDisabled:n,sortingDisabled:a,listAutoScrollDisabled:s,listOrientation:o}=e;this.disabled=n??!1,this.sortingDisabled=a??!1,this.autoScrollDisabled=s??!1,this.orientation=o||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,n){r&2&&(ti("id",n.id),Ut("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Rt],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Rt],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Rt],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[_i([{provide:oX,useValue:void 0},{provide:gX,useExisting:t}]),Mi]})}return t})();var vX=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:[Z4],imports:[Cc]})}return t})();var Q_=Ro(_f());function O_e(t,i){}var t0=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var eF=(()=>{class t extends Ym{_elementRef=le(Pt);_focusTrapFactory=le(lE);_config;_interactivityChecker=le(__);_ngZone=le(ri);_overlayRef=le(l1);_focusMonitor=le(ha);_renderer=le(Qn);_platform=le(In);_document=le(Di,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=le(ki);_injector=le(Wi);_isDestroyed=!1;constructor(){super(),this._config=le(t0,{optional:!0})||new t0,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let r=this._ariaLabelledByQueue.indexOf(e);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}attachDomPortal=e=>{this._portalOutlet.hasAttached();let r=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),r};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{a(),s(),e.removeAttribute("tabindex")},a=this._renderer.listen(e,"blur",n),s=this._renderer.listen(e,"mousedown",n)})),e.focus(r)}_focusByCssSelector(e,r){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,r)}_trapFocus(){this._isDestroyed||ls(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,r=null;if(typeof e=="string"?r=this._document.querySelector(e):typeof e=="boolean"?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&typeof r.focus=="function"){let n=Ky(),a=this._elementRef.nativeElement;(!n||n===this._document.body||n===a||a.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,r=Ky();return e===r||e.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ky()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(r,n){if(r&1&&Jt(Qc,7),r&2){let a;yt(a=xt())&&(n._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,n){r&2&&ti("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},features:[Ai],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,n){r&1&&Te(0,O_e,0,0,"ng-template",0)},dependencies:[Qc],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return t})(),Y_=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new mt;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(i,e){this.overlayRef=i,this.config=e,this.disableClose=e.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!Is(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(i,e){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(i),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",e=""){return this.overlayRef.updateSize({width:i,height:e}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}},L_e=new tt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=le(Ds);return()=>t.scrollStrategies.block()}}),N_e=new tt("DialogData"),B_e=new tt("DefaultDialogConfig");var tF=(()=>{class t{_overlay=le(Ds);_injector=le(Wi);_defaultOptions=le(B_e,{optional:!0});_parentDialog=le(t,{optional:!0,skipSelf:!0});_overlayContainer=le(xE);_idGenerator=le(Gn);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new mt;_afterOpenedAtThisLevel=new mt;_ariaHiddenElements=new Map;_scrollStrategy=le(L_e);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=bd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Bn(void 0)));constructor(){}open(e,r){let n=this._defaultOptions||new t0;r=ht(ht({},n),r),r.id=r.id||this._idGenerator.getId("cdk-dialog-"),r.id&&this.getDialogById(r.id);let a=this._getOverlayConfig(r),s=this._overlay.create(a),o=new Y_(s,r),u=this._attachContainer(s,o,r);return o.containerInstance=u,this._attachDialogContent(e,o,u,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.closed.subscribe(()=>this._removeOpenDialog(o,!0)),this.afterOpened.next(o),o}closeAll(){q4(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){q4(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),q4(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let r=new Id({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,n){let a=n.injector||n.viewContainerRef?.injector,s=[{provide:t0,useValue:n},{provide:Y_,useValue:r},{provide:l1,useValue:e}],o;n.container?typeof n.container=="function"?o=n.container:(o=n.container.type,s.push(...n.container.providers(n))):o=eF;let u=new xh(o,n.viewContainerRef,Wi.create({parent:a||this._injector,providers:s}));return e.attach(u).instance}_attachDialogContent(e,r,n,a){if(e instanceof sr){let s=this._createInjector(a,r,n,void 0),o={$implicit:a.data,dialogRef:r};a.templateContext&&(o=ht(ht({},o),typeof a.templateContext=="function"?a.templateContext():a.templateContext)),n.attachTemplatePortal(new No(e,null,o,s))}else{let s=this._createInjector(a,r,n,this._injector),o=n.attachComponentPortal(new xh(e,a.viewContainerRef,s));r.componentRef=o,r.componentInstance=o.instance}}_createInjector(e,r,n,a){let s=e.injector||e.viewContainerRef?.injector,o=[{provide:N_e,useValue:e.data},{provide:Y_,useValue:r}];return e.providers&&(typeof e.providers=="function"?o.push(...e.providers(r,e,n)):o.push(...e.providers)),e.direction&&(!s||!s.get(qr,null,{optional:!0}))&&o.push({provide:qr,useValue:{value:e.direction,change:ui()}}),Wi.create({parent:s||a,providers:o})}_removeOpenDialog(e,r){let n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,s)=>{a?s.setAttribute("aria-hidden",a):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let r=e.parentElement.children;for(let n=r.length-1;n>-1;n--){let a=r[n];a!==e&&a.nodeName!=="SCRIPT"&&a.nodeName!=="STYLE"&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function q4(t,i){let e=t.length;for(;e--;)i(t[e])}var yX=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:[tF],imports:[Zc,bh,uE,bh]})}return t})();function V_e(t,i){}var lA=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},iF="mdc-dialog--open",xX="mdc-dialog--opening",bX="mdc-dialog--closing",z_e=150,U_e=75,H_e=(()=>{class t extends eF{_animationMode=le(Un,{optional:!0});_animationStateChanged=new Tt;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?wX(this._config.enterAnimationDuration)??z_e:0;_exitAnimationDuration=this._animationsEnabled?wX(this._config.exitAnimationDuration)??U_e:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(_X,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(xX,iF)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(iF),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(iF),this._animationsEnabled?(this._hostElement.style.setProperty(_X,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(bX)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(xX,bX)}_waitForAnimationToComplete(e,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let r=super.attachComponentPortal(e);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275cmp=Ke({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,n){r&2&&(ll("id",n._config.id),ti("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),Ut("_mat-animation-noopable",!n._animationsEnabled)("mat-mdc-dialog-container-with-actions",n._actionSectionCount>0))},features:[Ai],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,n){r&1&&(B(0,"div",0)(1,"div",1),Te(2,V_e,0,0,"ng-template",2),U()())},dependencies:[Qc],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return t})(),_X="--mat-dialog-transition-duration";function wX(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Lo(t.substring(0,t.length-2)):t.endsWith("s")?Lo(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var oA=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(oA||{}),hl=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new mt;_beforeClosed=new mt;_result;_closeFallbackTimeout;_state=oA.OPEN;_closeInteractionType;constructor(i,e,r){this._ref=i,this._containerInstance=r,this.disableClose=e.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(ji(n=>n.state==="opened"),fr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(ji(n=>n.state==="closed"),fr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),$n(this.backdropClick(),this.keydownEvents().pipe(ji(n=>n.keyCode===27&&!this.disableClose&&!Is(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),CX(this,n.type==="keydown"?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(ji(e=>e.state==="closing"),fr(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=oA.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let e=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",e=""){return this._ref.updateSize(i,e),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=oA.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function CX(t,i,e){return t._closeInteractionType=i,t.close(e)}var Fp=new tt("MatMdcDialogData"),G_e=new tt("mat-mdc-dialog-default-options"),j_e=new tt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=le(Ds);return()=>t.scrollStrategies.block()}});var Yu=(()=>{class t{_overlay=le(Ds);_defaultOptions=le(G_e,{optional:!0});_scrollStrategy=le(j_e);_parentDialog=le(t,{optional:!0,skipSelf:!0});_idGenerator=le(Gn);_dialog=le(tF);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new mt;_afterOpenedAtThisLevel=new mt;dialogConfigClass=lA;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=bd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Bn(void 0)));constructor(){this._dialogRefConstructor=hl,this._dialogContainerType=H_e,this._dialogDataToken=Fp}open(e,r){let n;r=ht(ht({},this._defaultOptions||new lA),r),r.id=r.id||this._idGenerator.getId("mat-mdc-dialog-"),r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let a=this._dialog.open(e,Ri(ht({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:t0,useValue:r}]},templateContext:()=>({dialogRef:n}),providers:(s,o,u)=>(n=new this._dialogRefConstructor(s,r,u),n.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:o.data},{provide:this._dialogRefConstructor,useValue:n}])}));return n.componentRef=a.componentRef,n.componentInstance=a.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sf=(()=>{class t{dialogRef=le(hl,{optional:!0});_elementRef=le(Pt);_dialog=le(Yu);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=TX(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let r=e._matDialogClose||e._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(e){CX(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(r,n){r&1&&we("click",function(s){return n._onButtonClick(s)}),r&2&&ti("aria-label",n.ariaLabel||null)("type",n.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Ki]})}return t})(),SX=(()=>{class t{_dialogRef=le(hl,{optional:!0});_elementRef=le(Pt);_dialog=le(Yu);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=TX(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t})}return t})(),cA=(()=>{class t extends SX{id=le(Gn).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(r,n){r&2&&ll("id",n.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[Ai]})}return t})(),i0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[sU([_h])]})}return t})(),n0=(()=>{class t extends SX{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(r,n){r&2&&Ut("mat-mdc-dialog-actions-align-start",n.align==="start")("mat-mdc-dialog-actions-align-center",n.align==="center")("mat-mdc-dialog-actions-align-end",n.align==="end")},inputs:{align:"align"},features:[Ai]})}return t})();function TX(t,i){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?i.find(r=>r.id===e.id):null}var EX=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:[Yu],imports:[yX,Zc,bh,Si,Si]})}return t})();var AX=(()=>{class t{constructor(e,r){this.dialogRef=e,this.data=r,this.localEcl="",this.localEcl=r.ecl}onNoClick(){this.dialogRef.close()}eclChanged(e){this.data.ecl=e?.detail[0]}static{this.\u0275fac=function(r){return new(r||t)(je(hl),je(Fp))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-ecl-builder-dialog"]],standalone:!1,decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"full-height"],["apiurl","https://snowstorm.ihtsdotools.org/snowstorm/snomed-ct","branch","MAIN/2023-01-31","v-on:eclOutput","eclChange",3,"eclOutput","eclstring"],["mat-dialog-actions","",1,"actions"],["mat-flat-button","","color","accent","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(r,n){r&1&&(B(0,"h1",0),J(1,"ECL Builder"),U(),B(2,"div",1)(3,"snomed-ecl-builder",2),we("eclOutput",function(s){return n.eclChanged(s)}),U()(),B(4,"div",3)(5,"button",4),J(6,"Ok"),U()()),r&2&&(K(3),Fo("eclstring",n.localEcl),K(2),oe("mat-dialog-close",n.data))},dependencies:[ln,Sf,cA,n0,i0],styles:[".full-height[_ngcontent-%COMP%]{height:78%}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]})}}return t})();var MX=new tt("CdkAccordion");var IX=(()=>{class t{accordion=le(MX,{optional:!0,skipSelf:!0});_changeDetectorRef=le(ki);_expansionDispatcher=le(Xy);_openCloseAllSubscription=Vi.EMPTY;closed=new Tt;opened=new Tt;destroyed=new Tt;expandedChange=new Tt;id=le(Gn).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let r=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,r)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;disabled=!1;_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,r)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===r&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Rt],disabled:[2,"disabled","disabled",Rt]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[_i([{provide:MX,useValue:void 0}]),Mi]})}return t})(),DX=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({})}return t})();var W_e=["body"],X_e=["bodyWrapper"],Y_e=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],$_e=["mat-expansion-panel-header","*","mat-action-row"];function Q_e(t,i){}var K_e=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Z_e=["mat-panel-title","mat-panel-description","*"];function J_e(t,i){t&1&&(B(0,"span",1),Aa(),B(1,"svg",2),He(2,"path",3),U()())}var PX=new tt("MAT_ACCORDION"),RX=new tt("MAT_EXPANSION_PANEL"),q_e=(()=>{class t{_template=le(sr);_expansionPanel=le(RX,{optional:!0});constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]})}return t})(),kX=new tt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),nF=(()=>{class t extends IX{_viewContainerRef=le(xr);_animationsDisabled=le(Un,{optional:!0})==="NoopAnimations";_document=le(Di);_ngZone=le(ri);_elementRef=le(Pt);_renderer=le(Qn);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new Tt;afterCollapse=new Tt;_inputChanges=new mt;accordion=le(PX,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=le(Gn).getId("mat-expansion-panel-header-");constructor(){super();let e=le(kX,{optional:!0});this._expansionDispatcher=le(Xy),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Bn(null),ji(()=>this.expanded&&!this._portal),fr(1)).subscribe(()=>{this._portal=new No(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,r=this._body.nativeElement;return e===r||r.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:r})=>{e===this._bodyWrapper?.nativeElement&&r==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(r,n,a){if(r&1&&Fi(a,q_e,5),r&2){let s;yt(s=xt())&&(n._lazyContent=s.first)}},viewQuery:function(r,n){if(r&1&&(Jt(W_e,5),Jt(X_e,5)),r&2){let a;yt(a=xt())&&(n._body=a.first),yt(a=xt())&&(n._bodyWrapper=a.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(r,n){r&2&&Ut("mat-expanded",n.expanded)("mat-expansion-panel-spacing",n._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",Rt],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[_i([{provide:PX,useValue:void 0},{provide:RX,useExisting:t}]),Mi,Ai,Ki],ngContentSelectors:$_e,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(r,n){r&1&&(zi(Y_e),$t(0),B(1,"div",2,0)(3,"div",3,1)(5,"div",4),$t(6,1),Te(7,Q_e,0,0,"ng-template",5),U(),$t(8,2),U()()),r&2&&(K(),ti("inert",n.expanded?null:""),K(2),oe("id",n.id),ti("aria-labelledby",n._headerId),K(4),oe("cdkPortalOutlet",n._portal))},dependencies:[Qc],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return t})();var FX=(()=>{class t{panel=le(nF,{host:!0});_element=le(Pt);_focusMonitor=le(ha);_changeDetectorRef=le(ki);_parentChangeSubscription=Vi.EMPTY;constructor(){le(gr).load(fa);let e=this.panel,r=le(kX,{optional:!0}),n=le(new go("tabindex"),{optional:!0}),a=e.accordion?e.accordion._stateChanges.pipe(ji(s=>!!(s.hideToggle||s.togglePosition))):Ea;this.tabIndex=parseInt(n||"")||0,this._parentChangeSubscription=$n(e.opened,e.closed,a,e._inputChanges.pipe(ji(s=>!!(s.hideToggle||s.disabled||s.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(ji(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Is(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,r){e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(r,n){r&1&&we("click",function(){return n._toggle()})("keydown",function(s){return n._keydown(s)}),r&2&&(ti("id",n.panel._headerId)("tabindex",n.disabled?-1:n.tabIndex)("aria-controls",n._getPanelId())("aria-expanded",n._isExpanded())("aria-disabled",n.panel.disabled),Fr("height",n._getHeaderHeight()),Ut("mat-expanded",n._isExpanded())("mat-expansion-toggle-indicator-after",n._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",n._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:mr(e)]},features:[Mi],ngContentSelectors:Z_e,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(r,n){r&1&&(zi(K_e),B(0,"span",0),$t(1),$t(2,1),$t(3,2),U(),Te(4,J_e,3,0,"span",1)),r&2&&(Ut("mat-content-hide-toggle",!n._showToggle()),K(4),Zi(n._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}'],encapsulation:2,changeDetection:0})}return t})(),OX=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}return t})(),LX=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return t})();var NX=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si,DX,bh]})}return t})();var twe=["input"],iwe=["label"],nwe=["*"],rwe=new tt("mat-checkbox-default-options",{providedIn:"root",factory:VX});function VX(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Ol=function(t){return t[t.Init=0]="Init",t[t.Checked=1]="Checked",t[t.Unchecked=2]="Unchecked",t[t.Indeterminate=3]="Indeterminate",t}(Ol||{}),swe={provide:_o,useExisting:Kr(()=>Tf),multi:!0},rF=class{source;checked},BX=VX(),Tf=(()=>{class t{_elementRef=le(Pt);_changeDetectorRef=le(ki);_ngZone=le(ri);_animationMode=le(Un,{optional:!0});_options=le(rwe,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let r=new rF;return r.source=this,r.checked=e,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new Tt;indeterminateChange=new Tt;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=Ol.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){le(gr).load(fa);let e=le(new go("tabindex"),{optional:!0});this._options=this._options||BX,this.color=this._options.color||BX.color,this.tabIndex=e==null?0:parseInt(e)||0,this.id=this._uniqueId=le(Gn).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate}set indeterminate(e){let r=e!=this._indeterminate;this._indeterminate=e,r&&(this._indeterminate?this._transitionCheckState(Ol.Indeterminate):this._transitionCheckState(this.checked?Ol.Checked:Ol.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_indeterminate=!1;_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let r=this._currentCheckState,n=this._getAnimationTargetElement();if(!(r===e||!n)&&(this._currentAnimationClass&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);let a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(a)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Ol.Checked:Ol.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,r){if(this._animationMode==="NoopAnimations")return"";switch(e){case Ol.Init:if(r===Ol.Checked)return this._animationClasses.uncheckedToChecked;if(r==Ol.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Ol.Unchecked:return r===Ol.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Ol.Checked:return r===Ol.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Ol.Indeterminate:return r===Ol.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let r=this._inputElement;r&&(r.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-checkbox"]],viewQuery:function(r,n){if(r&1&&(Jt(twe,5),Jt(iwe,5)),r&2){let a;yt(a=xt())&&(n._inputElement=a.first),yt(a=xt())&&(n._labelElement=a.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(r,n){r&2&&(ll("id",n.id),ti("tabindex",null)("aria-label",null)("aria-labelledby",null),cs(n.color?"mat-"+n.color:"mat-accent"),Ut("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mdc-checkbox--disabled",n.disabled)("mat-mdc-checkbox-disabled",n.disabled)("mat-mdc-checkbox-checked",n.checked)("mat-mdc-checkbox-disabled-interactive",n.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",Rt],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",Rt],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Rt],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:mr(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Rt],checked:[2,"checked","checked",Rt],disabled:[2,"disabled","disabled",Rt],indeterminate:[2,"indeterminate","indeterminate",Rt]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[_i([swe,{provide:Rd,useExisting:t,multi:!0}]),Mi,Ki],ngContentSelectors:nwe,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(r,n){if(r&1){let a=Ye();zi(),B(0,"div",3),we("click",function(o){return Me(a),Ie(n._preventBubblingFromLabel(o))}),B(1,"div",4,0)(3,"div",5),we("click",function(){return Me(a),Ie(n._onTouchTargetClick())}),U(),B(4,"input",6,1),we("blur",function(){return Me(a),Ie(n._onBlur())})("click",function(){return Me(a),Ie(n._onInputClick())})("change",function(o){return Me(a),Ie(n._onInteractionEvent(o))}),U(),He(6,"div",7),B(7,"div",8),Aa(),B(8,"svg",9),He(9,"path",10),U(),vg(),He(10,"div",11),U(),He(11,"div",12),U(),B(12,"label",13,2),$t(14),U()()}if(r&2){let a=hi(2);oe("labelPosition",n.labelPosition),K(4),Ut("mdc-checkbox--selected",n.checked),oe("checked",n.checked)("indeterminate",n.indeterminate)("disabled",n.disabled&&!n.disabledInteractive)("id",n.inputId)("required",n.required)("tabIndex",n.disabled&&!n.disabledInteractive?-1:n.tabIndex),ti("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby)("aria-checked",n.indeterminate?"mixed":null)("aria-controls",n.ariaControls)("aria-disabled",n.disabled&&n.disabledInteractive?!0:null)("aria-expanded",n.ariaExpanded)("aria-owns",n.ariaOwns)("name",n.name)("value",n.value),K(7),oe("matRippleTrigger",a)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0),K(),oe("for",n.inputId)}},dependencies:[zu,o1],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return t})();var uA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Tf,Si,Si]})}return t})();var zX=(()=>{class t{get vertical(){return this._vertical}set vertical(e){this._vertical=Xs(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=Xs(e)}_inset=!1;static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,n){r&2&&(ti("aria-orientation",n.vertical?"vertical":"horizontal"),Ut("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(r,n){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return t})(),hA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si,Si]})}return t})();var owe=["searchSelectInput"],lwe=["innerSelectSearch"],cwe=[[["",8,"mat-select-search-custom-header-content"]],[["","ngxMatSelectSearchClear",""]],[["","ngxMatSelectNoEntriesFound",""]]],uwe=[".mat-select-search-custom-header-content","[ngxMatSelectSearchClear]","[ngxMatSelectNoEntriesFound]"],dwe=(t,i)=>({"mat-select-search-inner-multiple":t,"mat-select-search-inner-toggle-all":i});function hwe(t,i){if(t&1){let e=Ye();B(0,"mat-checkbox",12),we("change",function(n){Me(e);let a=pe();return Ie(a._emitSelectAllBooleanToParent(n.checked))}),U()}if(t&2){let e=pe();oe("color",e.matFormField==null?null:e.matFormField.color)("checked",e.toggleAllCheckboxChecked)("indeterminate",e.toggleAllCheckboxIndeterminate)("matTooltip",e.toggleAllCheckboxTooltipMessage)("matTooltipPosition",e.toggleAllCheckboxTooltipPosition)}}function fwe(t,i){t&1&&He(0,"mat-spinner",13)}function pwe(t,i){t&1&&$t(0,1,["*ngIf","clearIcon; else defaultIcon"])}function mwe(t,i){if(t&1&&(B(0,"mat-icon",16),J(1),U()),t&2){let e=pe(2);oe("svgIcon",e.closeSvgIcon),K(),It(" ",e.closeSvgIcon?null:e.closeIcon," ")}}function gwe(t,i){if(t&1){let e=Ye();B(0,"button",14),we("click",function(){Me(e);let n=pe();return Ie(n._reset(!0))}),Te(1,pwe,1,0,"ng-content",15)(2,mwe,2,2,"ng-template",null,2,Fm),U()}if(t&2){let e=hi(3),r=pe();K(),oe("ngIf",r.clearIcon)("ngIfElse",e)}}function vwe(t,i){t&1&&$t(0,2,["*ngIf","noEntriesFound; else defaultNoEntriesFound"])}function ywe(t,i){if(t&1&&J(0),t&2){let e=pe(2);vt(e.noEntriesFoundLabel)}}function xwe(t,i){if(t&1&&(B(0,"div",17),Te(1,vwe,1,0,"ng-content",15)(2,ywe,1,1,"ng-template",null,3,Fm),U()),t&2){let e=hi(3),r=pe();K(),oe("ngIf",r.noEntriesFound)("ngIfElse",e)}}var bwe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","ngxMatSelectSearchClear",""]],standalone:!1})}return t})(),_we=["ariaLabel","clearSearchInput","closeIcon","closeSvgIcon","disableInitialFocus","disableScrollToActiveOnOptionsChanged","enableClearOnEscapePressed","hideClearSearchButton","noEntriesFoundLabel","placeholderLabel","preventHomeEndKeyPropagation","searching"],wwe=new tt("mat-selectsearch-default-options"),Cwe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","ngxMatSelectNoEntriesFound",""]],standalone:!1})}return t})(),UX=(()=>{class t{matSelect;changeDetectorRef;_viewportRuler;matOption;matFormField;placeholderLabel="Suche";type="text";closeIcon="close";closeSvgIcon;noEntriesFoundLabel="Keine Optionen gefunden";clearSearchInput=!0;searching=!1;disableInitialFocus=!1;enableClearOnEscapePressed=!1;preventHomeEndKeyPropagation=!1;disableScrollToActiveOnOptionsChanged=!1;ariaLabel="dropdown search";showToggleAllCheckbox=!1;toggleAllCheckboxChecked=!1;toggleAllCheckboxIndeterminate=!1;toggleAllCheckboxTooltipMessage="";toggleAllCheckboxTooltipPosition="below";hideClearSearchButton=!1;alwaysRestoreSelectedOptionsMulti=!1;recreateValuesArray=!1;toggleAll=new Tt;searchSelectInput;innerSelectSearch;clearIcon;noEntriesFound;get value(){return this._formControl.value}_lastExternalInputValue;onTouched=()=>{};set _options(e){this._options$.next(e)}get _options(){return this._options$.getValue()}_options$=new Rn(null);optionsList$=this._options$.pipe(Mn(e=>e?e.changes.pipe(si(r=>r.toArray()),Bn(e.toArray())):ui(null)));optionsLength$=this.optionsList$.pipe(si(e=>e?e.length:0));previousSelectedValues;_formControl=new ar("",{nonNullable:!0});_showNoEntriesFound$=il([this._formControl.valueChanges,this.optionsLength$]).pipe(si(([e,r])=>!!(this.noEntriesFoundLabel&&e&&r===this.getOptionsLengthOffset())));_onDestroy=new mt;activeDescendant;constructor(e,r,n,a,s,o){this.matSelect=e,this.changeDetectorRef=r,this._viewportRuler=n,this.matOption=a,this.matFormField=s,this.applyDefaultOptions(o)}applyDefaultOptions(e){if(e)for(let r of _we)Object.prototype.hasOwnProperty.call(e,r)&&(this[r]=e[r])}ngOnInit(){this.matOption?(this.matOption.disabled=!0,this.matOption._getHostElement().classList.add("contains-mat-select-search"),this.matOption._getHostElement().setAttribute("role","presentation")):console.error("<ngx-mat-select-search> must be placed inside a <mat-option> element"),this.matSelect.openedChange.pipe(vb(1),pi(this._onDestroy)).subscribe(e=>{e?(this.updateInputWidth(),this.disableInitialFocus||this._focus()):this.clearSearchInput&&this._reset()}),this.matSelect.openedChange.pipe(fr(1),Mn(()=>{this._options=this.matSelect.options;let e=this._options.toArray()[this.getOptionsLengthOffset()];return this._options.changes.pipe(Jn(()=>{setTimeout(()=>{let r=this._options.toArray(),n=r[this.getOptionsLengthOffset()],a=this.matSelect._keyManager;a&&this.matSelect.panelOpen&&n&&((!e||!this.matSelect.compareWith(e.value,n.value)||!a.activeItem||!r.find(o=>this.matSelect.compareWith(o.value,a.activeItem?.value)))&&a.setActiveItem(this.getOptionsLengthOffset()),setTimeout(()=>{this.updateInputWidth()})),e=n})}))})).pipe(pi(this._onDestroy)).subscribe(),this._showNoEntriesFound$.pipe(pi(this._onDestroy)).subscribe(e=>{this.matOption&&(e?this.matOption._getHostElement().classList.add("mat-select-search-no-entries-found"):this.matOption._getHostElement().classList.remove("mat-select-search-no-entries-found"))}),this._viewportRuler.change().pipe(pi(this._onDestroy)).subscribe(()=>{this.matSelect.panelOpen&&this.updateInputWidth()}),this.initMultipleHandling(),this.optionsList$.pipe(pi(this._onDestroy)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}_emitSelectAllBooleanToParent(e){this.toggleAll.emit(e)}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_isToggleAllCheckboxVisible(){return this.matSelect.multiple&&this.showToggleAllCheckbox}_handleKeydown(e){(e.key&&e.key.length===1||this.preventHomeEndKeyPropagation&&(e.key==="Home"||e.key==="End"))&&e.stopPropagation(),this.matSelect.multiple&&e.key&&e.key==="Enter"&&setTimeout(()=>this._focus()),this.enableClearOnEscapePressed&&e.key==="Escape"&&this.value&&(this._reset(!0),e.stopPropagation())}_handleKeyup(e){if(e.key==="ArrowUp"||e.key==="ArrowDown"){let r=this.matSelect._getAriaActiveDescendant(),n=this._options.toArray().findIndex(a=>a.id===r);n!==-1&&(this.unselectActiveDescendant(),this.activeDescendant=this._options.toArray()[n]._getHostElement(),this.activeDescendant.setAttribute("aria-selected","true"),this.searchSelectInput.nativeElement.setAttribute("aria-activedescendant",r))}}writeValue(e){this._lastExternalInputValue=e,this._formControl.setValue(e),this.changeDetectorRef.markForCheck()}onBlur(){this.unselectActiveDescendant(),this.onTouched()}registerOnChange(e){this._formControl.valueChanges.pipe(ji(r=>r!==this._lastExternalInputValue),Jn(()=>this._lastExternalInputValue=void 0),pi(this._onDestroy)).subscribe(e)}registerOnTouched(e){this.onTouched=e}_focus(){if(!this.searchSelectInput||!this.matSelect.panel)return;let e=this.matSelect.panel.nativeElement,r=e.scrollTop;this.searchSelectInput.nativeElement.focus(),e.scrollTop=r}_reset(e){this._formControl.setValue(""),e&&this._focus()}initMultipleHandling(){if(!this.matSelect.ngControl){this.matSelect.multiple&&console.error("the mat-select containing ngx-mat-select-search must have a ngModel or formControl directive when multiple=true");return}this.previousSelectedValues=this.matSelect.ngControl.value,this.matSelect.ngControl.valueChanges&&this.matSelect.ngControl.valueChanges.pipe(pi(this._onDestroy)).subscribe(e=>{let r=!1;if(this.matSelect.multiple&&(this.alwaysRestoreSelectedOptionsMulti||this._formControl.value&&this._formControl.value.length)&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){(!e||!Array.isArray(e))&&(e=[]);let n=this.matSelect.options.map(a=>a.value);this.previousSelectedValues.forEach(a=>{!e.some(s=>this.matSelect.compareWith(s,a))&&!n.some(s=>this.matSelect.compareWith(s,a))&&(this.recreateValuesArray?e=[...e,a]:e.push(a),r=!0)})}this.previousSelectedValues=e,r&&this.matSelect._onChange(e)})}updateInputWidth(){if(!this.innerSelectSearch||!this.innerSelectSearch.nativeElement)return;let e=this.innerSelectSearch.nativeElement,r=null;for(;e&&e.parentElement;)if(e=e.parentElement,e.classList.contains("mat-select-panel")){r=e;break}r&&(this.innerSelectSearch.nativeElement.style.width=r.clientWidth+"px")}getOptionsLengthOffset(){return this.matOption?1:0}unselectActiveDescendant(){this.activeDescendant?.removeAttribute("aria-selected"),this.searchSelectInput.nativeElement.removeAttribute("aria-activedescendant")}static \u0275fac=function(r){return new(r||t)(je(Fl),je(ki),je(Bo),je(ia,8),je(es,8),je(wwe,8))};static \u0275cmp=Ke({type:t,selectors:[["ngx-mat-select-search"]],contentQueries:function(r,n,a){if(r&1&&(Fi(a,bwe,5),Fi(a,Cwe,5)),r&2){let s;yt(s=xt())&&(n.clearIcon=s.first),yt(s=xt())&&(n.noEntriesFound=s.first)}},viewQuery:function(r,n){if(r&1&&(Jt(owe,7,Pt),Jt(lwe,7,Pt)),r&2){let a;yt(a=xt())&&(n.searchSelectInput=a.first),yt(a=xt())&&(n.innerSelectSearch=a.first)}},inputs:{placeholderLabel:"placeholderLabel",type:"type",closeIcon:"closeIcon",closeSvgIcon:"closeSvgIcon",noEntriesFoundLabel:"noEntriesFoundLabel",clearSearchInput:"clearSearchInput",searching:"searching",disableInitialFocus:"disableInitialFocus",enableClearOnEscapePressed:"enableClearOnEscapePressed",preventHomeEndKeyPropagation:"preventHomeEndKeyPropagation",disableScrollToActiveOnOptionsChanged:"disableScrollToActiveOnOptionsChanged",ariaLabel:"ariaLabel",showToggleAllCheckbox:"showToggleAllCheckbox",toggleAllCheckboxChecked:"toggleAllCheckboxChecked",toggleAllCheckboxIndeterminate:"toggleAllCheckboxIndeterminate",toggleAllCheckboxTooltipMessage:"toggleAllCheckboxTooltipMessage",toggleAllCheckboxTooltipPosition:"toggleAllCheckboxTooltipPosition",hideClearSearchButton:"hideClearSearchButton",alwaysRestoreSelectedOptionsMulti:"alwaysRestoreSelectedOptionsMulti",recreateValuesArray:"recreateValuesArray"},outputs:{toggleAll:"toggleAll"},standalone:!1,features:[_i([{provide:_o,useExisting:Kr(()=>t),multi:!0}])],ngContentSelectors:uwe,decls:13,vars:14,consts:[["innerSelectSearch",""],["searchSelectInput",""],["defaultIcon",""],["defaultNoEntriesFound",""],["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner","mat-typography","mat-datepicker-content","mat-tab-header",3,"ngClass"],[1,"mat-select-search-inner-row"],["class","mat-select-search-toggle-all-checkbox","matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change",4,"ngIf"],["autocomplete","off",1,"mat-select-search-input",3,"keydown","keyup","blur","type","formControl","placeholder"],["class","mat-select-search-spinner","diameter","16",4,"ngIf"],["mat-icon-button","","aria-label","Clear","class","mat-select-search-clear",3,"click",4,"ngIf"],["class","mat-select-search-no-entries-found",4,"ngIf"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"change","color","checked","indeterminate","matTooltip","matTooltipPosition"],["diameter","16",1,"mat-select-search-spinner"],["mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[4,"ngIf","ngIfElse"],[3,"svgIcon"],[1,"mat-select-search-no-entries-found"]],template:function(r,n){if(r&1){let a=Ye();zi(cwe),He(0,"input",4),B(1,"div",5,0)(3,"div",6),Te(4,hwe,1,5,"mat-checkbox",7),B(5,"input",8,1),we("keydown",function(o){return Me(a),Ie(n._handleKeydown(o))})("keyup",function(o){return Me(a),Ie(n._handleKeyup(o))})("blur",function(){return Me(a),Ie(n.onBlur())}),U(),Te(7,fwe,1,0,"mat-spinner",9)(8,gwe,4,2,"button",10),$t(9),U(),He(10,"mat-divider"),U(),Te(11,xwe,4,2,"div",11),pr(12,"async")}r&2&&(K(),oe("ngClass",Ty(11,dwe,n.matSelect.multiple,n._isToggleAllCheckboxVisible())),K(3),oe("ngIf",n._isToggleAllCheckboxVisible()),K(),oe("type",n.type)("formControl",n._formControl)("placeholder",n.placeholderLabel),ti("aria-label",n.ariaLabel),K(2),oe("ngIf",n.searching),K(),oe("ngIf",!n.hideClearSearchButton&&n.value&&!n.searching),K(3),oe("ngIf",Da(12,9,n._showNoEntriesFound$)))},dependencies:[Ka,Xi,Vs,_r,ju,Zn,Tf,pn,Ra,zs,zX,Iy],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;z-index:100;font-size:inherit;box-shadow:none;background-color:var(--mat-sys-surface-container, var(--mat-select-panel-background-color, white))}.mat-select-search-inner.mat-select-search-inner-multiple.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]   .mat-select-search-inner-row[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-select-search-input[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;border:none;font-family:inherit;font-size:inherit;color:currentColor;outline:none;background-color:var(--mat-sys-surface-container, var(--mat-select-panel-background-color, white));padding:0 44px 0 16px;height:47px;line-height:47px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-right:16px;padding-left:44px}.mat-select-search-input[_ngcontent-%COMP%]::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-left:5px}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding-top:8px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:4px;top:0}[dir=rtl][_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{right:auto;left:4px}.mat-select-search-spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%]{right:auto;left:16px}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search{position:sticky;top:-8px;z-index:1;opacity:1;margin-top:-8px;pointer-events:all}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search .mat-icon{margin-right:0;margin-left:0}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search mat-pseudo-checkbox{display:none}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search .mdc-list-item__primary-text{opacity:1}.mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:5px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:0;padding-right:5px}"],changeDetection:0})}return t})();var HX=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Dy,YE,Wm,uA,CE,TE,w1,hA]})}return t})();function Twe(t,i){if(t&1&&(B(0,"mat-option"),He(1,"ngx-mat-select-search",4),U()),t&2){let e=pe();K(),oe("formControl",e.searchCtrl)}}function Ewe(t,i){if(t&1&&(B(0,"mat-option",5),J(1),U()),t&2){let e=i.$implicit;oe("value",e),K(),It(" ",e.display," ")}}var fA=(()=>{class t{constructor(e){this.terminologyService=e,this.selectionChange=new Tt,this.options=[],this.filteredOptions=[],this.selectedOptions=[],this.searchCtrl=new ar(""),this.showSearch=!1,this.destroy$=new mt}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").pipe(pi(this.destroy$)).subscribe(e=>{this.options=e.expansion.contains,this.filteredOptions=[...this.options],this.showSearch=this.options.length>5,this.showSearch||this.searchCtrl.disable({emitEvent:!1})}),this.searchCtrl.valueChanges.pipe(Bn(""),si(e=>(e??"").toLowerCase()),pi(this.destroy$)).subscribe(e=>{this.showSearch&&(this.filteredOptions=this.options.filter(r=>r.display.toLowerCase().includes(e)))})}notify(){this.selectionChange.emit(this.selectedOptions)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(r){return new(r||t)(je(An))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-dropdown-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},standalone:!1,decls:8,vars:6,consts:[["appearance","fill"],[3,"ngModelChange","selectionChange","ngModel","multiple"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["placeholderLabel","Search\u2026","noEntriesFoundLabel","No matches found",3,"formControl"],[3,"value"]],template:function(r,n){r&1&&(B(0,"mat-form-field",0)(1,"mat-label"),J(2),U(),B(3,"mat-select",1),Gr("ngModelChange",function(s){return Zr(n.selectedOptions,s)||(n.selectedOptions=s),s}),we("selectionChange",function(){return n.notify()}),Te(4,Twe,2,1,"mat-option",2)(5,Ewe,2,2,"mat-option",3),U(),B(6,"mat-hint"),J(7),U()()),r&2&&(K(2),vt(n.binding.title),K(),Hr("ngModel",n.selectedOptions),oe("multiple",n.binding.type==="Select (Multiple)"),K(),oe("ngIf",n.showSearch),K(),oe("ngForOf",n.filteredOptions),K(2),vt(n.binding.note))},dependencies:[qi,Xi,es,xs,Fd,ia,_r,ju,Fl,ma,UX],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}}return t})();var Awe=["input"],Mwe=["formField"],Iwe=["*"],pA=class{source;value;constructor(i,e){this.source=i,this.value=e}},Dwe={provide:_o,useExisting:Kr(()=>$_),multi:!0},jX=new tt("MatRadioGroup"),Pwe=new tt("mat-radio-default-options",{providedIn:"root",factory:Rwe});function Rwe(){return{color:"accent",disabledInteractive:!1}}var $_=(()=>{class t{_changeDetector=le(ki);_value=null;_name=le(Gn).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new Tt;_radios;color;get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=e,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markRadiosForCheck()}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){let e=this._selected!==null&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(r=>{r.checked=this.value===r.value,r.checked&&(this._selected=r)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new pA(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["mat-radio-group"]],contentQueries:function(r,n,a){if(r&1&&Fi(a,E1,5),r&2){let s;yt(s=xt())&&(n._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",Rt],required:[2,"required","required",Rt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Rt]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[_i([Dwe,{provide:jX,useExisting:t}]),Mi]})}return t})(),E1=(()=>{class t{_elementRef=le(Pt);_changeDetector=le(ki);_focusMonitor=le(ha);_radioDispatcher=le(Xy);_defaultOptions=le(Pwe,{optional:!0});_ngZone=le(ri);_renderer=le(Qn);_uniqueId=le(Gn).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(e){this._color=e}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}_disabledInteractive;change=new Tt;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations;_injector=le(Wi);constructor(){le(gr).load(fa);let e=le(jX,{optional:!0}),r=le(Un,{optional:!0}),n=le(new go("tabindex"),{optional:!0});this.radioGroup=e,this._noopAnimations=r==="NoopAnimations",this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,n&&(this.tabIndex=mr(n,0))}focus(e,r){r?this._focusMonitor.focusVia(this._inputElement,r,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,r)=>{e!==this.id&&r===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new pA(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_onInputClick=e=>{this.disabled&&this.disabledInteractive&&e.preventDefault()};_updateTabIndex(){let e=this.radioGroup,r;if(!e||!e.selected||this.disabled?r=this.tabIndex:r=e.selected===this?this.tabIndex:-1,r!==this._previousTabIndex){let n=this._inputElement?.nativeElement;n&&(n.setAttribute("tabindex",r+""),this._previousTabIndex=r,ls(()=>{queueMicrotask(()=>{e&&e.selected&&e.selected!==this&&document.activeElement===n&&(e.selected?._inputElement.nativeElement.focus(),document.activeElement===n&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-radio-button"]],viewQuery:function(r,n){if(r&1&&(Jt(Awe,5),Jt(Mwe,7,Pt)),r&2){let a;yt(a=xt())&&(n._inputElement=a.first),yt(a=xt())&&(n._rippleTrigger=a.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(r,n){r&1&&we("focus",function(){return n._inputElement.nativeElement.focus()}),r&2&&(ti("id",n.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Ut("mat-primary",n.color==="primary")("mat-accent",n.color==="accent")("mat-warn",n.color==="warn")("mat-mdc-radio-checked",n.checked)("mat-mdc-radio-disabled",n.disabled)("mat-mdc-radio-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",Rt],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:mr(e)],checked:[2,"checked","checked",Rt],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",Rt],required:[2,"required","required",Rt],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Rt]},outputs:{change:"change"},exportAs:["matRadioButton"],features:[Mi],ngContentSelectors:Iwe,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(r,n){if(r&1){let a=Ye();zi(),B(0,"div",2,0)(2,"div",3)(3,"div",4),we("click",function(o){return Me(a),Ie(n._onTouchTargetClick(o))}),U(),B(4,"input",5,1),we("change",function(o){return Me(a),Ie(n._onInputInteraction(o))}),U(),B(6,"div",6),He(7,"div",7)(8,"div",8),U(),B(9,"div",9),He(10,"div",10),U()(),B(11,"label",11),$t(12),U()()}r&2&&(oe("labelPosition",n.labelPosition),K(2),Ut("mdc-radio--disabled",n.disabled),K(2),oe("id",n.inputId)("checked",n.checked)("disabled",n.disabled&&!n.disabledInteractive)("required",n.required),ti("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby)("aria-disabled",n.disabled&&n.disabledInteractive?"true":null),K(5),oe("matRippleTrigger",n._rippleTrigger.nativeElement)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0),K(2),oe("for",n.inputId))},dependencies:[zu,o1],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px);top:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return t})(),WX=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si,Uu,E1,Si]})}return t})();function kwe(t,i){if(t&1){let e=Ye();B(0,"mat-radio-button",3),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.optionSelected(n))}),J(1),U()}if(t&2){let e=i.$implicit;oe("value",e.code),K(),It(" ",e.display," ")}}var mA=(()=>{class t{constructor(e){this.terminologyService=e,this.selectionChange=new Tt}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").subscribe(e=>this.options=e.expansion.contains)}optionSelected(e){this.selectionChange.emit(e)}static{this.\u0275fac=function(r){return new(r||t)(je(An))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-radios-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},standalone:!1,decls:6,vars:3,consts:[["aria-label","Select an option",1,"radio-group"],["class","radio-button",3,"value","click",4,"ngFor","ngForOf"],["id","hint"],[1,"radio-button",3,"click","value"]],template:function(r,n){r&1&&(B(0,"div"),J(1),U(),B(2,"mat-radio-group",0),Te(3,kwe,2,2,"mat-radio-button",1),U(),B(4,"div",2),J(5),U()),r&2&&(K(),vt(n.binding.title),K(2),oe("ngForOf",n.options),K(2),vt(n.binding.note))},dependencies:[qi,$_,E1],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.radio-button[_ngcontent-%COMP%]{margin:0}"]})}}return t})();var gA=(()=>{class t{constructor(e){this.terminologyService=e,this.textChange=new Tt,this.text=""}ngOnInit(){}onTextChange(e){this.text=e,this.textChange.emit(e)}static{this.\u0275fac=function(r){return new(r||t)(je(An))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-textbox-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},standalone:!1,decls:6,vars:3,consts:[[1,"example-full-width"],["matInput","","placeholder","Enter text...",3,"ngModelChange","ngModel"]],template:function(r,n){r&1&&(B(0,"mat-form-field",0)(1,"mat-label"),J(2),U(),B(3,"textarea",1),Gr("ngModelChange",function(s){return Zr(n.text,s)||(n.text=s),s}),we("ngModelChange",function(s){return n.onTextChange(s)}),U(),B(4,"mat-hint"),J(5),U()()),r&2&&(K(2),vt(n.binding.title),K(),Hr("ngModel",n.text),K(2),vt(n.binding.note))},dependencies:[es,xs,Fd,zo,Vs,_r,ma],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}}return t})();function Fwe(t,i){if(t&1){let e=Ye();B(0,"mat-checkbox",3),we("click",function(){Me(e);let n=pe();return Ie(n.optionClicked())}),J(1),U()}if(t&2){let e=i.$implicit;Fo("formControlName",e.display),K(),It(" ",e.display," ")}}var vA=(()=>{class t{constructor(e,r){this.terminologyService=e,this._formBuilder=r,this.selectionChange=new Tt,this.checkboxes=this._formBuilder.group([]),this.present={display:"Known present (qualifier value)",system:"http://snomed.info/sct",code:"410515003"},this.absent={display:"Known absent (qualifier value)",system:"http://snomed.info/sct",code:"410516002"}}ngOnInit(){this.options=[{display:this.binding.title}],this.options?.forEach(e=>{this.checkboxes.addControl(e.display,this._formBuilder.control(!1))})}optionClicked(){let e=[];e.push({title:this.binding.title,code:this.binding.ecl,value:this.checkboxes.value[this.binding.title]?this.present:this.absent}),this.selectionChange.emit(e)}static{this.\u0275fac=function(r){return new(r||t)(je(An),je(Jm))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-checkbox-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},standalone:!1,decls:4,vars:3,consts:[[1,"check-group",3,"formGroup"],["class","check","labelPosition","before",3,"formControlName","click",4,"ngFor","ngForOf"],[1,"hint"],["labelPosition","before",1,"check",3,"click","formControlName"]],template:function(r,n){r&1&&(B(0,"form",0),Te(1,Fwe,2,2,"mat-checkbox",1),B(2,"span",2),J(3),U()()),r&2&&(oe("formGroup",n.checkboxes),K(),oe("ngForOf",n.options),K(2),vt(n.binding.note))},dependencies:[qi,bf,_r,kd,Sc,Rp,Tf],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.check-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.check[_ngcontent-%COMP%]{margin:0}.hint[_ngcontent-%COMP%]{font-size:.8rem;color:#999;padding:0;margin:0 0 0 5px}"]})}}return t})();var yA=(()=>{class t{constructor(e){this.terminologyService=e,this.textChange=new Tt,this.value=0}ngOnInit(){}onValueChange(e){this.value=e,this.textChange.emit(e)}static{this.\u0275fac=function(r){return new(r||t)(je(An))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-integer-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},standalone:!1,decls:6,vars:3,consts:[[1,"example-full-width"],["matInput","","type","number","placeholder","Enter integer value...","pattern","^-?[0-9]\\d*$","title","Only integer values are allowed",3,"ngModelChange","ngModel"]],template:function(r,n){r&1&&(B(0,"mat-form-field",0)(1,"mat-label"),J(2),U(),B(3,"input",1),Gr("ngModelChange",function(s){return Zr(n.value,s)||(n.value=s),s}),we("ngModelChange",function(s){return n.onValueChange(s)}),U(),B(4,"mat-hint"),J(5),U()()),r&2&&(K(2),vt(n.binding.title),K(),Hr("ngModel",n.value),K(2),vt(n.binding.note))},dependencies:[es,xs,Fd,zo,Vs,z_,_r,A4,ma],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}}return t})();function Owe(t,i){if(t&1&&(B(0,"div"),J(1),U()),t&2){let e=pe();K(),vt(e.binding.unit==null?null:e.binding.unit.display)}}var xA=(()=>{class t{constructor(e){this.terminologyService=e,this.textChange=new Tt,this.value=0}ngOnInit(){}onValueChange(e){this.value=e,this.textChange.emit(e)}static{this.\u0275fac=function(r){return new(r||t)(je(An))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-decimal-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},standalone:!1,decls:5,vars:3,consts:[[1,"row-container"],["type","number","step","any",1,"no-spinner","decimal-input",3,"ngModelChange","ngModel"],[4,"ngIf"]],template:function(r,n){r&1&&(B(0,"div",0)(1,"div"),J(2),U(),B(3,"input",1),Gr("ngModelChange",function(s){return Zr(n.value,s)||(n.value=s),s}),we("ngModelChange",function(s){return n.onValueChange(s)}),U(),Te(4,Owe,2,1,"div",2),U()),r&2&&(K(2),vt(n.binding.title),K(),Hr("ngModel",n.value),K(),oe("ngIf",n.binding.unit==null?null:n.binding.unit.display))},dependencies:[Xi,Vs,z_,_r,ma],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}.no-spinner[_ngcontent-%COMP%]::-webkit-inner-spin-button, .no-spinner[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:10px}.decimal-input[_ngcontent-%COMP%]{width:5rem;border:#ccc solid 1px;text-align:right;padding-right:5px}"]})}}return t})();function Lwe(t,i){if(t&1){let e=Ye();B(0,"mat-checkbox",3),we("click",function(){Me(e);let n=pe();return Ie(n.optionClicked())}),J(1),U()}if(t&2){let e=i.$implicit;Fo("formControlName",e.display),K(),It(" ",e.display," ")}}var bA=(()=>{class t{constructor(e,r){this.terminologyService=e,this._formBuilder=r,this.selectionChange=new Tt,this.checkboxes=this._formBuilder.group([]),this.present={display:"Known present (qualifier value)",system:"http://snomed.info/sct",code:"410515003"},this.absent={display:"Known absent (qualifier value)",system:"http://snomed.info/sct",code:"410516002"}}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").subscribe(e=>{this.options=e.expansion.contains,this.options?.forEach(r=>{this.checkboxes.addControl(r.display,this._formBuilder.control(!1))})})}optionClicked(){let e=[];this.options?.forEach(r=>{e.push({code:r,value:this.checkboxes.value[r.display]?this.present:this.absent})}),this.selectionChange.emit(e)}static{this.\u0275fac=function(r){return new(r||t)(je(An),je(Jm))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-checkbox-multiple-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},standalone:!1,decls:6,vars:4,consts:[[1,"check-group",3,"formGroup"],["class","check","labelPosition","after",3,"formControlName","click",4,"ngFor","ngForOf"],[1,"hint"],["labelPosition","after",1,"check",3,"click","formControlName"]],template:function(r,n){r&1&&(B(0,"div"),J(1),U(),B(2,"form",0),Te(3,Lwe,2,2,"mat-checkbox",1),B(4,"span",2),J(5),U()()),r&2&&(K(),vt(n.binding.title),K(),oe("formGroup",n.checkboxes),K(),oe("ngForOf",n.options),K(2),vt(n.binding.note))},dependencies:[qi,bf,_r,kd,Sc,Rp,Tf],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.check-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.check[_ngcontent-%COMP%]{margin:0}.hint[_ngcontent-%COMP%]{font-size:.8rem;color:#999;padding:0;margin:0 0 0 5px}"]})}}return t})();var Nwe=["newPanel"],Bwe=()=>({standalone:!0}),Vwe=t=>({"border-question":t}),zwe=()=>[],sF=()=>({});function Uwe(t,i){t&1&&(B(0,"mat-panel-description"),J(1," Click to add new binding "),U())}function Hwe(t,i){if(t&1){let e=Ye();B(0,"button",48),we("click",function(){let n;Me(e);let a=pe();return Ie((n=a.newBindingForm.get("title"))==null?null:n.reset())}),B(1,"mat-icon"),J(2,"close"),U()()}}function Gwe(t,i){t&1&&(B(0,"span"),J(1,"Restrict to Observables"),U())}function jwe(t,i){t&1&&(B(0,"span"),J(1,"Open to Observables + Findings + Procedures + Situations"),U())}function Wwe(t,i){if(t&1&&(B(0,"mat-option",49),J(1),U()),t&2){let e=i.$implicit;oe("value",e),K(),It(" ",e," ")}}function Xwe(t,i){if(t&1){let e=Ye();B(0,"button",48),we("click",function(){let n;Me(e);let a=pe(2);return Ie((n=a.newBindingForm.get("ecl"))==null?null:n.reset())}),B(1,"mat-icon"),J(2,"close"),U()()}}function Ywe(t,i){if(t&1){let e=Ye();B(0,"mat-form-field",14)(1,"mat-label"),J(2,"Answer options: ECL Expression"),U(),He(3,"input",50),B(4,"a",51),we("click",function(){let n;Me(e);let a=pe();return Ie(a.openEclBuilder((n=a.newBindingForm.get("ecl"))==null?null:n.value,"ecl"))}),J(5,"ECL Builder"),U(),Te(6,Xwe,3,0,"button",16),B(7,"mat-error"),J(8),U()()}if(t&2){let e,r=pe();K(6),oe("ngIf",(e=r.newBindingForm.get("ecl"))==null?null:e.value),K(2),vt(r.getErrorMessage("ecl"))}}function $we(t,i){if(t&1&&(B(0,"mat-form-field",17),He(1,"app-autocomplete-binding",52),U()),t&2){let e=pe();K(),oe("binding",e.unitsBinding)}}function Qwe(t,i){t&1&&(B(0,"div",53)(1,"mat-slide-toggle",54),J(2," Allow Repeating "),U()())}function Kwe(t,i){t&1&&(B(0,"span"),J(1,"Restrict to Observables"),U())}function Zwe(t,i){t&1&&(B(0,"span"),J(1,"Open to Observables + Findings + Procedures"),U())}function Jwe(t,i){if(t&1){let e=Ye();B(0,"mat-form-field",14),He(1,"app-autocomplete-binding",55),B(2,"a",19),we("click",function(){Me(e);let n=pe();return Ie(n.toggleCheckboxBinding())}),Te(3,Kwe,2,0,"span",10)(4,Zwe,2,0,"span",10),U(),B(5,"mat-error"),J(6),U()()}if(t&2){let e=pe();K(),oe("binding",e.checkboxBinding),K(2),oe("ngIf",e.checkboxBinding.ecl===e.codeBindingAll.ecl),K(),oe("ngIf",e.checkboxBinding.ecl!=e.codeBindingAll.ecl),K(2),vt(e.getErrorMessage("ecl"))}}function qwe(t,i){if(t&1){let e=Ye();B(0,"button",48),we("click",function(){let n;Me(e);let a=pe(2);return Ie((n=a.newBindingForm.get("note"))==null?null:n.reset())}),B(1,"mat-icon"),J(2,"close"),U()()}}function e2e(t,i){if(t&1&&(B(0,"mat-form-field",56)(1,"mat-label"),J(2,"Note"),U(),He(3,"input",57),Te(4,qwe,3,0,"button",16),B(5,"mat-error"),J(6),U()()),t&2){let e,r=pe();K(4),oe("ngIf",(e=r.newBindingForm.get("note"))==null?null:e.value),K(2),vt(r.getErrorMessage("note"))}}function t2e(t,i){if(t&1){let e=Ye();B(0,"button",29),we("click",function(){Me(e);let n=pe();return Ie(n.addBinding())}),J(1,"Add binding"),U()}}function i2e(t,i){if(t&1){let e=Ye();B(0,"button",29),we("click",function(){Me(e);let n=pe();return n.addBinding(),Ie(n.clearOutput())}),J(1,"Update binding"),U()}}function n2e(t,i){if(t&1){let e=Ye();B(0,"button",37),we("click",function(){Me(e);let n=pe();return Ie(n.showRightContainer=!n.showRightContainer)}),J(1),U()}if(t&2){let e=pe();K(),It(" ",e.showRightContainer?"Close data panel":"Open data panel"," ")}}function r2e(t,i){if(t&1&&(B(0,"button",58),J(1," Download form "),U()),t&2){pe();let e=hi(71);oe("matMenuTriggerFor",e)}}function s2e(t,i){if(t&1){let e=Ye();B(0,"div",59)(1,"p",60),J(2),U(),B(3,"button",61),we("click",function(){Me(e);let n=pe();return Ie(n.titleEditMode=!0)}),B(4,"mat-icon"),J(5,"edit"),U()()()}if(t&2){let e=pe();K(2),vt(e.formTitle)}}function a2e(t,i){if(t&1){let e=Ye();B(0,"div",59)(1,"form",62)(2,"mat-form-field")(3,"mat-label"),J(4,"Title"),U(),B(5,"input",63),Gr("ngModelChange",function(n){Me(e);let a=pe();return Zr(a.formTitle,n)||(a.formTitle=n),Ie(n)}),we("ngModelChange",function(){Me(e);let n=pe();return Ie(n.refreshFhirQuestionnaire())}),U(),B(6,"button",48),we("click",function(){Me(e);let n=pe();return Ie(n.formTitle="")}),B(7,"mat-icon"),J(8,"close"),U()()()(),B(9,"button",61),we("click",function(){Me(e);let n=pe();return Ie(n.titleEditMode=!1)}),B(10,"mat-icon"),J(11,"save"),U()()()}if(t&2){let e=pe();K(5),Hr("ngModel",e.formTitle),oe("ngModelOptions",Or(2,Bwe))}}function o2e(t,i){if(t&1){let e=Ye();B(0,"app-autocomplete-binding",78),we("selectionChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function l2e(t,i){if(t&1){let e=Ye();B(0,"app-dropdown-binding",78),we("selectionChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function c2e(t,i){if(t&1){let e=Ye();B(0,"app-radios-binding",78),we("selectionChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function u2e(t,i){if(t&1&&(B(0,"span",79),J(1),U()),t&2){let e=pe(2).$implicit;K(),vt(e.title)}}function d2e(t,i){if(t&1){let e=Ye();B(0,"app-textbox-binding",80),we("textChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function h2e(t,i){if(t&1){let e=Ye();B(0,"app-integer-binding",80),we("textChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function f2e(t,i){if(t&1){let e=Ye();B(0,"app-decimal-binding",80),we("textChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function p2e(t,i){if(t&1){let e=Ye();B(0,"app-checkbox-binding",78),we("selectionChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function m2e(t,i){if(t&1){let e=Ye();B(0,"app-checkbox-multiple-binding",78),we("selectionChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function g2e(t,i){if(t&1&&(B(0,"button",81)(1,"mat-icon"),J(2,"info"),U()()),t&2){pe();let e=hi(15),r=pe().$implicit;oe("matMenuTriggerFor",e)("disabled",!r.code&&!r.ecl)}}function v2e(t,i){if(t&1){let e=Ye();B(0,"span",6),we("click",function(n){return Me(e),Ie(n.stopPropagation())}),B(1,"h4",82),J(2,"Question terminology binding"),U(),B(3,"pre"),J(4),U()()}if(t&2){let e=pe(2).$implicit;oe("disableRipple",!0),K(4),Dr("",e.code==null?null:e.code.code," |",e.code==null?null:e.code.display,"|")}}function y2e(t,i){if(t&1){let e=Ye();B(0,"span",6),we("click",function(n){return Me(e),Ie(n.stopPropagation())}),B(1,"h4",82),J(2,"Answer terminology binding"),U(),B(3,"pre"),J(4),U()()}if(t&2){let e=pe(2).$implicit;oe("disableRipple",!0),K(4),vt(e.ecl)}}function x2e(t,i){if(t&1){let e=Ye();B(0,"span",6),we("click",function(n){return Me(e),Ie(n.stopPropagation())}),B(1,"h4",82),J(2,"Unit binding"),U(),B(3,"pre"),J(4),U()()}if(t&2){let e=pe(2).$implicit;oe("disableRipple",!0),K(4),Dr("",e.unit.code," |",e.unit.display,"|")}}function b2e(t,i){if(t&1){let e=Ye();B(0,"button",83),we("click",function(){Me(e);let n=pe(2).index,a=pe();return Ie(a.bindings.splice(n,1))}),B(1,"mat-icon"),J(2,"delete"),U()()}}function _2e(t,i){if(t&1){let e=Ye();B(0,"button",84),we("click",function(){Me(e);let n=pe(2).index,a=pe();return Ie(a.edit(n))}),B(1,"mat-icon"),J(2,"edit"),U()()}}function w2e(t,i){if(t&1){let e=Ye();B(0,"button",85),we("click",function(){Me(e);let n=pe(2).$implicit,a=pe();return Ie(a.addRepetition(n))}),B(1,"mat-icon"),J(2,"add"),U()()}}function C2e(t,i){if(t&1){let e=Ye();B(0,"button",86),we("click",function(){Me(e);let n=pe(2).$implicit,a=pe();return Ie(a.removeRepetition(n))}),B(1,"mat-icon"),J(2,"remove"),U()()}}function S2e(t,i){if(t&1&&(B(0,"div",66)(1,"mat-icon",67),J(2,"drag_indicator"),U(),Te(3,o2e,1,1,"app-autocomplete-binding",68)(4,l2e,1,1,"app-dropdown-binding",68)(5,c2e,1,1,"app-radios-binding",68)(6,u2e,2,1,"span",69)(7,d2e,1,1,"app-textbox-binding",70)(8,h2e,1,1,"app-integer-binding",70)(9,f2e,1,1,"app-decimal-binding",70)(10,p2e,1,1,"app-checkbox-binding",68)(11,m2e,1,1,"app-checkbox-multiple-binding",68),B(12,"div",71),Te(13,g2e,3,2,"button",72),B(14,"mat-menu",null,0),Te(16,v2e,5,3,"span",73)(17,y2e,5,2,"span",73)(18,x2e,5,3,"span",73),U(),Te(19,b2e,3,0,"button",74)(20,_2e,3,0,"button",75)(21,w2e,3,0,"button",76)(22,C2e,3,0,"button",77),U()()),t&2){let e=i.index,r=pe().$implicit;K(3),oe("ngIf",r.type=="Autocomplete"),K(),oe("ngIf",r.type=="Select (Single)"||r.type=="Select (Multiple)"),K(),oe("ngIf",r.type=="Options"),K(),oe("ngIf",r.type=="Section header"),K(),oe("ngIf",r.type=="Text box"),K(),oe("ngIf",r.type=="Integer"),K(),oe("ngIf",r.type=="Decimal"),K(),oe("ngIf",r.type=="Checkbox"),K(),oe("ngIf",r.type=="Checkbox multiple"),K(2),oe("ngIf",r.type!="Section header"&&e==0),K(3),oe("ngIf",r.code),K(),oe("ngIf",r.ecl),K(),oe("ngIf",r.unit),K(),oe("ngIf",e==0),K(),oe("ngIf",e==0),K(),oe("ngIf",e===r.count-1&&r.repeatable),K(),oe("ngIf",e===r.count-1&&r.count>1)}}function T2e(t,i){if(t&1&&(B(0,"div",64),Te(1,S2e,23,17,"div",65),U()),t&2){let e=i.$implicit;oe("ngClass",Ia(2,Vwe,e.count>1)),K(),oe("ngForOf",Or(4,zwe).constructor(e.count))}}function E2e(t,i){if(t&1){let e=Ye();B(0,"div",90)(1,"button",91),we("click",function(){Me(e);let n=pe(2);return Ie(n.saveOutput(n.outputStr))}),He(2,"mat-icon",92),U(),B(3,"button",93),we("click",function(){Me(e);let n=pe(2);return Ie(n.copyOutputToClipboard(n.outputStr))}),He(4,"mat-icon",94),U()()}}function A2e(t,i){if(t&1&&(B(0,"div",87),Te(1,E2e,5,0,"div",88),B(2,"textarea",89),J(3,"                        "),U()()),t&2){let e=pe();K(),oe("ngIf",e.showRightContainer),K(),oe("options",Or(4,sF))("lang","json")("innerHTML",e.responseStr,Yc)}}function M2e(t,i){if(t&1){let e=Ye();B(0,"div",90)(1,"button",91),we("click",function(){Me(e);let n=pe(2);return Ie(n.saveBundleOutput(n.responseBundleStr))}),He(2,"mat-icon",92),U(),B(3,"button",93),we("click",function(){Me(e);let n=pe(2);return Ie(n.copyOutputToClipboard(n.responseBundleStr))}),He(4,"mat-icon",94),U()()}}function I2e(t,i){if(t&1&&(B(0,"div",87),Te(1,M2e,5,0,"div",88),B(2,"textarea",89),J(3,"                        "),U()()),t&2){let e=pe();K(),oe("ngIf",e.showRightContainer),K(),oe("options",Or(4,sF))("lang","json")("innerHTML",e.responseBundleStr,Yc)}}function D2e(t,i){if(t&1){let e=Ye();B(0,"div",90)(1,"button",91),we("click",function(){Me(e);let n=pe(2);return Ie(n.saveFhirQuestionnaire(n.fhirQuestionnaireStr))}),He(2,"mat-icon",92),U(),B(3,"button",93),we("click",function(){Me(e);let n=pe(2);return Ie(n.copyOutputToClipboard(n.fhirQuestionnaireStr))}),He(4,"mat-icon",94),U()()}}function P2e(t,i){if(t&1&&(B(0,"div",87),Te(1,D2e,5,0,"div",88),B(2,"textarea",89),J(3,"                        "),U()()),t&2){let e=pe();K(),oe("ngIf",e.showRightContainer),K(),oe("options",Or(4,sF))("lang","json")("innerHTML",e.fhirQuestionnaireStr,Yc)}}var qX=(()=>{class t{constructor(e,r,n){this.terminologyService=e,this.clipboard=r,this.dialog=n,this.formTitle="My new form",this.titleEditMode=!1,this.bindings=[],this.output={},this.outputStr="{}",this.response={},this.responseStr="{}",this.responseBundle={},this.responseBundleStr="{}",this.fhirQuestionnaire={},this.fhirQuestionnaireStr="{}",this.observableBinding={title:"Question code",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)|",value:""},this.codeBindingObservables={title:"Question code (Observables)",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)|",value:""},this.codeBindingAll={title:"Question code",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)| OR << 404684003 |Clinical finding (finding)| OR << 71388002 |Procedure (procedure)| OR << 243796009 |Situation with explicit context (situation)|",value:""},this.codeBinding=this.codeBindingAll,this.unitsBinding={title:"Units",type:"Autocomplete",ecl:"<< 767524001 |Unit of measure (qualifier value)|",value:""},this.checkboxBinding=JSON.parse(JSON.stringify(this.codeBindingAll)),this.example1={title:"Appendicitis data entry form (example)",bindings:[{title:"Diagnosis (type of appendicitis)",type:"Autocomplete",ecl:"<< 74400008 |Appendicitis|",value:"",note:"An autocomplete field to select between all descendants of appendicitis.",repeatable:!1,count:1},{title:"Clinical note",type:"Text box",ecl:"74400008 |Appendicitis|",value:"",note:"A text box for entering free text clinical information.",repeatable:!1,count:1},{title:"Appendicitis type",type:"Select (Single)",ecl:"<< 196781001 |Acute appendicitis with peritonitis (disorder)|",value:"",note:"A single selection dropdown field for a shorter selection of the type of appendicitis.",repeatable:!1,count:1},{title:"Appendicitis type (M)",type:"Select (Multiple)",ecl:"<< 196781001 |Acute appendicitis with peritonitis (disorder)|",value:"",note:"A multiple selection dropdown field for a shorter selection of the type of appendicitis.",repeatable:!1,count:1},{title:"Appendicectomy type",type:"Options",ecl:"<< 174036004 |Emergency appendectomy (procedure)|",value:"",note:"A radio buttons selector for the type of appendicectomy procedure.",repeatable:!1,count:1}]},this.newBindingForm=new Zm({title:new ar("",[dl.required,dl.maxLength(50)]),code:new ar("",[]),type:new ar("",[dl.required]),ecl:new ar("",[]),value:new ar("",[]),unit:new ar("",[]),note:new ar("",[dl.maxLength(500)]),repeatable:new ar(!1,[])}),this.indexInEdit=-1,this.panelOpenState=!1,this.maxSelectCount=50,this.maxOptionsCount=10,this.controlTypes=["Autocomplete","Select (Single)","Select (Multiple)","Options","Section header","Text box","Integer","Decimal","Checkbox","Checkbox multiple"].sort((a,s)=>a.localeCompare(s)),this.showRightContainer=!1}ngOnInit(){this.checkboxBinding.title=this.checkboxBinding.title.replace("Question","Checkbox")}get stateName(){return this.showRightContainer?"open":"closed"}addBinding(){return Mt(this,null,function*(){if(this.newBindingForm.markAllAsTouched(),this.newBindingForm.invalid)return;let{title:e,code:r,type:n,ecl:a,value:s,unit:o,note:u,repeatable:l}=this.newBindingForm.controls,c={title:e.value,code:r.value,type:n.value,ecl:a.value,value:s.value,unit:o.value,note:u.value,repeatable:l.value,count:1},h=!1;a.value?typeof c.type?.indexOf("Select")<"u"&&c.type?.indexOf("Select")>-1?(yield this.getEclPreview(a.value)).expansion.contains.length>this.maxSelectCount&&(h=!0,a.setErrors({selectTooManyResults:!0})):(typeof c.type?.indexOf("Options")<"u"&&c.type?.indexOf("Options")>-1||typeof c.type?.indexOf("Checkbox multiple")<"u"&&c.type?.indexOf("Checkbox multiple")>-1)&&(yield this.getEclPreview(a.value)).expansion.contains.length>this.maxOptionsCount&&(h=!0,a.setErrors({optionsTooManyResults:!0})):c.type!="Section header"&&c.type!="Text box"&&c.type!="Integer"&&c.type!="Decimal"&&(h=!0,a.setErrors({required:!0})),!h&&(this.indexInEdit>-1?this.bindings[this.indexInEdit]=c:this.bindings.push(c),this.newBindingForm.reset(),this.newPanel.close(),this.indexInEdit=-1,setTimeout(()=>{this.refreshFhirQuestionnaire(),this.refreshResponse()},100))})}refreshFhirQuestionnaire(){this.fhirQuestionnaire={resourceType:"Questionnaire",title:this.formTitle,status:"draft",item:[]},this.bindings.forEach((e,r)=>{let n=this.createItemForBinding(e,r);n&&this.fhirQuestionnaire.item.push(n)}),this.fhirQuestionnaireStr=JSON.stringify(this.fhirQuestionnaire,null,2)}createItemForBinding(e,r){let n=this.initializeBaseItem(e,r);return n.extension=[],["Select (Single)","Select (Multiple)","Options","Autocomplete"].includes(e.type)&&(n.extension=this.getExtensionForSelectableTypes(),n.answerValueSet=this.getAnswerValueSet(e)),e.type==="Autocomplete"&&n.extension.push(this.getAutocompleteExtension()),(e.type==="Select (Multiple)"||e.repeatable)&&(n.repeats=!0),e.type==="Decimal"&&e.unit&&n.extension.push({url:"http://hl7.org/fhir/StructureDefinition/questionnaire-unit",valueCoding:{system:e.unit.system,code:e.unit.code,display:e.unit.display}}),n}initializeBaseItem(e,r){let n={linkId:(r+1).toString(),text:e.title,type:this.getQuestionnaireItemType(e.type)};return e.code&&(n.code=[{system:"http://snomed.info/sct",code:e.code.code,display:e.code.display}]),n}getQuestionnaireItemType(e){switch(e){case"Section header":return"display";case"Select (Single)":case"Select (Multiple)":case"Options":case"Checkbox multiple":case"Autocomplete":return"choice";case"Text box":return"text";case"Integer":return"integer";case"Decimal":return"decimal";default:return console.warn(`Unhandled binding type: ${e}`),null}}getExtensionForSelectableTypes(){return[{url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-preferredTerminologyServer",valueUrl:"https://snowstorm.ihtsdotools.org/fhir"}]}getAutocompleteExtension(){return{url:"http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",valueCodeableConcept:{coding:[{system:"http://hl7.org/fhir/questionnaire-item-control",code:"autocomplete",display:"Auto-complete"}]}}}getAnswerValueSet(e){return`http://snomed.info/sct/900000000000207008?fhir_vs=ecl%2F${encodeURIComponent(e.ecl)}`}getEclPreview(e){return Mt(this,null,function*(){let r=yield this.terminologyService.expandValueSet(e,"");return Ir(r.pipe(si(n=>n)))})}edit(e){this.indexInEdit=e;let r=this.bindings[e];this.newBindingForm.setValue({title:r.title,code:r.code?r.code:"",type:r.type,ecl:r.ecl,value:r.value,unit:r.unit?r.unit:null,note:r.note,repeatable:r.repeatable}),this.newPanel.open()}onDrop(e){e0(this.bindings,e.previousIndex,e.currentIndex)}getErrors(e){let r=this.newBindingForm.get(e);return r?r.errors:null}getErrorMessage(e){let r=this.getErrors(e);if(r){if(r.required)return"This field is required";if(r.maxlength)return`This field must be less than ${r.maxlength.requiredLength} characters`;if(r.selectTooManyResults)return`Too many results (Max = ${this.maxSelectCount})`;if(r.optionsTooManyResults)return`Too many results (Max = ${this.maxOptionsCount})`}return null}refreshResponse(){this.response={};for(let e of this.bindings)this.response[e.title]={},e.code&&(this.response[e.title].code=e.code),e.unit&&(this.response[e.title].unit=e.unit);for(let[e,r]of Object.entries(this.output))this.output[e].code&&(this.response[e].code=this.output[e].code),this.output[e].value&&(this.response[e].value=this.output[e].value);this.responseStr=JSON.stringify(this.response,null,2),this.refreshResponseBundle()}refreshResponseBundle(){this.responseBundle={resourceType:"Bundle",type:"collection",entry:[]};for(let[e,r]of Object.entries(this.response)){let n=r,a=n.code?{coding:[{system:"http://snomed.info/sct",code:n.code.code,display:n.code.display}]}:void 0,s=n.value?.code?{coding:[{system:"http://snomed.info/sct",code:n.value.code,display:n.value.display}]}:void 0,o=n.unit?{coding:[{system:"http://snomed.info/sct",code:n.unit.code,display:n.unit.display}]}:void 0,u={resourceType:"Observation",status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"survey",display:"Survey"}]}],subject:{reference:"Patient/123"}};a?u.code=a:u.code={coding:[{system:"http://snomed.info/sct",code:"363788007",display:"Clinical history/examination observable (observable entity)"}]},s&&(u.valueCodeableConcept=s),n.value&&typeof n.value=="string"&&(u.valueString=n.value),o&&(u.valueQuantity={value:n.value,unit:o.coding[0].display,system:o.coding[0].system,code:o.coding[0].code}),(u.valueCodeableConcept||u.valueString||u.valueQuantity)&&this.responseBundle.entry.push(u)}this.responseBundleStr=JSON.stringify(this.responseBundle,null,2)}optionSelected(e,r,n){this.output[e]={code:r,value:n},r||delete this.output[e].code,this.outputStr=JSON.stringify(this.output,null,2),this.refreshResponse()}addRepetition(e){e.count++}removeRepetition(e){e.count--}loadExample1(){this.formTitle=this.example1.title,this.bindings=this.example1.bindings,this.refreshFhirQuestionnaire(),this.clearOutput(),this.refreshResponse()}cancelEdit(){this.newBindingForm.reset(),this.newPanel.close(),this.indexInEdit=-1}clear(){this.bindings=[],this.clearOutput(),this.newBindingForm.reset(),this.formTitle="My new form",this.showRightContainer=!1}clearOutput(){this.output={},this.outputStr="{}";let e=JSON.parse(JSON.stringify(this.bindings));this.bindings=[],this.bindings=e}saveForm(){this.bindings.forEach(r=>{r.count=1});var e=new Blob([JSON.stringify({title:this.formTitle,bindings:this.bindings},null,2)],{type:"text/plain;charset=utf-8"});(0,Q_.saveAs)(e,`${this.formTitle}.json`)}saveOutput(e){var r=new Blob([e],{type:"text/plain;charset=utf-8"});(0,Q_.saveAs)(r,`${this.formTitle}-data.json`)}saveFhirQuestionnaire(e){var r=new Blob([e],{type:"text/plain;charset=utf-8"});(0,Q_.saveAs)(r,`${this.formTitle}-fhir-questionnaire.json`)}saveBundleOutput(e){var r=new Blob([e],{type:"text/plain;charset=utf-8"});(0,Q_.saveAs)(r,`${this.formTitle}-fhir-bundle.json`)}copyOutputToClipboard(e){this.clipboard.copy(e)}uploadFile(e){if(e.target.files.length!==1)console.error("No file selected");else{let r=new FileReader;r.onloadend=n=>{if(r.result){let a=JSON.parse(r.result?.toString());Array.isArray(a)?(this.bindings=a,this.formTitle="My new form"):(this.bindings=[],this.bindings=a.bindings,this.bindings.forEach(s=>{s.count=1}),this.formTitle=a.title),this.bindings.forEach(s=>{s.repeatable||(s.repeatable=!1),s.count||(s.count=1)}),this.clearOutput(),this.refreshResponse(),this.refreshFhirQuestionnaire()}},r.readAsText(e.target.files[0])}}openEclBuilder(e,r){this.dialog.open(AX,{data:{ecl:e},width:"80%",height:"80%"}).afterClosed().subscribe(a=>{if(a){let s=this.newBindingForm.get(r);s&&s.setValue(a.ecl)}})}toggleCodeBinding(){this.codeBinding=this.codeBinding===this.codeBindingAll?this.codeBindingObservables:this.codeBindingAll}toggleCheckboxBinding(){this.checkboxBinding=this.checkboxBinding.ecl===this.codeBindingAll.ecl?JSON.parse(JSON.stringify(this.codeBindingObservables)):JSON.parse(JSON.stringify(this.codeBindingAll)),this.checkboxBinding.title=this.checkboxBinding.title.replace("Question","Checkbox")}static{this.\u0275fac=function(r){return new(r||t)(je(An),je(wf),je(Yu))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-bindings-sandbox"]],viewQuery:function(r,n){if(r&1&&Jt(Nwe,5),r&2){let a;yt(a=xt())&&(n.newPanel=a.first)}},standalone:!1,decls:96,vars:29,consts:[["substancePopoverMenu","matMenu"],["newPanel",""],["fileInput",""],["demosMenu","matMenu"],["id","main-panel"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click","disableRipple"],[1,"flex","flex-row","mb-8"],[1,"w-2/3"],[1,"editPanel","w-full","pt-4","pb-4",3,"opened","closed"],[4,"ngIf"],[1,"row",3,"formGroup"],[1,"form-row"],[1,"form-column"],[1,"input-field"],["matInput","","type","text","formControlName","title","placeholder","Enter title..."],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"input-field","autocomplete-field"],["formControlName","code",1,"grow",3,"binding"],["href","javascript:void(0)",1,"bottom-right-link",3,"click"],["formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["class","input-field",4,"ngIf"],["class","input-field autocomplete-field",4,"ngIf"],["class","text-center",4,"ngIf"],["class","input-field full-width",4,"ngIf"],[1,"row"],[1,"grow"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],[1,"w-1/3"],[1,"flex","flex-row","gap-4","justify-end","flex-wrap"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["hidden","","type","file","id","file",3,"change"],["mat-flat-button","","color","accent",3,"matMenuTriggerFor",4,"ngIf"],[1,"wide-menu"],["mat-menu-item","",3,"click"],["mat-flat-button","","color","accent",3,"click"],["class","compact-row-container",4,"ngIf"],[1,"row-container"],[1,"row-container-item"],["cdkDropList","",3,"cdkDropListDropped"],["class","output-panel","cdkDrag","",3,"ngClass",4,"ngFor","ngForOf"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Data collected from form"],["class","output",4,"ngIf"],["label","Data collected (FHIR Bundle)"],["label","FHIR Questionnaire"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],["matInput","","type","text","formControlName","ecl","placeholder","Enter ECL..."],["href","javascript:void(0)",1,"top-right-link",3,"click"],["formControlName","unit",1,"grow",3,"binding"],[1,"text-center"],["formControlName","repeatable"],["formControlName","ecl",1,"grow",3,"binding"],[1,"input-field","full-width"],["matInput","","type","text","formControlName","note","placeholder","Enter a description..."],["mat-flat-button","","color","accent",3,"matMenuTriggerFor"],[1,"compact-row-container"],[1,"title"],["mat-icon-button","","color","primary",1,"tool",3,"click"],[1,"row","form-title"],["matInput","","type","text","placeholder","Enter title...",3,"ngModelChange","ngModel","ngModelOptions"],["cdkDrag","",1,"output-panel",3,"ngClass"],["class","row control",4,"ngFor","ngForOf"],[1,"row","control"],["cdkDragHandle","",1,"tool","drag-handle"],["class","grow",3,"binding","selectionChange",4,"ngIf"],["class","title grow",4,"ngIf"],["class","grow",3,"binding","textChange",4,"ngIf"],[1,"actions"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled",4,"ngIf"],["mat-menu-item","",3,"disableRipple","click",4,"ngIf"],["mat-icon-button","","color","primary","class","tool","matTooltip","Delete binding",3,"click",4,"ngIf"],["mat-icon-button","","color","primary","class","tool","matTooltip","Edit binding",3,"click",4,"ngIf"],["mat-icon-button","","color","primary","class","tool","matTooltip","Add another repetition",3,"click",4,"ngIf"],["mat-icon-button","","color","primary","class","tool","matTooltip","Remove repetition",3,"click",4,"ngIf"],[1,"grow",3,"selectionChange","binding"],[1,"title","grow"],[1,"grow",3,"textChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled"],[1,"mb-0"],["mat-icon-button","","color","primary","matTooltip","Delete binding",1,"tool",3,"click"],["mat-icon-button","","color","primary","matTooltip","Edit binding",1,"tool",3,"click"],["mat-icon-button","","color","primary","matTooltip","Add another repetition",1,"tool",3,"click"],["mat-icon-button","","color","primary","matTooltip","Remove repetition",1,"tool",3,"click"],[1,"output"],["id","save",4,"ngIf"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],["id","save"],["mat-icon-button","","matTooltip","Download",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy",3,"click"],["fontIcon","content_copy"]],template:function(r,n){if(r&1){let a=Ye();B(0,"div",4)(1,"h3"),J(2,"Terminology Bindings Sandbox "),B(3,"button",5)(4,"mat-icon"),J(5,"info"),U()(),B(6,"mat-menu",null,0)(8,"span",6),we("click",function(o){return Me(a),Ie(o.stopPropagation())}),B(9,"h4"),J(10,"Terminology Bindings Sandbox"),U(),B(11,"p"),J(12,"This is a sandbox for creating terminology bindings, designed to support education activities."),U()()()(),B(13,"div",7)(14,"div",8)(15,"mat-expansion-panel",9,1),we("opened",function(){return Me(a),Ie(n.panelOpenState=!0)})("closed",function(){return Me(a),Ie(n.panelOpenState=!1)}),B(17,"mat-expansion-panel-header")(18,"mat-panel-title")(19,"h4"),J(20,"New binding:"),U()(),Te(21,Uwe,2,0,"mat-panel-description",10),U(),B(22,"div")(23,"form",11)(24,"div",12)(25,"div",13)(26,"h5"),J(27,"Question"),U(),B(28,"mat-form-field",14)(29,"mat-label"),J(30,"Question text"),U(),He(31,"input",15),Te(32,Hwe,3,0,"button",16),B(33,"mat-error"),J(34),U()(),B(35,"mat-form-field",17),He(36,"app-autocomplete-binding",18),B(37,"a",19),we("click",function(){return Me(a),Ie(n.toggleCodeBinding())}),Te(38,Gwe,2,0,"span",10)(39,jwe,2,0,"span",10),U(),B(40,"mat-error"),J(41),U()()(),B(42,"div",13)(43,"h5"),J(44,"Answer"),U(),B(45,"mat-form-field",14)(46,"mat-label"),J(47,"Answer Type"),U(),B(48,"mat-select",20),Te(49,Wwe,2,2,"mat-option",21),U(),B(50,"mat-error"),J(51),U()(),Te(52,Ywe,9,2,"mat-form-field",22)(53,$we,2,1,"mat-form-field",23)(54,Qwe,3,0,"div",24)(55,Jwe,7,4,"mat-form-field",22),U()(),Te(56,e2e,7,2,"mat-form-field",25),U(),He(57,"br"),B(58,"div",26),He(59,"span",27),Te(60,t2e,2,0,"button",28)(61,i2e,2,0,"button",28),B(62,"button",29),we("click",function(){return Me(a),Ie(n.cancelEdit())}),J(63,"Cancel"),U()()()()(),B(64,"div",30)(65,"div",31),Te(66,n2e,2,1,"button",32),B(67,"input",33,2),we("change",function(o){return Me(a),Ie(n.uploadFile(o))}),U(),Te(69,r2e,2,1,"button",34),B(70,"mat-menu",35,3)(72,"button",36),we("click",function(){return Me(a),Ie(n.saveForm())}),J(73,"Download"),U(),B(74,"button",36),we("click",function(){return Me(a),Ie(n.saveFhirQuestionnaire(n.fhirQuestionnaireStr))}),J(75,"Download as FHIR Questionnaire"),U()(),B(76,"button",37),we("click",function(){Me(a);let o=hi(68);return Ie(o.click())}),J(77,"Upload form"),U(),B(78,"button",37),we("click",function(){return Me(a),Ie(n.loadExample1())}),J(79,"Example"),U(),B(80,"button",37),we("click",function(){return Me(a),Ie(n.clear())}),J(81,"Clear"),U()()()(),Te(82,s2e,6,1,"div",38)(83,a2e,12,3,"div",38),B(84,"div",39)(85,"div",40)(86,"div",41),we("cdkDropListDropped",function(o){return Me(a),Ie(n.onDrop(o))}),Te(87,T2e,2,5,"div",42),U()(),B(88,"div",40)(89,"mat-tab-group",43)(90,"mat-tab",44),Te(91,A2e,4,5,"div",45),U(),B(92,"mat-tab",46),Te(93,I2e,4,5,"div",45),U(),B(94,"mat-tab",47),Te(95,P2e,4,5,"div",45),U()()()()()}if(r&2){let a,s=hi(7);K(3),oe("matMenuTriggerFor",s),K(5),oe("disableRipple",!0),K(13),oe("ngIf",!n.panelOpenState),K(2),oe("formGroup",n.newBindingForm),K(9),oe("ngIf",(a=n.newBindingForm.get("title"))==null?null:a.value),K(2),vt(n.getErrorMessage("title")),K(2),oe("binding",n.codeBinding),K(2),oe("ngIf",n.codeBinding===n.codeBindingAll),K(),oe("ngIf",n.codeBinding!=n.codeBindingAll),K(2),vt(n.getErrorMessage("code")),K(8),oe("ngForOf",n.controlTypes),K(2),vt(n.getErrorMessage("type")),K(),oe("ngIf",n.newBindingForm.controls.type.value!="Section header"&&n.newBindingForm.controls.type.value!="Text box"&&n.newBindingForm.controls.type.value!="Checkbox"&&n.newBindingForm.controls.type.value!="Integer"&&n.newBindingForm.controls.type.value!="Decimal"),K(),oe("ngIf",n.newBindingForm.controls.type.value=="Decimal"),K(),oe("ngIf",n.newBindingForm.controls.type.value!="Section header"&&n.newBindingForm.controls.type.value!="Text box"&&n.newBindingForm.controls.type.value!="Checkbox"),K(),oe("ngIf",n.newBindingForm.controls.type.value=="Checkbox"),K(),oe("ngIf",n.newBindingForm.controls.type.value!="Section header"),K(4),oe("ngIf",n.indexInEdit==-1),K(),oe("ngIf",n.indexInEdit>-1),K(5),oe("ngIf",n.bindings.length),K(3),oe("ngIf",n.bindings.length),K(13),oe("ngIf",!n.titleEditMode),K(),oe("ngIf",n.titleEditMode),K(2),oe("@growShrink",n.stateName),K(2),oe("ngForOf",n.bindings),K(),oe("@openClose",n.stateName),K(3),oe("ngIf",n.bindings.length>0),K(2),oe("ngIf",n.bindings.length>0),K(2),oe("ngIf",n.bindings.length>0)}},dependencies:[Ka,qi,Xi,Cf,T1,S1,pX,ln,Zn,pn,ys,Ps,ra,es,xs,KE,y1,ia,zo,bf,Vs,_r,kd,Sc,Rp,Xu,kl,Fl,ma,Pp,zs,qm,nF,FX,LX,OX,Od,fA,mA,gA,vA,yA,xA,bA],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center;gap:10px}.grow[_ngcontent-%COMP%]{flex-grow:4}mat-hint[_ngcontent-%COMP%], mat-error[_ngcontent-%COMP%]{font-size:12px}.editPanel[_ngcontent-%COMP%]{border:1px solid #cccccc00;border-radius:5px;background-color:#a0c8e5}.control[_ngcontent-%COMP%]{margin-bottom:30px}.output-panel[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{opacity:0;transition:opacity .5s}.row[_ngcontent-%COMP%]:hover   .tool[_ngcontent-%COMP%]{opacity:1}.drag-handle[_ngcontent-%COMP%]{cursor:move;color:#616161}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;margin-left:2rem}.action-button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:20px}.action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.compact-row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:1rem}.row-container-item[_ngcontent-%COMP%]{width:100%;padding:10px}.output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:2rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.top-right-link[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;font-size:smaller}.form-title[_ngcontent-%COMP%]{margin-left:1rem}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:0!important}.bottom-right-link[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:0;font-size:smaller}.form-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px;width:100%}.form-column[_ngcontent-%COMP%]{flex:1 1 0px;padding-right:10px;padding-left:10px;display:flex;flex-direction:column;width:100%}.input-field.full-width[_ngcontent-%COMP%]{width:calc(100% - 20px);margin-bottom:20px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.actions[_ngcontent-%COMP%]{display:flex;align-items:flex-start;width:25%}.border-question[_ngcontent-%COMP%]{border:1px solid #cccccc;border-radius:5px;padding:10px;margin-bottom:10px}"],data:{animation:[us("openClose",[na("open",Oi({opacity:1,width:"50%"})),na("closed",Oi({opacity:0,width:"0"})),vr("open <=> closed",[ir("0.5s")])]),us("growShrink",[na("open",Oi({width:"50%"})),na("closed",Oi({width:"100%"})),vr("open <=> closed",[ir("0.5s")])])]}})}}return t})();var eY=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-prescription-main"]],standalone:!1,decls:2,vars:0,template:function(r,n){r&1&&(B(0,"p"),J(1,"prescription-main works!, no?"),U())},encapsulation:2})}}return t})();var R2e=["mat-sort-header",""],k2e=["*"];function F2e(t,i){t&1&&(B(0,"div",2),Aa(),B(1,"svg",3),He(2,"path",4),U()())}var tY=new tt("MAT_SORT_DEFAULT_OPTIONS"),Ec=(()=>{class t{_defaultOptions;_initializedStream=new yd(1);sortables=new Map;_stateChanges=new mt;active;start="asc";get direction(){return this._direction}set direction(e){this._direction=e}_direction="";disableClear;disabled=!1;sortChange=new Tt;initialized=this._initializedStream;constructor(e){this._defaultOptions=e}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,n=O2e(e.start||this.start,r),a=n.indexOf(this.direction)+1;return a>=n.length&&(a=0),n[a]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(r){return new(r||t)(je(tY,8))};static \u0275dir=_t({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",Rt],disabled:[2,"matSortDisabled","disabled",Rt]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[Mi,Ki]})}return t})();function O2e(t,i){let e=["asc","desc"];return t=="desc"&&e.reverse(),i||e.push(""),e}var _A=(()=>{class t{changes=new mt;static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function L2e(t){return t||new _A}var N2e={provide:_A,deps:[[new mp,new pg,_A]],useFactory:L2e},A1=(()=>{class t{_intl=le(_A);_sort=le(Ec,{optional:!0});_columnDef=le("MAT_SORT_HEADER_COLUMN_DEF",{optional:!0});_changeDetectorRef=le(ki);_focusMonitor=le(ha);_elementRef=le(Pt);_ariaDescriber=le(oE,{optional:!0});_renderChanges;_animationModule=le(Un,{optional:!0});_recentlyCleared=Xc(null);_sortButton;id;arrowPosition="after";start;disabled=!1;get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}_sortActionDescription="Sort";disableClear;constructor(){le(gr).load(fa);let e=le(tY,{optional:!0});this._sort,e?.arrowPosition&&(this.arrowPosition=e?.arrowPosition)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._sort.register(this),this._renderChanges=$n(this._sort._stateChanges,this._sort.sortChange).subscribe(()=>this._changeDetectorRef.markForCheck()),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(()=>this._recentlyCleared.set(null))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._renderChanges?.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_toggleOnInteraction(){if(!this._isDisabled()){let e=this._isSorted(),r=this._sort.direction;this._sort.sort(this),this._recentlyCleared.set(e&&!this._isSorted()?r:null)}}_handleKeydown(e){(e.keyCode===32||e.keyCode===13)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(r,n){r&1&&we("click",function(){return n._toggleOnInteraction()})("keydown",function(s){return n._handleKeydown(s)})("mouseleave",function(){return n._recentlyCleared.set(!1)}),r&2&&(ti("aria-sort",n._getAriaSortAttribute()),Ut("mat-sort-header-disabled",n._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",Rt],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",Rt]},exportAs:["matSortHeader"],features:[Mi],attrs:R2e,ngContentSelectors:k2e,decls:4,vars:17,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],["viewBox","0 -960 960 960","focusable","false","aria-hidden","true"],["d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"]],template:function(r,n){r&1&&(zi(),B(0,"div",0)(1,"div",1),$t(2),U(),Te(3,F2e,3,0,"div",2),U()),r&2&&(Ut("mat-sort-header-sorted",n._isSorted())("mat-sort-header-position-before",n.arrowPosition==="before")("mat-sort-header-descending",n._sort.direction==="desc")("mat-sort-header-ascending",n._sort.direction==="asc")("mat-sort-header-recently-cleared-ascending",n._recentlyCleared()==="asc")("mat-sort-header-recently-cleared-descending",n._recentlyCleared()==="desc")("mat-sort-header-animations-disabled",n._animationModule==="NoopAnimations"),ti("tabindex",n._isDisabled()?null:0)("role",n._isDisabled()?null:"button"),K(3),Zi(n._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}@keyframes _mat-sort-header-recently-cleared-ascending{from{transform:translateY(0);opacity:1}to{transform:translateY(-25%);opacity:0}}@keyframes _mat-sort-header-recently-cleared-descending{from{transform:translateY(0) rotate(180deg);opacity:1}to{transform:translateY(25%) rotate(180deg);opacity:0}}.mat-sort-header-arrow{height:12px;width:12px;position:relative;transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1),opacity 225ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;overflow:visible;color:var(--mat-sort-arrow-color, var(--mat-sys-on-surface))}.mat-sort-header.cdk-keyboard-focused .mat-sort-header-arrow,.mat-sort-header.cdk-program-focused .mat-sort-header-arrow,.mat-sort-header:hover .mat-sort-header-arrow{opacity:.54}.mat-sort-header .mat-sort-header-sorted .mat-sort-header-arrow{opacity:1}.mat-sort-header-descending .mat-sort-header-arrow{transform:rotate(180deg)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transform:translateY(-25%)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-ascending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-recently-cleared-descending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-descending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-animations-disabled .mat-sort-header-arrow{transition-duration:0ms;animation-duration:0ms}.mat-sort-header-arrow svg{width:24px;height:24px;fill:currentColor;position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;transform:translateZ(0)}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}"],encapsulation:2,changeDetection:0})}return t})(),iY=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:[N2e],imports:[Si]})}return t})(),Svt=XG.ENTERING+" "+WG.STANDARD_CURVE;var fY=Ro(_f());var oF=Ro(_f());var nY=(()=>{class t{saveItem(e,r){localStorage.setItem(e,r)}getItem(e){return localStorage.getItem(e)}removeItem(e){localStorage.removeItem(e)}isLocalStorageSupported(){try{let e="__test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Bd=(()=>{class t{constructor(e,r){this.http=e,this.storageService=r,this.baseUrlSubject=new Rn("https://hapi.fhir.org/baseR4"),this.baseUrl$=this.baseUrlSubject.asObservable(),this.userTagSubject=new Rn(""),this.userTag$=this.userTagSubject.asObservable(),this.initialize()}initialize(){if(this.storageService.isLocalStorageSupported()){let e=this.storageService.getItem("baseUrl");e&&this.baseUrlSubject.next(e);let r=this.storageService.getItem("userTag");r&&this.userTagSubject.next(r)}}setBaseUrl(e){this.baseUrlSubject.next(e),this.storageService.saveItem("baseUrl",e)}getBaseUrl(){return this.baseUrlSubject.getValue()}setUserTag(e){this.userTagSubject.next(e),this.storageService.saveItem("userTag",e)}getUserTag(){return this.userTagSubject.getValue()}postQuestionnaire(e){return this.http.post(`${this.baseUrlSubject.value}/Questionnaire`,e)}getQuestionnairesByTag(e,r){return r||(r=100),this.http.get(`${this.baseUrlSubject.value}/Questionnaire?_tag=${e}&_count=${r}`)}tagQuestionnaire(e,r){return this.http.post(`${this.baseUrlSubject.value}/Questionnaire/${e}/$meta-add`,{resourceType:"Parameters",parameter:[{name:"meta",valueMeta:{tag:[{system:"http://snomed.org/tags",code:r}]}}]})}deleteQuestionnaire(e){return this.http.delete(`${this.baseUrlSubject.value}/Questionnaire/${e}`)}updateOrCreateQuestionnaire(e,r){if(e.id){let n=`${this.baseUrlSubject.value}/Questionnaire?_id=${e.id}&_tag=${r}`;return this.http.put(n,e).pipe(Ur(a=>a.status===404?this.postQuestionnaire(e):nf(a)))}else return this.postQuestionnaire(e)}getQuestionnaireHistory(e){return this.http.get(`${this.getBaseUrl()}/Questionnaire/${e}/_history`)}getSpecificQuestionnaireVersion(e,r){return this.http.get(`${this.getBaseUrl()}/Questionnaire/${e}/_history/${r}`)}static{this.\u0275fac=function(r){return new(r||t)(yi(Ms),yi(nY))}}static{this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function V2e(t,i){if(t&1&&(B(0,"mat-option",15),J(1),U()),t&2){let e=i.$implicit;oe("value",e),K(),It(" ",e.title," ")}}function z2e(t,i){t&1&&He(0,"mat-spinner",16)}function U2e(t,i){if(t&1){let e=Ye();B(0,"div",17)(1,"span",18),J(2,"\u2261"),U(),J(3),B(4,"button",19),we("click",function(){let n=Me(e).index,a=pe();return Ie(a.deleteQuestionnaire(n))}),B(5,"mat-icon"),J(6,"delete"),U()()()}if(t&2){let e=i.$implicit;K(3),It(" ",e.title," ")}}var wA=(()=>{class t{constructor(e,r,n,a){this.fb=e,this.fhirService=r,this.data=n,this.dialogRef=a,this.allQuestionnaires=[],this.availableQuestionnaires=[],this.addedQuestionnaires=[],this.userTag="",this.loading=!1}ngOnInit(){this.questionnaireForm=this.fb.group({selectedQuestionnaire:[{value:"",disabled:!0}],assignedName:[{value:"",disabled:!0}]}),this.data&&(this.addedQuestionnaires=this.data.questionnaires,this.questionnaireForm.get("assignedName")?.setValue(this.data.title)),this.questionnaireForm.get("selectedQuestionnaire"),this.userTag=this.fhirService.getUserTag(),this.loadAvailableQuestionnaires()}updateAvailableQuestionnaires(){this.addedQuestionnaires?this.availableQuestionnaires=this.allQuestionnaires.filter(e=>!this.addedQuestionnaires.some(r=>r.id===e.id)):this.availableQuestionnaires=this.allQuestionnaires,this.availableQuestionnaires=this.availableQuestionnaires.filter(e=>!e.extension||!e.extension.some(r=>r.url==="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"&&r.valueCode==="assemble-root"))}loadAvailableQuestionnaires(){this.loading=!0,this.fhirService.getQuestionnairesByTag(this.userTag).subscribe(e=>{this.allQuestionnaires=e.entry.map(r=>r.resource),this.allQuestionnaires.sort((r,n)=>r.title.localeCompare(n.title)),this.updateAvailableQuestionnaires(),this.loading=!1,this.questionnaireForm?.get("selectedQuestionnaire")?.enable(),this.questionnaireForm?.get("assignedName")?.enable()})}addQuestionnaire(){let e=this.questionnaireForm.value;e.selectedQuestionnaire&&(this.addedQuestionnaires.push(Ri(ht({},e.selectedQuestionnaire),{assignedName:e.assignedName})),this.questionnaireForm.get("selectedQuestionnaire")?.reset(),this.updateAvailableQuestionnaires())}drop(e){e0(this.addedQuestionnaires,e.previousIndex,e.currentIndex)}deleteQuestionnaire(e){e>-1&&(this.addedQuestionnaires.splice(e,1),this.updateAvailableQuestionnaires())}isSaveDisabled(){return!this.questionnaireForm.get("assignedName")?.value||!this.addedQuestionnaires.length}closeModal(){this.dialogRef.close({title:this.questionnaireForm.get("assignedName")?.value,questionnaires:this.addedQuestionnaires})}static{this.\u0275fac=function(r){return new(r||t)(je(Jm),je(Bd),je(Fp),je(hl))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-create-root-module"]],standalone:!1,decls:26,vars:6,consts:[[1,"form-layout",3,"formGroup"],[1,"form-row"],[1,"full-width"],["matInput","","formControlName","assignedName"],[1,"half-width"],["formControlName","selectedQuestionnaire"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"add-button",3,"click","disabled"],["diameter","35","class","loading-spinner",4,"ngIf"],[1,"questionnaire-list"],[1,"list",3,"cdkDropListDropped"],["cdkDrag","","class","cdk-drag",4,"ngFor","ngForOf"],[1,"button-container"],["mat-flat-button","","color","primary","mat-dialog-close",""],["mat-flat-button","","color","accent",3,"click","disabled"],[3,"value"],["diameter","35",1,"loading-spinner"],["cdkDrag","",1,"cdk-drag"],[1,"drag-handle"],["mat-icon-button","","aria-label","Delete questionnaire",3,"click"]],template:function(r,n){r&1&&(B(0,"mat-dialog-content")(1,"h2"),J(2,"Create a modular Questionnaire"),U(),B(3,"form",0)(4,"div",1)(5,"mat-form-field",2)(6,"mat-label"),J(7,"Assign Name"),U(),He(8,"input",3),U()(),B(9,"div",1)(10,"mat-form-field",4)(11,"mat-label"),J(12,"Select Child Questionnaire"),U(),B(13,"mat-select",5),Te(14,V2e,2,2,"mat-option",6),U()(),B(15,"button",7),we("click",function(){return n.addQuestionnaire()}),J(16,"Add questionnaire"),U(),Te(17,z2e,1,0,"mat-spinner",8),U()(),B(18,"div",9)(19,"cdk-drop-list",10),we("cdkDropListDropped",function(s){return n.drop(s)}),Te(20,U2e,7,1,"div",11),U()()(),B(21,"mat-dialog-actions",12)(22,"button",13),J(23,"Cancel"),U(),B(24,"button",14),we("click",function(){return n.closeModal()}),J(25,"Save"),U()()),r&2&&(K(3),oe("formGroup",n.questionnaireForm),K(11),oe("ngForOf",n.availableQuestionnaires),K(),oe("disabled",n.loading),K(2),oe("ngIf",n.loading),K(3),oe("ngForOf",n.addedQuestionnaires),K(4),oe("disabled",n.isSaveDisabled()||n.loading))},dependencies:[qi,Xi,T1,S1,ln,Zn,pn,es,xs,ia,Ra,zo,bf,Vs,_r,kd,Sc,Rp,Fl,Sf,n0,i0],styles:[".questionnaire-list[_ngcontent-%COMP%]{width:100%;max-height:400px;overflow:auto;border:1px solid #ccc;border-radius:4px;background-color:#f9f9f9;padding:10px}.list[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;background-color:#fff;margin-bottom:10px;padding:10px;display:flex;align-items:center;justify-content:left;box-shadow:0 2px 4px #0000001a}.drag-handle[_ngcontent-%COMP%]{cursor:move;margin-right:15px;font-size:20px;color:#666}.cdk-drag-preview[_ngcontent-%COMP%]{background-color:#e0e0e0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.form-layout[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.form-layout[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.form-layout[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]{width:50%;margin-right:15px}"]})}}return t})();function H2e(t,i){if(t&1&&(B(0,"mat-option",17),J(1),U()),t&2){let e=i.$implicit;oe("value",e),K(),It(" ",e," ")}}function G2e(t,i){if(t&1){let e=Ye();B(0,"mat-form-field",14)(1,"mat-select",16,0),we("selectionChange",function(n){Me(e);let a=pe(2);return Ie(a._changePageSize(n.value))}),Cy(3,H2e,2,2,"mat-option",17,Wb),U(),B(5,"div",18),we("click",function(){Me(e);let n=hi(2);return Ie(n.open())}),U()()}if(t&2){let e=pe(2);oe("appearance",e._formFieldAppearance)("color",e.color),K(),oe("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),K(2),Sy(e._displayedPageSizeOptions)}}function j2e(t,i){if(t&1&&(B(0,"div",15),J(1),U()),t&2){let e=pe(2);K(),vt(e.pageSize)}}function W2e(t,i){if(t&1&&(B(0,"div",3)(1,"div",13),J(2),U(),Te(3,G2e,6,7,"mat-form-field",14)(4,j2e,2,1,"div",15),U()),t&2){let e=pe();K(),ti("id",e._pageSizeLabelId),K(),It(" ",e._intl.itemsPerPageLabel," "),K(),Zi(e._displayedPageSizeOptions.length>1?3:-1),K(),Zi(e._displayedPageSizeOptions.length<=1?4:-1)}}function X2e(t,i){if(t&1){let e=Ye();B(0,"button",19),we("click",function(){Me(e);let n=pe();return Ie(n._buttonClicked(0,n._previousButtonsDisabled()))}),Aa(),B(1,"svg",8),He(2,"path",20),U()()}if(t&2){let e=pe();oe("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("disabled",e._previousButtonsDisabled()),ti("aria-label",e._intl.firstPageLabel)}}function Y2e(t,i){if(t&1){let e=Ye();B(0,"button",21),we("click",function(){Me(e);let n=pe();return Ie(n._buttonClicked(n.getNumberOfPages()-1,n._nextButtonsDisabled()))}),Aa(),B(1,"svg",8),He(2,"path",22),U()()}if(t&2){let e=pe();oe("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("disabled",e._nextButtonsDisabled()),ti("aria-label",e._intl.lastPageLabel)}}var CA=(()=>{class t{changes=new mt;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(e,r,n)=>{if(n==0||r==0)return`0 of ${n}`;n=Math.max(n,0);let a=e*r,s=a<n?Math.min(a+r,n):a+r;return`${a+1} \u2013 ${s} of ${n}`};static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $2e(t){return t||new CA}var Q2e={provide:CA,deps:[[new mp,new pg,CA]],useFactory:$2e},K2e=50;var Z2e=new tt("MAT_PAGINATOR_DEFAULT_OPTIONS"),K_=(()=>{class t{_intl=le(CA);_changeDetectorRef=le(ki);_formFieldAppearance;_pageSizeLabelId=le(Gn).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new yd(1);color;get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(r=>mr(r,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new Tt;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let e=this._intl,r=le(Z2e,{optional:!0});if(this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){let{pageSize:n,pageSizeOptions:a,hidePageSize:s,showFirstLastButtons:o}=r;n!=null&&(this._pageSize=n),a!=null&&(this._pageSizeOptions=a),s!=null&&(this.hidePageSize=s),o!=null&&(this.showFirstLastButtons=o)}this._formFieldAppearance=r?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let r=this.pageIndex*this.pageSize,n=this.pageIndex;this.pageIndex=Math.floor(r/e)||0,this.pageSize=e,this._emitPageEvent(n)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:K2e),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,r)=>e-r),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(e){let r=this.pageIndex;e!==r&&(this.pageIndex=e,this._emitPageEvent(r))}_buttonClicked(e,r){r||this._navigate(e)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",mr],length:[2,"length","length",mr],pageSize:[2,"pageSize","pageSize",mr],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",Rt],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",Rt],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",Rt]},outputs:{page:"page"},exportAs:["matPaginator"],features:[Mi],decls:14,vars:12,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(r,n){r&1&&(B(0,"div",1)(1,"div",2),Te(2,W2e,5,4,"div",3),B(3,"div",4)(4,"div",5),J(5),U(),Te(6,X2e,3,4,"button",6),B(7,"button",7),we("click",function(){return n._buttonClicked(n.pageIndex-1,n._previousButtonsDisabled())}),Aa(),B(8,"svg",8),He(9,"path",9),U()(),vg(),B(10,"button",10),we("click",function(){return n._buttonClicked(n.pageIndex+1,n._nextButtonsDisabled())}),Aa(),B(11,"svg",8),He(12,"path",11),U()(),Te(13,Y2e,3,4,"button",12),U()()()),r&2&&(K(2),Zi(n.hidePageSize?-1:2),K(3),It(" ",n._intl.getRangeLabel(n.pageIndex,n.pageSize,n.length)," "),K(),Zi(n.showFirstLastButtons?6:-1),K(),oe("matTooltip",n._intl.previousPageLabel)("matTooltipDisabled",n._previousButtonsDisabled())("disabled",n._previousButtonsDisabled()),ti("aria-label",n._intl.previousPageLabel),K(3),oe("matTooltip",n._intl.nextPageLabel)("matTooltipDisabled",n._nextButtonsDisabled())("disabled",n._nextButtonsDisabled()),ti("aria-label",n._intl.nextPageLabel),K(3),Zi(n.showFirstLastButtons?13:-1))},dependencies:[es,Fl,ia,Zn,zs],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}return t})(),rY=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:[Q2e],imports:[Wm,qE,w1,K_]})}return t})();var SA=(()=>{class t{constructor(e,r){this.http=e,this.fhirService=r}generateRootQuestionnaire(e,r){return Mt(this,null,function*(){try{let a=yield Ir(this.http.get("assets/questionnaires/root-questionnaire-template.json"));a.title=e;let s=0,o=this.fhirService.getBaseUrl(),u=this.fhirService.getUserTag();return r.forEach(l=>{s++,l.url=o+"/Questionnaire/"+l.id,a.item.push({linkId:s.toString(),text:l.title,type:"group",required:!1,item:[{extension:[{url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire",valueCanonical:l.url}],linkId:s.toString()+".1",text:"Unable to resolve sub-questionnaire",type:"display"}]})}),a}catch(n){throw console.error("Error generating root questionnaire:",n),n}})}getRootQuestionnaireData(e){return Mt(this,null,function*(){if(!e||!Array.isArray(e.item))throw new Error("Invalid root questionnaire");let r=e.title,n=e.item.filter(s=>s.type==="group"&&s.item&&Array.isArray(s.item)).flatMap(s=>s.item).map(s=>Mt(this,null,function*(){let o=s.extension?.find(u=>u.url==="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire");if(o){let u=o.valueCanonical;return this.getQuestionnaireFromUrl(u)}return null})),a=(yield Promise.all(n)).filter(s=>s!==null);return{title:r,questionnaires:a}})}checkForAssembleRoot(e){return!e||!e.extension||!Array.isArray(e.extension)?!1:e.extension.some(r=>r.valueCode==="assemble-root")}assembleQuestionnaire(e){return Mt(this,null,function*(){if(e=JSON.parse(JSON.stringify(e)),!this.checkForAssembleRoot(e))return null;for(let r of e.item)if(r.type=="group"){r.extension=[];for(let n of r.item)if(n.extension&&Array.isArray(n.extension)){for(let a of n.extension)if(a.url==="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire"){let s=yield this.getQuestionnaireFromUrl(a.valueCanonical);s&&(r.item=s.item),r.extension||(r.extension=[]),r.extension.push({url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assembledFrom",valueCanonical:a.valueCanonical})}}}return e.extension=e.extension.filter(r=>r.valueCode!=="assemble-root"),e})}disassembleQuestionnaire(e){return Mt(this,null,function*(){if(!e||!e.item||!Array.isArray(e.item))throw new Error("Invalid root questionnaire");let r=e.title,n=[];for(let a of e.item)if(a.type==="group"&&a.extension&&Array.isArray(a.extension)){let s=a.extension.find(o=>o.url==="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assembledFrom");if(s){let o=s.valueCanonical,u=yield this.getQuestionnaireFromUrl(o);u&&n.push(u)}}return{title:r,questionnaires:n}})}getQuestionnaireFromUrl(e){return Mt(this,null,function*(){try{return yield Ir(this.http.get(e))}catch(r){return console.error("Error fetching questionnaire:",r),null}})}static{this.\u0275fac=function(r){return new(r||t)(yi(Ms),yi(Bd))}}static{this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var q2e=()=>[5,10,20],eCe=t=>["status-pill",t],tCe=()=>["status-pill","active"],iCe=()=>["status-pill","draft"];function nCe(t,i){t&1&&(B(0,"th",19),J(1," Title "),U())}function rCe(t,i){if(t&1&&(B(0,"td",20),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.title," ")}}function sCe(t,i){t&1&&(B(0,"th",19),J(1," Status "),U())}function aCe(t,i){if(t&1&&(B(0,"td",20)(1,"span",21),J(2),pr(3,"uppercase"),U()()),t&2){let e=i.$implicit;K(),oe("ngClass",Ia(4,eCe,e.status)),K(),vt(Da(3,2,e.status))}}function oCe(t,i){t&1&&(B(0,"th",22),J(1," Version "),U())}function lCe(t,i){if(t&1&&(B(0,"td",20),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.meta.versionId," ")}}function cCe(t,i){t&1&&(B(0,"th",19),J(1," Last updated "),U())}function uCe(t,i){if(t&1&&(B(0,"td",20),J(1),pr(2,"date"),U()),t&2){let e=i.$implicit;K(),It(" ",yo(2,1,e.meta.lastUpdated,"MMMM d, y, h:mm:ss a")," ")}}function dCe(t,i){t&1&&(B(0,"th",19),J(1," Type "),U())}function hCe(t,i){t&1&&(B(0,"span",21),J(1,"QUESTIONNAIRE"),U()),t&2&&oe("ngClass",Or(1,tCe))}function fCe(t,i){t&1&&(B(0,"span",21),J(1,"MODULAR ROOT"),U()),t&2&&oe("ngClass",Or(1,iCe))}function pCe(t,i){if(t&1&&(B(0,"td",20),Te(1,hCe,2,2,"span",23)(2,fCe,2,2,"span",23),U()),t&2){let e=i.$implicit,r=pe();K(),oe("ngIf",!r.isRootQuestionnaire(e)),K(),oe("ngIf",r.isRootQuestionnaire(e))}}function mCe(t,i){t&1&&(B(0,"th",22),J(1," Actions "),U())}function gCe(t,i){if(t&1){let e=Ye();B(0,"button",34),we("click",function(){Me(e);let n=pe().$implicit,a=pe();return Ie(a.validate(n))}),B(1,"mat-icon"),J(2,"done"),U()()}if(t&2){let e=pe().$implicit,r=pe();oe("disabled",r.isRootQuestionnaire(e))}}function vCe(t,i){if(t&1){let e=Ye();B(0,"button",35),we("click",function(){Me(e);let n=pe().$implicit,a=pe();return Ie(a.assemble(n))}),B(1,"mat-icon"),J(2,"build"),U()()}}function yCe(t,i){if(t&1){let e=Ye();B(0,"button",36),we("click",function(){Me(e);let n=pe().$implicit,a=pe();return Ie(a.preview(n))}),B(1,"mat-icon"),J(2,"visibility"),U()()}}function xCe(t,i){if(t&1){let e=Ye();B(0,"button",37),we("click",function(){Me(e);let n=pe().$implicit,a=pe();return Ie(a.openInNewTab(n))}),B(1,"mat-icon"),J(2,"open_in_new"),U()()}}function bCe(t,i){if(t&1){let e=Ye();B(0,"button",38),we("click",function(){Me(e);let n=pe().$implicit,a=pe();return Ie(a.editQuestionnaire(n))}),B(1,"mat-icon"),J(2,"edit"),U()()}}function _Ce(t,i){if(t&1){let e=Ye();B(0,"button",39),we("click",function(){Me(e);let n=pe().$implicit,a=pe();return Ie(a.openModularQuestionnaireModal(n))}),B(1,"mat-icon"),J(2,"edit"),U()()}}function wCe(t,i){if(t&1){let e=Ye();B(0,"td",20),Te(1,gCe,3,1,"button",24)(2,vCe,3,0,"button",25)(3,yCe,3,0,"button",26)(4,xCe,3,0,"button",27),B(5,"button",28),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.saveQuestionnaire(n))}),B(6,"mat-icon"),J(7,"cloud_download"),U()(),Te(8,bCe,3,0,"button",29)(9,_Ce,3,0,"button",30),B(10,"button",31),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.viewHistory(n))}),B(11,"mat-icon"),J(12,"history"),U()(),B(13,"span",32)(14,"button",33),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.deleteQuestionnaire(n))}),B(15,"mat-icon"),J(16,"delete"),U()()()()}if(t&2){let e=i.$implicit,r=pe();K(),oe("ngIf",r.config.validate),K(),oe("ngIf",r.isRootQuestionnaire(e)),K(),oe("ngIf",r.config.preview&&!r.isRootQuestionnaire(e)),K(),oe("ngIf",r.config.preview),K(4),oe("ngIf",!r.isRootQuestionnaire(e)),K(),oe("ngIf",r.isRootQuestionnaire(e)),K(),oe("disabled",e.meta.versionId==1),K(3),Fo("matTooltip",r.getDeleteTooltip(e)),K(),oe("disabled",r.getReferencingQuestionnaires(e).length>0)}}function CCe(t,i){t&1&&He(0,"tr",40)}function SCe(t,i){t&1&&He(0,"tr",41)}function TCe(t,i){t&1&&(B(0,"p",42)(1,"i"),J(2," No questionnaires found. Upload your questionnaires to start. "),U()())}function ECe(t,i){t&1&&He(0,"mat-spinner",43)}function ACe(t,i){if(t&1){let e=Ye();B(0,"button",44),we("click",function(){Me(e);let n=pe();return Ie(n.downloadAllQuestionnaires())}),J(1," Download bundle "),U()}}var TA=(()=>{class t{constructor(e,r,n,a){this.fhirService=e,this.questionnaireService=r,this.dialog=n,this._snackBar=a,this.questionnaireSelected=new Tt,this.validateQuestionnaire=new Tt,this.previewQuestionnaire=new Tt,this.viewQuestionaireHistory=new Tt,this.config={},this.displayedColumns=["title","status","version","lastUpdated","type","actions"],this.dataSource=new Hu,this.questionnaires=[],this.loading=!1,this.selectedFhirServer="",this.selectedUserTag="",this.notFound=!1,this.baseUrlChanged=new mt,this.userTagChanged=new mt,this.fbUrl="https://formbuilder.nlm.nih.gov",this.blankQuestionnaire={resourceType:"Questionnaire",title:"New Form",status:"draft",item:[{type:"string",linkId:"4009522077787",text:"Item 0"}]}}ngOnInit(){}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.sortingDataAccessor=(e,r)=>{switch(r){case"type":return this.isRootQuestionnaire(e)?"Modular root":"Questionnaire";case"version":return e.meta&&e.meta.versionId?e.meta.versionId:"";case"lastUpdated":return e.meta&&e.meta.lastUpdated?new Date(e.meta.lastUpdated):"";default:return e[r]}},this.selectedUserTag&&this.selectedFhirServer&&this.loadQuestionnaires(),il([this.fhirService.baseUrl$.pipe(ta(1e3),vc()),this.fhirService.userTag$.pipe(ta(1e3),vc())]).subscribe(([e,r])=>{(this.selectedFhirServer!==e||this.selectedUserTag!==r)&&(this.selectedFhirServer=e,this.selectedUserTag=r,this.selectedUserTag&&this.selectedFhirServer&&this.loadQuestionnaires())})}ngOnChanges(e){}loadQuestionnaires(){this.loading=!0,this.notFound=!1,this.questionnaires=[],this.fhirService.getQuestionnairesByTag(this.selectedUserTag).subscribe(e=>{e.entry?(this.questionnaires=e.entry.map(r=>r.resource),this.dataSource.data=this.questionnaires,this.dataSource.sort=this.sort,this.loading=!1,this.sort.active="title",this.sort.direction="asc",this.sort.sortChange.emit()):(this.questionnaires=[],this.dataSource.data=this.questionnaires,this.loading=!1,this.notFound=!0)})}updateQuestionnairesList(e){let r=this.questionnaires.findIndex(n=>n.id===e.id);r!==-1?this.questionnaires[r]=e:this.questionnaires.push(e),this.dataSource.data=this.questionnaires,this.sort&&(this.dataSource.sort=this.sort,this.sort.sortChange.emit(this.sort))}addQuestionnaire(e){this.updateQuestionnairesList(e)}deleteQuestionnaire(e){this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Deleting Questionnaire...",panelClass:["green-snackbar"]}),this.fhirService.deleteQuestionnaire(e.id).subscribe({next:()=>{this.questionnaires=this.questionnaires.filter(r=>r.id!==e.id),this.dataSource.data=this.questionnaires,this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Questionnaire deleted successfully",panelClass:["green-snackbar"]})},error:r=>{console.error("Error deleting questionnaire:",r),this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Questionnaire deleted with error: verify results",panelClass:["red-snackbar"]}),this.questionnaires=[],this.dataSource.data=this.questionnaires,this.loadQuestionnaires()}})}selectQuestionnaire(e){this.questionnaireSelected.emit(e)}validate(e){this.validateQuestionnaire.emit(e)}viewHistory(e){this.viewQuestionaireHistory.emit(e)}preview(e){this.previewQuestionnaire.emit(e)}openInNewTab(e){let r=this.selectedFhirServer+"/Questionnaire/"+e.id;window.open(r,"_blank")}saveQuestionnaire(e){var r=new Blob([JSON.stringify(e,null,2)],{type:"text/plain;charset=utf-8"});(0,oF.saveAs)(r,`${e.title}-v${e.meta.versionId}.json`)}isRootQuestionnaire(e){return e.extension&&Array.isArray(e.extension)?e.extension.some(r=>r.url==="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"&&r.valueCode==="assemble-root"):!1}assemble(e){this._snackBar.openFromComponent(kn,{duration:2*1e3,data:"Assembling Questionnaire...",panelClass:["green-snackbar"]}),this.questionnaireService.assembleQuestionnaire(e).then(r=>{r.title=e.title+" (assembled)",this.previewQuestionnaire.emit(r),this._snackBar.openFromComponent(kn,{duration:2*1e3,data:"Questionnaire ready",panelClass:["green-snackbar"]})}).catch(r=>{console.error("Error assembling questionnaire:",r)})}createQuestionnaire(){let e=this.blankQuestionnaire;e.meta||(e.meta={}),e.meta.tag=[{system:"http://snomed.org/tags",code:this.selectedUserTag,display:this.selectedUserTag},{system:"http://snomed.org/tags",code:"questionnaireManagerTool",display:"questionnaireManagerTool"}],this.editQuestionnaire(e)}editQuestionnaire(e){let r=window.open(this.fbUrl+"/window-open?referrer="+encodeURIComponent(window.location.href)+"&fhirVersion=R4"),n=a=>{if(a.origin===this.fbUrl){let s=a.data.type,o=a.data.questionnaire;switch(s){case"initialized":r?.postMessage({type:"initialQuestionnaire",questionnaire:e},this.fbUrl);break;case"closed":window.removeEventListener("message",n,!0),this.fhirService.updateOrCreateQuestionnaire(o,this.selectedUserTag).pipe(ko()).subscribe(u=>{this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Questionnaire updated successfully",panelClass:["green-snackbar"]}),this.updateQuestionnairesList(u)},u=>{this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]})});break}}};window.addEventListener("message",n,!0)}openModularQuestionnaireModal(e){return Mt(this,null,function*(){let r=yield this.questionnaireService.getRootQuestionnaireData(e);this.dialog.open(wA,{data:r,width:"75%"}).afterClosed().subscribe(a=>{a&&this.handleDialogResult(a,e)})})}handleDialogResult(e,r){return Mt(this,null,function*(){this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Updating questionnaire...",panelClass:["green-snackbar"]});try{let n=yield this.questionnaireService.generateRootQuestionnaire(e.title,e.questionnaires);n&&(r.title=e.title,r.item=n.item,this.addQuestionnaire(r),this.fhirService.updateOrCreateQuestionnaire(r,this.selectedUserTag).pipe(ko()).subscribe(a=>{this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Questionnaire updated successfully",panelClass:["green-snackbar"]}),this.updateQuestionnairesList(a)},a=>{this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]})}))}catch(n){console.error("Error handling dialog result:",n)}})}downloadAllQuestionnaires(){this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Downloading Questionnaires...",panelClass:["green-snackbar"]}),this.fhirService.getQuestionnairesByTag(this.selectedUserTag).subscribe(e=>{var r=new Blob([JSON.stringify(e,null,2)],{type:"text/plain;charset=utf-8"});(0,oF.saveAs)(r,"questionnaires-bundle.json"),this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Questionnaires downloaded successfully",panelClass:["green-snackbar"]})})}getReferencingQuestionnaires(e){let n=`${this.fhirService.getBaseUrl()}/Questionnaire/${e.id}`;return this.dataSource.data.filter(s=>s.item&&Array.isArray(s.item)&&s.item.some(o=>o.item&&Array.isArray(o.item)&&o.item.some(u=>u.extension&&Array.isArray(u.extension)&&u.extension.some(l=>l.url==="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire"&&l.valueCanonical===n))))}getDeleteTooltip(e){let r=this.getReferencingQuestionnaires(e);return r.length===0?"Delete Questionnaire":`Cannot delete: Referenced by ${r.map(a=>`"${a.title}"`).join(", ")}`}static{this.\u0275fac=function(r){return new(r||t)(je(Bd),je(SA),je(Yu),je(bo))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-list-questionnaires"]],viewQuery:function(r,n){if(r&1&&(Jt(K_,5),Jt(Ec,5)),r&2){let a;yt(a=xt())&&(n.paginator=a.first),yt(a=xt())&&(n.sort=a.first)}},inputs:{config:"config"},outputs:{questionnaireSelected:"questionnaireSelected",validateQuestionnaire:"validateQuestionnaire",previewQuestionnaire:"previewQuestionnaire",viewQuestionaireHistory:"viewQuestionaireHistory"},standalone:!1,features:[Ki],decls:28,vars:9,consts:[["id","table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","version"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","lastUpdated"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"mat-elevation-z8",3,"pageSizeOptions","pageSize"],["class","not-found",4,"ngIf"],["diameter","35","class","loading-spinner",4,"ngIf"],["id","outer-container"],[1,"download-button-container"],["mat-flat-button","","color","accent","matTooltip","Download all Questionnaires",3,"click",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"ngClass"],["mat-header-cell",""],[3,"ngClass",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Validate Questionnaire",3,"disabled","click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Assemble Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Preview Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Open resource in new tab",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","Download Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Edit Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Edit Modular Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","View Questionnaire History",1,"action-button",3,"click","disabled"],[3,"matTooltip"],["mat-icon-button","","color","accent",3,"click","disabled"],["mat-icon-button","","color","accent","matTooltip","Validate Questionnaire",1,"action-button",3,"click","disabled"],["mat-icon-button","","color","accent","matTooltip","Assemble Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Preview Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Open resource in new tab",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Edit Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Edit Modular Questionnaire",1,"action-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"not-found"],["diameter","35",1,"loading-spinner"],["mat-flat-button","","color","accent","matTooltip","Download all Questionnaires",3,"click"]],template:function(r,n){r&1&&(B(0,"div",0)(1,"table",1),Ni(2,2),Te(3,nCe,2,0,"th",3)(4,rCe,2,1,"td",4),Bi(),Ni(5,5),Te(6,sCe,2,0,"th",3)(7,aCe,4,6,"td",4),Bi(),Ni(8,6),Te(9,oCe,2,0,"th",7)(10,lCe,2,1,"td",4),Bi(),Ni(11,8),Te(12,cCe,2,0,"th",3)(13,uCe,3,4,"td",4),Bi(),Ni(14,9),Te(15,dCe,2,0,"th",3)(16,pCe,3,2,"td",4),Bi(),Ni(17,10),Te(18,mCe,2,0,"th",7)(19,wCe,17,9,"td",4),Bi(),Te(20,CCe,1,0,"tr",11)(21,SCe,1,0,"tr",12),U(),He(22,"mat-paginator",13),Te(23,TCe,3,0,"p",14)(24,ECe,1,0,"mat-spinner",15),U(),B(25,"div",16)(26,"div",17),Te(27,ACe,2,0,"button",18),U()()),r&2&&(K(),oe("dataSource",n.dataSource),K(19),oe("matHeaderRowDef",n.displayedColumns),K(),oe("matRowDefColumns",n.displayedColumns),K(),oe("pageSizeOptions",Or(8,q2e))("pageSize",10),K(),oe("ngIf",n.notFound&&!n.questionnaires.length),K(),oe("ngIf",n.loading),K(3),oe("ngIf",!n.loading&&n.questionnaires.length>0))},dependencies:[Ka,Xi,ln,Zn,pn,Ra,Jc,eu,ru,tu,qc,su,iu,nu,au,ou,zs,Ec,A1,K_,vT,Rl],styles:[".list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.list-text[_ngcontent-%COMP%]{flex-grow:1}.list-subtext[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-left:1rem}.action-button[_ngcontent-%COMP%]{margin-left:8px}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.list-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.status-pill[_ngcontent-%COMP%]{display:inline-block;padding:3px 8px;border-radius:15px;font-size:10px;color:#fff;text-align:center;margin-left:1rem}.status-pill.draft[_ngcontent-%COMP%]{background-color:#007bff}.status-pill.unknown[_ngcontent-%COMP%]{background-color:#ffc107}.status-pill.active[_ngcontent-%COMP%]{background-color:#28a745}.status-pill.retired[_ngcontent-%COMP%]{background-color:#dc3545}#table-container[_ngcontent-%COMP%]{padding-bottom:2rem}.not-found[_ngcontent-%COMP%]{margin-top:2rem}#outer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.download-button-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:2rem}"]})}}return t})();var oY=(()=>{class t{constructor(e){this.dialogRef=e,this.listConfig={select:!0}}selectAndDownload(e){this.dialogRef.close(e)}static{this.\u0275fac=function(r){return new(r||t)(je(hl))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-load-questionnaire-modal"]],standalone:!1,decls:7,vars:1,consts:[[3,"questionnaireSelected","config"],["align","end"],["mat-flat-button","","color","accent","mat-dialog-close",""]],template:function(r,n){r&1&&(B(0,"mat-dialog-content")(1,"h2"),J(2,"Available Questionnaires"),U(),B(3,"app-list-questionnaires",0),we("questionnaireSelected",function(s){return n.selectAndDownload(s)}),U()(),B(4,"mat-dialog-actions",1)(5,"button",2),J(6,"Close"),U()()),r&2&&(K(3),oe("config",n.listConfig))},dependencies:[ln,Sf,n0,i0,TA],encapsulation:2})}}return t})();var MCe=["settingsForm"];function ICe(t,i){t&1&&(B(0,"mat-error"),J(1,"Base URL is required"),U())}function DCe(t,i){t&1&&(B(0,"mat-error"),J(1,"User Tag is required and must be at least 3 characters"),U())}var EA=(()=>{class t{constructor(e,r){this.fhirService=e,this.dialogRef=r,this.baseUrl="",this.userTag=""}ngAfterViewInit(){this.triggerValidation()}triggerValidation(){Object.keys(this.settingsForm.controls).forEach(e=>{let r=this.settingsForm.control.get(e);r?.markAsTouched({onlySelf:!0}),r?.markAsDirty({onlySelf:!0})})}ngOnInit(){this.baseUrl=this.fhirService.getBaseUrl(),this.userTag=this.fhirService.getUserTag()}updateSettings(){this.settingsForm.valid&&(this.fhirService.setBaseUrl(this.baseUrl),this.fhirService.setUserTag(this.userTag),this.dialogRef.close("save"))}static{this.\u0275fac=function(r){return new(r||t)(je(Bd),je(hl))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-fhir-server-settings-modal"]],viewQuery:function(r,n){if(r&1&&Jt(MCe,5),r&2){let a;yt(a=xt())&&(n.settingsForm=a.first)}},standalone:!1,decls:29,vars:5,consts:[["settingsForm","ngForm"],["baseUrlField","ngModel"],["userTagField","ngModel"],[1,"form-container"],[1,"warning"],[3,"ngSubmit"],["matInput","","name","baseUrl","required","",3,"ngModelChange","ngModel"],[4,"ngIf"],["matInput","","name","userTag","required","","minlength","3",3,"ngModelChange","ngModel"],[1,"button-container"],["mat-flat-button","","color","accent","type","submit",3,"disabled"],["mat-flat-button","","color","primary","mat-dialog-close",""]],template:function(r,n){if(r&1){let a=Ye();B(0,"div",3)(1,"h2"),J(2,"FHIR Server Connection"),U(),B(3,"p"),J(4,"Manager mode allows you to store questionnares in a FHIR Server. Enter the FHIR server URL and your "),B(5,"b"),J(6,"User Tag"),U(),J(7,", this value will be used to identify your questionnaires."),U(),B(8,"p",4),J(9,"Warning: using the default public FHIR server will not ensure the persistence of your information, always save your questionnaires to your computer as a backup."),U(),B(10,"form",5,0),we("ngSubmit",function(){return Me(a),Ie(n.updateSettings())}),B(12,"mat-form-field")(13,"mat-label"),J(14,"Base URL of the FHIR Server"),U(),B(15,"input",6,1),Gr("ngModelChange",function(o){return Me(a),Zr(n.baseUrl,o)||(n.baseUrl=o),Ie(o)}),U(),Te(17,ICe,2,0,"mat-error",7),U(),B(18,"mat-form-field")(19,"mat-label"),J(20,"User Tag"),U(),B(21,"input",8,2),Gr("ngModelChange",function(o){return Me(a),Zr(n.userTag,o)||(n.userTag=o),Ie(o)}),U(),Te(23,DCe,2,0,"mat-error",7),U(),B(24,"div",9)(25,"button",10),J(26,"Open FHIR Repository"),U(),B(27,"button",11),J(28,"Close"),U()()()()}if(r&2){let a=hi(11),s=hi(16),o=hi(22);K(15),Hr("ngModel",n.baseUrl),K(2),oe("ngIf",s.invalid&&s.touched),K(4),Hr("ngModel",n.userTag),K(2),oe("ngIf",o.invalid&&o.touched),K(2),oe("disabled",!a.valid)}},dependencies:[Xi,ln,es,xs,KE,zo,bf,Vs,_r,kd,T4,E4,ma,Pp,Sf],styles:[".form-container[_ngcontent-%COMP%]{margin:auto;padding:20px}mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.warning[_ngcontent-%COMP%]{color:#ff9500;font-weight:lighter;font-style:italic}"]})}}return t})();var AA=(()=>{class t{constructor(e,r){this.data=e,this.dialogRef=r}static{this.\u0275fac=function(r){return new(r||t)(je(Fp),je(hl))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-confirmation-dialog"]],standalone:!1,decls:10,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","",1,"button-container"],["mat-button","",3,"mat-dialog-close"]],template:function(r,n){r&1&&(B(0,"h1",0),J(1),U(),B(2,"div",1)(3,"p"),J(4),U()(),B(5,"div",2)(6,"button",3),J(7,"Yes"),U(),B(8,"button",3),J(9,"No"),U()()),r&2&&(K(),vt(n.data.title),K(3),vt(n.data.message),K(2),oe("mat-dialog-close",!0),K(2),oe("mat-dialog-close",!1))},dependencies:[ln,Sf,cA,n0,i0],encapsulation:2})}}return t})();function PCe(t,i){t&1&&He(0,"div",2)}var RCe=new tt("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var r0=(()=>{class t{_elementRef=le(Pt);_ngZone=le(ri);_changeDetectorRef=le(ki);_renderer=le(Qn);_cleanupTransitionEnd;_animationMode=le(Un,{optional:!0});constructor(){let e=le(RCe,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",e&&(e.color&&(this.color=this._defaultColor=e.color),this.mode=e.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=lY(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=lY(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new Tt;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(r,n){r&2&&(ti("aria-valuenow",n._isIndeterminate()?null:n.value)("mode",n.mode),cs("mat-"+n.color),Ut("_mat-animation-noopable",n._isNoopAnimation)("mdc-linear-progress--animation-ready",!n._isNoopAnimation)("mdc-linear-progress--indeterminate",n._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",mr],bufferValue:[2,"bufferValue","bufferValue",mr],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[Mi],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(r,n){r&1&&(B(0,"div",0),He(1,"div",1),Te(2,PCe,1,0,"div",2),U(),B(3,"div",3),He(4,"span",4),U(),B(5,"div",5),He(6,"span",4),U()),r&2&&(K(),Fr("flex-basis",n._getBufferBarFlexBasis()),K(),Zi(n.mode==="buffer"?2:-1),K(),Fr("transform",n._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0})}return t})();function lY(t,i=0,e=100){return Math.max(i,Math.min(e,t))}var cY=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si]})}return t})();var kCe=["questionnairesList"];function FCe(t,i){if(t&1&&(B(0,"div",19),He(1,"mat-progress-bar",20),B(2,"div",21),J(3),U()()),t&2){let e=pe();K(),oe("value",e.validatingProgress),K(2),It("",e.validatingProgress,"%")}}function OCe(t,i){if(t&1){let e=Ye();B(0,"button",22),we("click",function(){Me(e);let n=pe();return Ie(n.saveQuestionnaire())}),J(1," Save changes "),U()}if(t&2){let e=pe();oe("disabled",e.validating||!e.questionnaire)}}function LCe(t,i){t&1&&(B(0,"span"),J(1,"Run validation"),U())}function NCe(t,i){t&1&&He(0,"mat-spinner",26)}function BCe(t,i){if(t&1){let e=Ye();B(0,"button",23),we("click",function(){Me(e);let n=pe();return Ie(n.validate())}),Te(1,LCe,2,0,"span",24)(2,NCe,1,0,"mat-spinner",25),U()}if(t&2){let e=pe();K(),oe("ngIf",!e.validating),K(),oe("ngIf",e.validating)}}function VCe(t,i){if(t&1&&(B(0,"span",32),J(1),U()),t&2){let e=pe(2);K(),It("Error: ",e.loadResults.error,"")}}function zCe(t,i){if(t&1&&(B(0,"span",33),J(1),U()),t&2){let e=pe(2);K(),It("Inactive: ",e.loadResults.inactive,"")}}function UCe(t,i){if(t&1&&(B(0,"span",34),J(1),U()),t&2){let e=pe(2);K(),It("Active: ",e.loadResults.active,"")}}function HCe(t,i){if(t&1&&(B(0,"p",27)(1,"b"),J(2,"Questionnaire:"),U(),J(3),B(4,"i"),J(5),U(),J(6,") - "),B(7,"span",28),J(8),U(),J(9),pr(10,"date"),Te(11,VCe,2,1,"span",29)(12,zCe,2,1,"span",30)(13,UCe,2,1,"span",31),U()),t&2){let e=pe();K(3),It(" ",e.questionnaire.title," ("),K(2),vt(e.questionnaire.url),K(3),It("",e.dataSource.data.length," bindings"),K(),Dr(" - - Version: ",e.questionnaire.meta.versionId," (",yo(10,8,e.questionnaire.meta.lastUpdated,"fullDate"),") "),K(2),oe("ngIf",e.loadResults.total>0),K(),oe("ngIf",e.loadResults.total>0),K(),oe("ngIf",e.loadResults.total>0)}}function GCe(t,i){t&1&&(B(0,"th",35),J(1," # "),U())}function jCe(t,i){if(t&1&&(B(0,"td",36),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.order," ")}}function WCe(t,i){t&1&&(B(0,"th",35),J(1," FHIRPath "),U())}function XCe(t,i){if(t&1&&(B(0,"td",36),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.path," ")}}function YCe(t,i){t&1&&(B(0,"th",35),J(1," Path "),U())}function $Ce(t,i){if(t&1&&(B(0,"td",36),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.readablePath," ")}}function QCe(t,i){t&1&&(B(0,"th",35),J(1,"Code "),U())}function KCe(t,i){if(t&1&&(B(0,"td",36)(1,"a",37),J(2),U()()),t&2){let e=i.$implicit;K(),qS("href","http://snomed.info/id/",e.code,"",bg),K(),vt(e.code)}}function ZCe(t,i){t&1&&(B(0,"th",35),J(1," Display "),U())}function JCe(t,i){if(t&1&&(B(0,"p",41),J(1),U()),t&2){let e=pe().$implicit;K(),It("Concept FSN: ",e.serverDisplay,"")}}function qCe(t,i){t&1&&(B(0,"p",42),J(1,"Concept is inactive"),U())}function eSe(t,i){if(t&1){let e=Ye();B(0,"p",43),J(1),B(2,"button",44),we("click",function(){let n=Me(e).$implicit,a=pe().$implicit,s=pe();return Ie(s.replaceInactiveConcept(a,n.replacement))}),B(3,"mat-icon"),J(4,"arrow_forward"),U()()()}if(t&2){let e=i.$implicit,r=pe(2);K(),_g(" Replacement: ",e.equivalence," to ",e.replacement.code," |",e.replacement.display,"| "),K(),oe("disabled",r.validating)}}function tSe(t,i){if(t&1&&(B(0,"td",36),J(1),Te(2,JCe,2,1,"p",38)(3,qCe,2,0,"p",39)(4,eSe,5,4,"p",40),U()),t&2){let e=i.$implicit;K(),It(" ",e.display," "),K(),oe("ngIf",e.serverDisplay),K(),oe("ngIf",e.status=="Inactive"),K(),oe("ngForOf",e.replacements)}}function iSe(t,i){t&1&&(B(0,"th",35),J(1," System "),U())}function nSe(t,i){if(t&1&&(B(0,"td",36),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.system," ")}}function rSe(t,i){t&1&&(B(0,"th",35),J(1," Status "),U())}function sSe(t,i){t&1&&(B(0,"span"),He(1,"mat-progress-bar",45),U())}function aSe(t,i){if(t&1&&(B(0,"span")(1,"span",46),J(2),U()()),t&2){let e=pe().$implicit;K(),oe("ngClass",e.status),K(),vt(e.status)}}function oSe(t,i){if(t&1&&(B(0,"td",36),Te(1,sSe,2,0,"span",24)(2,aSe,3,2,"span",24),U()),t&2){let e=i.$implicit;K(),oe("ngIf",e.status=="Validating"),K(),oe("ngIf",e.status!="Validating")}}function lSe(t,i){t&1&&He(0,"tr",47)}function cSe(t,i){t&1&&He(0,"tr",48)}function uSe(t,i){t&1&&He(0,"mat-spinner",49)}var uY=(()=>{class t{constructor(e,r){this.terminologyService=e,this._snackBar=r,this.questionnaireUpdated=new Tt,this.validatingQuestionnaire=new Tt,this.loading=!1,this.validating=!1,this.displayedColumns=["order","readablePath","code","display","system","status"],this.dataSource=new Hu,this.validatingProgress=0,this.orderCounter=0,this.loadResults={total:0,active:0,inactive:0,error:0},this.requiresSave=!1}ngOnChanges(e){e.questionnaire&&(this.questionnaire?this.loadQuestionnaire(this.questionnaire):this.clearQuestionnaire())}clearQuestionnaire(){this.questionnaire=null,this.dataSource.data=[],this.orderCounter=0,this.validatingProgress=0,this.loadResults={total:0,active:0,inactive:0,error:0}}loadQuestionnaire(e){this.loading=!0,this.clearQuestionnaire(),setTimeout(()=>{this.loading=!1,this.questionnaire=e;let r=this.extractObjects(e);this.dataSource.data=r,this.dataSource.sort=this.sort},700)}validate(){this.loadResults={total:0,active:0,inactive:0,error:0},this.dataSource.data.forEach(n=>{n.status="Not checked"}),this.validating=!0,this.validatingQuestionnaire.emit(!0);let e=this.dataSource.data.length,r=0;this.asyncForEach(this.dataSource.data,n=>Mt(this,null,function*(){this.loadResults.total++,n.status="Validating",r++,this.validatingProgress=Math.round(r/e*100);try{let a=yield this.terminologyService.lookupConcept(n.code,n.system).pipe(ko()).toPromise(),s=[],o="";for(let u of a.parameter){if(u.name==="designation"){let l="",c="";for(let h of u.part)h.name==="value"&&(l=h.valueString),h.name==="use"&&(c=h.valueCoding?.code);s.push(l),c==="900000000000003001"&&(o=l)}u.name==="inactive"&&(u.valueBoolean?(n.status="Inactive",this.loadResults.inactive++):(n.status="Active",this.loadResults.active++))}if((!n.display||!s.includes(n.display))&&(n.serverDisplay=o),n.status=="Inactive"){let u=yield this.getHistoricalAssociationsTarget("900000000000527005",n.code),l=yield this.getHistoricalAssociationsTarget("900000000000530003",n.code),c=yield this.getHistoricalAssociationsTarget("900000000000523009",n.code),h=yield this.getHistoricalAssociationsTarget("900000000000526001",n.code),d=u.concat(l,c,h);n.replacements=d}}catch{n.status="Error",this.loadResults.error++}})).then(()=>{this.validating=!1,this.validatingQuestionnaire.emit(!1)})}getHistoricalAssociationsTarget(e,r){return Mt(this,null,function*(){let n=[],a=this.terminologyService.translate(e,r),s=yield Ir(a.pipe(si(o=>o)));if(s.parameter){for(let o of s.parameter)if(o.name==="match"){let u={replacement:{},equivalence:""};for(let l of o.part)l.name==="concept"&&l.valueCoding&&(u.replacement={code:l.valueCoding.code,display:l.valueCoding.display,system:l.valueCoding.system}),l.name==="equivalence"&&l.valueCode&&(u.equivalence=l.valueCode);n.push(u)}}return n})}removeSemanticTag(e){return e.replace(/\s*\([^)]+\)\s*$/,"").trim().toLowerCase()}asyncForEach(e,r){return Mt(this,null,function*(){for(let n=0;n<e.length;n++)yield r(e[n],n,e)})}extractObjects(e,r="",n=""){let a=[];if(typeof e!="object"||e===null)return a;if(e.text&&(n=n?`${n} -> ${e.text}`:e.text),e.system&&e.system.startsWith("http://snomed.info/sct")&&e.code&&e.display){this.orderCounter++;let s={order:this.orderCounter,system:e.system,code:e.code,display:e.display,path:r,readablePath:n,status:"Not checked"};a.some(o=>o.system===s.system&&o.code===s.code&&o.display===s.display)||a.push(s)}if(Array.isArray(e))for(let s in e){let o=`${r}[${s}]`;a=a.concat(this.extractObjects(e[s],o,n))}else for(let s in e)if(e.hasOwnProperty(s)){let o=r?`${r}.${s}`:s;a=a.concat(this.extractObjects(e[s],o,n))}if(e.answerValueSet&&e.answerValueSet.startsWith("http")){let o=new URL(e.answerValueSet).searchParams.get("fhir_vs");if(o){let u=decodeURIComponent(o),l=/(\d{5,})(?:\s*\|\s*([^|]*)\s*\|)?/g,c;for(;(c=l.exec(u))!==null;)this.orderCounter++,a.push({order:this.orderCounter,code:c[1],display:c[2]?c[2].trim():void 0,system:"http://snomed.info/sct",path:r+".answerValueSet",readablePath:n+" -> answerValueSet [ECL]",status:"Not checked"})}}return a}replaceInactiveConcept(e,r){this.searchAndReplace(this.questionnaire,e,r,!1)&&(this.requiresSave=!0,this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Inactive reference replaced successfully. Save the questionnaire to persist the changes.",panelClass:["green-snackbar"]}))}saveQuestionnaire(){this.questionnaireUpdated.emit(this.questionnaire)}searchAndReplace(e,r,n,a){if(typeof e!="object"||e===null)return a;if(e.system==r.system&&e.code==r.code&&e.display==r.display&&(e.system=n.system,e.code=n.code,e.display=n.display,a=!0),e.answerValueSet){let s=new URL(e.answerValueSet),o=s.searchParams.get("fhir_vs");if(o){let u=decodeURIComponent(o),l=new RegExp(`(\\s|^)${r.code}(\\s|$|\\|)`,"g");if(l.test(u)){let c=u.replace(l,`$1${n.code}$2`);a=!0;let h=new RegExp(`\\|\\s*${r.display}\\s*\\|`,"g");if(h.test(c)){let d=c.replace(h,`| ${n.display} |`);s.searchParams.set("fhir_vs",encodeURIComponent(d)),e.answerValueSet=s.toString()}s.searchParams.set("fhir_vs",encodeURIComponent(c)),e.answerValueSet=s.toString()}}}if(Array.isArray(e))for(let s in e)a=this.searchAndReplace(e[s],r,n,a);else for(let s in e)e.hasOwnProperty(s)&&(a=this.searchAndReplace(e[s],r,n,a));if(a&&this.dataSource.data)for(let s in this.dataSource.data)this.dataSource.data[s].system==r.system&&this.dataSource.data[s].code==r.code&&this.dataSource.data[s].display==r.display&&(this.dataSource.data[s].system=n.system,this.dataSource.data[s].code=n.code,this.dataSource.data[s].display=n.display,this.dataSource.data[s].status="Active",this.dataSource.data[s].replacements=[]);return a}static{this.\u0275fac=function(r){return new(r||t)(je(An),je(bo))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-validate-questionnaire"]],viewQuery:function(r,n){if(r&1&&(Jt(Ec,5),Jt(kl,5),Jt(kCe,5)),r&2){let a;yt(a=xt())&&(n.sort=a.first),yt(a=xt())&&(n.tabGroup=a.first),yt(a=xt())&&(n.questionnairesList=a.first)}},inputs:{questionnaire:"questionnaire"},outputs:{questionnaireUpdated:"questionnaireUpdated",validatingQuestionnaire:"validatingQuestionnaire"},standalone:!1,features:[Ki],decls:31,vars:8,consts:[[1,"button-container","bottom-spacer"],["class","progress-container",4,"ngIf"],["mat-flat-button","","color","accent",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["class","header","id","tab-header",4,"ngIf"],[1,"table-container","mt-4"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","order"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","path"],["matColumnDef","readablePath"],["matColumnDef","code"],["matColumnDef","display"],["matColumnDef","system"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["diameter","35","class","loading-spinner",4,"ngIf"],[1,"progress-container"],["mode","determinate",3,"value"],[1,"progress-label"],["mat-flat-button","","color","accent",3,"click","disabled"],["mat-flat-button","","color","accent",3,"click"],[4,"ngIf"],["diameter","20",4,"ngIf"],["diameter","20"],["id","tab-header",1,"header"],[1,"bindingsCount"],["class","mini-pill Error",4,"ngIf"],["class","mini-pill Inactive",4,"ngIf"],["class","mini-pill Active",4,"ngIf"],[1,"mini-pill","Error"],[1,"mini-pill","Inactive"],[1,"mini-pill","Active"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["target","_blank",1,"code-link",3,"href"],["class","server-name",4,"ngIf"],["class","concept-is-inactive",4,"ngIf"],["class","replacement",4,"ngFor","ngForOf"],[1,"server-name"],[1,"concept-is-inactive"],[1,"replacement"],["mat-icon-button","","color","primary","matTooltip","Replace using this concept",3,"click","disabled"],["mode","indeterminate"],[1,"pill",3,"ngClass"],["mat-header-row",""],["mat-row",""],["diameter","35",1,"loading-spinner"]],template:function(r,n){r&1&&(B(0,"div",0),Te(1,FCe,4,2,"div",1)(2,OCe,2,1,"button",2)(3,BCe,3,2,"button",3),U(),Te(4,HCe,14,11,"p",4),B(5,"div",5)(6,"table",6),Ni(7,7),Te(8,GCe,2,0,"th",8)(9,jCe,2,1,"td",9),Bi(),Ni(10,10),Te(11,WCe,2,0,"th",8)(12,XCe,2,1,"td",9),Bi(),Ni(13,11),Te(14,YCe,2,0,"th",8)(15,$Ce,2,1,"td",9),Bi(),Ni(16,12),Te(17,QCe,2,0,"th",8)(18,KCe,3,3,"td",9),Bi(),Ni(19,13),Te(20,ZCe,2,0,"th",8)(21,tSe,5,4,"td",9),Bi(),Ni(22,14),Te(23,iSe,2,0,"th",8)(24,nSe,2,1,"td",9),Bi(),Ni(25,15),Te(26,rSe,2,0,"th",8)(27,oSe,3,2,"td",9),Bi(),Te(28,lSe,1,0,"tr",16)(29,cSe,1,0,"tr",17),U(),Te(30,uSe,1,0,"mat-spinner",18),U()),r&2&&(K(),oe("ngIf",n.validating),K(),oe("ngIf",n.requiresSave),K(),oe("ngIf",!n.validating&&n.questionnaire),K(),oe("ngIf",n.questionnaire),K(2),oe("dataSource",n.dataSource),K(22),oe("matHeaderRowDef",n.displayedColumns),K(),oe("matRowDefColumns",n.displayedColumns),K(),oe("ngIf",n.loading))},dependencies:[Ka,qi,Xi,ln,Zn,pn,r0,Ra,Jc,eu,ru,tu,qc,su,iu,nu,au,ou,zs,Ec,A1,Rl],styles:[".header[_ngcontent-%COMP%]{margin-left:2rem;margin-top:1rem}.table-container[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem;padding-bottom:2rem}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.bottom-spacer[_ngcontent-%COMP%]{margin-bottom:1rem}.pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;font-weight:700;text-align:center;display:inline-block;font-size:.8rem}.pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.mini-pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;text-align:center;font-weight:700;font-size:.9rem;margin-right:2rem;float:right}.mini-pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.mini-pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.mini-pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.progress-container[_ngcontent-%COMP%]{margin-top:1rem;position:relative;width:30%}.progress-label[_ngcontent-%COMP%]{position:absolute;width:100%;text-align:center;top:60%;transform:translateY(-50%);font-size:.9rem;font-weight:700}.bindingsCount[_ngcontent-%COMP%]{font-size:1rem;font-weight:lighter}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.code-link[_ngcontent-%COMP%]{font-size:.8rem}.server-name[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:maroon}.replacement[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:#00800b;display:flex;align-items:center;font-size:.9rem;margin-left:2rem}.concept-is-inactive[_ngcontent-%COMP%]{color:maroon;font-size:.9rem;margin-bottom:0rem}#myFormContainer[_ngcontent-%COMP%], #tab-header[_ngcontent-%COMP%]{margin-top:1rem}.tab-container[_ngcontent-%COMP%]{padding:2rem}.outgoing-link[_ngcontent-%COMP%]{font-size:.8rem;float:right;margin-right:2rem}"]})}}return t})();var dY=Ro(_f());var hSe=t=>["status-pill",t],fSe=()=>["status-pill","active"],pSe=()=>["status-pill","draft"];function mSe(t,i){t&1&&(B(0,"th",15),J(1," Title "),U())}function gSe(t,i){if(t&1&&(B(0,"td",16),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.title," ")}}function vSe(t,i){t&1&&(B(0,"th",15),J(1," Status "),U())}function ySe(t,i){if(t&1&&(B(0,"td",16)(1,"span",17),J(2),pr(3,"uppercase"),U()()),t&2){let e=i.$implicit;K(),oe("ngClass",Ia(4,hSe,e.status)),K(),vt(Da(3,2,e.status))}}function xSe(t,i){t&1&&(B(0,"th",15),J(1," Version "),U())}function bSe(t,i){if(t&1&&(B(0,"td",16),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.meta.versionId," ")}}function _Se(t,i){t&1&&(B(0,"th",15),J(1," Date "),U())}function wSe(t,i){if(t&1&&(B(0,"td",16)(1,"i"),J(2),pr(3,"date"),U()()),t&2){let e=i.$implicit;K(2),vt(yo(3,1,e.meta.lastUpdated,"MMMM d, y, h:mm:ss a"))}}function CSe(t,i){t&1&&(B(0,"th",15),J(1," Type "),U())}function SSe(t,i){t&1&&(B(0,"span",17),J(1,"QUESTIONNAIRE"),U()),t&2&&oe("ngClass",Or(1,fSe))}function TSe(t,i){t&1&&(B(0,"span",17),J(1,"MODULAR ROOT"),U()),t&2&&oe("ngClass",Or(1,pSe))}function ESe(t,i){if(t&1&&(B(0,"td",16),Te(1,SSe,2,2,"span",18)(2,TSe,2,2,"span",18),U()),t&2){let e=i.$implicit,r=pe();K(),oe("ngIf",!r.isRootQuestionnaire(e)),K(),oe("ngIf",r.isRootQuestionnaire(e))}}function ASe(t,i){t&1&&(B(0,"th",19),J(1," Actions "),U())}function MSe(t,i){if(t&1){let e=Ye();B(0,"button",24),we("click",function(){Me(e);let n=pe().$implicit,a=pe();return Ie(a.restore(n))}),B(1,"mat-icon"),J(2,"restore_page"),U()()}}function ISe(t,i){if(t&1){let e=Ye();B(0,"td",16)(1,"button",20),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.preview(n))}),B(2,"mat-icon"),J(3,"visibility"),U()(),B(4,"button",21),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.openInNewTab(n))}),B(5,"mat-icon"),J(6,"open_in_new"),U()(),B(7,"button",22),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.saveQuestionnaire(n))}),B(8,"mat-icon"),J(9,"cloud_download"),U()(),Te(10,MSe,3,0,"button",23),U()}if(t&2){let e=i.$implicit,r=pe();K(10),oe("ngIf",(e==null||e.meta==null?null:e.meta.versionId)!=(r.versions[0]==null||r.versions[0].meta==null?null:r.versions[0].meta.versionId))}}function DSe(t,i){t&1&&He(0,"tr",25)}function PSe(t,i){t&1&&He(0,"tr",26)}function RSe(t,i){t&1&&(B(0,"p",27)(1,"i"),J(2," No questionnaire selected. "),U()())}function kSe(t,i){t&1&&He(0,"mat-spinner",28)}var hY=(()=>{class t{constructor(e){this.fhirService=e,this.previewQuestionnaire=new Tt,this.restoreQuestionnaireVersion=new Tt,this.versions=[],this.loading=!1,this.selectedFhirServer="",this.selectedUserTag="",this.displayedColumns=["title","status","version","lastUpdated","type","actions"],this.dataSource=new Hu}ngOnChanges(e){e.questionnaire&&e.questionnaire.currentValue&&e.questionnaire.currentValue.id&&this.loadVersions()}ngOnInit(){il([this.fhirService.baseUrl$.pipe(ta(1e3),vc()),this.fhirService.userTag$.pipe(ta(1e3),vc())]).subscribe(([e,r])=>{(this.selectedFhirServer!==e||this.selectedUserTag!==r)&&(this.selectedFhirServer=e,this.selectedUserTag=r,this.selectedUserTag&&this.selectedFhirServer&&this.loadVersions())})}loadVersions(e){this.versions=[],this.dataSource.data=this.versions,e&&(this.questionnaire=e),this.questionnaire&&(this.loading=!0,this.fhirService.getQuestionnaireHistory(this.questionnaire.id).subscribe(r=>{this.versions=r.entry.map(n=>n.resource),this.dataSource.data=this.versions,this.loading=!1},r=>{this.loading=!1}))}preview(e){this.previewQuestionnaire.emit(e),this.loadVersions()}openInNewTab(e){let r=this.selectedFhirServer+"/Questionnaire/"+e.id+"/_history/"+e.meta.versionId;window.open(r,"_blank")}saveQuestionnaire(e){var r=new Blob([JSON.stringify(e,null,2)],{type:"text/plain;charset=utf-8"});(0,dY.saveAs)(r,`${e.title}-v${e.meta.versionId}.json`)}restore(e){this.restoreQuestionnaireVersion.emit(e)}isRootQuestionnaire(e){return e.extension&&Array.isArray(e.extension)?e.extension.some(r=>r.url==="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"&&r.valueCode==="assemble-root"):!1}static{this.\u0275fac=function(r){return new(r||t)(je(Bd))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-questionnaire-history"]],inputs:{questionnaire:"questionnaire"},outputs:{previewQuestionnaire:"previewQuestionnaire",restoreQuestionnaireVersion:"restoreQuestionnaireVersion"},standalone:!1,features:[Ki],decls:24,vars:5,consts:[[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","version"],["matColumnDef","lastUpdated"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","not-found",4,"ngIf"],["diameter","35","class","loading-spinner",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"ngClass"],[3,"ngClass",4,"ngIf"],["mat-header-cell",""],["mat-icon-button","","color","accent","matTooltip","Preview Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Open resource in new tab",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Download Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Restore Version",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","Restore Version",1,"action-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"not-found"],["diameter","35",1,"loading-spinner"]],template:function(r,n){r&1&&(B(0,"div",0)(1,"table",1),Ni(2,2),Te(3,mSe,2,0,"th",3)(4,gSe,2,1,"td",4),Bi(),Ni(5,5),Te(6,vSe,2,0,"th",3)(7,ySe,4,6,"td",4),Bi(),Ni(8,6),Te(9,xSe,2,0,"th",3)(10,bSe,2,1,"td",4),Bi(),Ni(11,7),Te(12,_Se,2,0,"th",3)(13,wSe,4,4,"td",4),Bi(),Ni(14,8),Te(15,CSe,2,0,"th",3)(16,ESe,3,2,"td",4),Bi(),Ni(17,9),Te(18,ASe,2,0,"th",10)(19,ISe,11,1,"td",4),Bi(),Te(20,DSe,1,0,"tr",11)(21,PSe,1,0,"tr",12),U(),Te(22,RSe,3,0,"p",13)(23,kSe,1,0,"mat-spinner",14),U()),r&2&&(K(),oe("dataSource",n.dataSource),K(19),oe("matHeaderRowDef",n.displayedColumns),K(),oe("matRowDefColumns",n.displayedColumns),K(),oe("ngIf",!n.questionnaire),K(),oe("ngIf",n.loading))},dependencies:[Ka,Xi,Zn,pn,Ra,Jc,eu,ru,tu,qc,su,iu,nu,au,ou,zs,Ec,A1,vT,Rl],styles:[".list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.list-text[_ngcontent-%COMP%]{flex-grow:1}.list-subtext[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-left:1rem}.action-button[_ngcontent-%COMP%]{margin-left:8px}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.list-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.status-pill[_ngcontent-%COMP%]{display:inline-block;padding:3px 8px;border-radius:15px;font-size:10px;color:#fff;text-align:center;margin-left:1rem}.status-pill.draft[_ngcontent-%COMP%]{background-color:#007bff}.status-pill.unknown[_ngcontent-%COMP%]{background-color:#ffc107}.status-pill.active[_ngcontent-%COMP%]{background-color:#28a745}.status-pill.retired[_ngcontent-%COMP%]{background-color:#dc3545}.not-found[_ngcontent-%COMP%]{margin-top:2rem}#outer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.download-button-container[_ngcontent-%COMP%]{margin-top:10px}.table-container[_ngcontent-%COMP%]{margin:2rem;padding-bottom:2rem}"]})}}return t})();var OSe=["questionnairesList"],LSe=["fileInput"],NSe=["questionnaireHistory"];function BSe(t,i){t&1&&(B(0,"span"),J(1," / Validator"),U())}function VSe(t,i){t&1&&(B(0,"span"),J(1," / Questionnaires repository"),U())}function zSe(t,i){if(t&1){let e=Ye();B(0,"span",19)(1,"a",20),we("click",function(){Me(e);let n=pe(3);return Ie(n.mode="Manager")}),B(2,"mat-icon"),J(3,"play_arrow"),U(),B(4,"span"),J(5,"Reconnect to last FHIR Server"),U()()()}}function USe(t,i){if(t&1&&(B(0,"span",19)(1,"span",21),J(2),B(3,"i"),J(4),U(),J(5,'" )'),U()()),t&2){let e=pe(3);K(2),It(" ( ",e.selectedFhirServer,' as "'),K(2),vt(e.selectedUserTag)}}function HSe(t,i){if(t&1){let e=Ye();B(0,"div",14)(1,"h3",15),J(2,"Work with the Questionnaire Manager"),U(),B(3,"p",15),J(4,"Connect to a FHIR server to store and version your questionnaire resources. Use the integrated questionnaire manager, editor and validator."),U(),B(5,"div",16)(6,"button",17),we("click",function(){Me(e);let n=pe(2);return n.step1Response="repository",Ie(n.advanceFromStep1())}),J(7,"Connect to a FHIR Server and Open Repository Manager"),U(),Te(8,zSe,6,0,"span",18)(9,USe,6,2,"span",18),U()()}if(t&2){let e=pe(2);K(8),oe("ngIf",e.selectedFhirServer&&e.selectedUserTag),K(),oe("ngIf",e.selectedFhirServer&&e.selectedUserTag)}}function GSe(t,i){if(t&1){let e=Ye();B(0,"div",22)(1,"h3",15),J(2,"Work with a single questionnaire"),U(),B(3,"p",15),J(4,"Create, preview or validate a questionnaire you upload from your computer."),U(),B(5,"div",23)(6,"button",17),we("click",function(){Me(e);let n=pe(2);return n.step1Response="edit",Ie(n.advanceFromStep1())}),J(7,"Open NLM Form Builder"),U(),B(8,"button",17),we("click",function(){Me(e);let n=pe(2);return n.step1Response="example",Ie(n.advanceFromStep1())}),J(9,"Load an example questionnaire"),U(),B(10,"button",17),we("click",function(){Me(e);let n=pe(2);return n.step1Response="validate",Ie(n.advanceFromStep1())}),J(11,"Upload and validate a questionnaire"),U()()()}}function jSe(t,i){if(t&1&&(B(0,"div",10)(1,"div",11),Te(2,HSe,10,2,"div",12)(3,GSe,12,0,"div",13),U()()),t&2){let e=pe();K(2),oe("ngIf",e.mode=="step1"),K(),oe("ngIf",e.mode=="utility")}}function WSe(t,i){if(t&1&&(B(0,"span"),J(1," Connected to "),B(2,"a",37),J(3),U(),J(4,' as "'),B(5,"i"),J(6),U(),J(7,'" '),U()),t&2){let e=pe(2);K(2),oe("href",e.selectedFhirServer,bg),K(),vt(e.selectedFhirServer),K(3),vt(e.selectedUserTag)}}function XSe(t,i){if(t&1){let e=Ye();B(0,"button",26),we("click",function(){Me(e);let n=pe(2);return Ie(n.createQuestionnaire())}),J(1," Create Questionnaire "),U()}if(t&2){let e=pe(2);oe("disabled",e.validating)}}function YSe(t,i){if(t&1){let e=Ye();B(0,"button",26),we("click",function(){Me(e);let n=pe(2);return Ie(n.openModularQuestionnaireModal())}),J(1," Create Modular Questionnaire "),U()}if(t&2){let e=pe(2);oe("disabled",e.validating)}}function $Se(t,i){if(t&1){let e=Ye();B(0,"mat-tab",38)(1,"div",31)(2,"app-list-questionnaires",39,3),we("validateQuestionnaire",function(n){Me(e);let a=pe(2);return Ie(a.switchToValidateTab(n))})("previewQuestionnaire",function(n){Me(e);let a=pe(2);return Ie(a.switchToPreviewTab(n))})("viewQuestionaireHistory",function(n){Me(e);let a=pe(2);return Ie(a.switchToHistoryTab(n))}),U()()()}if(t&2){let e=pe(2);K(2),oe("config",e.listConfig)}}function QSe(t,i){if(t&1&&(B(0,"h4"),J(1),pr(2,"date"),U()),t&2){let e=pe(2);K(),_g("",e.questionnaire.title," - Version: ",e.questionnaire.meta.versionId," (",yo(2,3,e.questionnaire.meta.lastUpdated,"fullDate"),")")}}function KSe(t,i){if(t&1){let e=Ye();B(0,"div")(1,"div",24),Te(2,WSe,8,3,"span",8),B(3,"input",25,0),we("change",function(n){Me(e);let a=pe();return Ie(a.onFileSelected(n))}),U(),B(5,"button",26),we("click",function(){Me(e);let n=hi(4);return Ie(n.click())}),J(6," Upload "),U(),B(7,"button",26),we("click",function(){Me(e);let n=pe();return Ie(n.saveQuestionnaireToDisk())}),J(8,"Download"),U(),Te(9,XSe,2,1,"button",27)(10,YSe,2,1,"button",27),U(),B(11,"mat-tab-group",28),we("selectedIndexChange",function(n){Me(e);let a=pe();return Ie(a.onTabChange(n))}),Te(12,$Se,4,1,"mat-tab",29),B(13,"mat-tab",30)(14,"div",31),Te(15,QSe,3,6,"h4",8),He(16,"div",32),U()(),B(17,"mat-tab",33)(18,"app-validate-questionnaire",34,1),we("questionnaireUpdated",function(n){Me(e);let a=pe();return Ie(a.saveQuestionnaire(n))})("validatingQuestionnaire",function(n){Me(e);let a=pe();return Ie(a.validating=n)}),U()(),B(20,"mat-tab",35)(21,"app-questionnaire-history",36,2),we("previewQuestionnaire",function(n){Me(e);let a=pe();return Ie(a.switchToPreviewTab(n))})("restoreQuestionnaireVersion",function(n){Me(e);let a=pe();return Ie(a.saveQuestionnaire(n))}),U()()()()}if(t&2){let e=pe();K(2),oe("ngIf",e.mode=="Manager"),K(3),oe("disabled",e.validating),K(2),oe("disabled",e.validating||!e.questionnaire),K(2),oe("ngIf",e.mode=="Manager"),K(),oe("ngIf",e.mode=="Manager"),K(2),oe("ngIf",e.mode==="Manager"),K(3),oe("ngIf",e.questionnaire),K(),Ut("hidden",!e.questionnaire),K(2),oe("questionnaire",e.questionnaire),K(3),oe("questionnaire",e.questionnaire)}}var pY=(()=>{class t{constructor(e,r,n,a,s,o,u){this.http=e,this.terminologyService=r,this.fhirService=n,this.questionnaireService=a,this.activatedRoute=s,this.dialog=o,this._snackBar=u,this.loading=!1,this.validating=!1,this.orderCounter=0,this.savingQuestionnaire=!1,this.selectedFhirServer="",this.selectedUserTag="",this.showFhirSetupModal=!1,this.listConfig={validate:!0,preview:!0},this.mode="step1"}ngOnInit(){this.fhirService.baseUrl$.subscribe(e=>{this.selectedFhirServer=e}),this.fhirService.userTag$.subscribe(e=>{this.selectedUserTag=e}),this.activatedRoute.queryParams.subscribe(e=>{e.utility==="true"?this.mode="utility":this.mode="step1"}),this.loadScript()}loadScript(){let e=document.createElement("script");e.src="https://clinicaltables.nlm.nih.gov/lforms-versions/36.3.2/webcomponent/lhc-forms.js",e.onload=()=>{let r=document.createElement("script");r.src="https://clinicaltables.nlm.nih.gov/lforms-versions/36.3.2/fhir/R4/lformsFHIR.min.js",r.onload=()=>{},document.head.appendChild(r)},document.head.appendChild(e)}toggleMode(){this.mode==="Validator"?this.dialog.open(EA,{width:"60%",disableClose:!0}).afterClosed().subscribe(r=>{r==="save"&&(this.mode="Manager",setTimeout(()=>{this.tabGroup.selectedIndex=0},500))}):this.mode="Validator"}previewForm(){this.getCurrentTabName()=="Preview"&&(this.questionnaire?LForms.Util.addFormToPage(this.questionnaire,"myFormContainer"):LForms.Util.addFormToPage({},"myFormContainer"))}getFormData(){if(this.questionnaire){let e=LForms.Util.getFormData("myFormContainer",!0,!0,!0)}}displayHistory(e){e&&this.questionnaireHistory.loadVersions(e)}loadExampleQuestionnaire(){Ir(this.http.get("assets/questionnaires/Carcinoma-of-the-Exocrine-Pancreas-Histopathology-Reporting-Form.R4 (11).json")).then(e=>{this.loadQuestionnaire(e),this.mode==="Manager"&&(this.tabGroup.selectedIndex=1)})}clearQuestionnaire(){this.questionnaire=null,this.orderCounter=0,this.previewForm()}createQuestionnaire(){this.questionnairesList.createQuestionnaire()}loadQuestionnaire(e){this.loading=!0,this.clearQuestionnaire(),setTimeout(()=>{this.loading=!1,this.questionnaire=e,this.previewForm()},700)}saveQuestionnaireToDisk(){var e=new Blob([JSON.stringify(this.questionnaire,null,2)],{type:"text/plain;charset=utf-8"});(0,fY.saveAs)(e,`${this.questionnaire.title}.json`)}onFileSelected(e){let r=e.target.files?.[0];if(r){let n=new FileReader;n.onload=a=>{try{let s=JSON.parse(a.target?.result);s.resourceType==="Questionnaire"?(this.loadQuestionnaire(s),setTimeout(()=>{this.mode==="Manager"?this.postCurrentQuestionnaire():this.tabGroup.selectedIndex=1},1e3)):this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"The file is not a FHIR Questionnaire Resource",panelClass:["red-snackbar"]})}catch(s){console.error(s),this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Invalid JSON file",panelClass:["red-snackbar"]})}},n.readAsText(r),e.target.value=""}}postCurrentQuestionnaire(){this.postQuestionnaire(this.questionnaire)}postQuestionnaire(e){if(this.questionnairesList.questionnaires.findIndex(n=>n.title===e.title&&n.id!==e.id)!==-1)this.dialog.open(AA,{width:"400px",data:{title:"Confirm Action",message:"A questionnaire with the same title and different ID already exists. Do you want to proceed?"}}).afterClosed().subscribe(a=>{a?this.saveQuestionnaire(e):this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Questionnaire save action cancelled",panelClass:["red-snackbar"]})});else{let n=this.questionnairesList.questionnaires.findIndex(s=>s.title===e.title&&s.id===e.id&&s.meta?.versionId>=e.meta?.versionId),a=this.questionnairesList.questionnaires[n];n!==-1?this.dialog.open(AA,{width:"400px",data:{title:"Confirm Action",message:"A newer version or identical of this questionnaire already exists. Do you want to proceed?"}}).afterClosed().subscribe(o=>{o?this.saveQuestionnaire(e):this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Questionnaire save action cancelled",panelClass:["red-snackbar"]})}):this.saveQuestionnaire(e)}}saveQuestionnaire(e){if(!e){this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"No questionnaire to save",panelClass:["red-snackbar"]});return}this.savingQuestionnaire=!0,this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Saving Questionnaire...",panelClass:["green-snackbar"]}),e.meta||(e.meta={}),e.meta.tag=[{system:"http://snomed.org/tags",code:this.selectedUserTag,display:this.selectedUserTag},{system:"http://snomed.org/tags",code:"questionnaireManagerTool",display:"questionnaireManagerTool"}],this.fhirService.updateOrCreateQuestionnaire(e,this.selectedUserTag).pipe(ko()).subscribe(r=>{setTimeout(()=>{this.tabGroup.selectedIndex=0,setTimeout(()=>{this.savingQuestionnaire=!1,this.questionnairesList.addQuestionnaire(r)},300)},300),this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Questionnaire saved successfully",panelClass:["green-snackbar"]})},r=>{this.savingQuestionnaire=!1,this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]}),this.dialog.open(AA,{width:"400px",data:{title:"Save error",message:"This could be an ID conflict. Post again as a new questionnaire?"}}).afterClosed().subscribe(a=>{a?(delete e.id,this.saveQuestionnaire(e)):this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Questionnaire not saved",panelClass:["red-snackbar"]})})})}listQuestionnaires(){this.fhirService.getQuestionnairesByTag(this.selectedUserTag).pipe(ko()).subscribe(e=>{},e=>{console.error(e)})}openLoadQuestionnairesDialog(){this.dialog.open(oY,{width:"70%"}).afterClosed().subscribe(r=>{this.loadQuestionnaire(r)})}setFhirServer(){this.fhirService.setBaseUrl(this.selectedFhirServer),this.fhirService.setUserTag(this.selectedUserTag)}setupFhirServer(){this.dialog.open(EA,{width:"60%"})}switchToValidateTab(e){this.loadQuestionnaire(e),this.tabGroup.selectedIndex=2}switchToPreviewTab(e){this.loadQuestionnaire(e),this.tabGroup.selectedIndex=1}switchToHistoryTab(e){this.displayHistory(e),this.tabGroup.selectedIndex=3}advanceFromStep1(){this.step1Response=="edit"?window.open("https://lhcformbuilder.nlm.nih.gov/","_blank"):this.step1Response=="validate"?(this.mode="Validator",setTimeout(()=>{this.uploadInput.nativeElement.click()},200)):this.step1Response=="repository"?this.dialog.open(EA,{width:"60%"}).afterClosed().subscribe(r=>{r&&(this.mode="Manager")}):this.step1Response=="example"?(this.mode="Validator",setTimeout(()=>{this.loadExampleQuestionnaire()},300)):this.step1Response=="reconnect"&&(this.mode="Manager"),this.step1Response=""}getCurrentTabName(){let e=this.tabGroup.selectedIndex;return e!=null?this.tabGroup._tabs.toArray()[e].textLabel:""}onTabChange(e){this.tabGroup._tabs.toArray()[e].textLabel==="Preview"&&setTimeout(()=>{this.previewForm()},300)}openModularQuestionnaireModal(){this.dialog.open(wA,{width:"75%"}).afterClosed().subscribe(r=>{r&&this.questionnaireService.generateRootQuestionnaire(r.title,r.questionnaires).then(n=>{this.postQuestionnaire(n)}).catch(n=>{console.error("Error:",n)})})}static{this.\u0275fac=function(r){return new(r||t)(je(Ms),je(An),je(Bd),je(SA),je(Va),je(Yu),je(bo))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-questionnaires-main"]],viewQuery:function(r,n){if(r&1&&(Jt(Ec,5),Jt(kl,5),Jt(OSe,5),Jt(LSe,5),Jt(NSe,5)),r&2){let a;yt(a=xt())&&(n.sort=a.first),yt(a=xt())&&(n.tabGroup=a.first),yt(a=xt())&&(n.questionnairesList=a.first),yt(a=xt())&&(n.uploadInput=a.first),yt(a=xt())&&(n.questionnaireHistory=a.first)}},standalone:!1,decls:11,vars:4,consts:[["fileInput",""],["validateQuestionnaire",""],["questionnaireHistory",""],["questionnairesList",""],[1,"header-container"],[1,"header"],[1,"breadcrumb"],["href","javascript:void(0)",3,"click"],[4,"ngIf"],["id","step1",4,"ngIf"],["id","step1"],[1,"flex","justify-between","pr-4"],["class","w-full border-2 border-blue-200 bg-transparent rounded-lg p-4 m-2 min-h-[500px]",4,"ngIf"],["class","w-full border-2 border-blue-200 bg-transparent rounded-lg p-4 m-2 min-h-[500px] justify-center",4,"ngIf"],[1,"w-full","border-2","border-blue-200","bg-transparent","rounded-lg","p-4","m-2","min-h-[500px]"],[1,"text-center"],[1,"flex","justify-center","flex-col","gap-1","mt-10"],["mat-flat-button","","color","accent",1,"mx-auto","w-auto","flex-none",3,"click"],["class","mx-auto w-auto flex-none",4,"ngIf"],[1,"mx-auto","w-auto","flex-none"],["href","javascript:void(0)","id","reconnect-link",3,"click"],[1,"muted"],[1,"w-full","border-2","border-blue-200","bg-transparent","rounded-lg","p-4","m-2","min-h-[500px]","justify-center"],[1,"flex","justify-center","flex-col","gap-5","mt-10"],[1,"button-container","bottom-spacer"],["type","file","hidden","",3,"change"],["mat-flat-button","","color","accent",3,"click","disabled"],["mat-flat-button","","color","accent",3,"disabled","click",4,"ngIf"],["mat-stretch-tabs","false","mat-align-tabs","start",3,"selectedIndexChange"],["label","My Questionnaires",4,"ngIf"],["label","Preview"],[1,"tab-container"],["id","myFormContainer"],["label","Validate SNOMED Bindings"],[3,"questionnaireUpdated","validatingQuestionnaire","questionnaire"],["label","History"],[3,"previewQuestionnaire","restoreQuestionnaireVersion","questionnaire"],["target","_blank",3,"href"],["label","My Questionnaires"],[3,"validateQuestionnaire","previewQuestionnaire","viewQuestionaireHistory","config"]],template:function(r,n){r&1&&(B(0,"div",4)(1,"h2",5),J(2," SNOMED CT Terminology Bindings Validator - FHIR Questionnaire Manager "),U(),B(3,"div",6)(4,"span")(5,"a",7),we("click",function(){return n.mode="step1"}),J(6,"Home"),U(),Te(7,BSe,2,0,"span",8)(8,VSe,2,0,"span",8),U()()(),Te(9,jSe,4,2,"div",9)(10,KSe,23,11,"div",8)),r&2&&(K(7),oe("ngIf",n.mode=="Validator"),K(),oe("ngIf",n.mode=="Manager"),K(),oe("ngIf",n.mode=="step1"||n.mode=="utility"),K(),oe("ngIf",n.mode=="Manager"||n.mode=="Validator"))},dependencies:[Xi,ln,pn,Xu,kl,TA,uY,hY,Rl],styles:[".header[_ngcontent-%COMP%]{margin-left:2rem;margin-top:1rem}.table-container[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.bottom-spacer[_ngcontent-%COMP%]{margin-bottom:1rem}.pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;font-weight:700;text-align:center;display:inline-block;font-size:.8rem}.pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.mini-pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;text-align:center;font-weight:700;font-size:.9rem;margin-right:2rem;float:right}.mini-pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.mini-pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.mini-pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.progress-container[_ngcontent-%COMP%]{margin-top:1rem;position:relative;width:30%}.progress-label[_ngcontent-%COMP%]{position:absolute;width:100%;text-align:center;top:60%;transform:translateY(-50%);font-size:.9rem;font-weight:700}.bindingsCount[_ngcontent-%COMP%]{font-size:1rem;font-weight:lighter}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.code-link[_ngcontent-%COMP%]{font-size:.8rem}.server-name[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:maroon}.replacement[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:#00800b;display:flex;align-items:center;font-size:.9rem;margin-left:2rem}.concept-is-inactive[_ngcontent-%COMP%]{color:maroon;font-size:.9rem;margin-bottom:0rem}#myFormContainer[_ngcontent-%COMP%], #tab-header[_ngcontent-%COMP%]{margin-top:1rem}.tab-container[_ngcontent-%COMP%]{padding-top:1rem;padding-left:2rem;padding-right:2rem}.outgoing-link[_ngcontent-%COMP%]{font-size:.8rem;float:right;margin-right:2rem}#step1[_ngcontent-%COMP%]{margin-top:2rem;margin-left:2rem;font-size:large}#step1[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{margin-left:2rem;display:flex;flex-direction:column;align-items:flex-start}.step-button-container[_ngcontent-%COMP%]{margin-left:30rem;margin-top:2rem}.breadcrumb[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:2rem}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hidden[_ngcontent-%COMP%]{visibility:hidden}.muted[_ngcontent-%COMP%]{color:#8f9397}#reconnect[_ngcontent-%COMP%]{margin-left:5rem}#reconnect-link[_ngcontent-%COMP%]{display:flex;vertical-align:middle;flex-direction:row}"]})}}return t})();var ZSe=t=>({"bg-pink":t});function JSe(t,i){if(t&1&&(B(0,"p",18),J(1),U()),t&2){let e=pe();K(),vt(e.studentSubsetDefinition)}}function qSe(t,i){t&1&&He(0,"mat-spinner",19)}function eTe(t,i){if(t&1&&(B(0,"p",23),J(1),U()),t&2){let e=pe(2);K(),vt(e.definitionVsMembersValidationResult)}}function tTe(t,i){if(t&1&&(B(0,"p",23),J(1),U()),t&2){let e=pe(2);K(),vt(e.keyConceptValidationResult)}}function iTe(t,i){if(t&1&&(B(0,"div",20)(1,"h3",21),J(2,"Validation Results"),U(),Te(3,eTe,2,1,"p",22)(4,tTe,2,1,"p",22),B(5,"p",23),J(6),U(),B(7,"p",23),J(8),U()()),t&2){let e=pe();K(3),oe("ngIf",e.selectedAssignment.referenceDefinition),K(),oe("ngIf",e.selectedAssignment.referenceDefinition),K(2),vt(e.membersNotInRefrenceListResult),K(2),vt(e.refrenceListVsStudentListResult)}}function nTe(t,i){t&1&&(B(0,"th",33),J(1,"ID"),U())}function rTe(t,i){if(t&1&&(B(0,"td",34),J(1),U()),t&2){let e=i.$implicit;K(),vt(e.referencedComponentId)}}function sTe(t,i){t&1&&(B(0,"th",33),J(1,"Name"),U())}function aTe(t,i){if(t&1&&(B(0,"td",34),J(1),U()),t&2){let e=i.$implicit;K(),vt(e.name)}}function oTe(t,i){t&1&&(B(0,"th",33),J(1,"Result"),U())}function lTe(t,i){t&1&&(B(0,"span"),J(1,"OK"),U())}function cTe(t,i){if(t&1&&(B(0,"span"),J(1),U()),t&2){let e=pe(2).$implicit;K(),It(" ",e.customMessage.note," ")}}function uTe(t,i){t&1&&(B(0,"span"),J(1," Error "),U())}function dTe(t,i){if(t&1&&(B(0,"span"),Te(1,lTe,2,0,"span",16)(2,cTe,2,1,"span",16)(3,uTe,2,0,"span",16),U()),t&2){let e=pe().$implicit;K(),oe("ngIf",e==null||e.inReferenceList==null?null:e.inReferenceList.value),K(),oe("ngIf",!(!(e==null||e.inReferenceList==null)&&e.inReferenceList.value)&&(e==null||e.customMessage==null?null:e.customMessage.value)),K(),oe("ngIf",!(!(e==null||e.inReferenceList==null)&&e.inReferenceList.value)&&!(!(e==null||e.customMessage==null)&&e.customMessage.value))}}function hTe(t,i){if(t&1&&(B(0,"td",34),Te(1,dTe,4,3,"span",16),U()),t&2){let e=pe(2);K(),oe("ngIf",e.membersValidationResult)}}function fTe(t,i){t&1&&He(0,"tr",35)}function pTe(t,i){if(t&1&&He(0,"tr",36),t&2){let e=i.$implicit,r=pe(2);oe("ngClass",Ia(1,ZSe,!(e.inReferenceList!=null&&e.inReferenceList.value)&&r.membersValidationResult))}}function mTe(t,i){if(t&1&&(B(0,"div",24)(1,"table",25),Ni(2,26),Te(3,nTe,2,0,"th",27)(4,rTe,2,1,"td",28),Bi(),Ni(5,29),Te(6,sTe,2,0,"th",27)(7,aTe,2,1,"td",28),Bi(),Ni(8,30),Te(9,oTe,2,0,"th",27)(10,hTe,2,1,"td",28),Bi(),Te(11,fTe,1,0,"tr",31)(12,pTe,1,3,"tr",32),U()()),t&2){let e=pe();K(),oe("dataSource",e.studentSubsetMembersDataSource),K(10),oe("matHeaderRowDef",e.studentSubsetMembersDisplayedColumns),K(),oe("matRowDefColumns",e.studentSubsetMembersDisplayedColumns)}}function gTe(t,i){if(t&1){let e=Ye();B(0,"button",40),we("click",function(){let n=Me(e).$implicit,a=pe(2);return Ie(a.setAssignment(n))}),J(1),U()}if(t&2){let e=i.$implicit;K(),vt(e.name)}}function vTe(t,i){if(t&1&&(B(0,"div")(1,"h3"),J(2,"Assignment"),U(),B(3,"button",37),J(4),U(),B(5,"mat-menu",38,2),Te(7,gTe,2,1,"button",39),U()()),t&2){let e=hi(6),r=pe();K(3),oe("matMenuTriggerFor",e),K(),It("Selected assignment: ",r.selectedAssignment==null?null:r.selectedAssignment.name,""),K(3),oe("ngForOf",r.assignments)}}function yTe(t,i){if(t&1&&(B(0,"h3"),J(1),U()),t&2){let e=pe();K(),It(" Assignment: ",e.selectedAssignment==null?null:e.selectedAssignment.name," ")}}function xTe(t,i){t&1&&(B(0,"ol")(1,"li"),J(2,"1- Upload definition file"),U(),B(3,"li"),J(4,"2- Upload members file"),U(),B(5,"li"),J(6,"3- Click validate"),U()())}function bTe(t,i){t&1&&(B(0,"ol")(1,"li"),J(2,"1- Upload members file"),U(),B(3,"li"),J(4,"2- Click validate"),U()())}function _Te(t,i){if(t&1){let e=Ye();B(0,"div")(1,"div")(2,"h3"),J(3,"Reference Data"),U(),B(4,"mat-form-field",41)(5,"mat-label"),J(6,"Textarea"),U(),B(7,"textarea",42),Gr("ngModelChange",function(n){Me(e);let a=pe();return Zr(a.assignmentsString,n)||(a.assignmentsString=n),Ie(n)}),U()(),B(8,"button",11),we("click",function(){Me(e);let n=pe();return Ie(n.updateAssignments())}),J(9,"Update Assignments"),U()()()}if(t&2){let e=pe();K(7),Hr("ngModel",e.assignmentsString)}}var mY=(()=>{class t{constructor(e,r,n,a){this.http=e,this.terminologyService=r,this._snackBar=n,this.activatedRoute=a,this.studentSubsetMembersDisplayedColumns=["referencedComponentId","name","result"],this.studentSubsetMembersDataSource=new Hu,this.studentSubsetmembers=[],this.studentSubsetDefinition="",this.keyConceptValidationResult="",this.definitionVsMembersValidationResult="",this.membersNotInRefrenceListResult="",this.membersValidationResult=!1,this.refrenceListVsStudentListResult="",this.embeddedMode=!1,this.loading=!1,this.ok="\u2705",this.error="\u{1F7E5}",this.assignments=[{name:"Assignment X",referenceData:[{referencedComponentId:"403197009",name:"Sun-induced wrinkles"},{referencedComponentId:"279002006",name:"Lichenification of skin"},{referencedComponentId:"274672009",name:"Changes in skin texture"},{referencedComponentId:"271767006",name:"Peeling of skin"},{referencedComponentId:"271761007",name:"Scaly skin"},{referencedComponentId:"247434009",name:"Wrinkled skin"}],referenceDefinition:"< 185823004 |Finding of skin texture (finding)|",keyConceptsInECL:[{code:"185823004",display:"Finding of skin texture (finding)"}],customMessages:[{conceptId:"85345005",note:"wrong hierarchy",principle:"wrong hierarchy"},{conceptId:"403197009",note:"wrong hierarchy",principle:"wrong hierarchy"}]}],this.assignmentsString=JSON.stringify(this.assignments),this.selectedAssignment=this.assignments[0],this.referenceDataDisplayedColumns=["referencedComponentId","name"],this.referenceDataDataSource=new Hu(this.selectedAssignment.referenceData)}ngOnInit(){return Mt(this,null,function*(){let e=yield Ir(this.http.get("assets/definitions/assignments.json"));this.assignments=e,this.assignmentsString=JSON.stringify(this.assignments),this.setAssignment(this.assignments[0]),this.activatedRoute.queryParams.subscribe(r=>{r.assignment&&this.setAssignment(this.assignments.find(n=>n.name===r.assignment)),r.embedded==="true"?this.embeddedMode=!0:this.embeddedMode=!1})})}setAssignment(e){e&&(this.selectedAssignment=e,this.referenceDataDataSource=new Hu(this.selectedAssignment.referenceData))}checkStudentECLvsStudentList(){return Mt(this,null,function*(){let e=0;if(!this.studentSubsetDefinition){let r=yield this.terminologyService.expandValueSet(this.studentSubsetDefinition,"").toPromise(),n=this.studentSubsetmembers,a=0;n.forEach(s=>{r.expansion.contains.find(u=>u.code===s.referencedComponentId)?s.inStudentECL={value:!0,message:""}:(s.inStudentECL={value:!1,message:""},a++)})}return e})}checkStudentECLvsKeyConcept(){if(this.studentSubsetDefinition){console.log("Student ECL not defined");let e=this.studentSubsetDefinition,r=this.selectedAssignment.keyConceptsInECL,n=!0;return r.forEach(a=>{e.includes(a.code)||(n=!1)}),n}else return!0}checkStudentListVsReferenceList(){let e=this.studentSubsetmembers,r=this.selectedAssignment.referenceData,n=0;e.forEach(a=>{r.find(o=>o.referencedComponentId===a.referencedComponentId)?a.inReferenceList={value:!0,message:""}:(a.inReferenceList={value:!1,message:""},n++)})}checkReferenceListVsStudentList(){let e=this.studentSubsetmembers,r=this.selectedAssignment.referenceData,n=0;return r.forEach(a=>{e.find(o=>o.referencedComponentId===a.referencedComponentId)?a.inStudentList={value:!0,message:""}:(a.inStudentList={value:!1,message:""},n++)}),n}checkStudentListVsCustomMessages(){let e=this.studentSubsetmembers,r=this.selectedAssignment.customMessages;e.forEach(n=>{let a=r.find(s=>s.conceptId===n.referencedComponentId);a?n.customMessage={value:!0,principle:a.principle,note:a.note}:n.customMessage={value:!1,principle:"",note:""}})}updateAssignments(){this.assignments=JSON.parse(this.assignmentsString),this.setAssignment(this.assignments[0])}validateAssignment(){return Mt(this,null,function*(){this.loading=!0,this.keyConceptValidationResult="",this.definitionVsMembersValidationResult="",this.membersValidationResult=!1,this.loading=!0,this.studentSubsetDefinition&&((yield this.checkStudentECLvsStudentList())>0?this.definitionVsMembersValidationResult=this.error+" The uploaded definition and members files are not in alignment":this.definitionVsMembersValidationResult=this.ok+" The uploaded definition and members files are in alignment",this.checkStudentECLvsKeyConcept()?this.keyConceptValidationResult=this.ok+" The definition of your subset includes the key subhierarchy":this.keyConceptValidationResult=this.error+" The definition of your subset does not include the key subhierarchy"),this.checkStudentListVsReferenceList();let e=this.studentSubsetmembers.filter(n=>!n.inReferenceList.value).length;e>0?this.membersNotInRefrenceListResult=this.error+" There are "+e+" members in your subset that are not recommended to be included":this.membersNotInRefrenceListResult=this.ok+" All members match the recommended list of concepts for the subset",this.checkStudentListVsCustomMessages();let r=this.checkReferenceListVsStudentList();if(r>0){let n=r>1?"concepts are":"concept is";this.refrenceListVsStudentListResult=this.error+" "+r+" "+n+" missing in the uploaded member list that would be recommended to be included in this subset"}else this.refrenceListVsStudentListResult=this.ok+" All recommended concepts are included in this subset";this.loading=!1,this.membersValidationResult=!0})}onSubsetmembersFileSelected(e){this.studentSubsetmembers=[],this.studentSubsetMembersDataSource=new Hu,this.studentSubsetMembersDataSource.sort=this.sort,this.loading=!0;let r=e.target.files?.[0];if(r){let n=new FileReader;n.onload=a=>{try{let o=n.result.split(`
`),u=o[0].split("	");if(u.length<2)throw new Error("Invalid file format");let l=u.indexOf("referencedComponentId"),c=u.indexOf("name");if(l<0||c<0)throw new Error("Invalid file format");let h=[];for(let d=1;d<o.length;d++){let f=o[d].split("	");if(f.length<2)continue;let m={};m.referencedComponentId=f[l],m.name=f[c],m.result={value:"Not validated",message:""},m.scope={value:"Not validated",message:""},h.push(m)}h.sort((d,f)=>d.name.localeCompare(f.name)),this.studentSubsetmembers=h,this.studentSubsetMembersDataSource.data=h,this.loading=!1}catch(s){this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Error reading file: "+s.message,panelClass:["red-snackbar"]}),this.loading=!1}},n.onerror=a=>{this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Error reading file: "+a,panelClass:["red-snackbar"]}),this.loading=!1},n.readAsText(r)}else this.loading=!1}onDefinitionFileSelected(e){this.studentSubsetDefinition="",this.loading=!0;let r=e.target.files?.[0];if(r){let n=new FileReader;n.onload=a=>{try{let u=n.result.replace(/\r/g,"").split(`
`),l=u[0].split("	");if(l.length<2)throw new Error("Invalid file format");let c=l.indexOf("referencedComponentId"),h=l.indexOf("definition");if(c<0||h<0)throw new Error("Invalid file format");this.studentSubsetDefinition=u[1].split("	")[h],this.loading=!1}catch(s){this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Error reading file: "+s.message,panelClass:["red-snackbar"]}),this.loading=!1}},n.onerror=a=>{this._snackBar.openFromComponent(kn,{duration:5*1e3,data:"Error reading file: "+a,panelClass:["red-snackbar"]}),this.loading=!1},n.readAsText(r)}else this.loading=!1}static{this.\u0275fac=function(r){return new(r||t)(je(Ms),je(An),je(bo),je(Va))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-subset-validator"]],viewQuery:function(r,n){if(r&1&&Jt(Ec,5),r&2){let a;yt(a=xt())&&(n.sort=a.first)}},standalone:!1,decls:31,vars:12,consts:[["fileInput",""],["fileInputDefinition",""],["demosMenu","matMenu"],[1,"layout-container"],[1,"left-column"],[1,"upload-controls"],[1,"mb-4"],["class","terminal-style",4,"ngIf"],["type","file",2,"display","none",3,"change"],[1,"buttons-panel"],["mat-flat-button","","color","primary",3,"click","disabled"],["mat-flat-button","","color","primary",3,"click"],["class","spinner","diameter","30",4,"ngIf"],["class","blue-rounded-div",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"right-column"],[4,"ngIf"],[1,"instructions"],[1,"terminal-style"],["diameter","30",1,"spinner"],[1,"blue-rounded-div"],[1,"text-white","mb-1"],["class","validation-result",4,"ngIf"],[1,"validation-result"],[1,"table-container"],["mat-table","",3,"dataSource"],["matColumnDef","referencedComponentId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","result"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"ngClass"],["mat-flat-button","","color","accent",3,"matMenuTriggerFor"],[1,"wide-menu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],["appearance","fill"],["matInput","",3,"ngModelChange","ngModel"]],template:function(r,n){if(r&1){let a=Ye();B(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3"),J(4,"Subset Members Validator"),U(),B(5,"p",6),J(6),U(),Te(7,JSe,2,1,"p",7),B(8,"input",8,0),we("change",function(o){return Me(a),Ie(n.onSubsetmembersFileSelected(o))}),U(),B(10,"input",8,1),we("change",function(o){return Me(a),Ie(n.onDefinitionFileSelected(o))}),U(),B(12,"div",9)(13,"button",10),we("click",function(){Me(a);let o=hi(11);return Ie(o.click())}),J(14," Upload Definition File "),U(),B(15,"button",11),we("click",function(){Me(a);let o=hi(9);return Ie(o.click())}),J(16,"Upload Members File"),U(),B(17,"button",10),we("click",function(){return Me(a),Ie(n.validateAssignment())}),J(18,"Validate"),U(),Te(19,qSe,1,0,"mat-spinner",12),U(),Te(20,iTe,9,4,"div",13),U(),Te(21,mTe,13,3,"div",14),U(),B(22,"div",15),Te(23,vTe,8,3,"div",16)(24,yTe,2,1,"h3",16),B(25,"h3"),J(26,"Instructions"),U(),B(27,"div",17),Te(28,xTe,7,0,"ol",16)(29,bTe,5,0,"ol",16),U(),Te(30,_Te,10,1,"div",16),U()()}r&2&&(K(6),It("Validating against ",n.terminologyService.getFhirUrlParam(),""),K(),oe("ngIf",n.studentSubsetDefinition),K(6),oe("disabled",!n.selectedAssignment.referenceDefinition),K(4),oe("disabled",!n.studentSubsetMembersDataSource.data.length),K(2),oe("ngIf",n.loading),K(),oe("ngIf",!n.loading&&n.membersNotInRefrenceListResult),K(),oe("ngIf",!n.loading&&n.studentSubsetMembersDataSource.data.length),K(2),oe("ngIf",!n.embeddedMode),K(),oe("ngIf",n.embeddedMode),K(4),oe("ngIf",n.selectedAssignment.referenceDefinition),K(),oe("ngIf",!n.selectedAssignment.referenceDefinition),K(),oe("ngIf",!n.embeddedMode))},dependencies:[Ka,qi,Xi,ln,ys,Ps,ra,es,xs,Ra,zo,Vs,_r,Jc,eu,ru,tu,qc,su,iu,nu,au,ou,ma],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 65px)}.layout-container[_ngcontent-%COMP%]{display:flex;height:100%}.left-column[_ngcontent-%COMP%]{flex:0 0 68%;display:flex;flex-direction:column;height:100%}.right-column[_ngcontent-%COMP%]{flex:0 0 28%}.buttons-panel[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;margin-top:2rem}.upload-controls[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.table-container[_ngcontent-%COMP%]{overflow-y:auto}.upload-controls[_ngcontent-%COMP%]{margin-left:20px}table[_ngcontent-%COMP%]{width:100%}.validation-result[_ngcontent-%COMP%]{font-weight:400;font-size:larger}.blue-rounded-div[_ngcontent-%COMP%]{border-radius:10px;background-color:#4d7fb4;padding:.5rem 3rem 1rem;width:80%;color:#f5f5f5;margin-top:20px}.terminal-style[_ngcontent-%COMP%]{font-family:monospace;font-size:.9rem;background-color:#000;color:#fff;padding:10px;border-radius:10px;margin-top:20px;width:80%}h4[_ngcontent-%COMP%]{margin-top:10px}.instructions[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;font-weight:lighter;font-size:larger}h3[_ngcontent-%COMP%]{margin-top:10px}.bg-pink[_ngcontent-%COMP%]{background-color:pink}tr.mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#aba9a9!important}"]})}}return t})();var vY=function(t){let i=[],e=0;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);n<128?i[e++]=n:n<2048?(i[e++]=n>>6|192,i[e++]=n&63|128):(n&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(n=65536+((n&1023)<<10)+(t.charCodeAt(++r)&1023),i[e++]=n>>18|240,i[e++]=n>>12&63|128,i[e++]=n>>6&63|128,i[e++]=n&63|128):(i[e++]=n>>12|224,i[e++]=n>>6&63|128,i[e++]=n&63|128)}return i},wTe=function(t){let i=[],e=0,r=0;for(;e<t.length;){let n=t[e++];if(n<128)i[r++]=String.fromCharCode(n);else if(n>191&&n<224){let a=t[e++];i[r++]=String.fromCharCode((n&31)<<6|a&63)}else if(n>239&&n<365){let a=t[e++],s=t[e++],o=t[e++],u=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;i[r++]=String.fromCharCode(55296+(u>>10)),i[r++]=String.fromCharCode(56320+(u&1023))}else{let a=t[e++],s=t[e++];i[r++]=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63)}}return i.join("")},yY={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,i){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let n=0;n<t.length;n+=3){let a=t[n],s=n+1<t.length,o=s?t[n+1]:0,u=n+2<t.length,l=u?t[n+2]:0,c=a>>2,h=(a&3)<<4|o>>4,d=(o&15)<<2|l>>6,f=l&63;u||(f=64,s||(d=64)),r.push(e[c],e[h],e[d],e[f])}return r.join("")},encodeString(t,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(t):this.encodeByteArray(vY(t),i)},decodeString(t,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(t):wTe(this.decodeStringToByteArray(t,i))},decodeStringToByteArray(t,i){this.init_();let e=i?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let n=0;n<t.length;){let a=e[t.charAt(n++)],o=n<t.length?e[t.charAt(n)]:0;++n;let l=n<t.length?e[t.charAt(n)]:64;++n;let h=n<t.length?e[t.charAt(n)]:64;if(++n,a==null||o==null||l==null||h==null)throw new lF;let d=a<<2|o>>4;if(r.push(d),l!==64){let f=o<<4&240|l>>2;if(r.push(f),h!==64){let m=l<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},lF=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},CTe=function(t){let i=vY(t);return yY.encodeByteArray(i,!0)},Z_=function(t){return CTe(t).replace(/\./g,"")},STe=function(t){try{return yY.decodeString(t,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};function TTe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ETe=()=>TTe().__FIREBASE_DEFAULTS__,ATe=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MTe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let i=t&&STe(t[1]);return i&&JSON.parse(i)},cF=()=>{try{return ETe()||ATe()||MTe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ITe=t=>{var i,e;return(e=(i=cF())===null||i===void 0?void 0:i.emulatorHosts)===null||e===void 0?void 0:e[t]},xY=t=>{let i=ITe(t);if(!i)return;let e=i.lastIndexOf(":");if(e<=0||e+1===i.length)throw new Error(`Invalid host ${i} with no separate hostname and port!`);let r=parseInt(i.substring(e+1),10);return i[0]==="["?[i.substring(1,e-1),r]:[i.substring(0,e),r]},uF=()=>{var t;return(t=cF())===null||t===void 0?void 0:t.config};var IA=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,e)=>{this.resolve=i,this.reject=e})}wrapCallback(i){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof i=="function"&&(this.promise.catch(()=>{}),i.length===1?i(e):i(e,r))}}};function bY(t,i){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},r=i||"demo-project",n=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Z_(JSON.stringify(e)),Z_(JSON.stringify(s)),""].join(".")}function _Y(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DTe(){var t;let i=(t=cF())===null||t===void 0?void 0:t.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wY(){return!DTe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dF(){try{return typeof indexedDB=="object"}catch{return!1}}function CY(){return new Promise((t,i)=>{try{let e=!0,r="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(r);n.onsuccess=()=>{n.result.close(),e||self.indexedDB.deleteDatabase(r),t(!0)},n.onupgradeneeded=()=>{e=!1},n.onerror=()=>{var a;i(((a=n.error)===null||a===void 0?void 0:a.message)||"")}}catch(e){i(e)}})}var PTe="FirebaseError",Op=class t extends Error{constructor(i,e,r){super(e),this.code=i,this.customData=r,this.name=PTe,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J_.prototype.create)}},J_=class{constructor(i,e,r){this.service=i,this.serviceName=e,this.errors=r}create(i,...e){let r=e[0]||{},n=`${this.service}/${i}`,a=this.errors[i],s=a?RTe(a,r):"Error",o=`${this.serviceName}: ${s} (${n}).`;return new Op(n,o,r)}};function RTe(t,i){return t.replace(kTe,(e,r)=>{let n=i[r];return n!=null?String(n):`<${r}?>`})}var kTe=/\{\$([^}]+)}/g;function q_(t,i){if(t===i)return!0;let e=Object.keys(t),r=Object.keys(i);for(let n of e){if(!r.includes(n))return!1;let a=t[n],s=i[n];if(gY(a)&&gY(s)){if(!q_(a,s))return!1}else if(a!==s)return!1}for(let n of r)if(!e.includes(n))return!1;return!0}function gY(t){return t!==null&&typeof t=="object"}var Qyt=4*60*60*1e3;function zg(t){return t&&t._delegate?t._delegate:t}var Lp=class{constructor(i,e,r){this.name=i,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}};var Ug="[DEFAULT]";var hF=class{constructor(i,e){this.name=i,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){let e=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(e)){let r=new IA;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:e});n&&r.resolve(n)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(i){var e;let r=this.normalizeInstanceIdentifier(i?.identifier),n=(e=i?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,!!this.shouldAutoInitialize()){if(OTe(i))try{this.getOrInitializeService({instanceIdentifier:Ug})}catch{}for(let[e,r]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let a=this.getOrInitializeService({instanceIdentifier:n});r.resolve(a)}catch{}}}}clearInstance(i=Ug){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}delete(){return Mt(this,null,function*(){let i=Array.from(this.instances.values());yield Promise.all([...i.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...i.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(i=Ug){return this.instances.has(i)}getOptions(i=Ug){return this.instancesOptions.get(i)||{}}initialize(i={}){let{options:e={}}=i,r=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:r,options:e});for(let[a,s]of this.instancesDeferred.entries()){let o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(n)}return n}onInit(i,e){var r;let n=this.normalizeInstanceIdentifier(e),a=(r=this.onInitCallbacks.get(n))!==null&&r!==void 0?r:new Set;a.add(i),this.onInitCallbacks.set(n,a);let s=this.instances.get(n);return s&&i(s,n),()=>{a.delete(i)}}invokeOnInitCallbacks(i,e){let r=this.onInitCallbacks.get(e);if(r)for(let n of r)try{n(i,e)}catch{}}getOrInitializeService({instanceIdentifier:i,options:e={}}){let r=this.instances.get(i);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FTe(i),options:e}),this.instances.set(i,r),this.instancesOptions.set(i,e),this.invokeOnInitCallbacks(r,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,r)}catch{}return r||null}normalizeInstanceIdentifier(i=Ug){return this.component?this.component.multipleInstances?i:Ug:i}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FTe(t){return t===Ug?void 0:t}function OTe(t){return t.instantiationMode==="EAGER"}var DA=class{constructor(i){this.name=i,this.providers=new Map}addComponent(i){let e=this.getProvider(i.name);if(e.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);e.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);let e=new hF(i,this);return this.providers.set(i,e),e}getProviders(){return Array.from(this.providers.values())}};var LTe=[],Pr=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Pr||{}),NTe={debug:Pr.DEBUG,verbose:Pr.VERBOSE,info:Pr.INFO,warn:Pr.WARN,error:Pr.ERROR,silent:Pr.SILENT},BTe=Pr.INFO,VTe={[Pr.DEBUG]:"log",[Pr.VERBOSE]:"log",[Pr.INFO]:"info",[Pr.WARN]:"warn",[Pr.ERROR]:"error"},zTe=(t,i,...e)=>{if(i<t.logLevel)return;let r=new Date().toISOString(),n=VTe[i];if(n)console[n](`[${r}]  ${t.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`)},I1=class{constructor(i){this.name=i,this._logLevel=BTe,this._logHandler=zTe,this._userLogHandler=null,LTe.push(this)}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in Pr))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel=typeof i=="string"?NTe[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if(typeof i!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,Pr.DEBUG,...i),this._logHandler(this,Pr.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,Pr.VERBOSE,...i),this._logHandler(this,Pr.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,Pr.INFO,...i),this._logHandler(this,Pr.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,Pr.WARN,...i),this._logHandler(this,Pr.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,Pr.ERROR,...i),this._logHandler(this,Pr.ERROR,...i)}};var UTe=(t,i)=>i.some(e=>t instanceof e),SY,TY;function HTe(){return SY||(SY=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GTe(){return TY||(TY=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var EY=new WeakMap,pF=new WeakMap,AY=new WeakMap,fF=new WeakMap,gF=new WeakMap;function jTe(t){let i=new Promise((e,r)=>{let n=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{e(Ef(t.result)),n()},s=()=>{r(t.error),n()};t.addEventListener("success",a),t.addEventListener("error",s)});return i.then(e=>{e instanceof IDBCursor&&EY.set(e,t)}).catch(()=>{}),gF.set(i,t),i}function WTe(t){if(pF.has(t))return;let i=new Promise((e,r)=>{let n=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{e(),n()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});pF.set(t,i)}var mF={get(t,i,e){if(t instanceof IDBTransaction){if(i==="done")return pF.get(t);if(i==="objectStoreNames")return t.objectStoreNames||AY.get(t);if(i==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ef(t[i])},set(t,i,e){return t[i]=e,!0},has(t,i){return t instanceof IDBTransaction&&(i==="done"||i==="store")?!0:i in t}};function MY(t){mF=t(mF)}function XTe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(i,...e){let r=t.call(PA(this),i,...e);return AY.set(r,i.sort?i.sort():[i]),Ef(r)}:GTe().includes(t)?function(...i){return t.apply(PA(this),i),Ef(EY.get(this))}:function(...i){return Ef(t.apply(PA(this),i))}}function YTe(t){return typeof t=="function"?XTe(t):(t instanceof IDBTransaction&&WTe(t),UTe(t,HTe())?new Proxy(t,mF):t)}function Ef(t){if(t instanceof IDBRequest)return jTe(t);if(fF.has(t))return fF.get(t);let i=YTe(t);return i!==t&&(fF.set(t,i),gF.set(i,t)),i}var PA=t=>gF.get(t);function DY(t,i,{blocked:e,upgrade:r,blocking:n,terminated:a}={}){let s=indexedDB.open(t,i),o=Ef(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ef(s.result),u.oldVersion,u.newVersion,Ef(s.transaction),u)}),e&&s.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),o.then(u=>{a&&u.addEventListener("close",()=>a()),n&&u.addEventListener("versionchange",l=>n(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}var $Te=["get","getKey","getAll","getAllKeys","count"],QTe=["put","add","delete","clear"],vF=new Map;function IY(t,i){if(!(t instanceof IDBDatabase&&!(i in t)&&typeof i=="string"))return;if(vF.get(i))return vF.get(i);let e=i.replace(/FromIndex$/,""),r=i!==e,n=QTe.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(n||$Te.includes(e)))return;let a=function(s,...o){return Mt(this,null,function*(){let u=this.transaction(s,n?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(o.shift())),(yield Promise.all([l[e](...o),n&&u.done]))[0]})};return vF.set(i,a),a}MY(t=>Ri(ht({},t),{get:(i,e,r)=>IY(i,e)||t.get(i,e,r),has:(i,e)=>!!IY(i,e)||t.has(i,e)}));var xF=class{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(KTe(e)){let r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}};function KTe(t){let i=t.getComponent();return i?.type==="VERSION"}var bF="@firebase/app",PY="0.10.13";var Np=new I1("@firebase/app"),ZTe="@firebase/app-compat",JTe="@firebase/analytics-compat",qTe="@firebase/analytics",eEe="@firebase/app-check-compat",tEe="@firebase/app-check",iEe="@firebase/auth",nEe="@firebase/auth-compat",rEe="@firebase/database",sEe="@firebase/data-connect",aEe="@firebase/database-compat",oEe="@firebase/functions",lEe="@firebase/functions-compat",cEe="@firebase/installations",uEe="@firebase/installations-compat",dEe="@firebase/messaging",hEe="@firebase/messaging-compat",fEe="@firebase/performance",pEe="@firebase/performance-compat",mEe="@firebase/remote-config",gEe="@firebase/remote-config-compat",vEe="@firebase/storage",yEe="@firebase/storage-compat",xEe="@firebase/firestore",bEe="@firebase/vertexai-preview",_Ee="@firebase/firestore-compat",wEe="firebase",CEe="10.14.1";var _F="[DEFAULT]",SEe={[bF]:"fire-core",[ZTe]:"fire-core-compat",[qTe]:"fire-analytics",[JTe]:"fire-analytics-compat",[tEe]:"fire-app-check",[eEe]:"fire-app-check-compat",[iEe]:"fire-auth",[nEe]:"fire-auth-compat",[rEe]:"fire-rtdb",[sEe]:"fire-data-connect",[aEe]:"fire-rtdb-compat",[oEe]:"fire-fn",[lEe]:"fire-fn-compat",[cEe]:"fire-iid",[uEe]:"fire-iid-compat",[dEe]:"fire-fcm",[hEe]:"fire-fcm-compat",[fEe]:"fire-perf",[pEe]:"fire-perf-compat",[mEe]:"fire-rc",[gEe]:"fire-rc-compat",[vEe]:"fire-gcs",[yEe]:"fire-gcs-compat",[xEe]:"fire-fst",[_Ee]:"fire-fst-compat",[bEe]:"fire-vertex","fire-js":"fire-js",[wEe]:"fire-js-all"};var RA=new Map,TEe=new Map,wF=new Map;function RY(t,i){try{t.container.addComponent(i)}catch(e){Np.debug(`Component ${i.name} failed to register with FirebaseApp ${t.name}`,e)}}function ew(t){let i=t.name;if(wF.has(i))return Np.debug(`There were multiple attempts to register component ${i}.`),!1;wF.set(i,t);for(let e of RA.values())RY(e,t);for(let e of TEe.values())RY(e,t);return!0}function LY(t,i){let e=t.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),t.container.getProvider(i)}var EEe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},s0=new J_("app","Firebase",EEe);var CF=class{constructor(i,e,r){this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw s0.create("app-deleted",{appName:this._name})}};var NY=CEe;function EF(t,i={}){let e=t;typeof i!="object"&&(i={name:i});let r=Object.assign({name:_F,automaticDataCollectionEnabled:!1},i),n=r.name;if(typeof n!="string"||!n)throw s0.create("bad-app-name",{appName:String(n)});if(e||(e=uF()),!e)throw s0.create("no-options");let a=RA.get(n);if(a){if(q_(e,a.options)&&q_(r,a.config))return a;throw s0.create("duplicate-app",{appName:n})}let s=new DA(n);for(let u of wF.values())s.addComponent(u);let o=new CF(e,r,s);return RA.set(n,o),o}function BY(t=_F){let i=RA.get(t);if(!i&&t===_F&&uF())return EF();if(!i)throw s0.create("no-app",{appName:t});return i}function a0(t,i,e){var r;let n=(r=SEe[t])!==null&&r!==void 0?r:t;e&&(n+=`-${e}`);let a=n.match(/\s|\//),s=i.match(/\s|\//);if(a||s){let o=[`Unable to register library "${n}" with version "${i}":`];a&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${i}" contains illegal characters (whitespace or "/")`),Np.warn(o.join(" "));return}ew(new Lp(`${n}-version`,()=>({library:n,version:i}),"VERSION"))}var AEe="firebase-heartbeat-database",MEe=1,tw="firebase-heartbeat-store",yF=null;function VY(){return yF||(yF=DY(AEe,MEe,{upgrade:(t,i)=>{switch(i){case 0:try{t.createObjectStore(tw)}catch(e){console.warn(e)}}}}).catch(t=>{throw s0.create("idb-open",{originalErrorMessage:t.message})})),yF}function IEe(t){return Mt(this,null,function*(){try{let e=(yield VY()).transaction(tw),r=yield e.objectStore(tw).get(zY(t));return yield e.done,r}catch(i){if(i instanceof Op)Np.warn(i.message);else{let e=s0.create("idb-get",{originalErrorMessage:i?.message});Np.warn(e.message)}}})}function kY(t,i){return Mt(this,null,function*(){try{let r=(yield VY()).transaction(tw,"readwrite");yield r.objectStore(tw).put(i,zY(t)),yield r.done}catch(e){if(e instanceof Op)Np.warn(e.message);else{let r=s0.create("idb-set",{originalErrorMessage:e?.message});Np.warn(r.message)}}})}function zY(t){return`${t.name}!${t.options.appId}`}var DEe=1024,PEe=30*24*60*60*1e3,SF=class{constructor(i){this.container=i,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new TF(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return Mt(this,null,function*(){var i,e;try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=FY();return((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let o=new Date(s.date).valueOf();return Date.now()-o<=PEe}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Np.warn(r)}})}getHeartbeatsHeader(){return Mt(this,null,function*(){var i;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=FY(),{heartbeatsToSend:r,unsentEntries:n}=REe(this._heartbeatsCache.heartbeats),a=Z_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Np.warn(e),""}})}};function FY(){return new Date().toISOString().substring(0,10)}function REe(t,i=DEe){let e=[],r=t.slice();for(let n of t){let a=e.find(s=>s.agent===n.agent);if(a){if(a.dates.push(n.date),OY(e)>i){a.dates.pop();break}}else if(e.push({agent:n.agent,dates:[n.date]}),OY(e)>i){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}var TF=class{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return Mt(this,null,function*(){return dF()?CY().then(()=>!0).catch(()=>!1):!1})}read(){return Mt(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield IEe(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(i){return Mt(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let n=yield this.read();return kY(this.app,{lastSentHeartbeatDate:(e=i.lastSentHeartbeatDate)!==null&&e!==void 0?e:n.lastSentHeartbeatDate,heartbeats:i.heartbeats})}else return})}add(i){return Mt(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let n=yield this.read();return kY(this.app,{lastSentHeartbeatDate:(e=i.lastSentHeartbeatDate)!==null&&e!==void 0?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...i.heartbeats]})}else return})}};function OY(t){return Z_(JSON.stringify({version:2,heartbeats:t})).length}function kEe(t){ew(new Lp("platform-logger",i=>new xF(i),"PRIVATE")),ew(new Lp("heartbeat",i=>new SF(i),"PRIVATE")),a0(bF,PY,t),a0(bF,PY,"esm2017"),a0("fire-js","")}kEe("");var UY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},HY={};var o0,AF;(function(){var t;function i(_,S){function T(){}T.prototype=S.prototype,_.D=S.prototype,_.prototype=new T,_.prototype.constructor=_,_.C=function(A,M,I){for(var D=Array(arguments.length-2),k=2;k<arguments.length;k++)D[k-2]=arguments[k];return S.prototype[M].apply(A,D)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}i(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function n(_,S,T){T||(T=0);var A=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)A[M]=S.charCodeAt(T++)|S.charCodeAt(T++)<<8|S.charCodeAt(T++)<<16|S.charCodeAt(T++)<<24;else for(M=0;16>M;++M)A[M]=S[T++]|S[T++]<<8|S[T++]<<16|S[T++]<<24;S=_.g[0],T=_.g[1],M=_.g[2];var I=_.g[3],D=S+(I^T&(M^I))+A[0]+3614090360&4294967295;S=T+(D<<7&4294967295|D>>>25),D=I+(M^S&(T^M))+A[1]+3905402710&4294967295,I=S+(D<<12&4294967295|D>>>20),D=M+(T^I&(S^T))+A[2]+606105819&4294967295,M=I+(D<<17&4294967295|D>>>15),D=T+(S^M&(I^S))+A[3]+3250441966&4294967295,T=M+(D<<22&4294967295|D>>>10),D=S+(I^T&(M^I))+A[4]+4118548399&4294967295,S=T+(D<<7&4294967295|D>>>25),D=I+(M^S&(T^M))+A[5]+1200080426&4294967295,I=S+(D<<12&4294967295|D>>>20),D=M+(T^I&(S^T))+A[6]+2821735955&4294967295,M=I+(D<<17&4294967295|D>>>15),D=T+(S^M&(I^S))+A[7]+4249261313&4294967295,T=M+(D<<22&4294967295|D>>>10),D=S+(I^T&(M^I))+A[8]+1770035416&4294967295,S=T+(D<<7&4294967295|D>>>25),D=I+(M^S&(T^M))+A[9]+2336552879&4294967295,I=S+(D<<12&4294967295|D>>>20),D=M+(T^I&(S^T))+A[10]+4294925233&4294967295,M=I+(D<<17&4294967295|D>>>15),D=T+(S^M&(I^S))+A[11]+2304563134&4294967295,T=M+(D<<22&4294967295|D>>>10),D=S+(I^T&(M^I))+A[12]+1804603682&4294967295,S=T+(D<<7&4294967295|D>>>25),D=I+(M^S&(T^M))+A[13]+4254626195&4294967295,I=S+(D<<12&4294967295|D>>>20),D=M+(T^I&(S^T))+A[14]+2792965006&4294967295,M=I+(D<<17&4294967295|D>>>15),D=T+(S^M&(I^S))+A[15]+1236535329&4294967295,T=M+(D<<22&4294967295|D>>>10),D=S+(M^I&(T^M))+A[1]+4129170786&4294967295,S=T+(D<<5&4294967295|D>>>27),D=I+(T^M&(S^T))+A[6]+3225465664&4294967295,I=S+(D<<9&4294967295|D>>>23),D=M+(S^T&(I^S))+A[11]+643717713&4294967295,M=I+(D<<14&4294967295|D>>>18),D=T+(I^S&(M^I))+A[0]+3921069994&4294967295,T=M+(D<<20&4294967295|D>>>12),D=S+(M^I&(T^M))+A[5]+3593408605&4294967295,S=T+(D<<5&4294967295|D>>>27),D=I+(T^M&(S^T))+A[10]+38016083&4294967295,I=S+(D<<9&4294967295|D>>>23),D=M+(S^T&(I^S))+A[15]+3634488961&4294967295,M=I+(D<<14&4294967295|D>>>18),D=T+(I^S&(M^I))+A[4]+3889429448&4294967295,T=M+(D<<20&4294967295|D>>>12),D=S+(M^I&(T^M))+A[9]+568446438&4294967295,S=T+(D<<5&4294967295|D>>>27),D=I+(T^M&(S^T))+A[14]+3275163606&4294967295,I=S+(D<<9&4294967295|D>>>23),D=M+(S^T&(I^S))+A[3]+4107603335&4294967295,M=I+(D<<14&4294967295|D>>>18),D=T+(I^S&(M^I))+A[8]+1163531501&4294967295,T=M+(D<<20&4294967295|D>>>12),D=S+(M^I&(T^M))+A[13]+2850285829&4294967295,S=T+(D<<5&4294967295|D>>>27),D=I+(T^M&(S^T))+A[2]+4243563512&4294967295,I=S+(D<<9&4294967295|D>>>23),D=M+(S^T&(I^S))+A[7]+1735328473&4294967295,M=I+(D<<14&4294967295|D>>>18),D=T+(I^S&(M^I))+A[12]+2368359562&4294967295,T=M+(D<<20&4294967295|D>>>12),D=S+(T^M^I)+A[5]+4294588738&4294967295,S=T+(D<<4&4294967295|D>>>28),D=I+(S^T^M)+A[8]+2272392833&4294967295,I=S+(D<<11&4294967295|D>>>21),D=M+(I^S^T)+A[11]+1839030562&4294967295,M=I+(D<<16&4294967295|D>>>16),D=T+(M^I^S)+A[14]+4259657740&4294967295,T=M+(D<<23&4294967295|D>>>9),D=S+(T^M^I)+A[1]+2763975236&4294967295,S=T+(D<<4&4294967295|D>>>28),D=I+(S^T^M)+A[4]+1272893353&4294967295,I=S+(D<<11&4294967295|D>>>21),D=M+(I^S^T)+A[7]+4139469664&4294967295,M=I+(D<<16&4294967295|D>>>16),D=T+(M^I^S)+A[10]+3200236656&4294967295,T=M+(D<<23&4294967295|D>>>9),D=S+(T^M^I)+A[13]+681279174&4294967295,S=T+(D<<4&4294967295|D>>>28),D=I+(S^T^M)+A[0]+3936430074&4294967295,I=S+(D<<11&4294967295|D>>>21),D=M+(I^S^T)+A[3]+3572445317&4294967295,M=I+(D<<16&4294967295|D>>>16),D=T+(M^I^S)+A[6]+76029189&4294967295,T=M+(D<<23&4294967295|D>>>9),D=S+(T^M^I)+A[9]+3654602809&4294967295,S=T+(D<<4&4294967295|D>>>28),D=I+(S^T^M)+A[12]+3873151461&4294967295,I=S+(D<<11&4294967295|D>>>21),D=M+(I^S^T)+A[15]+530742520&4294967295,M=I+(D<<16&4294967295|D>>>16),D=T+(M^I^S)+A[2]+3299628645&4294967295,T=M+(D<<23&4294967295|D>>>9),D=S+(M^(T|~I))+A[0]+4096336452&4294967295,S=T+(D<<6&4294967295|D>>>26),D=I+(T^(S|~M))+A[7]+1126891415&4294967295,I=S+(D<<10&4294967295|D>>>22),D=M+(S^(I|~T))+A[14]+2878612391&4294967295,M=I+(D<<15&4294967295|D>>>17),D=T+(I^(M|~S))+A[5]+4237533241&4294967295,T=M+(D<<21&4294967295|D>>>11),D=S+(M^(T|~I))+A[12]+1700485571&4294967295,S=T+(D<<6&4294967295|D>>>26),D=I+(T^(S|~M))+A[3]+2399980690&4294967295,I=S+(D<<10&4294967295|D>>>22),D=M+(S^(I|~T))+A[10]+4293915773&4294967295,M=I+(D<<15&4294967295|D>>>17),D=T+(I^(M|~S))+A[1]+2240044497&4294967295,T=M+(D<<21&4294967295|D>>>11),D=S+(M^(T|~I))+A[8]+1873313359&4294967295,S=T+(D<<6&4294967295|D>>>26),D=I+(T^(S|~M))+A[15]+4264355552&4294967295,I=S+(D<<10&4294967295|D>>>22),D=M+(S^(I|~T))+A[6]+2734768916&4294967295,M=I+(D<<15&4294967295|D>>>17),D=T+(I^(M|~S))+A[13]+1309151649&4294967295,T=M+(D<<21&4294967295|D>>>11),D=S+(M^(T|~I))+A[4]+4149444226&4294967295,S=T+(D<<6&4294967295|D>>>26),D=I+(T^(S|~M))+A[11]+3174756917&4294967295,I=S+(D<<10&4294967295|D>>>22),D=M+(S^(I|~T))+A[2]+718787259&4294967295,M=I+(D<<15&4294967295|D>>>17),D=T+(I^(M|~S))+A[9]+3951481745&4294967295,_.g[0]=_.g[0]+S&4294967295,_.g[1]=_.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,_.g[2]=_.g[2]+M&4294967295,_.g[3]=_.g[3]+I&4294967295}r.prototype.u=function(_,S){S===void 0&&(S=_.length);for(var T=S-this.blockSize,A=this.B,M=this.h,I=0;I<S;){if(M==0)for(;I<=T;)n(this,_,I),I+=this.blockSize;if(typeof _=="string"){for(;I<S;)if(A[M++]=_.charCodeAt(I++),M==this.blockSize){n(this,A),M=0;break}}else for(;I<S;)if(A[M++]=_[I++],M==this.blockSize){n(this,A),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var S=1;S<_.length-8;++S)_[S]=0;var T=8*this.o;for(S=_.length-8;S<_.length;++S)_[S]=T&255,T/=256;for(this.u(_),_=Array(16),S=T=0;4>S;++S)for(var A=0;32>A;A+=8)_[T++]=this.g[S]>>>A&255;return _};function a(_,S){var T=o;return Object.prototype.hasOwnProperty.call(T,_)?T[_]:T[_]=S(_)}function s(_,S){this.h=S;for(var T=[],A=!0,M=_.length-1;0<=M;M--){var I=_[M]|0;A&&I==S||(T[M]=I,A=!1)}this.g=T}var o={};function u(_){return-128<=_&&128>_?a(_,function(S){return new s([S|0],0>S?-1:0)}):new s([_|0],0>_?-1:0)}function l(_){if(isNaN(_)||!isFinite(_))return h;if(0>_)return g(l(-_));for(var S=[],T=1,A=0;_>=T;A++)S[A]=_/T|0,T*=4294967296;return new s(S,0)}function c(_,S){if(_.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_.charAt(0)=="-")return g(c(_.substring(1),S));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=l(Math.pow(S,8)),A=h,M=0;M<_.length;M+=8){var I=Math.min(8,_.length-M),D=parseInt(_.substring(M,M+I),S);8>I?(I=l(Math.pow(S,I)),A=A.j(I).add(l(D))):(A=A.j(T),A=A.add(l(D)))}return A}var h=u(0),d=u(1),f=u(16777216);t=s.prototype,t.m=function(){if(p(this))return-g(this).m();for(var _=0,S=1,T=0;T<this.g.length;T++){var A=this.i(T);_+=(0<=A?A:4294967296+A)*S,S*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(m(this))return"0";if(p(this))return"-"+g(this).toString(_);for(var S=l(Math.pow(_,6)),T=this,A="";;){var M=b(T,S).g;T=v(T,M.j(S));var I=((0<T.g.length?T.g[0]:T.h)>>>0).toString(_);if(T=M,m(T))return I+A;for(;6>I.length;)I="0"+I;A=I+A}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function m(_){if(_.h!=0)return!1;for(var S=0;S<_.g.length;S++)if(_.g[S]!=0)return!1;return!0}function p(_){return _.h==-1}t.l=function(_){return _=v(this,_),p(_)?-1:m(_)?0:1};function g(_){for(var S=_.g.length,T=[],A=0;A<S;A++)T[A]=~_.g[A];return new s(T,~_.h).add(d)}t.abs=function(){return p(this)?g(this):this},t.add=function(_){for(var S=Math.max(this.g.length,_.g.length),T=[],A=0,M=0;M<=S;M++){var I=A+(this.i(M)&65535)+(_.i(M)&65535),D=(I>>>16)+(this.i(M)>>>16)+(_.i(M)>>>16);A=D>>>16,I&=65535,D&=65535,T[M]=D<<16|I}return new s(T,T[T.length-1]&-2147483648?-1:0)};function v(_,S){return _.add(g(S))}t.j=function(_){if(m(this)||m(_))return h;if(p(this))return p(_)?g(this).j(g(_)):g(g(this).j(_));if(p(_))return g(this.j(g(_)));if(0>this.l(f)&&0>_.l(f))return l(this.m()*_.m());for(var S=this.g.length+_.g.length,T=[],A=0;A<2*S;A++)T[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<_.g.length;M++){var I=this.i(A)>>>16,D=this.i(A)&65535,k=_.i(M)>>>16,G=_.i(M)&65535;T[2*A+2*M]+=D*G,y(T,2*A+2*M),T[2*A+2*M+1]+=I*G,y(T,2*A+2*M+1),T[2*A+2*M+1]+=D*k,y(T,2*A+2*M+1),T[2*A+2*M+2]+=I*k,y(T,2*A+2*M+2)}for(A=0;A<S;A++)T[A]=T[2*A+1]<<16|T[2*A];for(A=S;A<2*S;A++)T[A]=0;return new s(T,0)};function y(_,S){for(;(_[S]&65535)!=_[S];)_[S+1]+=_[S]>>>16,_[S]&=65535,S++}function x(_,S){this.g=_,this.h=S}function b(_,S){if(m(S))throw Error("division by zero");if(m(_))return new x(h,h);if(p(_))return S=b(g(_),S),new x(g(S.g),g(S.h));if(p(S))return S=b(_,g(S)),new x(g(S.g),S.h);if(30<_.g.length){if(p(_)||p(S))throw Error("slowDivide_ only works with positive integers.");for(var T=d,A=S;0>=A.l(_);)T=w(T),A=w(A);var M=C(T,1),I=C(A,1);for(A=C(A,2),T=C(T,2);!m(A);){var D=I.add(A);0>=D.l(_)&&(M=M.add(T),I=D),A=C(A,1),T=C(T,1)}return S=v(_,M.j(S)),new x(M,S)}for(M=h;0<=_.l(S);){for(T=Math.max(1,Math.floor(_.m()/S.m())),A=Math.ceil(Math.log(T)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),I=l(T),D=I.j(S);p(D)||0<D.l(_);)T-=A,I=l(T),D=I.j(S);m(I)&&(I=d),M=M.add(I),_=v(_,D)}return new x(M,_)}t.A=function(_){return b(this,_).h},t.and=function(_){for(var S=Math.max(this.g.length,_.g.length),T=[],A=0;A<S;A++)T[A]=this.i(A)&_.i(A);return new s(T,this.h&_.h)},t.or=function(_){for(var S=Math.max(this.g.length,_.g.length),T=[],A=0;A<S;A++)T[A]=this.i(A)|_.i(A);return new s(T,this.h|_.h)},t.xor=function(_){for(var S=Math.max(this.g.length,_.g.length),T=[],A=0;A<S;A++)T[A]=this.i(A)^_.i(A);return new s(T,this.h^_.h)};function w(_){for(var S=_.g.length+1,T=[],A=0;A<S;A++)T[A]=_.i(A)<<1|_.i(A-1)>>>31;return new s(T,_.h)}function C(_,S){var T=S>>5;S%=32;for(var A=_.g.length-T,M=[],I=0;I<A;I++)M[I]=0<S?_.i(I+T)>>>S|_.i(I+T+1)<<32-S:_.i(I+T);return new s(M,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AF=HY.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=c,o0=HY.Integer=s}).apply(typeof UY<"u"?UY:typeof self<"u"?self:typeof window<"u"?window:{});var kA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bp={};var MF,FEe,D1,IF,iw,FA,DF,PF,RF;(function(){var t,i=typeof Object.defineProperties=="function"?Object.defineProperty:function(z,ce,fe){return z==Array.prototype||z==Object.prototype||(z[ce]=fe.value),z};function e(z){z=[typeof globalThis=="object"&&globalThis,z,typeof window=="object"&&window,typeof self=="object"&&self,typeof kA=="object"&&kA];for(var ce=0;ce<z.length;++ce){var fe=z[ce];if(fe&&fe.Math==Math)return fe}throw Error("Cannot find global object")}var r=e(this);function n(z,ce){if(ce)e:{var fe=r;z=z.split(".");for(var Ee=0;Ee<z.length-1;Ee++){var Ze=z[Ee];if(!(Ze in fe))break e;fe=fe[Ze]}z=z[z.length-1],Ee=fe[z],ce=ce(Ee),ce!=Ee&&ce!=null&&i(fe,z,{configurable:!0,writable:!0,value:ce})}}function a(z,ce){z instanceof String&&(z+="");var fe=0,Ee=!1,Ze={next:function(){if(!Ee&&fe<z.length){var dt=fe++;return{value:ce(dt,z[dt]),done:!1}}return Ee=!0,{done:!0,value:void 0}}};return Ze[Symbol.iterator]=function(){return Ze},Ze}n("Array.prototype.values",function(z){return z||function(){return a(this,function(ce,fe){return fe})}});var s=s||{},o=this||self;function u(z){var ce=typeof z;return ce=ce!="object"?ce:z?Array.isArray(z)?"array":ce:"null",ce=="array"||ce=="object"&&typeof z.length=="number"}function l(z){var ce=typeof z;return ce=="object"&&z!=null||ce=="function"}function c(z,ce,fe){return z.call.apply(z.bind,arguments)}function h(z,ce,fe){if(!z)throw Error();if(2<arguments.length){var Ee=Array.prototype.slice.call(arguments,2);return function(){var Ze=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ze,Ee),z.apply(ce,Ze)}}return function(){return z.apply(ce,arguments)}}function d(z,ce,fe){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,d.apply(null,arguments)}function f(z,ce){var fe=Array.prototype.slice.call(arguments,1);return function(){var Ee=fe.slice();return Ee.push.apply(Ee,arguments),z.apply(this,Ee)}}function m(z,ce){function fe(){}fe.prototype=ce.prototype,z.aa=ce.prototype,z.prototype=new fe,z.prototype.constructor=z,z.Qb=function(Ee,Ze,dt){for(var ni=Array(arguments.length-2),Qi=2;Qi<arguments.length;Qi++)ni[Qi-2]=arguments[Qi];return ce.prototype[Ze].apply(Ee,ni)}}function p(z){let ce=z.length;if(0<ce){let fe=Array(ce);for(let Ee=0;Ee<ce;Ee++)fe[Ee]=z[Ee];return fe}return[]}function g(z,ce){for(let fe=1;fe<arguments.length;fe++){let Ee=arguments[fe];if(u(Ee)){let Ze=z.length||0,dt=Ee.length||0;z.length=Ze+dt;for(let ni=0;ni<dt;ni++)z[Ze+ni]=Ee[ni]}else z.push(Ee)}}class v{constructor(ce,fe){this.i=ce,this.j=fe,this.h=0,this.g=null}get(){let ce;return 0<this.h?(this.h--,ce=this.g,this.g=ce.next,ce.next=null):ce=this.i(),ce}}function y(z){return/^[\s\xa0]*$/.test(z)}function x(){var z=o.navigator;return z&&(z=z.userAgent)?z:""}function b(z){return b[" "](z),z}b[" "]=function(){};var w=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function C(z,ce,fe){for(let Ee in z)ce.call(fe,z[Ee],Ee,z)}function _(z,ce){for(let fe in z)ce.call(void 0,z[fe],fe,z)}function S(z){let ce={};for(let fe in z)ce[fe]=z[fe];return ce}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(z,ce){let fe,Ee;for(let Ze=1;Ze<arguments.length;Ze++){Ee=arguments[Ze];for(fe in Ee)z[fe]=Ee[fe];for(let dt=0;dt<T.length;dt++)fe=T[dt],Object.prototype.hasOwnProperty.call(Ee,fe)&&(z[fe]=Ee[fe])}}function M(z){var ce=1;z=z.split(":");let fe=[];for(;0<ce&&z.length;)fe.push(z.shift()),ce--;return z.length&&fe.push(z.join(":")),fe}function I(z){o.setTimeout(()=>{throw z},0)}function D(){var z=Z;let ce=null;return z.g&&(ce=z.g,z.g=z.g.next,z.g||(z.h=null),ce.next=null),ce}class k{constructor(){this.h=this.g=null}add(ce,fe){let Ee=G.get();Ee.set(ce,fe),this.h?this.h.next=Ee:this.g=Ee,this.h=Ee}}var G=new v(()=>new R,z=>z.reset());class R{constructor(){this.next=this.g=this.h=null}set(ce,fe){this.h=ce,this.g=fe,this.next=null}reset(){this.next=this.g=this.h=null}}let H,j=!1,Z=new k,ee=()=>{let z=o.Promise.resolve(void 0);H=()=>{z.then(Y)}};var Y=()=>{for(var z;z=D();){try{z.h.call(z.g)}catch(fe){I(fe)}var ce=G;ce.j(z),100>ce.h&&(ce.h++,z.next=ce.g,ce.g=z)}j=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(z,ce){this.type=z,this.g=this.target=ce,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var F=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var z=!1,ce=Object.defineProperty({},"passive",{get:function(){z=!0}});try{let fe=()=>{};o.addEventListener("test",fe,ce),o.removeEventListener("test",fe,ce)}catch{}return z}();function X(z,ce){if(O.call(this,z?z.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,z){var fe=this.type=z.type,Ee=z.changedTouches&&z.changedTouches.length?z.changedTouches[0]:null;if(this.target=z.target||z.srcElement,this.g=ce,ce=z.relatedTarget){if(w){e:{try{b(ce.nodeName);var Ze=!0;break e}catch{}Ze=!1}Ze||(ce=null)}}else fe=="mouseover"?ce=z.fromElement:fe=="mouseout"&&(ce=z.toElement);this.relatedTarget=ce,Ee?(this.clientX=Ee.clientX!==void 0?Ee.clientX:Ee.pageX,this.clientY=Ee.clientY!==void 0?Ee.clientY:Ee.pageY,this.screenX=Ee.screenX||0,this.screenY=Ee.screenY||0):(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0),this.button=z.button,this.key=z.key||"",this.ctrlKey=z.ctrlKey,this.altKey=z.altKey,this.shiftKey=z.shiftKey,this.metaKey=z.metaKey,this.pointerId=z.pointerId||0,this.pointerType=typeof z.pointerType=="string"?z.pointerType:ie[z.pointerType]||"",this.state=z.state,this.i=z,z.defaultPrevented&&X.aa.h.call(this)}}m(X,O);var ie={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var z=this.i;z.preventDefault?z.preventDefault():z.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),q=0;function ae(z,ce,fe,Ee,Ze){this.listener=z,this.proxy=null,this.src=ce,this.type=fe,this.capture=!!Ee,this.ha=Ze,this.key=++q,this.da=this.fa=!1}function ue(z){z.da=!0,z.listener=null,z.proxy=null,z.src=null,z.ha=null}function me(z){this.src=z,this.g={},this.h=0}me.prototype.add=function(z,ce,fe,Ee,Ze){var dt=z.toString();z=this.g[dt],z||(z=this.g[dt]=[],this.h++);var ni=ke(z,ce,Ee,Ze);return-1<ni?(ce=z[ni],fe||(ce.fa=!1)):(ce=new ae(ce,this.src,dt,!!Ee,Ze),ce.fa=fe,z.push(ce)),ce};function be(z,ce){var fe=ce.type;if(fe in z.g){var Ee=z.g[fe],Ze=Array.prototype.indexOf.call(Ee,ce,void 0),dt;(dt=0<=Ze)&&Array.prototype.splice.call(Ee,Ze,1),dt&&(ue(ce),z.g[fe].length==0&&(delete z.g[fe],z.h--))}}function ke(z,ce,fe,Ee){for(var Ze=0;Ze<z.length;++Ze){var dt=z[Ze];if(!dt.da&&dt.listener==ce&&dt.capture==!!fe&&dt.ha==Ee)return Ze}return-1}var ze="closure_lm_"+(1e6*Math.random()|0),De={};function ge(z,ce,fe,Ee,Ze){if(Ee&&Ee.once)return We(z,ce,fe,Ee,Ze);if(Array.isArray(ce)){for(var dt=0;dt<ce.length;dt++)ge(z,ce[dt],fe,Ee,Ze);return null}return fe=ai(fe),z&&z[re]?z.K(ce,fe,l(Ee)?!!Ee.capture:!!Ee,Ze):Et(z,ce,fe,!1,Ee,Ze)}function Et(z,ce,fe,Ee,Ze,dt){if(!ce)throw Error("Invalid event type");var ni=l(Ze)?!!Ze.capture:!!Ze,Qi=at(z);if(Qi||(z[ze]=Qi=new me(z)),fe=Qi.add(ce,fe,Ee,ni,dt),fe.proxy)return fe;if(Ee=ct(),fe.proxy=Ee,Ee.src=z,Ee.listener=fe,z.addEventListener)F||(Ze=ni),Ze===void 0&&(Ze=!1),z.addEventListener(ce.toString(),Ee,Ze);else if(z.attachEvent)z.attachEvent(it(ce.toString()),Ee);else if(z.addListener&&z.removeListener)z.addListener(Ee);else throw Error("addEventListener and attachEvent are unavailable.");return fe}function ct(){function z(fe){return ce.call(z.src,z.listener,fe)}let ce=Ft;return z}function We(z,ce,fe,Ee,Ze){if(Array.isArray(ce)){for(var dt=0;dt<ce.length;dt++)We(z,ce[dt],fe,Ee,Ze);return null}return fe=ai(fe),z&&z[re]?z.L(ce,fe,l(Ee)?!!Ee.capture:!!Ee,Ze):Et(z,ce,fe,!0,Ee,Ze)}function Ue(z,ce,fe,Ee,Ze){if(Array.isArray(ce))for(var dt=0;dt<ce.length;dt++)Ue(z,ce[dt],fe,Ee,Ze);else Ee=l(Ee)?!!Ee.capture:!!Ee,fe=ai(fe),z&&z[re]?(z=z.i,ce=String(ce).toString(),ce in z.g&&(dt=z.g[ce],fe=ke(dt,fe,Ee,Ze),-1<fe&&(ue(dt[fe]),Array.prototype.splice.call(dt,fe,1),dt.length==0&&(delete z.g[ce],z.h--)))):z&&(z=at(z))&&(ce=z.g[ce.toString()],z=-1,ce&&(z=ke(ce,fe,Ee,Ze)),(fe=-1<z?ce[z]:null)&&qe(fe))}function qe(z){if(typeof z!="number"&&z&&!z.da){var ce=z.src;if(ce&&ce[re])be(ce.i,z);else{var fe=z.type,Ee=z.proxy;ce.removeEventListener?ce.removeEventListener(fe,Ee,z.capture):ce.detachEvent?ce.detachEvent(it(fe),Ee):ce.addListener&&ce.removeListener&&ce.removeListener(Ee),(fe=at(ce))?(be(fe,z),fe.h==0&&(fe.src=null,ce[ze]=null)):ue(z)}}}function it(z){return z in De?De[z]:De[z]="on"+z}function Ft(z,ce){if(z.da)z=!0;else{ce=new X(ce,this);var fe=z.listener,Ee=z.ha||z.src;z.fa&&qe(z),z=fe.call(Ee,ce)}return z}function at(z){return z=z[ze],z instanceof me?z:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ai(z){return typeof z=="function"?z:(z[bt]||(z[bt]=function(ce){return z.handleEvent(ce)}),z[bt])}function ei(){V.call(this),this.i=new me(this),this.M=this,this.F=null}m(ei,V),ei.prototype[re]=!0,ei.prototype.removeEventListener=function(z,ce,fe,Ee){Ue(this,z,ce,fe,Ee)};function li(z,ce){var fe,Ee=z.F;if(Ee)for(fe=[];Ee;Ee=Ee.F)fe.push(Ee);if(z=z.M,Ee=ce.type||ce,typeof ce=="string")ce=new O(ce,z);else if(ce instanceof O)ce.target=ce.target||z;else{var Ze=ce;ce=new O(Ee,z),A(ce,Ze)}if(Ze=!0,fe)for(var dt=fe.length-1;0<=dt;dt--){var ni=ce.g=fe[dt];Ze=fi(ni,Ee,!0,ce)&&Ze}if(ni=ce.g=z,Ze=fi(ni,Ee,!0,ce)&&Ze,Ze=fi(ni,Ee,!1,ce)&&Ze,fe)for(dt=0;dt<fe.length;dt++)ni=ce.g=fe[dt],Ze=fi(ni,Ee,!1,ce)&&Ze}ei.prototype.N=function(){if(ei.aa.N.call(this),this.i){var z=this.i,ce;for(ce in z.g){for(var fe=z.g[ce],Ee=0;Ee<fe.length;Ee++)ue(fe[Ee]);delete z.g[ce],z.h--}}this.F=null},ei.prototype.K=function(z,ce,fe,Ee){return this.i.add(String(z),ce,!1,fe,Ee)},ei.prototype.L=function(z,ce,fe,Ee){return this.i.add(String(z),ce,!0,fe,Ee)};function fi(z,ce,fe,Ee){if(ce=z.i.g[String(ce)],!ce)return!0;ce=ce.concat();for(var Ze=!0,dt=0;dt<ce.length;++dt){var ni=ce[dt];if(ni&&!ni.da&&ni.capture==fe){var Qi=ni.listener,ur=ni.ha||ni.src;ni.fa&&be(z.i,ni),Ze=Qi.call(ur,Ee)!==!1&&Ze}}return Ze&&!Ee.defaultPrevented}function vi(z,ce,fe){if(typeof z=="function")fe&&(z=d(z,fe));else if(z&&typeof z.handleEvent=="function")z=d(z.handleEvent,z);else throw Error("Invalid listener argument");return 2147483647<Number(ce)?-1:o.setTimeout(z,ce||0)}function Ht(z){z.g=vi(()=>{z.g=null,z.i&&(z.i=!1,Ht(z))},z.l);let ce=z.h;z.h=null,z.m.apply(null,ce)}class xi extends V{constructor(ce,fe){super(),this.m=ce,this.l=fe,this.h=null,this.i=!1,this.g=null}j(ce){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(z){V.call(this),this.h=z,this.g={}}m(Ti,V);var Tr=[];function mn(z){C(z.g,function(ce,fe){this.g.hasOwnProperty(fe)&&qe(ce)},z),z.g={}}Ti.prototype.N=function(){Ti.aa.N.call(this),mn(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=o.JSON.stringify,Xr=o.JSON.parse,gn=class{stringify(z){return o.JSON.stringify(z,void 0)}parse(z){return o.JSON.parse(z,void 0)}};function Xo(){}Xo.prototype.h=null;function Nr(z){return z.h||(z.h=z.i())}function To(){}var lo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Er(){O.call(this,"d")}m(Er,O);function sn(){O.call(this,"c")}m(sn,O);var On={},Pc=null;function ps(){return Pc=Pc||new ei}On.La="serverreachability";function Yo(z){O.call(this,On.La,z)}m(Yo,O);function ja(z){let ce=ps();li(ce,new Yo(ce))}On.STAT_EVENT="statevent";function Ji(z,ce){O.call(this,On.STAT_EVENT,z),this.stat=ce}m(Ji,O);function Br(z){let ce=ps();li(ce,new Ji(ce,z))}On.Ma="timingevent";function ms(z,ce){O.call(this,On.Ma,z),this.size=ce}m(ms,O);function mi(z,ce){if(typeof z!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){z()},ce)}function Yr(){this.g=!0}Yr.prototype.xa=function(){this.g=!1};function _s(z,ce,fe,Ee,Ze,dt){z.info(function(){if(z.g)if(dt)for(var ni="",Qi=dt.split("&"),ur=0;ur<Qi.length;ur++){var bn=Qi[ur].split("=");if(1<bn.length){var rr=bn[0];bn=bn[1];var ca=rr.split("_");ni=2<=ca.length&&ca[1]=="type"?ni+(rr+"="+bn+"&"):ni+(rr+"=redacted&")}}else ni=null;else ni=dt;return"XMLHTTP REQ ("+Ee+") [attempt "+Ze+"]: "+ce+`
`+fe+`
`+ni})}function xe(z,ce,fe,Ee,Ze,dt,ni){z.info(function(){return"XMLHTTP RESP ("+Ee+") [ attempt "+Ze+"]: "+ce+`
`+fe+`
`+dt+" "+ni})}function Ne(z,ce,fe,Ee){z.info(function(){return"XMLHTTP TEXT ("+ce+"): "+Fe(z,fe)+(Ee?" "+Ee:"")})}function Re(z,ce){z.info(function(){return"TIMEOUT: "+ce})}Yr.prototype.info=function(){};function Fe(z,ce){if(!z.g)return ce;if(!ce)return null;try{var fe=JSON.parse(ce);if(fe){for(z=0;z<fe.length;z++)if(Array.isArray(fe[z])){var Ee=fe[z];if(!(2>Ee.length)){var Ze=Ee[1];if(Array.isArray(Ze)&&!(1>Ze.length)){var dt=Ze[0];if(dt!="noop"&&dt!="stop"&&dt!="close")for(var ni=1;ni<Ze.length;ni++)Ze[ni]=""}}}}return wn(fe)}catch{return ce}}var Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Be={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},st;function Ct(){}m(Ct,Xo),Ct.prototype.g=function(){return new XMLHttpRequest},Ct.prototype.i=function(){return{}},st=new Ct;function nt(z,ce,fe,Ee){this.j=z,this.i=ce,this.l=fe,this.R=Ee||1,this.U=new Ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ot}function ot(){this.i=null,this.g="",this.h=!1}var lt={},Qt={};function qt(z,ce,fe){z.L=1,z.v=sd(ba(ce)),z.m=fe,z.P=!0,wi(z,null)}function wi(z,ce){z.F=Date.now(),en(z),z.A=ba(z.v);var fe=z.A,Ee=z.R;Array.isArray(Ee)||(Ee=[String(Ee)]),Ar(fe.i,"t",Ee),z.C=0,fe=z.j.J,z.h=new ot,z.g=Ve(z.j,fe?ce:null,!z.m),0<z.O&&(z.M=new xi(d(z.Y,z,z.g),z.O)),ce=z.U,fe=z.g,Ee=z.ca;var Ze="readystatechange";Array.isArray(Ze)||(Ze&&(Tr[0]=Ze.toString()),Ze=Tr);for(var dt=0;dt<Ze.length;dt++){var ni=ge(fe,Ze[dt],Ee||ce.handleEvent,!1,ce.h||ce);if(!ni)break;ce.g[ni.key]=ni}ce=z.H?S(z.H):{},z.m?(z.u||(z.u="POST"),ce["Content-Type"]="application/x-www-form-urlencoded",z.g.ea(z.A,z.u,z.m,ce)):(z.u="GET",z.g.ea(z.A,z.u,null,ce)),ja(),_s(z.i,z.u,z.A,z.l,z.R,z.m)}nt.prototype.ca=function(z){z=z.target;let ce=this.M;ce&&Ko(z)==3?ce.j():this.Y(z)},nt.prototype.Y=function(z){try{if(z==this.g)e:{let ca=Ko(this.g);var ce=this.g.Ba();let ho=this.g.Z();if(!(3>ca)&&(ca!=3||this.g&&(this.h.h||this.g.oa()||xu(this.g)))){this.J||ca!=4||ce==7||(ce==8||0>=ho?ja(3):ja(2)),ws(this);var fe=this.g.Z();this.X=fe;t:if(oi(this)){var Ee=xu(this.g);z="";var Ze=Ee.length,dt=Ko(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$r(this),lr(this);var ni="";break t}this.h.i=new o.TextDecoder}for(ce=0;ce<Ze;ce++)this.h.h=!0,z+=this.h.i.decode(Ee[ce],{stream:!(dt&&ce==Ze-1)});Ee.length=0,this.h.g+=z,this.C=0,ni=this.h.g}else ni=this.g.oa();if(this.o=fe==200,xe(this.i,this.u,this.A,this.l,this.R,ca,fe),this.o){if(this.T&&!this.K){t:{if(this.g){var Qi,ur=this.g;if((Qi=ur.g?ur.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Qi)){var bn=Qi;break t}}bn=null}if(fe=bn)Ne(this.i,this.l,fe,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bl(this,fe);else{this.o=!1,this.s=3,Br(12),$r(this),lr(this);break e}}if(this.P){fe=!0;let fo;for(;!this.J&&this.C<ni.length;)if(fo=ii(this,ni),fo==Qt){ca==4&&(this.s=4,Br(14),fe=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}else if(fo==lt){this.s=4,Br(15),Ne(this.i,this.l,ni,"[Invalid Chunk]"),fe=!1;break}else Ne(this.i,this.l,fo,null),bl(this,fo);if(oi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ca!=4||ni.length!=0||this.h.h||(this.s=1,Br(16),fe=!1),this.o=this.o&&fe,!fe)Ne(this.i,this.l,ni,"[Invalid Chunked Response]"),$r(this),lr(this);else if(0<ni.length&&!this.W){this.W=!0;var rr=this.j;rr.g==this&&rr.ba&&!rr.M&&(rr.j.info("Great, no buffering proxy detected. Bytes received: "+ni.length),jh(rr),rr.M=!0,Br(11))}}else Ne(this.i,this.l,ni,null),bl(this,ni);ca==4&&$r(this),this.o&&!this.J&&(ca==4?Wh(this.j,this):(this.o=!1,en(this)))}else Tl(this.g),fe==400&&0<ni.indexOf("Unknown SID")?(this.s=3,Br(12)):(this.s=0,Br(13)),$r(this),lr(this)}}}catch{}finally{}};function oi(z){return z.g?z.u=="GET"&&z.L!=2&&z.j.Ca:!1}function ii(z,ce){var fe=z.C,Ee=ce.indexOf(`
`,fe);return Ee==-1?Qt:(fe=Number(ce.substring(fe,Ee)),isNaN(fe)?lt:(Ee+=1,Ee+fe>ce.length?Qt:(ce=ce.slice(Ee,Ee+fe),z.C=Ee+fe,ce)))}nt.prototype.cancel=function(){this.J=!0,$r(this)};function en(z){z.S=Date.now()+z.I,er(z,z.I)}function er(z,ce){if(z.B!=null)throw Error("WatchDog timer not null");z.B=mi(d(z.ba,z),ce)}function ws(z){z.B&&(o.clearTimeout(z.B),z.B=null)}nt.prototype.ba=function(){this.B=null;let z=Date.now();0<=z-this.S?(Re(this.i,this.A),this.L!=2&&(ja(),Br(17)),$r(this),this.s=2,lr(this)):er(this,this.S-z)};function lr(z){z.j.G==0||z.J||Wh(z.j,z)}function $r(z){ws(z);var ce=z.M;ce&&typeof ce.ma=="function"&&ce.ma(),z.M=null,mn(z.U),z.g&&(ce=z.g,z.g=null,ce.abort(),ce.ma())}function bl(z,ce){try{var fe=z.j;if(fe.G!=0&&(fe.g==z||kr(fe.h,z))){if(!z.K&&kr(fe.h,z)&&fe.G==3){try{var Ee=fe.Da.g.parse(ce)}catch{Ee=null}if(Array.isArray(Ee)&&Ee.length==3){var Ze=Ee;if(Ze[0]==0){e:if(!fe.u){if(fe.g)if(fe.g.F+3e3<z.F)Fc(fe),_u(fe);else break e;Gh(fe),Br(18)}}else fe.za=Ze[1],0<fe.za-fe.T&&37500>Ze[2]&&fe.F&&fe.v==0&&!fe.C&&(fe.C=mi(d(fe.Za,fe),6e3));if(1>=La(fe.h)&&fe.ca){try{fe.ca()}catch{}fe.ca=void 0}}else oc(fe,11)}else if((z.K||fe.g==z)&&Fc(fe),!y(ce))for(Ze=fe.Da.g.parse(ce),ce=0;ce<Ze.length;ce++){let bn=Ze[ce];if(fe.T=bn[0],bn=bn[1],fe.G==2)if(bn[0]=="c"){fe.K=bn[1],fe.ia=bn[2];let rr=bn[3];rr!=null&&(fe.la=rr,fe.j.info("VER="+fe.la));let ca=bn[4];ca!=null&&(fe.Aa=ca,fe.j.info("SVER="+fe.Aa));let ho=bn[5];ho!=null&&typeof ho=="number"&&0<ho&&(Ee=1.5*ho,fe.L=Ee,fe.j.info("backChannelRequestTimeoutMs_="+Ee)),Ee=fe;let fo=z.g;if(fo){let Jo=fo.g?fo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jo){var dt=Ee.h;dt.g||Jo.indexOf("spdy")==-1&&Jo.indexOf("quic")==-1&&Jo.indexOf("h2")==-1||(dt.j=dt.l,dt.g=new Set,dt.h&&(ic(dt,dt.h),dt.h=null))}if(Ee.D){let dd=fo.g?fo.g.getResponseHeader("X-HTTP-Session-Id"):null;dd&&(Ee.ya=dd,cr(Ee.I,Ee.D,dd))}}fe.G=3,fe.l&&fe.l.ua(),fe.ba&&(fe.R=Date.now()-z.F,fe.j.info("Handshake RTT: "+fe.R+"ms")),Ee=fe;var ni=z;if(Ee.qa=ve(Ee,Ee.J?Ee.ia:null,Ee.W),ni.K){Yd(Ee.h,ni);var Qi=ni,ur=Ee.L;ur&&(Qi.I=ur),Qi.B&&(ws(Qi),en(Qi)),Ee.g=ni}else cd(Ee);0<fe.i.length&&ld(fe)}else bn[0]!="stop"&&bn[0]!="close"||oc(fe,7);else fe.G==3&&(bn[0]=="stop"||bn[0]=="close"?bn[0]=="stop"?oc(fe,7):qd(fe):bn[0]!="noop"&&fe.l&&fe.l.ta(bn),fe.v=0)}}ja(4)}catch{}}var Eo=class{constructor(z,ce){this.g=z,this.map=ce}};function Cn(z){this.l=z||10,o.PerformanceNavigationTiming?(z=o.performance.getEntriesByType("navigation"),z=0<z.length&&(z[0].nextHopProtocol=="hq"||z[0].nextHopProtocol=="h2")):z=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=z?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nr(z){return z.h?!0:z.g?z.g.size>=z.j:!1}function La(z){return z.h?1:z.g?z.g.size:0}function kr(z,ce){return z.h?z.h==ce:z.g?z.g.has(ce):!1}function ic(z,ce){z.g?z.g.add(ce):z.h=ce}function Yd(z,ce){z.h&&z.h==ce?z.h=null:z.g&&z.g.has(ce)&&z.g.delete(ce)}Cn.prototype.cancel=function(){if(this.i=xn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let z of this.g.values())z.cancel();this.g.clear()}};function xn(z){if(z.h!=null)return z.i.concat(z.h.D);if(z.g!=null&&z.g.size!==0){let ce=z.i;for(let fe of z.g.values())ce=ce.concat(fe.D);return ce}return p(z.i)}function rs(z){if(z.V&&typeof z.V=="function")return z.V();if(typeof Map<"u"&&z instanceof Map||typeof Set<"u"&&z instanceof Set)return Array.from(z.values());if(typeof z=="string")return z.split("");if(u(z)){for(var ce=[],fe=z.length,Ee=0;Ee<fe;Ee++)ce.push(z[Ee]);return ce}ce=[],fe=0;for(Ee in z)ce[fe++]=z[Ee];return ce}function ep(z){if(z.na&&typeof z.na=="function")return z.na();if(!z.V||typeof z.V!="function"){if(typeof Map<"u"&&z instanceof Map)return Array.from(z.keys());if(!(typeof Set<"u"&&z instanceof Set)){if(u(z)||typeof z=="string"){var ce=[];z=z.length;for(var fe=0;fe<z;fe++)ce.push(fe);return ce}ce=[],fe=0;for(let Ee in z)ce[fe++]=Ee;return ce}}}function co(z,ce){if(z.forEach&&typeof z.forEach=="function")z.forEach(ce,void 0);else if(u(z)||typeof z=="string")Array.prototype.forEach.call(z,ce,void 0);else for(var fe=ep(z),Ee=rs(z),Ze=Ee.length,dt=0;dt<Ze;dt++)ce.call(void 0,Ee[dt],fe&&fe[dt],z)}var xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ao(z,ce){if(z){z=z.split("&");for(var fe=0;fe<z.length;fe++){var Ee=z[fe].indexOf("="),Ze=null;if(0<=Ee){var dt=z[fe].substring(0,Ee);Ze=z[fe].substring(Ee+1)}else dt=z[fe];ce(dt,Ze?decodeURIComponent(Ze.replace(/\+/g," ")):"")}}}function Mo(z){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,z instanceof Mo){this.h=z.h,ss(this,z.j),this.o=z.o,this.g=z.g,$o(this,z.s),this.l=z.l;var ce=z.i,fe=new Os;fe.i=ce.i,ce.g&&(fe.g=new Map(ce.g),fe.h=ce.h),rd(this,fe),this.m=z.m}else z&&(ce=String(z).match(xa))?(this.h=!1,ss(this,ce[1]||"",!0),this.o=Qo(ce[2]||""),this.g=Qo(ce[3]||"",!0),$o(this,ce[4]),this.l=Qo(ce[5]||"",!0),rd(this,ce[6]||"",!0),this.m=Qo(ce[7]||"")):(this.h=!1,this.i=new Os(null,this.h))}Mo.prototype.toString=function(){var z=[],ce=this.j;ce&&z.push(mu(ce,$d,!0),":");var fe=this.g;return(fe||ce=="file")&&(z.push("//"),(ce=this.o)&&z.push(mu(ce,$d,!0),"@"),z.push(encodeURIComponent(String(fe)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),fe=this.s,fe!=null&&z.push(":",String(fe))),(fe=this.l)&&(this.g&&fe.charAt(0)!="/"&&z.push("/"),z.push(mu(fe,fe.charAt(0)=="/"?ad:nc,!0))),(fe=this.i.toString())&&z.push("?",fe),(fe=this.m)&&z.push("#",mu(fe,ip)),z.join("")};function ba(z){return new Mo(z)}function ss(z,ce,fe){z.j=fe?Qo(ce,!0):ce,z.j&&(z.j=z.j.replace(/:$/,""))}function $o(z,ce){if(ce){if(ce=Number(ce),isNaN(ce)||0>ce)throw Error("Bad port number "+ce);z.s=ce}else z.s=null}function rd(z,ce,fe){ce instanceof Os?(z.i=ce,_l(z.i,z.h)):(fe||(ce=mu(ce,gu)),z.i=new Os(ce,z.h))}function cr(z,ce,fe){z.i.set(ce,fe)}function sd(z){return cr(z,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),z}function Qo(z,ce){return z?ce?decodeURI(z.replace(/%25/g,"%2525")):decodeURIComponent(z):""}function mu(z,ce,fe){return typeof z=="string"?(z=encodeURI(z).replace(ce,tp),fe&&(z=z.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z):null}function tp(z){return z=z.charCodeAt(0),"%"+(z>>4&15).toString(16)+(z&15).toString(16)}var $d=/[#\/\?@]/g,nc=/[#\?:]/g,ad=/[#\?]/g,gu=/[#\?@]/g,ip=/#/g;function Os(z,ce){this.h=this.g=null,this.i=z||null,this.j=!!ce}function Rc(z){z.g||(z.g=new Map,z.h=0,z.i&&Ao(z.i,function(ce,fe){z.add(decodeURIComponent(ce.replace(/\+/g," ")),fe)}))}t=Os.prototype,t.add=function(z,ce){Rc(this),this.i=null,z=vu(this,z);var fe=this.g.get(z);return fe||this.g.set(z,fe=[]),fe.push(ce),this.h+=1,this};function hn(z,ce){Rc(z),ce=vu(z,ce),z.g.has(ce)&&(z.i=null,z.h-=z.g.get(ce).length,z.g.delete(ce))}function Yi(z,ce){return Rc(z),ce=vu(z,ce),z.g.has(ce)}t.forEach=function(z,ce){Rc(this),this.g.forEach(function(fe,Ee){fe.forEach(function(Ze){z.call(ce,Ze,Ee,this)},this)},this)},t.na=function(){Rc(this);let z=Array.from(this.g.values()),ce=Array.from(this.g.keys()),fe=[];for(let Ee=0;Ee<ce.length;Ee++){let Ze=z[Ee];for(let dt=0;dt<Ze.length;dt++)fe.push(ce[Ee])}return fe},t.V=function(z){Rc(this);let ce=[];if(typeof z=="string")Yi(this,z)&&(ce=ce.concat(this.g.get(vu(this,z))));else{z=Array.from(this.g.values());for(let fe=0;fe<z.length;fe++)ce=ce.concat(z[fe])}return ce},t.set=function(z,ce){return Rc(this),this.i=null,z=vu(this,z),Yi(this,z)&&(this.h-=this.g.get(z).length),this.g.set(z,[ce]),this.h+=1,this},t.get=function(z,ce){return z?(z=this.V(z),0<z.length?String(z[0]):ce):ce};function Ar(z,ce,fe){hn(z,ce),0<fe.length&&(z.i=null,z.g.set(vu(z,ce),p(fe)),z.h+=fe.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let z=[],ce=Array.from(this.g.keys());for(var fe=0;fe<ce.length;fe++){var Ee=ce[fe];let dt=encodeURIComponent(String(Ee)),ni=this.V(Ee);for(Ee=0;Ee<ni.length;Ee++){var Ze=dt;ni[Ee]!==""&&(Ze+="="+encodeURIComponent(String(ni[Ee]))),z.push(Ze)}}return this.i=z.join("&")};function vu(z,ce){return ce=String(ce),z.j&&(ce=ce.toLowerCase()),ce}function _l(z,ce){ce&&!z.j&&(Rc(z),z.i=null,z.g.forEach(function(fe,Ee){var Ze=Ee.toLowerCase();Ee!=Ze&&(hn(this,Ee),Ar(this,Ze,fe))},z)),z.j=ce}function zh(z,ce){let fe=new Yr;if(o.Image){let Ee=new Image;Ee.onload=f(la,fe,"TestLoadImage: loaded",!0,ce,Ee),Ee.onerror=f(la,fe,"TestLoadImage: error",!1,ce,Ee),Ee.onabort=f(la,fe,"TestLoadImage: abort",!1,ce,Ee),Ee.ontimeout=f(la,fe,"TestLoadImage: timeout",!1,ce,Ee),o.setTimeout(function(){Ee.ontimeout&&Ee.ontimeout()},1e4),Ee.src=z}else ce(!1)}function Uh(z,ce){let fe=new Yr,Ee=new AbortController,Ze=setTimeout(()=>{Ee.abort(),la(fe,"TestPingServer: timeout",!1,ce)},1e4);fetch(z,{signal:Ee.signal}).then(dt=>{clearTimeout(Ze),dt.ok?la(fe,"TestPingServer: ok",!0,ce):la(fe,"TestPingServer: server error",!1,ce)}).catch(()=>{clearTimeout(Ze),la(fe,"TestPingServer: error",!1,ce)})}function la(z,ce,fe,Ee,Ze){try{Ze&&(Ze.onload=null,Ze.onerror=null,Ze.onabort=null,Ze.ontimeout=null),Ee(fe)}catch{}}function Qd(){this.g=new gn}function Kd(z,ce,fe){let Ee=fe||"";try{co(z,function(Ze,dt){let ni=Ze;l(Ze)&&(ni=wn(Ze)),ce.push(Ee+dt+"="+encodeURIComponent(ni))})}catch(Ze){throw ce.push(Ee+"type="+encodeURIComponent("_badmap")),Ze}}function Cs(z){this.l=z.Ub||null,this.j=z.eb||!1}m(Cs,Xo),Cs.prototype.g=function(){return new wl(this.l,this.j)},Cs.prototype.i=function(z){return function(){return z}}({});function wl(z,ce){ei.call(this),this.D=z,this.o=ce,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(wl,ei),t=wl.prototype,t.open=function(z,ce){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=z,this.A=ce,this.readyState=1,Sl(this)},t.send=function(z){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let ce={headers:this.u,method:this.B,credentials:this.m,cache:void 0};z&&(ce.body=z),(this.D||o).fetch(new Request(this.A,ce)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cl(this)),this.readyState=0},t.Sa=function(z){if(this.g&&(this.l=z,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=z.headers,this.readyState=2,Sl(this)),this.g&&(this.readyState=3,Sl(this),this.g)))if(this.responseType==="arraybuffer")z.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in z){if(this.j=z.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zd(this)}else z.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zd(z){z.j.read().then(z.Pa.bind(z)).catch(z.ga.bind(z))}t.Pa=function(z){if(this.g){if(this.o&&z.value)this.response.push(z.value);else if(!this.o){var ce=z.value?z.value:new Uint8Array(0);(ce=this.v.decode(ce,{stream:!z.done}))&&(this.response=this.responseText+=ce)}z.done?Cl(this):Sl(this),this.readyState==3&&Zd(this)}},t.Ra=function(z){this.g&&(this.response=this.responseText=z,Cl(this))},t.Qa=function(z){this.g&&(this.response=z,Cl(this))},t.ga=function(){this.g&&Cl(this)};function Cl(z){z.readyState=4,z.l=null,z.j=null,z.v=null,Sl(z)}t.setRequestHeader=function(z,ce){this.u.append(z,ce)},t.getResponseHeader=function(z){return this.h&&this.h.get(z.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let z=[],ce=this.h.entries();for(var fe=ce.next();!fe.done;)fe=fe.value,z.push(fe[0]+": "+fe[1]),fe=ce.next();return z.join(`\r
`)};function Sl(z){z.onreadystatechange&&z.onreadystatechange.call(z)}Object.defineProperty(wl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(z){this.m=z?"include":"same-origin"}});function np(z){let ce="";return C(z,function(fe,Ee){ce+=Ee,ce+=":",ce+=fe,ce+=`\r
`}),ce}function rc(z,ce,fe){e:{for(Ee in fe){var Ee=!1;break e}Ee=!0}Ee||(fe=np(fe),typeof z=="string"?fe!=null&&encodeURIComponent(String(fe)):cr(z,ce,fe))}function Qr(z){ei.call(this),this.headers=new Map,this.o=z||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Qr,ei);var Jd=/^https?$/i,Yn=["POST","PUT"];t=Qr.prototype,t.Ha=function(z){this.J=z},t.ea=function(z,ce,fe,Ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+z);ce=ce?ce.toUpperCase():"GET",this.D=z,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():st.g(),this.v=this.o?Nr(this.o):Nr(st),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(ce,String(z),!0),this.B=!1}catch(dt){rp(this,dt);return}if(z=fe||"",fe=new Map(this.headers),Ee)if(Object.getPrototypeOf(Ee)===Object.prototype)for(var Ze in Ee)fe.set(Ze,Ee[Ze]);else if(typeof Ee.keys=="function"&&typeof Ee.get=="function")for(let dt of Ee.keys())fe.set(dt,Ee.get(dt));else throw Error("Unknown input type for opt_headers: "+String(Ee));Ee=Array.from(fe.keys()).find(dt=>dt.toLowerCase()=="content-type"),Ze=o.FormData&&z instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Yn,ce,void 0))||Ee||Ze||fe.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[dt,ni]of fe)this.g.setRequestHeader(dt,ni);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kc(this),this.u=!0,this.g.send(z),this.u=!1}catch(dt){rp(this,dt)}};function rp(z,ce){z.h=!1,z.g&&(z.j=!0,z.g.abort(),z.j=!1),z.l=ce,z.m=5,uo(z),Io(z)}function uo(z){z.A||(z.A=!0,li(z,"complete"),li(z,"error"))}t.abort=function(z){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=z||7,li(this,"complete"),li(this,"abort"),Io(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Io(this,!0)),Qr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yu(this):this.bb())},t.bb=function(){yu(this)};function yu(z){if(z.h&&typeof s<"u"&&(!z.v[1]||Ko(z)!=4||z.Z()!=2)){if(z.u&&Ko(z)==4)vi(z.Ea,0,z);else if(li(z,"readystatechange"),Ko(z)==4){z.h=!1;try{let ni=z.Z();e:switch(ni){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ce=!0;break e;default:ce=!1}var fe;if(!(fe=ce)){var Ee;if(Ee=ni===0){var Ze=String(z.D).match(xa)[1]||null;!Ze&&o.self&&o.self.location&&(Ze=o.self.location.protocol.slice(0,-1)),Ee=!Jd.test(Ze?Ze.toLowerCase():"")}fe=Ee}if(fe)li(z,"complete"),li(z,"success");else{z.m=6;try{var dt=2<Ko(z)?z.g.statusText:""}catch{dt=""}z.l=dt+" ["+z.Z()+"]",uo(z)}}finally{Io(z)}}}}function Io(z,ce){if(z.g){kc(z);let fe=z.g,Ee=z.v[0]?()=>{}:null;z.g=null,z.v=null,ce||li(z,"ready");try{fe.onreadystatechange=Ee}catch{}}}function kc(z){z.I&&(o.clearTimeout(z.I),z.I=null)}t.isActive=function(){return!!this.g};function Ko(z){return z.g?z.g.readyState:0}t.Z=function(){try{return 2<Ko(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(z){if(this.g){var ce=this.g.responseText;return z&&ce.indexOf(z)==0&&(ce=ce.substring(z.length)),Xr(ce)}};function xu(z){try{if(!z.g)return null;if("response"in z.g)return z.g.response;switch(z.H){case"":case"text":return z.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in z.g)return z.g.mozResponseArrayBuffer}return null}catch{return null}}function Tl(z){let ce={};z=(z.g&&2<=Ko(z)&&z.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ee=0;Ee<z.length;Ee++){if(y(z[Ee]))continue;var fe=M(z[Ee]);let Ze=fe[0];if(fe=fe[1],typeof fe!="string")continue;fe=fe.trim();let dt=ce[Ze]||[];ce[Ze]=dt,dt.push(fe)}_(ce,function(Ee){return Ee.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bu(z,ce,fe){return fe&&fe.internalChannelParams&&fe.internalChannelParams[z]||ce}function od(z){this.Aa=0,this.i=[],this.j=new Yr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bu("failFast",!1,z),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bu("baseRetryDelayMs",5e3,z),this.cb=bu("retryDelaySeedMs",1e4,z),this.Wa=bu("forwardChannelMaxRetries",2,z),this.wa=bu("forwardChannelRequestTimeoutMs",2e4,z),this.pa=z&&z.xmlHttpFactory||void 0,this.Xa=z&&z.Tb||void 0,this.Ca=z&&z.useFetchStreams||!1,this.L=void 0,this.J=z&&z.supportsCrossDomainXhr||!1,this.K="",this.h=new Cn(z&&z.concurrentRequestLimit),this.Da=new Qd,this.P=z&&z.fastHandshake||!1,this.O=z&&z.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=z&&z.Rb||!1,z&&z.xa&&this.j.xa(),z&&z.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&z&&z.detectBufferingProxy||!1,this.ja=void 0,z&&z.longPollingTimeout&&0<z.longPollingTimeout&&(this.ja=z.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=od.prototype,t.la=8,t.G=1,t.connect=function(z,ce,fe,Ee){Br(0),this.W=z,this.H=ce||{},fe&&Ee!==void 0&&(this.H.OSID=fe,this.H.OAID=Ee),this.F=this.X,this.I=ve(this,null,this.W),ld(this)};function qd(z){if(Zo(z),z.G==3){var ce=z.U++,fe=ba(z.I);if(cr(fe,"SID",z.K),cr(fe,"RID",ce),cr(fe,"TYPE","terminate"),sc(z,fe),ce=new nt(z,z.j,ce),ce.L=2,ce.v=sd(ba(fe)),fe=!1,o.navigator&&o.navigator.sendBeacon)try{fe=o.navigator.sendBeacon(ce.v.toString(),"")}catch{}!fe&&o.Image&&(new Image().src=ce.v,fe=!0),fe||(ce.g=Ve(ce.j,null),ce.g.ea(ce.v)),ce.F=Date.now(),en(ce)}te(z)}function _u(z){z.g&&(jh(z),z.g.cancel(),z.g=null)}function Zo(z){_u(z),z.u&&(o.clearTimeout(z.u),z.u=null),Fc(z),z.h.cancel(),z.s&&(typeof z.s=="number"&&o.clearTimeout(z.s),z.s=null)}function ld(z){if(!nr(z.h)&&!z.s){z.s=!0;var ce=z.Ga;H||ee(),j||(H(),j=!0),Z.add(ce,z),z.B=0}}function Hh(z,ce){return La(z.h)>=z.h.j-(z.s?1:0)?!1:z.s?(z.i=ce.D.concat(z.i),!0):z.G==1||z.G==2||z.B>=(z.Va?0:z.Wa)?!1:(z.s=mi(d(z.Ga,z,ce),ac(z,z.B)),z.B++,!0)}t.Ga=function(z){if(this.s)if(this.s=null,this.G==1){if(!z){this.U=Math.floor(1e5*Math.random()),z=this.U++;let Ze=new nt(this,this.j,z),dt=this.o;if(this.S&&(dt?(dt=S(dt),A(dt,this.S)):dt=this.S),this.m!==null||this.O||(Ze.H=dt,dt=null),this.P)e:{for(var ce=0,fe=0;fe<this.i.length;fe++){t:{var Ee=this.i[fe];if("__data__"in Ee.map&&(Ee=Ee.map.__data__,typeof Ee=="string")){Ee=Ee.length;break t}Ee=void 0}if(Ee===void 0)break;if(ce+=Ee,4096<ce){ce=fe;break e}if(ce===4096||fe===this.i.length-1){ce=fe+1;break e}}ce=1e3}else ce=1e3;ce=eh(this,Ze,ce),fe=ba(this.I),cr(fe,"RID",z),cr(fe,"CVER",22),this.D&&cr(fe,"X-HTTP-Session-Id",this.D),sc(this,fe),dt&&(this.O?ce="headers="+encodeURIComponent(String(np(dt)))+"&"+ce:this.m&&rc(fe,this.m,dt)),ic(this.h,Ze),this.Ua&&cr(fe,"TYPE","init"),this.P?(cr(fe,"$req",ce),cr(fe,"SID","null"),Ze.T=!0,qt(Ze,fe,null)):qt(Ze,fe,ce),this.G=2}}else this.G==3&&(z?El(this,z):this.i.length==0||nr(this.h)||El(this))};function El(z,ce){var fe;ce?fe=ce.l:fe=z.U++;let Ee=ba(z.I);cr(Ee,"SID",z.K),cr(Ee,"RID",fe),cr(Ee,"AID",z.T),sc(z,Ee),z.m&&z.o&&rc(Ee,z.m,z.o),fe=new nt(z,z.j,fe,z.B+1),z.m===null&&(fe.H=z.o),ce&&(z.i=ce.D.concat(z.i)),ce=eh(z,fe,1e3),fe.I=Math.round(.5*z.wa)+Math.round(.5*z.wa*Math.random()),ic(z.h,fe),qt(fe,Ee,ce)}function sc(z,ce){z.H&&C(z.H,function(fe,Ee){cr(ce,Ee,fe)}),z.l&&co({},function(fe,Ee){cr(ce,Ee,fe)})}function eh(z,ce,fe){fe=Math.min(z.i.length,fe);var Ee=z.l?d(z.l.Na,z.l,z):null;e:{var Ze=z.i;let dt=-1;for(;;){let ni=["count="+fe];dt==-1?0<fe?(dt=Ze[0].g,ni.push("ofs="+dt)):dt=0:ni.push("ofs="+dt);let Qi=!0;for(let ur=0;ur<fe;ur++){let bn=Ze[ur].g,rr=Ze[ur].map;if(bn-=dt,0>bn)dt=Math.max(0,Ze[ur].g-100),Qi=!1;else try{Kd(rr,ni,"req"+bn+"_")}catch{Ee&&Ee(rr)}}if(Qi){Ee=ni.join("&");break e}}}return z=z.i.splice(0,fe),ce.D=z,Ee}function cd(z){if(!z.g&&!z.u){z.Y=1;var ce=z.Fa;H||ee(),j||(H(),j=!0),Z.add(ce,z),z.v=0}}function Gh(z){return z.g||z.u||3<=z.v?!1:(z.Y++,z.u=mi(d(z.Fa,z),ac(z,z.v)),z.v++,!0)}t.Fa=function(){if(this.u=null,ud(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var z=2*this.R;this.j.info("BP detection timer enabled: "+z),this.A=mi(d(this.ab,this),z)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Br(10),_u(this),ud(this))};function jh(z){z.A!=null&&(o.clearTimeout(z.A),z.A=null)}function ud(z){z.g=new nt(z,z.j,"rpc",z.Y),z.m===null&&(z.g.H=z.o),z.g.O=0;var ce=ba(z.qa);cr(ce,"RID","rpc"),cr(ce,"SID",z.K),cr(ce,"AID",z.T),cr(ce,"CI",z.F?"0":"1"),!z.F&&z.ja&&cr(ce,"TO",z.ja),cr(ce,"TYPE","xmlhttp"),sc(z,ce),z.m&&z.o&&rc(ce,z.m,z.o),z.L&&(z.g.I=z.L);var fe=z.g;z=z.ia,fe.L=1,fe.v=sd(ba(ce)),fe.m=null,fe.P=!0,wi(fe,z)}t.Za=function(){this.C!=null&&(this.C=null,_u(this),Gh(this),Br(19))};function Fc(z){z.C!=null&&(o.clearTimeout(z.C),z.C=null)}function Wh(z,ce){var fe=null;if(z.g==ce){Fc(z),jh(z),z.g=null;var Ee=2}else if(kr(z.h,ce))fe=ce.D,Yd(z.h,ce),Ee=1;else return;if(z.G!=0){if(ce.o)if(Ee==1){fe=ce.m?ce.m.length:0,ce=Date.now()-ce.F;var Ze=z.B;Ee=ps(),li(Ee,new ms(Ee,fe)),ld(z)}else cd(z);else if(Ze=ce.s,Ze==3||Ze==0&&0<ce.X||!(Ee==1&&Hh(z,ce)||Ee==2&&Gh(z)))switch(fe&&0<fe.length&&(ce=z.h,ce.i=ce.i.concat(fe)),Ze){case 1:oc(z,5);break;case 4:oc(z,10);break;case 3:oc(z,6);break;default:oc(z,2)}}}function ac(z,ce){let fe=z.Ta+Math.floor(Math.random()*z.cb);return z.isActive()||(fe*=2),fe*ce}function oc(z,ce){if(z.j.info("Error code "+ce),ce==2){var fe=d(z.fb,z),Ee=z.Xa;let Ze=!Ee;Ee=new Mo(Ee||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ss(Ee,"https"),sd(Ee),Ze?zh(Ee.toString(),fe):Uh(Ee.toString(),fe)}else Br(2);z.G=0,z.l&&z.l.sa(ce),te(z),Zo(z)}t.fb=function(z){z?(this.j.info("Successfully pinged google.com"),Br(2)):(this.j.info("Failed to ping google.com"),Br(1))};function te(z){if(z.G=0,z.ka=[],z.l){let ce=xn(z.h);(ce.length!=0||z.i.length!=0)&&(g(z.ka,ce),g(z.ka,z.i),z.h.i.length=0,p(z.i),z.i.length=0),z.l.ra()}}function ve(z,ce,fe){var Ee=fe instanceof Mo?ba(fe):new Mo(fe);if(Ee.g!="")ce&&(Ee.g=ce+"."+Ee.g),$o(Ee,Ee.s);else{var Ze=o.location;Ee=Ze.protocol,ce=ce?ce+"."+Ze.hostname:Ze.hostname,Ze=+Ze.port;var dt=new Mo(null);Ee&&ss(dt,Ee),ce&&(dt.g=ce),Ze&&$o(dt,Ze),fe&&(dt.l=fe),Ee=dt}return fe=z.D,ce=z.ya,fe&&ce&&cr(Ee,fe,ce),cr(Ee,"VER",z.la),sc(z,Ee),Ee}function Ve(z,ce,fe){if(ce&&!z.J)throw Error("Can't create secondary domain capable XhrIo object.");return ce=z.Ca&&!z.pa?new Qr(new Cs({eb:fe})):new Qr(z.pa),ce.Ha(z.J),ce}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xe(){}t=Xe.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rt(){}rt.prototype.g=function(z,ce){return new St(z,ce)};function St(z,ce){ei.call(this),this.g=new od(ce),this.l=z,this.h=ce&&ce.messageUrlParams||null,z=ce&&ce.messageHeaders||null,ce&&ce.clientProtocolHeaderRequired&&(z?z["X-Client-Protocol"]="webchannel":z={"X-Client-Protocol":"webchannel"}),this.g.o=z,z=ce&&ce.initMessageHeaders||null,ce&&ce.messageContentType&&(z?z["X-WebChannel-Content-Type"]=ce.messageContentType:z={"X-WebChannel-Content-Type":ce.messageContentType}),ce&&ce.va&&(z?z["X-WebChannel-Client-Profile"]=ce.va:z={"X-WebChannel-Client-Profile":ce.va}),this.g.S=z,(z=ce&&ce.Sb)&&!y(z)&&(this.g.m=z),this.v=ce&&ce.supportsCrossDomainXhr||!1,this.u=ce&&ce.sendRawJson||!1,(ce=ce&&ce.httpSessionIdParam)&&!y(ce)&&(this.g.D=ce,z=this.h,z!==null&&ce in z&&(z=this.h,ce in z&&delete z[ce])),this.j=new Li(this)}m(St,ei),St.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){qd(this.g)},St.prototype.o=function(z){var ce=this.g;if(typeof z=="string"){var fe={};fe.__data__=z,z=fe}else this.u&&(fe={},fe.__data__=wn(z),z=fe);ce.i.push(new Eo(ce.Ya++,z)),ce.G==3&&ld(ce)},St.prototype.N=function(){this.g.l=null,delete this.j,qd(this.g),delete this.g,St.aa.N.call(this)};function Ot(z){Er.call(this),z.__headers__&&(this.headers=z.__headers__,this.statusCode=z.__status__,delete z.__headers__,delete z.__status__);var ce=z.__sm__;if(ce){e:{for(let fe in ce){z=fe;break e}z=void 0}(this.i=z)&&(z=this.i,ce=ce!==null&&z in ce?ce[z]:void 0),this.data=ce}else this.data=z}m(Ot,Er);function bi(){sn.call(this),this.status=1}m(bi,sn);function Li(z){this.g=z}m(Li,Xe),Li.prototype.ua=function(){li(this.g,"a")},Li.prototype.ta=function(z){li(this.g,new Ot(z))},Li.prototype.sa=function(z){li(this.g,new bi)},Li.prototype.ra=function(){li(this.g,"b")},rt.prototype.createWebChannel=rt.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,RF=Bp.createWebChannelTransport=function(){return new rt},PF=Bp.getStatEventTarget=function(){return ps()},DF=Bp.Event=On,FA=Bp.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,iw=Bp.ErrorCode=Oe,Be.COMPLETE="complete",IF=Bp.EventType=Be,To.EventType=lo,lo.OPEN="a",lo.CLOSE="b",lo.ERROR="c",lo.MESSAGE="d",ei.prototype.listen=ei.prototype.K,D1=Bp.WebChannel=To,FEe=Bp.FetchXmlHttpFactory=Cs,Qr.prototype.listenOnce=Qr.prototype.L,Qr.prototype.getLastError=Qr.prototype.Ka,Qr.prototype.getLastErrorCode=Qr.prototype.Ba,Qr.prototype.getStatus=Qr.prototype.Z,Qr.prototype.getResponseJson=Qr.prototype.Oa,Qr.prototype.getResponseText=Qr.prototype.oa,Qr.prototype.send=Qr.prototype.ea,Qr.prototype.setWithCredentials=Qr.prototype.Ha,MF=Bp.XhrIo=Qr}).apply(typeof kA<"u"?kA:typeof self<"u"?self:typeof window<"u"?window:{});var GY="@firebase/firestore";var Uo=class{constructor(i){this.uid=i}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}};Uo.UNAUTHENTICATED=new Uo(null),Uo.GOOGLE_CREDENTIALS=new Uo("google-credentials-uid"),Uo.FIRST_PARTY=new Uo("first-party-uid"),Uo.MOCK_USER=new Uo("mock-user");var Q1="10.14.0";var Wg=new I1("@firebase/firestore");function nw(){return Wg.logLevel}function Hi(t,...i){if(Wg.logLevel<=Pr.DEBUG){let e=i.map(xL);Wg.debug(`Firestore (${Q1}): ${t}`,...e)}}function Vp(t,...i){if(Wg.logLevel<=Pr.ERROR){let e=i.map(xL);Wg.error(`Firestore (${Q1}): ${t}`,...e)}}function B1(t,...i){if(Wg.logLevel<=Pr.WARN){let e=i.map(xL);Wg.warn(`Firestore (${Q1}): ${t}`,...e)}}function xL(t){if(typeof t=="string")return t;try{return function(e){return JSON.stringify(e)}(t)}catch{return t}}function Tn(t="Unexpected state"){let i=`FIRESTORE (${Q1}) INTERNAL ASSERTION FAILED: `+t;throw Vp(i),new Error(i)}function ds(t,i){t||Tn()}function Dn(t,i){return t}var Wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pi=class extends Op{constructor(i,e){super(i,e),this.code=i,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var If=class{constructor(){this.promise=new Promise((i,e)=>{this.resolve=i,this.reject=e})}};var VA=class{constructor(i,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}},NF=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,e){i.enqueueRetryable(()=>e(Uo.UNAUTHENTICATED))}shutdown(){}},BF=class{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,e){this.changeListener=e,i.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}},VF=class{constructor(i){this.t=i,this.currentUser=Uo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,e){ds(this.o===void 0);let r=this.i,n=u=>this.i!==r?(r=this.i,e(u)):Promise.resolve(),a=new If;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new If,i.enqueueRetryable(()=>n(this.currentUser))};let s=()=>{let u=a;i.enqueueRetryable(()=>Mt(this,null,function*(){yield u.promise,yield n(this.currentUser)}))},o=u=>{Hi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?o(u):(Hi("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new If)}},0),s()}getToken(){let i=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==i?(Hi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ds(typeof r.accessToken=="string"),new VA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let i=this.auth&&this.auth.getUid();return ds(i===null||typeof i=="string"),new Uo(i)}},zF=class{constructor(i,e,r){this.l=i,this.h=e,this.P=r,this.type="FirstParty",this.user=Uo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let i=this.T();return i&&this.I.set("Authorization",i),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},UF=class{constructor(i,e,r){this.l=i,this.h=e,this.P=r}getToken(){return Promise.resolve(new zF(this.l,this.h,this.P))}start(i,e){i.enqueueRetryable(()=>e(Uo.FIRST_PARTY))}shutdown(){}invalidateToken(){}},HF=class{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},GF=class{constructor(i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(i,e){ds(this.o===void 0);let r=a=>{a.error!=null&&Hi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);let s=a.token!==this.R;return this.R=a.token,Hi("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(a.token):Promise.resolve()};this.o=a=>{i.enqueueRetryable(()=>r(a))};let n=a=>{Hi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>n(a)),setTimeout(()=>{if(!this.appCheck){let a=this.A.getImmediate({optional:!0});a?n(a):Hi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(e=>e?(ds(typeof e.token=="string"),this.R=e.token,new HF(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function OEe(t){let i=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(t);if(i&&typeof i.getRandomValues=="function")i.getRandomValues(e);else for(let r=0;r<t;r++)e[r]=Math.floor(256*Math.random());return e}var zA=class{static newId(){let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/i.length)*i.length,r="";for(;r.length<20;){let n=OEe(40);for(let a=0;a<n.length;++a)r.length<20&&n[a]<e&&(r+=i.charAt(n[a]%i.length))}return r}};function Lr(t,i){return t<i?-1:t>i?1:0}function V1(t,i,e){return t.length===i.length&&t.every((r,n)=>e(r,i[n]))}var wo=class t{constructor(i,e){if(this.seconds=i,this.nanoseconds=e,e<0)throw new Pi(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Pi(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(i<-62135596800)throw new Pi(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Pi(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return t.fromMillis(Date.now())}static fromDate(i){return t.fromMillis(i.getTime())}static fromMillis(i){let e=Math.floor(i/1e3),r=Math.floor(1e6*(i-1e3*e));return new t(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?Lr(this.nanoseconds,i.nanoseconds):Lr(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let i=this.seconds- -62135596800;return String(i).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var jn=class t{constructor(i){this.timestamp=i}static fromTimestamp(i){return new t(i)}static min(){return new t(new wo(0,0))}static max(){return new t(new wo(253402300799,999999999))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var UA=class t{constructor(i,e,r){e===void 0?e=0:e>i.length&&Tn(),r===void 0?r=i.length-e:r>i.length-e&&Tn(),this.segments=i,this.offset=e,this.len=r}get length(){return this.len}isEqual(i){return t.comparator(this,i)===0}child(i){let e=this.segments.slice(this.offset,this.limit());return i instanceof t?i.forEach(r=>{e.push(r)}):e.push(i),this.construct(e)}limit(){return this.offset+this.length}popFirst(i){return i=i===void 0?1:i,this.construct(this.segments,this.offset+i,this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return this.length===0}isPrefixOf(i){if(i.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==i.get(e))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==i.get(e))return!1;return!0}forEach(i){for(let e=this.offset,r=this.limit();e<r;e++)i(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,e){let r=Math.min(i.length,e.length);for(let n=0;n<r;n++){let a=i.get(n),s=e.get(n);if(a<s)return-1;if(a>s)return 1}return i.length<e.length?-1:i.length>e.length?1:0}},ga=class t extends UA{construct(i,e,r){return new t(i,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...i){let e=[];for(let r of i){if(r.indexOf("//")>=0)throw new Pi(Wt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(n=>n.length>0))}return new t(e)}static emptyPath(){return new t([])}},LEe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$u=class t extends UA{construct(i,e,r){return new t(i,e,r)}static isValidIdentifier(i){return LEe.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(i){let e=[],r="",n=0,a=()=>{if(r.length===0)throw new Pi(Wt.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""},s=!1;for(;n<i.length;){let o=i[n];if(o==="\\"){if(n+1===i.length)throw new Pi(Wt.INVALID_ARGUMENT,"Path has trailing escape character: "+i);let u=i[n+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Pi(Wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);r+=u,n+=2}else o==="`"?(s=!s,n++):o!=="."||s?(r+=o,n++):(a(),n++)}if(a(),s)throw new Pi(Wt.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new t(e)}static emptyPath(){return new t([])}};var cn=class t{constructor(i){this.path=i}static fromPath(i){return new t(ga.fromString(i))}static fromName(i){return new t(ga.fromString(i).popFirst(5))}static empty(){return new t(ga.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return i!==null&&ga.comparator(this.path,i.path)===0}toString(){return this.path.toString()}static comparator(i,e){return ga.comparator(i.path,e.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new t(new ga(i.slice()))}};var jF=class{constructor(i,e,r,n){this.indexId=i,this.collectionGroup=e,this.fields=r,this.indexState=n}};jF.UNKNOWN_ID=-1;function NEe(t,i){let e=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,n=jn.fromTimestamp(r===1e9?new wo(e+1,0):new wo(e,r));return new Xg(n,cn.empty(),i)}function BEe(t){return new Xg(t.readTime,t.key,-1)}var Xg=class t{constructor(i,e,r){this.readTime=i,this.documentKey=e,this.largestBatchId=r}static min(){return new t(jn.min(),cn.empty(),-1)}static max(){return new t(jn.max(),cn.empty(),-1)}};function VEe(t,i){let e=t.readTime.compareTo(i.readTime);return e!==0?e:(e=cn.comparator(t.documentKey,i.documentKey),e!==0?e:Lr(t.largestBatchId,i.largestBatchId))}var zEe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",WF=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}};function Cw(t){return Mt(this,null,function*(){if(t.code!==Wt.FAILED_PRECONDITION||t.message!==zEe)throw t;Hi("LocalStore","Unexpectedly lost primary lease")})}var di=class t{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(i){return this.next(void 0,i)}next(i,e){return this.callbackAttached&&Tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(i,this.result):new t((r,n)=>{this.nextCallback=a=>{this.wrapSuccess(i,a).next(r,n)},this.catchCallback=a=>{this.wrapFailure(e,a).next(r,n)}})}toPromise(){return new Promise((i,e)=>{this.next(i,e)})}wrapUserFunction(i){try{let e=i();return e instanceof t?e:t.resolve(e)}catch(e){return t.reject(e)}}wrapSuccess(i,e){return i?this.wrapUserFunction(()=>i(e)):t.resolve(e)}wrapFailure(i,e){return i?this.wrapUserFunction(()=>i(e)):t.reject(e)}static resolve(i){return new t((e,r)=>{e(i)})}static reject(i){return new t((e,r)=>{r(i)})}static waitFor(i){return new t((e,r)=>{let n=0,a=0,s=!1;i.forEach(o=>{++n,o.next(()=>{++a,s&&a===n&&e()},u=>r(u))}),s=!0,a===n&&e()})}static or(i){let e=t.resolve(!1);for(let r of i)e=e.next(n=>n?t.resolve(n):r());return e}static forEach(i,e){let r=[];return i.forEach((n,a)=>{r.push(e.call(this,n,a))}),this.waitFor(r)}static mapArray(i,e){return new t((r,n)=>{let a=i.length,s=new Array(a),o=0;for(let u=0;u<a;u++){let l=u;e(i[l]).next(c=>{s[l]=c,++o,o===a&&r(s)},c=>n(c))}})}static doWhile(i,e){return new t((r,n)=>{let a=()=>{i()===!0?e().next(()=>{a()},n):r()};a()})}};function UEe(t){let i=t.match(/Android ([\d.]+)/i),e=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Sw(t){return t.name==="IndexedDbTransactionError"}var C$=(()=>{class t{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.se&&this.se(e),e}}return t.oe=-1,t})();function mM(t){return t==null}function cw(t){return t===0&&1/t==-1/0}function HEe(t){return typeof t=="number"&&Number.isInteger(t)&&!cw(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var GEe=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],I1t=[...GEe,"documentOverlays"],jEe=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],WEe=jEe,XEe=[...WEe,"indexConfiguration","indexState","indexEntries"];var D1t=[...XEe,"globals"];function jY(t){let i=0;for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&i++;return i}function K1(t,i){for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&i(e,t[e])}function S$(t){for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}var ka=class t{constructor(i,e){this.comparator=i,this.root=e||Df.EMPTY}insert(i,e){return new t(this.comparator,this.root.insert(i,e,this.comparator).copy(null,null,Df.BLACK,null,null))}remove(i){return new t(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Df.BLACK,null,null))}get(i){let e=this.root;for(;!e.isEmpty();){let r=this.comparator(i,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(i){let e=0,r=this.root;for(;!r.isEmpty();){let n=this.comparator(i,r.key);if(n===0)return e+r.left.size;n<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((e,r)=>(i(e,r),!1))}toString(){let i=[];return this.inorderTraversal((e,r)=>(i.push(`${e}:${r}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new F1(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new F1(this.root,i,this.comparator,!1)}getReverseIterator(){return new F1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new F1(this.root,i,this.comparator,!0)}},F1=class{constructor(i,e,r,n){this.isReverse=n,this.nodeStack=[];let a=1;for(;!i.isEmpty();)if(a=e?r(i.key,e):1,e&&n&&(a*=-1),a<0)i=this.isReverse?i.left:i.right;else{if(a===0){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop(),e={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}},Df=class t{constructor(i,e,r,n,a){this.key=i,this.value=e,this.color=r??t.RED,this.left=n??t.EMPTY,this.right=a??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,e,r,n,a){return new t(i??this.key,e??this.value,r??this.color,n??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,e,r){let n=this,a=r(i,n.key);return n=a<0?n.copy(null,null,null,n.left.insert(i,e,r),null):a===0?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.insert(i,e,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,e){let r,n=this;if(e(i,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(i,e),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),e(i,n.key)===0){if(n.right.isEmpty())return t.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(i,e))}return n.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){let i=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){let i=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){let i=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,e)}checkMaxDepth(){let i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tn();let i=this.left.check();if(i!==this.right.check())throw Tn();return i+(this.isRed()?0:1)}};Df.EMPTY=null,Df.RED=!0,Df.BLACK=!1;Df.EMPTY=new class{constructor(){this.size=0}get key(){throw Tn()}get value(){throw Tn()}get color(){throw Tn()}get left(){throw Tn()}get right(){throw Tn()}copy(i,e,r,n,a){return this}insert(i,e,r){return new Df(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Nl=class t{constructor(i){this.comparator=i,this.data=new ka(this.comparator)}has(i){return this.data.get(i)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((e,r)=>(i(e),!1))}forEachInRange(i,e){let r=this.data.getIteratorFrom(i[0]);for(;r.hasNext();){let n=r.getNext();if(this.comparator(n.key,i[1])>=0)return;e(n.key)}}forEachWhile(i,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!i(r.getNext().key))return}firstAfterOrEqual(i){let e=this.data.getIteratorFrom(i);return e.hasNext()?e.getNext().key:null}getIterator(){return new HA(this.data.getIterator())}getIteratorFrom(i){return new HA(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let e=this;return e.size<i.size&&(e=i,i=this),i.forEach(r=>{e=e.add(r)}),e}isEqual(i){if(!(i instanceof t)||this.size!==i.size)return!1;let e=this.data.getIterator(),r=i.data.getIterator();for(;e.hasNext();){let n=e.getNext().key,a=r.getNext().key;if(this.comparator(n,a)!==0)return!1}return!0}toArray(){let i=[];return this.forEach(e=>{i.push(e)}),i}toString(){let i=[];return this.forEach(e=>i.push(e)),"SortedSet("+i.toString()+")"}copy(i){let e=new t(this.comparator);return e.data=i,e}},HA=class{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Mf=class t{constructor(i){this.fields=i,i.sort($u.comparator)}static empty(){return new t([])}unionWith(i){let e=new Nl($u.comparator);for(let r of this.fields)e=e.add(r);for(let r of i)e=e.add(r);return new t(e.toArray())}covers(i){for(let e of this.fields)if(e.isPrefixOf(i))return!0;return!1}isEqual(i){return V1(this.fields,i.fields,(e,r)=>e.isEqual(r))}};var GA=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Bl=class t{constructor(i){this.binaryString=i}static fromBase64String(i){let e=function(n){try{return atob(n)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new GA("Invalid base64 string: "+a):a}}(i);return new t(e)}static fromUint8Array(i){let e=function(n){let a="";for(let s=0;s<n.length;++s)a+=String.fromCharCode(n[s]);return a}(i);return new t(e)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return Lr(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}};Bl.EMPTY_BYTE_STRING=new Bl("");var YEe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zp(t){if(ds(!!t),typeof t=="string"){let i=0,e=YEe.exec(t);if(ds(!!e),e[1]){let n=e[1];n=(n+"000000000").substr(0,9),i=Number(n)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:i}}return{seconds:sa(t.seconds),nanos:sa(t.nanos)}}function sa(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function c0(t){return typeof t=="string"?Bl.fromBase64String(t):Bl.fromUint8Array(t)}function bL(t){var i,e;return((e=(((i=t?.mapValue)===null||i===void 0?void 0:i.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function _L(t){let i=t.mapValue.fields.__previous_value__;return bL(i)?_L(i):i}function uw(t){let i=zp(t.mapValue.fields.__local_write_time__.timestampValue);return new wo(i.seconds,i.nanos)}var XF=class{constructor(i,e,r,n,a,s,o,u,l){this.databaseId=i,this.appId=e,this.persistenceKey=r,this.host=n,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=l}},jA=class t{constructor(i,e){this.projectId=i,this.database=e||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(i){return i instanceof t&&i.projectId===this.projectId&&i.database===this.database}};var OA={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yg(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bL(t)?4:E$(t)?9007199254740991:T$(t)?10:11:Tn()}function kf(t,i){if(t===i)return!0;let e=Yg(t);if(e!==Yg(i))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===i.booleanValue;case 4:return uw(t).isEqual(uw(i));case 3:return function(n,a){if(typeof n.timestampValue=="string"&&typeof a.timestampValue=="string"&&n.timestampValue.length===a.timestampValue.length)return n.timestampValue===a.timestampValue;let s=zp(n.timestampValue),o=zp(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,i);case 5:return t.stringValue===i.stringValue;case 6:return function(n,a){return c0(n.bytesValue).isEqual(c0(a.bytesValue))}(t,i);case 7:return t.referenceValue===i.referenceValue;case 8:return function(n,a){return sa(n.geoPointValue.latitude)===sa(a.geoPointValue.latitude)&&sa(n.geoPointValue.longitude)===sa(a.geoPointValue.longitude)}(t,i);case 2:return function(n,a){if("integerValue"in n&&"integerValue"in a)return sa(n.integerValue)===sa(a.integerValue);if("doubleValue"in n&&"doubleValue"in a){let s=sa(n.doubleValue),o=sa(a.doubleValue);return s===o?cw(s)===cw(o):isNaN(s)&&isNaN(o)}return!1}(t,i);case 9:return V1(t.arrayValue.values||[],i.arrayValue.values||[],kf);case 10:case 11:return function(n,a){let s=n.mapValue.fields||{},o=a.mapValue.fields||{};if(jY(s)!==jY(o))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!kf(s[u],o[u])))return!1;return!0}(t,i);default:return Tn()}}function dw(t,i){return(t.values||[]).find(e=>kf(e,i))!==void 0}function z1(t,i){if(t===i)return 0;let e=Yg(t),r=Yg(i);if(e!==r)return Lr(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Lr(t.booleanValue,i.booleanValue);case 2:return function(a,s){let o=sa(a.integerValue||a.doubleValue),u=sa(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,i);case 3:return WY(t.timestampValue,i.timestampValue);case 4:return WY(uw(t),uw(i));case 5:return Lr(t.stringValue,i.stringValue);case 6:return function(a,s){let o=c0(a),u=c0(s);return o.compareTo(u)}(t.bytesValue,i.bytesValue);case 7:return function(a,s){let o=a.split("/"),u=s.split("/");for(let l=0;l<o.length&&l<u.length;l++){let c=Lr(o[l],u[l]);if(c!==0)return c}return Lr(o.length,u.length)}(t.referenceValue,i.referenceValue);case 8:return function(a,s){let o=Lr(sa(a.latitude),sa(s.latitude));return o!==0?o:Lr(sa(a.longitude),sa(s.longitude))}(t.geoPointValue,i.geoPointValue);case 9:return XY(t.arrayValue,i.arrayValue);case 10:return function(a,s){var o,u,l,c;let h=a.fields||{},d=s.fields||{},f=(o=h.value)===null||o===void 0?void 0:o.arrayValue,m=(u=d.value)===null||u===void 0?void 0:u.arrayValue,p=Lr(((l=f?.values)===null||l===void 0?void 0:l.length)||0,((c=m?.values)===null||c===void 0?void 0:c.length)||0);return p!==0?p:XY(f,m)}(t.mapValue,i.mapValue);case 11:return function(a,s){if(a===OA.mapValue&&s===OA.mapValue)return 0;if(a===OA.mapValue)return 1;if(s===OA.mapValue)return-1;let o=a.fields||{},u=Object.keys(o),l=s.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let h=0;h<u.length&&h<c.length;++h){let d=Lr(u[h],c[h]);if(d!==0)return d;let f=z1(o[u[h]],l[c[h]]);if(f!==0)return f}return Lr(u.length,c.length)}(t.mapValue,i.mapValue);default:throw Tn()}}function WY(t,i){if(typeof t=="string"&&typeof i=="string"&&t.length===i.length)return Lr(t,i);let e=zp(t),r=zp(i),n=Lr(e.seconds,r.seconds);return n!==0?n:Lr(e.nanos,r.nanos)}function XY(t,i){let e=t.values||[],r=i.values||[];for(let n=0;n<e.length&&n<r.length;++n){let a=z1(e[n],r[n]);if(a)return a}return Lr(e.length,r.length)}function U1(t){return YF(t)}function YF(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){let r=zp(e);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(e){return c0(e).toBase64()}(t.bytesValue):"referenceValue"in t?function(e){return cn.fromName(e).toString()}(t.referenceValue):"geoPointValue"in t?function(e){return`geo(${e.latitude},${e.longitude})`}(t.geoPointValue):"arrayValue"in t?function(e){let r="[",n=!0;for(let a of e.values||[])n?n=!1:r+=",",r+=YF(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(e){let r=Object.keys(e.fields||{}).sort(),n="{",a=!0;for(let s of r)a?a=!1:n+=",",n+=`${s}:${YF(e.fields[s])}`;return n+"}"}(t.mapValue):Tn()}function YY(t,i){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${i.path.canonicalString()}`}}function $F(t){return!!t&&"integerValue"in t}function wL(t){return!!t&&"arrayValue"in t}function $Y(t){return!!t&&"nullValue"in t}function QY(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function NA(t){return!!t&&"mapValue"in t}function T$(t){var i,e;return((e=(((i=t?.mapValue)===null||i===void 0?void 0:i.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="__vector__"}function sw(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let i={mapValue:{fields:{}}};return K1(t.mapValue.fields,(e,r)=>i.mapValue.fields[e]=sw(r)),i}if(t.arrayValue){let i={arrayValue:{values:[]}};for(let e=0;e<(t.arrayValue.values||[]).length;++e)i.arrayValue.values[e]=sw(t.arrayValue.values[e]);return i}return Object.assign({},t)}function E$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Th=class t{constructor(i){this.value=i}static empty(){return new t({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let e=this.value;for(let r=0;r<i.length-1;++r)if(e=(e.mapValue.fields||{})[i.get(r)],!NA(e))return null;return e=(e.mapValue.fields||{})[i.lastSegment()],e||null}}set(i,e){this.getFieldsMap(i.popLast())[i.lastSegment()]=sw(e)}setAll(i){let e=$u.emptyPath(),r={},n=[];i.forEach((s,o)=>{if(!e.isImmediateParentOf(o)){let u=this.getFieldsMap(e);this.applyChanges(u,r,n),r={},n=[],e=o.popLast()}s?r[o.lastSegment()]=sw(s):n.push(o.lastSegment())});let a=this.getFieldsMap(e);this.applyChanges(a,r,n)}delete(i){let e=this.field(i.popLast());NA(e)&&e.mapValue.fields&&delete e.mapValue.fields[i.lastSegment()]}isEqual(i){return kf(this.value,i.value)}getFieldsMap(i){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<i.length;++r){let n=e.mapValue.fields[i.get(r)];NA(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},e.mapValue.fields[i.get(r)]=n),e=n}return e.mapValue.fields}applyChanges(i,e,r){K1(e,(n,a)=>i[n]=a);for(let n of r)delete i[n]}clone(){return new t(sw(this.value))}};function A$(t){let i=[];return K1(t.fields,(e,r)=>{let n=new $u([e]);if(NA(r)){let a=A$(r.mapValue).fields;if(a.length===0)i.push(n);else for(let s of a)i.push(n.child(s))}else i.push(n)}),new Mf(i)}var Eh=class t{constructor(i,e,r,n,a,s,o){this.key=i,this.documentType=e,this.version=r,this.readTime=n,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(i){return new t(i,0,jn.min(),jn.min(),jn.min(),Th.empty(),0)}static newFoundDocument(i,e,r,n){return new t(i,1,e,jn.min(),r,n,0)}static newNoDocument(i,e){return new t(i,2,e,jn.min(),jn.min(),Th.empty(),0)}static newUnknownDocument(i,e){return new t(i,3,e,jn.min(),jn.min(),Th.empty(),2)}convertToFoundDocument(i,e){return!this.createTime.isEqual(jn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=i),this.version=i,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=Th.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=Th.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jn.min(),this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(i){return i instanceof t&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var H1=class{constructor(i,e){this.position=i,this.inclusive=e}};function KY(t,i,e){let r=0;for(let n=0;n<t.position.length;n++){let a=i[n],s=t.position[n];if(a.field.isKeyField()?r=cn.comparator(cn.fromName(s.referenceValue),e.key):r=z1(s,e.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZY(t,i){if(t===null)return i===null;if(i===null||t.inclusive!==i.inclusive||t.position.length!==i.position.length)return!1;for(let e=0;e<t.position.length;e++)if(!kf(t.position[e],i.position[e]))return!1;return!0}var $g=class{constructor(i,e="asc"){this.field=i,this.dir=e}};function $Ee(t,i){return t.dir===i.dir&&t.field.isEqual(i.field)}var WA=class{},eo=class t extends WA{constructor(i,e,r){super(),this.field=i,this.op=e,this.value=r}static create(i,e,r){return i.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(i,e,r):new KF(i,e,r):e==="array-contains"?new qF(i,r):e==="in"?new eO(i,r):e==="not-in"?new tO(i,r):e==="array-contains-any"?new iO(i,r):new t(i,e,r)}static createKeyFieldInFilter(i,e,r){return e==="in"?new ZF(i,r):new JF(i,r)}matches(i){let e=i.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(z1(e,this.value)):e!==null&&Yg(this.value)===Yg(e)&&this.matchesComparison(z1(e,this.value))}matchesComparison(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return i===0;case"!=":return i!==0;case">":return i>0;case">=":return i>=0;default:return Tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ah=class t extends WA{constructor(i,e){super(),this.filters=i,this.op=e,this.ae=null}static create(i,e){return new t(i,e)}matches(i){return M$(this)?this.filters.find(e=>!e.matches(i))===void 0:this.filters.find(e=>e.matches(i))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((i,e)=>i.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function M$(t){return t.op==="and"}function I$(t){return QEe(t)&&M$(t)}function QEe(t){for(let i of t.filters)if(i instanceof Ah)return!1;return!0}function QF(t){if(t instanceof eo)return t.field.canonicalString()+t.op.toString()+U1(t.value);if(I$(t))return t.filters.map(i=>QF(i)).join(",");{let i=t.filters.map(e=>QF(e)).join(",");return`${t.op}(${i})`}}function D$(t,i){return t instanceof eo?function(r,n){return n instanceof eo&&r.op===n.op&&r.field.isEqual(n.field)&&kf(r.value,n.value)}(t,i):t instanceof Ah?function(r,n){return n instanceof Ah&&r.op===n.op&&r.filters.length===n.filters.length?r.filters.reduce((a,s,o)=>a&&D$(s,n.filters[o]),!0):!1}(t,i):void Tn()}function P$(t){return t instanceof eo?function(e){return`${e.field.canonicalString()} ${e.op} ${U1(e.value)}`}(t):t instanceof Ah?function(e){return e.op.toString()+" {"+e.getFilters().map(P$).join(" ,")+"}"}(t):"Filter"}var KF=class extends eo{constructor(i,e,r){super(i,e,r),this.key=cn.fromName(r.referenceValue)}matches(i){let e=cn.comparator(i.key,this.key);return this.matchesComparison(e)}},ZF=class extends eo{constructor(i,e){super(i,"in",e),this.keys=R$("in",e)}matches(i){return this.keys.some(e=>e.isEqual(i.key))}},JF=class extends eo{constructor(i,e){super(i,"not-in",e),this.keys=R$("not-in",e)}matches(i){return!this.keys.some(e=>e.isEqual(i.key))}};function R$(t,i){var e;return(((e=i.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>cn.fromName(r.referenceValue))}var qF=class extends eo{constructor(i,e){super(i,"array-contains",e)}matches(i){let e=i.data.field(this.field);return wL(e)&&dw(e.arrayValue,this.value)}},eO=class extends eo{constructor(i,e){super(i,"in",e)}matches(i){let e=i.data.field(this.field);return e!==null&&dw(this.value.arrayValue,e)}},tO=class extends eo{constructor(i,e){super(i,"not-in",e)}matches(i){if(dw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let e=i.data.field(this.field);return e!==null&&!dw(this.value.arrayValue,e)}},iO=class extends eo{constructor(i,e){super(i,"array-contains-any",e)}matches(i){let e=i.data.field(this.field);return!(!wL(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>dw(this.value.arrayValue,r))}};var nO=class{constructor(i,e=null,r=[],n=[],a=null,s=null,o=null){this.path=i,this.collectionGroup=e,this.orderBy=r,this.filters=n,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}};function JY(t,i=null,e=[],r=[],n=null,a=null,s=null){return new nO(t,i,e,r,n,a,s)}function CL(t){let i=Dn(t);if(i.ue===null){let e=i.path.canonicalString();i.collectionGroup!==null&&(e+="|cg:"+i.collectionGroup),e+="|f:",e+=i.filters.map(r=>QF(r)).join(","),e+="|ob:",e+=i.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),mM(i.limit)||(e+="|l:",e+=i.limit),i.startAt&&(e+="|lb:",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(r=>U1(r)).join(",")),i.endAt&&(e+="|ub:",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(r=>U1(r)).join(",")),i.ue=e}return i.ue}function SL(t,i){if(t.limit!==i.limit||t.orderBy.length!==i.orderBy.length)return!1;for(let e=0;e<t.orderBy.length;e++)if(!$Ee(t.orderBy[e],i.orderBy[e]))return!1;if(t.filters.length!==i.filters.length)return!1;for(let e=0;e<t.filters.length;e++)if(!D$(t.filters[e],i.filters[e]))return!1;return t.collectionGroup===i.collectionGroup&&!!t.path.isEqual(i.path)&&!!ZY(t.startAt,i.startAt)&&ZY(t.endAt,i.endAt)}function rO(t){return cn.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var u0=class{constructor(i,e=null,r=[],n=[],a=null,s="F",o=null,u=null){this.path=i,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=n,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function KEe(t,i,e,r,n,a,s,o){return new u0(t,i,e,r,n,a,s,o)}function k$(t){return new u0(t)}function qY(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F$(t){return t.collectionGroup!==null}function aw(t){let i=Dn(t);if(i.ce===null){i.ce=[];let e=new Set;for(let a of i.explicitOrderBy)i.ce.push(a),e.add(a.field.canonicalString());let r=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Nl($u.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(o=o.add(l.field))})}),o})(i).forEach(a=>{e.has(a.canonicalString())||a.isKeyField()||i.ce.push(new $g(a,r))}),e.has($u.keyField().canonicalString())||i.ce.push(new $g($u.keyField(),r))}return i.ce}function Pf(t){let i=Dn(t);return i.le||(i.le=ZEe(i,aw(t))),i.le}function ZEe(t,i){if(t.limitType==="F")return JY(t.path,t.collectionGroup,i,t.filters,t.limit,t.startAt,t.endAt);{i=i.map(n=>{let a=n.dir==="desc"?"asc":"desc";return new $g(n.field,a)});let e=t.endAt?new H1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new H1(t.startAt.position,t.startAt.inclusive):null;return JY(t.path,t.collectionGroup,i,t.filters,t.limit,e,r)}}function sO(t,i){let e=t.filters.concat([i]);return new u0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),e,t.limit,t.limitType,t.startAt,t.endAt)}function XA(t,i,e){return new u0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),i,e,t.startAt,t.endAt)}function gM(t,i){return SL(Pf(t),Pf(i))&&t.limitType===i.limitType}function O$(t){return`${CL(Pf(t))}|lt:${t.limitType}`}function P1(t){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(n=>P$(n)).join(", ")}]`),mM(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(n=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(n)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>U1(n)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>U1(n)).join(",")),`Target(${r})`}(Pf(t))}; limitType=${t.limitType})`}function vM(t,i){return i.isFoundDocument()&&function(r,n){let a=n.key.path;return r.collectionGroup!==null?n.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):cn.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,i)&&function(r,n){for(let a of aw(r))if(!a.field.isKeyField()&&n.data.field(a.field)===null)return!1;return!0}(t,i)&&function(r,n){for(let a of r.filters)if(!a.matches(n))return!1;return!0}(t,i)&&function(r,n){return!(r.startAt&&!function(s,o,u){let l=KY(s,o,u);return s.inclusive?l<=0:l<0}(r.startAt,aw(r),n)||r.endAt&&!function(s,o,u){let l=KY(s,o,u);return s.inclusive?l>=0:l>0}(r.endAt,aw(r),n))}(t,i)}function JEe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function L$(t){return(i,e)=>{let r=!1;for(let n of aw(t)){let a=qEe(n,i,e);if(a!==0)return a;r=r||n.field.isKeyField()}return 0}}function qEe(t,i,e){let r=t.field.isKeyField()?cn.comparator(i.key,e.key):function(a,s,o){let u=s.data.field(a),l=o.data.field(a);return u!==null&&l!==null?z1(u,l):Tn()}(t.field,i,e);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Tn()}}var d0=class{constructor(i,e){this.mapKeyFn=i,this.equalsFn=e,this.inner={},this.innerSize=0}get(i){let e=this.mapKeyFn(i),r=this.inner[e];if(r!==void 0){for(let[n,a]of r)if(this.equalsFn(n,i))return a}}has(i){return this.get(i)!==void 0}set(i,e){let r=this.mapKeyFn(i),n=this.inner[r];if(n===void 0)return this.inner[r]=[[i,e]],void this.innerSize++;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],i))return void(n[a]=[i,e]);n.push([i,e]),this.innerSize++}delete(i){let e=this.mapKeyFn(i),r=this.inner[e];if(r===void 0)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],i))return r.length===1?delete this.inner[e]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(i){K1(this.inner,(e,r)=>{for(let[n,a]of r)i(n,a)})}isEmpty(){return S$(this.inner)}size(){return this.innerSize}};var eAe=new ka(cn.comparator);function Up(){return eAe}var N$=new ka(cn.comparator);function rw(...t){let i=N$;for(let e of t)i=i.insert(e.key,e);return i}function B$(t){let i=N$;return t.forEach((e,r)=>i=i.insert(e,r.overlayedDocument)),i}function Hg(){return ow()}function V$(){return ow()}function ow(){return new d0(t=>t.toString(),(t,i)=>t.isEqual(i))}var tAe=new ka(cn.comparator),iAe=new Nl(cn.comparator);function yr(...t){let i=iAe;for(let e of t)i=i.add(e);return i}var nAe=new Nl(Lr);function rAe(){return nAe}function TL(t,i){if(t.useProto3Json){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cw(i)?"-0":i}}function z$(t){return{integerValue:""+t}}function sAe(t,i){return HEe(i)?z$(i):TL(t,i)}var G1=class{constructor(){this._=void 0}};function aAe(t,i,e){return t instanceof j1?function(n,a){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return a&&bL(a)&&(a=_L(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(e,i):t instanceof Qg?H$(t,i):t instanceof Kg?G$(t,i):function(n,a){let s=U$(n,a),o=e$(s)+e$(n.Pe);return $F(s)&&$F(n.Pe)?z$(o):TL(n.serializer,o)}(t,i)}function oAe(t,i,e){return t instanceof Qg?H$(t,i):t instanceof Kg?G$(t,i):e}function U$(t,i){return t instanceof W1?function(r){return $F(r)||function(a){return!!a&&"doubleValue"in a}(r)}(i)?i:{integerValue:0}:null}var j1=class extends G1{},Qg=class extends G1{constructor(i){super(),this.elements=i}};function H$(t,i){let e=j$(i);for(let r of t.elements)e.some(n=>kf(n,r))||e.push(r);return{arrayValue:{values:e}}}var Kg=class extends G1{constructor(i){super(),this.elements=i}};function G$(t,i){let e=j$(i);for(let r of t.elements)e=e.filter(n=>!kf(n,r));return{arrayValue:{values:e}}}var W1=class extends G1{constructor(i,e){super(),this.serializer=i,this.Pe=e}};function e$(t){return sa(t.integerValue||t.doubleValue)}function j$(t){return wL(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lAe(t,i){return t.field.isEqual(i.field)&&function(r,n){return r instanceof Qg&&n instanceof Qg||r instanceof Kg&&n instanceof Kg?V1(r.elements,n.elements,kf):r instanceof W1&&n instanceof W1?kf(r.Pe,n.Pe):r instanceof j1&&n instanceof j1}(t.transform,i.transform)}var aO=class{constructor(i,e){this.version=i,this.transformResults=e}},jg=class t{constructor(i,e){this.updateTime=i,this.exists=e}static none(){return new t}static exists(i){return new t(void 0,i)}static updateTime(i){return new t(i)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}};function BA(t,i){return t.updateTime!==void 0?i.isFoundDocument()&&i.version.isEqual(t.updateTime):t.exists===void 0||t.exists===i.isFoundDocument()}var X1=class{};function W$(t,i){if(!t.hasLocalMutations||i&&i.fields.length===0)return null;if(i===null)return t.isNoDocument()?new YA(t.key,jg.none()):new Zg(t.key,t.data,jg.none());{let e=t.data,r=Th.empty(),n=new Nl($u.comparator);for(let a of i.fields)if(!n.has(a)){let s=e.field(a);s===null&&a.length>1&&(a=a.popLast(),s=e.field(a)),s===null?r.delete(a):r.set(a,s),n=n.add(a)}return new Hp(t.key,r,new Mf(n.toArray()),jg.none())}}function cAe(t,i,e){t instanceof Zg?function(n,a,s){let o=n.value.clone(),u=i$(n.fieldTransforms,a,s.transformResults);o.setAll(u),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,i,e):t instanceof Hp?function(n,a,s){if(!BA(n.precondition,a))return void a.convertToUnknownDocument(s.version);let o=i$(n.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(X$(n)),u.setAll(o),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,i,e):function(n,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,i,e)}function lw(t,i,e,r){return t instanceof Zg?function(a,s,o,u){if(!BA(a.precondition,s))return o;let l=a.value.clone(),c=n$(a.fieldTransforms,u,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,i,e,r):t instanceof Hp?function(a,s,o,u){if(!BA(a.precondition,s))return o;let l=n$(a.fieldTransforms,u,s),c=s.data;return c.setAll(X$(a)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,i,e,r):function(a,s,o){return BA(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,i,e)}function uAe(t,i){let e=null;for(let r of t.fieldTransforms){let n=i.data.field(r.field),a=U$(r.transform,n||null);a!=null&&(e===null&&(e=Th.empty()),e.set(r.field,a))}return e||null}function t$(t,i){return t.type===i.type&&!!t.key.isEqual(i.key)&&!!t.precondition.isEqual(i.precondition)&&!!function(r,n){return r===void 0&&n===void 0||!(!r||!n)&&V1(r,n,(a,s)=>lAe(a,s))}(t.fieldTransforms,i.fieldTransforms)&&(t.type===0?t.value.isEqual(i.value):t.type!==1||t.data.isEqual(i.data)&&t.fieldMask.isEqual(i.fieldMask))}var Zg=class extends X1{constructor(i,e,r,n=[]){super(),this.key=i,this.value=e,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}},Hp=class extends X1{constructor(i,e,r,n,a=[]){super(),this.key=i,this.data=e,this.fieldMask=r,this.precondition=n,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}};function X$(t){let i=new Map;return t.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){let r=t.data.field(e);i.set(e,r)}}),i}function i$(t,i,e){let r=new Map;ds(t.length===e.length);for(let n=0;n<e.length;n++){let a=t[n],s=a.transform,o=i.data.field(a.field);r.set(a.field,oAe(s,o,e[n]))}return r}function n$(t,i,e){let r=new Map;for(let n of t){let a=n.transform,s=e.data.field(n.field);r.set(n.field,aAe(a,s,i))}return r}var YA=class extends X1{constructor(i,e){super(),this.key=i,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},oO=class extends X1{constructor(i,e){super(),this.key=i,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var lO=class{constructor(i,e,r,n){this.batchId=i,this.localWriteTime=e,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(i,e){let r=e.mutationResults;for(let n=0;n<this.mutations.length;n++){let a=this.mutations[n];a.key.isEqual(i.key)&&cAe(a,i,r[n])}}applyToLocalView(i,e){for(let r of this.baseMutations)r.key.isEqual(i.key)&&(e=lw(r,i,e,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(i.key)&&(e=lw(r,i,e,this.localWriteTime));return e}applyToLocalDocumentSet(i,e){let r=V$();return this.mutations.forEach(n=>{let a=i.get(n.key),s=a.overlayedDocument,o=this.applyToLocalView(s,a.mutatedFields);o=e.has(n.key)?null:o;let u=W$(s,o);u!==null&&r.set(n.key,u),s.isValidDocument()||s.convertToNoDocument(jn.min())}),r}keys(){return this.mutations.reduce((i,e)=>i.add(e.key),yr())}isEqual(i){return this.batchId===i.batchId&&V1(this.mutations,i.mutations,(e,r)=>t$(e,r))&&V1(this.baseMutations,i.baseMutations,(e,r)=>t$(e,r))}},cO=class t{constructor(i,e,r,n){this.batch=i,this.commitVersion=e,this.mutationResults=r,this.docVersions=n}static from(i,e,r){ds(i.mutations.length===r.length);let n=function(){return tAe}(),a=i.mutations;for(let s=0;s<a.length;s++)n=n.insert(a[s].key,r[s].version);return new t(i,e,r,n)}};var uO=class{constructor(i,e){this.largestBatchId=i,this.mutation=e}getKey(){return this.mutation.key}isEqual(i){return i!==null&&this.mutation===i.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var dO=class{constructor(i,e){this.count=i,this.unchangedNames=e}};var Ja,wr;function dAe(t){switch(t){default:return Tn();case Wt.CANCELLED:case Wt.UNKNOWN:case Wt.DEADLINE_EXCEEDED:case Wt.RESOURCE_EXHAUSTED:case Wt.INTERNAL:case Wt.UNAVAILABLE:case Wt.UNAUTHENTICATED:return!1;case Wt.INVALID_ARGUMENT:case Wt.NOT_FOUND:case Wt.ALREADY_EXISTS:case Wt.PERMISSION_DENIED:case Wt.FAILED_PRECONDITION:case Wt.ABORTED:case Wt.OUT_OF_RANGE:case Wt.UNIMPLEMENTED:case Wt.DATA_LOSS:return!0}}function Y$(t){if(t===void 0)return Vp("GRPC error has no .code"),Wt.UNKNOWN;switch(t){case Ja.OK:return Wt.OK;case Ja.CANCELLED:return Wt.CANCELLED;case Ja.UNKNOWN:return Wt.UNKNOWN;case Ja.DEADLINE_EXCEEDED:return Wt.DEADLINE_EXCEEDED;case Ja.RESOURCE_EXHAUSTED:return Wt.RESOURCE_EXHAUSTED;case Ja.INTERNAL:return Wt.INTERNAL;case Ja.UNAVAILABLE:return Wt.UNAVAILABLE;case Ja.UNAUTHENTICATED:return Wt.UNAUTHENTICATED;case Ja.INVALID_ARGUMENT:return Wt.INVALID_ARGUMENT;case Ja.NOT_FOUND:return Wt.NOT_FOUND;case Ja.ALREADY_EXISTS:return Wt.ALREADY_EXISTS;case Ja.PERMISSION_DENIED:return Wt.PERMISSION_DENIED;case Ja.FAILED_PRECONDITION:return Wt.FAILED_PRECONDITION;case Ja.ABORTED:return Wt.ABORTED;case Ja.OUT_OF_RANGE:return Wt.OUT_OF_RANGE;case Ja.UNIMPLEMENTED:return Wt.UNIMPLEMENTED;case Ja.DATA_LOSS:return Wt.DATA_LOSS;default:return Tn()}}(wr=Ja||(Ja={}))[wr.OK=0]="OK",wr[wr.CANCELLED=1]="CANCELLED",wr[wr.UNKNOWN=2]="UNKNOWN",wr[wr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wr[wr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wr[wr.NOT_FOUND=5]="NOT_FOUND",wr[wr.ALREADY_EXISTS=6]="ALREADY_EXISTS",wr[wr.PERMISSION_DENIED=7]="PERMISSION_DENIED",wr[wr.UNAUTHENTICATED=16]="UNAUTHENTICATED",wr[wr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wr[wr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wr[wr.ABORTED=10]="ABORTED",wr[wr.OUT_OF_RANGE=11]="OUT_OF_RANGE",wr[wr.UNIMPLEMENTED=12]="UNIMPLEMENTED",wr[wr.INTERNAL=13]="INTERNAL",wr[wr.UNAVAILABLE=14]="UNAVAILABLE",wr[wr.DATA_LOSS=15]="DATA_LOSS";var r$=null;function hAe(){return new TextEncoder}var fAe=new o0([4294967295,4294967295],0);function s$(t){let i=hAe().encode(t),e=new AF;return e.update(i),new Uint8Array(e.digest())}function a$(t){let i=new DataView(t.buffer),e=i.getUint32(0,!0),r=i.getUint32(4,!0),n=i.getUint32(8,!0),a=i.getUint32(12,!0);return[new o0([e,r],0),new o0([n,a],0)]}var hO=class t{constructor(i,e,r){if(this.bitmap=i,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Gg(`Invalid padding: ${e}`);if(r<0)throw new Gg(`Invalid hash count: ${r}`);if(i.length>0&&this.hashCount===0)throw new Gg(`Invalid hash count: ${r}`);if(i.length===0&&e!==0)throw new Gg(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*i.length-e,this.Te=o0.fromNumber(this.Ie)}Ee(i,e,r){let n=i.add(e.multiply(o0.fromNumber(r)));return n.compare(fAe)===1&&(n=new o0([n.getBits(0),n.getBits(1)],0)),n.modulo(this.Te).toNumber()}de(i){return(this.bitmap[Math.floor(i/8)]&1<<i%8)!=0}mightContain(i){if(this.Ie===0)return!1;let e=s$(i),[r,n]=a$(e);for(let a=0;a<this.hashCount;a++){let s=this.Ee(r,n,a);if(!this.de(s))return!1}return!0}static create(i,e,r){let n=i%8==0?0:8-i%8,a=new Uint8Array(Math.ceil(i/8)),s=new t(a,n,e);return r.forEach(o=>s.insert(o)),s}insert(i){if(this.Ie===0)return;let e=s$(i),[r,n]=a$(e);for(let a=0;a<this.hashCount;a++){let s=this.Ee(r,n,a);this.Ae(s)}}Ae(i){let e=Math.floor(i/8),r=i%8;this.bitmap[e]|=1<<r}},Gg=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var $A=class t{constructor(i,e,r,n,a){this.snapshotVersion=i,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(i,e,r){let n=new Map;return n.set(i,hw.createSynthesizedTargetChangeForCurrentChange(i,e,r)),new t(jn.min(),n,new ka(Lr),Up(),yr())}},hw=class t{constructor(i,e,r,n,a){this.resumeToken=i,this.current=e,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(i,e,r){return new t(r,e,yr(),yr(),yr())}};var L1=class{constructor(i,e,r,n){this.Re=i,this.removedTargetIds=e,this.key=r,this.Ve=n}},QA=class{constructor(i,e){this.targetId=i,this.me=e}},KA=class{constructor(i,e,r=Bl.EMPTY_BYTE_STRING,n=null){this.state=i,this.targetIds=e,this.resumeToken=r,this.cause=n}},ZA=class{constructor(){this.fe=0,this.ge=l$(),this.pe=Bl.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(i){i.approximateByteSize()>0&&(this.we=!0,this.pe=i)}ve(){let i=yr(),e=yr(),r=yr();return this.ge.forEach((n,a)=>{switch(a){case 0:i=i.add(n);break;case 2:e=e.add(n);break;case 1:r=r.add(n);break;default:Tn()}}),new hw(this.pe,this.ye,i,e,r)}Ce(){this.we=!1,this.ge=l$()}Fe(i,e){this.we=!0,this.ge=this.ge.insert(i,e)}Me(i){this.we=!0,this.ge=this.ge.remove(i)}xe(){this.fe+=1}Oe(){this.fe-=1,ds(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},fO=class{constructor(i){this.Le=i,this.Be=new Map,this.ke=Up(),this.qe=o$(),this.Qe=new ka(Lr)}Ke(i){for(let e of i.Re)i.Ve&&i.Ve.isFoundDocument()?this.$e(e,i.Ve):this.Ue(e,i.key,i.Ve);for(let e of i.removedTargetIds)this.Ue(e,i.key,i.Ve)}We(i){this.forEachTarget(i,e=>{let r=this.Ge(e);switch(i.state){case 0:this.ze(e)&&r.De(i.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(i.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(r.Ne(),r.De(i.resumeToken));break;case 4:this.ze(e)&&(this.je(e),r.De(i.resumeToken));break;default:Tn()}})}forEachTarget(i,e){i.targetIds.length>0?i.targetIds.forEach(e):this.Be.forEach((r,n)=>{this.ze(n)&&e(n)})}He(i){let e=i.targetId,r=i.me.count,n=this.Je(e);if(n){let a=n.target;if(rO(a))if(r===0){let s=new cn(a.path);this.Ue(e,s,Eh.newNoDocument(s,jn.min()))}else ds(r===1);else{let s=this.Ye(e);if(s!==r){let o=this.Ze(i),u=o?this.Xe(o,i,s):1;if(u!==0){this.je(e);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,l)}r$?.et(function(c,h,d,f,m){var p,g,v,y,x,b;let w={localCacheCount:c,existenceFilterCount:h.count,databaseId:d.database,projectId:d.projectId},C=h.unchangedNames;return C&&(w.bloomFilter={applied:m===0,hashCount:(p=C?.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(y=(v=(g=C?.bits)===null||g===void 0?void 0:g.bitmap)===null||v===void 0?void 0:v.length)!==null&&y!==void 0?y:0,padding:(b=(x=C?.bits)===null||x===void 0?void 0:x.padding)!==null&&b!==void 0?b:0,mightContain:_=>{var S;return(S=f?.mightContain(_))!==null&&S!==void 0&&S}}),w}(s,i.me,this.Le.tt(),o,u))}}}}Ze(i){let e=i.me.unchangedNames;if(!e||!e.bits)return null;let{bits:{bitmap:r="",padding:n=0},hashCount:a=0}=e,s,o;try{s=c0(r).toUint8Array()}catch(u){if(u instanceof GA)return B1("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new hO(s,n,a)}catch(u){return B1(u instanceof Gg?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.Ie===0?null:o}Xe(i,e,r){return e.me.count===r-this.nt(i,e.targetId)?0:2}nt(i,e){let r=this.Le.getRemoteKeysForTarget(e),n=0;return r.forEach(a=>{let s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;i.mightContain(o)||(this.Ue(e,a,null),n++)}),n}rt(i){let e=new Map;this.Be.forEach((a,s)=>{let o=this.Je(s);if(o){if(a.current&&rO(o.target)){let u=new cn(o.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Eh.newNoDocument(u,i))}a.be&&(e.set(s,a.ve()),a.Ce())}});let r=yr();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(i));let n=new $A(i,e,this.Qe,this.ke,r);return this.ke=Up(),this.qe=o$(),this.Qe=new ka(Lr),n}$e(i,e){if(!this.ze(i))return;let r=this.it(i,e.key)?2:0;this.Ge(i).Fe(e.key,r),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(i))}Ue(i,e,r){if(!this.ze(i))return;let n=this.Ge(i);this.it(i,e)?n.Fe(e,1):n.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(i)),r&&(this.ke=this.ke.insert(e,r))}removeTarget(i){this.Be.delete(i)}Ye(i){let e=this.Ge(i).ve();return this.Le.getRemoteKeysForTarget(i).size+e.addedDocuments.size-e.removedDocuments.size}xe(i){this.Ge(i).xe()}Ge(i){let e=this.Be.get(i);return e||(e=new ZA,this.Be.set(i,e)),e}st(i){let e=this.qe.get(i);return e||(e=new Nl(Lr),this.qe=this.qe.insert(i,e)),e}ze(i){let e=this.Je(i)!==null;return e||Hi("WatchChangeAggregator","Detected inactive target",i),e}Je(i){let e=this.Be.get(i);return e&&e.Se?null:this.Le.ot(i)}je(i){this.Be.set(i,new ZA),this.Le.getRemoteKeysForTarget(i).forEach(e=>{this.Ue(i,e,null)})}it(i,e){return this.Le.getRemoteKeysForTarget(i).has(e)}};function o$(){return new ka(cn.comparator)}function l$(){return new ka(cn.comparator)}var pAe={asc:"ASCENDING",desc:"DESCENDING"},mAe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gAe={and:"AND",or:"OR"},pO=class{constructor(i,e){this.databaseId=i,this.useProto3Json=e}};function mO(t,i){return t.useProto3Json||mM(i)?i:{value:i}}function JA(t,i){return t.useProto3Json?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function $$(t,i){return t.useProto3Json?i.toBase64():i.toUint8Array()}function vAe(t,i){return JA(t,i.toTimestamp())}function Rf(t){return ds(!!t),jn.fromTimestamp(function(e){let r=zp(e);return new wo(r.seconds,r.nanos)}(t))}function EL(t,i){return gO(t,i).canonicalString()}function gO(t,i){let e=function(n){return new ga(["projects",n.projectId,"databases",n.database])}(t).child("documents");return i===void 0?e:e.child(i)}function Q$(t){let i=ga.fromString(t);return ds(eQ(i)),i}function vO(t,i){return EL(t.databaseId,i.path)}function kF(t,i){let e=Q$(i);if(e.get(1)!==t.databaseId.projectId)throw new Pi(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new Pi(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new cn(Z$(e))}function K$(t,i){return EL(t.databaseId,i)}function yAe(t){let i=Q$(t);return i.length===4?ga.emptyPath():Z$(i)}function yO(t){return new ga(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Z$(t){return ds(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function c$(t,i,e){return{name:vO(t,i),fields:e.value.mapValue.fields}}function xAe(t,i){let e;if("targetChange"in i){i.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Tn()}(i.targetChange.targetChangeType||"NO_CHANGE"),n=i.targetChange.targetIds||[],a=function(l,c){return l.useProto3Json?(ds(c===void 0||typeof c=="string"),Bl.fromBase64String(c||"")):(ds(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Bl.fromUint8Array(c||new Uint8Array))}(t,i.targetChange.resumeToken),s=i.targetChange.cause,o=s&&function(l){let c=l.code===void 0?Wt.UNKNOWN:Y$(l.code);return new Pi(c,l.message||"")}(s);e=new KA(r,n,a,o||null)}else if("documentChange"in i){i.documentChange;let r=i.documentChange;r.document,r.document.name,r.document.updateTime;let n=kF(t,r.document.name),a=Rf(r.document.updateTime),s=r.document.createTime?Rf(r.document.createTime):jn.min(),o=new Th({mapValue:{fields:r.document.fields}}),u=Eh.newFoundDocument(n,a,s,o),l=r.targetIds||[],c=r.removedTargetIds||[];e=new L1(l,c,u.key,u)}else if("documentDelete"in i){i.documentDelete;let r=i.documentDelete;r.document;let n=kF(t,r.document),a=r.readTime?Rf(r.readTime):jn.min(),s=Eh.newNoDocument(n,a),o=r.removedTargetIds||[];e=new L1([],o,s.key,s)}else if("documentRemove"in i){i.documentRemove;let r=i.documentRemove;r.document;let n=kF(t,r.document),a=r.removedTargetIds||[];e=new L1([],a,n,null)}else{if(!("filter"in i))return Tn();{i.filter;let r=i.filter;r.targetId;let{count:n=0,unchangedNames:a}=r,s=new dO(n,a),o=r.targetId;e=new QA(o,s)}}return e}function bAe(t,i){let e;if(i instanceof Zg)e={update:c$(t,i.key,i.value)};else if(i instanceof YA)e={delete:vO(t,i.key)};else if(i instanceof Hp)e={update:c$(t,i.key,i.data),updateMask:IAe(i.fieldMask)};else{if(!(i instanceof oO))return Tn();e={verify:vO(t,i.key)}}return i.fieldTransforms.length>0&&(e.updateTransforms=i.fieldTransforms.map(r=>function(a,s){let o=s.transform;if(o instanceof j1)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Kg)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof W1)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw Tn()}(0,r))),i.precondition.isNone||(e.currentDocument=function(n,a){return a.updateTime!==void 0?{updateTime:vAe(n,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Tn()}(t,i.precondition)),e}function _Ae(t,i){return t&&t.length>0?(ds(i!==void 0),t.map(e=>function(n,a){let s=n.updateTime?Rf(n.updateTime):Rf(a);return s.isEqual(jn.min())&&(s=Rf(a)),new aO(s,n.transformResults||[])}(e,i))):[]}function wAe(t,i){return{documents:[K$(t,i.path)]}}function CAe(t,i){let e={structuredQuery:{}},r=i.path,n;i.collectionGroup!==null?(n=r,e.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(n=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=K$(t,n);let a=function(l){if(l.length!==0)return q$(Ah.create(l,"and"))}(i.filters);a&&(e.structuredQuery.where=a);let s=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:R1(d.field),direction:EAe(d.dir)}}(c))}(i.orderBy);s&&(e.structuredQuery.orderBy=s);let o=mO(t,i.limit);return o!==null&&(e.structuredQuery.limit=o),i.startAt&&(e.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(i.startAt)),i.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(i.endAt)),{_t:e,parent:n}}function SAe(t){let i=yAe(t.parent),e=t.structuredQuery,r=e.from?e.from.length:0,n=null;if(r>0){ds(r===1);let c=e.from[0];c.allDescendants?n=c.collectionId:i=i.child(c.collectionId)}let a=[];e.where&&(a=function(h){let d=J$(h);return d instanceof Ah&&I$(d)?d.getFilters():[d]}(e.where));let s=[];e.orderBy&&(s=function(h){return h.map(d=>function(m){return new $g(k1(m.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(e.orderBy));let o=null;e.limit&&(o=function(h){let d;return d=typeof h=="object"?h.value:h,mM(d)?null:d}(e.limit));let u=null;e.startAt&&(u=function(h){let d=!!h.before,f=h.values||[];return new H1(f,d)}(e.startAt));let l=null;return e.endAt&&(l=function(h){let d=!h.before,f=h.values||[];return new H1(f,d)}(e.endAt)),KEe(i,n,s,a,o,"F",u,l)}function TAe(t,i){let e=function(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tn()}}(i.purpose);return e==null?null:{"goog-listen-tags":e}}function J$(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":let r=k1(e.unaryFilter.field);return eo.create(r,"==",{doubleValue:NaN});case"IS_NULL":let n=k1(e.unaryFilter.field);return eo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let a=k1(e.unaryFilter.field);return eo.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=k1(e.unaryFilter.field);return eo.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Tn()}}(t):t.fieldFilter!==void 0?function(e){return eo.create(k1(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tn()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Ah.create(e.compositeFilter.filters.map(r=>J$(r)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Tn()}}(e.compositeFilter.op))}(t):Tn()}function EAe(t){return pAe[t]}function AAe(t){return mAe[t]}function MAe(t){return gAe[t]}function R1(t){return{fieldPath:t.canonicalString()}}function k1(t){return $u.fromServerFormat(t.fieldPath)}function q$(t){return t instanceof eo?function(e){if(e.op==="=="){if(QY(e.value))return{unaryFilter:{field:R1(e.field),op:"IS_NAN"}};if($Y(e.value))return{unaryFilter:{field:R1(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(QY(e.value))return{unaryFilter:{field:R1(e.field),op:"IS_NOT_NAN"}};if($Y(e.value))return{unaryFilter:{field:R1(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:R1(e.field),op:AAe(e.op),value:e.value}}}(t):t instanceof Ah?function(e){let r=e.getFilters().map(n=>q$(n));return r.length===1?r[0]:{compositeFilter:{op:MAe(e.op),filters:r}}}(t):Tn()}function IAe(t){let i=[];return t.fields.forEach(e=>i.push(e.canonicalString())),{fieldPaths:i}}function eQ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var fw=class t{constructor(i,e,r,n,a=jn.min(),s=jn.min(),o=Bl.EMPTY_BYTE_STRING,u=null){this.target=i,this.targetId=e,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(i){return new t(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(i,e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,i,null)}withExpectedCount(i){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,i)}withLastLimboFreeSnapshotVersion(i){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken,this.expectedCount)}};var xO=class{constructor(i){this.ct=i}};function DAe(t){let i=SAe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?XA(i,i.limit,"L"):i}var qA=class{constructor(){}It(i,e){this.Tt(i,e),e.Et()}Tt(i,e){if("nullValue"in i)this.dt(e,5);else if("booleanValue"in i)this.dt(e,10),e.At(i.booleanValue?1:0);else if("integerValue"in i)this.dt(e,15),e.At(sa(i.integerValue));else if("doubleValue"in i){let r=sa(i.doubleValue);isNaN(r)?this.dt(e,13):(this.dt(e,15),cw(r)?e.At(0):e.At(r))}else if("timestampValue"in i){let r=i.timestampValue;this.dt(e,20),typeof r=="string"&&(r=zp(r)),e.Rt(`${r.seconds||""}`),e.At(r.nanos||0)}else if("stringValue"in i)this.Vt(i.stringValue,e),this.ft(e);else if("bytesValue"in i)this.dt(e,30),e.gt(c0(i.bytesValue)),this.ft(e);else if("referenceValue"in i)this.yt(i.referenceValue,e);else if("geoPointValue"in i){let r=i.geoPointValue;this.dt(e,45),e.At(r.latitude||0),e.At(r.longitude||0)}else"mapValue"in i?E$(i)?this.dt(e,Number.MAX_SAFE_INTEGER):T$(i)?this.wt(i.mapValue,e):(this.St(i.mapValue,e),this.ft(e)):"arrayValue"in i?(this.bt(i.arrayValue,e),this.ft(e)):Tn()}Vt(i,e){this.dt(e,25),this.Dt(i,e)}Dt(i,e){e.Rt(i)}St(i,e){let r=i.fields||{};this.dt(e,55);for(let n of Object.keys(r))this.Vt(n,e),this.Tt(r[n],e)}wt(i,e){var r,n;let a=i.fields||{};this.dt(e,53);let s="value",o=((n=(r=a[s].arrayValue)===null||r===void 0?void 0:r.values)===null||n===void 0?void 0:n.length)||0;this.dt(e,15),e.At(sa(o)),this.Vt(s,e),this.Tt(a[s],e)}bt(i,e){let r=i.values||[];this.dt(e,50);for(let n of r)this.Tt(n,e)}yt(i,e){this.dt(e,37),cn.fromName(i).path.forEach(r=>{this.dt(e,60),this.Dt(r,e)})}dt(i,e){i.At(e)}ft(i){i.At(2)}};qA.vt=new qA;var bO=class{constructor(){this.un=new _O}addToCollectionParentIndex(i,e){return this.un.add(e),di.resolve()}getCollectionParents(i,e){return di.resolve(this.un.getEntries(e))}addFieldIndex(i,e){return di.resolve()}deleteFieldIndex(i,e){return di.resolve()}deleteAllFieldIndexes(i){return di.resolve()}createTargetIndexes(i,e){return di.resolve()}getDocumentsMatchingTarget(i,e){return di.resolve(null)}getIndexType(i,e){return di.resolve(0)}getFieldIndexes(i,e){return di.resolve([])}getNextCollectionGroupToUpdate(i){return di.resolve(null)}getMinOffset(i,e){return di.resolve(Xg.min())}getMinOffsetFromCollectionGroup(i,e){return di.resolve(Xg.min())}updateCollectionGroup(i,e,r){return di.resolve()}updateIndexEntries(i,e){return di.resolve()}},_O=class{constructor(){this.index={}}add(i){let e=i.lastSegment(),r=i.popLast(),n=this.index[e]||new Nl(ga.comparator),a=!n.has(r);return this.index[e]=n.add(r),a}has(i){let e=i.lastSegment(),r=i.popLast(),n=this.index[e];return n&&n.has(r)}getEntries(i){return(this.index[i]||new Nl(ga.comparator)).toArray()}};var R1t=new Uint8Array(0);var Af=class t{constructor(i,e,r){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(i){return new t(i,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Af.DEFAULT_COLLECTION_PERCENTILE=10,Af.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Af.DEFAULT=new Af(41943040,Af.DEFAULT_COLLECTION_PERCENTILE,Af.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Af.DISABLED=new Af(-1,0,0);var pw=class t{constructor(i){this.Ln=i}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var wO=class{constructor(){this.changes=new d0(i=>i.toString(),(i,e)=>i.isEqual(e)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,e){this.assertNotApplied(),this.changes.set(i,Eh.newInvalidDocument(i).setReadTime(e))}getEntry(i,e){this.assertNotApplied();let r=this.changes.get(e);return r!==void 0?di.resolve(r):this.getFromCache(i,e)}getEntries(i,e){return this.getAllFromCache(i,e)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}};var CO=class{constructor(i,e){this.overlayedDocument=i,this.mutatedFields=e}};var SO=class{constructor(i,e,r,n){this.remoteDocumentCache=i,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=n}getDocument(i,e){let r=null;return this.documentOverlayCache.getOverlay(i,e).next(n=>(r=n,this.remoteDocumentCache.getEntry(i,e))).next(n=>(r!==null&&lw(r.mutation,n,Mf.empty(),wo.now()),n))}getDocuments(i,e){return this.remoteDocumentCache.getEntries(i,e).next(r=>this.getLocalViewOfDocuments(i,r,yr()).next(()=>r))}getLocalViewOfDocuments(i,e,r=yr()){let n=Hg();return this.populateOverlays(i,n,e).next(()=>this.computeViews(i,e,n,r).next(a=>{let s=rw();return a.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(i,e){let r=Hg();return this.populateOverlays(i,r,e).next(()=>this.computeViews(i,e,r,yr()))}populateOverlays(i,e,r){let n=[];return r.forEach(a=>{e.has(a)||n.push(a)}),this.documentOverlayCache.getOverlays(i,n).next(a=>{a.forEach((s,o)=>{e.set(s,o)})})}computeViews(i,e,r,n){let a=Up(),s=ow(),o=function(){return ow()}();return e.forEach((u,l)=>{let c=r.get(l.key);n.has(l.key)&&(c===void 0||c.mutation instanceof Hp)?a=a.insert(l.key,l):c!==void 0?(s.set(l.key,c.mutation.getFieldMask()),lw(c.mutation,l,c.mutation.getFieldMask(),wo.now())):s.set(l.key,Mf.empty())}),this.recalculateAndSaveOverlays(i,a).next(u=>(u.forEach((l,c)=>s.set(l,c)),e.forEach((l,c)=>{var h;return o.set(l,new CO(c,(h=s.get(l))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(i,e){let r=ow(),n=new ka((s,o)=>s-o),a=yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,e).next(s=>{for(let o of s)o.keys().forEach(u=>{let l=e.get(u);if(l===null)return;let c=r.get(u)||Mf.empty();c=o.applyToLocalView(l,c),r.set(u,c);let h=(n.get(o.batchId)||yr()).add(u);n=n.insert(o.batchId,h)})}).next(()=>{let s=[],o=n.getReverseIterator();for(;o.hasNext();){let u=o.getNext(),l=u.key,c=u.value,h=V$();c.forEach(d=>{if(!a.has(d)){let f=W$(e.get(d),r.get(d));f!==null&&h.set(d,f),a=a.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(i,l,h))}return di.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(i,e){return this.remoteDocumentCache.getEntries(i,e).next(r=>this.recalculateAndSaveOverlays(i,r))}getDocumentsMatchingQuery(i,e,r,n){return function(s){return cn.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(i,e.path):F$(e)?this.getDocumentsMatchingCollectionGroupQuery(i,e,r,n):this.getDocumentsMatchingCollectionQuery(i,e,r,n)}getNextDocuments(i,e,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(i,e,r,n).next(a=>{let s=n-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(i,e,r.largestBatchId,n-a.size):di.resolve(Hg()),o=-1,u=a;return s.next(l=>di.forEach(l,(c,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(c)?di.resolve():this.remoteDocumentCache.getEntry(i,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(i,l,a)).next(()=>this.computeViews(i,u,l,yr())).next(c=>({batchId:o,changes:B$(c)})))})}getDocumentsMatchingDocumentQuery(i,e){return this.getDocument(i,new cn(e)).next(r=>{let n=rw();return r.isFoundDocument()&&(n=n.insert(r.key,r)),n})}getDocumentsMatchingCollectionGroupQuery(i,e,r,n){let a=e.collectionGroup,s=rw();return this.indexManager.getCollectionParents(i,a).next(o=>di.forEach(o,u=>{let l=function(h,d){return new u0(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e,u.child(a));return this.getDocumentsMatchingCollectionQuery(i,l,r,n).next(c=>{c.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(i,e,r,n){let a;return this.documentOverlayCache.getOverlaysForCollection(i,e.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(i,e,r,a,n))).next(s=>{a.forEach((u,l)=>{let c=l.getKey();s.get(c)===null&&(s=s.insert(c,Eh.newInvalidDocument(c)))});let o=rw();return s.forEach((u,l)=>{let c=a.get(u);c!==void 0&&lw(c.mutation,l,Mf.empty(),wo.now()),vM(e,l)&&(o=o.insert(u,l))}),o})}};var TO=class{constructor(i){this.serializer=i,this.hr=new Map,this.Pr=new Map}getBundleMetadata(i,e){return di.resolve(this.hr.get(e))}saveBundleMetadata(i,e){return this.hr.set(e.id,function(n){return{id:n.id,version:n.version,createTime:Rf(n.createTime)}}(e)),di.resolve()}getNamedQuery(i,e){return di.resolve(this.Pr.get(e))}saveNamedQuery(i,e){return this.Pr.set(e.name,function(n){return{name:n.name,query:DAe(n.bundledQuery),readTime:Rf(n.readTime)}}(e)),di.resolve()}};var EO=class{constructor(){this.overlays=new ka(cn.comparator),this.Ir=new Map}getOverlay(i,e){return di.resolve(this.overlays.get(e))}getOverlays(i,e){let r=Hg();return di.forEach(e,n=>this.getOverlay(i,n).next(a=>{a!==null&&r.set(n,a)})).next(()=>r)}saveOverlays(i,e,r){return r.forEach((n,a)=>{this.ht(i,e,a)}),di.resolve()}removeOverlaysForBatchId(i,e,r){let n=this.Ir.get(r);return n!==void 0&&(n.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),di.resolve()}getOverlaysForCollection(i,e,r){let n=Hg(),a=e.length+1,s=new cn(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){let u=o.getNext().value,l=u.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===a&&u.largestBatchId>r&&n.set(u.getKey(),u)}return di.resolve(n)}getOverlaysForCollectionGroup(i,e,r,n){let a=new ka((l,c)=>l-c),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>r){let c=a.get(l.largestBatchId);c===null&&(c=Hg(),a=a.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}let o=Hg(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>o.set(l,c)),!(o.size()>=n)););return di.resolve(o)}ht(i,e,r){let n=this.overlays.get(r.key);if(n!==null){let s=this.Ir.get(n.largestBatchId).delete(r.key);this.Ir.set(n.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new uO(e,r));let a=this.Ir.get(e);a===void 0&&(a=yr(),this.Ir.set(e,a)),this.Ir.set(e,a.add(r.key))}};var AO=class{constructor(){this.sessionToken=Bl.EMPTY_BYTE_STRING}getSessionToken(i){return di.resolve(this.sessionToken)}setSessionToken(i,e){return this.sessionToken=e,di.resolve()}};var mw=class{constructor(){this.Tr=new Nl(qa.Er),this.dr=new Nl(qa.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(i,e){let r=new qa(i,e);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(i,e){i.forEach(r=>this.addReference(r,e))}removeReference(i,e){this.Vr(new qa(i,e))}mr(i,e){i.forEach(r=>this.removeReference(r,e))}gr(i){let e=new cn(new ga([])),r=new qa(e,i),n=new qa(e,i+1),a=[];return this.dr.forEachInRange([r,n],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(i=>this.Vr(i))}Vr(i){this.Tr=this.Tr.delete(i),this.dr=this.dr.delete(i)}yr(i){let e=new cn(new ga([])),r=new qa(e,i),n=new qa(e,i+1),a=yr();return this.dr.forEachInRange([r,n],s=>{a=a.add(s.key)}),a}containsKey(i){let e=new qa(i,0),r=this.Tr.firstAfterOrEqual(e);return r!==null&&i.isEqual(r.key)}},qa=class{constructor(i,e){this.key=i,this.wr=e}static Er(i,e){return cn.comparator(i.key,e.key)||Lr(i.wr,e.wr)}static Ar(i,e){return Lr(i.wr,e.wr)||cn.comparator(i.key,e.key)}};var MO=class{constructor(i,e){this.indexManager=i,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new Nl(qa.Er)}checkEmpty(i){return di.resolve(this.mutationQueue.length===0)}addMutationBatch(i,e,r,n){let a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new lO(a,e,r,n);this.mutationQueue.push(s);for(let o of n)this.br=this.br.add(new qa(o.key,a)),this.indexManager.addToCollectionParentIndex(i,o.key.path.popLast());return di.resolve(s)}lookupMutationBatch(i,e){return di.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(i,e){let r=e+1,n=this.vr(r),a=n<0?0:n;return di.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return di.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(i){return di.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(i,e){let r=new qa(e,0),n=new qa(e,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,n],s=>{let o=this.Dr(s.wr);a.push(o)}),di.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(i,e){let r=new Nl(Lr);return e.forEach(n=>{let a=new qa(n,0),s=new qa(n,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{r=r.add(o.wr)})}),di.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(i,e){let r=e.path,n=r.length+1,a=r;cn.isDocumentKey(a)||(a=a.child(""));let s=new qa(new cn(a),0),o=new Nl(Lr);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===n&&(o=o.add(u.wr)),!0)},s),di.resolve(this.Cr(o))}Cr(i){let e=[];return i.forEach(r=>{let n=this.Dr(r);n!==null&&e.push(n)}),e}removeMutationBatch(i,e){ds(this.Fr(e.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return di.forEach(e.mutations,n=>{let a=new qa(n.key,e.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(i,n.key)}).next(()=>{this.br=r})}On(i){}containsKey(i,e){let r=new qa(e,0),n=this.br.firstAfterOrEqual(r);return di.resolve(e.isEqual(n&&n.key))}performConsistencyCheck(i){return this.mutationQueue.length,di.resolve()}Fr(i,e){return this.vr(i)}vr(i){return this.mutationQueue.length===0?0:i-this.mutationQueue[0].batchId}Dr(i){let e=this.vr(i);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}};var IO=class{constructor(i){this.Mr=i,this.docs=function(){return new ka(cn.comparator)}(),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,e){let r=e.key,n=this.docs.get(r),a=n?n.size:0,s=this.Mr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(i,r.path.popLast())}removeEntry(i){let e=this.docs.get(i);e&&(this.docs=this.docs.remove(i),this.size-=e.size)}getEntry(i,e){let r=this.docs.get(e);return di.resolve(r?r.document.mutableCopy():Eh.newInvalidDocument(e))}getEntries(i,e){let r=Up();return e.forEach(n=>{let a=this.docs.get(n);r=r.insert(n,a?a.document.mutableCopy():Eh.newInvalidDocument(n))}),di.resolve(r)}getDocumentsMatchingQuery(i,e,r,n){let a=Up(),s=e.path,o=new cn(s.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){let{key:l,value:{document:c}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||VEe(BEe(c),r)<=0||(n.has(c.key)||vM(e,c))&&(a=a.insert(c.key,c.mutableCopy()))}return di.resolve(a)}getAllFromCollectionGroup(i,e,r,n){Tn()}Or(i,e){return di.forEach(this.docs,r=>e(r))}newChangeBuffer(i){return new DO(this)}getSize(i){return di.resolve(this.size)}},DO=class extends wO{constructor(i){super(),this.cr=i}applyChanges(i){let e=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?e.push(this.cr.addEntry(i,n)):this.cr.removeEntry(r)}),di.waitFor(e)}getFromCache(i,e){return this.cr.getEntry(i,e)}getAllFromCache(i,e){return this.cr.getEntries(i,e)}};var PO=class{constructor(i){this.persistence=i,this.Nr=new d0(e=>CL(e),SL),this.lastRemoteSnapshotVersion=jn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new mw,this.targetCount=0,this.kr=pw.Bn()}forEachTarget(i,e){return this.Nr.forEach((r,n)=>e(n)),di.resolve()}getLastRemoteSnapshotVersion(i){return di.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return di.resolve(this.Lr)}allocateTargetId(i){return this.highestTargetId=this.kr.next(),di.resolve(this.highestTargetId)}setTargetsMetadata(i,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Lr&&(this.Lr=e),di.resolve()}Kn(i){this.Nr.set(i.target,i);let e=i.targetId;e>this.highestTargetId&&(this.kr=new pw(e),this.highestTargetId=e),i.sequenceNumber>this.Lr&&(this.Lr=i.sequenceNumber)}addTargetData(i,e){return this.Kn(e),this.targetCount+=1,di.resolve()}updateTargetData(i,e){return this.Kn(e),di.resolve()}removeTargetData(i,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,di.resolve()}removeTargets(i,e,r){let n=0,a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=e&&r.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(i,o.targetId)),n++)}),di.waitFor(a).next(()=>n)}getTargetCount(i){return di.resolve(this.targetCount)}getTargetData(i,e){let r=this.Nr.get(e)||null;return di.resolve(r)}addMatchingKeys(i,e,r){return this.Br.Rr(e,r),di.resolve()}removeMatchingKeys(i,e,r){this.Br.mr(e,r);let n=this.persistence.referenceDelegate,a=[];return n&&e.forEach(s=>{a.push(n.markPotentiallyOrphaned(i,s))}),di.waitFor(a)}removeMatchingKeysForTargetId(i,e){return this.Br.gr(e),di.resolve()}getMatchingKeysForTargetId(i,e){let r=this.Br.yr(e);return di.resolve(r)}containsKey(i,e){return di.resolve(this.Br.containsKey(e))}};var RO=class{constructor(i,e){this.qr={},this.overlays={},this.Qr=new C$(0),this.Kr=!1,this.Kr=!0,this.$r=new AO,this.referenceDelegate=i(this),this.Ur=new PO(this),this.indexManager=new bO,this.remoteDocumentCache=function(n){return new IO(n)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new xO(e),this.Gr=new TO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let e=this.overlays[i.toKey()];return e||(e=new EO,this.overlays[i.toKey()]=e),e}getMutationQueue(i,e){let r=this.qr[i.toKey()];return r||(r=new MO(e,this.referenceDelegate),this.qr[i.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(i,e,r){Hi("MemoryPersistence","Starting transaction:",i);let n=new kO(this.Qr.next());return this.referenceDelegate.zr(),r(n).next(a=>this.referenceDelegate.jr(n).next(()=>a)).toPromise().then(a=>(n.raiseOnCommittedEvent(),a))}Hr(i,e){return di.or(Object.values(this.qr).map(r=>()=>r.containsKey(i,e)))}},kO=class extends WF{constructor(i){super(),this.currentSequenceNumber=i}},FO=class t{constructor(i){this.persistence=i,this.Jr=new mw,this.Yr=null}static Zr(i){return new t(i)}get Xr(){if(this.Yr)return this.Yr;throw Tn()}addReference(i,e,r){return this.Jr.addReference(r,e),this.Xr.delete(r.toString()),di.resolve()}removeReference(i,e,r){return this.Jr.removeReference(r,e),this.Xr.add(r.toString()),di.resolve()}markPotentiallyOrphaned(i,e){return this.Xr.add(e.toString()),di.resolve()}removeTarget(i,e){this.Jr.gr(e.targetId).forEach(n=>this.Xr.add(n.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(i,e.targetId).next(n=>{n.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(i,e))}zr(){this.Yr=new Set}jr(i){let e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return di.forEach(this.Xr,r=>{let n=cn.fromPath(r);return this.ei(i,n).next(a=>{a||e.removeEntry(n,jn.min())})}).next(()=>(this.Yr=null,e.apply(i)))}updateLimboDocument(i,e){return this.ei(i,e).next(r=>{r?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(i){return 0}ei(i,e){return di.or([()=>di.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(i,e),()=>this.persistence.Hr(i,e)])}};var OO=class t{constructor(i,e,r,n){this.targetId=i,this.fromCache=e,this.$i=r,this.Ui=n}static Wi(i,e){let r=yr(),n=yr();for(let a of e.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:n=n.add(a.doc.key)}return new t(i,e.fromCache,r,n)}};var LO=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(i){this._documentReadCount+=i}};var NO=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return wY()?8:UEe(_Y())>0?6:4}()}initialize(i,e){this.Ji=i,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(i,e,r,n){let a={result:null};return this.Yi(i,e).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(i,e,n,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;let s=new LO;return this.Xi(i,e,s).next(o=>{if(a.result=o,this.zi)return this.es(i,e,s,o.size)})}).next(()=>a.result)}es(i,e,r,n){return r.documentReadCount<this.ji?(nw()<=Pr.DEBUG&&Hi("QueryEngine","SDK will not create cache indexes for query:",P1(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),di.resolve()):(nw()<=Pr.DEBUG&&Hi("QueryEngine","Query:",P1(e),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.Hi*n?(nw()<=Pr.DEBUG&&Hi("QueryEngine","The SDK decides to create cache indexes for query:",P1(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(i,Pf(e))):di.resolve())}Yi(i,e){if(qY(e))return di.resolve(null);let r=Pf(e);return this.indexManager.getIndexType(i,r).next(n=>n===0?null:(e.limit!==null&&n===1&&(e=XA(e,null,"F"),r=Pf(e)),this.indexManager.getDocumentsMatchingTarget(i,r).next(a=>{let s=yr(...a);return this.Ji.getDocuments(i,s).next(o=>this.indexManager.getMinOffset(i,r).next(u=>{let l=this.ts(e,o);return this.ns(e,l,s,u.readTime)?this.Yi(i,XA(e,null,"F")):this.rs(i,l,e,u)}))})))}Zi(i,e,r,n){return qY(e)||n.isEqual(jn.min())?di.resolve(null):this.Ji.getDocuments(i,r).next(a=>{let s=this.ts(e,a);return this.ns(e,s,r,n)?di.resolve(null):(nw()<=Pr.DEBUG&&Hi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),P1(e)),this.rs(i,s,e,NEe(n,-1)).next(o=>o))})}ts(i,e){let r=new Nl(L$(i));return e.forEach((n,a)=>{vM(i,a)&&(r=r.add(a))}),r}ns(i,e,r,n){if(i.limit===null)return!1;if(r.size!==e.size)return!0;let a=i.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(n)>0)}Xi(i,e,r){return nw()<=Pr.DEBUG&&Hi("QueryEngine","Using full collection scan to execute query:",P1(e)),this.Ji.getDocumentsMatchingQuery(i,e,Xg.min(),r)}rs(i,e,r,n){return this.Ji.getDocumentsMatchingQuery(i,r,n).next(a=>(e.forEach(s=>{a=a.insert(s.key,s)}),a))}};var BO=class{constructor(i,e,r,n){this.persistence=i,this.ss=e,this.serializer=n,this.os=new ka(Lr),this._s=new d0(a=>CL(a),SL),this.us=new Map,this.cs=i.getRemoteDocumentCache(),this.Ur=i.getTargetCache(),this.Gr=i.getBundleCache(),this.ls(r)}ls(i){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(i),this.indexManager=this.persistence.getIndexManager(i),this.mutationQueue=this.persistence.getMutationQueue(i,this.indexManager),this.localDocuments=new SO(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>i.collect(e,this.os))}};function PAe(t,i,e,r){return new BO(t,i,e,r)}function tQ(t,i){return Mt(this,null,function*(){let e=Dn(t);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let n;return e.mutationQueue.getAllMutationBatches(r).next(a=>(n=a,e.ls(i),e.mutationQueue.getAllMutationBatches(r))).next(a=>{let s=[],o=[],u=yr();for(let l of n){s.push(l.batchId);for(let c of l.mutations)u=u.add(c.key)}for(let l of a){o.push(l.batchId);for(let c of l.mutations)u=u.add(c.key)}return e.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:o}))})})})}function RAe(t,i){let e=Dn(t);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let n=i.batch.keys(),a=e.cs.newChangeBuffer({trackRemovals:!0});return function(o,u,l,c){let h=l.batch,d=h.keys(),f=di.resolve();return d.forEach(m=>{f=f.next(()=>c.getEntry(u,m)).next(p=>{let g=l.docVersions.get(m);ds(g!==null),p.version.compareTo(g)<0&&(h.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(u,h))}(e,r,i,a).next(()=>a.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,n,i.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=yr();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(u=u.add(o.batch.mutations[l].key));return u}(i))).next(()=>e.localDocuments.getDocuments(r,n))})}function iQ(t){let i=Dn(t);return i.persistence.runTransaction("Get last remote snapshot version","readonly",e=>i.Ur.getLastRemoteSnapshotVersion(e))}function kAe(t,i){let e=Dn(t),r=i.snapshotVersion,n=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{let s=e.cs.newChangeBuffer({trackRemovals:!0});n=e.os;let o=[];i.targetChanges.forEach((c,h)=>{let d=n.get(h);if(!d)return;o.push(e.Ur.removeMatchingKeys(a,c.removedDocuments,h).next(()=>e.Ur.addMatchingKeys(a,c.addedDocuments,h)));let f=d.withSequenceNumber(a.currentSequenceNumber);i.targetMismatches.get(h)!==null?f=f.withResumeToken(Bl.EMPTY_BYTE_STRING,jn.min()).withLastLimboFreeSnapshotVersion(jn.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),n=n.insert(h,f),function(p,g,v){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,f,c)&&o.push(e.Ur.updateTargetData(a,f))});let u=Up(),l=yr();if(i.documentUpdates.forEach(c=>{i.resolvedLimboDocuments.has(c)&&o.push(e.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(FAe(a,s,i.documentUpdates).next(c=>{u=c.Ps,l=c.Is})),!r.isEqual(jn.min())){let c=e.Ur.getLastRemoteSnapshotVersion(a).next(h=>e.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(c)}return di.waitFor(o).next(()=>s.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,u,l)).next(()=>u)}).then(a=>(e.os=n,a))}function FAe(t,i,e){let r=yr(),n=yr();return e.forEach(a=>r=r.add(a)),i.getEntries(t,r).next(a=>{let s=Up();return e.forEach((o,u)=>{let l=a.get(o);u.isFoundDocument()!==l.isFoundDocument()&&(n=n.add(o)),u.isNoDocument()&&u.version.isEqual(jn.min())?(i.removeEntry(o,u.readTime),s=s.insert(o,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(i.addEntry(u),s=s.insert(o,u)):Hi("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:n}})}function OAe(t,i){let e=Dn(t);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(i===void 0&&(i=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,i)))}function LAe(t,i){let e=Dn(t);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let n;return e.Ur.getTargetData(r,i).next(a=>a?(n=a,di.resolve(n)):e.Ur.allocateTargetId(r).next(s=>(n=new fw(i,s,"TargetPurposeListen",r.currentSequenceNumber),e.Ur.addTargetData(r,n).next(()=>n))))}).then(r=>{let n=e.os.get(r.targetId);return(n===null||r.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(e.os=e.os.insert(r.targetId,r),e._s.set(i,r.targetId)),r})}function VO(t,i,e){return Mt(this,null,function*(){let r=Dn(t),n=r.os.get(i),a=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,n)))}catch(s){if(!Sw(s))throw s;Hi("LocalStore",`Failed to update sequence numbers for target ${i}: ${s}`)}r.os=r.os.remove(i),r._s.delete(n.target)})}function u$(t,i,e){let r=Dn(t),n=jn.min(),a=yr();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,c){let h=Dn(u),d=h._s.get(c);return d!==void 0?di.resolve(h.os.get(d)):h.Ur.getTargetData(l,c)}(r,s,Pf(i)).next(o=>{if(o)return n=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,o.targetId).next(u=>{a=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,i,e?n:jn.min(),e?a:yr())).next(o=>(NAe(r,JEe(i),o),{documents:o,Ts:a})))}function NAe(t,i,e){let r=t.us.get(i)||jn.min();e.forEach((n,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(i,r)}var eM=class{constructor(){this.activeTargetIds=rAe()}fs(i){this.activeTargetIds=this.activeTargetIds.add(i)}gs(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Vs(){let i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}};var zO=class{constructor(){this.so=new eM,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,e,r){}addLocalQueryTarget(i,e=!0){return e&&this.so.fs(i),this.oo[i]||"not-current"}updateQueryState(i,e,r){this.oo[i]=e}removeLocalQueryTarget(i){this.so.gs(i)}isLocalQueryTarget(i){return this.so.activeTargetIds.has(i)}clearQueryState(i){delete this.oo[i]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(i){return this.so.activeTargetIds.has(i)}start(){return this.so=new eM,Promise.resolve()}handleUserChange(i,e,r){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}};var UO=class{_o(i){}shutdown(){}};var tM=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(i){this.ho.push(i)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Hi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let i of this.ho)i(0)}lo(){Hi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let i of this.ho)i(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var LA=null;function FF(){return LA===null?LA=function(){return 268435456+Math.round(2147483648*Math.random())}():LA++,"0x"+LA.toString(16)}var BAe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var HO=class{constructor(i){this.Io=i.Io,this.To=i.To}Eo(i){this.Ao=i}Ro(i){this.Vo=i}mo(i){this.fo=i}onMessage(i){this.po=i}close(){this.To()}send(i){this.Io(i)}yo(){this.Ao()}wo(){this.Vo()}So(i){this.fo(i)}bo(i){this.po(i)}};var Ll="WebChannelConnection",GO=class extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+e.host,this.vo=`projects/${n}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${n}`:`project_id=${n}&database_id=${a}`}get Fo(){return!1}Mo(e,r,n,a,s){let o=FF(),u=this.xo(e,r.toUriEncodedString());Hi("RestConnection",`Sending RPC '${e}' ${o}:`,u,n);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,a,s),this.No(e,u,l,n).then(c=>(Hi("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw B1("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",u,"request:",n),c})}Lo(e,r,n,a,s,o){return this.Mo(e,r,n,a,s)}Oo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Q1}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>e[s]=a),n&&n.headers.forEach((a,s)=>e[s]=a)}xo(e,r){let n=BAe[e];return`${this.Do}/v1/${r}:${n}`}terminate(){}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams,this.longPollingOptions=i.longPollingOptions}No(i,e,r,n){let a=FF();return new Promise((s,o)=>{let u=new MF;u.setWithCredentials(!0),u.listenOnce(IF.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case iw.NO_ERROR:let c=u.getResponseJson();Hi(Ll,`XHR for RPC '${i}' ${a} received:`,JSON.stringify(c)),s(c);break;case iw.TIMEOUT:Hi(Ll,`RPC '${i}' ${a} timed out`),o(new Pi(Wt.DEADLINE_EXCEEDED,"Request time out"));break;case iw.HTTP_ERROR:let h=u.getStatus();if(Hi(Ll,`RPC '${i}' ${a} failed with status:`,h,"response text:",u.getResponseText()),h>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);let f=d?.error;if(f&&f.status&&f.message){let m=function(g){let v=g.toLowerCase().replace(/_/g,"-");return Object.values(Wt).indexOf(v)>=0?v:Wt.UNKNOWN}(f.status);o(new Pi(m,f.message))}else o(new Pi(Wt.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Pi(Wt.UNAVAILABLE,"Connection failed."));break;default:Tn()}}finally{Hi(Ll,`RPC '${i}' ${a} completed.`)}});let l=JSON.stringify(n);Hi(Ll,`RPC '${i}' ${a} sending request:`,n),u.send(e,"POST",l,r,15)})}Bo(i,e,r){let n=FF(),a=[this.Do,"/","google.firestore.v1.Firestore","/",i,"/channel"],s=RF(),o=PF(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,e,r),u.encodeInitMessageHeaders=!0;let c=a.join("");Hi(Ll,`Creating RPC '${i}' stream ${n}: ${c}`,u);let h=s.createWebChannel(c,u),d=!1,f=!1,m=new HO({Io:g=>{f?Hi(Ll,`Not sending because RPC '${i}' stream ${n} is closed:`,g):(d||(Hi(Ll,`Opening RPC '${i}' stream ${n} transport.`),h.open(),d=!0),Hi(Ll,`RPC '${i}' stream ${n} sending:`,g),h.send(g))},To:()=>h.close()}),p=(g,v,y)=>{g.listen(v,x=>{try{y(x)}catch(b){setTimeout(()=>{throw b},0)}})};return p(h,D1.EventType.OPEN,()=>{f||(Hi(Ll,`RPC '${i}' stream ${n} transport opened.`),m.yo())}),p(h,D1.EventType.CLOSE,()=>{f||(f=!0,Hi(Ll,`RPC '${i}' stream ${n} transport closed`),m.So())}),p(h,D1.EventType.ERROR,g=>{f||(f=!0,B1(Ll,`RPC '${i}' stream ${n} transport errored:`,g),m.So(new Pi(Wt.UNAVAILABLE,"The operation could not be completed")))}),p(h,D1.EventType.MESSAGE,g=>{var v;if(!f){let y=g.data[0];ds(!!y);let x=y,b=x.error||((v=x[0])===null||v===void 0?void 0:v.error);if(b){Hi(Ll,`RPC '${i}' stream ${n} received error:`,b);let w=b.status,C=function(T){let A=Ja[T];if(A!==void 0)return Y$(A)}(w),_=b.message;C===void 0&&(C=Wt.INTERNAL,_="Unknown error status: "+w+" with message "+b.message),f=!0,m.So(new Pi(C,_)),h.close()}else Hi(Ll,`RPC '${i}' stream ${n} received:`,y),m.bo(y)}}),p(o,DF.STAT_EVENT,g=>{g.stat===FA.PROXY?Hi(Ll,`RPC '${i}' stream ${n} detected buffering proxy`):g.stat===FA.NOPROXY&&Hi(Ll,`RPC '${i}' stream ${n} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}};function OF(){return typeof document<"u"?document:null}function yM(t){return new pO(t,!0)}var iM=class{constructor(i,e,r=1e3,n=1.5,a=6e4){this.ui=i,this.timerId=e,this.ko=r,this.qo=n,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(i){this.cancel();let e=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),n=Math.max(0,e-r);n>0&&Hi("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,n,()=>(this.Uo=Date.now(),i())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var nM=class{constructor(i,e,r,n,a,s,o,u){this.ui=i,this.Ho=r,this.Jo=n,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new iM(i,e)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return Mt(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(i){this.u_(),this.stream.send(i)}__(){return Mt(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(i,e){return Mt(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,i!==4?this.t_.reset():e&&e.code===Wt.RESOURCE_EXHAUSTED?(Vp(e.toString()),Vp("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):e&&e.code===Wt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=i,yield this.listener.mo(e)})}l_(){}auth(){this.state=1;let i=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,n])=>{this.Yo===e&&this.P_(r,n)},r=>{i(()=>{let n=new Pi(Wt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(n)})})}P_(i,e){let r=this.h_(this.Yo);this.stream=this.T_(i,e),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(n=>{r(()=>this.I_(n))}),this.stream.onMessage(n=>{r(()=>++this.e_==1?this.E_(n):this.onNext(n))})}i_(){this.state=5,this.t_.Go(()=>Mt(this,null,function*(){this.state=0,this.start()}))}I_(i){return Hi("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}h_(i){return e=>{this.ui.enqueueAndForget(()=>this.Yo===i?e():(Hi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},jO=class extends nM{constructor(i,e,r,n,a,s){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,n,s),this.serializer=a}T_(i,e){return this.connection.Bo("Listen",i,e)}E_(i){return this.onNext(i)}onNext(i){this.t_.reset();let e=xAe(this.serializer,i),r=function(a){if(!("targetChange"in a))return jn.min();let s=a.targetChange;return s.targetIds&&s.targetIds.length?jn.min():s.readTime?Rf(s.readTime):jn.min()}(i);return this.listener.d_(e,r)}A_(i){let e={};e.database=yO(this.serializer),e.addTarget=function(a,s){let o,u=s.target;if(o=rO(u)?{documents:wAe(a,u)}:{query:CAe(a,u)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=$$(a,s.resumeToken);let l=mO(a,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(jn.min())>0){o.readTime=JA(a,s.snapshotVersion.toTimestamp());let l=mO(a,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,i);let r=TAe(this.serializer,i);r&&(e.labels=r),this.a_(e)}R_(i){let e={};e.database=yO(this.serializer),e.removeTarget=i,this.a_(e)}},WO=class extends nM{constructor(i,e,r,n,a,s){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,n,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(i,e){return this.connection.Bo("Write",i,e)}E_(i){return ds(!!i.streamToken),this.lastStreamToken=i.streamToken,ds(!i.writeResults||i.writeResults.length===0),this.listener.f_()}onNext(i){ds(!!i.streamToken),this.lastStreamToken=i.streamToken,this.t_.reset();let e=_Ae(i.writeResults,i.commitTime),r=Rf(i.commitTime);return this.listener.g_(r,e)}p_(){let i={};i.database=yO(this.serializer),this.a_(i)}m_(i){let e={streamToken:this.lastStreamToken,writes:i.map(r=>bAe(this.serializer,r))};this.a_(e)}};var XO=class extends class{}{constructor(i,e,r,n){super(),this.authCredentials=i,this.appCheckCredentials=e,this.connection=r,this.serializer=n,this.y_=!1}w_(){if(this.y_)throw new Pi(Wt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(i,e,r,n){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(i,gO(e,r),n,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pi(Wt.UNKNOWN,a.toString())})}Lo(i,e,r,n,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(i,gO(e,r),n,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pi(Wt.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},YO=class{constructor(i,e){this.asyncQueue=i,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(i){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.C_("Offline")))}set(i){this.x_(),this.S_=0,i==="Online"&&(this.D_=!1),this.C_(i)}C_(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}F_(i){let e=`Could not reach Cloud Firestore backend. ${i}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vp(e),this.D_=!1):Hi("OnlineStateTracker",e)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var $O=class{constructor(i,e,r,n,a){this.localStore=i,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{r.enqueueAndForget(()=>Mt(this,null,function*(){Jg(this)&&(Hi("RemoteStore","Restarting streams for network reachability change."),yield function(u){return Mt(this,null,function*(){let l=Dn(u);l.L_.add(4),yield Tw(l),l.q_.set("Unknown"),l.L_.delete(4),yield xM(l)})}(this))}))}),this.q_=new YO(r,n)}};function xM(t){return Mt(this,null,function*(){if(Jg(t))for(let i of t.B_)yield i(!0)})}function Tw(t){return Mt(this,null,function*(){for(let i of t.B_)yield i(!1)})}function nQ(t,i){let e=Dn(t);e.N_.has(i.targetId)||(e.N_.set(i.targetId,i),DL(e)?IL(e):Z1(e).r_()&&ML(e,i))}function AL(t,i){let e=Dn(t),r=Z1(e);e.N_.delete(i),r.r_()&&rQ(e,i),e.N_.size===0&&(r.r_()?r.o_():Jg(e)&&e.q_.set("Unknown"))}function ML(t,i){if(t.Q_.xe(i.targetId),i.resumeToken.approximateByteSize()>0||i.snapshotVersion.compareTo(jn.min())>0){let e=t.remoteSyncer.getRemoteKeysForTarget(i.targetId).size;i=i.withExpectedCount(e)}Z1(t).A_(i)}function rQ(t,i){t.Q_.xe(i),Z1(t).R_(i)}function IL(t){t.Q_=new fO({getRemoteKeysForTarget:i=>t.remoteSyncer.getRemoteKeysForTarget(i),ot:i=>t.N_.get(i)||null,tt:()=>t.datastore.serializer.databaseId}),Z1(t).start(),t.q_.v_()}function DL(t){return Jg(t)&&!Z1(t).n_()&&t.N_.size>0}function Jg(t){return Dn(t).L_.size===0}function sQ(t){t.Q_=void 0}function VAe(t){return Mt(this,null,function*(){t.q_.set("Online")})}function zAe(t){return Mt(this,null,function*(){t.N_.forEach((i,e)=>{ML(t,i)})})}function UAe(t,i){return Mt(this,null,function*(){sQ(t),DL(t)?(t.q_.M_(i),IL(t)):t.q_.set("Unknown")})}function HAe(t,i,e){return Mt(this,null,function*(){if(t.q_.set("Online"),i instanceof KA&&i.state===2&&i.cause)try{yield function(n,a){return Mt(this,null,function*(){let s=a.cause;for(let o of a.targetIds)n.N_.has(o)&&(yield n.remoteSyncer.rejectListen(o,s),n.N_.delete(o),n.Q_.removeTarget(o))})}(t,i)}catch(r){Hi("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),r),yield rM(t,r)}else if(i instanceof L1?t.Q_.Ke(i):i instanceof QA?t.Q_.He(i):t.Q_.We(i),!e.isEqual(jn.min()))try{let r=yield iQ(t.localStore);e.compareTo(r)>=0&&(yield function(a,s){let o=a.Q_.rt(s);return o.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let c=a.N_.get(l);c&&a.N_.set(l,c.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,l)=>{let c=a.N_.get(u);if(!c)return;a.N_.set(u,c.withResumeToken(Bl.EMPTY_BYTE_STRING,c.snapshotVersion)),rQ(a,u);let h=new fw(c.target,u,l,c.sequenceNumber);ML(a,h)}),a.remoteSyncer.applyRemoteEvent(o)}(t,e))}catch(r){Hi("RemoteStore","Failed to raise snapshot:",r),yield rM(t,r)}})}function rM(t,i,e){return Mt(this,null,function*(){if(!Sw(i))throw i;t.L_.add(1),yield Tw(t),t.q_.set("Offline"),e||(e=()=>iQ(t.localStore)),t.asyncQueue.enqueueRetryable(()=>Mt(this,null,function*(){Hi("RemoteStore","Retrying IndexedDB access"),yield e(),t.L_.delete(1),yield xM(t)}))})}function aQ(t,i){return i().catch(e=>rM(t,e,i))}function bM(t){return Mt(this,null,function*(){let i=Dn(t),e=h0(i),r=i.O_.length>0?i.O_[i.O_.length-1].batchId:-1;for(;GAe(i);)try{let n=yield OAe(i.localStore,r);if(n===null){i.O_.length===0&&e.o_();break}r=n.batchId,jAe(i,n)}catch(n){yield rM(i,n)}oQ(i)&&lQ(i)})}function GAe(t){return Jg(t)&&t.O_.length<10}function jAe(t,i){t.O_.push(i);let e=h0(t);e.r_()&&e.V_&&e.m_(i.mutations)}function oQ(t){return Jg(t)&&!h0(t).n_()&&t.O_.length>0}function lQ(t){h0(t).start()}function WAe(t){return Mt(this,null,function*(){h0(t).p_()})}function XAe(t){return Mt(this,null,function*(){let i=h0(t);for(let e of t.O_)i.m_(e.mutations)})}function YAe(t,i,e){return Mt(this,null,function*(){let r=t.O_.shift(),n=cO.from(r,i,e);yield aQ(t,()=>t.remoteSyncer.applySuccessfulWrite(n)),yield bM(t)})}function $Ae(t,i){return Mt(this,null,function*(){i&&h0(t).V_&&(yield function(r,n){return Mt(this,null,function*(){if(function(s){return dAe(s)&&s!==Wt.ABORTED}(n.code)){let a=r.O_.shift();h0(r).s_(),yield aQ(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,n)),yield bM(r)}})}(t,i)),oQ(t)&&lQ(t)})}function d$(t,i){return Mt(this,null,function*(){let e=Dn(t);e.asyncQueue.verifyOperationInProgress(),Hi("RemoteStore","RemoteStore received new credentials");let r=Jg(e);e.L_.add(3),yield Tw(e),r&&e.q_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(i),e.L_.delete(3),yield xM(e)})}function QAe(t,i){return Mt(this,null,function*(){let e=Dn(t);i?(e.L_.delete(2),yield xM(e)):i||(e.L_.add(2),yield Tw(e),e.q_.set("Unknown"))})}function Z1(t){return t.K_||(t.K_=function(e,r,n){let a=Dn(e);return a.w_(),new jO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,n)}(t.datastore,t.asyncQueue,{Eo:VAe.bind(null,t),Ro:zAe.bind(null,t),mo:UAe.bind(null,t),d_:HAe.bind(null,t)}),t.B_.push(i=>Mt(this,null,function*(){i?(t.K_.s_(),DL(t)?IL(t):t.q_.set("Unknown")):(yield t.K_.stop(),sQ(t))}))),t.K_}function h0(t){return t.U_||(t.U_=function(e,r,n){let a=Dn(e);return a.w_(),new WO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,n)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:WAe.bind(null,t),mo:$Ae.bind(null,t),f_:XAe.bind(null,t),g_:YAe.bind(null,t)}),t.B_.push(i=>Mt(this,null,function*(){i?(t.U_.s_(),yield bM(t)):(yield t.U_.stop(),t.O_.length>0&&(Hi("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var QO=class t{constructor(i,e,r,n,a){this.asyncQueue=i,this.timerId=e,this.targetTimeMs=r,this.op=n,this.removalCallback=a,this.deferred=new If,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(i,e,r,n,a){let s=Date.now()+r,o=new t(i,e,s,n,a);return o.start(r),o}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pi(Wt.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function PL(t,i){if(Vp("AsyncQueue",`${i}: ${t}`),Sw(t))return new Pi(Wt.UNAVAILABLE,`${i}: ${t}`);throw t}var sM=class t{constructor(i){this.comparator=i?(e,r)=>i(e,r)||cn.comparator(e.key,r.key):(e,r)=>cn.comparator(e.key,r.key),this.keyedMap=rw(),this.sortedSet=new ka(this.comparator)}static emptySet(i){return new t(i.comparator)}has(i){return this.keyedMap.get(i)!=null}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){let e=this.keyedMap.get(i);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((e,r)=>(i(e),!1))}add(i){let e=this.delete(i.key);return e.copy(e.keyedMap.insert(i.key,i),e.sortedSet.insert(i,null))}delete(i){let e=this.get(i);return e?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(e)):this}isEqual(i){if(!(i instanceof t)||this.size!==i.size)return!1;let e=this.sortedSet.getIterator(),r=i.sortedSet.getIterator();for(;e.hasNext();){let n=e.getNext().key,a=r.getNext().key;if(!n.isEqual(a))return!1}return!0}toString(){let i=[];return this.forEach(e=>{i.push(e.toString())}),i.length===0?"DocumentSet ()":`DocumentSet (
  `+i.join(`  
`)+`
)`}copy(i,e){let r=new t;return r.comparator=this.comparator,r.keyedMap=i,r.sortedSet=e,r}};var aM=class{constructor(){this.W_=new ka(cn.comparator)}track(i){let e=i.doc.key,r=this.W_.get(e);r?i.type!==0&&r.type===3?this.W_=this.W_.insert(e,i):i.type===3&&r.type!==1?this.W_=this.W_.insert(e,{type:r.type,doc:i.doc}):i.type===2&&r.type===2?this.W_=this.W_.insert(e,{type:2,doc:i.doc}):i.type===2&&r.type===0?this.W_=this.W_.insert(e,{type:0,doc:i.doc}):i.type===1&&r.type===0?this.W_=this.W_.remove(e):i.type===1&&r.type===2?this.W_=this.W_.insert(e,{type:1,doc:r.doc}):i.type===0&&r.type===1?this.W_=this.W_.insert(e,{type:2,doc:i.doc}):Tn():this.W_=this.W_.insert(e,i)}G_(){let i=[];return this.W_.inorderTraversal((e,r)=>{i.push(r)}),i}},Y1=class t{constructor(i,e,r,n,a,s,o,u,l){this.query=i,this.docs=e,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(i,e,r,n,a){let s=[];return e.forEach(o=>{s.push({type:0,doc:o})}),new t(i,e,sM.emptySet(e),s,r,n,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.hasCachedResults===i.hasCachedResults&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&gM(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;let e=this.docChanges,r=i.docChanges;if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(e[n].type!==r[n].type||!e[n].doc.isEqual(r[n].doc))return!1;return!0}};var KO=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(i=>i.J_())}},ZO=class{constructor(){this.queries=h$(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(e,r){let n=Dn(e),a=n.queries;n.queries=h$(),a.forEach((s,o)=>{for(let u of o.j_)u.onError(r)})})(this,new Pi(Wt.ABORTED,"Firestore shutting down"))}};function h$(){return new d0(t=>O$(t),gM)}function KAe(t,i){return Mt(this,null,function*(){let e=Dn(t),r=3,n=i.query,a=e.queries.get(n);a?!a.H_()&&i.J_()&&(r=2):(a=new KO,r=i.J_()?0:1);try{switch(r){case 0:a.z_=yield e.onListen(n,!0);break;case 1:a.z_=yield e.onListen(n,!1);break;case 2:yield e.onFirstRemoteStoreListen(n)}}catch(s){let o=PL(s,`Initialization of query '${P1(i.query)}' failed`);return void i.onError(o)}e.queries.set(n,a),a.j_.push(i),i.Z_(e.onlineState),a.z_&&i.X_(a.z_)&&RL(e)})}function ZAe(t,i){return Mt(this,null,function*(){let e=Dn(t),r=i.query,n=3,a=e.queries.get(r);if(a){let s=a.j_.indexOf(i);s>=0&&(a.j_.splice(s,1),a.j_.length===0?n=i.J_()?0:1:!a.H_()&&i.J_()&&(n=2))}switch(n){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}})}function JAe(t,i){let e=Dn(t),r=!1;for(let n of i){let a=n.query,s=e.queries.get(a);if(s){for(let o of s.j_)o.X_(n)&&(r=!0);s.z_=n}}r&&RL(e)}function qAe(t,i,e){let r=Dn(t),n=r.queries.get(i);if(n)for(let a of n.j_)a.onError(e);r.queries.delete(i)}function RL(t){t.Y_.forEach(i=>{i.next()})}var JO,f$;(f$=JO||(JO={})).ea="default",f$.Cache="cache";var qO=class{constructor(i,e,r){this.query=i,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(i){if(!this.options.includeMetadataChanges){let r=[];for(let n of i.docChanges)n.type!==3&&r.push(n);i=new Y1(i.query,i.docs,i.oldDocs,r,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0,i.hasCachedResults)}let e=!1;return this.na?this.ia(i)&&(this.ta.next(i),e=!0):this.sa(i,this.onlineState)&&(this.oa(i),e=!0),this.ra=i,e}onError(i){this.ta.error(i)}Z_(i){this.onlineState=i;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,i)&&(this.oa(this.ra),e=!0),e}sa(i,e){if(!i.fromCache||!this.J_())return!0;let r=e!=="Offline";return(!this.options._a||!r)&&(!i.docs.isEmpty()||i.hasCachedResults||e==="Offline")}ia(i){if(i.docChanges.length>0)return!0;let e=this.ra&&this.ra.hasPendingWrites!==i.hasPendingWrites;return!(!i.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}oa(i){i=Y1.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache,i.hasCachedResults),this.na=!0,this.ta.next(i)}J_(){return this.options.source!==JO.Cache}};var oM=class{constructor(i){this.key=i}},lM=class{constructor(i){this.key=i}},eL=class{constructor(i,e){this.query=i,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=yr(),this.mutatedKeys=yr(),this.Aa=L$(i),this.Ra=new sM(this.Aa)}get Va(){return this.Ta}ma(i,e){let r=e?e.fa:new aM,n=e?e.Ra:this.Ra,a=e?e.mutatedKeys:this.mutatedKeys,s=n,o=!1,u=this.query.limitType==="F"&&n.size===this.query.limit?n.last():null,l=this.query.limitType==="L"&&n.size===this.query.limit?n.first():null;if(i.inorderTraversal((c,h)=>{let d=n.get(c),f=vM(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),g=!1;d&&f?d.data.isEqual(f.data)?m!==p&&(r.track({type:3,doc:f}),g=!0):this.ga(d,f)||(r.track({type:2,doc:f}),g=!0,(u&&this.Aa(f,u)>0||l&&this.Aa(f,l)<0)&&(o=!0)):!d&&f?(r.track({type:0,doc:f}),g=!0):d&&!f&&(r.track({type:1,doc:d}),g=!0,(u||l)&&(o=!0)),g&&(f?(s=s.add(f),a=p?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:o,mutatedKeys:a}}ga(i,e){return i.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(i,e,r,n){let a=this.Ra;this.Ra=i.Ra,this.mutatedKeys=i.mutatedKeys;let s=i.fa.G_();s.sort((c,h)=>function(f,m){let p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tn()}};return p(f)-p(m)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),n=n!=null&&n;let o=e&&!n?this.ya():[],u=this.da.size===0&&this.current&&!n?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Y1(this.query,i.Ra,a,s,i.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(i){return this.current&&i==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new aM,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(i){return!this.Ta.has(i)&&!!this.Ra.has(i)&&!this.Ra.get(i).hasLocalMutations}pa(i){i&&(i.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),i.modifiedDocuments.forEach(e=>{}),i.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=i.current)}ya(){if(!this.current)return[];let i=this.da;this.da=yr(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let e=[];return i.forEach(r=>{this.da.has(r)||e.push(new lM(r))}),this.da.forEach(r=>{i.has(r)||e.push(new oM(r))}),e}ba(i){this.Ta=i.Ts,this.da=yr();let e=this.ma(i.documents);return this.applyChanges(e,!0)}Da(){return Y1.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},tL=class{constructor(i,e,r){this.query=i,this.targetId=e,this.view=r}},iL=class{constructor(i){this.key=i,this.va=!1}},nL=class{constructor(i,e,r,n,a,s){this.localStore=i,this.remoteStore=e,this.eventManager=r,this.sharedClientState=n,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new d0(o=>O$(o),gM),this.Ma=new Map,this.xa=new Set,this.Oa=new ka(cn.comparator),this.Na=new Map,this.La=new mw,this.Ba={},this.ka=new Map,this.qa=pw.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function eMe(t,i,e=!0){return Mt(this,null,function*(){let r=pQ(t),n,a=r.Fa.get(i);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),n=a.view.Da()):n=yield cQ(r,i,e,!0),n})}function tMe(t,i){return Mt(this,null,function*(){let e=pQ(t);yield cQ(e,i,!0,!1)})}function cQ(t,i,e,r){return Mt(this,null,function*(){let n=yield LAe(t.localStore,Pf(i)),a=n.targetId,s=t.sharedClientState.addLocalQueryTarget(a,e),o;return r&&(o=yield iMe(t,i,a,s==="current",n.resumeToken)),t.isPrimaryClient&&e&&nQ(t.remoteStore,n),o})}function iMe(t,i,e,r,n){return Mt(this,null,function*(){t.Ka=(h,d,f)=>function(p,g,v,y){return Mt(this,null,function*(){let x=g.view.ma(v);x.ns&&(x=yield u$(p.localStore,g.query,!1).then(({documents:_})=>g.view.ma(_,x)));let b=y&&y.targetChanges.get(g.targetId),w=y&&y.targetMismatches.get(g.targetId)!=null,C=g.view.applyChanges(x,p.isPrimaryClient,b,w);return m$(p,g.targetId,C.wa),C.snapshot})}(t,h,d,f);let a=yield u$(t.localStore,i,!0),s=new eL(i,a.Ts),o=s.ma(a.documents),u=hw.createSynthesizedTargetChangeForCurrentChange(e,r&&t.onlineState!=="Offline",n),l=s.applyChanges(o,t.isPrimaryClient,u);m$(t,e,l.wa);let c=new tL(i,e,s);return t.Fa.set(i,c),t.Ma.has(e)?t.Ma.get(e).push(i):t.Ma.set(e,[i]),l.snapshot})}function nMe(t,i,e){return Mt(this,null,function*(){let r=Dn(t),n=r.Fa.get(i),a=r.Ma.get(n.targetId);if(a.length>1)return r.Ma.set(n.targetId,a.filter(s=>!gM(s,i))),void r.Fa.delete(i);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(n.targetId),r.sharedClientState.isActiveQueryTarget(n.targetId)||(yield VO(r.localStore,n.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(n.targetId),e&&AL(r.remoteStore,n.targetId),rL(r,n.targetId)}).catch(Cw))):(rL(r,n.targetId),yield VO(r.localStore,n.targetId,!0))})}function rMe(t,i){return Mt(this,null,function*(){let e=Dn(t),r=e.Fa.get(i),n=e.Ma.get(r.targetId);e.isPrimaryClient&&n.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),AL(e.remoteStore,r.targetId))})}function sMe(t,i,e){return Mt(this,null,function*(){let r=hMe(t);try{let n=yield function(s,o){let u=Dn(s),l=wo.now(),c=o.reduce((f,m)=>f.add(m.key),yr()),h,d;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Up(),p=yr();return u.cs.getEntries(f,c).next(g=>{m=g,m.forEach((v,y)=>{y.isValidDocument()||(p=p.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,m)).next(g=>{h=g;let v=[];for(let y of o){let x=uAe(y,h.get(y.key).overlayedDocument);x!=null&&v.push(new Hp(y.key,x,A$(x.value.mapValue),jg.exists(!0)))}return u.mutationQueue.addMutationBatch(f,l,v,o)}).next(g=>{d=g;let v=g.applyToLocalDocumentSet(h,p);return u.documentOverlayCache.saveOverlays(f,g.batchId,v)})}).then(()=>({batchId:d.batchId,changes:B$(h)}))}(r.localStore,i);r.sharedClientState.addPendingMutation(n.batchId),function(s,o,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new ka(Lr)),l=l.insert(o,u),s.Ba[s.currentUser.toKey()]=l}(r,n.batchId,e),yield Ew(r,n.changes),yield bM(r.remoteStore)}catch(n){let a=PL(n,"Failed to persist write");e.reject(a)}})}function uQ(t,i){return Mt(this,null,function*(){let e=Dn(t);try{let r=yield kAe(e.localStore,i);i.targetChanges.forEach((n,a)=>{let s=e.Na.get(a);s&&(ds(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1),n.addedDocuments.size>0?s.va=!0:n.modifiedDocuments.size>0?ds(s.va):n.removedDocuments.size>0&&(ds(s.va),s.va=!1))}),yield Ew(e,r,i)}catch(r){yield Cw(r)}})}function p$(t,i,e){let r=Dn(t);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){let n=[];r.Fa.forEach((a,s)=>{let o=s.view.Z_(i);o.snapshot&&n.push(o.snapshot)}),function(s,o){let u=Dn(s);u.onlineState=o;let l=!1;u.queries.forEach((c,h)=>{for(let d of h.j_)d.Z_(o)&&(l=!0)}),l&&RL(u)}(r.eventManager,i),n.length&&r.Ca.d_(n),r.onlineState=i,r.isPrimaryClient&&r.sharedClientState.setOnlineState(i)}}function aMe(t,i,e){return Mt(this,null,function*(){let r=Dn(t);r.sharedClientState.updateQueryState(i,"rejected",e);let n=r.Na.get(i),a=n&&n.key;if(a){let s=new ka(cn.comparator);s=s.insert(a,Eh.newNoDocument(a,jn.min()));let o=yr().add(a),u=new $A(jn.min(),new Map,new ka(Lr),s,o);yield uQ(r,u),r.Oa=r.Oa.remove(a),r.Na.delete(i),kL(r)}else yield VO(r.localStore,i,!1).then(()=>rL(r,i,e)).catch(Cw)})}function oMe(t,i){return Mt(this,null,function*(){let e=Dn(t),r=i.batch.batchId;try{let n=yield RAe(e.localStore,i);hQ(e,r,null),dQ(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield Ew(e,n)}catch(n){yield Cw(n)}})}function lMe(t,i,e){return Mt(this,null,function*(){let r=Dn(t);try{let n=yield function(s,o){let u=Dn(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,o).next(h=>(ds(h!==null),c=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,i);hQ(r,i,e),dQ(r,i),r.sharedClientState.updateMutationState(i,"rejected",e),yield Ew(r,n)}catch(n){yield Cw(n)}})}function dQ(t,i){(t.ka.get(i)||[]).forEach(e=>{e.resolve()}),t.ka.delete(i)}function hQ(t,i,e){let r=Dn(t),n=r.Ba[r.currentUser.toKey()];if(n){let a=n.get(i);a&&(e?a.reject(e):a.resolve(),n=n.remove(i)),r.Ba[r.currentUser.toKey()]=n}}function rL(t,i,e=null){t.sharedClientState.removeLocalQueryTarget(i);for(let r of t.Ma.get(i))t.Fa.delete(r),e&&t.Ca.$a(r,e);t.Ma.delete(i),t.isPrimaryClient&&t.La.gr(i).forEach(r=>{t.La.containsKey(r)||fQ(t,r)})}function fQ(t,i){t.xa.delete(i.path.canonicalString());let e=t.Oa.get(i);e!==null&&(AL(t.remoteStore,e),t.Oa=t.Oa.remove(i),t.Na.delete(e),kL(t))}function m$(t,i,e){for(let r of e)r instanceof oM?(t.La.addReference(r.key,i),cMe(t,r)):r instanceof lM?(Hi("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,i),t.La.containsKey(r.key)||fQ(t,r.key)):Tn()}function cMe(t,i){let e=i.key,r=e.path.canonicalString();t.Oa.get(e)||t.xa.has(r)||(Hi("SyncEngine","New document in limbo: "+e),t.xa.add(r),kL(t))}function kL(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let i=t.xa.values().next().value;t.xa.delete(i);let e=new cn(ga.fromString(i)),r=t.qa.next();t.Na.set(r,new iL(e)),t.Oa=t.Oa.insert(e,r),nQ(t.remoteStore,new fw(Pf(k$(e.path)),r,"TargetPurposeLimboResolution",C$.oe))}}function Ew(t,i,e){return Mt(this,null,function*(){let r=Dn(t),n=[],a=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((o,u)=>{s.push(r.Ka(u,i,e).then(l=>{var c;if((l||e)&&r.isPrimaryClient){let h=l?!l.fromCache:(c=e?.targetChanges.get(u.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){n.push(l);let h=OO.Wi(u.targetId,l);a.push(h)}}))}),yield Promise.all(s),r.Ca.d_(n),yield function(u,l){return Mt(this,null,function*(){let c=Dn(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>di.forEach(l,d=>di.forEach(d.$i,f=>c.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>di.forEach(d.Ui,f=>c.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Sw(h))throw h;Hi("LocalStore","Failed to update sequence numbers: "+h)}for(let h of l){let d=h.targetId;if(!h.fromCache){let f=c.os.get(d),m=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(d,p)}}})}(r.localStore,a))})}function uMe(t,i){return Mt(this,null,function*(){let e=Dn(t);if(!e.currentUser.isEqual(i)){Hi("SyncEngine","User change. New user:",i.toKey());let r=yield tQ(e.localStore,i);e.currentUser=i,function(a,s){a.ka.forEach(o=>{o.forEach(u=>{u.reject(new Pi(Wt.CANCELLED,s))})}),a.ka.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(i,r.removedBatchIds,r.addedBatchIds),yield Ew(e,r.hs)}})}function dMe(t,i){let e=Dn(t),r=e.Na.get(i);if(r&&r.va)return yr().add(r.key);{let n=yr(),a=e.Ma.get(i);if(!a)return n;for(let s of a){let o=e.Fa.get(s);n=n.unionWith(o.view.Va)}return n}}function pQ(t){let i=Dn(t);return i.remoteStore.remoteSyncer.applyRemoteEvent=uQ.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=dMe.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=aMe.bind(null,i),i.Ca.d_=JAe.bind(null,i.eventManager),i.Ca.$a=qAe.bind(null,i.eventManager),i}function hMe(t){let i=Dn(t);return i.remoteStore.remoteSyncer.applySuccessfulWrite=oMe.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=lMe.bind(null,i),i}var g$=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return Mt(this,null,function*(){this.serializer=yM(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),yield this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)})}ja(e,r){return null}Ha(e,r){return null}za(e){return PAe(this.persistence,new NO,e.initialUser,this.serializer)}Ga(e){return new RO(FO.Zr,this.serializer)}Wa(e){return new zO}terminate(){return Mt(this,null,function*(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var fMe=(()=>{class t{initialize(e,r){return Mt(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>p$(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=uMe.bind(null,this.syncEngine),yield QAe(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new ZO}()}createDatastore(e){let r=yM(e.databaseInfo.databaseId),n=function(s){return new GO(s)}(e.databaseInfo);return function(s,o,u,l){return new XO(s,o,u,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,a,s,o,u){return new $O(n,a,s,o,u)}(this.localStore,this.datastore,e.asyncQueue,r=>p$(this.syncEngine,r,0),function(){return tM.D()?new tM:new UO}())}createSyncEngine(e,r){return function(a,s,o,u,l,c,h){let d=new nL(a,s,o,u,l,c);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return Mt(this,null,function*(){var e,r;yield function(a){return Mt(this,null,function*(){let s=Dn(a);Hi("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Tw(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var sL=class{constructor(i){this.observer=i,this.muted=!1}next(i){this.muted||this.observer.next&&this.Ya(this.observer.next,i)}error(i){this.muted||(this.observer.error?this.Ya(this.observer.error,i):Vp("Uncaught Error in snapshot listener:",i.toString()))}Za(){this.muted=!0}Ya(i,e){setTimeout(()=>{this.muted||i(e)},0)}};var aL=class{constructor(i,e,r,n,a){this.authCredentials=i,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=n,this.user=Uo.UNAUTHENTICATED,this.clientId=zA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,s=>Mt(this,null,function*(){Hi("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Hi("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}terminate(){this.asyncQueue.enterRestrictedMode();let i=new If;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>Mt(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),i.resolve()}catch(e){let r=PL(e,"Failed to shutdown persistence");i.reject(r)}})),i.promise}};function LF(t,i){return Mt(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),Hi("FirestoreClient","Initializing OfflineComponentProvider");let e=t.configuration;yield i.initialize(e);let r=e.initialUser;t.setCredentialChangeListener(n=>Mt(this,null,function*(){r.isEqual(n)||(yield tQ(i.localStore,n),r=n)})),i.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=i})}function v$(t,i){return Mt(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let e=yield pMe(t);Hi("FirestoreClient","Initializing OnlineComponentProvider"),yield i.initialize(e,t.configuration),t.setCredentialChangeListener(r=>d$(i.remoteStore,r)),t.setAppCheckTokenChangeListener((r,n)=>d$(i.remoteStore,n)),t._onlineComponents=i})}function pMe(t){return Mt(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Hi("FirestoreClient","Using user provided OfflineComponentProvider");try{yield LF(t,t._uninitializedComponentsProvider._offline)}catch(i){let e=i;if(!function(n){return n.name==="FirebaseError"?n.code===Wt.FAILED_PRECONDITION||n.code===Wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}(e))throw e;B1("Error using user provided cache. Falling back to memory cache: "+e),yield LF(t,new g$)}}else Hi("FirestoreClient","Using default OfflineComponentProvider"),yield LF(t,new g$);return t._offlineComponents})}function mQ(t){return Mt(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(Hi("FirestoreClient","Using user provided OnlineComponentProvider"),yield v$(t,t._uninitializedComponentsProvider._online)):(Hi("FirestoreClient","Using default OnlineComponentProvider"),yield v$(t,new fMe))),t._onlineComponents})}function mMe(t){return mQ(t).then(i=>i.syncEngine)}function gMe(t){return Mt(this,null,function*(){let i=yield mQ(t),e=i.eventManager;return e.onListen=eMe.bind(null,i.syncEngine),e.onUnlisten=nMe.bind(null,i.syncEngine),e.onFirstRemoteStoreListen=tMe.bind(null,i.syncEngine),e.onLastRemoteStoreUnlisten=rMe.bind(null,i.syncEngine),e})}function vMe(t,i,e={}){let r=new If;return t.asyncQueue.enqueueAndForget(()=>Mt(this,null,function*(){return function(a,s,o,u,l){let c=new sL({next:d=>{c.Za(),s.enqueueAndForget(()=>ZAe(a,h)),d.fromCache&&u.source==="server"?l.reject(new Pi(Wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new qO(o,c,{includeMetadataChanges:!0,_a:!0});return KAe(a,h)}(yield gMe(t),t.asyncQueue,i,e,r)})),r.promise}function gQ(t){let i={};return t.timeoutSeconds!==void 0&&(i.timeoutSeconds=t.timeoutSeconds),i}var y$=new Map;function vQ(t,i,e){if(!e)throw new Pi(Wt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${i}.`)}function yMe(t,i,e,r){if(i===!0&&r===!0)throw new Pi(Wt.INVALID_ARGUMENT,`${t} and ${e} cannot be used together.`)}function x$(t){if(!cn.isDocumentKey(t))throw new Pi(Wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function b$(t){if(cn.isDocumentKey(t))throw new Pi(Wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _M(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let i=function(r){return r.constructor?r.constructor.name:null}(t);return i?`a custom ${i} object`:"an object"}}return typeof t=="function"?"a function":Tn()}function cM(t,i){if("_delegate"in t&&(t=t._delegate),!(t instanceof i)){if(i.name===t.constructor.name)throw new Pi(Wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let e=_M(t);throw new Pi(Wt.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${e}`)}}return t}function xMe(t,i){if(i<=0)throw new Pi(Wt.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${i}.`)}var uM=class{constructor(i){var e,r;if(i.host===void 0){if(i.ssl!==void 0)throw new Pi(Wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=(e=i.ssl)===null||e===void 0||e;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,this.localCache=i.localCache,i.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(i.cacheSizeBytes!==-1&&i.cacheSizeBytes<1048576)throw new Pi(Wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}yMe("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:i.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gQ((r=i.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Pi(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Pi(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Pi(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!i.useFetchStreams}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&function(r,n){return r.timeoutSeconds===n.timeoutSeconds}(this.experimentalLongPollingOptions,i.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}},$1=class{constructor(i,e,r,n){this._authCredentials=i,this._appCheckCredentials=e,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uM({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pi(Wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(i){if(this._settingsFrozen)throw new Pi(Wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uM(i),i.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new NF;switch(r.type){case"firstParty":return new UF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pi(Wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return Mt(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let r=y$.get(e);r&&(Hi("ComponentProvider","Removing Datastore"),y$.delete(e),r.terminate())}(this),Promise.resolve()}};function bMe(t,i,e,r={}){var n;let a=(t=cM(t,$1))._getSettings(),s=`${i}:${e}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&B1("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let o,u;if(typeof r.mockUserToken=="string")o=r.mockUserToken,u=Uo.MOCK_USER;else{o=bY(r.mockUserToken,(n=t._app)===null||n===void 0?void 0:n.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Pi(Wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Uo(l)}t._authCredentials=new BF(new VA(o,u))}}var f0=class t{constructor(i,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=i}withConverter(i){return new t(this.firestore,i,this._query)}},Vd=class t{constructor(i,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new l0(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new t(this.firestore,i,this._key)}},l0=class t extends f0{constructor(i,e,r){super(i,e,k$(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let i=this._path.popLast();return i.isEmpty()?null:new Vd(this.firestore,null,new cn(i))}withConverter(i){return new t(this.firestore,i,this._path)}};function FL(t,i,...e){if(t=zg(t),vQ("collection","path",i),t instanceof $1){let r=ga.fromString(i,...e);return b$(r),new l0(t,null,r)}{if(!(t instanceof Vd||t instanceof l0))throw new Pi(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ga.fromString(i,...e));return b$(r),new l0(t.firestore,null,r)}}function _Me(t,i,...e){if(t=zg(t),arguments.length===1&&(i=zA.newId()),vQ("doc","path",i),t instanceof $1){let r=ga.fromString(i,...e);return x$(r),new Vd(t,null,new cn(r))}{if(!(t instanceof Vd||t instanceof l0))throw new Pi(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ga.fromString(i,...e));return x$(r),new Vd(t.firestore,t instanceof l0?t.converter:null,new cn(r))}}var dM=class{constructor(i=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new iM(this,"async_queue_retry"),this.Vu=()=>{let r=OF();r&&Hi("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=i;let e=OF();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.fu(),this.gu(i)}enterRestrictedMode(i){if(!this.Iu){this.Iu=!0,this.Au=i||!1;let e=OF();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(i){if(this.fu(),this.Iu)return new Promise(()=>{});let e=new If;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(i().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.Pu.push(i),this.pu()))}pu(){return Mt(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(i){if(!Sw(i))throw i;Hi("AsyncQueue","Operation failed with retryable error: "+i)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(i){let e=this.mu.then(()=>(this.du=!0,i().catch(r=>{this.Eu=r,this.du=!1;let n=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Vp("INTERNAL UNHANDLED ERROR: ",n),r}).then(r=>(this.du=!1,r))));return this.mu=e,e}enqueueAfterDelay(i,e,r){this.fu(),this.Ru.indexOf(i)>-1&&(e=0);let n=QO.createAndSchedule(this,i,e,r,a=>this.yu(a));return this.Tu.push(n),n}fu(){this.Eu&&Tn()}verifyOperationInProgress(){}wu(){return Mt(this,null,function*(){let i;do i=this.mu,yield i;while(i!==this.mu)})}Su(i){for(let e of this.Tu)if(e.timerId===i)return!0;return!1}bu(i){return this.wu().then(()=>{this.Tu.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(let e of this.Tu)if(e.skipDelay(),i!=="all"&&e.timerId===i)break;return this.wu()})}Du(i){this.Ru.push(i)}yu(i){let e=this.Tu.indexOf(i);this.Tu.splice(e,1)}};var gw=class extends $1{constructor(i,e,r,n){super(i,e,r,n),this.type="firestore",this._queue=new dM,this._persistenceKey=n?.name||"[DEFAULT]"}_terminate(){return Mt(this,null,function*(){if(this._firestoreClient){let i=this._firestoreClient.terminate();this._queue=new dM(i),this._firestoreClient=void 0,yield i}})}};function yQ(t,i){let e=typeof t=="object"?t:BY(),r=typeof t=="string"?t:i||"(default)",n=LY(e,"firestore").getImmediate({identifier:r});if(!n._initialized){let a=xY("firestore");a&&bMe(n,...a)}return n}function xQ(t){if(t._terminated)throw new Pi(Wt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wMe(t),t._firestoreClient}function wMe(t){var i,e,r;let n=t._freezeSettings(),a=function(o,u,l,c){return new XF(o,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,gQ(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((i=t._app)===null||i===void 0?void 0:i.options.appId)||"",t._persistenceKey,n);t._componentsProvider||!((e=n.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=n.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),t._firestoreClient=new aL(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){let u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(t._componentsProvider))}var vw=class t{constructor(i){this._byteString=i}static fromBase64String(i){try{return new t(Bl.fromBase64String(i))}catch(e){throw new Pi(Wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(i){return new t(Bl.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}};var yw=class{constructor(...i){for(let e=0;e<i.length;++e)if(i[e].length===0)throw new Pi(Wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $u(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}};var hM=class{constructor(i){this._methodName=i}};var xw=class{constructor(i,e){if(!isFinite(i)||i<-90||i>90)throw new Pi(Wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(e)||e<-180||e>180)throw new Pi(Wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=i,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return Lr(this._lat,i._lat)||Lr(this._long,i._long)}};var bw=class{constructor(i){this._values=(i||[]).map(e=>e)}toArray(){return this._values.map(i=>i)}isEqual(i){return function(r,n){if(r.length!==n.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==n[a])return!1;return!0}(this._values,i._values)}};var CMe=/^__.*__$/,oL=class{constructor(i,e,r){this.data=i,this.fieldMask=e,this.fieldTransforms=r}toMutation(i,e){return this.fieldMask!==null?new Hp(i,this.data,this.fieldMask,e,this.fieldTransforms):new Zg(i,this.data,e,this.fieldTransforms)}};function bQ(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tn()}}var lL=class t{constructor(i,e,r,n,a,s){this.settings=i,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=n,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(i){return new t(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(i){var e;let r=(e=this.path)===null||e===void 0?void 0:e.child(i),n=this.Fu({path:r,xu:!1});return n.Ou(i),n}Nu(i){var e;let r=(e=this.path)===null||e===void 0?void 0:e.child(i),n=this.Fu({path:r,xu:!1});return n.vu(),n}Lu(i){return this.Fu({path:void 0,xu:!0})}Bu(i){return fM(i,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(i){return this.fieldMask.find(e=>i.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>i.isPrefixOf(e.field))!==void 0}vu(){if(this.path)for(let i=0;i<this.path.length;i++)this.Ou(this.path.get(i))}Ou(i){if(i.length===0)throw this.Bu("Document fields must not be empty");if(bQ(this.Cu)&&CMe.test(i))throw this.Bu('Document fields cannot begin and end with "__"')}},cL=class{constructor(i,e,r){this.databaseId=i,this.ignoreUndefinedProperties=e,this.serializer=r||yM(i)}Qu(i,e,r,n=!1){return new lL({Cu:i,methodName:e,qu:r,path:$u.emptyPath(),xu:!1,ku:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function _Q(t){let i=t._freezeSettings(),e=yM(t._databaseId);return new cL(t._databaseId,!!i.ignoreUndefinedProperties,e)}function SMe(t,i,e,r,n,a={}){let s=t.Qu(a.merge||a.mergeFields?2:0,i,e,n);SQ("Data must be an object, but it was:",s,r);let o=wQ(r,s),u,l;if(a.merge)u=new Mf(s.fieldMask),l=s.fieldTransforms;else if(a.mergeFields){let c=[];for(let h of a.mergeFields){let d=EMe(i,h,e);if(!s.contains(d))throw new Pi(Wt.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);MMe(c,d)||c.push(d)}u=new Mf(c),l=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=s.fieldTransforms;return new oL(new Th(o),u,l)}function TMe(t,i,e,r=!1){return OL(e,t.Qu(r?4:3,i))}function OL(t,i){if(CQ(t=zg(t)))return SQ("Unsupported field value:",i,t),wQ(t,i);if(t instanceof hM)return function(r,n){if(!bQ(n.Cu))throw n.Bu(`${r._methodName}() can only be used with update() and set()`);if(!n.path)throw n.Bu(`${r._methodName}() is not currently supported inside arrays`);let a=r._toFieldTransform(n);a&&n.fieldTransforms.push(a)}(t,i),null;if(t===void 0&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),t instanceof Array){if(i.settings.xu&&i.Cu!==4)throw i.Bu("Nested arrays are not supported");return function(r,n){let a=[],s=0;for(let o of r){let u=OL(o,n.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}}(t,i)}return function(r,n){if((r=zg(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sAe(n.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let a=wo.fromDate(r);return{timestampValue:JA(n.serializer,a)}}if(r instanceof wo){let a=new wo(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:JA(n.serializer,a)}}if(r instanceof xw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vw)return{bytesValue:$$(n.serializer,r._byteString)};if(r instanceof Vd){let a=n.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw n.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:EL(r.firestore._databaseId||n.databaseId,r._key.path)}}if(r instanceof bw)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Bu("VectorValues must only contain numeric values.");return TL(o.serializer,u)})}}}}}}(r,n);throw n.Bu(`Unsupported field value: ${_M(r)}`)}(t,i)}function wQ(t,i){let e={};return S$(t)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):K1(t,(r,n)=>{let a=OL(n,i.Mu(r));a!=null&&(e[r]=a)}),{mapValue:{fields:e}}}function CQ(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wo||t instanceof xw||t instanceof vw||t instanceof Vd||t instanceof hM||t instanceof bw)}function SQ(t,i,e){if(!CQ(e)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(e)){let r=_M(e);throw r==="an object"?i.Bu(t+" a custom object"):i.Bu(t+" "+r)}}function EMe(t,i,e){if((i=zg(i))instanceof yw)return i._internalPath;if(typeof i=="string")return TQ(t,i);throw fM("Field path arguments must be of type string or ",t,!1,void 0,e)}var AMe=new RegExp("[~\\*/\\[\\]]");function TQ(t,i,e){if(i.search(AMe)>=0)throw fM(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,e);try{return new yw(...i.split("."))._internalPath}catch{throw fM(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,e)}}function fM(t,i,e,r,n){let a=r&&!r.isEmpty(),s=n!==void 0,o=`Function ${i}() called with invalid data`;e&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${r}`),s&&(u+=` in document ${n}`),u+=")"),new Pi(Wt.INVALID_ARGUMENT,o+t+u)}function MMe(t,i){return t.some(e=>e.isEqual(i))}var pM=class{constructor(i,e,r,n,a){this._firestore=i,this._userDataWriter=e,this._key=r,this._document=n,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vd(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let i=new uL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){let e=this._document.data.field(LL("DocumentSnapshot.get",i));if(e!==null)return this._userDataWriter.convertValue(e)}}},uL=class extends pM{data(){return super.data()}};function LL(t,i){return typeof i=="string"?TQ(t,i):i instanceof yw?i._internalPath:i._delegate._internalPath}function IMe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pi(Wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _w=class{},ww=class extends _w{};function EQ(t,i,...e){let r=[];i instanceof _w&&r.push(i),r=r.concat(e),function(a){let s=a.filter(u=>u instanceof hL).length,o=a.filter(u=>u instanceof dL).length;if(s>1||s>0&&o>0)throw new Pi(Wt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let n of r)t=n._apply(t);return t}var dL=class t extends ww{constructor(i,e,r){super(),this._field=i,this._op=e,this._value=r,this.type="where"}static _create(i,e,r){return new t(i,e,r)}_apply(i){let e=this._parse(i);return IQ(i._query,e),new f0(i.firestore,i.converter,sO(i._query,e))}_parse(i){let e=_Q(i.firestore);return function(a,s,o,u,l,c,h){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Pi(Wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){w$(h,c);let f=[];for(let m of h)f.push(_$(u,a,m));d={arrayValue:{values:f}}}else d=_$(u,a,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||w$(h,c),d=TMe(o,s,h,c==="in"||c==="not-in");return eo.create(l,c,d)}(i._query,"where",e,i.firestore._databaseId,this._field,this._op,this._value)}};var hL=class t extends _w{constructor(i,e){super(),this.type=i,this._queryConstraints=e}static _create(i,e){return new t(i,e)}_parse(i){let e=this._queryConstraints.map(r=>r._parse(i)).filter(r=>r.getFilters().length>0);return e.length===1?e[0]:Ah.create(e,this._getOperator())}_apply(i){let e=this._parse(i);return e.getFilters().length===0?i:(function(n,a){let s=n,o=a.getFlattenedFilters();for(let u of o)IQ(s,u),s=sO(s,u)}(i._query,e),new f0(i.firestore,i.converter,sO(i._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var fL=class t extends ww{constructor(i,e){super(),this._field=i,this._direction=e,this.type="orderBy"}static _create(i,e){return new t(i,e)}_apply(i){let e=function(n,a,s){if(n.startAt!==null)throw new Pi(Wt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(n.endAt!==null)throw new Pi(Wt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $g(a,s)}(i._query,this._field,this._direction);return new f0(i.firestore,i.converter,function(n,a){let s=n.explicitOrderBy.concat([a]);return new u0(n.path,n.collectionGroup,s,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}(i._query,e))}};function AQ(t,i="asc"){let e=i,r=LL("orderBy",t);return fL._create(r,e)}var pL=class t extends ww{constructor(i,e,r){super(),this.type=i,this._limit=e,this._limitType=r}static _create(i,e,r){return new t(i,e,r)}_apply(i){return new f0(i.firestore,i.converter,XA(i._query,this._limit,this._limitType))}};function MQ(t){return xMe("limit",t),pL._create("limit",t,"F")}function _$(t,i,e){if(typeof(e=zg(e))=="string"){if(e==="")throw new Pi(Wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F$(i)&&e.indexOf("/")!==-1)throw new Pi(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);let r=i.path.child(ga.fromString(e));if(!cn.isDocumentKey(r))throw new Pi(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return YY(t,new cn(r))}if(e instanceof Vd)return YY(t,e._key);throw new Pi(Wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_M(e)}.`)}function w$(t,i){if(!Array.isArray(t)||t.length===0)throw new Pi(Wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`)}function IQ(t,i){let e=function(n,a){for(let s of n)for(let o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(n){switch(n){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(i.op));if(e!==null)throw e===i.op?new Pi(Wt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${i.op.toString()}' filter.`):new Pi(Wt.INVALID_ARGUMENT,`Invalid query. You cannot use '${i.op.toString()}' filters with '${e.toString()}' filters.`)}var mL=class{convertValue(i,e="none"){switch(Yg(i)){case 0:return null;case 1:return i.booleanValue;case 2:return sa(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,e);case 5:return i.stringValue;case 6:return this.convertBytes(c0(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,e);case 11:return this.convertObject(i.mapValue,e);case 10:return this.convertVectorValue(i.mapValue);default:throw Tn()}}convertObject(i,e){return this.convertObjectMap(i.fields,e)}convertObjectMap(i,e="none"){let r={};return K1(i,(n,a)=>{r[n]=this.convertValue(a,e)}),r}convertVectorValue(i){var e,r,n;let a=(n=(r=(e=i.fields)===null||e===void 0?void 0:e.value.arrayValue)===null||r===void 0?void 0:r.values)===null||n===void 0?void 0:n.map(s=>sa(s.doubleValue));return new bw(a)}convertGeoPoint(i){return new xw(sa(i.latitude),sa(i.longitude))}convertArray(i,e){return(i.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(i,e){switch(e){case"previous":let r=_L(i);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(uw(i));default:return null}}convertTimestamp(i){let e=zp(i);return new wo(e.seconds,e.nanos)}convertDocumentKey(i,e){let r=ga.fromString(i);ds(eQ(r));let n=new jA(r.get(1),r.get(3)),a=new cn(r.popFirst(5));return n.isEqual(e)||Vp(`Document ${a} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}};function DMe(t,i,e){let r;return r=t?e&&(e.merge||e.mergeFields)?t.toFirestore(i,e):t.toFirestore(i):i,r}var O1=class{constructor(i,e){this.hasPendingWrites=i,this.fromCache=e}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}},gL=class extends pM{constructor(i,e,r,n,a,s){super(i,e,r,n,s),this._firestore=i,this._firestoreImpl=i,this.metadata=a}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){let e=new N1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,e={}){if(this._document){let r=this._document.data.field(LL("DocumentSnapshot.get",i));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}},N1=class extends gL{data(i={}){return super.data(i)}},vL=class{constructor(i,e,r,n){this._firestore=i,this._userDataWriter=e,this._snapshot=n,this.metadata=new O1(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){let i=[];return this.forEach(e=>i.push(e)),i}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(i,e){this._snapshot.docs.forEach(r=>{i.call(e,new N1(this._firestore,this._userDataWriter,r.key,r,new O1(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){let e=!!i.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Pi(Wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(n,a){if(n._snapshot.oldDocs.isEmpty()){let s=0;return n._snapshot.docChanges.map(o=>{let u=new N1(n._firestore,n._userDataWriter,o.doc.key,o.doc,new O1(n._snapshot.mutatedKeys.has(o.doc.key),n._snapshot.fromCache),n.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{let u=new N1(n._firestore,n._userDataWriter,o.doc.key,o.doc,new O1(n._snapshot.mutatedKeys.has(o.doc.key),n._snapshot.fromCache),n.query.converter),l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:PMe(o.type),doc:u,oldIndex:l,newIndex:c}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}};function PMe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tn()}}var yL=class extends mL{constructor(i){super(),this.firestore=i}convertBytes(i){return new vw(i)}convertReference(i){let e=this.convertDocumentKey(i,this.firestore._databaseId);return new Vd(this.firestore,null,e)}};function DQ(t){t=cM(t,f0);let i=cM(t.firestore,gw),e=xQ(i),r=new yL(i);return IMe(t._query),vMe(e,t._query).then(n=>new vL(i,r,t,n))}function PQ(t,i){let e=cM(t.firestore,gw),r=_Me(t),n=DMe(t.converter,i);return RMe(e,[SMe(_Q(t.firestore),"addDoc",r._key,n,t.converter!==null,{}).toMutation(r._key,jg.exists(!1))]).then(()=>r)}function RMe(t,i){return function(r,n){let a=new If;return r.asyncQueue.enqueueAndForget(()=>Mt(this,null,function*(){return sMe(yield mMe(r),n,a)})),a.promise}(xQ(t),i)}(function(i,e=!0){(function(n){Q1=n})(NY),ew(new Lp("firestore",(r,{instanceIdentifier:n,options:a})=>{let s=r.getProvider("app").getImmediate(),o=new gw(new VF(r.getProvider("auth-internal")),new GF(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Pi(Wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jA(l.options.projectId,c)}(s,n),s);return a=Object.assign({useFetchStreams:e},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),a0(GY,"4.7.3",i),a0(GY,"4.7.3","esm2017")})();var wM=(()=>{class t{constructor(e){this.terminologyService=e,this.goals=[{name:"Bronze",score:100},{name:"Silver",score:200},{name:"Gold",score:300},{name:"Platinum",score:400},{name:"Diamond",score:500}],this.difficultyLevels=[{name:"Easy",rules:{maxHitPoints:5,hitpointsAwardedForGuessingfullTerm:1,freeHints:2,pointsPerGuessedLetter:1,goals:this.goals,difficultyBonus:0,endless:!1,maxRoundTime:60}},{name:"Medium",rules:{maxHitPoints:4,hitpointsAwardedForGuessingfullTerm:1,freeHints:1,pointsPerGuessedLetter:2,goals:this.goals,difficultyBonus:50,endless:!1,maxRoundTime:50}},{name:"Hard",rules:{maxHitPoints:3,hitpointsAwardedForGuessingfullTerm:1,freeHints:0,pointsPerGuessedLetter:3,goals:this.goals,difficultyBonus:100,endless:!1,maxRoundTime:40}},{name:"Endless",rules:{maxHitPoints:3,hitpointsAwardedForGuessingfullTerm:1,freeHints:0,pointsPerGuessedLetter:3,goals:this.goals,difficultyBonus:100,endless:!0,maxRoundTime:30}}],this.rules=this.difficultyLevels[0].rules,this.fsn="",this.scg="",this.focusConcepts=[],this.attributePairs=[],this.usedHints=new Set,this.randomLimit=4e3,this.guessResult=new Tt,this.termResult=new Tt,this.game=new Rn(this.initialize())}loadMenu(){this.clearRoundTimer(),this.game.next(Ri(ht({},this.game.value),{state:"menu"}))}getDifficultyLevels(){return this.difficultyLevels}newRound(e){return Mt(this,null,function*(){this.clearRoundTimer(),this.game.next(Ri(ht({},this.game.value),{state:"choosingTerm",score:e?0:this.game.value.score,hitPoints:e?this.rules.maxHitPoints:this.game.value.hitPoints,round:e?1:this.game.value.round+1,remainingTime:this.rules.maxRoundTime}));let r=Math.floor(Math.random()*this.randomLimit)+1,n=yield Ir(this.terminologyService.expandValueSetFromServer(this.terminologyService.getSnowstormFhirBase(),"http://snomed.info/sct/705115006","^ 816080008 |International Patient Summary| {{ C definitionStatus = defined }}","",r,1));this.randomLimit=n.expansion.total-1;let a=yield Ir(this.terminologyService.lookupConcept(n.expansion.contains[0].code)),s=this.extractFSN(a);this.fsn=s||"";let o=this.extractScg(a);this.scg=o||"";let u=this.extractFocusConcepts(o||"");this.focusConcepts=u||[];let l=this.extractAttributePairs(o||"");this.attributePairs=l||[],s?this.initializeRound(s,e):this.initializeRound("No term found"),this.usedHints.clear()})}extractFSN(e){let r=this.extractTerm(e,"900000000000003001",this.terminologyService.getLang());return r||(r=this.extractTerm(e,"900000000000013009",this.terminologyService.getLang())),r||(r=this.extractTerm(e,"900000000000003001","en")),r}extractTerm(e,r,n){let a="";return e.parameter.forEach(s=>{if(s.name==="designation"){let o=s.part.some(l=>l.name==="use"&&l.valueCoding.code===r),u=s.part.some(l=>l.name==="language"&&l.valueCode===n);o&&u&&(a=s.part.find(l=>l.name==="value")?.valueString)}}),a}extractScg(e){let r;return e.parameter.forEach(n=>{n.name==="property"&&n.part.some(a=>a.name==="code"&&a.valueString==="normalForm")&&(r=n.part.find(a=>a.name==="valueString")?.valueString)}),r}extractFocusConcepts(e){let[r]=e.split(":").map(o=>o.trim()),n=/\d+\|.*?\|/g,a=r.match(n);return a?a.map(o=>{let u=this.transformSnomedConcept(o.trim());return u||{code:"",display:""}}).filter(o=>o.code!==""):[]}extractAttributePairs(e){let r=e.split(":").slice(1).join(":").trim(),n=/(\d+\|.*?\|)\s*=\s*(\d+\|.*?\|)/g,a,s=[];for(;(a=n.exec(r))!==null;){let o=this.transformSnomedConcept(a[1].trim()),u=this.transformSnomedConcept(a[2].trim());o&&u&&s.push({type:o,target:u})}return s}transformSnomedConcept(e){let r=/^(\d+)\|(.+?)\|$/,n=e.match(r);return n?{code:n[1],display:n[2]}:null}initialize(){return{term:"",displayTerm:[],hitPoints:this.rules.maxHitPoints,hintsAvailable:!0,hints:[],state:"menu",score:0,round:0,rules:this.rules,difficultyLevel:"",startTimestamp:0,endTimestamp:0,difficultyBonus:0,livesBonus:0,timeBonus:0,maxRoundTime:0,remainingTime:0}}startGame(e){this.clearRoundTimer(),this.rules=this.difficultyLevels.find(r=>r.name.toLowerCase()===e.toLowerCase())?.rules,this.game.next({term:"",displayTerm:[],hitPoints:this.rules.maxHitPoints,hintsAvailable:!0,hints:[],state:"playing",score:0,round:0,rules:this.rules,difficultyLevel:e,startTimestamp:Date.now(),endTimestamp:0,difficultyBonus:0,livesBonus:0,timeBonus:0,maxRoundTime:this.rules.maxRoundTime,remainingTime:this.rules.maxRoundTime}),this.newRound(!0)}initializeRound(e,r){let n=e.match(/\(([^)]+)\)$/),a=n?n[0]:"",s=a?e.lastIndexOf(a):e.length,o=e.split("").map((u,l)=>l>=s?u:/[a-zA-Z0-9-]/.test(u)?"_":u);this.game.next(Ri(ht({},this.game.value),{term:e,displayTerm:o,hitPoints:r?this.rules.maxHitPoints:this.game.value.hitPoints,hints:[],state:"playing",score:r?0:this.game.value.score,remainingTime:this.rules.maxRoundTime})),this.startRoundTimer();for(let u=0;u<this.rules.freeHints;u++)this.revealHint(!0)}removeAccents(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}guessLetter(e){let r=ht({},this.game.value),n=!1,a=r.term.lastIndexOf("("),s=a!==-1?a:r.term.length;if(r.term.split("").forEach((o,u)=>{u<s&&r.displayTerm[u]==="_"&&this.removeAccents(o.toLowerCase())===this.removeAccents(e.toLowerCase())&&(r.displayTerm[u]=o,n=!0,r.score+=this.rules.pointsPerGuessedLetter)}),!n)this.guessResult.emit({letter:e,result:!1}),r.hitPoints-=1,r.hitPoints<=0&&(r.hitPoints=0,r.state="gameOver",r.endTimestamp=Date.now(),r.difficultyBonus=this.rules.difficultyBonus,r.score+=r.difficultyBonus,this.clearRoundTimer());else if(this.guessResult.emit({letter:e,result:!0}),r.displayTerm.slice(0,s).indexOf("_")===-1&&r.state==="playing")if(this.termResult.emit(r.term),this.clearRoundTimer(),r.score>this.goals[this.goals.length-1].score&&this.rules.endless===!1){r.state="won",r.endTimestamp=Date.now(),r.difficultyBonus=this.rules.difficultyBonus,r.livesBonus=r.hitPoints*10;let u=Math.round((r.endTimestamp-r.startTimestamp)/1e3);r.timeBonus=Math.max(0,180-u),r.score+=r.difficultyBonus+r.livesBonus+r.timeBonus}else r.hitPoints=r.hitPoints+this.rules.hitpointsAwardedForGuessingfullTerm,r.hitPoints>this.rules.maxHitPoints&&(r.hitPoints=this.rules.maxHitPoints),setTimeout(()=>{this.newRound()},1500);this.game.next(r)}revealHint(e){let r=ht({},this.game.value),n="";if(this.focusConcepts.length===0&&this.attributePairs.length===0){r.hints.push("No more hints available."),this.game.next(r);return}let a=this.focusConcepts.length>0,s=this.attributePairs.length>0;if(a&&s&&(a=Math.random()<.5),a){let o=Math.floor(Math.random()*this.focusConcepts.length);n=`One of the parents of this concept is: <i>${this.focusConcepts[o].display}</i>`,this.focusConcepts.splice(o,1)}else if(s){let o=Math.floor(Math.random()*this.attributePairs.length),u=this.attributePairs[o];n=`This concept has a <i>${u.type.display}</i> of <i>${u.target.display}</i>`,this.attributePairs.splice(o,1)}this.usedHints.add(n),r.hints.push(n),e||(r.hitPoints-=1),r.hintsAvailable=this.focusConcepts.length>0||this.attributePairs.length>0,this.game.next(r),r.hitPoints<=0&&(r.hitPoints=0,r.state="gameOver",r.endTimestamp=Date.now(),this.clearRoundTimer(),this.game.next(r))}getGameState(){return this.game.asObservable()}startRoundTimer(){this.roundTimer=setInterval(()=>{let e=this.game.value,r=e.remainingTime-1,n=Ri(ht({},e),{remainingTime:r});r<=0?(n.remainingTime=0,n.state="gameOver",n.endTimestamp=Date.now(),this.clearRoundTimer(),this.game.next(n)):this.game.next(n)},1e3)}clearRoundTimer(){this.roundTimer&&(clearInterval(this.roundTimer),this.roundTimer=null)}static{this.\u0275fac=function(r){return new(r||t)(yi(An))}}static{this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var kQ=(()=>{class t{constructor(){this.loadingProgress=new Rn(0)}preloadImages(e){let r=e.map((n,a)=>this.preloadImage(n,e.length,a));return Promise.all(r).then(()=>{this.loadingProgress.next(100)})}preloadImage(e,r,n){return new Promise((a,s)=>{let o=new Image;o.src=e,o.onload=()=>{let u=(n+1)/r*100;this.loadingProgress.next(u),a()},o.onerror=s})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var CM=(()=>{class t{constructor(){this.db=yQ(),this.scoreLimit=20}addScore(e,r){return Mt(this,null,function*(){try{let n=yield PQ(FL(this.db,e),r)}catch(n){console.error("Error adding document: ",n)}})}getScores(e){return Mt(this,null,function*(){let r=FL(this.db,e),n=EQ(r,AQ("score","desc"),MQ(this.scoreLimit));return(yield DQ(n)).docs.map(s=>ht({id:s.id},s.data()))})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function FMe(t,i){if(t&1){let e=Ye();B(0,"button",4),we("click",function(){let n=Me(e).$implicit,a=pe(2);return Ie(a.guessLetter(n))}),J(1),U()}if(t&2){let e=i.$implicit,r=pe(2);Ut("guessed-correct",r.guessedLetters[e]==="correct")("guessed-wrong",r.guessedLetters[e]==="wrong"),oe("disabled",r.isLetterGuessed(e)),K(),It(" ",e," ")}}function OMe(t,i){if(t&1&&(B(0,"div",2),Te(1,FMe,2,6,"button",3),U()),t&2){let e=i.$implicit;K(),oe("ngForOf",e)}}var OQ=(()=>{class t{constructor(){this.keyboardLayout=[["1","2","3","4","5","6","7","8","9","0"],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],this.guessedLetters={},this.letterGuessed=new Tt}addGuessedLetter(e,r){this.guessedLetters[e]=r?"correct":"wrong"}guessLetter(e){this.letterGuessed.emit(e)}isLetterGuessed(e){return e in this.guessedLetters}markLetterAsGuessed(e,r){this.guessedLetters[e]=r}reset(){this.guessedLetters={}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-keyboard"]],outputs:{letterGuessed:"letterGuessed"},standalone:!1,decls:2,vars:1,consts:[[1,"keyboard-container"],["class","keyboard-row",4,"ngFor","ngForOf"],[1,"keyboard-row"],["mat-button","",3,"guessed-correct","guessed-wrong","disabled","click",4,"ngFor","ngForOf"],["mat-button","",3,"click","disabled"]],template:function(r,n){r&1&&(B(0,"div",0),Te(1,OMe,2,1,"div",1),U()),r&2&&(K(),oe("ngForOf",n.keyboardLayout))},dependencies:[qi,ln],styles:[".keyboard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.keyboard-row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:5px;flex-wrap:wrap}button[_ngcontent-%COMP%]{margin:2px;padding:8px 6px;border-radius:8px;border:1px solid #000;transition:background-color .3s ease;min-width:40px;flex:1}button.guessed-correct[_ngcontent-%COMP%]{background-color:green;color:#fff}button.guessed-wrong[_ngcontent-%COMP%]{background-color:red;color:#fff}@media (max-width: 768px){.keyboard-row[_ngcontent-%COMP%]{margin:1px 0}.keyboard-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1px;padding:8px;min-width:0;width:9%;flex:1 1 auto;font-size:14px}}"]})}}return t})();var LQ=(()=>{class t{constructor(){this.tooltipDismissedKey="iosSafariTooltipDismissed"}isIosSafari(){return/iP(ad|od|hone)/i.test(window.navigator.userAgent)&&/Safari/i.test(window.navigator.userAgent)&&!/CriOS/i.test(window.navigator.userAgent)&&!/FxiOS/i.test(window.navigator.userAgent)}tooltipDismissed(){return localStorage.getItem(this.tooltipDismissedKey)==="true"}dismissTooltip(){localStorage.setItem(this.tooltipDismissedKey,"true")}isRunningStandalone(){return"standalone"in window.navigator&&window.navigator.standalone}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function BMe(t,i){if(t&1){let e=Ye();B(0,"div",1)(1,"div",2),J(2," Install this webapp on your iPhone: tap "),B(3,"mat-icon"),J(4,"ios_share"),U(),J(5," and then 'Add to Home Screen' "),U(),B(6,"button",3),we("click",function(){Me(e);let n=pe();return Ie(n.dismiss())}),B(7,"mat-icon"),J(8,"close"),U()()()}}var NQ=(()=>{class t{constructor(e){this.platformDetectionService=e,this.isIosSafari=!1,this.tooltipDismissed=!1}ngOnInit(){this.isIosSafari=this.platformDetectionService.isIosSafari(),this.tooltipDismissed=this.platformDetectionService.tooltipDismissed()||this.platformDetectionService.isRunningStandalone()}dismiss(){this.tooltipDismissed=!0,this.platformDetectionService.dismissTooltip()}static{this.\u0275fac=function(r){return new(r||t)(je(LQ))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-add-to-home"]],standalone:!1,decls:1,vars:1,consts:[["class","custom-tooltip",4,"ngIf"],[1,"custom-tooltip"],[1,"tooltip-text"],[1,"tooltip-dismiss-button",3,"click"]],template:function(r,n){r&1&&Te(0,BMe,9,0,"div",0),r&2&&oe("ngIf",n.isIosSafari&&!n.tooltipDismissed)},dependencies:[Xi,pn],styles:['.custom-tooltip[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background:#fff;border-radius:8px;padding:16px;box-shadow:0 4px 8px #0003;display:flex;flex-direction:row;align-items:center;max-width:320px;box-sizing:border-box;z-index:1000}.custom-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-20px;left:50%;transform:translate(-50%);width:0;height:0;border-left:20px solid transparent;border-right:20px solid transparent;border-top:20px solid white}.tooltip-icon[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-radius:50%;padding:10px;margin-right:16px}.tooltip-text[_ngcontent-%COMP%]{color:#333;font-size:16px}.tooltip-dismiss-button[_ngcontent-%COMP%]{margin-left:auto;background:transparent;border:none;cursor:pointer}.tooltip-dismiss-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;vertical-align:bottom}']})}}return t})();var SM=(()=>{class t{transform(e,...r){if(!e)return e;let n=Math.floor(e/1e3%60),a=Math.floor(e/(1e3*60)%60),s=Math.floor(e/(1e3*60*60)%24),o=s===0&&a<10?a.toString():a<10?"0"+a:a,u=s===0&&a===0&&n<10?n.toString():n<10?"0"+n:n,l=s<10?"0"+s:s,c="";return s>0&&(c+=`${l}h `),(a>0||s>0)&&(c+=`${o}m `),c+=`${u}s`,c}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Td({name:"elapsedTime",type:t,pure:!0,standalone:!1})}}return t})();var zMe=["keyboard"],VQ=()=>[],UMe=(t,i)=>[t,i],NL=t=>[t],zQ=t=>[t,"shadow-local"],HMe=t=>[t,"trophy-large","shadow-local"];function GMe(t,i){if(t&1&&(B(0,"div",8)(1,"div",9)(2,"div",10),J(3," Loading... "),U(),He(4,"mat-progress-bar",11),U()()),t&2){let e=pe(2);K(4),oe("value",e.loadingAssetsProgress)}}function jMe(t,i){t&1&&(B(0,"span")(1,"mat-icon"),J(2,"favorite"),U()())}function WMe(t,i){t&1&&(B(0,"span")(1,"mat-icon"),J(2,"favorite_border"),U()())}function XMe(t,i){if(t&1&&(B(0,"span"),J(1),U()),t&2){let e=i.$implicit;K(),vt(e)}}function YMe(t,i){if(t&1&&(B(0,"span",33),Te(1,XMe,2,1,"span",18),U()),t&2){let e=i.$implicit;K(),oe("ngForOf",e.split(""))}}function $Me(t,i){if(t&1&&(B(0,"div",31),Te(1,YMe,2,1,"span",32),U()),t&2){let e=pe(2).ngIf;K(),oe("ngForOf",e.displayTerm.join("").split(" "))}}function QMe(t,i){t&1&&(B(0,"div",34)(1,"div",35),J(2," Choosing a random SNOMED CT concept using the FHIR API "),U(),He(3,"mat-progress-bar",36),U())}function KMe(t,i){if(t&1){let e=Ye();B(0,"div",37),we("click",function(){Me(e);let n=pe(3);return Ie(n.revealHint())}),J(1," Reveal Hint "),U()}}function ZMe(t,i){if(t&1){let e=Ye();B(0,"div",37),we("click",function(){Me(e);let n=pe(3);return Ie(n.loadMenu())}),J(1," Abandon game "),U()}}function JMe(t,i){if(t&1&&He(0,"li",41),t&2){let e=i.$implicit;oe("innerHTML",e,Yc)}}function qMe(t,i){if(t&1&&(B(0,"div",38)(1,"div",39)(2,"h2"),J(3,"Hints:"),U(),B(4,"ul"),Te(5,JMe,1,1,"li",40),U()()()),t&2){let e=pe(2).ngIf;K(5),oe("ngForOf",e.hints)}}function eIe(t,i){if(t&1&&(B(0,"mat-icon",47),J(1,"grade"),U()),t&2){let e=pe().$implicit,r=pe(3);Fr("left",r.calculateGoalPosition(e.score-5),"%"),oe("ngClass",Ia(3,NL,e.name.toLowerCase()))}}function tIe(t,i){if(t&1&&(B(0,"mat-icon",48),J(1,"grade"),U()),t&2){let e=pe().$implicit,r=pe(3);Fr("left",r.calculateGoalPosition(e.score-1),"%"),oe("ngClass",Ia(3,NL,e.name.toLowerCase()))}}function iIe(t,i){if(t&1&&(B(0,"div",49),J(1),U()),t&2){let e=pe().$implicit,r=pe(3);Fr("left",r.calculateGoalPosition(e.score),"%"),oe("ngClass",Ia(4,NL,e.name.toLowerCase())),K(),It("",e.name," trophy!")}}function nIe(t,i){if(t&1&&(Ni(0),He(1,"div",42),Te(2,eIe,2,5,"mat-icon",43),B(3,"mat-icon",44),J(4,"emoji_events"),U(),Te(5,tIe,2,5,"mat-icon",45)(6,iIe,2,6,"div",46),Bi()),t&2){let e=i.$implicit,r=pe(2).ngIf,n=pe();K(),cs(e.name.toLowerCase()),Fr("left",n.calculateGoalPosition(e.score),"%"),K(),oe("ngIf",r.score>=e.score),K(),Fr("left",n.calculateGoalPosition(e.score-3),"%"),oe("ngClass",Ty(10,UMe,e.name.toLowerCase(),r.score>=e.score?"trophy-large":"")),K(2),oe("ngIf",r.score>=e.score),K(),oe("ngIf",r.score>=e.score)}}function rIe(t,i){if(t&1){let e=Ye();B(0,"div")(1,"div",12)(2,"div",13),He(3,"img",14),B(4,"div",15),J(5),U()()(),B(6,"div",16)(7,"span",17),J(8),U(),Te(9,jMe,3,0,"span",18)(10,WMe,3,0,"span",18),B(11,"span",17),J(12),U()(),Te(13,$Me,2,1,"div",19)(14,QMe,4,0,"div",20),B(15,"p",21),J(16,"Click the keys to guess the letters of the term!"),U(),B(17,"div")(18,"app-keyboard",22,0),we("letterGuessed",function(n){Me(e);let a=pe(2);return Ie(a.guessLetter(n))}),U()(),B(20,"div",23),Te(21,KMe,2,0,"div",24)(22,ZMe,2,0,"div",25),U(),Te(23,qMe,6,1,"div",26),B(24,"div",27),J(25," * Hints are generated from the definition of the SNOMED CT concept, retrieved from the FHIR API as an SCG grammar expression "),U(),B(26,"div",28)(27,"h3"),J(28,"Score Progression"),U(),B(29,"div",29),He(30,"mat-progress-bar",30),Te(31,nIe,7,13,"ng-container",18),U()()()}if(t&2){let e=pe().ngIf,r=pe();K(3),oe("@popIn",void 0),K(2),Dr(" ",e.difficultyLevel," - ",r.getLanguageName(r.selectedLanguage)," "),K(3),Dr(" Round: ",e.round," \xA0\xA0\xA0\xA0 Score: ",e.score," \xA0\xA0\xA0\xA0 Life: "),K(),oe("ngForOf",Or(16,VQ).constructor(e.hitPoints)),K(),oe("ngForOf",Or(17,VQ).constructor(e.rules.maxHitPoints-e.hitPoints)),K(2),It(" \xA0\xA0\xA0\xA0 Time to guess: ",e.remainingTime,""),K(),oe("ngIf",e.state=="playing"),K(),oe("ngIf",e.state==="choosingTerm"),K(3),oe("@shake",r.shakeState),K(4),oe("ngIf",e.state=="playing"&&e.hintsAvailable&&e.hitPoints>1),K(),oe("ngIf",e.state=="playing"),K(),oe("ngIf",e.hints.length>0&&e.state=="playing"),K(7),oe("value",r.calculateProgress(e.score)),K(),oe("ngForOf",r.goals)}}function sIe(t,i){if(t&1){let e=Ye();B(0,"div",50),He(1,"img",51)(2,"img",52),B(3,"p",53)(4,"b"),J(5,"Welcome to SnoGuess!"),U()(),B(6,"p",53),J(7," A fun way to learn about SNOMED CT concepts and their definitions. "),U(),B(8,"div",54),we("click",function(){Me(e);let n=pe(2);return Ie(n.chooseDifficultyLevel())}),J(9," New game "),U(),B(10,"div",54),we("click",function(){Me(e);let n=pe(2);return Ie(n.showInstructionsPanel())}),J(11," Instructions "),U(),B(12,"div",55),we("click",function(){Me(e);let n=pe(2);return Ie(n.openScoreboard())}),J(13," High Scores "),U(),B(14,"p",56),J(15," Playing with terms in the IPS Reference Set in "),B(16,"b"),J(17),U(),J(18,", change language: "),U(),B(19,"div",57)(20,"button",58),we("click",function(){Me(e);let n=pe(2);return Ie(n.setLanguage("da"))}),J(21,"DA"),U(),B(22,"button",58),we("click",function(){Me(e);let n=pe(2);return Ie(n.setLanguage("de"))}),J(23,"DE"),U(),B(24,"button",58),we("click",function(){Me(e);let n=pe(2);return Ie(n.setLanguage("en"))}),J(25,"EN"),U(),B(26,"button",58),we("click",function(){Me(e);let n=pe(2);return Ie(n.setLanguage("es"))}),J(27,"ES"),U(),B(28,"button",58),we("click",function(){Me(e);let n=pe(2);return Ie(n.setLanguage("et"))}),J(29,"ET"),U(),B(30,"button",58),we("click",function(){Me(e);let n=pe(2);return Ie(n.setLanguage("fi"))}),J(31,"FI"),U(),B(32,"button",58),we("click",function(){Me(e);let n=pe(2);return Ie(n.setLanguage("fr"))}),J(33,"FR"),U(),B(34,"button",58),we("click",function(){Me(e);let n=pe(2);return Ie(n.setLanguage("nl"))}),J(35,"NL"),U(),B(36,"button",58),we("click",function(){Me(e);let n=pe(2);return Ie(n.setLanguage("no"))}),J(37,"NO"),U(),B(38,"button",58),we("click",function(){Me(e);let n=pe(2);return Ie(n.setLanguage("sv"))}),J(39,"SV"),U()()()}if(t&2){let e=pe(2);K(2),oe("@popIn",void 0),K(6),oe("@scrollUp",void 0),K(2),oe("@scrollUp",void 0),K(2),oe("@scrollUp",void 0),K(5),vt(e.getLanguageName(e.selectedLanguage))}}function aIe(t,i){t&1&&(B(0,"span"),J(1,", Endless"),U())}function oIe(t,i){if(t&1){let e=Ye();B(0,"div",62)(1,"div",63),we("click",function(){let n=Me(e).$implicit,a=pe(3);return Ie(a.startGame(n.name))}),J(2),U(),B(3,"p",64),J(4),B(5,"mat-icon",65),J(6,"favorite"),U(),J(7),B(8,"mat-icon",66),J(9,"contact_support"),U(),J(10),B(11,"mat-icon",67),J(12,"timer"),U(),Te(13,aIe,2,0,"span",5),U()()}if(t&2){let e=i.$implicit;K(),oe("@scrollUp",void 0),K(),It(" ",e.name," "),K(),oe("@fadeInDelayed",void 0),K(),It(" Life: ",e.rules.maxHitPoints," "),K(3),It(", Free hints: ",e.rules.freeHints," "),K(3),Dr(", Points per letter: ",e.rules.pointsPerGuessedLetter,", Time to guess: ",e.rules.maxRoundTime," "),K(3),oe("ngIf",e.rules.endless)}}function lIe(t,i){if(t&1){let e=Ye();B(0,"div",50),He(1,"img",51)(2,"img",59),B(3,"p",53)(4,"b"),J(5,"Choose the game difficulty"),U()(),Te(6,oIe,14,8,"div",60),B(7,"div",61),we("click",function(){Me(e);let n=pe(2);return Ie(n.backToMenu())}),J(8," Back "),U()()}if(t&2){let e=pe(2);K(2),oe("@popIn",void 0),K(4),oe("ngForOf",e.difficultyLevels),K(),oe("@scrollUp",void 0)}}function cIe(t,i){if(t&1){let e=Ye();B(0,"div",50),He(1,"img",51)(2,"img",68),B(3,"ul",69)(4,"li",70)(5,"mat-icon"),J(6,"check"),U(),J(7,"Click the keys on the screen to guess the letters of the term "),B(8,"mat-icon",71),J(9,"keyboard"),U()(),B(10,"li",70)(11,"mat-icon"),J(12,"check"),U(),J(13,"You have three to five lives, depending on your difficulty level "),B(14,"span",72)(15,"mat-icon"),J(16,"favorite"),U(),B(17,"mat-icon"),J(18,"favorite"),U(),B(19,"mat-icon"),J(20,"favorite"),U()()(),B(21,"li",70)(22,"mat-icon"),J(23,"check"),U(),J(24,"There is also a maxmimum time to guess each term "),B(25,"mat-icon",73),J(26,"timer"),U()(),B(27,"li",70)(28,"mat-icon"),J(29,"check"),U(),J(30,"You will loose one life with each wrong guess "),B(31,"mat-icon",72),J(32,"favorite_border"),U()(),B(33,"li",70)(34,"mat-icon"),J(35,"check"),U(),J(36,"The game ends when you run out of lives or time"),B(37,"mat-icon",72),J(38,"close"),U()(),B(39,"li",70)(40,"mat-icon"),J(41,"check"),U(),J(42,"You earn points for each correct guess "),B(43,"mat-icon",71),J(44,"plus_one"),U()(),B(45,"li",70)(46,"mat-icon"),J(47,"check"),U(),J(48,"In Easy mode you get 2 hints for free, and in Medium mode you get one \u{1F4A1} "),U(),B(49,"li",70)(50,"mat-icon"),J(51,"check"),U(),J(52,"You can reveal more hints, but each hint it will cost one life "),B(53,"mat-icon",72),J(54,"favorite_border"),U()(),B(55,"li",70)(56,"mat-icon"),J(57,"check"),U(),J(58,"If you guess the whole term you can recover one life"),B(59,"mat-icon",72),J(60,"favorite"),U()(),B(61,"li",70)(62,"mat-icon"),J(63,"check"),U(),J(64,"Keep guessing terms to increase your score and earn trophies "),B(65,"mat-icon",74),J(66,"emoji_events"),U()(),B(67,"li",70)(68,"mat-icon"),J(69,"check"),U(),J(70,"Endless mode will not finish when you reach the Diamond Trophy "),B(71,"mat-icon",75),J(72,"emoji_events"),U()()(),B(73,"div",76),we("click",function(){Me(e);let n=pe(2);return Ie(n.hideInstructionsPanel())}),J(74," Back "),U()()}t&2&&(K(2),oe("@popIn",void 0),K(71),oe("@scrollUp",void 0))}function uIe(t,i){t&1&&(B(0,"div",77),He(1,"img",78),U()),t&2&&(K(),oe("@popIn",void 0))}function dIe(t,i){if(t&1&&(B(0,"div"),J(1),U()),t&2){let e=pe(2).ngIf,r=pe();K(),It(" Trophy: ",r.getMaxTrophyObtained(e.score)," ")}}function hIe(t,i){if(t&1&&(B(0,"div")(1,"mat-icon",88),J(2,"grade"),U(),J(3," \xA0\xA0 "),B(4,"mat-icon",88),J(5,"emoji_events"),U(),J(6," \xA0 "),B(7,"mat-icon",88),J(8,"grade"),U()()),t&2){let e=pe(2).ngIf,r=pe();K(),oe("ngClass",Ia(3,zQ,r.getMaxTrophyObtained(e.score).toLocaleLowerCase())),K(3),oe("ngClass",Ia(5,HMe,r.getMaxTrophyObtained(e.score).toLocaleLowerCase())),K(3),oe("ngClass",Ia(7,zQ,r.getMaxTrophyObtained(e.score).toLocaleLowerCase()))}}function fIe(t,i){t&1&&(B(0,"p",89),J(1,"Checking high scores..."),U())}function pIe(t,i){if(t&1){let e=Ye();B(0,"div",90)(1,"p",91),J(2," This is a High Score! Save a message to the public leaderboard! "),U(),B(3,"input",92),Gr("ngModelChange",function(n){Me(e);let a=pe(3);return Zr(a.messageForLeaderboard,n)||(a.messageForLeaderboard=n),Ie(n)}),U(),B(4,"div",93),we("click",function(){Me(e);let n=pe(2).ngIf,a=pe();return Ie(a.saveScore(n))}),J(5," Save "),U(),B(6,"p",94),J(7,"No personal information is recorded"),U()()}if(t&2){let e=pe(3);K(3),Hr("ngModel",e.messageForLeaderboard)}}function mIe(t,i){if(t&1){let e=Ye();B(0,"div",50),He(1,"img",51)(2,"img",79),B(3,"div",80)(4,"div"),J(5," The term was: "),U(),B(6,"div",81),J(7),U(),B(8,"div",82),J(9),U(),B(10,"div",83),J(11),pr(12,"elapsedTime"),U(),Te(13,dIe,2,1,"div",5),U(),Te(14,hIe,9,9,"div",5)(15,fIe,2,0,"p",84)(16,pIe,8,1,"div",85),B(17,"div",86),we("click",function(){Me(e);let n=pe(2);return n.loadMenu(),Ie(n.chooseDifficultyLevel())}),J(18," New game "),U(),B(19,"div",86),we("click",function(){Me(e);let n=pe(2);return Ie(n.openScoreboard())}),J(20," High Scores "),U(),B(21,"div",87),we("click",function(){Me(e);let n=pe(2);return Ie(n.loadMenu())}),J(22," Main menu "),U()()}if(t&2){let e=pe().ngIf,r=pe();K(2),oe("@popIn",void 0),K(5),It(" ",e.term,""),K(2),Dr("",e.round," ",e.round==1?"round":"rounds",""),K(2),_g(" Final Score: ",e.score," points - Difficulty: ",e.difficultyLevel," - Total time: ",Da(12,14,e.endTimestamp-e.startTimestamp)," "),K(2),oe("ngIf",r.getMaxTrophyObtained(e.score)),K(),oe("ngIf",r.getMaxTrophyObtained(e.score)),K(),oe("ngIf",r.highScoresLoading),K(),oe("ngIf",r.highScore),K(),oe("@scrollUp",void 0),K(2),oe("@scrollUp",void 0),K(2),oe("@scrollUp",void 0)}}function gIe(t,i){if(t&1&&(B(0,"span"),J(1),U()),t&2){let e=pe(2).ngIf;K(),It("\u2192 Bonus: ",e.livesBonus,"")}}function vIe(t,i){if(t&1&&(B(0,"span"),J(1),U()),t&2){let e=pe(2).ngIf;K(),It("\u2192 Bonus: ",e.difficultyBonus,"")}}function yIe(t,i){if(t&1&&(B(0,"span"),J(1),U()),t&2){let e=pe(2).ngIf;K(),It("\u2192 Bonus: ",e.timeBonus,"")}}function xIe(t,i){if(t&1){let e=Ye();B(0,"div",90)(1,"p",91),J(2," This is a High Score! Save a message to the public leaderboard! "),U(),B(3,"input",100),Gr("ngModelChange",function(n){Me(e);let a=pe(3);return Zr(a.messageForLeaderboard,n)||(a.messageForLeaderboard=n),Ie(n)}),U(),B(4,"div",101),we("click",function(){Me(e);let n=pe(2).ngIf,a=pe();return Ie(a.saveScore(n))}),J(5," Save "),U(),B(6,"p",94),J(7,"No personal information is recorded"),U()()}if(t&2){let e=pe(3);K(3),Hr("ngModel",e.messageForLeaderboard)}}function bIe(t,i){if(t&1){let e=Ye();B(0,"div",50),He(1,"img",51)(2,"img",95),B(3,"div",96)(4,"mat-icon",97),J(5,"grade"),U(),B(6,"mat-icon",97),J(7,"emoji_events"),U(),B(8,"mat-icon",97),J(9,"grade"),U()(),B(10,"div",98),J(11),Te(12,gIe,2,1,"span",5),U(),B(13,"div",98),J(14),Te(15,vIe,2,1,"span",5),U(),B(16,"div",98),J(17),pr(18,"elapsedTime"),Te(19,yIe,2,1,"span",5),U(),B(20,"div",99),J(21),U(),Te(22,xIe,8,1,"div",85),B(23,"div",86),we("click",function(){Me(e);let n=pe(2);return n.loadMenu(),Ie(n.chooseDifficultyLevel())}),J(24," New game "),U(),B(25,"div",86),we("click",function(){Me(e);let n=pe(2);return Ie(n.openScoreboard())}),J(26," High Scores "),U(),B(27,"div",87),we("click",function(){Me(e);let n=pe(2);return Ie(n.loadMenu())}),J(28," Main menu "),U()()}if(t&2){let e=pe().ngIf,r=pe();K(2),oe("@popIn",void 0),K(9),It("Lives left: ",e.hitPoints," "),K(),oe("ngIf",e.livesBonus>0),K(2),It("Difficulty: ",e.difficultyLevel," "),K(),oe("ngIf",e.difficultyBonus>0),K(2),It("Time: ",Da(18,12,e.endTimestamp-e.startTimestamp)," "),K(2),oe("ngIf",e.timeBonus>0),K(2),It("Final score: ",e.score,""),K(),oe("ngIf",r.highScore),K(),oe("@scrollUp",void 0),K(2),oe("@scrollUp",void 0),K(2),oe("@scrollUp",void 0)}}function _Ie(t,i){if(t&1&&(B(0,"div",3),Te(1,GMe,5,1,"div",4)(2,rIe,32,18,"div",5)(3,sIe,40,5,"div",6)(4,lIe,9,3,"div",6)(5,cIe,75,2,"div",6)(6,uIe,2,1,"div",7)(7,mIe,23,16,"div",6)(8,bIe,29,14,"div",6),U()),t&2){let e=i.ngIf,r=pe();K(),oe("ngIf",r.loadingAssets),K(),oe("ngIf",(e.state=="playing"||e.state=="choosingTerm")&&!r.loadingAssets),K(),oe("ngIf",e.state==="menu"&&!r.chooseDifficulty&&!r.showInstructions&&!r.loadingAssets),K(),oe("ngIf",e.state==="menu"&&r.chooseDifficulty&&!r.showInstructions&&!r.loadingAssets),K(),oe("ngIf",r.showInstructions),K(),oe("ngIf",r.termGuessed),K(),oe("ngIf",e.state==="gameOver"),K(),oe("ngIf",e.state=="won")}}var UQ=(()=>{class t{constructor(e,r,n,a,s){this.snoguessMainService=e,this.preloadService=r,this.terminologyService=n,this.firebaseService=a,this.router=s,this.shakeState="normal",this.termGuessed="",this.goals=[],this.loadingAssetsProgress=0,this.loadingAssets=!0,this.highScoresLoading=!1,this.showInstructions=!1,this.chooseDifficulty=!1,this.currentYear=new Date,this.difficultyLevels=[],this.elapsedTime=0,this.gameInProgress=!1,this.messageForLeaderboard="",this.highScore=!1}ngOnInit(){this.game=this.snoguessMainService.getGameState(),this.difficultyLevels=this.snoguessMainService.getDifficultyLevels(),this.game.subscribe(r=>{r.state==="playing"&&(this.goals=r.rules.goals),(r.state==="gameOver"||r.state==="won")&&(this.stopTimer(),this.highScoresLoading=!0,this.firebaseService.getScores(r.difficultyLevel).then(n=>{this.highScoresLoading=!1,(!n||n.length<20||r.score>n[n.length-1].score)&&(this.highScore=!0)}))}),this.snoguessMainService.guessResult.subscribe(r=>{r.result===!1?(this.keyboard?.addGuessedLetter(r.letter,!1),this.shakeState="shake",setTimeout(()=>this.shakeState="normal",200)):this.keyboard?.addGuessedLetter(r.letter,!0)}),this.snoguessMainService.termResult.subscribe(r=>{r&&(this.keyboard?.reset(),this.termGuessed=r,setTimeout(()=>{this.termGuessed=""},2e3))});let e=["assets/img/SI_CT_w_tagline.png","assets/img/snoguess-logo.png","assets/img/congratulations.png","assets/img/correct.png","assets/img/game-over.png","assets/img/instructions.png","assets/img/difficulty.png","assets/img/scoreboard.png"];this.preloadService.preloadImages(e).then(()=>{setTimeout(()=>{this.loadingAssets=!1,this.loadMenu()},500)}),this.preloadService.loadingProgress.subscribe(r=>{this.loadingAssetsProgress=r}),this.terminologyService.fhirUrlParam$.subscribe(r=>{r&&this.terminologyService.getCodeSystem(r).subscribe(n=>{this.selectedEdition=n?.entry[0]?.resource?.title})}),this.terminologyService.lang$.subscribe(r=>{this.selectedLanguage=r})}loadMenu(){this.snoguessMainService.loadMenu()}backToMenu(){this.chooseDifficulty=!1}showInstructionsPanel(){this.showInstructions=!0}hideInstructionsPanel(){this.showInstructions=!1}chooseDifficultyLevel(){this.chooseDifficulty=!0}startGame(e){this.chooseDifficulty=!1,this.keyboard&&this.keyboard.reset(),this.stopTimer(),this.snoguessMainService.startGame(e),this.startTimer(),this.highScore=!1}guessLetter(e){return Mt(this,null,function*(){(yield M5(this.game))?.state==="playing"&&this.snoguessMainService.guessLetter(e)})}revealHint(){this.snoguessMainService.revealHint()}calculateProgress(e){let r=this.goals[this.goals.length-1].score,n=e/r*100;return Math.min(n,100)}calculateGoalPosition(e){let r=this.goals[this.goals.length-1].score;return e/r*100}findCurrentGoal(e){if(!e||e<this.goals[0].score)return Ri(ht({},this.goals[0]),{previousGoalScore:0});for(let r=0;r<this.goals.length;r++)if(r===this.goals.length-1||e<this.goals[r+1].score)return Ri(ht({},this.goals[r]),{previousGoalScore:r===0?0:this.goals[r-1].score});return Ri(ht({},this.goals[this.goals.length-1]),{previousGoalScore:this.goals[this.goals.length-2].score})}getMaxTrophyObtained(e){let r="";return this.goals.forEach(n=>{e>=n.score&&(r=n.name)}),r}startTimer(){this.elapsedTime=0,this.gameInProgress=!0;let e=ch(0,1e3).pipe(si(r=>this.elapsedTime=r),ty(()=>this.gameInProgress));this.gameTimerSubscription=e.subscribe()}stopTimer(){this.gameInProgress=!1,this.gameTimerSubscription&&this.gameTimerSubscription.unsubscribe()}openScoreboard(e){e||(e=this.difficultyLevels[0].name),this.router.navigate(["/snoguess/scoreboard"],{queryParams:{level:e}})}saveScore(e){let r={score:e.score,numberOfRounds:e.round,difficulty:e.difficultyLevel,elapsed:e.endTimestamp-e.startTimestamp,date:wo.now(),message:this.messageForLeaderboard};this.firebaseService.addScore(e.difficultyLevel,r).then(()=>{this.messageForLeaderboard="",this.openScoreboard(e.difficultyLevel)}).catch(n=>{this.messageForLeaderboard="",console.error("Error saving score: ",n),this.loadMenu()})}getLanguageName(e){return{en:"English",es:"Spanish",fr:"French",de:"German",da:"Danish",nl:"Dutch",et:"Estonian",fi:"Finnish",no:"Norwegian",sv:"Swedish"}[e]||e}setLanguage(e){let r={en:{lang:"en",fhirUrl:"http://snomed.info/sct/900000000000207008"},es:{lang:"es",fhirUrl:"http://snomed.info/sct/449081005"},fr:{lang:"fr",fhirUrl:"http://snomed.info/sct/11000241103"},de:{lang:"de",fhirUrl:"http://snomed.info/sct/11000274103"},da:{lang:"da",fhirUrl:"http://snomed.info/sct/554471000005108"},nl:{lang:"nl",fhirUrl:"http://snomed.info/sct/11000146104"},et:{lang:"et",fhirUrl:"http://snomed.info/sct/11000181102"},fi:{lang:"fi",fhirUrl:"http://snomed.info/sct/11000229106"},no:{lang:"no",fhirUrl:"http://snomed.info/sct/51000202101"},sv:{lang:"sv",fhirUrl:"http://snomed.info/sct/45991000052106"}};this.terminologyService.setLang(e),this.terminologyService.setFhirUrlParam(r[e].fhirUrl)}static{this.\u0275fac=function(r){return new(r||t)(je(wM),je(kQ),je(An),je(CM),je(xo))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-snoguess-main"]],viewQuery:function(r,n){if(r&1&&Jt(zMe,5),r&2){let a;yt(a=xt())&&(n.keyboard=a.first)}},standalone:!1,decls:6,vars:7,consts:[["keyboard",""],["class","snoguess-game",4,"ngIf"],[1,"text-center","mt-8","mb-4"],[1,"snoguess-game"],["class","assets-loading-container",4,"ngIf"],[4,"ngIf"],["class","flex flex-col items-center gap-4",4,"ngIf"],["class","overlay overlay-transparent",4,"ngIf"],[1,"assets-loading-container"],[1,"mt-48","mb-48"],[1,"progress-bar-message","text-center"],["mode","determinate",1,"game-progress-bar",3,"value"],[1,"flex","justify-center","mt-8","mb-8"],[1,"relative","w-1/4"],["src","assets/img/snoguess-logo.png","alt","Game Logo"],[1,"diff-label","absolute","-bottom-3","right-5","italic","text-gray-500"],[1,"hit-points"],[1,"score"],[4,"ngFor","ngForOf"],["class","term-display flex flex-row flex-wrap justify-center gap-8",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"guess-message"],[3,"letterGuessed"],[1,"game-buttons","mt-4"],["class",`bg-gradient-to-b from-blue-500 to-gray-500 hover:from-black hover:to-blue-500 border-solid border-2 border-black 
      rounded-3xl pt-1 pb-1 pl-6 pr-6 w-fit text-center cursor-pointer font-bold text-white`,3,"click",4,"ngIf"],["class",`bg-gradient-to-b from-blue-500 to-gray-500 hover:from-black hover:to-blue-500 border-solid border-2 border-black 
        rounded-3xl pt-1 pb-1 pl-6 pr-6 w-fit text-center cursor-pointer font-bold text-white`,3,"click",4,"ngIf"],["class","hints-container",4,"ngIf"],[1,"note"],[1,"score-progression-panel"],[1,"progress-bar-container"],["mode","determinate",3,"value"],[1,"term-display","flex","flex-row","flex-wrap","justify-center","gap-8"],["class","whitespace-nowrap",4,"ngFor","ngForOf"],[1,"whitespace-nowrap"],[1,"loading-container"],[1,"progress-bar-message"],["mode","indeterminate"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pt-1","pb-1","pl-6","pr-6","w-fit","text-center","cursor-pointer","font-bold","text-white",3,"click"],[1,"hints-container"],[1,"hints-callout","text-center"],["class","hint-item",3,"innerHTML",4,"ngFor","ngForOf"],[1,"hint-item",3,"innerHTML"],[1,"goal-indicator"],["class","star-icon left-star",3,"ngClass","left",4,"ngIf"],[1,"trophy-icon",3,"ngClass"],["class","star-icon right-star",3,"ngClass","left",4,"ngIf"],["class","goal-name",3,"left","ngClass",4,"ngIf"],[1,"star-icon","left-star",3,"ngClass"],[1,"star-icon","right-star",3,"ngClass"],[1,"goal-name",3,"ngClass"],[1,"flex","flex-col","items-center","gap-4"],["src","assets/img/SI_CT_w_tagline.png","alt","SNOMED CT Logo",1,"w-1/6"],["src","assets/img/snoguess-logo.png","alt","Game Logo",1,"w-1/3","mt-8"],[1,"text-center","font-light","text-lg"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","text-3xl",3,"click"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-12","text-3xl",3,"click"],[1,"text-center","font-light","italic","text-lg"],[1,"text-center","font-light","italic","text-sm"],["mat-button","",3,"click"],["src","assets/img/difficulty.png","alt","Game Logo",1,"w-1/4","mt-8"],["class","level-container w-full flex flex-col justify-center items-center",4,"ngFor","ngForOf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-12","pr-12","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-2","mb-8","text-3xl",3,"click"],[1,"level-container","w-full","flex","flex-col","justify-center","items-center"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-2","text-3xl",3,"click"],[1,"level-details","text-center","mt-3","flex","flex-row","items-center"],[1,"text-red-500","text-sm"],[1,"text-yellow-500","text-sm"],[1,"text-green-500","text-sm"],["src","assets/img/instructions.png","alt","Game Logo",1,"w-1/4","mt-8","mb-12"],[1,"text-left","instructions-text"],[1,"flex","flex-row","items-center","gap-2"],[1,"text-blue-900"],[1,"text-red-500"],[1,"text-green-500"],[1,"text-yellow-500"],[1,"text-blue-500"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-12","pr-12","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-3xl",3,"click"],[1,"overlay","overlay-transparent"],["src","assets/img/correct.png","alt","Correct",1,"w-1/5","mt-8"],["src","assets/img/game-over.png","alt","Game Logo",1,"w-1/4","mt-8"],[1,"text-xl","text-pretty","text-center"],[1,"font-bold"],[1,"mt-12"],[1,"mt-4"],["class","text-center italic text-gray-500",4,"ngIf"],["class","flex flex-col items-center gap-4 w-full",4,"ngIf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","text-2xl",3,"click"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-2xl",3,"click"],[3,"ngClass"],[1,"text-center","italic","text-gray-500"],[1,"flex","flex-col","items-center","gap-4","w-full"],[1,"font-bold","text-lg","md:text-xl","text-blue-900"],["type","text","placeholder","Type your message here",1,"w-full","md:w-1/2","text-base","md:text-2xl","text-center","bg-blue-50","border-solid","border-2",3,"ngModelChange","ngModel"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pl-4","pr-4","pt-1","pb-1","w-fit","text-center","cursor-pointer","font-bold","text-white","ml-4","md:text-2xl",3,"click"],[1,"text-sm","text-gray-400"],["src","assets/img/congratulations.png","alt","Game Logo",1,"w-1/3","mt-8"],[1,""],[1,"large-icon","diamond","shadow-local"],[1,"text-lg"],[1,"reveal","won"],["type","text","placeholder","Your message here",1,"w-full","md:w-1/2","text-base","md:text-lg",3,"ngModelChange","ngModel"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pl-4","pr-4","pt-1","pb-1","w-fit","text-center","cursor-pointer","font-bold","text-white","ml-4",3,"click"]],template:function(r,n){r&1&&(Te(0,_Ie,9,8,"div",1),pr(1,"async"),B(2,"div",2),J(3),pr(4,"date"),U(),He(5,"app-add-to-home")),r&2&&(oe("ngIf",Da(1,2,n.game)),K(3),It(" Copyright \xA9 ",yo(4,4,n.currentYear,"yyyy"),` SNOMED International
`))},dependencies:[Ka,qi,Xi,ln,pn,r0,Vs,_r,ma,OQ,NQ,Iy,Rl,SM],styles:[".snoguess-game[_ngcontent-%COMP%]{padding:20px;border-radius:8px;max-width:80%;margin:auto;box-shadow:0 4px 8px #0000001a;min-height:85vh!important}.term-display[_ngcontent-%COMP%]{font-size:24px;letter-spacing:4px;word-break:break-all;margin-bottom:20px;text-align:center;font-family:monospace}.term-display[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0}.hit-points[_ngcontent-%COMP%]{font-weight:700;color:#d9534f;text-align:center;margin-bottom:2rem}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}button[_ngcontent-%COMP%]{margin-right:8px}.guess-field[_ngcontent-%COMP%]{display:flex;align-items:center;vertical-align:middle;justify-content:center;gap:10px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1000}.overlay-dark[_ngcontent-%COMP%]{background-color:#00000080}.overlay-transparent[_ngcontent-%COMP%]{background-color:#0000}.message[_ngcontent-%COMP%]{font-size:4rem;text-align:center;margin-bottom:20px;font-weight:bolder}.reveal[_ngcontent-%COMP%]{font-size:2rem;text-align:center;margin-bottom:20px;font-weight:bolder}.won[_ngcontent-%COMP%]{color:#4caf50;text-shadow:black 2px 2px 2px}.lost[_ngcontent-%COMP%]{color:#f44336;text-shadow:rgb(0,0,0) 2px 2px 2px}.overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem;padding:10px 20px}.loading-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;margin-bottom:1rem}.progress-bar-message[_ngcontent-%COMP%]{color:#000;font-size:larger;margin-bottom:10px;font-style:italic;font-weight:lighter}.score[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700}.score-progression-panel[_ngcontent-%COMP%]{margin-top:2rem}.progress-bar-container[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem;position:relative;background-color:#e0e0e0;border-radius:5px}.goal-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;width:2px;height:10px;background-color:#000}.goal-indicator.bronze[_ngcontent-%COMP%]{background-color:#cd7f32}.goal-indicator.silver[_ngcontent-%COMP%]{background-color:silver}.goal-indicator.gold[_ngcontent-%COMP%]{background-color:gold}.goal-indicator.platinum[_ngcontent-%COMP%]{background-color:#e5e4e2}.goal-indicator.diamond[_ngcontent-%COMP%]{background-color:#3b49c4}.trophy-icon[_ngcontent-%COMP%]{position:absolute;bottom:-35px;font-size:24px;width:24px;transition:transform .3s ease}.trophy-large[_ngcontent-%COMP%]{transform:scale(2.5) translate(-2px,3px)}.bronze[_ngcontent-%COMP%]{color:#cd7f32}.silver[_ngcontent-%COMP%]{color:silver}.gold[_ngcontent-%COMP%]{color:gold}.platinum[_ngcontent-%COMP%]{color:#e5e4e2}.diamond[_ngcontent-%COMP%]{color:#3b49c4}.shadow-local[_ngcontent-%COMP%]{text-shadow:black 2px 2px 2px}.star-icon[_ngcontent-%COMP%]{position:absolute;bottom:-40px;font-size:30px;width:30px;transition:transform .3s ease}.left-star[_ngcontent-%COMP%]{transform:translate(-50px)}.right-star[_ngcontent-%COMP%]{transform:translate(30px)}.goal-name[_ngcontent-%COMP%]{position:absolute;bottom:-75px;width:100px;margin-left:-50px;text-align:center;font-size:12px;font-weight:700;color:#000}.large-icon[_ngcontent-%COMP%]{font-size:5rem;width:5rem;height:5rem}.note[_ngcontent-%COMP%]{font-size:.8rem;font-weight:lighter;margin-top:1rem;text-align:center}.hints-container[_ngcontent-%COMP%]{margin-top:1rem}.hints-callout[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem}.hint-item[_ngcontent-%COMP%]{color:#555;font-size:1em;list-style-type:none;position:relative;padding:5px 0 5px 30px}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}li[_ngcontent-%COMP%]{margin-bottom:10px;color:#666;font-size:1.2rem}.guess-message[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-size:1.2rem}.assests-loading-container[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:#fff}.game-progress-bar[_ngcontent-%COMP%]{border-radius:22px;overflow:hidden;background-color:#e0e0e0;box-shadow:0 4px 8px #0003}.game-progress-bar[_ngcontent-%COMP%]   .mat-progress-bar-fill[_ngcontent-%COMP%]:after{background-color:#4caf50;border-radius:22px}.game-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;vertical-align:middle;justify-content:center;gap:10px}.level-details[_ngcontent-%COMP%]{visibility:hidden}.level-container[_ngcontent-%COMP%]:hover   .level-details[_ngcontent-%COMP%]{visibility:visible}@media (max-width: 1300px){.menu-buttons[_ngcontent-%COMP%]{font-size:large}}@media (max-width: 876px){.snoguess-game[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .bg-gradient-to-b[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .hints-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .score-progression-panel[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .guess-field[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important;margin:0 auto;box-sizing:border-box;box-shadow:none}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]{flex-direction:column;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:fit-content!important;margin-bottom:1rem}.snoguess-game[_ngcontent-%COMP%]   .goal-indicator[_ngcontent-%COMP%]{display:none}.snoguess-game[_ngcontent-%COMP%]   .hit-points[_ngcontent-%COMP%]{margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .term-display[_ngcontent-%COMP%]{font-size:20px;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .guess-message[_ngcontent-%COMP%]{font-size:12px}.snoguess-game[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px!important}.snoguess-game[_ngcontent-%COMP%]   .pt-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pt-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-12[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-12[_ngcontent-%COMP%]{padding:10px}.snoguess-game[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%]{font-size:16px}.snoguess-game[_ngcontent-%COMP%]   .diff-label[_ngcontent-%COMP%]{text-align:right}}"],data:{animation:[us("shake",[vr("normal => shake",ir(200,gE([Oi({transform:"translateX(0)"}),Oi({transform:"translateX(-10px)"}),Oi({transform:"translateX(10px)"}),Oi({transform:"translateX(0)"})])))]),us("popIn",[vr(":enter",[Oi({transform:"scale(0.8)",opacity:0}),ir("0.5s cubic-bezier(.8, -0.6, 0.2, 1.5)",Oi({transform:"scale(1.3)",opacity:1})),ir("0.2s cubic-bezier(.8, -0.6, 0.2, 1.5)",Oi({transform:"scale(1)",opacity:1}))])]),us("scrollUp",[vr(":enter",[Oi({transform:"translateY(100%)",opacity:0}),ir("0.5s ease-out",Oi({transform:"translateY(0)",opacity:1}))])]),us("fadeInDelayed",[vr(":enter",[Oi({opacity:0}),ir("1s 0.5s ease-out",Oi({opacity:1}))])])]}})}}return t})();var HQ=Ro(_f());var wIe=()=>({});function CIe(t,i){if(t&1){let e=Ye();B(0,"li")(1,"a",18),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.findingWithExplicitContextSelected(n))}),J(2),U()()}if(t&2){let e=i.$implicit;K(2),vt(e.display)}}function SIe(t,i){t&1&&(B(0,"th",27),J(1," Type "),U())}function TIe(t,i){if(t&1&&(B(0,"td",28),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.type.display," ")}}function EIe(t,i){t&1&&(B(0,"th",27),J(1," Target "),U())}function AIe(t,i){if(t&1&&(B(0,"td",28),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.target.code," ")}}function MIe(t,i){t&1&&(B(0,"th",27),J(1," Target "),U())}function IIe(t,i){if(t&1&&(B(0,"td",28),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.target.display," ")}}function DIe(t,i){t&1&&He(0,"tr",29)}function PIe(t,i){t&1&&He(0,"tr",30)}function RIe(t,i){if(t&1&&(B(0,"div",10)(1,"h3"),J(2),U(),B(3,"table",19),Ni(4,20),Te(5,SIe,2,0,"th",21)(6,TIe,2,1,"td",22),Bi(),Ni(7,23),Te(8,EIe,2,0,"th",21)(9,AIe,2,1,"td",22),Bi(),Ni(10,24),Te(11,MIe,2,0,"th",21)(12,IIe,2,1,"td",22),Bi(),Te(13,DIe,1,0,"tr",25)(14,PIe,1,0,"tr",26),U()()),t&2){let e=pe();K(2),It("Relevant attributes (",e.selectedSituation.display,")"),K(),oe("dataSource",e.dataSource),K(10),oe("matHeaderRowDef",e.displayedColumns),K(),oe("matRowDefColumns",e.displayedColumns)}}function kIe(t,i){if(t&1&&(B(0,"div",10)(1,"h3"),J(2,"Resource Type"),U(),B(3,"a",31)(4,"span"),J(5),U(),B(6,"mat-icon"),J(7,"open_in_new"),U()()()),t&2){let e=pe();K(3),oe("href","https://hl7.org/fhir/R4/"+e.resourceType+".html",bg),K(2),It("FHIR R4 ",e.resourceType,"")}}function FIe(t,i){if(t&1){let e=Ye();B(0,"div",32)(1,"button",33),we("click",function(){Me(e);let n=pe();return Ie(n.saveOutput(n.fhirRepresentationString))}),He(2,"mat-icon",34),U(),B(3,"button",35),we("click",function(){Me(e);let n=pe();return Ie(n.copyOutputToClipboard(n.fhirRepresentationString))}),He(4,"mat-icon",36),U()()}}var GQ=(()=>{class t{constructor(e,r){this.terminologyService=e,this.clipboard=r,this.fhirRepresentationString="{}",this.situationsBinding={title:"Finding with explicit context",type:"Autocomplete",ecl:"<< 413350009 |Finding with explicit context (situation)|",value:"",note:"Select a finding with explicit context"},this.SituationConstants={KnownPresent:{code:"410515003",display:"Known present",selfAndDescendants:[]},KnownAbsent:{code:"410516002",display:"Known absent",selfAndDescendants:[]},SubjectOfRecord:{code:"410604004",display:"Subject of record",selfAndDescendants:[]},PersonInTheFamily:{code:"303071001",display:"Person in the family",selfAndDescendants:[]},InThePast:{code:"410513005",display:"In the past",selfAndDescendants:[]},CurrentOrSpecifiedTime:{code:"410512000",display:"Current or specified time",selfAndDescendants:[]},KnownPossible:{code:"410590009",display:"Known possible",selfAndDescendants:[]}},this.examples=[{code:"160377001",display:"Family history of asthma"},{code:"12147341000119108",display:"History of burn"},{code:"428942009",display:"History of fall"},{code:"300890009",display:"Swelling absent"},{code:"162057007",display:"Nausea present"},{code:"401204006",display:"Suspected autism"}],this.displayedColumns=["type","targetCode","targetDisplay"],this.dataSource=[]}ngOnInit(){this.loadOrUpdateConstants()}loadOrUpdateConstants(){return Mt(this,null,function*(){let e=localStorage.getItem("SituationConstants");e?(this.SituationConstants=JSON.parse(e),console.log("Loaded constants from cache.")):(yield this.updateConstantDescendants(),localStorage.setItem("SituationConstants",JSON.stringify(this.SituationConstants)),console.log("Updated constants and cached them."))})}updateConstantDescendants(){return Mt(this,null,function*(){for(let e in this.SituationConstants)if(Object.prototype.hasOwnProperty.call(this.SituationConstants,e)){let r=this.SituationConstants[e],n=yield Ir(this.terminologyService.expandValueSet("<< "+r.code,"",0,1e3));r.selfAndDescendants=n.expansion.contains.map(a=>a.code)}})}convertSituationToFhir(e){return Mt(this,null,function*(){this.selectedSituation=e,this.fhirRepresentation=null,this.fhirRepresentationString="Loading...",this.dataSource=[],this.resourceType=void 0;let r=yield Ir(this.terminologyService.lookupConcept(e.code)),n=this.terminologyService.getNormalForm(r),a=this.terminologyService.parseNormmalForm(n),s,o,u,l;if(a.groups.forEach(c=>{let h=c.find(p=>p.type.code==="408732007");h&&(this.dataSource=[...this.dataSource,h],o=h.target);let d=c.find(p=>p.type.code==="408729009");d&&(this.dataSource=[...this.dataSource,d],s=d.target);let f=c.find(p=>p.type.code==="408731000");f&&(this.dataSource=[...this.dataSource,f],u=f.target);let m=c.find(p=>p.type.code==="246090004");m&&(this.dataSource=[...this.dataSource,m],l=m.target)}),l){let c=this.SituationConstants.KnownPresent.selfAndDescendants.includes(s?.code),h=this.SituationConstants.SubjectOfRecord.selfAndDescendants.includes(o?.code),d=this.SituationConstants.InThePast.selfAndDescendants.includes(u?.code),f=this.SituationConstants.KnownAbsent.selfAndDescendants.includes(s?.code),m=this.SituationConstants.KnownPossible.selfAndDescendants.includes(s?.code),p=this.SituationConstants.CurrentOrSpecifiedTime.selfAndDescendants.includes(u?.code),g=this.SituationConstants.PersonInTheFamily.selfAndDescendants.includes(o?.code);c&&h&&d?this.updateFhirRepresentation(this.createFhirCondition(l,"inactive")):c&&h&&p?this.updateFhirRepresentation(this.createFhirCondition(l,"active")):m&&h&&p?this.updateFhirRepresentation(this.createFhirCondition(l,"unconfirmed")):c&&g?this.updateFhirRepresentation(this.createFamilyMemberHistoryForFinding(l,o)):f&&h&&p?this.updateFhirRepresentation(this.createFhirObservationForAbsentFinding(l)):this.fhirRepresentationString="No FHIR representation for this situation"}else this.fhirRepresentationString="No FHIR representation for this situation"})}updateFhirRepresentation(e){this.fhirRepresentation=e,this.fhirRepresentationString=JSON.stringify(e,null,2)}findingWithExplicitContextSelected(e){e&&e.code&&this.convertSituationToFhir(e)}createFhirCondition(e,r){return this.resourceType="Condition",{resourceType:"Condition",subject:{reference:"Patient/1234"},clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:r}]},code:{coding:[{system:"http://snomed.info/sct",code:e.code,display:e.display}]}}}createFhirObservationForAbsentFinding(e){return this.resourceType="Observation",{resourceType:"Observation",subject:{reference:"Patient/1234"},status:"registered",code:{coding:[{system:"http://snomed.info/sct",code:e.code,display:e.display}]},valueCodeableConcept:{coding:[{system:"http://snomed.info/sct",code:"410516002",display:"Known absent"}]}}}createFamilyMemberHistoryForFinding(e,r){return this.resourceType="FamilyMemberHistory",{resourceType:"FamilyMemberHistory",status:"completed",patient:{reference:"Patient/1234"},relationship:{coding:[{system:"http://snomed.info/sct",code:r.code,display:r.display}]},condition:[{code:{coding:[{system:"http://snomed.info/sct",code:e.code,display:e.display}]}}]}}saveOutput(e){var r=new Blob([e],{type:"text/plain;charset=utf-8"});(0,HQ.saveAs)(r,`${this.selectedSituation.display}-fhir.json`)}copyOutputToClipboard(e){this.clipboard.copy(e)}static{this.\u0275fac=function(r){return new(r||t)(je(An),je(wf))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-situation-map"]],standalone:!1,decls:44,vars:11,consts:[["substancePopoverMenu","matMenu"],[1,"p-8"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],[1,"font-bold"],["href","https://confluence.ihtsdotools.org/display/DOCCTXSIG","target","_blank"],["href","https://confluence.ihtsdotools.org/display/DOCCTXSIG/6.3.2+Transformations+between+SWEC+and+FHIR","target","_blank"],[1,"flex","flex-wrap","gap-4"],[1,"w-1/3"],[1,"w-auto",3,"selectionChange","binding"],[1,"mt-8"],[4,"ngFor","ngForOf"],["class","mt-8",4,"ngIf"],[1,"flex-grow"],["href","https://confluence.ihtsdotools.org/display/DOCCTXSIG/6.3.2+Transformations+between+SWEC+and+FHIR","target","_blank",1,"text-xs","italic","ml-4"],[1,"output"],["id","save",4,"ngIf"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],["href","javascript:void(0);",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","targetCode"],["matColumnDef","targetDisplay"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["target","_blank",1,"flex","flex-row","items-center","gap-2",3,"href"],["id","save"],["mat-icon-button","","matTooltip","Download",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy",3,"click"],["fontIcon","content_copy"]],template:function(r,n){if(r&1){let a=Ye();B(0,"div",1)(1,"h2"),J(2,"Context Representation Transformations for Situations with Explicit Context "),B(3,"button",2)(4,"mat-icon"),J(5,"info"),U()(),B(6,"mat-menu",null,0)(8,"span",3),we("click",function(o){return Me(a),Ie(o.stopPropagation())}),B(9,"p",4),J(10,"Context representation Demo"),U(),B(11,"p"),J(12,"This is a demonstration of context transformations between the terminiology model and the FHIR Information Model."),U(),B(13,"p"),J(14,"For more information check the "),B(15,"a",5),J(16,"SNOMED Implementation Guide for Context Representation"),U(),J(17,"."),U(),B(18,"p"),J(19,"Transformations are produced following "),B(20,"a",6),J(21,"this example decision table"),U(),J(22,". "),U()()()(),He(23,"br"),B(24,"div",7)(25,"div",8)(26,"h3"),J(27,"Concepts with explicit context in the terminology"),U(),B(28,"app-autocomplete-binding",9),we("selectionChange",function(o){return Me(a),Ie(n.findingWithExplicitContextSelected(o))}),U(),B(29,"h4",10),J(30,"Examples"),U(),B(31,"ul"),Te(32,CIe,3,1,"li",11),U(),Te(33,RIe,15,4,"div",12)(34,kIe,8,2,"div",12),U(),B(35,"div",13)(36,"h3"),J(37,"Context representation in the FHIR Information Model "),B(38,"a",14),J(39,"See transformation table"),U()(),B(40,"div",15),Te(41,FIe,5,0,"div",16),B(42,"textarea",17),J(43,"                "),U()()()()()}if(r&2){let a=hi(7);K(3),oe("matMenuTriggerFor",a),K(5),oe("disableRipple",!0),K(20),oe("binding",n.situationsBinding),K(4),oe("ngForOf",n.examples),K(),oe("ngIf",n.selectedSituation==null?null:n.selectedSituation.display),K(),oe("ngIf",n.resourceType),K(7),oe("ngIf",n.fhirRepresentationString.length>15),K(),oe("options",Or(10,wIe))("lang","json")("innerHTML",n.fhirRepresentationString,Yc)}},dependencies:[qi,Xi,Cf,Zn,pn,ys,Ps,ra,Jc,eu,ru,tu,qc,su,iu,nu,au,ou,zs,Od],styles:[".output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:1rem;min-height:45rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}"]})}}return t})();var jQ=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-context-main"]],standalone:!1,decls:1,vars:0,template:function(r,n){r&1&&He(0,"app-situation-map")},dependencies:[GQ],encapsulation:2})}}return t})();var iK=Ro(tK());var nK=(()=>{class t{constructor(){this.filter=new iK.default}transform(e){return e&&this.filter.clean(e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Td({name:"safeText",type:t,pure:!0,standalone:!1})}}return t})();function zIe(t,i){if(t&1){let e=Ye();B(0,"a",13),we("click",function(){Me(e);let n=pe().$implicit,a=pe();return Ie(a.setLevel(n.name))}),J(1),U()}if(t&2){let e=pe().$implicit;K(),It(" ",e.name," ")}}function UIe(t,i){if(t&1&&(B(0,"span",14),J(1),U()),t&2){let e=pe().$implicit;K(),vt(e.name)}}function HIe(t,i){if(t&1&&(B(0,"span"),Te(1,zIe,2,1,"a",7)(2,UIe,2,1,"span",8),U()),t&2){let e=i.$implicit,r=pe();K(),oe("ngIf",r.selectedLevel!=e.name),K(),oe("ngIf",r.selectedLevel==e.name)}}function GIe(t,i){if(t&1){let e=Ye();B(0,"a",13),we("click",function(){Me(e);let n=pe();return Ie(n.setLevel("scoreboard"))}),J(1," Legacy "),U()}}function jIe(t,i){t&1&&(B(0,"span",14),J(1,"Legacy"),U())}function WIe(t,i){t&1&&He(0,"mat-spinner",15)}function XIe(t,i){t&1&&(B(0,"th",28),J(1," Position "),U())}function YIe(t,i){if(t&1&&(B(0,"td",29),J(1),U()),t&2){let e=i.index;K(),It(" ",e+1," ")}}function $Ie(t,i){t&1&&(B(0,"th",28),J(1," Message "),U())}function QIe(t,i){if(t&1&&(B(0,"span"),J(1),pr(2,"safeText"),U()),t&2){let e=pe().$implicit;K(),vt(Da(2,1,e.message))}}function KIe(t,i){t&1&&(B(0,"span",31)(1,"i"),J(2,"No information available (qualifier value)"),U()())}function ZIe(t,i){if(t&1&&(B(0,"td",29),Te(1,QIe,3,3,"span",11)(2,KIe,3,0,"span",30),U()),t&2){let e=i.$implicit;K(),oe("ngIf",e.message),K(),oe("ngIf",!e.message)}}function JIe(t,i){t&1&&(B(0,"th",28),J(1," Score "),U())}function qIe(t,i){if(t&1&&(B(0,"td",29),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.score," ")}}function eDe(t,i){t&1&&(B(0,"th",28),J(1," Rounds "),U())}function tDe(t,i){if(t&1&&(B(0,"td",29),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.numberOfRounds," ")}}function iDe(t,i){t&1&&(B(0,"th",28),J(1," Difficulty "),U())}function nDe(t,i){if(t&1&&(B(0,"td",29),J(1),U()),t&2){let e=i.$implicit;K(),It(" ",e.difficulty," ")}}function rDe(t,i){t&1&&(B(0,"th",28),J(1," Time Played "),U())}function sDe(t,i){if(t&1&&(B(0,"td",29),J(1),pr(2,"elapsedTime"),U()),t&2){let e=i.$implicit;K(),It(" ",Da(2,1,e.elapsed)," ")}}function aDe(t,i){t&1&&(B(0,"th",28),J(1," Date "),U())}function oDe(t,i){if(t&1&&(B(0,"td",29),J(1),pr(2,"date"),U()),t&2){let e=i.$implicit;K(),It(" ",yo(2,1,e.date,"short")," ")}}function lDe(t,i){t&1&&He(0,"tr",32)}function cDe(t,i){t&1&&He(0,"tr",33)}function uDe(t,i){if(t&1&&(B(0,"div")(1,"table",16),Ni(2,17),Te(3,XIe,2,0,"th",18)(4,YIe,2,1,"td",19),Bi(),Ni(5,20),Te(6,$Ie,2,0,"th",18)(7,ZIe,3,2,"td",19),Bi(),Ni(8,21),Te(9,JIe,2,0,"th",18)(10,qIe,2,1,"td",19),Bi(),Ni(11,22),Te(12,eDe,2,0,"th",18)(13,tDe,2,1,"td",19),Bi(),Ni(14,23),Te(15,iDe,2,0,"th",18)(16,nDe,2,1,"td",19),Bi(),Ni(17,24),Te(18,rDe,2,0,"th",18)(19,sDe,3,3,"td",19),Bi(),Ni(20,25),Te(21,aDe,2,0,"th",18)(22,oDe,3,4,"td",19),Bi(),Te(23,lDe,1,0,"tr",26)(24,cDe,1,0,"tr",27),U()()),t&2){let e=pe();K(),oe("dataSource",e.dataSource),K(22),oe("matHeaderRowDef",e.displayedColumns),K(),oe("matRowDefColumns",e.displayedColumns)}}var rK=(()=>{class t{constructor(e,r,n,a){this.firebaseService=e,this.router=r,this.snoguessMainService=n,this.route=a,this.displayedColumns=["position","message","difficulty","score","numberOfRounds","secondsPlayed","date"],this.dataSource=[],this.loadingScores=!1,this.difficultyLevels=[],this.selectedLevel=""}ngOnInit(){this.difficultyLevels=this.snoguessMainService.getDifficultyLevels(),this.route.queryParams.subscribe(e=>{let r=e.level;r&&this.difficultyLevels.some(a=>a.name===r)?this.selectedLevel=r:this.selectedLevel=this.difficultyLevels[0].name,this.loadScores(this.selectedLevel),e.refresh&&this.startAutoRefresh()})}ngOnDestroy(){this.stopAutoRefresh()}startAutoRefresh(){this.stopAutoRefresh(),this.intervalId=setInterval(()=>{this.loadScores(this.selectedLevel)},6e4)}stopAutoRefresh(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}setLevel(e){this.selectedLevel=e,this.loadScores(e)}loadScores(e){this.loadingScores=!0,this.firebaseService.getScores(e).then(r=>{this.dataSource=r.map(n=>Ri(ht({},n),{date:n.date?n.date.toDate():new Date})),this.loadingScores=!1})}backToGame(){this.router.navigate(["/snoguess"])}static{this.\u0275fac=function(r){return new(r||t)(je(CM),je(xo),je(wM),je(Va))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-scoreboard"]],standalone:!1,decls:19,vars:8,consts:[[1,"flex","flex-col","items-center","gap-4","pt-6","snoguess-game"],["src","assets/img/SI_CT_w_tagline.png","alt","SNOMED CT Logo",1,"w-1/6"],["src","assets/img/scoreboard.png","alt","High Scores",1,"w-1/4","mt-8"],[1,"mb-2","flex","flex-row","items-center","gap-1"],[1,"diamond"],[1,"mb-3","flex","flex-row","items-center","gap-3"],[4,"ngFor","ngForOf"],["href","javascript:void(0)","class","text-blue-500 underline",3,"click",4,"ngIf"],["class","selected-level",4,"ngIf"],[1,"flex","flex-row","items-center","gap-3"],["diameter","50",4,"ngIf"],[4,"ngIf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-2xl",3,"click"],["href","javascript:void(0)",1,"text-blue-500","underline",3,"click"],[1,"selected-level"],["diameter","50"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","message"],["matColumnDef","score"],["matColumnDef","numberOfRounds"],["matColumnDef","difficulty"],["matColumnDef","secondsPlayed"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["class","text-gray-400",4,"ngIf"],[1,"text-gray-400"],["mat-header-row",""],["mat-row",""]],template:function(r,n){r&1&&(B(0,"div",0),He(1,"img",1)(2,"img",2),B(3,"div",3)(4,"span"),J(5,"Messages posted by players!\xA0"),U(),B(6,"mat-icon",4),J(7,"emoji_events"),U()(),B(8,"div",5),Te(9,HIe,3,2,"span",6)(10,GIe,2,0,"a",7)(11,jIe,2,0,"span",8),U(),B(12,"div",9)(13,"h3"),J(14),U()(),Te(15,WIe,1,0,"mat-spinner",10)(16,uDe,25,3,"div",11),B(17,"div",12),we("click",function(){return n.backToGame()}),J(18," Back to game "),U()()),r&2&&(K(2),oe("@popIn",void 0),K(7),oe("ngForOf",n.difficultyLevels),K(),oe("ngIf",n.selectedLevel!="scoreboard"),K(),oe("ngIf",n.selectedLevel=="scoreboard"),K(3),It("Top 20 ",n.selectedLevel," level scores"),K(),oe("ngIf",n.loadingScores),K(),oe("ngIf",!n.loadingScores),K(),oe("@scrollUp",void 0))},dependencies:[qi,Xi,pn,Ra,Jc,eu,ru,tu,qc,su,iu,nu,au,ou,Rl,SM,nK],styles:[".diamond[_ngcontent-%COMP%]{color:#3b49c4}.snoguess-game[_ngcontent-%COMP%]{padding:20px;border-radius:8px;max-width:80%;margin:auto;box-shadow:0 4px 8px #0000001a}@media (max-width: 1300px){.menu-buttons[_ngcontent-%COMP%]{font-size:large}}@media (max-width: 876px){.snoguess-game[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .bg-gradient-to-b[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .hints-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .score-progression-panel[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .guess-field[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important;margin:0 auto;box-sizing:border-box;box-shadow:none}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]{flex-direction:column;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:fit-content!important;margin-bottom:1rem}.snoguess-game[_ngcontent-%COMP%]   .goal-indicator[_ngcontent-%COMP%]{display:none}.snoguess-game[_ngcontent-%COMP%]   .hit-points[_ngcontent-%COMP%]{margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .term-display[_ngcontent-%COMP%]{font-size:20px;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .guess-message[_ngcontent-%COMP%]{font-size:12px}.snoguess-game[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px!important}.snoguess-game[_ngcontent-%COMP%]   .pt-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pt-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-12[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-12[_ngcontent-%COMP%]{padding:10px}.snoguess-game[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%]{font-size:16px}.snoguess-game[_ngcontent-%COMP%]   .diff-label[_ngcontent-%COMP%]{text-align:right}}.selected-level[_ngcontent-%COMP%]{font-weight:700}"],data:{animation:[us("shake",[vr("normal => shake",ir(200,gE([Oi({transform:"translateX(0)"}),Oi({transform:"translateX(-10px)"}),Oi({transform:"translateX(10px)"}),Oi({transform:"translateX(0)"})])))]),us("popIn",[vr(":enter",[Oi({transform:"scale(0.8)",opacity:0}),ir("0.5s cubic-bezier(.8, -0.6, 0.2, 1.5)",Oi({transform:"scale(1.3)",opacity:1})),ir("0.2s cubic-bezier(.8, -0.6, 0.2, 1.5)",Oi({transform:"scale(1)",opacity:1}))])]),us("scrollUp",[vr(":enter",[Oi({transform:"translateY(100%)",opacity:0}),ir("0.5s ease-out",Oi({transform:"translateY(0)",opacity:1}))])]),us("fadeInDelayed",[vr(":enter",[Oi({opacity:0}),ir("1s 0.5s ease-out",Oi({opacity:1}))])])]}})}}return t})();var pne=Ro(nee()),mne=Ro(Doe());function ts(t){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ts(t)}var Vl=Uint8Array,Qu=Uint16Array,mN=Int32Array,NM=new Vl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),BM=new Vl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),dN=new Vl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oee=function(t,i){for(var e=new Qu(31),r=0;r<31;++r)e[r]=i+=1<<t[r-1];for(var n=new mN(e[30]),r=1;r<30;++r)for(var a=e[r];a<e[r+1];++a)n[a]=a-e[r]<<5|r;return{b:e,r:n}},lee=oee(NM,2),cee=lee.b,hN=lee.r;cee[28]=258,hN[258]=28;var uee=oee(BM,0),OFe=uee.b,ree=uee.r,fN=new Qu(32768);for(jr=0;jr<32768;++jr)Gp=(jr&43690)>>1|(jr&21845)<<1,Gp=(Gp&52428)>>2|(Gp&13107)<<2,Gp=(Gp&61680)>>4|(Gp&3855)<<4,fN[jr]=((Gp&65280)>>8|(Gp&255)<<8)>>1;var Gp,jr,Ff=function(t,i,e){for(var r=t.length,n=0,a=new Qu(i);n<r;++n)t[n]&&++a[t[n]-1];var s=new Qu(i);for(n=1;n<i;++n)s[n]=s[n-1]+a[n-1]<<1;var o;if(e){o=new Qu(1<<i);var u=15-i;for(n=0;n<r;++n)if(t[n])for(var l=n<<4|t[n],c=i-t[n],h=s[t[n]-1]++<<c,d=h|(1<<c)-1;h<=d;++h)o[fN[h]>>u]=l}else for(o=new Qu(r),n=0;n<r;++n)t[n]&&(o[n]=fN[s[t[n]-1]++]>>15-t[n]);return o},m0=new Vl(288);for(jr=0;jr<144;++jr)m0[jr]=8;var jr;for(jr=144;jr<256;++jr)m0[jr]=9;var jr;for(jr=256;jr<280;++jr)m0[jr]=7;var jr;for(jr=280;jr<288;++jr)m0[jr]=8;var jr,zw=new Vl(32);for(jr=0;jr<32;++jr)zw[jr]=5;var jr,LFe=Ff(m0,9,0),NFe=Ff(m0,9,1),BFe=Ff(zw,5,0),VFe=Ff(zw,5,1),lN=function(t){for(var i=t[0],e=1;e<t.length;++e)t[e]>i&&(i=t[e]);return i},Ih=function(t,i,e){var r=i/8|0;return(t[r]|t[r+1]<<8)>>(i&7)&e},cN=function(t,i){var e=i/8|0;return(t[e]|t[e+1]<<8|t[e+2]<<16)>>(i&7)},gN=function(t){return(t+7)/8|0},dee=function(t,i,e){return(i==null||i<0)&&(i=0),(e==null||e>t.length)&&(e=t.length),new Vl(t.subarray(i,e))};var zFe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Dh=function(t,i,e){var r=new Error(i||zFe[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Dh),!e)throw r;return r},UFe=function(t,i,e,r){var n=t.length,a=r?r.length:0;if(!n||i.f&&!i.l)return e||new Vl(0);var s=!e,o=s||i.i!=2,u=i.i;s&&(e=new Vl(n*3));var l=function(me){var be=e.length;if(me>be){var ke=new Vl(Math.max(be*2,me));ke.set(e),e=ke}},c=i.f||0,h=i.p||0,d=i.b||0,f=i.l,m=i.d,p=i.m,g=i.n,v=n*8;do{if(!f){c=Ih(t,h,1);var y=Ih(t,h+1,3);if(h+=3,y)if(y==1)f=NFe,m=VFe,p=9,g=5;else if(y==2){var C=Ih(t,h,31)+257,_=Ih(t,h+10,15)+4,S=C+Ih(t,h+5,31)+1;h+=14;for(var T=new Vl(S),A=new Vl(19),M=0;M<_;++M)A[dN[M]]=Ih(t,h+M*3,7);h+=_*3;for(var I=lN(A),D=(1<<I)-1,k=Ff(A,I,1),M=0;M<S;){var G=k[Ih(t,h,D)];h+=G&15;var x=G>>4;if(x<16)T[M++]=x;else{var R=0,H=0;for(x==16?(H=3+Ih(t,h,3),h+=2,R=T[M-1]):x==17?(H=3+Ih(t,h,7),h+=3):x==18&&(H=11+Ih(t,h,127),h+=7);H--;)T[M++]=R}}var j=T.subarray(0,C),Z=T.subarray(C);p=lN(j),g=lN(Z),f=Ff(j,p,1),m=Ff(Z,g,1)}else Dh(1);else{var x=gN(h)+4,b=t[x-4]|t[x-3]<<8,w=x+b;if(w>n){u&&Dh(0);break}o&&l(d+b),e.set(t.subarray(x,w),d),i.b=d+=b,i.p=h=w*8,i.f=c;continue}if(h>v){u&&Dh(0);break}}o&&l(d+131072);for(var ee=(1<<p)-1,Y=(1<<g)-1,V=h;;V=h){var R=f[cN(t,h)&ee],O=R>>4;if(h+=R&15,h>v){u&&Dh(0);break}if(R||Dh(2),O<256)e[d++]=O;else if(O==256){V=h,f=null;break}else{var F=O-254;if(O>264){var M=O-257,X=NM[M];F=Ih(t,h,(1<<X)-1)+cee[M],h+=X}var ie=m[cN(t,h)&Y],re=ie>>4;ie||Dh(3),h+=ie&15;var Z=OFe[re];if(re>3){var X=BM[re];Z+=cN(t,h)&(1<<X)-1,h+=X}if(h>v){u&&Dh(0);break}o&&l(d+131072);var q=d+F;if(d<Z){var ae=a-Z,ue=Math.min(Z,q);for(ae+d<0&&Dh(3);d<ue;++d)e[d]=r[ae+d]}for(;d<q;++d)e[d]=e[d-Z]}}i.l=f,i.p=V,i.b=d,i.f=c,f&&(c=1,i.m=p,i.d=m,i.n=g)}while(!c);return d!=e.length&&s?dee(e,0,d):e.subarray(0,d)},jp=function(t,i,e){e<<=i&7;var r=i/8|0;t[r]|=e,t[r+1]|=e>>8},Bw=function(t,i,e){e<<=i&7;var r=i/8|0;t[r]|=e,t[r+1]|=e>>8,t[r+2]|=e>>16},uN=function(t,i){for(var e=[],r=0;r<t.length;++r)t[r]&&e.push({s:r,f:t[r]});var n=e.length,a=e.slice();if(!n)return{t:fee,l:0};if(n==1){var s=new Vl(e[0].s+1);return s[e[0].s]=1,{t:s,l:1}}e.sort(function(w,C){return w.f-C.f}),e.push({s:-1,f:25001});var o=e[0],u=e[1],l=0,c=1,h=2;for(e[0]={s:-1,f:o.f+u.f,l:o,r:u};c!=n-1;)o=e[e[l].f<e[h].f?l++:h++],u=e[l!=c&&e[l].f<e[h].f?l++:h++],e[c++]={s:-1,f:o.f+u.f,l:o,r:u};for(var d=a[0].s,r=1;r<n;++r)a[r].s>d&&(d=a[r].s);var f=new Qu(d+1),m=pN(e[c-1],f,0);if(m>i){var r=0,p=0,g=m-i,v=1<<g;for(a.sort(function(C,_){return f[_.s]-f[C.s]||C.f-_.f});r<n;++r){var y=a[r].s;if(f[y]>i)p+=v-(1<<m-f[y]),f[y]=i;else break}for(p>>=g;p>0;){var x=a[r].s;f[x]<i?p-=1<<i-f[x]++-1:++r}for(;r>=0&&p;--r){var b=a[r].s;f[b]==i&&(--f[b],++p)}m=i}return{t:new Vl(f),l:m}},pN=function(t,i,e){return t.s==-1?Math.max(pN(t.l,i,e+1),pN(t.r,i,e+1)):i[t.s]=e},see=function(t){for(var i=t.length;i&&!t[--i];);for(var e=new Qu(++i),r=0,n=t[0],a=1,s=function(u){e[r++]=u},o=1;o<=i;++o)if(t[o]==n&&o!=i)++a;else{if(!n&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(n),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(n);a=1,n=t[o]}return{c:e.subarray(0,r),n:i}},Vw=function(t,i){for(var e=0,r=0;r<i.length;++r)e+=t[r]*i[r];return e},hee=function(t,i,e){var r=e.length,n=gN(i+2);t[n]=r&255,t[n+1]=r>>8,t[n+2]=t[n]^255,t[n+3]=t[n+1]^255;for(var a=0;a<r;++a)t[n+a+4]=e[a];return(n+4+r)*8},aee=function(t,i,e,r,n,a,s,o,u,l,c){jp(i,c++,e),++n[256];for(var h=uN(n,15),d=h.t,f=h.l,m=uN(a,15),p=m.t,g=m.l,v=see(d),y=v.c,x=v.n,b=see(p),w=b.c,C=b.n,_=new Qu(19),S=0;S<y.length;++S)++_[y[S]&31];for(var S=0;S<w.length;++S)++_[w[S]&31];for(var T=uN(_,7),A=T.t,M=T.l,I=19;I>4&&!A[dN[I-1]];--I);var D=l+5<<3,k=Vw(n,m0)+Vw(a,zw)+s,G=Vw(n,d)+Vw(a,p)+s+14+3*I+Vw(_,A)+2*_[16]+3*_[17]+7*_[18];if(u>=0&&D<=k&&D<=G)return hee(i,c,t.subarray(u,u+l));var R,H,j,Z;if(jp(i,c,1+(G<k)),c+=2,G<k){R=Ff(d,f,0),H=d,j=Ff(p,g,0),Z=p;var ee=Ff(A,M,0);jp(i,c,x-257),jp(i,c+5,C-1),jp(i,c+10,I-4),c+=14;for(var S=0;S<I;++S)jp(i,c+3*S,A[dN[S]]);c+=3*I;for(var Y=[y,w],V=0;V<2;++V)for(var O=Y[V],S=0;S<O.length;++S){var F=O[S]&31;jp(i,c,ee[F]),c+=A[F],F>15&&(jp(i,c,O[S]>>5&127),c+=O[S]>>12)}}else R=LFe,H=m0,j=BFe,Z=zw;for(var S=0;S<o;++S){var X=r[S];if(X>255){var F=X>>18&31;Bw(i,c,R[F+257]),c+=H[F+257],F>7&&(jp(i,c,X>>23&31),c+=NM[F]);var ie=X&31;Bw(i,c,j[ie]),c+=Z[ie],ie>3&&(Bw(i,c,X>>5&8191),c+=BM[ie])}else Bw(i,c,R[X]),c+=H[X]}return Bw(i,c,R[256]),c+H[256]},HFe=new mN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fee=new Vl(0),GFe=function(t,i,e,r,n,a){var s=a.z||t.length,o=new Vl(r+s+5*(1+Math.ceil(s/7e3))+n),u=o.subarray(r,o.length-n),l=a.l,c=(a.r||0)&7;if(i){c&&(u[0]=a.r>>3);for(var h=HFe[i-1],d=h>>13,f=h&8191,m=(1<<e)-1,p=a.p||new Qu(32768),g=a.h||new Qu(m+1),v=Math.ceil(e/3),y=2*v,x=function(ze){return(t[ze]^t[ze+1]<<v^t[ze+2]<<y)&m},b=new mN(25e3),w=new Qu(288),C=new Qu(32),_=0,S=0,T=a.i||0,A=0,M=a.w||0,I=0;T+2<s;++T){var D=x(T),k=T&32767,G=g[D];if(p[k]=G,g[D]=k,M<=T){var R=s-T;if((_>7e3||A>24576)&&(R>423||!l)){c=aee(t,u,0,b,w,C,S,A,I,T-I,c),A=_=S=0,I=T;for(var H=0;H<286;++H)w[H]=0;for(var H=0;H<30;++H)C[H]=0}var j=2,Z=0,ee=f,Y=k-G&32767;if(R>2&&D==x(T-Y))for(var V=Math.min(d,R)-1,O=Math.min(32767,T),F=Math.min(258,R);Y<=O&&--ee&&k!=G;){if(t[T+j]==t[T+j-Y]){for(var X=0;X<F&&t[T+X]==t[T+X-Y];++X);if(X>j){if(j=X,Z=Y,X>V)break;for(var ie=Math.min(Y,X-2),re=0,H=0;H<ie;++H){var q=T-Y+H&32767,ae=p[q],ue=q-ae&32767;ue>re&&(re=ue,G=q)}}}k=G,G=p[k],Y+=k-G&32767}if(Z){b[A++]=268435456|hN[j]<<18|ree[Z];var me=hN[j]&31,be=ree[Z]&31;S+=NM[me]+BM[be],++w[257+me],++C[be],M=T+j,++_}else b[A++]=t[T],++w[t[T]]}}for(T=Math.max(T,M);T<s;++T)b[A++]=t[T],++w[t[T]];c=aee(t,u,l,b,w,C,S,A,I,T-I,c),l||(a.r=c&7|u[c/8|0]<<3,c-=7,a.h=g,a.p=p,a.i=T,a.w=M)}else{for(var T=a.w||0;T<s+l;T+=65535){var ke=T+65535;ke>=s&&(u[c/8|0]=l,ke=s),c=hee(u,c+1,t.subarray(T,ke))}a.i=s}return dee(o,0,r+gN(c)+n)};var pee=function(){var t=1,i=0;return{p:function(e){for(var r=t,n=i,a=e.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)n+=r+=e[s];r=(r&65535)+15*(r>>16),n=(n&65535)+15*(n>>16)}t=r,i=n},d:function(){return t%=65521,i%=65521,(t&255)<<24|(t&65280)<<8|(i&255)<<8|i>>8}}},jFe=function(t,i,e,r,n){if(!n&&(n={l:1},i.dictionary)){var a=i.dictionary.subarray(-32768),s=new Vl(a.length+t.length);s.set(a),s.set(t,a.length),t=s,n.w=a.length}return GFe(t,i.level==null?6:i.level,i.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+i.mem,e,r,n)};var mee=function(t,i,e){for(;e;++i)t[i]=e,e>>>=8};var WFe=function(t,i){var e=i.level,r=e==0?0:e<6?1:e==9?3:2;if(t[0]=120,t[1]=r<<6|(i.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,i.dictionary){var n=pee();n.p(i.dictionary),mee(t,2,n.d())}},XFe=function(t,i){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Dh(6,"invalid zlib data"),(t[1]>>5&1)==+!i&&Dh(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function VM(t,i){i||(i={});var e=pee();e.p(t);var r=jFe(t,i,i.dictionary?6:2,4);return WFe(r,i),mee(r,r.length-4,e.d()),r}function gee(t,i){return UFe(t.subarray(XFe(t,i&&i.dictionary),-4),{i:2},i&&i.out,i&&i.dictionary)}var YFe=typeof TextDecoder<"u"&&new TextDecoder,$Fe=0;try{YFe.decode(fee,{stream:!0}),$Fe=1}catch{}var yn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function vN(){yn.console&&typeof yn.console.log=="function"&&yn.console.log.apply(yn.console,arguments)}var Rs={log:vN,warn:function(t){yn.console&&(typeof yn.console.warn=="function"?yn.console.warn.apply(yn.console,arguments):vN.call(null,arguments))},error:function(t){yn.console&&(typeof yn.console.error=="function"?yn.console.error.apply(yn.console,arguments):vN(t))}};function yN(t,i,e){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ev(r.response,i,e)},r.onerror=function(){Rs.error("could not download file")},r.send()}function vee(t){var i=new XMLHttpRequest;i.open("HEAD",t,!1);try{i.send()}catch{}return i.status>=200&&i.status<=299}function zM(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}}var Uw,CN,ev=yn.saveAs||((typeof window>"u"?"undefined":ts(window))!=="object"||window!==yn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,i,e){var r=yn.URL||yn.webkitURL,n=document.createElement("a");i=i||t.name||"download",n.download=i,n.rel="noopener",typeof t=="string"?(n.href=t,n.origin!==location.origin?vee(n.href)?yN(t,i,e):zM(n,n.target="_blank"):zM(n)):(n.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(n.href)},4e4),setTimeout(function(){zM(n)},0))}:"msSaveOrOpenBlob"in navigator?function(t,i,e){if(i=i||t.name||"download",typeof t=="string")if(vee(t))yN(t,i,e);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){zM(r)})}else navigator.msSaveOrOpenBlob(function(n,a){return a===void 0?a={autoBom:!1}:ts(a)!=="object"&&(Rs.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}(t,e),i)}:function(t,i,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return yN(t,i,e);var n=t.type==="application/octet-stream",a=/constructor/i.test(yn.HTMLElement)||yn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||n&&a)&&(typeof FileReader>"u"?"undefined":ts(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},o.readAsDataURL(t)}else{var u=yn.URL||yn.webkitURL,l=u.createObjectURL(t);r?r.location=l:location.href=l,r=null,setTimeout(function(){u.revokeObjectURL(l)},4e4)}});function Fee(t){var i;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<e.length;r++){var n=e[r].re,a=e[r].process,s=n.exec(t);s&&(i=a(s),this.r=i[0],this.g=i[1],this.b=i[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),u=this.g.toString(16),l=this.b.toString(16);return o.length==1&&(o="0"+o),u.length==1&&(u="0"+u),l.length==1&&(l="0"+l),"#"+o+u+l}}function xN(t,i){var e=t[0],r=t[1],n=t[2],a=t[3];e=zl(e,r,n,a,i[0],7,-680876936),a=zl(a,e,r,n,i[1],12,-389564586),n=zl(n,a,e,r,i[2],17,606105819),r=zl(r,n,a,e,i[3],22,-1044525330),e=zl(e,r,n,a,i[4],7,-176418897),a=zl(a,e,r,n,i[5],12,1200080426),n=zl(n,a,e,r,i[6],17,-1473231341),r=zl(r,n,a,e,i[7],22,-45705983),e=zl(e,r,n,a,i[8],7,1770035416),a=zl(a,e,r,n,i[9],12,-1958414417),n=zl(n,a,e,r,i[10],17,-42063),r=zl(r,n,a,e,i[11],22,-1990404162),e=zl(e,r,n,a,i[12],7,1804603682),a=zl(a,e,r,n,i[13],12,-40341101),n=zl(n,a,e,r,i[14],17,-1502002290),e=Ul(e,r=zl(r,n,a,e,i[15],22,1236535329),n,a,i[1],5,-165796510),a=Ul(a,e,r,n,i[6],9,-1069501632),n=Ul(n,a,e,r,i[11],14,643717713),r=Ul(r,n,a,e,i[0],20,-373897302),e=Ul(e,r,n,a,i[5],5,-701558691),a=Ul(a,e,r,n,i[10],9,38016083),n=Ul(n,a,e,r,i[15],14,-660478335),r=Ul(r,n,a,e,i[4],20,-405537848),e=Ul(e,r,n,a,i[9],5,568446438),a=Ul(a,e,r,n,i[14],9,-1019803690),n=Ul(n,a,e,r,i[3],14,-187363961),r=Ul(r,n,a,e,i[8],20,1163531501),e=Ul(e,r,n,a,i[13],5,-1444681467),a=Ul(a,e,r,n,i[2],9,-51403784),n=Ul(n,a,e,r,i[7],14,1735328473),e=Hl(e,r=Ul(r,n,a,e,i[12],20,-1926607734),n,a,i[5],4,-378558),a=Hl(a,e,r,n,i[8],11,-2022574463),n=Hl(n,a,e,r,i[11],16,1839030562),r=Hl(r,n,a,e,i[14],23,-35309556),e=Hl(e,r,n,a,i[1],4,-1530992060),a=Hl(a,e,r,n,i[4],11,1272893353),n=Hl(n,a,e,r,i[7],16,-155497632),r=Hl(r,n,a,e,i[10],23,-1094730640),e=Hl(e,r,n,a,i[13],4,681279174),a=Hl(a,e,r,n,i[0],11,-358537222),n=Hl(n,a,e,r,i[3],16,-722521979),r=Hl(r,n,a,e,i[6],23,76029189),e=Hl(e,r,n,a,i[9],4,-640364487),a=Hl(a,e,r,n,i[12],11,-421815835),n=Hl(n,a,e,r,i[15],16,530742520),e=Gl(e,r=Hl(r,n,a,e,i[2],23,-995338651),n,a,i[0],6,-198630844),a=Gl(a,e,r,n,i[7],10,1126891415),n=Gl(n,a,e,r,i[14],15,-1416354905),r=Gl(r,n,a,e,i[5],21,-57434055),e=Gl(e,r,n,a,i[12],6,1700485571),a=Gl(a,e,r,n,i[3],10,-1894986606),n=Gl(n,a,e,r,i[10],15,-1051523),r=Gl(r,n,a,e,i[1],21,-2054922799),e=Gl(e,r,n,a,i[8],6,1873313359),a=Gl(a,e,r,n,i[15],10,-30611744),n=Gl(n,a,e,r,i[6],15,-1560198380),r=Gl(r,n,a,e,i[13],21,1309151649),e=Gl(e,r,n,a,i[4],6,-145523070),a=Gl(a,e,r,n,i[11],10,-1120210379),n=Gl(n,a,e,r,i[2],15,718787259),r=Gl(r,n,a,e,i[9],21,-343485551),t[0]=v0(e,t[0]),t[1]=v0(r,t[1]),t[2]=v0(n,t[2]),t[3]=v0(a,t[3])}function KM(t,i,e,r,n,a){return i=v0(v0(i,t),v0(r,a)),v0(i<<n|i>>>32-n,e)}function zl(t,i,e,r,n,a,s){return KM(i&e|~i&r,t,i,n,a,s)}function Ul(t,i,e,r,n,a,s){return KM(i&r|e&~r,t,i,n,a,s)}function Hl(t,i,e,r,n,a,s){return KM(i^e^r,t,i,n,a,s)}function Gl(t,i,e,r,n,a,s){return KM(e^(i|~r),t,i,n,a,s)}function Oee(t){var i,e=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=t.length;i+=64)xN(r,QFe(t.substring(i-64,i)));t=t.substring(i-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<t.length;i++)n[i>>2]|=t.charCodeAt(i)<<(i%4<<3);if(n[i>>2]|=128<<(i%4<<3),i>55)for(xN(r,n),i=0;i<16;i++)n[i]=0;return n[14]=8*e,xN(r,n),r}function QFe(t){var i,e=[];for(i=0;i<64;i+=4)e[i>>2]=t.charCodeAt(i)+(t.charCodeAt(i+1)<<8)+(t.charCodeAt(i+2)<<16)+(t.charCodeAt(i+3)<<24);return e}Uw=yn.atob.bind(yn),CN=yn.btoa.bind(yn);var yee="0123456789abcdef".split("");function KFe(t){for(var i="",e=0;e<4;e++)i+=yee[t>>8*e+4&15]+yee[t>>8*e&15];return i}function ZFe(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function SN(t){return Oee(t).map(ZFe).join("")}var JFe=function(t){for(var i=0;i<t.length;i++)t[i]=KFe(t[i]);return t.join("")}(Oee("hello"))!="5d41402abc4b2a76b9719d911017c592";function v0(t,i){if(JFe){var e=(65535&t)+(65535&i);return(t>>16)+(i>>16)+(e>>16)<<16|65535&e}return t+i&4294967295}function TN(t,i){var e,r,n,a;if(t!==e){for(var s=(n=t,a=1+(256/t.length>>0),new Array(a+1).join(n)),o=[],u=0;u<256;u++)o[u]=u;var l=0;for(u=0;u<256;u++){var c=o[u];l=(l+c+s.charCodeAt(u))%256,o[u]=o[l],o[l]=c}e=t,r=o}else o=r;var h=i.length,d=0,f=0,m="";for(u=0;u<h;u++)f=(f+(c=o[d=(d+1)%256]))%256,o[d]=o[f],o[f]=c,s=o[(o[d]+o[f])%256],m+=String.fromCharCode(i.charCodeAt(u)^s);return m}var xee={print:4,modify:8,copy:16,"annot-forms":32};function ux(t,i,e,r){this.v=1,this.r=2;var n=192;t.forEach(function(o){if(xee.perm!==void 0)throw new Error("Invalid permission: "+o);n+=xee[o]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var a=(i+this.padding).substr(0,32),s=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^n)),this.encryptionKey=SN(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=TN(this.encryptionKey,this.padding)}function dx(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var i="",e=t.length,r=0;r<e;r++){var n=t.charCodeAt(r);n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?i+="#"+("0"+n.toString(16)).slice(-2):i+=t[r]}return i}function bee(t){if(ts(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var i={};this.subscribe=function(e,r,n){if(n=n||!1,typeof e!="string"||typeof r!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");i.hasOwnProperty(e)||(i[e]={});var a=Math.random().toString(35);return i[e][a]=[r,!!n],a},this.unsubscribe=function(e){for(var r in i)if(i[r][e])return delete i[r][e],Object.keys(i[r]).length===0&&delete i[r],!0;return!1},this.publish=function(e){if(i.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),n=[];for(var a in i[e]){var s=i[e][a];try{s[0].apply(t,r)}catch(o){yn.console&&Rs.error("jsPDF PubSub Error",o.message,o)}s[1]&&n.push(a)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return i}}function $M(t){if(!(this instanceof $M))return new $M(t);var i="opacity,stroke-opacity".split(",");for(var e in t)t.hasOwnProperty(e)&&i.indexOf(e)>=0&&(this[e]=t[e]);this.id="",this.objectNumber=-1}function Lee(t,i){this.gState=t,this.matrix=i,this.id="",this.objectNumber=-1}function tv(t,i,e,r,n){if(!(this instanceof tv))return new tv(t,i,e,r,n);this.type=t==="axial"?2:3,this.coords=i,this.colors=e,Lee.call(this,r,n)}function hx(t,i,e,r,n){if(!(this instanceof hx))return new hx(t,i,e,r,n);this.boundingBox=t,this.xStep=i,this.yStep=e,this.stream="",this.cloneIndex=0,Lee.call(this,r,n)}function dn(t){var i,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],n=arguments[2],a=arguments[3],s=[],o=1,u=16,l="S",c=null;ts(t=t||{})==="object"&&(e=t.orientation,r=t.unit||r,n=t.format||n,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(i=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),l=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",e=(""+(e||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=bee;var m="1.3",p=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(te){m=te};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var v=f.__private__.getPageFormat=function(te){return g[te]};n=n||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},x=y.COMPAT;function b(){this.saveGraphicsState(),ge(new Ji(Ht,0,0,-Ht,0,ac()*Ht).toString()+" cm"),this.setFontSize(this.getFontSize()/Ht),l="n",x=y.ADVANCED}function w(){this.restoreGraphicsState(),l="S",x=y.COMPAT}var C=f.__private__.combineFontStyleAndFontWeight=function(te,ve){if(te=="bold"&&ve=="normal"||te=="bold"&&ve==400||te=="normal"&&ve=="italic"||te=="bold"&&ve=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ve&&(te=ve==400||ve==="normal"?te==="italic"?"italic":"normal":ve!=700&&ve!=="bold"||te!=="normal"?(ve==700?"bold":ve)+""+te:"bold"),te};f.advancedAPI=function(te){var ve=x===y.COMPAT;return ve&&b.call(this),typeof te!="function"||(te(this),ve&&w.call(this)),this},f.compatAPI=function(te){var ve=x===y.ADVANCED;return ve&&w.call(this),typeof te!="function"||(te(this),ve&&b.call(this)),this},f.isAdvancedAPI=function(){return x===y.ADVANCED};var _,S=function(te){if(x!==y.ADVANCED)throw new Error(te+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=f.roundToPrecision=f.__private__.roundToPrecision=function(te,ve){var Ve=i||ve;if(isNaN(te)||isNaN(Ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return te.toFixed(Ve).replace(/0+$/,"")};_=f.hpf=f.__private__.hpf=typeof u=="number"?function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return T(te,u)}:u==="smart"?function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return T(te,te>-1&&te<1?16:5)}:function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.hpf");return T(te,16)};var A=f.f2=f.__private__.f2=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.f2");return T(te,2)},M=f.__private__.f3=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.f3");return T(te,3)},I=f.scale=f.__private__.scale=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.scale");return x===y.COMPAT?te*Ht:x===y.ADVANCED?te:void 0},D=function(te){return x===y.COMPAT?ac()-te:x===y.ADVANCED?te:void 0},k=function(te){return I(D(te))};f.__private__.setPrecision=f.setPrecision=function(te){typeof parseInt(te,10)=="number"&&(i=parseInt(te,10))};var G,R="00000000000000000000000000000000",H=f.__private__.getFileId=function(){return R},j=f.__private__.setFileId=function(te){return R=te!==void 0&&/^[a-fA-F0-9]{32}$/.test(te)?te.toUpperCase():R.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Os=new ux(c.userPermissions,c.userPassword,c.ownerPassword,R)),R};f.setFileId=function(te){return j(te),this},f.getFileId=function(){return H()};var Z=f.__private__.convertDateToPDFDate=function(te){var ve=te.getTimezoneOffset(),Ve=ve<0?"+":"-",Xe=Math.floor(Math.abs(ve/60)),rt=Math.abs(ve%60),St=[Ve,F(Xe),"'",F(rt),"'"].join("");return["D:",te.getFullYear(),F(te.getMonth()+1),F(te.getDate()),F(te.getHours()),F(te.getMinutes()),F(te.getSeconds()),St].join("")},ee=f.__private__.convertPDFDateToDate=function(te){var ve=parseInt(te.substr(2,4),10),Ve=parseInt(te.substr(6,2),10)-1,Xe=parseInt(te.substr(8,2),10),rt=parseInt(te.substr(10,2),10),St=parseInt(te.substr(12,2),10),Ot=parseInt(te.substr(14,2),10);return new Date(ve,Ve,Xe,rt,St,Ot,0)},Y=f.__private__.setCreationDate=function(te){var ve;if(te===void 0&&(te=new Date),te instanceof Date)ve=Z(te);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(te))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ve=te}return G=ve},V=f.__private__.getCreationDate=function(te){var ve=G;return te==="jsDate"&&(ve=ee(G)),ve};f.setCreationDate=function(te){return Y(te),this},f.getCreationDate=function(te){return V(te)};var O,F=f.__private__.padd2=function(te){return("0"+parseInt(te)).slice(-2)},X=f.__private__.padd2Hex=function(te){return("00"+(te=te.toString())).substr(te.length)},ie=0,re=[],q=[],ae=0,ue=[],me=[],be=!1,ke=q,ze=function(){ie=0,ae=0,q=[],re=[],ue=[],Re=_s(),Fe=_s()};f.__private__.setCustomOutputDestination=function(te){be=!0,ke=te};var De=function(te){be||(ke=te)};f.__private__.resetCustomOutputDestination=function(){be=!1,ke=q};var ge=f.__private__.out=function(te){return te=te.toString(),ae+=te.length+1,ke.push(te),ke},Et=f.__private__.write=function(te){return ge(arguments.length===1?te.toString():Array.prototype.join.call(arguments," "))},ct=f.__private__.getArrayBuffer=function(te){for(var ve=te.length,Ve=new ArrayBuffer(ve),Xe=new Uint8Array(Ve);ve--;)Xe[ve]=te.charCodeAt(ve);return Ve},We=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return We};var Ue=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(te){return Ue=x===y.ADVANCED?te/Ht:te,this};var qe,it=f.__private__.getFontSize=f.getFontSize=function(){return x===y.COMPAT?Ue:Ue*Ht},Ft=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(te){return Ft=te,this},f.__private__.getR2L=f.getR2L=function(){return Ft};var at,bt=f.__private__.setZoomMode=function(te){var ve=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(te))qe=te;else if(isNaN(te)){if(ve.indexOf(te)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+te+'" is not recognized.');qe=te}else qe=parseInt(te,10)};f.__private__.getZoomMode=function(){return qe};var ai,ei=f.__private__.setPageMode=function(te){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(te)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+te+'" is not recognized.');at=te};f.__private__.getPageMode=function(){return at};var li=f.__private__.setLayoutMode=function(te){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(te)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+te+'" is not recognized.');ai=te};f.__private__.getLayoutMode=function(){return ai},f.__private__.setDisplayMode=f.setDisplayMode=function(te,ve,Ve){return bt(te),li(ve),ei(Ve),this};var fi={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(te){if(Object.keys(fi).indexOf(te)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return fi[te]},f.__private__.getDocumentProperties=function(){return fi},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(te){for(var ve in fi)fi.hasOwnProperty(ve)&&te[ve]&&(fi[ve]=te[ve]);return this},f.__private__.setDocumentProperty=function(te,ve){if(Object.keys(fi).indexOf(te)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return fi[te]=ve};var vi,Ht,xi,Ti,Tr,mn={},wn={},Xr=[],gn={},Xo={},Nr={},To={},lo=null,Er=0,sn=[],On=new bee(f),Pc=t.hotfixes||[],ps={},Yo={},ja=[],Ji=function te(ve,Ve,Xe,rt,St,Ot){if(!(this instanceof te))return new te(ve,Ve,Xe,rt,St,Ot);isNaN(ve)&&(ve=1),isNaN(Ve)&&(Ve=0),isNaN(Xe)&&(Xe=0),isNaN(rt)&&(rt=1),isNaN(St)&&(St=0),isNaN(Ot)&&(Ot=0),this._matrix=[ve,Ve,Xe,rt,St,Ot]};Object.defineProperty(Ji.prototype,"sx",{get:function(){return this._matrix[0]},set:function(te){this._matrix[0]=te}}),Object.defineProperty(Ji.prototype,"shy",{get:function(){return this._matrix[1]},set:function(te){this._matrix[1]=te}}),Object.defineProperty(Ji.prototype,"shx",{get:function(){return this._matrix[2]},set:function(te){this._matrix[2]=te}}),Object.defineProperty(Ji.prototype,"sy",{get:function(){return this._matrix[3]},set:function(te){this._matrix[3]=te}}),Object.defineProperty(Ji.prototype,"tx",{get:function(){return this._matrix[4]},set:function(te){this._matrix[4]=te}}),Object.defineProperty(Ji.prototype,"ty",{get:function(){return this._matrix[5]},set:function(te){this._matrix[5]=te}}),Object.defineProperty(Ji.prototype,"a",{get:function(){return this._matrix[0]},set:function(te){this._matrix[0]=te}}),Object.defineProperty(Ji.prototype,"b",{get:function(){return this._matrix[1]},set:function(te){this._matrix[1]=te}}),Object.defineProperty(Ji.prototype,"c",{get:function(){return this._matrix[2]},set:function(te){this._matrix[2]=te}}),Object.defineProperty(Ji.prototype,"d",{get:function(){return this._matrix[3]},set:function(te){this._matrix[3]=te}}),Object.defineProperty(Ji.prototype,"e",{get:function(){return this._matrix[4]},set:function(te){this._matrix[4]=te}}),Object.defineProperty(Ji.prototype,"f",{get:function(){return this._matrix[5]},set:function(te){this._matrix[5]=te}}),Object.defineProperty(Ji.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ji.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ji.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ji.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ji.prototype.join=function(te){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_).join(te)},Ji.prototype.multiply=function(te){var ve=te.sx*this.sx+te.shy*this.shx,Ve=te.sx*this.shy+te.shy*this.sy,Xe=te.shx*this.sx+te.sy*this.shx,rt=te.shx*this.shy+te.sy*this.sy,St=te.tx*this.sx+te.ty*this.shx+this.tx,Ot=te.tx*this.shy+te.ty*this.sy+this.ty;return new Ji(ve,Ve,Xe,rt,St,Ot)},Ji.prototype.decompose=function(){var te=this.sx,ve=this.shy,Ve=this.shx,Xe=this.sy,rt=this.tx,St=this.ty,Ot=Math.sqrt(te*te+ve*ve),bi=(te/=Ot)*Ve+(ve/=Ot)*Xe;Ve-=te*bi,Xe-=ve*bi;var Li=Math.sqrt(Ve*Ve+Xe*Xe);return bi/=Li,te*(Xe/=Li)<ve*(Ve/=Li)&&(te=-te,ve=-ve,bi=-bi,Ot=-Ot),{scale:new Ji(Ot,0,0,Li,0,0),translate:new Ji(1,0,0,1,rt,St),rotate:new Ji(te,ve,-ve,te,0,0),skew:new Ji(1,0,bi,1,0,0)}},Ji.prototype.toString=function(te){return this.join(" ")},Ji.prototype.inversed=function(){var te=this.sx,ve=this.shy,Ve=this.shx,Xe=this.sy,rt=this.tx,St=this.ty,Ot=1/(te*Xe-ve*Ve),bi=Xe*Ot,Li=-ve*Ot,z=-Ve*Ot,ce=te*Ot;return new Ji(bi,Li,z,ce,-bi*rt-z*St,-Li*rt-ce*St)},Ji.prototype.applyToPoint=function(te){var ve=te.x*this.sx+te.y*this.shx+this.tx,Ve=te.x*this.shy+te.y*this.sy+this.ty;return new sc(ve,Ve)},Ji.prototype.applyToRectangle=function(te){var ve=this.applyToPoint(te),Ve=this.applyToPoint(new sc(te.x+te.w,te.y+te.h));return new eh(ve.x,ve.y,Ve.x-ve.x,Ve.y-ve.y)},Ji.prototype.clone=function(){var te=this.sx,ve=this.shy,Ve=this.shx,Xe=this.sy,rt=this.tx,St=this.ty;return new Ji(te,ve,Ve,Xe,rt,St)},f.Matrix=Ji;var Br=f.matrixMult=function(te,ve){return ve.multiply(te)},ms=new Ji(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=ms;var mi=function(te,ve){if(!Xo[te]){var Ve=(ve instanceof tv?"Sh":"P")+(Object.keys(gn).length+1).toString(10);ve.id=Ve,Xo[te]=Ve,gn[Ve]=ve,On.publish("addPattern",ve)}};f.ShadingPattern=tv,f.TilingPattern=hx,f.addShadingPattern=function(te,ve){return S("addShadingPattern()"),mi(te,ve),this},f.beginTilingPattern=function(te){S("beginTilingPattern()"),Gh(te.boundingBox[0],te.boundingBox[1],te.boundingBox[2]-te.boundingBox[0],te.boundingBox[3]-te.boundingBox[1],te.matrix)},f.endTilingPattern=function(te,ve){S("endTilingPattern()"),ve.stream=me[O].join(`
`),mi(te,ve),On.publish("endTilingPattern",ve),ja.pop().restore()};var Yr=f.__private__.newObject=function(){var te=_s();return xe(te,!0),te},_s=f.__private__.newObjectDeferred=function(){return ie++,re[ie]=function(){return ae},ie},xe=function(te,ve){return ve=typeof ve=="boolean"&&ve,re[te]=ae,ve&&ge(te+" 0 obj"),te},Ne=f.__private__.newAdditionalObject=function(){var te={objId:_s(),content:""};return ue.push(te),te},Re=_s(),Fe=_s(),Oe=f.__private__.decodeColorString=function(te){var ve=te.split(" ");if(ve.length!==2||ve[1]!=="g"&&ve[1]!=="G")ve.length===5&&(ve[4]==="k"||ve[4]==="K")&&(ve=[(1-ve[0])*(1-ve[3]),(1-ve[1])*(1-ve[3]),(1-ve[2])*(1-ve[3]),"r"]);else{var Ve=parseFloat(ve[0]);ve=[Ve,Ve,Ve,"r"]}for(var Xe="#",rt=0;rt<3;rt++)Xe+=("0"+Math.floor(255*parseFloat(ve[rt])).toString(16)).slice(-2);return Xe},Be=f.__private__.encodeColorString=function(te){var ve;typeof te=="string"&&(te={ch1:te});var Ve=te.ch1,Xe=te.ch2,rt=te.ch3,St=te.ch4,Ot=te.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ve=="string"&&Ve.charAt(0)!=="#"){var bi=new Fee(Ve);if(bi.ok)Ve=bi.toHex();else if(!/^\d*\.?\d*$/.test(Ve))throw new Error('Invalid color "'+Ve+'" passed to jsPDF.encodeColorString.')}if(typeof Ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ve)&&(Ve="#"+Ve[1]+Ve[1]+Ve[2]+Ve[2]+Ve[3]+Ve[3]),typeof Ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ve)){var Li=parseInt(Ve.substr(1),16);Ve=Li>>16&255,Xe=Li>>8&255,rt=255&Li}if(Xe===void 0||St===void 0&&Ve===Xe&&Xe===rt)if(typeof Ve=="string")ve=Ve+" "+Ot[0];else switch(te.precision){case 2:ve=A(Ve/255)+" "+Ot[0];break;case 3:default:ve=M(Ve/255)+" "+Ot[0]}else if(St===void 0||ts(St)==="object"){if(St&&!isNaN(St.a)&&St.a===0)return ve=["1.","1.","1.",Ot[1]].join(" ");if(typeof Ve=="string")ve=[Ve,Xe,rt,Ot[1]].join(" ");else switch(te.precision){case 2:ve=[A(Ve/255),A(Xe/255),A(rt/255),Ot[1]].join(" ");break;default:case 3:ve=[M(Ve/255),M(Xe/255),M(rt/255),Ot[1]].join(" ")}}else if(typeof Ve=="string")ve=[Ve,Xe,rt,St,Ot[2]].join(" ");else switch(te.precision){case 2:ve=[A(Ve),A(Xe),A(rt),A(St),Ot[2]].join(" ");break;case 3:default:ve=[M(Ve),M(Xe),M(rt),M(St),Ot[2]].join(" ")}return ve},st=f.__private__.getFilters=function(){return s},Ct=f.__private__.putStream=function(te){var ve=(te=te||{}).data||"",Ve=te.filters||st(),Xe=te.alreadyAppliedFilters||[],rt=te.addLength1||!1,St=ve.length,Ot=te.objectId,bi=function(ni){return ni};if(c!==null&&Ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(bi=Os.encryptor(Ot,0));var Li={};Ve===!0&&(Ve=["FlateEncode"]);var z=te.additionalKeyValues||[],ce=(Li=dn.API.processDataByFilters!==void 0?dn.API.processDataByFilters(ve,Ve):{data:ve,reverseChain:[]}).reverseChain+(Array.isArray(Xe)?Xe.join(" "):Xe.toString());if(Li.data.length!==0&&(z.push({key:"Length",value:Li.data.length}),rt===!0&&z.push({key:"Length1",value:St})),ce.length!=0)if(ce.split("/").length-1==1)z.push({key:"Filter",value:ce});else{z.push({key:"Filter",value:"["+ce+"]"});for(var fe=0;fe<z.length;fe+=1)if(z[fe].key==="DecodeParms"){for(var Ee=[],Ze=0;Ze<Li.reverseChain.split("/").length-1;Ze+=1)Ee.push("null");Ee.push(z[fe].value),z[fe].value="["+Ee.join(" ")+"]"}}ge("<<");for(var dt=0;dt<z.length;dt++)ge("/"+z[dt].key+" "+z[dt].value);ge(">>"),Li.data.length!==0&&(ge("stream"),ge(bi(Li.data)),ge("endstream"))},nt=f.__private__.putPage=function(te){var ve=te.number,Ve=te.data,Xe=te.objId,rt=te.contentsObjId;xe(Xe,!0),ge("<</Type /Page"),ge("/Parent "+te.rootDictionaryObjId+" 0 R"),ge("/Resources "+te.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(_(te.mediaBox.bottomLeftX))+" "+parseFloat(_(te.mediaBox.bottomLeftY))+" "+_(te.mediaBox.topRightX)+" "+_(te.mediaBox.topRightY)+"]"),te.cropBox!==null&&ge("/CropBox ["+_(te.cropBox.bottomLeftX)+" "+_(te.cropBox.bottomLeftY)+" "+_(te.cropBox.topRightX)+" "+_(te.cropBox.topRightY)+"]"),te.bleedBox!==null&&ge("/BleedBox ["+_(te.bleedBox.bottomLeftX)+" "+_(te.bleedBox.bottomLeftY)+" "+_(te.bleedBox.topRightX)+" "+_(te.bleedBox.topRightY)+"]"),te.trimBox!==null&&ge("/TrimBox ["+_(te.trimBox.bottomLeftX)+" "+_(te.trimBox.bottomLeftY)+" "+_(te.trimBox.topRightX)+" "+_(te.trimBox.topRightY)+"]"),te.artBox!==null&&ge("/ArtBox ["+_(te.artBox.bottomLeftX)+" "+_(te.artBox.bottomLeftY)+" "+_(te.artBox.topRightX)+" "+_(te.artBox.topRightY)+"]"),typeof te.userUnit=="number"&&te.userUnit!==1&&ge("/UserUnit "+te.userUnit),On.publish("putPage",{objId:Xe,pageContext:sn[ve],pageNumber:ve,page:Ve}),ge("/Contents "+rt+" 0 R"),ge(">>"),ge("endobj");var St=Ve.join(`
`);return x===y.ADVANCED&&(St+=`
Q`),xe(rt,!0),Ct({data:St,filters:st(),objectId:rt}),ge("endobj"),Xe},ot=f.__private__.putPages=function(){var te,ve,Ve=[];for(te=1;te<=Er;te++)sn[te].objId=_s(),sn[te].contentsObjId=_s();for(te=1;te<=Er;te++)Ve.push(nt({number:te,data:me[te],objId:sn[te].objId,contentsObjId:sn[te].contentsObjId,mediaBox:sn[te].mediaBox,cropBox:sn[te].cropBox,bleedBox:sn[te].bleedBox,trimBox:sn[te].trimBox,artBox:sn[te].artBox,userUnit:sn[te].userUnit,rootDictionaryObjId:Re,resourceDictionaryObjId:Fe}));xe(Re,!0),ge("<</Type /Pages");var Xe="/Kids [";for(ve=0;ve<Er;ve++)Xe+=Ve[ve]+" 0 R ";ge(Xe+"]"),ge("/Count "+Er),ge(">>"),ge("endobj"),On.publish("postPutPages")},lt=function(te){On.publish("putFont",{font:te,out:ge,newObject:Yr,putStream:Ct}),te.isAlreadyPutted!==!0&&(te.objectNumber=Yr(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+dx(te.postScriptName)),ge("/Subtype /Type1"),typeof te.encoding=="string"&&ge("/Encoding /"+te.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},Qt=function(){for(var te in mn)mn.hasOwnProperty(te)&&(h===!1||h===!0&&d.hasOwnProperty(te))&&lt(mn[te])},qt=function(te){te.objectNumber=Yr();var ve=[];ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Form"}),ve.push({key:"BBox",value:"["+[_(te.x),_(te.y),_(te.x+te.width),_(te.y+te.height)].join(" ")+"]"}),ve.push({key:"Matrix",value:"["+te.matrix.toString()+"]"});var Ve=te.pages[1].join(`
`);Ct({data:Ve,additionalKeyValues:ve,objectId:te.objectNumber}),ge("endobj")},wi=function(){for(var te in ps)ps.hasOwnProperty(te)&&qt(ps[te])},oi=function(te,ve){var Ve,Xe=[],rt=1/(ve-1);for(Ve=0;Ve<1;Ve+=rt)Xe.push(Ve);if(Xe.push(1),te[0].offset!=0){var St={offset:0,color:te[0].color};te.unshift(St)}if(te[te.length-1].offset!=1){var Ot={offset:1,color:te[te.length-1].color};te.push(Ot)}for(var bi="",Li=0,z=0;z<Xe.length;z++){for(Ve=Xe[z];Ve>te[Li+1].offset;)Li++;var ce=te[Li].offset,fe=(Ve-ce)/(te[Li+1].offset-ce),Ee=te[Li].color,Ze=te[Li+1].color;bi+=X(Math.round((1-fe)*Ee[0]+fe*Ze[0]).toString(16))+X(Math.round((1-fe)*Ee[1]+fe*Ze[1]).toString(16))+X(Math.round((1-fe)*Ee[2]+fe*Ze[2]).toString(16))}return bi.trim()},ii=function(te,ve){ve||(ve=21);var Ve=Yr(),Xe=oi(te.colors,ve),rt=[];rt.push({key:"FunctionType",value:"0"}),rt.push({key:"Domain",value:"[0.0 1.0]"}),rt.push({key:"Size",value:"["+ve+"]"}),rt.push({key:"BitsPerSample",value:"8"}),rt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ct({data:Xe,additionalKeyValues:rt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ve}),ge("endobj"),te.objectNumber=Yr(),ge("<< /ShadingType "+te.type),ge("/ColorSpace /DeviceRGB");var St="/Coords ["+_(parseFloat(te.coords[0]))+" "+_(parseFloat(te.coords[1]))+" ";te.type===2?St+=_(parseFloat(te.coords[2]))+" "+_(parseFloat(te.coords[3])):St+=_(parseFloat(te.coords[2]))+" "+_(parseFloat(te.coords[3]))+" "+_(parseFloat(te.coords[4]))+" "+_(parseFloat(te.coords[5])),ge(St+="]"),te.matrix&&ge("/Matrix ["+te.matrix.toString()+"]"),ge("/Function "+Ve+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},en=function(te,ve){var Ve=_s(),Xe=Yr();ve.push({resourcesOid:Ve,objectOid:Xe}),te.objectNumber=Xe;var rt=[];rt.push({key:"Type",value:"/Pattern"}),rt.push({key:"PatternType",value:"1"}),rt.push({key:"PaintType",value:"1"}),rt.push({key:"TilingType",value:"1"}),rt.push({key:"BBox",value:"["+te.boundingBox.map(_).join(" ")+"]"}),rt.push({key:"XStep",value:_(te.xStep)}),rt.push({key:"YStep",value:_(te.yStep)}),rt.push({key:"Resources",value:Ve+" 0 R"}),te.matrix&&rt.push({key:"Matrix",value:"["+te.matrix.toString()+"]"}),Ct({data:te.stream,additionalKeyValues:rt,objectId:te.objectNumber}),ge("endobj")},er=function(te){var ve;for(ve in gn)gn.hasOwnProperty(ve)&&(gn[ve]instanceof tv?ii(gn[ve]):gn[ve]instanceof hx&&en(gn[ve],te))},ws=function(te){for(var ve in te.objectNumber=Yr(),ge("<<"),te)switch(ve){case"opacity":ge("/ca "+A(te[ve]));break;case"stroke-opacity":ge("/CA "+A(te[ve]))}ge(">>"),ge("endobj")},lr=function(){var te;for(te in Nr)Nr.hasOwnProperty(te)&&ws(Nr[te])},$r=function(){for(var te in ge("/XObject <<"),ps)ps.hasOwnProperty(te)&&ps[te].objectNumber>=0&&ge("/"+te+" "+ps[te].objectNumber+" 0 R");On.publish("putXobjectDict"),ge(">>")},bl=function(){Os.oid=Yr(),ge("<<"),ge("/Filter /Standard"),ge("/V "+Os.v),ge("/R "+Os.r),ge("/U <"+Os.toHexString(Os.U)+">"),ge("/O <"+Os.toHexString(Os.O)+">"),ge("/P "+Os.P),ge(">>"),ge("endobj")},Eo=function(){for(var te in ge("/Font <<"),mn)mn.hasOwnProperty(te)&&(h===!1||h===!0&&d.hasOwnProperty(te))&&ge("/"+te+" "+mn[te].objectNumber+" 0 R");ge(">>")},Cn=function(){if(Object.keys(gn).length>0){for(var te in ge("/Shading <<"),gn)gn.hasOwnProperty(te)&&gn[te]instanceof tv&&gn[te].objectNumber>=0&&ge("/"+te+" "+gn[te].objectNumber+" 0 R");On.publish("putShadingPatternDict"),ge(">>")}},nr=function(te){if(Object.keys(gn).length>0){for(var ve in ge("/Pattern <<"),gn)gn.hasOwnProperty(ve)&&gn[ve]instanceof f.TilingPattern&&gn[ve].objectNumber>=0&&gn[ve].objectNumber<te&&ge("/"+ve+" "+gn[ve].objectNumber+" 0 R");On.publish("putTilingPatternDict"),ge(">>")}},La=function(){if(Object.keys(Nr).length>0){var te;for(te in ge("/ExtGState <<"),Nr)Nr.hasOwnProperty(te)&&Nr[te].objectNumber>=0&&ge("/"+te+" "+Nr[te].objectNumber+" 0 R");On.publish("putGStateDict"),ge(">>")}},kr=function(te){xe(te.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Eo(),Cn(),nr(te.objectOid),La(),$r(),ge(">>"),ge("endobj")},ic=function(){var te=[];Qt(),lr(),wi(),er(te),On.publish("putResources"),te.forEach(kr),kr({resourcesOid:Fe,objectOid:Number.MAX_SAFE_INTEGER}),On.publish("postPutResources")},Yd=function(){On.publish("putAdditionalObjects");for(var te=0;te<ue.length;te++){var ve=ue[te];xe(ve.objId,!0),ge(ve.content),ge("endobj")}On.publish("postPutAdditionalObjects")},xn=function(te){wn[te.fontName]=wn[te.fontName]||{},wn[te.fontName][te.fontStyle]=te.id},rs=function(te,ve,Ve,Xe,rt){var St={id:"F"+(Object.keys(mn).length+1).toString(10),postScriptName:te,fontName:ve,fontStyle:Ve,encoding:Xe,isStandardFont:rt||!1,metadata:{}};return On.publish("addFont",{font:St,instance:this}),mn[St.id]=St,xn(St),St.id},ep=function(te){for(var ve=0,Ve=We.length;ve<Ve;ve++){var Xe=rs.call(this,te[ve][0],te[ve][1],te[ve][2],We[ve][3],!0);h===!1&&(d[Xe]=!0);var rt=te[ve][0].split("-");xn({id:Xe,fontName:rt[0],fontStyle:rt[1]||""})}On.publish("addFonts",{fonts:mn,dictionary:wn})},co=function(te){return te.foo=function(){try{return te.apply(this,arguments)}catch(Xe){var ve=Xe.stack||"";~ve.indexOf(" at ")&&(ve=ve.split(" at ")[1]);var Ve="Error in function "+ve.split(`
`)[0].split("<")[0]+": "+Xe.message;if(!yn.console)throw new Error(Ve);yn.console.error(Ve,Xe),yn.alert&&alert(Ve)}},te.foo.bar=te,te.foo},xa=function(te,ve){var Ve,Xe,rt,St,Ot,bi,Li,z,ce;if(rt=(ve=ve||{}).sourceEncoding||"Unicode",Ot=ve.outputEncoding,(ve.autoencode||Ot)&&mn[vi].metadata&&mn[vi].metadata[rt]&&mn[vi].metadata[rt].encoding&&(St=mn[vi].metadata[rt].encoding,!Ot&&mn[vi].encoding&&(Ot=mn[vi].encoding),!Ot&&St.codePages&&(Ot=St.codePages[0]),typeof Ot=="string"&&(Ot=St[Ot]),Ot)){for(Li=!1,bi=[],Ve=0,Xe=te.length;Ve<Xe;Ve++)(z=Ot[te.charCodeAt(Ve)])?bi.push(String.fromCharCode(z)):bi.push(te[Ve]),bi[Ve].charCodeAt(0)>>8&&(Li=!0);te=bi.join("")}for(Ve=te.length;Li===void 0&&Ve!==0;)te.charCodeAt(Ve-1)>>8&&(Li=!0),Ve--;if(!Li)return te;for(bi=ve.noBOM?[]:[254,255],Ve=0,Xe=te.length;Ve<Xe;Ve++){if((ce=(z=te.charCodeAt(Ve))>>8)>>8)throw new Error("Character at position "+Ve+" of string '"+te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bi.push(ce),bi.push(z-(ce<<8))}return String.fromCharCode.apply(void 0,bi)},Ao=f.__private__.pdfEscape=f.pdfEscape=function(te,ve){return xa(te,ve).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mo=f.__private__.beginPage=function(te){me[++Er]=[],sn[Er]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(te[0]),topRightY:Number(te[1])}},$o(Er),De(me[O])},ba=function(te,ve){var Ve,Xe,rt;switch(e=ve||e,typeof te=="string"&&(Ve=v(te.toLowerCase()),Array.isArray(Ve)&&(Xe=Ve[0],rt=Ve[1])),Array.isArray(te)&&(Xe=te[0]*Ht,rt=te[1]*Ht),isNaN(Xe)&&(Xe=n[0],rt=n[1]),(Xe>14400||rt>14400)&&(Rs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Xe=Math.min(14400,Xe),rt=Math.min(14400,rt)),n=[Xe,rt],e.substr(0,1)){case"l":rt>Xe&&(n=[rt,Xe]);break;case"p":Xe>rt&&(n=[rt,Xe])}Mo(n),Yn(Qr),ge(Tl),ld!==0&&ge(ld+" J"),Hh!==0&&ge(Hh+" j"),On.publish("addPage",{pageNumber:Er})},ss=function(te){te>0&&te<=Er&&(me.splice(te,1),sn.splice(te,1),Er--,O>Er&&(O=Er),this.setPage(O))},$o=function(te){te>0&&te<=Er&&(O=te)},rd=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return me.length-1},cr=function(te,ve,Ve){var Xe,rt=void 0;return Ve=Ve||{},te=te!==void 0?te:mn[vi].fontName,ve=ve!==void 0?ve:mn[vi].fontStyle,Xe=te.toLowerCase(),wn[Xe]!==void 0&&wn[Xe][ve]!==void 0?rt=wn[Xe][ve]:wn[te]!==void 0&&wn[te][ve]!==void 0?rt=wn[te][ve]:Ve.disableWarning===!1&&Rs.warn("Unable to look up font label for font '"+te+"', '"+ve+"'. Refer to getFontList() for available fonts."),rt||Ve.noFallback||(rt=wn.times[ve])==null&&(rt=wn.times.normal),rt},sd=f.__private__.putInfo=function(){var te=Yr(),ve=function(Xe){return Xe};for(var Ve in c!==null&&(ve=Os.encryptor(te,0)),ge("<<"),ge("/Producer ("+Ao(ve("jsPDF "+dn.version))+")"),fi)fi.hasOwnProperty(Ve)&&fi[Ve]&&ge("/"+Ve.substr(0,1).toUpperCase()+Ve.substr(1)+" ("+Ao(ve(fi[Ve]))+")");ge("/CreationDate ("+Ao(ve(G))+")"),ge(">>"),ge("endobj")},Qo=f.__private__.putCatalog=function(te){var ve=(te=te||{}).rootDictionaryObjId||Re;switch(Yr(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+ve+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ve=""+qe;Ve.substr(Ve.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+A(qe)+"]")}switch(ai||(ai="continuous"),ai){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}at&&ge("/PageMode /"+at),On.publish("putCatalog"),ge(">>"),ge("endobj")},mu=f.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(ie+1)),ge("/Root "+ie+" 0 R"),ge("/Info "+(ie-1)+" 0 R"),c!==null&&ge("/Encrypt "+Os.oid+" 0 R"),ge("/ID [ <"+R+"> <"+R+"> ]"),ge(">>")},tp=f.__private__.putHeader=function(){ge("%PDF-"+m),ge("%\xBA\xDF\xAC\xE0")},$d=f.__private__.putXRef=function(){var te="0000000000";ge("xref"),ge("0 "+(ie+1)),ge("0000000000 65535 f ");for(var ve=1;ve<=ie;ve++)typeof re[ve]=="function"?ge((te+re[ve]()).slice(-10)+" 00000 n "):re[ve]!==void 0?ge((te+re[ve]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},nc=f.__private__.buildDocument=function(){ze(),De(q),On.publish("buildDocument"),tp(),ot(),Yd(),ic(),c!==null&&bl(),sd(),Qo();var te=ae;return $d(),mu(),ge("startxref"),ge(""+te),ge("%%EOF"),De(me[O]),q.join(`
`)},ad=f.__private__.getBlob=function(te){return new Blob([ct(te)],{type:"application/pdf"})},gu=f.output=f.__private__.output=co(function(te,ve){switch(typeof(ve=ve||{})=="string"?ve={filename:ve}:ve.filename=ve.filename||"generated.pdf",te){case void 0:return nc();case"save":f.save(ve.filename);break;case"arraybuffer":return ct(nc());case"blob":return ad(nc());case"bloburi":case"bloburl":if(yn.URL!==void 0&&typeof yn.URL.createObjectURL=="function")return yn.URL&&yn.URL.createObjectURL(ad(nc()))||void 0;Rs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ve="",Xe=nc();try{Ve=CN(Xe)}catch{Ve=CN(unescape(encodeURIComponent(Xe)))}return"data:application/pdf;filename="+ve.filename+";base64,"+Ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yn)==="[object Window]"){var rt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",St=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ve.pdfObjectUrl&&(rt=ve.pdfObjectUrl,St="");var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+rt+'"'+St+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ve)+");<\/script></body></html>",bi=yn.open();return bi!==null&&bi.document.write(Ot),bi}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yn)==="[object Window]"){var Li='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ve.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ve.filename+'" width="500px" height="400px" /></body></html>',z=yn.open();if(z!==null){z.document.write(Li);var ce=this;z.document.documentElement.querySelector("#pdfViewer").onload=function(){z.document.title=ve.filename,z.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ce.output("bloburl"))}}return z}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ve)+'"></iframe></body></html>',Ee=yn.open();if(Ee!==null&&(Ee.document.write(fe),Ee.document.title=ve.filename),Ee||typeof safari>"u")return Ee;break;case"datauri":case"dataurl":return yn.document.location.href=this.output("datauristring",ve);default:return null}}),ip=function(te){return Array.isArray(Pc)===!0&&Pc.indexOf(te)>-1};switch(r){case"pt":Ht=1;break;case"mm":Ht=72/25.4;break;case"cm":Ht=72/2.54;break;case"in":Ht=72;break;case"px":Ht=ip("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ht=12;break;case"ex":Ht=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ht=r}var Os=null;Y(),j();var Rc=function(te){return c!==null?Os.encryptor(te,0):function(ve){return ve}},hn=f.__private__.getPageInfo=f.getPageInfo=function(te){if(isNaN(te)||te%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:sn[te].objId,pageNumber:te,pageContext:sn[te]}},Yi=f.__private__.getPageInfoByObjId=function(te){if(isNaN(te)||te%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ve in sn)if(sn[ve].objId===te)break;return hn(ve)},Ar=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:sn[O].objId,pageNumber:O,pageContext:sn[O]}};f.addPage=function(){return ba.apply(this,arguments),this},f.setPage=function(){return $o.apply(this,arguments),De.call(this,me[O]),this},f.insertPage=function(te){return this.addPage(),this.movePage(O,te),this},f.movePage=function(te,ve){var Ve,Xe;if(te>ve){Ve=me[te],Xe=sn[te];for(var rt=te;rt>ve;rt--)me[rt]=me[rt-1],sn[rt]=sn[rt-1];me[ve]=Ve,sn[ve]=Xe,this.setPage(ve)}else if(te<ve){Ve=me[te],Xe=sn[te];for(var St=te;St<ve;St++)me[St]=me[St+1],sn[St]=sn[St+1];me[ve]=Ve,sn[ve]=Xe,this.setPage(ve)}return this},f.deletePage=function(){return ss.apply(this,arguments),this},f.__private__.text=f.text=function(te,ve,Ve,Xe,rt){var St,Ot,bi,Li,z,ce,fe,Ee,Ze,dt=(Xe=Xe||{}).scope||this;if(typeof te=="number"&&typeof ve=="number"&&(typeof Ve=="string"||Array.isArray(Ve))){var ni=Ve;Ve=ve,ve=te,te=ni}if(arguments[3]instanceof Ji?(S("The transform parameter of text() with a Matrix value"),Ze=rt):(bi=arguments[4],Li=arguments[5],ts(fe=arguments[3])==="object"&&fe!==null||(typeof bi=="string"&&(Li=bi,bi=null),typeof fe=="string"&&(Li=fe,fe=null),typeof fe=="number"&&(bi=fe,fe=null),Xe={flags:fe,angle:bi,align:Li})),isNaN(ve)||isNaN(Ve)||te==null)throw new Error("Invalid arguments passed to jsPDF.text");if(te.length===0)return dt;var Qi="",ur=!1,bn=typeof Xe.lineHeightFactor=="number"?Xe.lineHeightFactor:rc,rr=dt.internal.scaleFactor;function ca(gs){return gs=gs.split("	").join(Array(Xe.TabLen||9).join(" ")),Ao(gs,fe)}function ho(gs){for(var dr,qs=gs.concat(),Ca=[],hc=qs.length;hc--;)typeof(dr=qs.shift())=="string"?Ca.push(dr):Array.isArray(gs)&&(dr.length===1||dr[1]===void 0&&dr[2]===void 0)?Ca.push(dr[0]):Ca.push([dr[0],dr[1],dr[2]]);return Ca}function fo(gs,dr){var qs;if(typeof gs=="string")qs=dr(gs)[0];else if(Array.isArray(gs)){for(var Ca,hc,z0=gs.concat(),rh=[],Jh=z0.length;Jh--;)typeof(Ca=z0.shift())=="string"?rh.push(dr(Ca)[0]):Array.isArray(Ca)&&typeof Ca[0]=="string"&&(hc=dr(Ca[0],Ca[1],Ca[2]),rh.push([hc[0],hc[1],hc[2]]));qs=rh}return qs}var Jo=!1,dd=!0;if(typeof te=="string")Jo=!0;else if(Array.isArray(te)){var Xh=te.concat();Ot=[];for(var lm,Ls=Xh.length;Ls--;)(typeof(lm=Xh.shift())!="string"||Array.isArray(lm)&&typeof lm[0]!="string")&&(dd=!1);Jo=dd}if(Jo===!1)throw new Error('Type of text must be string or Array. "'+te+'" is not recognized.');typeof te=="string"&&(te=te.match(/[\r?\n]/)?te.split(/\r\n|\r|\n/g):[te]);var th=Ue/dt.internal.scaleFactor,cm=th*(bn-1);switch(Xe.baseline){case"bottom":Ve-=cm;break;case"top":Ve+=th-cm;break;case"hanging":Ve+=th-2*cm;break;case"middle":Ve+=th/2-cm}if((ce=Xe.maxWidth||0)>0&&(typeof te=="string"?te=dt.splitTextToSize(te,ce):Object.prototype.toString.call(te)==="[object Array]"&&(te=te.reduce(function(gs,dr){return gs.concat(dt.splitTextToSize(dr,ce))},[]))),St={text:te,x:ve,y:Ve,options:Xe,mutex:{pdfEscape:Ao,activeFontKey:vi,fonts:mn,activeFontSize:Ue}},On.publish("preProcessText",St),te=St.text,bi=(Xe=St.options).angle,!(Ze instanceof Ji)&&bi&&typeof bi=="number"){bi*=Math.PI/180,Xe.rotationDirection===0&&(bi=-bi),x===y.ADVANCED&&(bi=-bi);var Yh=Math.cos(bi),B0=Math.sin(bi);Ze=new Ji(Yh,B0,-B0,Yh,0,0)}else bi&&bi instanceof Ji&&(Ze=bi);x!==y.ADVANCED||Ze||(Ze=ms),(z=Xe.charSpace||_u)!==void 0&&(Qi+=_(I(z))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ee=Xe.horizontalScale)!==void 0&&(Qi+=_(100*Ee)+` Tz
`),Xe.lang;var Js=-1,qx=Xe.renderingMode!==void 0?Xe.renderingMode:Xe.stroke,hd=dt.internal.getCurrentPageInfo().pageContext;switch(qx){case 0:case!1:case"fill":Js=0;break;case 1:case!0:case"stroke":Js=1;break;case 2:case"fillThenStroke":Js=2;break;case 3:case"invisible":Js=3;break;case 4:case"fillAndAddForClipping":Js=4;break;case 5:case"strokeAndAddPathForClipping":Js=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Js=6;break;case 7:case"addToPathForClipping":Js=7}var Rv=hd.usedRenderingMode!==void 0?hd.usedRenderingMode:-1;Js!==-1?Qi+=Js+` Tr
`:Rv!==-1&&(Qi+=`0 Tr
`),Js!==-1&&(hd.usedRenderingMode=Js),Li=Xe.align||"left";var _a,ih=Ue*bn,V0=dt.internal.pageSize.getWidth(),um=mn[vi];z=Xe.charSpace||_u,ce=Xe.maxWidth||0,fe=Object.assign({autoencode:!0,noBOM:!0},Xe.flags);var wu=[],nh=function(gs){return dt.getStringUnitWidth(gs,{font:um,charSpace:z,fontSize:Ue,doKerning:!1})*Ue/rr};if(Object.prototype.toString.call(te)==="[object Array]"){var po;Ot=ho(te),Li!=="left"&&(_a=Ot.map(nh));var wa,Cu=0;if(Li==="right"){ve-=_a[0],te=[],Ls=Ot.length;for(var Su=0;Su<Ls;Su++)Su===0?(wa=Io(ve),po=kc(Ve)):(wa=I(Cu-_a[Su]),po=-ih),te.push([Ot[Su],wa,po]),Cu=_a[Su]}else if(Li==="center"){ve-=_a[0]/2,te=[],Ls=Ot.length;for(var fd=0;fd<Ls;fd++)fd===0?(wa=Io(ve),po=kc(Ve)):(wa=I((Cu-_a[fd])/2),po=-ih),te.push([Ot[fd],wa,po]),Cu=_a[fd]}else if(Li==="left"){te=[],Ls=Ot.length;for(var dm=0;dm<Ls;dm++)te.push(Ot[dm])}else if(Li==="justify"&&um.encoding==="Identity-H"){te=[],Ls=Ot.length,ce=ce!==0?ce:V0;for(var Oc=0,ua=0;ua<Ls;ua++)if(po=ua===0?kc(Ve):-ih,wa=ua===0?Io(ve):Oc,ua<Ls-1){var hm=I((ce-_a[ua])/(Ot[ua].split(" ").length-1)),qo=Ot[ua].split(" ");te.push([qo[0]+" ",wa,po]),Oc=0;for(var lc=1;lc<qo.length;lc++){var fm=(nh(qo[lc-1]+" "+qo[lc])-nh(qo[lc]))*rr+hm;lc==qo.length-1?te.push([qo[lc],fm,0]):te.push([qo[lc]+" ",fm,0]),Oc-=fm}}else te.push([Ot[ua],wa,po]);te.push(["",Oc,0])}else{if(Li!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(te=[],Ls=Ot.length,ce=ce!==0?ce:V0,ua=0;ua<Ls;ua++)po=ua===0?kc(Ve):-ih,wa=ua===0?Io(ve):0,ua<Ls-1?wu.push(_(I((ce-_a[ua])/(Ot[ua].split(" ").length-1)))):wu.push(0),te.push([Ot[ua],wa,po])}}var cc=typeof Xe.R2L=="boolean"?Xe.R2L:Ft;cc===!0&&(te=fo(te,function(gs,dr,qs){return[gs.split("").reverse().join(""),dr,qs]})),St={text:te,x:ve,y:Ve,options:Xe,mutex:{pdfEscape:Ao,activeFontKey:vi,fonts:mn,activeFontSize:Ue}},On.publish("postProcessText",St),te=St.text,ur=St.mutex.isHex||!1;var $h=mn[vi].encoding;$h!=="WinAnsiEncoding"&&$h!=="StandardEncoding"||(te=fo(te,function(gs,dr,qs){return[ca(gs),dr,qs]})),Ot=ho(te),te=[];for(var sp,pd,Qh,Kh=0,pm=1,Tu=Array.isArray(Ot[0])?pm:Kh,Zh="",md=function(gs,dr,qs){var Ca="";return qs instanceof Ji?(qs=typeof Xe.angle=="number"?Br(qs,new Ji(1,0,0,1,gs,dr)):Br(new Ji(1,0,0,1,gs,dr),qs),x===y.ADVANCED&&(qs=Br(new Ji(1,0,0,-1,0,0),qs)),Ca=qs.join(" ")+` Tm
`):Ca=_(gs)+" "+_(dr)+` Td
`,Ca},uc=0;uc<Ot.length;uc++){switch(Zh="",Tu){case pm:Qh=(ur?"<":"(")+Ot[uc][0]+(ur?">":")"),sp=parseFloat(Ot[uc][1]),pd=parseFloat(Ot[uc][2]);break;case Kh:Qh=(ur?"<":"(")+Ot[uc]+(ur?">":")"),sp=Io(ve),pd=kc(Ve)}wu!==void 0&&wu[uc]!==void 0&&(Zh=wu[uc]+` Tw
`),uc===0?te.push(Zh+md(sp,pd,Ze)+Qh):Tu===Kh?te.push(Zh+Qh):Tu===pm&&te.push(Zh+md(sp,pd,Ze)+Qh)}te=Tu===Kh?te.join(` Tj
T* `):te.join(` Tj
`),te+=` Tj
`;var dc=`BT
/`;return dc+=vi+" "+Ue+` Tf
`,dc+=_(Ue*bn)+` TL
`,dc+=od+`
`,dc+=Qi,dc+=te,ge(dc+="ET"),d[vi]=!0,dt};var vu=f.__private__.clip=f.clip=function(te){return ge(te==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return vu("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ge("n"),this};var _l=f.__private__.isValidStyle=function(te){var ve=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(te)!==-1&&(ve=!0),ve};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(te){return _l(te)&&(l=te),this};var zh=f.__private__.getStyle=f.getStyle=function(te){var ve=l;switch(te){case"D":case"S":ve="S";break;case"F":ve="f";break;case"FD":case"DF":ve="B";break;case"f":case"f*":case"B":case"B*":ve=te}return ve},Uh=f.close=function(){return ge("h"),this};f.stroke=function(){return ge("S"),this},f.fill=function(te){return la("f",te),this},f.fillEvenOdd=function(te){return la("f*",te),this},f.fillStroke=function(te){return la("B",te),this},f.fillStrokeEvenOdd=function(te){return la("B*",te),this};var la=function(te,ve){ts(ve)==="object"?Cs(ve,te):ge(te)},Qd=function(te){te===null||x===y.ADVANCED&&te===void 0||(te=zh(te),ge(te))};function Kd(te,ve,Ve,Xe,rt){var St=new hx(ve||this.boundingBox,Ve||this.xStep,Xe||this.yStep,this.gState,rt||this.matrix);St.stream=this.stream;var Ot=te+"$$"+this.cloneIndex+++"$$";return mi(Ot,St),St}var Cs=function(te,ve){var Ve=Xo[te.key],Xe=gn[Ve];if(Xe instanceof tv)ge("q"),ge(wl(ve)),Xe.gState&&f.setGState(Xe.gState),ge(te.matrix.toString()+" cm"),ge("/"+Ve+" sh"),ge("Q");else if(Xe instanceof hx){var rt=new Ji(1,0,0,-1,0,ac());te.matrix&&(rt=rt.multiply(te.matrix||ms),Ve=Kd.call(Xe,te.key,te.boundingBox,te.xStep,te.yStep,rt).id),ge("q"),ge("/Pattern cs"),ge("/"+Ve+" scn"),Xe.gState&&f.setGState(Xe.gState),ge(ve),ge("Q")}},wl=function(te){switch(te){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Zd=f.moveTo=function(te,ve){return ge(_(I(te))+" "+_(k(ve))+" m"),this},Cl=f.lineTo=function(te,ve){return ge(_(I(te))+" "+_(k(ve))+" l"),this},Sl=f.curveTo=function(te,ve,Ve,Xe,rt,St){return ge([_(I(te)),_(k(ve)),_(I(Ve)),_(k(Xe)),_(I(rt)),_(k(St)),"c"].join(" ")),this};f.__private__.line=f.line=function(te,ve,Ve,Xe,rt){if(isNaN(te)||isNaN(ve)||isNaN(Ve)||isNaN(Xe)||!_l(rt))throw new Error("Invalid arguments passed to jsPDF.line");return x===y.COMPAT?this.lines([[Ve-te,Xe-ve]],te,ve,[1,1],rt||"S"):this.lines([[Ve-te,Xe-ve]],te,ve,[1,1]).stroke()},f.__private__.lines=f.lines=function(te,ve,Ve,Xe,rt,St){var Ot,bi,Li,z,ce,fe,Ee,Ze,dt,ni,Qi,ur;if(typeof te=="number"&&(ur=Ve,Ve=ve,ve=te,te=ur),Xe=Xe||[1,1],St=St||!1,isNaN(ve)||isNaN(Ve)||!Array.isArray(te)||!Array.isArray(Xe)||!_l(rt)||typeof St!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Zd(ve,Ve),Ot=Xe[0],bi=Xe[1],z=te.length,ni=ve,Qi=Ve,Li=0;Li<z;Li++)(ce=te[Li]).length===2?(ni=ce[0]*Ot+ni,Qi=ce[1]*bi+Qi,Cl(ni,Qi)):(fe=ce[0]*Ot+ni,Ee=ce[1]*bi+Qi,Ze=ce[2]*Ot+ni,dt=ce[3]*bi+Qi,ni=ce[4]*Ot+ni,Qi=ce[5]*bi+Qi,Sl(fe,Ee,Ze,dt,ni,Qi));return St&&Uh(),Qd(rt),this},f.path=function(te){for(var ve=0;ve<te.length;ve++){var Ve=te[ve],Xe=Ve.c;switch(Ve.op){case"m":Zd(Xe[0],Xe[1]);break;case"l":Cl(Xe[0],Xe[1]);break;case"c":Sl.apply(this,Xe);break;case"h":Uh()}}return this},f.__private__.rect=f.rect=function(te,ve,Ve,Xe,rt){if(isNaN(te)||isNaN(ve)||isNaN(Ve)||isNaN(Xe)||!_l(rt))throw new Error("Invalid arguments passed to jsPDF.rect");return x===y.COMPAT&&(Xe=-Xe),ge([_(I(te)),_(k(ve)),_(I(Ve)),_(I(Xe)),"re"].join(" ")),Qd(rt),this},f.__private__.triangle=f.triangle=function(te,ve,Ve,Xe,rt,St,Ot){if(isNaN(te)||isNaN(ve)||isNaN(Ve)||isNaN(Xe)||isNaN(rt)||isNaN(St)||!_l(Ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ve-te,Xe-ve],[rt-Ve,St-Xe],[te-rt,ve-St]],te,ve,[1,1],Ot,!0),this},f.__private__.roundedRect=f.roundedRect=function(te,ve,Ve,Xe,rt,St,Ot){if(isNaN(te)||isNaN(ve)||isNaN(Ve)||isNaN(Xe)||isNaN(rt)||isNaN(St)||!_l(Ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var bi=4/3*(Math.SQRT2-1);return rt=Math.min(rt,.5*Ve),St=Math.min(St,.5*Xe),this.lines([[Ve-2*rt,0],[rt*bi,0,rt,St-St*bi,rt,St],[0,Xe-2*St],[0,St*bi,-rt*bi,St,-rt,St],[2*rt-Ve,0],[-rt*bi,0,-rt,-St*bi,-rt,-St],[0,2*St-Xe],[0,-St*bi,rt*bi,-St,rt,-St]],te+rt,ve,[1,1],Ot,!0),this},f.__private__.ellipse=f.ellipse=function(te,ve,Ve,Xe,rt){if(isNaN(te)||isNaN(ve)||isNaN(Ve)||isNaN(Xe)||!_l(rt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var St=4/3*(Math.SQRT2-1)*Ve,Ot=4/3*(Math.SQRT2-1)*Xe;return Zd(te+Ve,ve),Sl(te+Ve,ve-Ot,te+St,ve-Xe,te,ve-Xe),Sl(te-St,ve-Xe,te-Ve,ve-Ot,te-Ve,ve),Sl(te-Ve,ve+Ot,te-St,ve+Xe,te,ve+Xe),Sl(te+St,ve+Xe,te+Ve,ve+Ot,te+Ve,ve),Qd(rt),this},f.__private__.circle=f.circle=function(te,ve,Ve,Xe){if(isNaN(te)||isNaN(ve)||isNaN(Ve)||!_l(Xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(te,ve,Ve,Ve,Xe)},f.setFont=function(te,ve,Ve){return Ve&&(ve=C(ve,Ve)),vi=cr(te,ve,{disableWarning:!1}),this};var np=f.__private__.getFont=f.getFont=function(){return mn[cr.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var te,ve,Ve={};for(te in wn)if(wn.hasOwnProperty(te))for(ve in Ve[te]=[],wn[te])wn[te].hasOwnProperty(ve)&&Ve[te].push(ve);return Ve},f.addFont=function(te,ve,Ve,Xe,rt){var St=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&St.indexOf(arguments[3])!==-1?rt=arguments[3]:arguments[3]&&St.indexOf(arguments[3])==-1&&(Ve=C(Ve,Xe)),rt=rt||"Identity-H",rs.call(this,te,ve,Ve,rt)};var rc,Qr=t.lineWidth||.200025,Jd=f.__private__.getLineWidth=f.getLineWidth=function(){return Qr},Yn=f.__private__.setLineWidth=f.setLineWidth=function(te){return Qr=te,ge(_(I(te))+" w"),this};f.__private__.setLineDash=dn.API.setLineDash=dn.API.setLineDashPattern=function(te,ve){if(te=te||[],ve=ve||0,isNaN(ve)||!Array.isArray(te))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return te=te.map(function(Ve){return _(I(Ve))}).join(" "),ve=_(I(ve)),ge("["+te+"] "+ve+" d"),this};var rp=f.__private__.getLineHeight=f.getLineHeight=function(){return Ue*rc};f.__private__.getLineHeight=f.getLineHeight=function(){return Ue*rc};var uo=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(te){return typeof(te=te||1.15)=="number"&&(rc=te),this},yu=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return rc};uo(t.lineHeight);var Io=f.__private__.getHorizontalCoordinate=function(te){return I(te)},kc=f.__private__.getVerticalCoordinate=function(te){return x===y.ADVANCED?te:sn[O].mediaBox.topRightY-sn[O].mediaBox.bottomLeftY-I(te)},Ko=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(te){return _(Io(te))},xu=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(te){return _(kc(te))},Tl=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Oe(Tl)},f.__private__.setStrokeColor=f.setDrawColor=function(te,ve,Ve,Xe){return Tl=Be({ch1:te,ch2:ve,ch3:Ve,ch4:Xe,pdfColorType:"draw",precision:2}),ge(Tl),this};var bu=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Oe(bu)},f.__private__.setFillColor=f.setFillColor=function(te,ve,Ve,Xe){return bu=Be({ch1:te,ch2:ve,ch3:Ve,ch4:Xe,pdfColorType:"fill",precision:2}),ge(bu),this};var od=t.textColor||"0 g",qd=f.__private__.getTextColor=f.getTextColor=function(){return Oe(od)};f.__private__.setTextColor=f.setTextColor=function(te,ve,Ve,Xe){return od=Be({ch1:te,ch2:ve,ch3:Ve,ch4:Xe,pdfColorType:"text",precision:3}),this};var _u=t.charSpace,Zo=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(_u||0)};f.__private__.setCharSpace=f.setCharSpace=function(te){if(isNaN(te))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _u=te,this};var ld=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(te){var ve=f.CapJoinStyles[te];if(ve===void 0)throw new Error("Line cap style of '"+te+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ld=ve,ge(ve+" J"),this};var Hh=0;f.__private__.setLineJoin=f.setLineJoin=function(te){var ve=f.CapJoinStyles[te];if(ve===void 0)throw new Error("Line join style of '"+te+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hh=ve,ge(ve+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(te){if(te=te||0,isNaN(te))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(_(I(te))+" M"),this},f.GState=$M,f.setGState=function(te){(te=typeof te=="string"?Nr[To[te]]:El(null,te)).equals(lo)||(ge("/"+te.id+" gs"),lo=te)};var El=function(te,ve){if(!te||!To[te]){var Ve=!1;for(var Xe in Nr)if(Nr.hasOwnProperty(Xe)&&Nr[Xe].equals(ve)){Ve=!0;break}if(Ve)ve=Nr[Xe];else{var rt="GS"+(Object.keys(Nr).length+1).toString(10);Nr[rt]=ve,ve.id=rt}return te&&(To[te]=ve.id),On.publish("addGState",ve),ve}};f.addGState=function(te,ve){return El(te,ve),this},f.saveGraphicsState=function(){return ge("q"),Xr.push({key:vi,size:Ue,color:od}),this},f.restoreGraphicsState=function(){ge("Q");var te=Xr.pop();return vi=te.key,Ue=te.size,od=te.color,lo=null,this},f.setCurrentTransformationMatrix=function(te){return ge(te.toString()+" cm"),this},f.comment=function(te){return ge("#"+te),this};var sc=function(te,ve){var Ve=te||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ve},set:function(St){isNaN(St)||(Ve=parseFloat(St))}});var Xe=ve||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Xe},set:function(St){isNaN(St)||(Xe=parseFloat(St))}});var rt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return rt},set:function(St){rt=St.toString()}}),this},eh=function(te,ve,Ve,Xe){sc.call(this,te,ve),this.type="rect";var rt=Ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return rt},set:function(Ot){isNaN(Ot)||(rt=parseFloat(Ot))}});var St=Xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return St},set:function(Ot){isNaN(Ot)||(St=parseFloat(Ot))}}),this},cd=function(){this.page=Er,this.currentPage=O,this.pages=me.slice(0),this.pagesContext=sn.slice(0),this.x=xi,this.y=Ti,this.matrix=Tr,this.width=Fc(O),this.height=ac(O),this.outputDestination=ke,this.id="",this.objectNumber=-1};cd.prototype.restore=function(){Er=this.page,O=this.currentPage,sn=this.pagesContext,me=this.pages,xi=this.x,Ti=this.y,Tr=this.matrix,Wh(O,this.width),oc(O,this.height),ke=this.outputDestination};var Gh=function(te,ve,Ve,Xe,rt){ja.push(new cd),Er=O=0,me=[],xi=te,Ti=ve,Tr=rt,Mo([Ve,Xe])},jh=function(te){if(Yo[te])ja.pop().restore();else{var ve=new cd,Ve="Xo"+(Object.keys(ps).length+1).toString(10);ve.id=Ve,Yo[te]=Ve,ps[Ve]=ve,On.publish("addFormObject",ve),ja.pop().restore()}};for(var ud in f.beginFormObject=function(te,ve,Ve,Xe,rt){return Gh(te,ve,Ve,Xe,rt),this},f.endFormObject=function(te){return jh(te),this},f.doFormObject=function(te,ve){var Ve=ps[Yo[te]];return ge("q"),ge(ve.toString()+" cm"),ge("/"+Ve.id+" Do"),ge("Q"),this},f.getFormObject=function(te){var ve=ps[Yo[te]];return{x:ve.x,y:ve.y,width:ve.width,height:ve.height,matrix:ve.matrix}},f.save=function(te,ve){return te=te||"generated.pdf",(ve=ve||{}).returnPromise=ve.returnPromise||!1,ve.returnPromise===!1?(ev(ad(nc()),te),typeof ev.unload=="function"&&yn.setTimeout&&setTimeout(ev.unload,911),this):new Promise(function(Ve,Xe){try{var rt=ev(ad(nc()),te);typeof ev.unload=="function"&&yn.setTimeout&&setTimeout(ev.unload,911),Ve(rt)}catch(St){Xe(St.message)}})},dn.API)dn.API.hasOwnProperty(ud)&&(ud==="events"&&dn.API.events.length?function(te,ve){var Ve,Xe,rt;for(rt=ve.length-1;rt!==-1;rt--)Ve=ve[rt][0],Xe=ve[rt][1],te.subscribe.apply(te,[Ve].concat(typeof Xe=="function"?[Xe]:Xe))}(On,dn.API.events):f[ud]=dn.API[ud]);var Fc=f.getPageWidth=function(te){return(sn[te=te||O].mediaBox.topRightX-sn[te].mediaBox.bottomLeftX)/Ht},Wh=f.setPageWidth=function(te,ve){sn[te].mediaBox.topRightX=ve*Ht+sn[te].mediaBox.bottomLeftX},ac=f.getPageHeight=function(te){return(sn[te=te||O].mediaBox.topRightY-sn[te].mediaBox.bottomLeftY)/Ht},oc=f.setPageHeight=function(te,ve){sn[te].mediaBox.topRightY=ve*Ht+sn[te].mediaBox.bottomLeftY};return f.internal={pdfEscape:Ao,getStyle:zh,getFont:np,getFontSize:it,getCharSpace:Zo,getTextColor:qd,getLineHeight:rp,getLineHeightFactor:yu,getLineWidth:Jd,write:Et,getHorizontalCoordinate:Io,getVerticalCoordinate:kc,getCoordinateString:Ko,getVerticalCoordinateString:xu,collections:{},newObject:Yr,newAdditionalObject:Ne,newObjectDeferred:_s,newObjectDeferredBegin:xe,getFilters:st,putStream:Ct,events:On,scaleFactor:Ht,pageSize:{getWidth:function(){return Fc(O)},setWidth:function(te){Wh(O,te)},getHeight:function(){return ac(O)},setHeight:function(te){oc(O,te)}},encryptionOptions:c,encryption:Os,getEncryptor:Rc,output:gu,getNumberOfPages:rd,pages:me,out:ge,f2:A,f3:M,getPageInfo:hn,getPageInfoByObjId:Yi,getCurrentPageInfo:Ar,getPDFVersion:p,Point:sc,Rectangle:eh,Matrix:Ji,hasHotfix:ip},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Fc(O)},set:function(te){Wh(O,te)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return ac(O)},set:function(te){oc(O,te)},enumerable:!0,configurable:!0}),ep.call(f,We),vi="F1",ba(n,e),On.publish("initialized"),f}ux.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},ux.prototype.toHexString=function(t){return t.split("").map(function(i){return("0"+(255&i.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ux.prototype.hexToBytes=function(t){for(var i=[],e=0;e<t.length;e+=2)i.push(String.fromCharCode(parseInt(t.substr(e,2),16)));return i.join("")},ux.prototype.processOwnerPassword=function(t,i){return TN(SN(i).substr(0,5),t)},ux.prototype.encryptor=function(t,i){var e=SN(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&i,i>>8&255)).substr(0,10);return function(r){return TN(e,r)}},$M.prototype.equals=function(t){var i,e="id,objectNumber,equals";if(!t||ts(t)!==ts(this))return!1;var r=0;for(i in this)if(!(e.indexOf(i)>=0)){if(this.hasOwnProperty(i)&&!t.hasOwnProperty(i)||this[i]!==t[i])return!1;r++}for(i in t)t.hasOwnProperty(i)&&e.indexOf(i)<0&&r--;return r===0},dn.API={events:[]},dn.version="3.0.1";var Fa=dn.API,IN=1,nv=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lx=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pn=function(t){return t.toFixed(2)},g0=function(t){return t.toFixed(5)};Fa.__acroform__={};var lu=function(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t},_ee=function(t){return t*IN},Of=function(t){var i=new Bee,e=Ui.internal.getHeight(t)||0,r=Ui.internal.getWidth(t)||0;return i.BBox=[0,0,Number(Pn(r)),Number(Pn(e))],i},qFe=Fa.__acroform__.setBit=function(t,i){if(t=t||0,i=i||0,isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<i},eOe=Fa.__acroform__.clearBit=function(t,i){if(t=t||0,i=i||0,isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<i)},tOe=Fa.__acroform__.getBit=function(t,i){if(isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<i?1:0},Ua=Fa.__acroform__.getBitForPdf=function(t,i){if(isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return tOe(t,i-1)},Ha=Fa.__acroform__.setBitForPdf=function(t,i){if(isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return qFe(t,i-1)},Ga=Fa.__acroform__.clearBitForPdf=function(t,i){if(isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return eOe(t,i-1)},iOe=Fa.__acroform__.calculateCoordinates=function(t,i){var e=i.internal.getHorizontalCoordinate,r=i.internal.getVerticalCoordinate,n=t[0],a=t[1],s=t[2],o=t[3],u={};return u.lowerLeft_X=e(n)||0,u.lowerLeft_Y=r(a+o)||0,u.upperRight_X=e(n+s)||0,u.upperRight_Y=r(a)||0,[Number(Pn(u.lowerLeft_X)),Number(Pn(u.lowerLeft_Y)),Number(Pn(u.upperRight_X)),Number(Pn(u.upperRight_Y))]},nOe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var i=[],e=t._V||t.DV,r=EN(t,e),n=t.scope.internal.getFont(t.fontName,t.fontStyle).id;i.push("/Tx BMC"),i.push("q"),i.push("BT"),i.push(t.scope.__private__.encodeColorString(t.color)),i.push("/"+n+" "+Pn(r.fontSize)+" Tf"),i.push("1 0 0 1 0 0 Tm"),i.push(r.text),i.push("ET"),i.push("Q"),i.push("EMC");var a=Of(t);return a.scope=t.scope,a.stream=i.join(`
`),a}},EN=function(t,i){var e=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},n=(i=(i=i.substr(0,1)=="("?i.substr(1):i).substr(i.length-1)==")"?i.substr(0,i.length-1):i).split(" ");n=t.multiline?n.map(function(M){return M.split(`
`)}):n.map(function(M){return[M]});var a=e,s=Ui.internal.getHeight(t)||0;s=s<0?-s:s;var o=Ui.internal.getWidth(t)||0;o=o<0?-o:o;var u=function(M,I,D){if(M+1<n.length){var k=I+" "+n[M+1][0];return UM(k,t,D).width<=o-4}return!1};a++;e:for(;a>0;){i="",a--;var l,c,h=UM("3",t,a).height,d=t.multiline?s-a:(s-h)/2,f=d+=2,m=0,p=0,g=0;if(a<=0){i=`(...) Tj
`,i+="% Width of Text: "+UM(i,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var v="",y=0,x=0;x<n.length;x++)if(n.hasOwnProperty(x)){var b=!1;if(n[x].length!==1&&g!==n[x].length-1){if((h+2)*(y+2)+2>s)continue e;v+=n[x][g],b=!0,p=x,x--}else{v=(v+=n[x][g]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var w=parseInt(x),C=u(w,v,a),_=x>=n.length-1;if(C&&!_){v+=" ",g=0;continue}if(C||_){if(_)p=w;else if(t.multiline&&(h+2)*(y+2)+2>s)continue e}else{if(!t.multiline||(h+2)*(y+2)+2>s)continue e;p=w}}for(var S="",T=m;T<=p;T++){var A=n[T];if(t.multiline){if(T===p){S+=A[g]+" ",g=(g+1)%A.length;continue}if(T===m){S+=A[A.length-1]+" ";continue}}S+=A[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,c=UM(S,t,a).width,t.textAlign){case"right":l=o-c-2;break;case"center":l=(o-c)/2;break;case"left":default:l=2}i+=Pn(l)+" "+Pn(f)+` Td
`,i+="("+nv(S)+`) Tj
`,i+=-Pn(l)+` 0 Td
`,f=-(a+2),c=0,m=b?p:p+1,y++,v=""}break}return r.text=i,r.fontSize=a,r},UM=function(t,i,e){var r=i.scope.internal.getFont(i.fontName,i.fontStyle),n=i.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:i.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:n}},rOe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sOe=function(t,i){var e={type:"reference",object:t};i.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&i.internal.getPageInfo(t.page).pageContext.annotations.push(e)},aOe=function(t,i){for(var e in t)if(t.hasOwnProperty(e)){var r=e,n=t[e];i.internal.newObjectDeferredBegin(n.objId,!0),ts(n)==="object"&&typeof n.putStream=="function"&&n.putStream(),delete t[r]}},oOe=function(t,i){if(i.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Rh.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rOe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");IN=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Vee,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in r)if(r.hasOwnProperty(n)){var a=r[n];a.objId=void 0,a.hasAnnotation&&sOe(a,e)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(e){(function(r,n){var a=!r;for(var s in r||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var o=r[s],u=[],l=o.Rect;if(o.Rect&&(o.Rect=iOe(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ui.createDefaultAppearanceStream(o),ts(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(u=o.getKeyValueListForStream()),o.Rect=l,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=nOe(o);u.push({key:"AP",value:"<</N "+c+">>"}),n.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var h="";for(var d in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(d)){var f=o.appearanceStreamContent[d];if(h+="/"+d+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var m=f[s];typeof m=="function"&&(m=m.call(n,o)),h+="/"+s+" "+m+" ",n.internal.acroformPlugin.xForms.indexOf(m)>=0||n.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(n,o)),h+="/"+s+" "+m,n.internal.acroformPlugin.xForms.indexOf(m)>=0||n.internal.acroformPlugin.xForms.push(m);h+=">>"}u.push({key:"AP",value:`<<
`+h+">>"})}n.internal.putStream({additionalKeyValues:u,objectId:o.objId}),n.internal.out("endobj")}a&&aOe(n.internal.acroformPlugin.xForms,n)})(e,t)}),t.internal.acroformPlugin.isInitialized=!0}},Nee=Fa.__acroform__.arrayToPdfArray=function(t,i,e){var r=function(s){return s};if(Array.isArray(t)){for(var n="[",a=0;a<t.length;a++)switch(a!==0&&(n+=" "),ts(t[a])){case"boolean":case"number":case"object":n+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(i!==void 0&&e&&(r=e.internal.getEncryptor(i)),n+="("+nv(r(t[a].toString()))+")"):n+=t[a].toString()}return n+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},bN=function(t,i,e){var r=function(n){return n};return i!==void 0&&e&&(r=e.internal.getEncryptor(i)),(t=t||"").toString(),t="("+nv(r(t))+")"},Lf=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Lf.prototype.toString=function(){return this.objId+" 0 R"},Lf.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Lf.prototype.getKeyValueListForStream=function(){var t=[],i=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var e in i)if(Object.getOwnPropertyDescriptor(this,i[e]).configurable===!1){var r=i[e],n=this[r];n&&(Array.isArray(n)?t.push({key:r,value:Nee(n,this.objId,this.scope)}):n instanceof Lf?(n.scope=this.scope,t.push({key:r,value:n.objId+" 0 R"})):typeof n!="function"&&t.push({key:r,value:n}))}return t};var Bee=function(){Lf.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,i=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};lu(Bee,Lf);var Vee=function(){Lf.call(this);var t,i=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return i.length>0?i:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return i}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+nv(e(t))+")"}},set:function(e){t=e}})};lu(Vee,Lf);var Rh=function t(){Lf.call(this);var i=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return i},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');i=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ua(i,3)},set:function(v){v?this.F=Ha(i,3):this.F=Ga(i,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');e=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof QM)return;a="FieldObject"+t.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+nv(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/IN:l},set:function(v){l=v}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof QM||this instanceof iv))return bN(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=v}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ho?d:bN(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=this instanceof Ho?v:v.substr(0,1)==="("?lx(v.substr(1,v.length-2)):lx(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ho?lx(d.substr(1,d.length-1)):d},set:function(v){v=v.toString(),d=this instanceof Ho?"/"+v:v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ho?f:bN(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=this instanceof Ho?v:v.substr(0,1)==="("?lx(v.substr(1,v.length-2)):lx(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ho?lx(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Ho?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(v){v=!!v,p=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,1)},set:function(v){v?this.Ff=Ha(this.Ff,1):this.Ff=Ga(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,2)},set:function(v){v?this.Ff=Ha(this.Ff,2):this.Ff=Ga(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,3)},set:function(v){v?this.Ff=Ha(this.Ff,3):this.Ff=Ga(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');g=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(g){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};lu(Rh,Lf);var fx=function(){Rh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var i=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Nee(i,this.objId,this.scope)},set:function(e){var r,n;n=[],typeof(r=e)=="string"&&(n=function(a,s,o){o||(o=1);for(var u,l=[];u=s.exec(a);)l.push(u[o]);return l}(r,/\((.*?)\)/g)),i=n}}),this.getOptions=function(){return i},this.setOptions=function(e){i=e,this.sort&&i.sort()},this.addOption=function(e){e=(e=e||"").toString(),i.push(e),this.sort&&i.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();i.indexOf(e)!==-1&&(i.splice(i.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,18)},set:function(e){e?this.Ff=Ha(this.Ff,18):this.Ff=Ga(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Ha(this.Ff,19):this.Ff=Ga(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,20)},set:function(e){e?(this.Ff=Ha(this.Ff,20),i.sort()):this.Ff=Ga(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,22)},set:function(e){e?this.Ff=Ha(this.Ff,22):this.Ff=Ga(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,23)},set:function(e){e?this.Ff=Ha(this.Ff,23):this.Ff=Ga(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,27)},set:function(e){e?this.Ff=Ha(this.Ff,27):this.Ff=Ga(this.Ff,27)}}),this.hasAppearanceStream=!1};lu(fx,Rh);var px=function(){fx.call(this),this.fontName="helvetica",this.combo=!1};lu(px,fx);var mx=function(){px.call(this),this.combo=!0};lu(mx,px);var jM=function(){mx.call(this),this.edit=!0};lu(jM,mx);var Ho=function(){Rh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,15)},set:function(e){e?this.Ff=Ha(this.Ff,15):this.Ff=Ga(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,16)},set:function(e){e?this.Ff=Ha(this.Ff,16):this.Ff=Ga(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,17)},set:function(e){e?this.Ff=Ha(this.Ff,17):this.Ff=Ga(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,26)},set:function(e){e?this.Ff=Ha(this.Ff,26):this.Ff=Ga(this.Ff,26)}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(a){return a};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(i).length!==0){var r,n=[];for(r in n.push("<<"),i)n.push("/"+r+" ("+nv(e(i[r]))+")");return n.push(">>"),n.join(`
`)}},set:function(e){ts(e)==="object"&&(i=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(e){typeof e=="string"&&(i.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};lu(Ho,Rh);var WM=function(){Ho.call(this),this.pushButton=!0};lu(WM,Ho);var gx=function(){Ho.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(i){t=i!==void 0?i:[]}})};lu(gx,Ho);var QM=function(){var t,i;Rh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return i},set:function(n){i=n}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+nv(n(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(n){ts(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ui.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};lu(QM,Rh),gx.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var i in this.Kids)if(this.Kids.hasOwnProperty(i)){var e=this.Kids[i];e.appearanceStreamContent=t.createAppearanceStream(e.optionName),e.caption=t.getCA()}},gx.prototype.createOption=function(t){var i=new QM;return i.Parent=this,i.optionName=t,this.Kids.push(i),lOe.call(this.scope,i),i};var XM=function(){Ho.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ui.CheckBox.createAppearanceStream()};lu(XM,Ho);var iv=function(){Rh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,13)},set:function(i){i?this.Ff=Ha(this.Ff,13):this.Ff=Ga(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,21)},set:function(i){i?this.Ff=Ha(this.Ff,21):this.Ff=Ga(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,23)},set:function(i){i?this.Ff=Ha(this.Ff,23):this.Ff=Ga(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,24)},set:function(i){i?this.Ff=Ha(this.Ff,24):this.Ff=Ga(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,25)},set:function(i){i?this.Ff=Ha(this.Ff,25):this.Ff=Ga(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,26)},set:function(i){i?this.Ff=Ha(this.Ff,26):this.Ff=Ga(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(i){Number.isInteger(i)&&(t=i)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};lu(iv,Rh);var YM=function(){iv.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,14)},set:function(t){t?this.Ff=Ha(this.Ff,14):this.Ff=Ga(this.Ff,14)}}),this.password=!0};lu(YM,iv);var Ui={CheckBox:{createAppearanceStream:function(){return{N:{On:Ui.CheckBox.YesNormal},D:{On:Ui.CheckBox.YesPushDown,Off:Ui.CheckBox.OffPushDown}}},YesPushDown:function(t){var i=Of(t);i.scope=t.scope;var e=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=EN(t,t.caption);return e.push("0.749023 g"),e.push("0 0 "+Pn(Ui.internal.getWidth(t))+" "+Pn(Ui.internal.getHeight(t))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+Pn(a.fontSize)+" Tf "+n),e.push("BT"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC"),i.stream=e.join(`
`),i},YesNormal:function(t){var i=Of(t);i.scope=t.scope;var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),n=[],a=Ui.internal.getHeight(t),s=Ui.internal.getWidth(t),o=EN(t,t.caption);return n.push("1 g"),n.push("0 0 "+Pn(s)+" "+Pn(a)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Pn(s-1)+" "+Pn(a-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+e+" "+Pn(o.fontSize)+" Tf "+r),n.push(o.text),n.push("ET"),n.push("Q"),i.stream=n.join(`
`),i},OffPushDown:function(t){var i=Of(t);i.scope=t.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Pn(Ui.internal.getWidth(t))+" "+Pn(Ui.internal.getHeight(t))+" re"),e.push("f"),i.stream=e.join(`
`),i}},RadioButton:{Circle:{createAppearanceStream:function(t){var i={D:{Off:Ui.RadioButton.Circle.OffPushDown},N:{}};return i.N[t]=Ui.RadioButton.Circle.YesNormal,i.D[t]=Ui.RadioButton.Circle.YesPushDown,i},getCA:function(){return"l"},YesNormal:function(t){var i=Of(t);i.scope=t.scope;var e=[],r=Ui.internal.getWidth(t)<=Ui.internal.getHeight(t)?Ui.internal.getWidth(t)/4:Ui.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var n=Ui.internal.Bezier_C,a=Number((r*n).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+g0(Ui.internal.getWidth(t)/2)+" "+g0(Ui.internal.getHeight(t)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),e.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),e.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),e.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),e.push("f"),e.push("Q"),i.stream=e.join(`
`),i},YesPushDown:function(t){var i=Of(t);i.scope=t.scope;var e=[],r=Ui.internal.getWidth(t)<=Ui.internal.getHeight(t)?Ui.internal.getWidth(t)/4:Ui.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),a=Number((n*Ui.internal.Bezier_C).toFixed(5)),s=Number((r*Ui.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+g0(Ui.internal.getWidth(t)/2)+" "+g0(Ui.internal.getHeight(t)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),e.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),e.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),e.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+g0(Ui.internal.getWidth(t)/2)+" "+g0(Ui.internal.getHeight(t)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),i.stream=e.join(`
`),i},OffPushDown:function(t){var i=Of(t);i.scope=t.scope;var e=[],r=Ui.internal.getWidth(t)<=Ui.internal.getHeight(t)?Ui.internal.getWidth(t)/4:Ui.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),a=Number((n*Ui.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+g0(Ui.internal.getWidth(t)/2)+" "+g0(Ui.internal.getHeight(t)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),e.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),e.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),e.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),e.push("f"),e.push("Q"),i.stream=e.join(`
`),i}},Cross:{createAppearanceStream:function(t){var i={D:{Off:Ui.RadioButton.Cross.OffPushDown},N:{}};return i.N[t]=Ui.RadioButton.Cross.YesNormal,i.D[t]=Ui.RadioButton.Cross.YesPushDown,i},getCA:function(){return"8"},YesNormal:function(t){var i=Of(t);i.scope=t.scope;var e=[],r=Ui.internal.calculateCross(t);return e.push("q"),e.push("1 1 "+Pn(Ui.internal.getWidth(t)-2)+" "+Pn(Ui.internal.getHeight(t)-2)+" re"),e.push("W"),e.push("n"),e.push(Pn(r.x1.x)+" "+Pn(r.x1.y)+" m"),e.push(Pn(r.x2.x)+" "+Pn(r.x2.y)+" l"),e.push(Pn(r.x4.x)+" "+Pn(r.x4.y)+" m"),e.push(Pn(r.x3.x)+" "+Pn(r.x3.y)+" l"),e.push("s"),e.push("Q"),i.stream=e.join(`
`),i},YesPushDown:function(t){var i=Of(t);i.scope=t.scope;var e=Ui.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Pn(Ui.internal.getWidth(t))+" "+Pn(Ui.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Pn(Ui.internal.getWidth(t)-2)+" "+Pn(Ui.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Pn(e.x1.x)+" "+Pn(e.x1.y)+" m"),r.push(Pn(e.x2.x)+" "+Pn(e.x2.y)+" l"),r.push(Pn(e.x4.x)+" "+Pn(e.x4.y)+" m"),r.push(Pn(e.x3.x)+" "+Pn(e.x3.y)+" l"),r.push("s"),r.push("Q"),i.stream=r.join(`
`),i},OffPushDown:function(t){var i=Of(t);i.scope=t.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Pn(Ui.internal.getWidth(t))+" "+Pn(Ui.internal.getHeight(t))+" re"),e.push("f"),i.stream=e.join(`
`),i}}},createDefaultAppearanceStream:function(t){var i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,e=t.scope.__private__.encodeColorString(t.color);return"/"+i+" "+t.fontSize+" Tf "+e}};Ui.internal={Bezier_C:.551915024494,calculateCross:function(t){var i=Ui.internal.getWidth(t),e=Ui.internal.getHeight(t),r=Math.min(i,e);return{x1:{x:(i-r)/2,y:(e-r)/2+r},x2:{x:(i-r)/2+r,y:(e-r)/2},x3:{x:(i-r)/2,y:(e-r)/2},x4:{x:(i-r)/2+r,y:(e-r)/2+r}}}},Ui.internal.getWidth=function(t){var i=0;return ts(t)==="object"&&(i=_ee(t.Rect[2])),i},Ui.internal.getHeight=function(t){var i=0;return ts(t)==="object"&&(i=_ee(t.Rect[3])),i};var lOe=Fa.addField=function(t){if(oOe(this,t),!(t instanceof Rh))throw new Error("Invalid argument passed to jsPDF.addField.");var i;return(i=t).scope.internal.acroformPlugin.printedOut&&(i.scope.internal.acroformPlugin.printedOut=!1,i.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),i.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(i),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Fa.AcroFormChoiceField=fx,Fa.AcroFormListBox=px,Fa.AcroFormComboBox=mx,Fa.AcroFormEditBox=jM,Fa.AcroFormButton=Ho,Fa.AcroFormPushButton=WM,Fa.AcroFormRadioButton=gx,Fa.AcroFormCheckBox=XM,Fa.AcroFormTextField=iv,Fa.AcroFormPasswordField=YM,Fa.AcroFormAppearance=Ui,Fa.AcroForm={ChoiceField:fx,ListBox:px,ComboBox:mx,EditBox:jM,Button:Ho,PushButton:WM,RadioButton:gx,CheckBox:XM,TextField:iv,PasswordField:YM,Appearance:Ui},dn.AcroForm={ChoiceField:fx,ListBox:px,ComboBox:mx,EditBox:jM,Button:Ho,PushButton:WM,RadioButton:gx,CheckBox:XM,TextField:iv,PasswordField:YM,Appearance:Ui};var p_t=dn.AcroForm;function zee(t){return t.reduce(function(i,e,r){return i[e]=r,i},{})}(function(t){t.__addimage__={};var i="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(M,I){var D,k,G,R,H,j=i;if((I=I||i)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(C(M))for(H in e)for(G=e[H],D=0;D<G.length;D+=1){for(R=!0,k=0;k<G[D].length;k+=1)if(G[D][k]!==void 0&&G[D][k]!==M[k]){R=!1;break}if(R===!0){j=H;break}}else for(H in e)for(G=e[H],D=0;D<G.length;D+=1){for(R=!0,k=0;k<G[D].length;k+=1)if(G[D][k]!==void 0&&G[D][k]!==M.charCodeAt(k)){R=!1;break}if(R===!0){j=H;break}}return j===i&&I!==i&&(j=I),j},n=function M(I){for(var D=this.internal.write,k=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var R=[];if(R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Image"}),R.push({key:"Width",value:I.width}),R.push({key:"Height",value:I.height}),I.colorSpace===g.INDEXED?R.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(R.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===g.DEVICE_CMYK&&R.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),R.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&R.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var H="",j=0,Z=I.transparency.length;j<Z;j++)H+=I.transparency[j]+" "+I.transparency[j]+" ";R.push({key:"Mask",value:"["+H+"]"})}I.sMask!==void 0&&R.push({key:"SMask",value:I.objectId+1+" 0 R"});var ee=I.filter!==void 0?["/"+I.filter]:void 0;if(k({data:I.data,additionalKeyValues:R,alreadyAppliedFilters:ee,objectId:I.objectId}),D("endobj"),"sMask"in I&&I.sMask!==void 0){var Y="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,V={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:Y,data:I.sMask};"filter"in I&&(V.filter=I.filter),M.call(this,V)}if(I.colorSpace===g.INDEXED){var O=this.internal.newObject();k({data:S(new Uint8Array(I.palette)),objectId:O}),D("endobj")}},a=function(){var M=this.internal.collections.addImage_images;for(var I in M)n.call(this,M[I])},s=function(){var M,I=this.internal.collections.addImage_images,D=this.internal.write;for(var k in I)D("/I"+(M=I[k]).index,M.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var M=this.internal.collections.addImage_images;return o.call(this),M},l=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(M){return typeof t["process"+M.toUpperCase()]=="function"},h=function(M){return ts(M)==="object"&&M.nodeType===1},d=function(M,I){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var D=""+M.getAttribute("src");if(D.indexOf("data:image/")===0)return Uw(unescape(D).split("base64,").pop());var k=t.loadFile(D,!0);if(k!==void 0)return k}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var G;switch(I){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return Uw(M.toDataURL(G,1).split("base64,").pop())}},f=function(M){var I=this.internal.collections.addImage_images;if(I){for(var D in I)if(M===I[D].alias)return I[D]}},m=function(M,I,D){return M||I||(M=-96,I=-96),M<0&&(M=-1*D.width*72/M/this.internal.scaleFactor),I<0&&(I=-1*D.height*72/I/this.internal.scaleFactor),M===0&&(M=I*D.width/D.height),I===0&&(I=M*D.height/D.width),[M,I]},p=function(M,I,D,k,G,R){var H=m.call(this,D,k,G),j=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,ee=u.call(this);if(D=H[0],k=H[1],ee[G.index]=G,R){R*=Math.PI/180;var Y=Math.cos(R),V=Math.sin(R),O=function(X){return X.toFixed(4)},F=[O(Y),O(V),O(-1*V),O(Y),0,0,"cm"]}this.internal.write("q"),R?(this.internal.write([1,"0","0",1,j(M),Z(I+k),"cm"].join(" ")),this.internal.write(F.join(" ")),this.internal.write([j(D),"0","0",j(k),"0","0","cm"].join(" "))):this.internal.write([j(D),"0","0",j(k),j(M),Z(I+k),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(M){var I,D,k=0;if(typeof M=="string")for(D=M.length,I=0;I<D;I++)k=(k<<5)-k+M.charCodeAt(I),k|=0;else if(C(M))for(D=M.byteLength/2,I=0;I<D;I++)k=(k<<5)-k+M[I],k|=0;return k},x=t.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var I=!0;return M.length===0&&(I=!1),M.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(I=!1),I},b=t.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var I=M.indexOf(",");return I<0?null:M.substring(0,I).trim().endsWith("base64")?M.substring(I+1):null},w=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(M){return w()&&M instanceof ArrayBuffer};var C=t.__addimage__.isArrayBufferView=function(M){return w()&&typeof Uint32Array<"u"&&(M instanceof Int8Array||M instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array)},_=t.__addimage__.binaryStringToUint8Array=function(M){for(var I=M.length,D=new Uint8Array(I),k=0;k<I;k++)D[k]=M.charCodeAt(k);return D},S=t.__addimage__.arrayBufferToBinaryString=function(M){for(var I="",D=C(M)?M:new Uint8Array(M),k=0;k<D.length;k+=8192)I+=String.fromCharCode.apply(null,D.subarray(k,k+8192));return I};t.addImage=function(){var M,I,D,k,G,R,H,j,Z;if(typeof arguments[1]=="number"?(I=i,D=arguments[1],k=arguments[2],G=arguments[3],R=arguments[4],H=arguments[5],j=arguments[6],Z=arguments[7]):(I=arguments[1],D=arguments[2],k=arguments[3],G=arguments[4],R=arguments[5],H=arguments[6],j=arguments[7],Z=arguments[8]),ts(M=arguments[0])==="object"&&!h(M)&&"imageData"in M){var ee=M;M=ee.imageData,I=ee.format||I||i,D=ee.x||D||0,k=ee.y||k||0,G=ee.w||ee.width||G,R=ee.h||ee.height||R,H=ee.alias||H,j=ee.compression||j,Z=ee.rotation||ee.angle||Z}var Y=this.internal.getFilters();if(j===void 0&&Y.indexOf("FlateEncode")!==-1&&(j="SLOW"),isNaN(D)||isNaN(k))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var V=T.call(this,M,I,H,j);return p.call(this,D,k,G,R,V,Z),this};var T=function(M,I,D,k){var G,R,H;if(typeof M=="string"&&r(M)===i){M=unescape(M);var j=A(M,!1);(j!==""||(j=t.loadFile(M,!0))!==void 0)&&(M=j)}if(h(M)&&(M=d(M,I)),I=r(M,I),!c(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((H=D)==null||H.length===0)&&(D=function(Z){return typeof Z=="string"||C(Z)?y(Z):C(Z.data)?y(Z.data):null}(M)),(G=f.call(this,D))||(w()&&(M instanceof Uint8Array||I==="RGBA"||(R=M,M=_(M))),G=this["process"+I.toUpperCase()](M,l.call(this),D,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in t.image_compression?Z:v.NONE}(k),R)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},A=t.__addimage__.convertBase64ToBinaryString=function(M,I){I=typeof I!="boolean"||I;var D,k="";if(typeof M=="string"){var G;D=(G=b(M))!==null&&G!==void 0?G:M;try{k=Uw(D)}catch(R){if(I)throw x(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+R.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return k};t.getImageProperties=function(M){var I,D,k="";if(h(M)&&(M=d(M)),typeof M=="string"&&r(M)===i&&((k=A(M,!1))===""&&(k=t.loadFile(M)||""),M=k),D=r(M),!c(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!w()||M instanceof Uint8Array||(M=_(M)),!(I=this["process"+D.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=D,I}})(dn.API),function(t){var i=function(e){if(e!==void 0&&e!="")return!0};dn.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(e){for(var r,n,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,h=0;h<l.length&&!c;h++)switch((r=l[h]).type){case"link":(i(r.options.url)||i(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var d=0;d<l.length;d++){r=l[d];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(p.objId),y=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(n="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+f(v(r.contents))+")",a+=" /Popup "+g.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+f(v(y))+") >>",p.content=a;var x=p.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+s(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+x,r.open&&(a+=" /Open true"),a+=" >>",g.content=a,this.internal.write(p.objId,"0 R",g.objId,"0 R");break;case"freetext":n="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var b=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+f(m(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var w=this.annotations._nameMap[r.options.name];r.options.pageNumber=w.page,r.options.top=w.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var C=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+C+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},t.link=function(e,r,n,a,s){var o=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:u(e),y:l(r),w:u(e+n),h:l(r+a)},options:s,type:"link"})},t.textWithLink=function(e,r,n,a){var s,o,u=this.getTextWidth(e),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var c=this.splitTextToSize(e,o).length;s=Math.ceil(l*c)}else o=u,s=l;return this.text(e,r,n,a),n+=.2*l,a.align==="center"&&(r-=u/2),a.align==="right"&&(r-=u),this.link(r,n-l,o,s,a),u},t.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}}(dn.API),function(t){var i={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(p){return i[p.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},o=t.__arabicParser__.isArabicEndLetter=function(p){return s(p)&&a(p)&&i[p.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(p){return s(p)&&n.indexOf(p.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return s(p)&&a(p)&&i[p.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(p){return s(p)&&a(p)&&i[p.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(p){return s(p)&&a(p)&&i[p.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(p){return s(p)&&a(p)&&i[p.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(p){var g=0,v=e,y="",x=0;for(g=0;g<p.length;g+=1)v[p.charCodeAt(g)]!==void 0?(x++,typeof(v=v[p.charCodeAt(g)])=="number"&&(y+=String.fromCharCode(v),v=e,x=0),g===p.length-1&&(v=e,y+=p.charAt(g-(x-1)),g-=x-1,x=0)):(v=e,y+=p.charAt(g-x),g-=x,x=0);return y};t.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&r[p.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(p,g,v){return s(p)?a(p)===!1?-1:!l(p)||!s(g)&&!s(v)||!s(v)&&o(g)||o(p)&&!s(g)||o(p)&&u(g)||o(p)&&o(g)?0:c(p)&&s(g)&&!o(g)&&s(v)&&l(v)?3:o(p)||!s(v)?1:2:-1},f=function(p){var g=0,v=0,y=0,x="",b="",w="",C=(p=p||"").split("\\s+"),_=[];for(g=0;g<C.length;g+=1){for(_.push(""),v=0;v<C[g].length;v+=1)x=C[g][v],b=C[g][v-1],w=C[g][v+1],s(x)?(y=d(x,b,w),_[g]+=y!==-1?String.fromCharCode(i[x.charCodeAt(0)][y]):x):_[g]+=x;_[g]=h(_[g])}return _.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var p,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(g)){var y=0;for(v=[],y=0;y<g.length;y+=1)Array.isArray(g[y])?v.push([f(g[y][0]),g[y][1],g[y][2]]):v.push([f(g[y])]);p=v}else p=f(g);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};t.events.push(["preProcessText",m])}(dn.API),dn.API.autoPrint=function(t){var i;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){i=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+i+" 0 R")})}return this},function(t){var i=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(o){e=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};i.prototype.getContext=function(e,r){var n;if((e=e||"2d")!=="2d")return null;for(n in r)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=r[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},i.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new i,this.canvas.pdf=this}])}(dn.API),function(t){var i={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},i),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(p){m=p}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,l){r.call(this);var c=(l=l||{}).fontSize||this.getFontSize(),h=l.font||this.getFont(),d=l.scaleFactor||this.internal.scaleFactor,f=0,m=0,p=0,g=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var v=l.maxWidth;v>0?typeof u=="string"?u=this.splitTextToSize(u,v):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(x,b){return x.concat(g.splitTextToSize(b,v))},[])):u=Array.isArray(u)?u:[u];for(var y=0;y<u.length;y++)f<(p=this.getStringUnitWidth(u[y],{font:h})*c)&&(f=p);return f!==0&&(m=u.length),{w:f/=d,h:Math.max((m*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||i;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var l=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,h=this.internal.__cell__.margins||i,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===u.lineNumber?(u.x=(l.x||0)+(l.width||0),u.y=l.y||0):l.y+l.height+u.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=h.top,f&&d&&(this.printHeaderRow(u.lineNumber,!0),u.y+=d[0].height)):u.y=l.y+l.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,e===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-c,u.y+c,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+c,{align:"center",baseline:"top",maxWidth:u.width-c-c}):this.text(u.text,u.x+c,u.y+c,{align:"left",baseline:"top",maxWidth:u.width-c-c})),this.internal.__cell__.lastCell=u,this};t.table=function(u,l,c,h,d){if(r.call(this),!c)throw new Error("No data for PDF table.");var f,m,p,g,v=[],y=[],x=[],b={},w={},C=[],_=[],S=(d=d||{}).autoSize||!1,T=d.printHeaders!==!1,A=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,M=d.margins||Object.assign({width:this.getPageWidth()},i),I=typeof d.padding=="number"?d.padding:3,D=d.headerBackgroundColor||"#c8c8c8",k=d.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=A,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=k,this.setFontSize(A),h==null)y=v=Object.keys(c[0]),x=v.map(function(){return"left"});else if(Array.isArray(h)&&ts(h[0])==="object")for(v=h.map(function(ee){return ee.name}),y=h.map(function(ee){return ee.prompt||ee.name||""}),x=h.map(function(ee){return ee.align||"left"}),f=0;f<h.length;f+=1)w[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(y=v=h,x=v.map(function(){return"left"}));if(S||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<v.length;f+=1){for(b[g=v[f]]=c.map(function(ee){return ee[g]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(y[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=b[g],this.setFont(void 0,"normal"),p=0;p<m.length;p+=1)C.push(this.getTextDimensions(m[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);w[g]=Math.max.apply(null,C)+I+I,C=[]}if(T){var G={};for(f=0;f<v.length;f+=1)G[v[f]]={},G[v[f]].text=y[f],G[v[f]].align=x[f];var R=o.call(this,G,w);_=v.map(function(ee){return new a(u,l,w[ee],R,G[ee].text,void 0,G[ee].align)}),this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}var H=h.reduce(function(ee,Y){return ee[Y.name]=Y.align,ee},{});for(f=0;f<c.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:c[f]},this);var j=o.call(this,c[f],w);for(p=0;p<v.length;p+=1){var Z=c[f][v[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:p,data:Z},this),s.call(this,new a(u,l,w[v[p]],j,Z,f+2,H[v[p]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=l,this};var o=function(u,l){var c=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(u).map(function(f){var m=u[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,l[f]-c-c)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/d+c+c},this).reduce(function(f,m){return Math.max(f,m)},0)};t.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,l){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){c=this.internal.__cell__.tableHeaderRow[f].clone(),l&&(c.y=this.internal.__cell__.margins.top||0,d.push(c)),c.lineNumber=u;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(m)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),e=!1}}(dn.API);var Uee={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Hee=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],AN=zee(Hee),Gee=[100,200,300,400,500,600,700,800,900],cOe=zee(Gee);function MN(t){var i=t.family.replace(/"|'/g,"").toLowerCase(),e=function(a){return Uee[a=a||"normal"]?a:"normal"}(t.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),n=function(a){return typeof AN[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:i,style:e,weight:r,stretch:n,src:t.src||[],ref:t.ref||{name:i,style:[n,e,r].join(" ")}}}function wee(t,i,e,r){var n;for(n=e;n>=0&&n<i.length;n+=r)if(t[i[n]])return t[i[n]];for(n=e;n>=0&&n<i.length;n-=r)if(t[i[n]])return t[i[n]]}var uOe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Cee={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function See(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function dOe(t,i,e){for(var r=(e=e||{}).defaultFontFamily||"times",n=Object.assign({},uOe,e.genericFontFamilies||{}),a=null,s=null,o=0;o<i.length;++o)if(n[(a=MN(i[o])).family]&&(a.family=n[a.family]),t.hasOwnProperty(a.family)){s=t[a.family];break}if(!(s=s||t[r]))throw new Error("Could not find a font-family for the rule '"+See(a)+"' and default family '"+r+"'.");if(s=function(u,l){if(l[u])return l[u];var c=AN[u],h=c<=AN.normal?-1:1,d=wee(l,Hee,c,h);if(!d)throw new Error("Could not find a matching font-stretch value for "+u);return d}(a.stretch,s),s=function(u,l){if(l[u])return l[u];for(var c=Uee[u],h=0;h<c.length;++h)if(l[c[h]])return l[c[h]];throw new Error("Could not find a matching font-style for "+u)}(a.style,s),!(s=function(u,l){if(l[u])return l[u];if(u===400&&l[500])return l[500];if(u===500&&l[400])return l[400];var c=cOe[u],h=wee(l,Gee,c,u<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+u);return h}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+See(a)+"'.");return s}function Tee(t){return t.trimLeft()}function hOe(t,i){for(var e=0;e<t.length;){if(t.charAt(e)===i)return[t.substring(0,e),t.substring(e+1)];e+=1}return null}function fOe(t){var i=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return i===null?null:[i[0],t.substring(i[0].length)]}var HM,Eee,Aee,_N=["times"];(function(t){var i,e,r,n,a,s,o,u,l,c=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new u,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new s,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new s,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),i=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,u=this.internal.Matrix,l=new c}]);var h=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var O=V;Object.defineProperty(this,"pdf",{get:function(){return O}});var F=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return F},set:function(De){F=!!De}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(De){X=!!De}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(De){isNaN(De)||(ie=De)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(De){isNaN(De)||(re=De)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(De){var ge;typeof De=="number"?ge=[De,De,De,De]:((ge=new Array(4))[0]=De[0],ge[1]=De.length>=2?De[1]:ge[0],ge[2]=De.length>=3?De[2]:ge[0],ge[3]=De.length>=4?De[3]:ge[1]),l.margin=ge}});var q=!1;Object.defineProperty(this,"autoPaging",{get:function(){return q},set:function(De){q=De}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(De){ae=De}});var ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ue},set:function(De){ue=De}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(De){De instanceof c&&(l=De)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(De){l.path=De}});var me=[];Object.defineProperty(this,"ctxStack",{get:function(){return me},set:function(De){me=De}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(De){var ge;ge=d(De),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(De){var ge=d(De);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(De){this.ctx.textBaseline=De}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De)}});var be=null;function ke(De,ge){if(be===null){var Et=function(ct){var We=[];return Object.keys(ct).forEach(function(Ue){ct[Ue].forEach(function(qe){var it=null;switch(qe){case"bold":it={family:Ue,weight:"bold"};break;case"italic":it={family:Ue,style:"italic"};break;case"bolditalic":it={family:Ue,weight:"bold",style:"italic"};break;case"":case"normal":it={family:Ue}}it!==null&&(it.ref={name:Ue,style:qe},We.push(it))})}),We}(De.getFontList());be=function(ct){for(var We={},Ue=0;Ue<ct.length;++Ue){var qe=MN(ct[Ue]),it=qe.family,Ft=qe.stretch,at=qe.style,bt=qe.weight;We[it]=We[it]||{},We[it][Ft]=We[it][Ft]||{},We[it][Ft][at]=We[it][Ft][at]||{},We[it][Ft][at][bt]=qe}return We}(Et.concat(ge))}return be}var ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(De){be=null,ze=De}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(De){var ge;if(this.ctx.font=De,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var Et=ge[1];ge[2];var ct=ge[3],We=ge[4];ge[5];var Ue=ge[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(We)[2];We=Math.floor(qe==="px"?parseFloat(We)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(We)*this.pdf.getFontSize():parseFloat(We)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(We);var it=function(fi){var vi,Ht,xi=[],Ti=fi.trim();if(Ti==="")return _N;if(Ti in Cee)return[Cee[Ti]];for(;Ti!=="";){switch(Ht=null,vi=(Ti=Tee(Ti)).charAt(0)){case'"':case"'":Ht=hOe(Ti.substring(1),vi);break;default:Ht=fOe(Ti)}if(Ht===null||(xi.push(Ht[0]),(Ti=Tee(Ht[1]))!==""&&Ti.charAt(0)!==","))return _N;Ti=Ti.replace(/^,/,"")}return xi}(Ue);if(this.fontFaces){var Ft=dOe(ke(this.pdf,this.fontFaces),it.map(function(fi){return{family:fi,stretch:"normal",weight:ct,style:Et}}));this.pdf.setFont(Ft.ref.name,Ft.ref.style)}else{var at="";(ct==="bold"||parseInt(ct,10)>=700||Et==="bold")&&(at="bold"),Et==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var bt="",ai={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ei=0;ei<it.length;ei++){if(this.pdf.internal.getFont(it[ei],at,{noFallback:!0,disableWarning:!0})!==void 0){bt=it[ei];break}if(at==="bolditalic"&&this.pdf.internal.getFont(it[ei],"bold",{noFallback:!0,disableWarning:!0})!==void 0)bt=it[ei],at="bold";else if(this.pdf.internal.getFont(it[ei],"normal",{noFallback:!0,disableWarning:!0})!==void 0){bt=it[ei],at="normal";break}}if(bt===""){for(var li=0;li<it.length;li++)if(ai[it[li]]){bt=ai[it[li]];break}}bt=bt===""?"Times":bt,this.pdf.setFont(bt,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(De){this.ctx.globalCompositeOperation=De}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(De){this.ctx.globalAlpha=De}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(De){this.ctx.lineDashOffset=De,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(De){this.ctx.lineDash=De,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(De){this.ctx.ignoreClearRect=!!De}})};h.prototype.setLineDash=function(V){this.lineDash=V},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){b.call(this,"fill",!1)},h.prototype.stroke=function(){b.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(V,O){if(isNaN(V)||isNaN(O))throw Rs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var F=this.ctx.transform.applyToPoint(new s(V,O));this.path.push({type:"mt",x:F.x,y:F.y}),this.ctx.lastPoint=new s(V,O)},h.prototype.closePath=function(){var V=new s(0,0),O=0;for(O=this.path.length-1;O!==-1;O--)if(this.path[O].type==="begin"&&ts(this.path[O+1])==="object"&&typeof this.path[O+1].x=="number"){V=new s(this.path[O+1].x,this.path[O+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(V.x,V.y)},h.prototype.lineTo=function(V,O){if(isNaN(V)||isNaN(O))throw Rs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var F=this.ctx.transform.applyToPoint(new s(V,O));this.path.push({type:"lt",x:F.x,y:F.y}),this.ctx.lastPoint=new s(F.x,F.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},h.prototype.quadraticCurveTo=function(V,O,F,X){if(isNaN(F)||isNaN(X)||isNaN(V)||isNaN(O))throw Rs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new s(F,X)),re=this.ctx.transform.applyToPoint(new s(V,O));this.path.push({type:"qct",x1:re.x,y1:re.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new s(ie.x,ie.y)},h.prototype.bezierCurveTo=function(V,O,F,X,ie,re){if(isNaN(ie)||isNaN(re)||isNaN(V)||isNaN(O)||isNaN(F)||isNaN(X))throw Rs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var q=this.ctx.transform.applyToPoint(new s(ie,re)),ae=this.ctx.transform.applyToPoint(new s(V,O)),ue=this.ctx.transform.applyToPoint(new s(F,X));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:ue.x,y2:ue.y,x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},h.prototype.arc=function(V,O,F,X,ie,re){if(isNaN(V)||isNaN(O)||isNaN(F)||isNaN(X)||isNaN(ie))throw Rs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var q=this.ctx.transform.applyToPoint(new s(V,O));V=q.x,O=q.y;var ae=this.ctx.transform.applyToPoint(new s(0,F)),ue=this.ctx.transform.applyToPoint(new s(0,0));F=Math.sqrt(Math.pow(ae.x-ue.x,2)+Math.pow(ae.y-ue.y,2))}Math.abs(ie-X)>=2*Math.PI&&(X=0,ie=2*Math.PI),this.path.push({type:"arc",x:V,y:O,radius:F,startAngle:X,endAngle:ie,counterclockwise:re})},h.prototype.arcTo=function(V,O,F,X,ie){throw new Error("arcTo not implemented.")},h.prototype.rect=function(V,O,F,X){if(isNaN(V)||isNaN(O)||isNaN(F)||isNaN(X))throw Rs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,O),this.lineTo(V+F,O),this.lineTo(V+F,O+X),this.lineTo(V,O+X),this.lineTo(V,O),this.lineTo(V+F,O),this.lineTo(V,O)},h.prototype.fillRect=function(V,O,F,X){if(isNaN(V)||isNaN(O)||isNaN(F)||isNaN(X))throw Rs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,O,F,X),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},h.prototype.strokeRect=function(V,O,F,X){if(isNaN(V)||isNaN(O)||isNaN(F)||isNaN(X))throw Rs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(V,O,F,X),this.stroke())},h.prototype.clearRect=function(V,O,F,X){if(isNaN(V)||isNaN(O)||isNaN(F)||isNaN(X))throw Rs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,O,F,X))},h.prototype.save=function(V){V=typeof V!="boolean"||V;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("q");if(this.pdf.setPage(O),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},h.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("Q");this.pdf.setPage(O),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(V){var O,F,X,ie;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))O=0,F=0,X=0,ie=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(re!==null)O=parseInt(re[1]),F=parseInt(re[2]),X=parseInt(re[3]),ie=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)O=parseInt(re[1]),F=parseInt(re[2]),X=parseInt(re[3]),ie=parseFloat(re[4]);else{if(ie=1,typeof V=="string"&&V.charAt(0)!=="#"){var q=new Fee(V);V=q.ok?q.toHex():"#000000"}V.length===4?(O=V.substring(1,2),O+=O,F=V.substring(2,3),F+=F,X=V.substring(3,4),X+=X):(O=V.substring(1,3),F=V.substring(3,5),X=V.substring(5,7)),O=parseInt(O,16),F=parseInt(F,16),X=parseInt(X,16)}}return{r:O,g:F,b:X,a:ie,style:V}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(V,O,F,X){if(isNaN(O)||isNaN(F)||typeof V!="string")throw Rs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!f.call(this)){var ie=j(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;I.call(this,{text:V,x:O,y:F,scale:re,angle:ie,align:this.textAlign,maxWidth:X})}},h.prototype.strokeText=function(V,O,F,X){if(isNaN(O)||isNaN(F)||typeof V!="string")throw Rs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){X=isNaN(X)?void 0:X;var ie=j(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;I.call(this,{text:V,x:O,y:F,scale:re,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:X})}},h.prototype.measureText=function(V){if(typeof V!="string")throw Rs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var O=this.pdf,F=this.pdf.internal.scaleFactor,X=O.internal.getFontSize(),ie=O.getStringUnitWidth(V)*X/O.internal.scaleFactor,re=function(q){var ae=(q=q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this};return new re({width:ie*=Math.round(96*F/72*1e4)/1e4})},h.prototype.scale=function(V,O){if(isNaN(V)||isNaN(O))throw Rs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var F=new u(V,0,0,O,0,0);this.ctx.transform=this.ctx.transform.multiply(F)},h.prototype.rotate=function(V){if(isNaN(V))throw Rs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var O=new u(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(O)},h.prototype.translate=function(V,O){if(isNaN(V)||isNaN(O))throw Rs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var F=new u(1,0,0,1,V,O);this.ctx.transform=this.ctx.transform.multiply(F)},h.prototype.transform=function(V,O,F,X,ie,re){if(isNaN(V)||isNaN(O)||isNaN(F)||isNaN(X)||isNaN(ie)||isNaN(re))throw Rs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var q=new u(V,O,F,X,ie,re);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.setTransform=function(V,O,F,X,ie,re){V=isNaN(V)?1:V,O=isNaN(O)?0:O,F=isNaN(F)?0:F,X=isNaN(X)?1:X,ie=isNaN(ie)?0:ie,re=isNaN(re)?0:re,this.ctx.transform=new u(V,O,F,X,ie,re)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(V,O,F,X,ie,re,q,ae,ue){var me=this.pdf.getImageProperties(V),be=1,ke=1,ze=1,De=1;X!==void 0&&ae!==void 0&&(ze=ae/X,De=ue/ie,be=me.width/X*ae/X,ke=me.height/ie*ue/ie),re===void 0&&(re=O,q=F,O=0,F=0),X!==void 0&&ae===void 0&&(ae=X,ue=ie),X===void 0&&ae===void 0&&(ae=me.width,ue=me.height);for(var ge,Et=this.ctx.transform.decompose(),ct=j(Et.rotate.shx),We=new u,Ue=(We=(We=(We=We.multiply(Et.translate)).multiply(Et.skew)).multiply(Et.scale)).applyToRectangle(new o(re-O*ze,q-F*De,X*be,ie*ke)),qe=g.call(this,Ue),it=[],Ft=0;Ft<qe.length;Ft+=1)it.indexOf(qe[Ft])===-1&&it.push(qe[Ft]);if(x(it),this.autoPaging)for(var at=it[0],bt=it[it.length-1],ai=at;ai<bt+1;ai++){this.pdf.setPage(ai);var ei=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],li=ai===1?this.posY+this.margin[0]:this.margin[0],fi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=ai===1?0:fi+(ai-2)*vi;if(this.ctx.clip_path.length!==0){var xi=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ge,this.posX+this.margin[3],-Ht+li+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=xi}var Ti=JSON.parse(JSON.stringify(Ue));Ti=y([Ti],this.posX+this.margin[3],-Ht+li+this.ctx.prevPageLastElemOffset)[0];var Tr=(ai>at||ai<bt)&&p.call(this);Tr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ei,vi,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Ti.x,Ti.y,Ti.w,Ti.h,null,null,ct),Tr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(V,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,ct)};var g=function(V,O,F){var X=[];O=O||this.pdf.internal.pageSize.width,F=F||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":X.push(Math.floor((V.y+ie)/F)+1);break;case"arc":X.push(Math.floor((V.y+ie-V.radius)/F)+1),X.push(Math.floor((V.y+ie+V.radius)/F)+1);break;case"qct":var re=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);X.push(Math.floor((re.y+ie)/F)+1),X.push(Math.floor((re.y+re.h+ie)/F)+1);break;case"bct":var q=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);X.push(Math.floor((q.y+ie)/F)+1),X.push(Math.floor((q.y+q.h+ie)/F)+1);break;case"rect":X.push(Math.floor((V.y+ie)/F)+1),X.push(Math.floor((V.y+V.h+ie)/F)+1)}for(var ae=0;ae<X.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<X[ae];)v.call(this);return X},v=function(){var V=this.fillStyle,O=this.strokeStyle,F=this.font,X=this.lineCap,ie=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=O,this.font=F,this.lineCap=X,this.lineWidth=ie,this.lineJoin=re},y=function(V,O,F){for(var X=0;X<V.length;X++)switch(V[X].type){case"bct":V[X].x2+=O,V[X].y2+=F;case"qct":V[X].x1+=O,V[X].y1+=F;case"mt":case"lt":case"arc":default:V[X].x+=O,V[X].y+=F}return V},x=function(V){return V.sort(function(O,F){return O-F})},b=function(V,O){for(var F,X,ie=this.fillStyle,re=this.strokeStyle,q=this.lineCap,ae=this.lineWidth,ue=Math.abs(ae*this.ctx.transform.scaleX),me=this.lineJoin,be=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),ze=[],De=0;De<ke.length;De++)if(ke[De].x!==void 0)for(var ge=g.call(this,ke[De]),Et=0;Et<ge.length;Et+=1)ze.indexOf(ge[Et])===-1&&ze.push(ge[Et]);for(var ct=0;ct<ze.length;ct++)for(;this.pdf.internal.getNumberOfPages()<ze[ct];)v.call(this);if(x(ze),this.autoPaging)for(var We=ze[0],Ue=ze[ze.length-1],qe=We;qe<Ue+1;qe++){this.pdf.setPage(qe),this.fillStyle=ie,this.strokeStyle=re,this.lineCap=q,this.lineWidth=ue,this.lineJoin=me;var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=qe===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ai=qe===1?0:at+(qe-2)*bt;if(this.ctx.clip_path.length!==0){var ei=this.path;F=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(F,this.posX+this.margin[3],-ai+Ft+this.ctx.prevPageLastElemOffset),w.call(this,V,!0),this.path=ei}if(X=JSON.parse(JSON.stringify(be)),this.path=y(X,this.posX+this.margin[3],-ai+Ft+this.ctx.prevPageLastElemOffset),O===!1||qe===0){var li=(qe>We||qe<Ue)&&p.call(this);li&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,bt,null).clip().discardPath()),w.call(this,V,O),li&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=ue,w.call(this,V,O),this.lineWidth=ae;this.path=be},w=function(V,O){if((V!=="stroke"||O||!m.call(this))&&(V==="stroke"||O||!f.call(this))){for(var F,X,ie=[],re=this.path,q=0;q<re.length;q++){var ae=re[q];switch(ae.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:ae,deltas:[],abs:[]});break;case"lt":var ue=ie.length;if(re[q-1]&&!isNaN(re[q-1].x)&&(F=[ae.x-re[q-1].x,ae.y-re[q-1].y],ue>0)){for(;ue>=0;ue--)if(ie[ue-1].close!==!0&&ie[ue-1].begin!==!0){ie[ue-1].deltas.push(F),ie[ue-1].abs.push(ae);break}}break;case"bct":F=[ae.x1-re[q-1].x,ae.y1-re[q-1].y,ae.x2-re[q-1].x,ae.y2-re[q-1].y,ae.x-re[q-1].x,ae.y-re[q-1].y],ie[ie.length-1].deltas.push(F);break;case"qct":var me=re[q-1].x+2/3*(ae.x1-re[q-1].x),be=re[q-1].y+2/3*(ae.y1-re[q-1].y),ke=ae.x+2/3*(ae.x1-ae.x),ze=ae.y+2/3*(ae.y1-ae.y),De=ae.x,ge=ae.y;F=[me-re[q-1].x,be-re[q-1].y,ke-re[q-1].x,ze-re[q-1].y,De-re[q-1].x,ge-re[q-1].y],ie[ie.length-1].deltas.push(F);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(ae)}}X=O?null:V==="stroke"?"stroke":"fill";for(var Et=!1,ct=0;ct<ie.length;ct++)if(ie[ct].arc)for(var We=ie[ct].abs,Ue=0;Ue<We.length;Ue++){var qe=We[Ue];qe.type==="arc"?S.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,O,!Et):D.call(this,qe.x,qe.y),Et=!0}else if(ie[ct].close===!0)this.pdf.internal.out("h"),Et=!1;else if(ie[ct].begin!==!0){var it=ie[ct].start.x,Ft=ie[ct].start.y;k.call(this,ie[ct].deltas,it,Ft),Et=!0}X&&T.call(this,X),O&&A.call(this)}},C=function(V){var O=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,F=O*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-F;case"top":return V+O-F;case"hanging":return V+O-2*F;case"middle":return V+O/2-F;case"ideographic":return V;case"alphabetic":default:return V}},_=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(O,F){this.colorStops.push([O,F])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(V,O,F,X,ie,re,q,ae,ue){for(var me=R.call(this,F,X,ie,re),be=0;be<me.length;be++){var ke=me[be];be===0&&(ue?M.call(this,ke.x1+V,ke.y1+O):D.call(this,ke.x1+V,ke.y1+O)),G.call(this,V,O,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ae?A.call(this):T.call(this,q)},T=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},A=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(V,O){this.pdf.internal.out(e(V)+" "+r(O)+" m")},I=function(V){var O;switch(V.align){case"right":case"end":O="right";break;case"center":O="center";break;case"left":case"start":default:O="left"}var F=this.pdf.getTextDimensions(V.text),X=C.call(this,V.y),ie=_.call(this,X)-F.h,re=this.ctx.transform.applyToPoint(new s(V.x,X)),q=this.ctx.transform.decompose(),ae=new u;ae=(ae=(ae=ae.multiply(q.translate)).multiply(q.skew)).multiply(q.scale);for(var ue,me,be,ke=this.ctx.transform.applyToRectangle(new o(V.x,X,F.w,F.h)),ze=ae.applyToRectangle(new o(V.x,ie,F.w,F.h)),De=g.call(this,ze),ge=[],Et=0;Et<De.length;Et+=1)ge.indexOf(De[Et])===-1&&ge.push(De[Et]);if(x(ge),this.autoPaging)for(var ct=ge[0],We=ge[ge.length-1],Ue=ct;Ue<We+1;Ue++){this.pdf.setPage(Ue);var qe=Ue===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[2],at=Ft-this.margin[0],bt=this.pdf.internal.pageSize.width-this.margin[1],ai=bt-this.margin[3],ei=Ue===1?0:it+(Ue-2)*at;if(this.ctx.clip_path.length!==0){var li=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ue,this.posX+this.margin[3],-1*ei+qe),w.call(this,"fill",!0),this.path=li}var fi=y([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-ei+qe+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*V.scale),be=this.lineWidth,this.lineWidth=be*V.scale);var vi=this.autoPaging!=="text";if(vi||fi.y+fi.h<=Ft){if(vi||fi.y>=qe&&fi.x<=bt){var Ht=vi?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||bt-fi.x)[0],xi=y([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-ei+qe+this.ctx.prevPageLastElemOffset)[0],Ti=vi&&(Ue>ct||Ue<We)&&p.call(this);Ti&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ai,at,null).clip().discardPath()),this.pdf.text(Ht,xi.x,xi.y,{angle:V.angle,align:O,renderingMode:V.renderingMode}),Ti&&this.pdf.restoreGraphicsState()}}else fi.y<Ft&&(this.ctx.prevPageLastElemOffset+=Ft-fi.y);V.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=be)}else V.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*V.scale),be=this.lineWidth,this.lineWidth=be*V.scale),this.pdf.text(V.text,re.x+this.posX,re.y+this.posY,{angle:V.angle,align:O,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=be)},D=function(V,O,F,X){F=F||0,X=X||0,this.pdf.internal.out(e(V+F)+" "+r(O+X)+" l")},k=function(V,O,F){return this.pdf.lines(V,O,F,null,null)},G=function(V,O,F,X,ie,re,q,ae){this.pdf.internal.out([i(n(F+V)),i(a(X+O)),i(n(ie+V)),i(a(re+O)),i(n(q+V)),i(a(ae+O)),"c"].join(" "))},R=function(V,O,F,X){for(var ie=2*Math.PI,re=Math.PI/2;O>F;)O-=ie;var q=Math.abs(F-O);q<ie&&X&&(q=ie-q);for(var ae=[],ue=X?-1:1,me=O;q>1e-5;){var be=me+ue*Math.min(q,re);ae.push(H.call(this,V,me,be)),q-=Math.abs(be-me),me=be}return ae},H=function(V,O,F){var X=(F-O)/2,ie=V*Math.cos(X),re=V*Math.sin(X),q=ie,ae=-re,ue=q*q+ae*ae,me=ue+q*ie+ae*re,be=4/3*(Math.sqrt(2*ue*me)-me)/(q*re-ae*ie),ke=q-be*ae,ze=ae+be*q,De=ke,ge=-ze,Et=X+O,ct=Math.cos(Et),We=Math.sin(Et);return{x1:V*Math.cos(O),y1:V*Math.sin(O),x2:ke*ct-ze*We,y2:ke*We+ze*ct,x3:De*ct-ge*We,y3:De*We+ge*ct,x4:V*Math.cos(F),y4:V*Math.sin(F)}},j=function(V){return 180*V/Math.PI},Z=function(V,O,F,X,ie,re){var q=V+.5*(F-V),ae=O+.5*(X-O),ue=ie+.5*(F-ie),me=re+.5*(X-re),be=Math.min(V,ie,q,ue),ke=Math.max(V,ie,q,ue),ze=Math.min(O,re,ae,me),De=Math.max(O,re,ae,me);return new o(be,ze,ke-be,De-ze)},ee=function(V,O,F,X,ie,re,q,ae){var ue,me,be,ke,ze,De,ge,Et,ct,We,Ue,qe,it,Ft,at=F-V,bt=X-O,ai=ie-F,ei=re-X,li=q-ie,fi=ae-re;for(me=0;me<41;me++)ct=(ge=(be=V+(ue=me/40)*at)+ue*((ze=F+ue*ai)-be))+ue*(ze+ue*(ie+ue*li-ze)-ge),We=(Et=(ke=O+ue*bt)+ue*((De=X+ue*ei)-ke))+ue*(De+ue*(re+ue*fi-De)-Et),me==0?(Ue=ct,qe=We,it=ct,Ft=We):(Ue=Math.min(Ue,ct),qe=Math.min(qe,We),it=Math.max(it,ct),Ft=Math.max(Ft,We));return new o(Math.round(Ue),Math.round(qe),Math.round(it-Ue),Math.round(Ft-qe))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,O,F=(V=this.ctx.lineDash,O=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:O}));this.prevLineDash!==F&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=F)}}})(dn.API),function(t){var i=function(a){var s,o,u,l,c,h,d,f,m,p;for(/[^\x00-\xFF]/.test(a),o=[],u=0,l=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;l>u;u+=4)(c=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(h=(c=((c=((c=((c=(c-(p=c%85))/85)-(m=c%85))/85)-(f=c%85))/85)-(d=c%85))/85)%85,o.push(h+33,d+33,f+33,m+33,p+33)):o.push(122);return function(g,v){for(var y=v;y>0;y--)g.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},e=function(a){var s,o,u,l,c,h=String,d="length",f=255,m="charCodeAt",p="slice",g="replace";for(a[p](-2),a=a[p](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),u=[],l=0,c=(a+=s="uuuuu"[p](a[d]%5||5))[d];c>l;l+=5)o=52200625*(a[m](l)-33)+614125*(a[m](l+1)-33)+7225*(a[m](l+2)-33)+85*(a[m](l+3)-33)+(a[m](l+4)-33),u.push(f&o>>24,f&o>>16,f&o>>8,f&o);return function(v,y){for(var x=y;x>0;x--)v.pop()}(u,s[d]),h.fromCharCode.apply(h,u)},r=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var o="",u=0;u<a.length;u+=2)o+=String.fromCharCode("0x"+(a[u]+a[u+1]));return o},n=function(a){for(var s=new Uint8Array(a.length),o=a.length;o--;)s[o]=a.charCodeAt(o);return a=(s=VM(s)).reduce(function(u,l){return u+String.fromCharCode(l)},"")};t.processDataByFilters=function(a,s){var o=0,u=a||"",l=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":u=e(u),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=i(u),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=n(u),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:u,reverseChain:l.reverse().join(" ")}}}(dn.API),function(t){t.loadFile=function(i,e,r){return function(n,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(u,l,c){var h=new XMLHttpRequest,d=0,f=function(m){var p=m.length,g=[],v=String.fromCharCode;for(d=0;d<p;d+=1)g.push(v(255&m.charCodeAt(d)));return g.join("")};if(h.open("GET",u,!l),h.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(h.onload=function(){h.status===200?c(f(this.responseText)):c(void 0)}),h.send(null),l&&h.status===200)return f(h.responseText)}(n,a,s)}catch{}return o}(i,e,r)},t.loadImageFile=t.loadFile}(dn.API),function(t){function i(){return(yn.html2canvas?Promise.resolve(yn.html2canvas):import("./chunk-PM3QAI3C.js")).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function e(){return(yn.DOMPurify?Promise.resolve(yn.DOMPurify):import("./chunk-X4CKOTYT.js")).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var o=ts(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},n=function(s,o){var u=document.createElement(s);for(var l in o.className&&(u.className=o.className),o.innerHTML&&o.dompurify&&(u.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)u.style[l]=o.style[l];return u},a=function s(o){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),l=s.convert(Promise.resolve(),u);return l=(l=l.setProgress(1,s,1,[s])).set(o)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,o){return s.__proto__=o||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(e).then(function(u){return this.set({src:n("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function u(l,c){for(var h=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||h.appendChild(u(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(h.width=l.width,h.height=l.height,h.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(h.value=l.value),h.addEventListener("load",function(){h.scrollTop=l.scrollTop,h.scrollLeft=l.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(i).then(function(o){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,o(this.prop.container,u)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(i).then(function(o){var u=this.opt.jsPDF,l=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=l,l)for(var d=0;d<l.length;++d){var f=l[d],m=f.src.find(function(p){return p.format==="truetype"});m&&u.addFont(m.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,u.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,o,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},a.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(r(s)!=="object")return this;var o=Object.keys(s||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(o)})},a.prototype.get=function(s,o){return this.then(function(){var u=s in a.template.prop?this.prop[s]:this.opt[s];return o?o(u):u})},a.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function o(u,l){return Math.floor(u*l/72*96)}return this.then(function(){(s=s||dn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,o,u,l){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),u!=null&&(this.progress.n=u),l!=null&&(this.progress.stack=l),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,o,u,l){return this.setProgress(s?this.progress.val+s:null,o||null,u?this.progress.n+u:null,l?this.progress.stack.concat(l):null)},a.prototype.then=function(s,o){var u=this;return this.thenCore(s,o,function(l,c){return u.updateProgress(null,null,1,[l]),Promise.prototype.then.call(this,function(h){return u.updateProgress(null,l),h}).then(l,c).then(function(h){return u.updateProgress(1),h})})},a.prototype.thenCore=function(s,o,u){u=u||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var l=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),c=u.call(l,s,o);return a.convert(c,this.__proto__)},a.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},a.prototype.thenList=function(s){var o=this;return s.forEach(function(u){o=o.thenCore(u)}),o},a.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return a.convert(o,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,dn.getPageSize=function(s,o,u){if(ts(s)==="object"){var l=s;s=l.orientation,o=l.unit||o,u=l.format||u}o=o||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var c,h=(""+u).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+o}var f,m=0,p=0;if(d.hasOwnProperty(h))m=d[h][1]/c,p=d[h][0]/c;else try{m=u[1],p=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",p>m&&(f=p,p=m,m=f);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>p&&(f=p,p=m,m=f)}return{width:p,height:m,unit:o,k:c,orientation:s}},t.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(MN):null;var u=new a(o);return o.worker?u:u.from(s).doCallback()}}(dn.API),dn.API.addJS=function(t){return Aee=t,this.internal.events.subscribe("postPutResources",function(){HM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(HM+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Eee=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Aee+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){HM!==void 0&&Eee!==void 0&&this.internal.out("/Names <</JavaScript "+HM+" 0 R>>")}),this},function(t){var i;t.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=e.outline.render().split(/\r\n/),a=0;a<n.length;a++){var s=n[a],o=r.exec(s);if(o!=null){var u=o[1];e.internal.newObjectDeferredBegin(u,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var h=e.internal.newObject();c.push(h);var d=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<c.length;a++)e.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");e.internal.write(" ] >>","endobj"),i=e.internal.newObject(),e.internal.write("<< /Dests "+f+" 0 R"),e.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+i+" 0 R"))}]),t.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,n,a){var s={title:n,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var n=0;n<r.children.length;n++)this.genIds_r(r.children[n])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var u=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var l=0;l<r.children.length;l++)this.renderItems(r.children[l])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,n){for(var a=0;a<n.children.length;a++)r.count++,this.count_r(r,n.children[a]);return r.count}}])}(dn.API),function(t){var i=[192,193,194,195,196,197,198,199];t.processJPEG=function(e,r,n,a,s,o){var u,l=this.decode.DCT_DECODE,c=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(u=function(h){for(var d,f=256*h.charCodeAt(4)+h.charCodeAt(5),m=h.length,p={width:0,height:0,numcomponents:1},g=4;g<m;g+=2){if(g+=f,i.indexOf(h.charCodeAt(g+1))!==-1){d=256*h.charCodeAt(g+5)+h.charCodeAt(g+6),p={width:256*h.charCodeAt(g+7)+h.charCodeAt(g+8),height:d,numcomponents:h.charCodeAt(g+9)};break}f=256*h.charCodeAt(g+2)+h.charCodeAt(g+3)}return p}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:e,width:u.width,height:u.height,colorSpace:o,bitsPerComponent:8,filter:l,index:r,alias:n}}return c}}(dn.API);var cx,GM,Mee,Iee,Dee,pOe=function(){var t,i,e;function r(a){var s,o,u,l,c,h,d,f,m,p,g,v,y,x;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(s=this.readUInt32(),m=function(){var b,w;for(w=[],b=0;b<4;++b)w.push(String.fromCharCode(this.data[this.pos++]));return w}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),l=this.readUInt16()||100,h.delay=1e3*c/l,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,s-=4),a=h?.data||this.imgData,v=0;0<=s?v<s:v>s;0<=s?++v:--v)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((p=u-this.transparency.indexed.length)>0)for(y=0;0<=p?y<p:y>p;0<=p?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":d=(g=this.read(s)).indexOf(0),f=String.fromCharCode.apply(String,g.slice(0,d)),this.text[f]=String.fromCharCode.apply(String,g.slice(d+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var s,o;for(o=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),u=0,l=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function c(h,d,f,m){var p,g,v,y,x,b,w,C,_,S,T,A,M,I,D,k,G,R,H,j,Z,ee=Math.ceil((l.width-h)/f),Y=Math.ceil((l.height-d)/m),V=l.width==ee&&l.height==Y;for(I=s*ee,A=V?o:new Uint8Array(I*Y),b=a.length,M=0,g=0;M<Y&&u<b;){switch(a[u++]){case 0:for(y=G=0;G<I;y=G+=1)A[g++]=a[u++];break;case 1:for(y=R=0;R<I;y=R+=1)p=a[u++],x=y<s?0:A[g-s],A[g++]=(p+x)%256;break;case 2:for(y=H=0;H<I;y=H+=1)p=a[u++],v=(y-y%s)/s,D=M&&A[(M-1)*I+v*s+y%s],A[g++]=(D+p)%256;break;case 3:for(y=j=0;j<I;y=j+=1)p=a[u++],v=(y-y%s)/s,x=y<s?0:A[g-s],D=M&&A[(M-1)*I+v*s+y%s],A[g++]=(p+Math.floor((x+D)/2))%256;break;case 4:for(y=Z=0;Z<I;y=Z+=1)p=a[u++],v=(y-y%s)/s,x=y<s?0:A[g-s],M===0?D=k=0:(D=A[(M-1)*I+v*s+y%s],k=v&&A[(M-1)*I+(v-1)*s+y%s]),w=x+D-k,C=Math.abs(w-x),S=Math.abs(w-D),T=Math.abs(w-k),_=C<=S&&C<=T?x:S<=T?D:k,A[g++]=(p+_)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!V){var O=((d+M*m)*l.width+h)*s,F=M*I;for(y=0;y<ee;y+=1){for(var X=0;X<s;X+=1)o[O++]=A[F++];O+=(f-1)*s}}M++}}return a=gee(a),l.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),o},r.prototype.decodePalette=function(){var a,s,o,u,l,c,h,d,f;for(o=this.palette,c=this.transparency.indexed||[],l=new Uint8Array((c.length||0)+o.length),u=0,a=0,s=h=0,d=o.length;h<d;s=h+=3)l[u++]=o[s],l[u++]=o[s+1],l[u++]=o[s+2],l[u++]=(f=c[a++])!=null?f:255;return l},r.prototype.copyToImageData=function(a,s){var o,u,l,c,h,d,f,m,p,g,v;if(u=this.colors,p=null,o=this.hasAlphaChannel,this.palette.length&&(p=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),u=4,o=!0),m=(l=a.data||a).length,h=p||s,c=d=0,u===1)for(;c<m;)f=p?4*s[c/4]:d,g=h[f++],l[c++]=g,l[c++]=g,l[c++]=g,l[c++]=o?h[f++]:255,d=f;else for(;c<m;)f=p?4*s[c/4]:d,l[c++]=h[f++],l[c++]=h[f++],l[c++]=h[f++],l[c++]=o?h[f++]:255,d=f},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var n=function(){if(Object.prototype.toString.call(yn)==="[object Window]"){try{i=yn.document.createElement("canvas"),e=i.getContext("2d")}catch{return!1}return!0}return!1};return n(),t=function(a){var s;if(n()===!0)return e.width=a.width,e.height=a.height,e.clearRect(0,0,a.width,a.height),e.putImageData(a,0,0),(s=new Image).src=i.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var s,o,u,l,c,h,d,f;if(this.animation){for(f=[],o=c=0,h=(d=this.animation.frames).length;c<h;o=++c)s=d[o],u=a.createImageData(s.width,s.height),l=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(u,l),s.imageData=u,f.push(s.image=t(u));return f}},r.prototype.renderFrame=function(a,s){var o,u,l;return o=(u=this.animation.frames)[s],l=u[s-1],s===0&&a.clearRect(0,0,this.width,this.height),l?.disposeOp===1?a.clearRect(l.xOffset,l.yOffset,l.width,l.height):l?.disposeOp===2&&a.putImageData(l.imageData,l.xOffset,l.yOffset),o.blendOp===0&&a.clearRect(o.xOffset,o.yOffset,o.width,o.height),a.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(a){var s,o,u,l,c,h,d=this;return o=0,h=this.animation,l=h.numFrames,u=h.frames,c=h.numPlays,(s=function(){var f,m;if(f=o++%l,m=u[f],d.renderFrame(a,f),l>1&&o/l<c)return d.animation._timeout=setTimeout(s,m.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var s,o;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},r}();function mOe(t){var i=0;if(t[i++]!==71||t[i++]!==73||t[i++]!==70||t[i++]!==56||(t[i++]+1&253)!=56||t[i++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=t[i++]|t[i++]<<8,r=t[i++]|t[i++]<<8,n=t[i++],a=n>>7,s=1<<(7&n)+1;t[i++],t[i++];var o=null,u=null;a&&(o=i,u=s,i+=3*s);var l=!0,c=[],h=0,d=null,f=0,m=null;for(this.width=e,this.height=r;l&&i<t.length;)switch(t[i++]){case 33:switch(t[i++]){case 255:if(t[i]!==11||t[i+1]==78&&t[i+2]==69&&t[i+3]==84&&t[i+4]==83&&t[i+5]==67&&t[i+6]==65&&t[i+7]==80&&t[i+8]==69&&t[i+9]==50&&t[i+10]==46&&t[i+11]==48&&t[i+12]==3&&t[i+13]==1&&t[i+16]==0)i+=14,m=t[i++]|t[i++]<<8,i++;else for(i+=12;;){if(!((M=t[i++])>=0))throw Error("Invalid block size");if(M===0)break;i+=M}break;case 249:if(t[i++]!==4||t[i+4]!==0)throw new Error("Invalid graphics extension block.");var p=t[i++];h=t[i++]|t[i++]<<8,d=t[i++],!(1&p)&&(d=null),f=p>>2&7,i++;break;case 254:for(;;){if(!((M=t[i++])>=0))throw Error("Invalid block size");if(M===0)break;i+=M}break;default:throw new Error("Unknown graphic control label: 0x"+t[i-1].toString(16))}break;case 44:var g=t[i++]|t[i++]<<8,v=t[i++]|t[i++]<<8,y=t[i++]|t[i++]<<8,x=t[i++]|t[i++]<<8,b=t[i++],w=b>>6&1,C=1<<(7&b)+1,_=o,S=u,T=!1;b>>7&&(T=!0,_=i,S=C,i+=3*C);var A=i;for(i++;;){var M;if(!((M=t[i++])>=0))throw Error("Invalid block size");if(M===0)break;i+=M}c.push({x:g,y:v,width:y,height:x,has_local_palette:T,palette_offset:_,palette_size:S,data_offset:A,data_length:i-A,transparent_index:d,interlaced:!!w,delay:h,disposal:f});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[i-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return m},this.frameInfo=function(I){if(I<0||I>=c.length)throw new Error("Frame index out of range.");return c[I]},this.decodeAndBlitFrameBGRA=function(I,D){var k=this.frameInfo(I),G=k.width*k.height,R=new Uint8Array(G);Pee(t,k.data_offset,R,G);var H=k.palette_offset,j=k.transparent_index;j===null&&(j=256);var Z=k.width,ee=e-Z,Y=Z,V=4*(k.y*e+k.x),O=4*((k.y+k.height)*e+k.x),F=V,X=4*ee;k.interlaced===!0&&(X+=4*e*7);for(var ie=8,re=0,q=R.length;re<q;++re){var ae=R[re];if(Y===0&&(Y=Z,(F+=X)>=O&&(X=4*ee+4*e*(ie-1),F=V+(Z+ee)*(ie<<1),ie>>=1)),ae===j)F+=4;else{var ue=t[H+3*ae],me=t[H+3*ae+1],be=t[H+3*ae+2];D[F++]=be,D[F++]=me,D[F++]=ue,D[F++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(I,D){var k=this.frameInfo(I),G=k.width*k.height,R=new Uint8Array(G);Pee(t,k.data_offset,R,G);var H=k.palette_offset,j=k.transparent_index;j===null&&(j=256);var Z=k.width,ee=e-Z,Y=Z,V=4*(k.y*e+k.x),O=4*((k.y+k.height)*e+k.x),F=V,X=4*ee;k.interlaced===!0&&(X+=4*e*7);for(var ie=8,re=0,q=R.length;re<q;++re){var ae=R[re];if(Y===0&&(Y=Z,(F+=X)>=O&&(X=4*ee+4*e*(ie-1),F=V+(Z+ee)*(ie<<1),ie>>=1)),ae===j)F+=4;else{var ue=t[H+3*ae],me=t[H+3*ae+1],be=t[H+3*ae+2];D[F++]=ue,D[F++]=me,D[F++]=be,D[F++]=255}--Y}}}function Pee(t,i,e,r){for(var n=t[i++],a=1<<n,s=a+1,o=s+1,u=n+1,l=(1<<u)-1,c=0,h=0,d=0,f=t[i++],m=new Int32Array(4096),p=null;;){for(;c<16&&f!==0;)h|=t[i++]<<c,c+=8,f===1?f=t[i++]:--f;if(c<u)break;var g=h&l;if(h>>=u,c-=u,g!==a){if(g===s)break;for(var v=g<o?g:p,y=0,x=v;x>a;)x=m[x]>>8,++y;var b=x;if(d+y+(v!==g?1:0)>r)return void Rs.log("Warning, gif stream longer than expected.");e[d++]=b;var w=d+=y;for(v!==g&&(e[d++]=b),x=v;y--;)x=m[x],e[--w]=255&x,x>>=8;p!==null&&o<4096&&(m[o++]=p<<8|b,o>=l+1&&u<12&&(++u,l=l<<1|1)),p=g}else o=s+1,l=(1<<(u=n+1))-1,p=null}return d!==r&&Rs.log("Warning, gif stream shorter than expected."),e}function wN(t){var i,e,r,n,a,s=Math.floor,o=new Array(64),u=new Array(64),l=new Array(64),c=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),m=new Array(64),p=[],g=0,v=7,y=new Array(64),x=new Array(64),b=new Array(64),w=new Array(256),C=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(V,O){for(var F=0,X=0,ie=new Array,re=1;re<=16;re++){for(var q=1;q<=V[re];q++)ie[O[X]]=[],ie[O[X]][0]=F,ie[O[X]][1]=re,X++,F++;F*=2}return ie}function H(V){for(var O=V[0],F=V[1]-1;F>=0;)O&1<<F&&(g|=1<<v),F--,--v<0&&(g==255?(j(255),j(0)):j(g),v=7,g=0)}function j(V){p.push(V)}function Z(V){j(V>>8&255),j(255&V)}function ee(V,O,F,X,ie){for(var re,q=ie[0],ae=ie[240],ue=function(We,Ue){var qe,it,Ft,at,bt,ai,ei,li,fi,vi,Ht=0;for(fi=0;fi<8;++fi){qe=We[Ht],it=We[Ht+1],Ft=We[Ht+2],at=We[Ht+3],bt=We[Ht+4],ai=We[Ht+5],ei=We[Ht+6];var xi=qe+(li=We[Ht+7]),Ti=qe-li,Tr=it+ei,mn=it-ei,wn=Ft+ai,Xr=Ft-ai,gn=at+bt,Xo=at-bt,Nr=xi+gn,To=xi-gn,lo=Tr+wn,Er=Tr-wn;We[Ht]=Nr+lo,We[Ht+4]=Nr-lo;var sn=.707106781*(Er+To);We[Ht+2]=To+sn,We[Ht+6]=To-sn;var On=.382683433*((Nr=Xo+Xr)-(Er=mn+Ti)),Pc=.5411961*Nr+On,ps=1.306562965*Er+On,Yo=.707106781*(lo=Xr+mn),ja=Ti+Yo,Ji=Ti-Yo;We[Ht+5]=Ji+Pc,We[Ht+3]=Ji-Pc,We[Ht+1]=ja+ps,We[Ht+7]=ja-ps,Ht+=8}for(Ht=0,fi=0;fi<8;++fi){qe=We[Ht],it=We[Ht+8],Ft=We[Ht+16],at=We[Ht+24],bt=We[Ht+32],ai=We[Ht+40],ei=We[Ht+48];var Br=qe+(li=We[Ht+56]),ms=qe-li,mi=it+ei,Yr=it-ei,_s=Ft+ai,xe=Ft-ai,Ne=at+bt,Re=at-bt,Fe=Br+Ne,Oe=Br-Ne,Be=mi+_s,st=mi-_s;We[Ht]=Fe+Be,We[Ht+32]=Fe-Be;var Ct=.707106781*(st+Oe);We[Ht+16]=Oe+Ct,We[Ht+48]=Oe-Ct;var nt=.382683433*((Fe=Re+xe)-(st=Yr+ms)),ot=.5411961*Fe+nt,lt=1.306562965*st+nt,Qt=.707106781*(Be=xe+Yr),qt=ms+Qt,wi=ms-Qt;We[Ht+40]=wi+ot,We[Ht+24]=wi-ot,We[Ht+8]=qt+lt,We[Ht+56]=qt-lt,Ht++}for(fi=0;fi<64;++fi)vi=We[fi]*Ue[fi],f[fi]=vi>0?vi+.5|0:vi-.5|0;return f}(V,O),me=0;me<64;++me)m[_[me]]=ue[me];var be=m[0]-F;F=m[0],be==0?H(X[0]):(H(X[d[re=32767+be]]),H(h[re]));for(var ke=63;ke>0&&m[ke]==0;)ke--;if(ke==0)return H(q),F;for(var ze,De=1;De<=ke;){for(var ge=De;m[De]==0&&De<=ke;)++De;var Et=De-ge;if(Et>=16){ze=Et>>4;for(var ct=1;ct<=ze;++ct)H(ae);Et&=15}re=32767+m[De],H(ie[(Et<<4)+d[re]]),H(h[re]),De++}return ke!=63&&H(q),F}function Y(V){V=Math.min(Math.max(V,1),100),a!=V&&(function(O){for(var F=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var ie=s((F[X]*O+50)/100);ie=Math.min(Math.max(ie,1),255),o[_[X]]=ie}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],q=0;q<64;q++){var ae=s((re[q]*O+50)/100);ae=Math.min(Math.max(ae,1),255),u[_[q]]=ae}for(var ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],me=0,be=0;be<8;be++)for(var ke=0;ke<8;ke++)l[me]=1/(o[_[me]]*ue[be]*ue[ke]*8),c[me]=1/(u[_[me]]*ue[be]*ue[ke]*8),me++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),a=V)}this.encode=function(V,O){O&&Y(O),p=new Array,g=0,v=7,Z(65496),Z(65504),Z(16),j(74),j(70),j(73),j(70),j(0),j(1),j(1),j(0),Z(1),Z(1),j(0),j(0),function(){Z(65499),Z(132),j(0);for(var it=0;it<64;it++)j(o[it]);j(1);for(var Ft=0;Ft<64;Ft++)j(u[Ft])}(),function(it,Ft){Z(65472),Z(17),j(8),Z(Ft),Z(it),j(3),j(1),j(17),j(0),j(2),j(17),j(1),j(3),j(17),j(1)}(V.width,V.height),function(){Z(65476),Z(418),j(0);for(var it=0;it<16;it++)j(S[it+1]);for(var Ft=0;Ft<=11;Ft++)j(T[Ft]);j(16);for(var at=0;at<16;at++)j(A[at+1]);for(var bt=0;bt<=161;bt++)j(M[bt]);j(1);for(var ai=0;ai<16;ai++)j(I[ai+1]);for(var ei=0;ei<=11;ei++)j(D[ei]);j(17);for(var li=0;li<16;li++)j(k[li+1]);for(var fi=0;fi<=161;fi++)j(G[fi])}(),Z(65498),Z(12),j(3),j(1),j(0),j(2),j(17),j(3),j(17),j(0),j(63),j(0);var F=0,X=0,ie=0;g=0,v=7,this.encode.displayName="_encode_";for(var re,q,ae,ue,me,be,ke,ze,De,ge=V.data,Et=V.width,ct=V.height,We=4*Et,Ue=0;Ue<ct;){for(re=0;re<We;){for(me=We*Ue+re,ke=-1,ze=0,De=0;De<64;De++)be=me+(ze=De>>3)*We+(ke=4*(7&De)),Ue+ze>=ct&&(be-=We*(Ue+1+ze-ct)),re+ke>=We&&(be-=re+ke-We+4),q=ge[be++],ae=ge[be++],ue=ge[be++],y[De]=(C[q]+C[ae+256>>0]+C[ue+512>>0]>>16)-128,x[De]=(C[q+768>>0]+C[ae+1024>>0]+C[ue+1280>>0]>>16)-128,b[De]=(C[q+1280>>0]+C[ae+1536>>0]+C[ue+1792>>0]>>16)-128;F=ee(y,l,F,i,r),X=ee(x,c,X,e,n),ie=ee(b,c,ie,e,n),re+=32}Ue+=8}if(v>=0){var qe=[];qe[1]=v+1,qe[0]=(1<<v+1)-1,H(qe)}return Z(65497),new Uint8Array(p)},t=t||50,function(){for(var V=String.fromCharCode,O=0;O<256;O++)w[O]=V(O)}(),i=R(S,T),e=R(I,D),r=R(A,M),n=R(k,G),function(){for(var V=1,O=2,F=1;F<=15;F++){for(var X=V;X<O;X++)d[32767+X]=F,h[32767+X]=[],h[32767+X][1]=F,h[32767+X][0]=X;for(var ie=-(O-1);ie<=-V;ie++)d[32767+ie]=F,h[32767+ie]=[],h[32767+ie][1]=F,h[32767+ie][0]=O-1+ie;V<<=1,O<<=1}}(),function(){for(var V=0;V<256;V++)C[V]=19595*V,C[V+256>>0]=38470*V,C[V+512>>0]=7471*V+32768,C[V+768>>0]=-11059*V,C[V+1024>>0]=-21709*V,C[V+1280>>0]=32768*V+8421375,C[V+1536>>0]=-27439*V,C[V+1792>>0]=-5329*V}(),Y(t)}function Ph(t,i){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!i,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ree(t){function i(S){if(!S)throw Error("assert :P")}function e(S,T,A){for(var M=0;4>M;M++)if(S[T+M]!=A.charCodeAt(M))return!0;return!1}function r(S,T,A,M,I){for(var D=0;D<I;D++)S[T+D]=A[M+D]}function n(S,T,A,M){for(var I=0;I<M;I++)S[T+I]=A}function a(S){return new Int32Array(S)}function s(S,T){for(var A=[],M=0;M<S;M++)A.push(new T);return A}function o(S,T){var A=[];return function M(I,D,k){for(var G=k[D],R=0;R<G&&(I.push(k.length>D+1?[]:new T),!(k.length<D+1));R++)M(I[R],D+1,k)}(A,0,S),A}var u=function(){var S=this;function T(N,Q){for(var se=1<<Q-1>>>0;N&se;)se>>>=1;return se?(N&se-1)+se:N}function A(N,Q,se,de,ye){i(!(de%se));do N[Q+(de-=se)]=ye;while(0<de)}function M(N,Q,se,de,ye){if(i(2328>=ye),512>=ye)var _e=a(512);else if((_e=a(ye))==null)return 0;return function(Ce,Ae,Pe,Le,$e,ft){var pt,et,zt=Ae,Dt=1<<Pe,Qe=a(16),Je=a(16);for(i($e!=0),i(Le!=null),i(Ce!=null),i(0<Pe),et=0;et<$e;++et){if(15<Le[et])return 0;++Qe[Le[et]]}if(Qe[0]==$e)return 0;for(Je[1]=0,pt=1;15>pt;++pt){if(Qe[pt]>1<<pt)return 0;Je[pt+1]=Je[pt]+Qe[pt]}for(et=0;et<$e;++et)pt=Le[et],0<Le[et]&&(ft[Je[pt]++]=et);if(Je[15]==1)return(Le=new I).g=0,Le.value=ft[0],A(Ce,zt,1,Dt,Le),Dt;var Bt,Zt=-1,Vt=Dt-1,Ii=0,gi=1,an=1,Ci=1<<Pe;for(et=0,pt=1,$e=2;pt<=Pe;++pt,$e<<=1){if(gi+=an<<=1,0>(an-=Qe[pt]))return 0;for(;0<Qe[pt];--Qe[pt])(Le=new I).g=pt,Le.value=ft[et++],A(Ce,zt+Ii,$e,Ci,Le),Ii=T(Ii,pt)}for(pt=Pe+1,$e=2;15>=pt;++pt,$e<<=1){if(gi+=an<<=1,0>(an-=Qe[pt]))return 0;for(;0<Qe[pt];--Qe[pt]){if(Le=new I,(Ii&Vt)!=Zt){for(zt+=Ci,Bt=1<<(Zt=pt)-Pe;15>Zt&&!(0>=(Bt-=Qe[Zt]));)++Zt,Bt<<=1;Dt+=Ci=1<<(Bt=Zt-Pe),Ce[Ae+(Zt=Ii&Vt)].g=Bt+Pe,Ce[Ae+Zt].value=zt-Ae-Zt}Le.g=pt-Pe,Le.value=ft[et++],A(Ce,zt+(Ii>>Pe),$e,Ci,Le),Ii=T(Ii,pt)}}return gi!=2*Je[15]-1?0:Dt}(N,Q,se,de,ye,_e)}function I(){this.value=this.g=0}function D(){this.value=this.g=0}function k(){this.G=s(5,I),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ls,D)}function G(N,Q,se,de){i(N!=null),i(Q!=null),i(2147483648>de),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=Q,N.pa=se,N.Jd=Q,N.Yc=se+de,N.Zc=4<=de?se+de-4+1:se,re(N)}function R(N,Q){for(var se=0;0<Q--;)se|=ae(N,128)<<Q;return se}function H(N,Q){var se=R(N,Q);return q(N)?-se:se}function j(N,Q,se,de){var ye,_e=0;for(i(N!=null),i(Q!=null),i(4294967288>de),N.Sb=de,N.Ra=0,N.u=0,N.h=0,4<de&&(de=4),ye=0;ye<de;++ye)_e+=Q[se+ye]<<8*ye;N.Ra=_e,N.bb=de,N.oa=Q,N.pa=se}function Z(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<Yh-8>>>0,++N.bb,N.u-=8;F(N)&&(N.h=1,N.u=0)}function ee(N,Q){if(i(0<=Q),!N.h&&Q<=cm){var se=O(N)&th[Q];return N.u+=Q,Z(N),se}return N.h=1,N.u=0}function Y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function O(N){return N.Ra>>>(N.u&Yh-1)>>>0}function F(N){return i(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>Yh}function X(N,Q){N.u=Q,N.h=F(N)}function ie(N){N.u>=B0&&(i(N.u>=B0),Z(N))}function re(N){i(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(i(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function q(N){return R(N,1)}function ae(N,Q){var se=N.Ca;0>N.b&&re(N);var de=N.b,ye=se*Q>>>8,_e=(N.I>>>de>ye)+0;for(_e?(se-=ye,N.I-=ye+1<<de>>>0):se=ye+1,de=se,ye=0;256<=de;)ye+=8,de>>=8;return de=7^ye+Js[de],N.b-=de,N.Ca=(se<<de)-1,_e}function ue(N,Q,se){N[Q+0]=se>>24&255,N[Q+1]=se>>16&255,N[Q+2]=se>>8&255,N[Q+3]=se>>0&255}function me(N,Q){return N[Q+0]<<0|N[Q+1]<<8}function be(N,Q){return me(N,Q)|N[Q+2]<<16}function ke(N,Q){return me(N,Q)|me(N,Q+2)<<16}function ze(N,Q){var se=1<<Q;return i(N!=null),i(0<Q),N.X=a(se),N.X==null?0:(N.Mb=32-Q,N.Xa=Q,1)}function De(N,Q){i(N!=null),i(Q!=null),i(N.Xa==Q.Xa),r(Q.X,0,N.X,0,1<<Q.Xa)}function ge(){this.X=[],this.Xa=this.Mb=0}function Et(N,Q,se,de){i(se!=null),i(de!=null);var ye=se[0],_e=de[0];return ye==0&&(ye=(N*_e+Q/2)/Q),_e==0&&(_e=(Q*ye+N/2)/N),0>=ye||0>=_e?0:(se[0]=ye,de[0]=_e,1)}function ct(N,Q){return N+(1<<Q)-1>>>Q}function We(N,Q){return((4278255360&N)+(4278255360&Q)>>>0&4278255360)+((16711935&N)+(16711935&Q)>>>0&16711935)>>>0}function Ue(N,Q){S[Q]=function(se,de,ye,_e,Ce,Ae,Pe){var Le;for(Le=0;Le<Ce;++Le){var $e=S[N](Ae[Pe+Le-1],ye,_e+Le);Ae[Pe+Le]=We(se[de+Le],$e)}}}function qe(){this.ud=this.hd=this.jd=0}function it(N,Q){return((4278124286&(N^Q))>>>1)+(N&Q)>>>0}function Ft(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function at(N,Q){return Ft(N+(N-Q+.5>>1))}function bt(N,Q,se){return Math.abs(Q-se)-Math.abs(N-se)}function ai(N,Q,se,de,ye,_e,Ce){for(de=_e[Ce-1],se=0;se<ye;++se)_e[Ce+se]=de=We(N[Q+se],de)}function ei(N,Q,se,de,ye){var _e;for(_e=0;_e<se;++_e){var Ce=N[Q+_e],Ae=Ce>>8&255,Pe=16711935&(Pe=(Pe=16711935&Ce)+((Ae<<16)+Ae));de[ye+_e]=(4278255360&Ce)+Pe>>>0}}function li(N,Q){Q.jd=N>>0&255,Q.hd=N>>8&255,Q.ud=N>>16&255}function fi(N,Q,se,de,ye,_e){var Ce;for(Ce=0;Ce<de;++Ce){var Ae=Q[se+Ce],Pe=Ae>>>8,Le=Ae,$e=255&($e=($e=Ae>>>16)+((N.jd<<24>>24)*(Pe<<24>>24)>>>5));Le=255&(Le=(Le=Le+((N.hd<<24>>24)*(Pe<<24>>24)>>>5))+((N.ud<<24>>24)*($e<<24>>24)>>>5)),ye[_e+Ce]=(4278255360&Ae)+($e<<16)+Le}}function vi(N,Q,se,de,ye){S[Q]=function(_e,Ce,Ae,Pe,Le,$e,ft,pt,et){for(Pe=ft;Pe<pt;++Pe)for(ft=0;ft<et;++ft)Le[$e++]=ye(Ae[de(_e[Ce++])])},S[N]=function(_e,Ce,Ae,Pe,Le,$e,ft){var pt=8>>_e.b,et=_e.Ea,zt=_e.K[0],Dt=_e.w;if(8>pt)for(_e=(1<<_e.b)-1,Dt=(1<<pt)-1;Ce<Ae;++Ce){var Qe,Je=0;for(Qe=0;Qe<et;++Qe)Qe&_e||(Je=de(Pe[Le++])),$e[ft++]=ye(zt[Je&Dt]),Je>>=pt}else S["VP8LMapColor"+se](Pe,Le,zt,Dt,$e,ft,Ce,Ae,et)}}function Ht(N,Q,se,de,ye){for(se=Q+se;Q<se;){var _e=N[Q++];de[ye++]=_e>>16&255,de[ye++]=_e>>8&255,de[ye++]=_e>>0&255}}function xi(N,Q,se,de,ye){for(se=Q+se;Q<se;){var _e=N[Q++];de[ye++]=_e>>16&255,de[ye++]=_e>>8&255,de[ye++]=_e>>0&255,de[ye++]=_e>>24&255}}function Ti(N,Q,se,de,ye){for(se=Q+se;Q<se;){var _e=(Ce=N[Q++])>>16&240|Ce>>12&15,Ce=Ce>>0&240|Ce>>28&15;de[ye++]=_e,de[ye++]=Ce}}function Tr(N,Q,se,de,ye){for(se=Q+se;Q<se;){var _e=(Ce=N[Q++])>>16&248|Ce>>13&7,Ce=Ce>>5&224|Ce>>3&31;de[ye++]=_e,de[ye++]=Ce}}function mn(N,Q,se,de,ye){for(se=Q+se;Q<se;){var _e=N[Q++];de[ye++]=_e>>0&255,de[ye++]=_e>>8&255,de[ye++]=_e>>16&255}}function wn(N,Q,se,de,ye,_e){if(_e==0)for(se=Q+se;Q<se;)ue(de,((_e=N[Q++])[0]>>24|_e[1]>>8&65280|_e[2]<<8&16711680|_e[3]<<24)>>>0),ye+=32;else r(de,ye,N,Q,se)}function Xr(N,Q){S[Q][0]=S[N+"0"],S[Q][1]=S[N+"1"],S[Q][2]=S[N+"2"],S[Q][3]=S[N+"3"],S[Q][4]=S[N+"4"],S[Q][5]=S[N+"5"],S[Q][6]=S[N+"6"],S[Q][7]=S[N+"7"],S[Q][8]=S[N+"8"],S[Q][9]=S[N+"9"],S[Q][10]=S[N+"10"],S[Q][11]=S[N+"11"],S[Q][12]=S[N+"12"],S[Q][13]=S[N+"13"],S[Q][14]=S[N+"0"],S[Q][15]=S[N+"0"]}function gn(N){return N==ib||N==E||N==P||N==W}function Xo(){this.eb=[],this.size=this.A=this.fb=0}function Nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function To(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xo,this.f.kb=new Nr,this.sd=null}function lo(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Er(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function sn(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function On(N,Q){var se=N.T,de=Q.ba.f.RGBA,ye=de.eb,_e=de.fb+N.ka*de.A,Ce=Nc[Q.ba.S],Ae=N.y,Pe=N.O,Le=N.f,$e=N.N,ft=N.ea,pt=N.W,et=Q.cc,zt=Q.dc,Dt=Q.Mc,Qe=Q.Nc,Je=N.ka,Bt=N.ka+N.T,Zt=N.U,Vt=Zt+1>>1;for(Je==0?Ce(Ae,Pe,null,null,Le,$e,ft,pt,Le,$e,ft,pt,ye,_e,null,null,Zt):(Ce(Q.ec,Q.fc,Ae,Pe,et,zt,Dt,Qe,Le,$e,ft,pt,ye,_e-de.A,ye,_e,Zt),++se);Je+2<Bt;Je+=2)et=Le,zt=$e,Dt=ft,Qe=pt,$e+=N.Rc,pt+=N.Rc,_e+=2*de.A,Ce(Ae,(Pe+=2*N.fa)-N.fa,Ae,Pe,et,zt,Dt,Qe,Le,$e,ft,pt,ye,_e-de.A,ye,_e,Zt);return Pe+=N.fa,N.j+Bt<N.o?(r(Q.ec,Q.fc,Ae,Pe,Zt),r(Q.cc,Q.dc,Le,$e,Vt),r(Q.Mc,Q.Nc,ft,pt,Vt),se--):1&Bt||Ce(Ae,Pe,null,null,Le,$e,ft,pt,Le,$e,ft,pt,ye,_e+de.A,null,null,Zt),se}function Pc(N,Q,se){var de=N.F,ye=[N.J];if(de!=null){var _e=N.U,Ce=Q.ba.S,Ae=Ce==Fv||Ce==P;Q=Q.ba.f.RGBA;var Pe=[0],Le=N.ka;Pe[0]=N.T,N.Kb&&(Le==0?--Pe[0]:(--Le,ye[0]-=N.width),N.j+N.ka+N.T==N.o&&(Pe[0]=N.o-N.j-Le));var $e=Q.eb;Le=Q.fb+Le*Q.A,N=dr(de,ye[0],N.width,_e,Pe,$e,Le+(Ae?0:3),Q.A),i(se==Pe),N&&gn(Ce)&&dc($e,Le,Ae,_e,Pe,Q.A)}return 0}function ps(N){var Q=N.ma,se=Q.ba.S,de=11>se,ye=se==G0||se==j0||se==Fv||se==Ov||se==12||gn(se);if(Q.memory=null,Q.Ib=null,Q.Jb=null,Q.Nd=null,!dd(Q.Oa,N,ye?11:12))return 0;if(ye&&gn(se)&&Ot(),N.da)alert("todo:use_scaling");else{if(de){if(Q.Ib=sn,N.Kb){if(se=N.U+1>>1,Q.memory=a(N.U+2*se),Q.memory==null)return 0;Q.ec=Q.memory,Q.fc=0,Q.cc=Q.ec,Q.dc=Q.fc+N.U,Q.Mc=Q.cc,Q.Nc=Q.dc+se,Q.Ib=On,Ot()}}else alert("todo:EmitYUV");ye&&(Q.Jb=Pc,de&&rt())}if(de&&!kB){for(N=0;256>N;++N)doe[N]=89858*(N-128)+H2>>U2,poe[N]=-22014*(N-128)+H2,foe[N]=-45773*(N-128),hoe[N]=113618*(N-128)+H2>>U2;for(N=sb;N<t5;++N)Q=76283*(N-16)+H2>>U2,moe[N-sb]=bn(Q,255),goe[N-sb]=bn(Q+8>>4,15);kB=1}return 1}function Yo(N){var Q=N.ma,se=N.U,de=N.T;return i(!(1&N.ka)),0>=se||0>=de?0:(se=Q.Ib(N,Q),Q.Jb!=null&&Q.Jb(N,Q,se),Q.Dc+=se,1)}function ja(N){N.ma.memory=null}function Ji(N,Q,se,de){return ee(N,8)!=47?0:(Q[0]=ee(N,14)+1,se[0]=ee(N,14)+1,de[0]=ee(N,1),ee(N,3)!=0?0:!N.h)}function Br(N,Q){if(4>N)return N+1;var se=N-2>>1;return(2+(1&N)<<se)+ee(Q,se)+1}function ms(N,Q){return 120<Q?Q-120:1<=(se=((se=At[Q-1])>>4)*N+(8-(15&se)))?se:1;var se}function mi(N,Q,se){var de=O(se),ye=N[Q+=255&de].g-8;return 0<ye&&(X(se,se.u+8),de=O(se),Q+=N[Q].value,Q+=de&(1<<ye)-1),X(se,se.u+N[Q].g),N[Q].value}function Yr(N,Q,se){return se.g+=N.g,se.value+=N.value<<Q>>>0,i(8>=se.g),N.g}function _s(N,Q,se){var de=N.xc;return i((Q=de==0?0:N.vc[N.md*(se>>de)+(Q>>de)])<N.Wb),N.Ya[Q]}function xe(N,Q,se,de){var ye=N.ab,_e=N.c*Q,Ce=N.C;Q=Ce+Q;var Ae=se,Pe=de;for(de=N.Ta,se=N.Ua;0<ye--;){var Le=N.gc[ye],$e=Ce,ft=Q,pt=Ae,et=Pe,zt=(Pe=de,Ae=se,Le.Ea);switch(i($e<ft),i(ft<=Le.nc),Le.hc){case 2:Rv(pt,et,(ft-$e)*zt,Pe,Ae);break;case 0:var Dt=$e,Qe=ft,Je=Pe,Bt=Ae,Zt=(Ci=Le).Ea;Dt==0&&(qx(pt,et,null,null,1,Je,Bt),ai(pt,et+1,0,0,Zt-1,Je,Bt+1),et+=Zt,Bt+=Zt,++Dt);for(var Vt=1<<Ci.b,Ii=Vt-1,gi=ct(Zt,Ci.b),an=Ci.K,Ci=Ci.w+(Dt>>Ci.b)*gi;Dt<Qe;){var Vr=an,as=Ci,Mr=1;for(hd(pt,et,Je,Bt-Zt,1,Je,Bt);Mr<Zt;){var hr=(Mr&~Ii)+Vt;hr>Zt&&(hr=Zt),(0,wu[Vr[as++]>>8&15])(pt,et+ +Mr,Je,Bt+Mr-Zt,hr-Mr,Je,Bt+Mr),Mr=hr}et+=Zt,Bt+=Zt,++Dt&Ii||(Ci+=gi)}ft!=Le.nc&&r(Pe,Ae-zt,Pe,Ae+(ft-$e-1)*zt,zt);break;case 1:for(zt=pt,Qe=et,Zt=(pt=Le.Ea)-(Bt=pt&~(Je=(et=1<<Le.b)-1)),Dt=ct(pt,Le.b),Vt=Le.K,Le=Le.w+($e>>Le.b)*Dt;$e<ft;){for(Ii=Vt,gi=Le,an=new qe,Ci=Qe+Bt,Vr=Qe+pt;Qe<Ci;)li(Ii[gi++],an),nh(an,zt,Qe,et,Pe,Ae),Qe+=et,Ae+=et;Qe<Vr&&(li(Ii[gi++],an),nh(an,zt,Qe,Zt,Pe,Ae),Qe+=Zt,Ae+=Zt),++$e&Je||(Le+=Dt)}break;case 3:if(pt==Pe&&et==Ae&&0<Le.b){for(Qe=Pe,pt=zt=Ae+(ft-$e)*zt-(Bt=(ft-$e)*ct(Le.Ea,Le.b)),et=Pe,Je=Ae,Dt=[],Bt=(Zt=Bt)-1;0<=Bt;--Bt)Dt[Bt]=et[Je+Bt];for(Bt=Zt-1;0<=Bt;--Bt)Qe[pt+Bt]=Dt[Bt];_a(Le,$e,ft,Pe,zt,Pe,Ae)}else _a(Le,$e,ft,pt,et,Pe,Ae)}Ae=de,Pe=se}Pe!=se&&r(de,se,Ae,Pe,_e)}function Ne(N,Q){var se=N.V,de=N.Ba+N.c*N.C,ye=Q-N.C;if(i(Q<=N.l.o),i(16>=ye),0<ye){var _e=N.l,Ce=N.Ta,Ae=N.Ua,Pe=_e.width;if(xe(N,ye,se,de),ye=Ae=[Ae],i((se=N.C)<(de=Q)),i(_e.v<_e.va),de>_e.o&&(de=_e.o),se<_e.j){var Le=_e.j-se;se=_e.j,ye[0]+=Le*Pe}if(se>=de?se=0:(ye[0]+=4*_e.v,_e.ka=se-_e.j,_e.U=_e.va-_e.v,_e.T=de-se,se=1),se){if(Ae=Ae[0],11>(se=N.ca).S){var $e=se.f.RGBA,ft=(de=se.S,ye=_e.U,_e=_e.T,Le=$e.eb,$e.A),pt=_e;for($e=$e.fb+N.Ma*$e.A;0<pt--;){var et=Ce,zt=Ae,Dt=ye,Qe=Le,Je=$e;switch(de){case H0:po(et,zt,Dt,Qe,Je);break;case G0:wa(et,zt,Dt,Qe,Je);break;case ib:wa(et,zt,Dt,Qe,Je),dc(Qe,Je,0,Dt,1,0);break;case eb:fd(et,zt,Dt,Qe,Je);break;case j0:wn(et,zt,Dt,Qe,Je,1);break;case E:wn(et,zt,Dt,Qe,Je,1),dc(Qe,Je,0,Dt,1,0);break;case Fv:wn(et,zt,Dt,Qe,Je,0);break;case P:wn(et,zt,Dt,Qe,Je,0),dc(Qe,Je,1,Dt,1,0);break;case Ov:Cu(et,zt,Dt,Qe,Je);break;case W:Cu(et,zt,Dt,Qe,Je),gs(Qe,Je,Dt,1,0);break;case tb:Su(et,zt,Dt,Qe,Je);break;default:i(0)}Ae+=Pe,$e+=ft}N.Ma+=_e}else alert("todo:EmitRescaledRowsYUVA");i(N.Ma<=se.height)}}N.C=Q,i(N.C<=N.i)}function Re(N){var Q;if(0<N.ua)return 0;for(Q=0;Q<N.Wb;++Q){var se=N.Ya[Q].G,de=N.Ya[Q].H;if(0<se[1][de[1]+0].g||0<se[2][de[2]+0].g||0<se[3][de[3]+0].g)return 0}return 1}function Fe(N,Q,se,de,ye,_e){if(N.Z!=0){var Ce=N.qd,Ae=N.rd;for(i(qh[N.Z]!=null);Q<se;++Q)qh[N.Z](Ce,Ae,de,ye,de,ye,_e),Ce=de,Ae=ye,ye+=_e;N.qd=Ce,N.rd=Ae}}function Oe(N,Q){var se=N.l.ma,de=se.Z==0||se.Z==1?N.l.j:N.C;if(de=N.C<de?de:N.C,i(Q<=N.l.o),Q>de){var ye=N.l.width,_e=se.ca,Ce=se.tb+ye*de,Ae=N.V,Pe=N.Ba+N.c*de,Le=N.gc;i(N.ab==1),i(Le[0].hc==3),V0(Le[0],de,Q,Ae,Pe,_e,Ce),Fe(se,de,Q,_e,Ce,ye)}N.C=N.Ma=Q}function Be(N,Q,se,de,ye,_e,Ce){var Ae=N.$/de,Pe=N.$%de,Le=N.m,$e=N.s,ft=se+N.$,pt=ft;ye=se+de*ye;var et=se+de*_e,zt=280+$e.ua,Dt=N.Pb?Ae:16777216,Qe=0<$e.ua?$e.Wa:null,Je=$e.wc,Bt=ft<et?_s($e,Pe,Ae):null;i(N.C<_e),i(et<=ye);var Zt=!1;e:for(;;){for(;Zt||ft<et;){var Vt=0;if(Ae>=Dt){var Ii=ft-se;i((Dt=N).Pb),Dt.wd=Dt.m,Dt.xd=Ii,0<Dt.s.ua&&De(Dt.s.Wa,Dt.s.vb),Dt=Ae+Ei}if(Pe&Je||(Bt=_s($e,Pe,Ae)),i(Bt!=null),Bt.Qb&&(Q[ft]=Bt.qb,Zt=!0),!Zt)if(ie(Le),Bt.jc){Vt=Le,Ii=Q;var gi=ft,an=Bt.pd[O(Vt)&Ls-1];i(Bt.jc),256>an.g?(X(Vt,Vt.u+an.g),Ii[gi]=an.value,Vt=0):(X(Vt,Vt.u+an.g-256),i(256<=an.value),Vt=an.value),Vt==0&&(Zt=!0)}else Vt=mi(Bt.G[0],Bt.H[0],Le);if(Le.h)break;if(Zt||256>Vt){if(!Zt)if(Bt.nd)Q[ft]=(Bt.qb|Vt<<8)>>>0;else{if(ie(Le),Zt=mi(Bt.G[1],Bt.H[1],Le),ie(Le),Ii=mi(Bt.G[2],Bt.H[2],Le),gi=mi(Bt.G[3],Bt.H[3],Le),Le.h)break;Q[ft]=(gi<<24|Zt<<16|Vt<<8|Ii)>>>0}if(Zt=!1,++ft,++Pe>=de&&(Pe=0,++Ae,Ce!=null&&Ae<=_e&&!(Ae%16)&&Ce(N,Ae),Qe!=null))for(;pt<ft;)Vt=Q[pt++],Qe.X[(506832829*Vt&4294967295)>>>Qe.Mb]=Vt}else if(280>Vt){if(Vt=Br(Vt-256,Le),Ii=mi(Bt.G[4],Bt.H[4],Le),ie(Le),Ii=ms(de,Ii=Br(Ii,Le)),Le.h)break;if(ft-se<Ii||ye-ft<Vt)break e;for(gi=0;gi<Vt;++gi)Q[ft+gi]=Q[ft+gi-Ii];for(ft+=Vt,Pe+=Vt;Pe>=de;)Pe-=de,++Ae,Ce!=null&&Ae<=_e&&!(Ae%16)&&Ce(N,Ae);if(i(ft<=ye),Pe&Je&&(Bt=_s($e,Pe,Ae)),Qe!=null)for(;pt<ft;)Vt=Q[pt++],Qe.X[(506832829*Vt&4294967295)>>>Qe.Mb]=Vt}else{if(!(Vt<zt))break e;for(Zt=Vt-280,i(Qe!=null);pt<ft;)Vt=Q[pt++],Qe.X[(506832829*Vt&4294967295)>>>Qe.Mb]=Vt;Vt=ft,i(!(Zt>>>(Ii=Qe).Xa)),Q[Vt]=Ii.X[Zt],Zt=!0}Zt||i(Le.h==F(Le))}if(N.Pb&&Le.h&&ft<ye)i(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&De(N.s.vb,N.s.Wa);else{if(Le.h)break e;Ce?.(N,Ae>_e?_e:Ae),N.a=0,N.$=ft-se}return 1}return N.a=3,0}function st(N){i(N!=null),N.vc=null,N.yc=null,N.Ya=null;var Q=N.Wa;Q!=null&&(Q.X=null),N.vb=null,i(N!=null)}function Ct(){var N=new jh;return N==null?null:(N.a=0,N.xb=W0,Xr("Predictor","VP8LPredictors"),Xr("Predictor","VP8LPredictors_C"),Xr("PredictorAdd","VP8LPredictorsAdd"),Xr("PredictorAdd","VP8LPredictorsAdd_C"),Rv=ei,nh=fi,po=Ht,wa=xi,Cu=Ti,Su=Tr,fd=mn,S.VP8LMapColor32b=ih,S.VP8LMapColor8b=um,N)}function nt(N,Q,se,de,ye){var _e=1,Ce=[N],Ae=[Q],Pe=de.m,Le=de.s,$e=null,ft=0;e:for(;;){if(se)for(;_e&&ee(Pe,1);){var pt=Ce,et=Ae,zt=de,Dt=1,Qe=zt.m,Je=zt.gc[zt.ab],Bt=ee(Qe,2);if(zt.Oc&1<<Bt)_e=0;else{switch(zt.Oc|=1<<Bt,Je.hc=Bt,Je.Ea=pt[0],Je.nc=et[0],Je.K=[null],++zt.ab,i(4>=zt.ab),Bt){case 0:case 1:Je.b=ee(Qe,3)+2,Dt=nt(ct(Je.Ea,Je.b),ct(Je.nc,Je.b),0,zt,Je.K),Je.K=Je.K[0];break;case 3:var Zt,Vt=ee(Qe,8)+1,Ii=16<Vt?0:4<Vt?1:2<Vt?2:3;if(pt[0]=ct(Je.Ea,Ii),Je.b=Ii,Zt=Dt=nt(Vt,1,0,zt,Je.K)){var gi,an=Vt,Ci=Je,Vr=1<<(8>>Ci.b),as=a(Vr);if(as==null)Zt=0;else{var Mr=Ci.K[0],hr=Ci.w;for(as[0]=Ci.K[0][0],gi=1;gi<1*an;++gi)as[gi]=We(Mr[hr+gi],as[gi-1]);for(;gi<4*Vr;++gi)as[gi]=0;Ci.K[0]=null,Ci.K[0]=as,Zt=1}}Dt=Zt;break;case 2:break;default:i(0)}_e=Dt}}if(Ce=Ce[0],Ae=Ae[0],_e&&ee(Pe,1)&&!(_e=1<=(ft=ee(Pe,4))&&11>=ft)){de.a=3;break e}var Ss;if(Ss=_e)t:{var vs,Nn,Xa,Bc=de,Ya=Ce,Vc=Ae,os=ft,Au=se,Mu=Bc.m,Do=Bc.s,tl=[null],mc=1,vd=0,ef=Kt[os];i:for(;;){if(Au&&ee(Mu,1)){var Po=ee(Mu,3)+2,ap=ct(Ya,Po),X0=ct(Vc,Po),Lv=ap*X0;if(!nt(ap,X0,0,Bc,tl))break i;for(tl=tl[0],Do.xc=Po,vs=0;vs<Lv;++vs){var gm=tl[vs]>>8&65535;tl[vs]=gm,gm>=mc&&(mc=gm+1)}}if(Mu.h)break i;for(Nn=0;5>Nn;++Nn){var Ta=Se[Nn];!Nn&&0<os&&(Ta+=1<<os),vd<Ta&&(vd=Ta)}var i5=s(mc*ef,I),LB=mc,NB=s(LB,k);if(NB==null)var j2=null;else i(65536>=LB),j2=NB;var ab=a(vd);if(j2==null||ab==null||i5==null){Bc.a=1;break i}var W2=i5;for(vs=Xa=0;vs<mc;++vs){var ah=j2[vs],Nv=ah.G,Bv=ah.H,BB=0,X2=1,VB=0;for(Nn=0;5>Nn;++Nn){Ta=Se[Nn],Nv[Nn]=W2,Bv[Nn]=Xa,!Nn&&0<os&&(Ta+=1<<os);r:{var Y2,n5=Ta,$2=Bc,ob=ab,xoe=W2,boe=Xa,r5=0,vm=$2.m,_oe=ee(vm,1);if(n(ob,0,0,n5),_oe){var woe=ee(vm,1)+1,Coe=ee(vm,1),zB=ee(vm,Coe==0?1:8);ob[zB]=1,woe==2&&(ob[zB=ee(vm,8)]=1);var Q2=1}else{var UB=a(19),HB=ee(vm,4)+4;if(19<HB){$2.a=3;var K2=0;break r}for(Y2=0;Y2<HB;++Y2)UB[ut[Y2]]=ee(vm,3);var s5=void 0,lb=void 0,GB=$2,Soe=UB,Z2=n5,jB=ob,a5=0,ym=GB.m,WB=8,XB=s(128,I);n:for(;M(XB,0,7,Soe,19);){if(ee(ym,1)){var Toe=2+2*ee(ym,3);if((s5=2+ee(ym,Toe))>Z2)break n}else s5=Z2;for(lb=0;lb<Z2&&s5--;){ie(ym);var YB=XB[0+(127&O(ym))];X(ym,ym.u+YB.g);var Vv=YB.value;if(16>Vv)jB[lb++]=Vv,Vv!=0&&(WB=Vv);else{var Eoe=Vv==16,$B=Vv-16,Aoe=he[$B],QB=ee(ym,ne[$B])+Aoe;if(lb+QB>Z2)break n;for(var Moe=Eoe?WB:0;0<QB--;)jB[lb++]=Moe}}a5=1;break n}a5||(GB.a=3),Q2=a5}(Q2=Q2&&!vm.h)&&(r5=M(xoe,boe,8,ob,n5)),Q2&&r5!=0?K2=r5:($2.a=3,K2=0)}if(K2==0)break i;if(X2&&Ge[Nn]==1&&(X2=W2[Xa].g==0),BB+=W2[Xa].g,Xa+=K2,3>=Nn){var cb,o5=ab[0];for(cb=1;cb<Ta;++cb)ab[cb]>o5&&(o5=ab[cb]);VB+=o5}}if(ah.nd=X2,ah.Qb=0,X2&&(ah.qb=(Nv[3][Bv[3]+0].value<<24|Nv[1][Bv[1]+0].value<<16|Nv[2][Bv[2]+0].value)>>>0,BB==0&&256>Nv[0][Bv[0]+0].value&&(ah.Qb=1,ah.qb+=Nv[0][Bv[0]+0].value<<8)),ah.jc=!ah.Qb&&6>VB,ah.jc){var J2,op=ah;for(J2=0;J2<Ls;++J2){var xm=J2,bm=op.pd[xm],q2=op.G[0][op.H[0]+xm];256<=q2.value?(bm.g=q2.g+256,bm.value=q2.value):(bm.g=0,bm.value=0,xm>>=Yr(q2,8,bm),xm>>=Yr(op.G[1][op.H[1]+xm],16,bm),xm>>=Yr(op.G[2][op.H[2]+xm],0,bm),Yr(op.G[3][op.H[3]+xm],24,bm))}}}Do.vc=tl,Do.Wb=mc,Do.Ya=j2,Do.yc=i5,Ss=1;break t}Ss=0}if(!(_e=Ss)){de.a=3;break e}if(0<ft){if(Le.ua=1<<ft,!ze(Le.Wa,ft)){de.a=1,_e=0;break e}}else Le.ua=0;var l5=de,KB=Ce,Ioe=Ae,c5=l5.s,u5=c5.xc;if(l5.c=KB,l5.i=Ioe,c5.md=ct(KB,u5),c5.wc=u5==0?-1:(1<<u5)-1,se){de.xb=Sa;break e}if(($e=a(Ce*Ae))==null){de.a=1,_e=0;break e}_e=(_e=Be(de,$e,0,Ce,Ae,Ae,null))&&!Pe.h;break e}return _e?(ye!=null?ye[0]=$e:(i($e==null),i(se)),de.$=0,se||st(Le)):st(Le),_e}function ot(N,Q){var se=N.c*N.i,de=se+Q+16*Q;return i(N.c<=Q),N.V=a(de),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+se+Q,1)}function lt(N,Q){var se=N.C,de=Q-se,ye=N.V,_e=N.Ba+N.c*se;for(i(Q<=N.l.o);0<de;){var Ce=16<de?16:de,Ae=N.l.ma,Pe=N.l.width,Le=Pe*Ce,$e=Ae.ca,ft=Ae.tb+Pe*se,pt=N.Ta,et=N.Ua;xe(N,Ce,ye,_e),qs(pt,et,$e,ft,Le),Fe(Ae,se,se+Ce,$e,ft,Pe),de-=Ce,ye+=Ce*N.c,se+=Ce}i(se==Q),N.C=N.Ma=Q}function Qt(){this.ub=this.yd=this.td=this.Rb=0}function qt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wi(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function oi(){this.Yb=function(){var N=[];return function Q(se,de,ye){for(var _e=ye[de],Ce=0;Ce<_e&&(se.push(ye.length>de+1?[]:0),!(ye.length<de+1));Ce++)Q(se[Ce],de+1,ye)}(N,0,[3,11]),N}()}function ii(){this.jb=a(3),this.Wc=o([4,8],oi),this.Xc=o([4,17],oi)}function en(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function er(){this.ld=this.La=this.dd=this.tc=0}function ws(){this.Na=this.la=0}function lr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $r(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bl(){this.uc=this.M=this.Nb=0,this.wa=Array(new er),this.Y=0,this.ya=Array(new $r),this.aa=0,this.l=new nr}function Eo(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Cn(){this.cb=this.a=0,this.sc="",this.m=new Y,this.Od=new Qt,this.Kc=new qt,this.ed=new en,this.Qa=new wi,this.Ic=this.$c=this.Aa=0,this.D=new bl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Y),this.ia=0,this.pb=s(4,lr),this.Pa=new ii,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Eo),this.Hd=0,this.rb=Array(new ws),this.sb=0,this.wa=Array(new er),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $r),this.L=this.aa=0,this.gd=o([4,2],er),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function nr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function La(){var N=new Cn;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,Na||(Na=xn)),N}function kr(N,Q,se){return N.a==0&&(N.a=Q,N.sc=se,N.cb=0),0}function ic(N,Q,se){return 3<=se&&N[Q+0]==157&&N[Q+1]==1&&N[Q+2]==42}function Yd(N,Q){if(N==null)return 0;if(N.a=0,N.sc="OK",Q==null)return kr(N,2,"null VP8Io passed to VP8GetHeaders()");var se=Q.data,de=Q.w,ye=Q.ha;if(4>ye)return kr(N,7,"Truncated header.");var _e=se[de+0]|se[de+1]<<8|se[de+2]<<16,Ce=N.Od;if(Ce.Rb=!(1&_e),Ce.td=_e>>1&7,Ce.yd=_e>>4&1,Ce.ub=_e>>5,3<Ce.td)return kr(N,3,"Incorrect keyframe parameters.");if(!Ce.yd)return kr(N,4,"Frame not displayable.");de+=3,ye-=3;var Ae=N.Kc;if(Ce.Rb){if(7>ye)return kr(N,7,"cannot parse picture header");if(!ic(se,de,ye))return kr(N,3,"Bad code word");Ae.c=16383&(se[de+4]<<8|se[de+3]),Ae.Td=se[de+4]>>6,Ae.i=16383&(se[de+6]<<8|se[de+5]),Ae.Ud=se[de+6]>>6,de+=7,ye-=7,N.za=Ae.c+15>>4,N.Ub=Ae.i+15>>4,Q.width=Ae.c,Q.height=Ae.i,Q.Da=0,Q.j=0,Q.v=0,Q.va=Q.width,Q.o=Q.height,Q.da=0,Q.ib=Q.width,Q.hb=Q.height,Q.U=Q.width,Q.T=Q.height,n((_e=N.Pa).jb,0,255,_e.jb.length),i((_e=N.Qa)!=null),_e.Cb=0,_e.Bb=0,_e.Fb=1,n(_e.Zb,0,0,_e.Zb.length),n(_e.Lb,0,0,_e.Lb)}if(Ce.ub>ye)return kr(N,7,"bad partition length");G(_e=N.m,se,de,Ce.ub),de+=Ce.ub,ye-=Ce.ub,Ce.Rb&&(Ae.Ld=q(_e),Ae.Kd=q(_e)),Ae=N.Qa;var Pe,Le=N.Pa;if(i(_e!=null),i(Ae!=null),Ae.Cb=q(_e),Ae.Cb){if(Ae.Bb=q(_e),q(_e)){for(Ae.Fb=q(_e),Pe=0;4>Pe;++Pe)Ae.Zb[Pe]=q(_e)?H(_e,7):0;for(Pe=0;4>Pe;++Pe)Ae.Lb[Pe]=q(_e)?H(_e,6):0}if(Ae.Bb)for(Pe=0;3>Pe;++Pe)Le.jb[Pe]=q(_e)?R(_e,8):255}else Ae.Bb=0;if(_e.Ka)return kr(N,3,"cannot parse segment header");if((Ae=N.ed).zd=q(_e),Ae.Tb=R(_e,6),Ae.wb=R(_e,3),Ae.Pc=q(_e),Ae.Pc&&q(_e)){for(Le=0;4>Le;++Le)q(_e)&&(Ae.vd[Le]=H(_e,6));for(Le=0;4>Le;++Le)q(_e)&&(Ae.od[Le]=H(_e,6))}if(N.L=Ae.Tb==0?0:Ae.zd?1:2,_e.Ka)return kr(N,3,"cannot parse filter header");var $e=ye;if(ye=Pe=de,de=Pe+$e,Ae=$e,N.Xb=(1<<R(N.m,2))-1,$e<3*(Le=N.Xb))se=7;else{for(Pe+=3*Le,Ae-=3*Le,$e=0;$e<Le;++$e){var ft=se[ye+0]|se[ye+1]<<8|se[ye+2]<<16;ft>Ae&&(ft=Ae),G(N.Jc[+$e],se,Pe,ft),Pe+=ft,Ae-=ft,ye+=3}G(N.Jc[+Le],se,Pe,Ae),se=Pe<de?0:5}if(se!=0)return kr(N,se,"cannot parse partitions");for(se=R(Pe=N.m,7),ye=q(Pe)?H(Pe,4):0,de=q(Pe)?H(Pe,4):0,Ae=q(Pe)?H(Pe,4):0,Le=q(Pe)?H(Pe,4):0,Pe=q(Pe)?H(Pe,4):0,$e=N.Qa,ft=0;4>ft;++ft){if($e.Cb){var pt=$e.Zb[ft];$e.Fb||(pt+=se)}else{if(0<ft){N.pb[ft]=N.pb[0];continue}pt=se}var et=N.pb[ft];et.Sc[0]=nn[bn(pt+ye,127)],et.Sc[1]=Ln[bn(pt+0,127)],et.Eb[0]=2*nn[bn(pt+de,127)],et.Eb[1]=101581*Ln[bn(pt+Ae,127)]>>16,8>et.Eb[1]&&(et.Eb[1]=8),et.Qc[0]=nn[bn(pt+Le,117)],et.Qc[1]=Ln[bn(pt+Pe,127)],et.lc=pt+Pe}if(!Ce.Rb)return kr(N,4,"Not a key frame.");for(q(_e),Ce=N.Pa,se=0;4>se;++se){for(ye=0;8>ye;++ye)for(de=0;3>de;++de)for(Ae=0;11>Ae;++Ae)Le=ae(_e,JD[se][ye][de][Ae])?R(_e,8):mm[se][ye][de][Ae],Ce.Wc[se][ye].Yb[de][Ae]=Le;for(ye=0;17>ye;++ye)Ce.Xc[se][ye]=Ce.Wc[se][qD[ye]]}return N.kc=q(_e),N.kc&&(N.Bd=R(_e,8)),N.cb=1}function xn(N,Q,se,de,ye,_e,Ce){var Ae=Q[ye].Yb[se];for(se=0;16>ye;++ye){if(!ae(N,Ae[se+0]))return ye;for(;!ae(N,Ae[se+1]);)if(Ae=Q[++ye].Yb[0],se=0,ye==16)return 16;var Pe=Q[ye+1].Yb;if(ae(N,Ae[se+2])){var Le=N,$e=0;if(ae(Le,(pt=Ae)[(ft=se)+3]))if(ae(Le,pt[ft+6])){for(Ae=0,ft=2*($e=ae(Le,pt[ft+8]))+(pt=ae(Le,pt[ft+9+$e])),$e=0,pt=Wa[ft];pt[Ae];++Ae)$e+=$e+ae(Le,pt[Ae]);$e+=3+(8<<ft)}else ae(Le,pt[ft+7])?($e=7+2*ae(Le,165),$e+=ae(Le,145)):$e=5+ae(Le,159);else $e=ae(Le,pt[ft+4])?3+ae(Le,pt[ft+5]):2;Ae=Pe[2]}else $e=1,Ae=Pe[1];Pe=Ce+Lc[ye],0>(Le=N).b&&re(Le);var ft,pt=Le.b,et=(ft=Le.Ca>>1)-(Le.I>>pt)>>31;--Le.b,Le.Ca+=et,Le.Ca|=1,Le.I-=(ft+1&et)<<pt,_e[Pe]=(($e^et)-et)*de[(0<ye)+0]}return 16}function rs(N){var Q=N.rb[N.sb-1];Q.la=0,Q.Na=0,n(N.zc,0,0,N.zc.length),N.ja=0}function ep(N,Q){if(N==null)return 0;if(Q==null)return kr(N,2,"NULL VP8Io parameter in VP8Decode().");if(!N.cb&&!Yd(N,Q))return 0;if(i(N.cb),Q.ac==null||Q.ac(Q)){Q.ob&&(N.L=0);var se=G2[N.L];if(N.L==2?(N.yb=0,N.zb=0):(N.yb=Q.v-se>>4,N.zb=Q.j-se>>4,0>N.yb&&(N.yb=0),0>N.zb&&(N.zb=0)),N.Va=Q.o+15+se>>4,N.Hb=Q.va+15+se>>4,N.Hb>N.za&&(N.Hb=N.za),N.Va>N.Ub&&(N.Va=N.Ub),0<N.L){var de=N.ed;for(se=0;4>se;++se){var ye;if(N.Qa.Cb){var _e=N.Qa.Lb[se];N.Qa.Fb||(_e+=de.Tb)}else _e=de.Tb;for(ye=0;1>=ye;++ye){var Ce=N.gd[se][ye],Ae=_e;if(de.Pc&&(Ae+=de.vd[0],ye&&(Ae+=de.od[0])),0<(Ae=0>Ae?0:63<Ae?63:Ae)){var Pe=Ae;0<de.wb&&(Pe=4<de.wb?Pe>>2:Pe>>1)>9-de.wb&&(Pe=9-de.wb),1>Pe&&(Pe=1),Ce.dd=Pe,Ce.tc=2*Ae+Pe,Ce.ld=40<=Ae?2:15<=Ae?1:0}else Ce.tc=0;Ce.La=ye}}}se=0}else kr(N,6,"Frame setup failed"),se=N.a;if(se=se==0){if(se){N.$c=0,0<N.Aa||(N.Ic=yoe);e:{se=N.Ic,de=4*(Pe=N.za);var Le=32*Pe,$e=Pe+1,ft=0<N.L?Pe*(0<N.Aa?2:1):0,pt=(N.Aa==2?2:1)*Pe;if((Ce=de+832+(ye=3*(16*se+G2[N.L])/2*Le)+(_e=N.Fa!=null&&0<N.Fa.length?N.Kc.c*N.Kc.i:0))!=Ce)se=0;else{if(Ce>N.Vb){if(N.Vb=0,N.Ec=a(Ce),N.Fc=0,N.Ec==null){se=kr(N,1,"no memory during frame initialization.");break e}N.Vb=Ce}Ce=N.Ec,Ae=N.Fc,N.Ac=Ce,N.Bc=Ae,Ae+=de,N.Gd=s(Le,Eo),N.Hd=0,N.rb=s($e+1,ws),N.sb=1,N.wa=ft?s(ft,er):null,N.Y=0,N.D.Nb=0,N.D.wa=N.wa,N.D.Y=N.Y,0<N.Aa&&(N.D.Y+=Pe),i(!0),N.oc=Ce,N.pc=Ae,Ae+=832,N.ya=s(pt,$r),N.aa=0,N.D.ya=N.ya,N.D.aa=N.aa,N.Aa==2&&(N.D.aa+=Pe),N.R=16*Pe,N.B=8*Pe,Pe=(Le=G2[N.L])*N.R,Le=Le/2*N.B,N.sa=Ce,N.ta=Ae+Pe,N.qa=N.sa,N.ra=N.ta+16*se*N.R+Le,N.Ha=N.qa,N.Ia=N.ra+8*se*N.B+Le,N.$c=0,Ae+=ye,N.mb=_e?Ce:null,N.nb=_e?Ae:null,i(Ae+_e<=N.Fc+N.Vb),rs(N),n(N.Ac,N.Bc,0,de),se=1}}if(se){if(Q.ka=0,Q.y=N.sa,Q.O=N.ta,Q.f=N.qa,Q.N=N.ra,Q.ea=N.Ha,Q.Vd=N.Ia,Q.fa=N.R,Q.Rc=N.B,Q.F=null,Q.J=0,!Jh){for(se=-255;255>=se;++se)Ca[255+se]=0>se?-se:se;for(se=-1020;1020>=se;++se)hc[1020+se]=-128>se?-128:127<se?127:se;for(se=-112;112>=se;++se)z0[112+se]=-16>se?-16:15<se?15:se;for(se=-255;510>=se;++se)rh[255+se]=0>se?0:255<se?255:se;Jh=1}dm=sd,Oc=ss,hm=$o,qo=rd,lc=cr,ua=ba,fm=bu,cc=od,$h=Zo,sp=ld,pd=qd,Qh=_u,Kh=Hh,pm=El,Tu=yu,Zh=Io,md=kc,uc=Ko,Eu[0]=_l,Eu[1]=mu,Eu[2]=Ar,Eu[3]=vu,Eu[4]=zh,Eu[5]=la,Eu[6]=Uh,Eu[7]=Qd,Eu[8]=Cs,Eu[9]=Kd,sh[0]=ip,sh[1]=$d,sh[2]=nc,sh[3]=ad,sh[4]=Os,sh[5]=Rc,sh[6]=hn,gd[0]=Sl,gd[1]=tp,gd[2]=wl,gd[3]=Zd,gd[4]=rc,gd[5]=np,gd[6]=Qr,se=1}else se=0}se&&(se=function(et,zt){for(et.M=0;et.M<et.Va;++et.M){var Dt,Qe=et.Jc[et.M&et.Xb],Je=et.m,Bt=et;for(Dt=0;Dt<Bt.za;++Dt){var Zt=Je,Vt=Bt,Ii=Vt.Ac,gi=Vt.Bc+4*Dt,an=Vt.zc,Ci=Vt.ya[Vt.aa+Dt];if(Vt.Qa.Bb?Ci.$b=ae(Zt,Vt.Pa.jb[0])?2+ae(Zt,Vt.Pa.jb[2]):ae(Zt,Vt.Pa.jb[1]):Ci.$b=0,Vt.kc&&(Ci.Ad=ae(Zt,Vt.Bd)),Ci.Za=!ae(Zt,145)+0,Ci.Za){var Vr=Ci.Ob,as=0;for(Vt=0;4>Vt;++Vt){var Mr,hr=an[0+Vt];for(Mr=0;4>Mr;++Mr){hr=ZD[Ii[gi+Mr]][hr];for(var Ss=el[ae(Zt,hr[0])];0<Ss;)Ss=el[2*Ss+ae(Zt,hr[Ss])];hr=-Ss,Ii[gi+Mr]=hr}r(Vr,as,Ii,gi,4),as+=4,an[0+Vt]=hr}}else hr=ae(Zt,156)?ae(Zt,128)?1:3:ae(Zt,163)?2:0,Ci.Ob[0]=hr,n(Ii,gi,hr,4),n(an,0,hr,4);Ci.Dd=ae(Zt,142)?ae(Zt,114)?ae(Zt,183)?1:3:2:0}if(Bt.m.Ka)return kr(et,7,"Premature end-of-partition0 encountered.");for(;et.ja<et.za;++et.ja){if(Bt=Qe,Zt=(Je=et).rb[Je.sb-1],Ii=Je.rb[Je.sb+Je.ja],Dt=Je.ya[Je.aa+Je.ja],gi=Je.kc?Dt.Ad:0)Zt.la=Ii.la=0,Dt.Za||(Zt.Na=Ii.Na=0),Dt.Hc=0,Dt.Gc=0,Dt.ia=0;else{var vs,Nn;if(Zt=Ii,Ii=Bt,gi=Je.Pa.Xc,an=Je.ya[Je.aa+Je.ja],Ci=Je.pb[an.$b],Vt=an.ad,Vr=0,as=Je.rb[Je.sb-1],hr=Mr=0,n(Vt,Vr,0,384),an.Za)var Xa=0,Bc=gi[3];else{Ss=a(16);var Ya=Zt.Na+as.Na;if(Ya=Na(Ii,gi[1],Ya,Ci.Eb,0,Ss,0),Zt.Na=as.Na=(0<Ya)+0,1<Ya)dm(Ss,0,Vt,Vr);else{var Vc=Ss[0]+3>>3;for(Ss=0;256>Ss;Ss+=16)Vt[Vr+Ss]=Vc}Xa=1,Bc=gi[0]}var os=15&Zt.la,Au=15&as.la;for(Ss=0;4>Ss;++Ss){var Mu=1&Au;for(Vc=Nn=0;4>Vc;++Vc)os=os>>1|(Mu=(Ya=Na(Ii,Bc,Ya=Mu+(1&os),Ci.Sc,Xa,Vt,Vr))>Xa)<<7,Nn=Nn<<2|(3<Ya?3:1<Ya?2:Vt[Vr+0]!=0),Vr+=16;os>>=4,Au=Au>>1|Mu<<7,Mr=(Mr<<8|Nn)>>>0}for(Bc=os,Xa=Au>>4,vs=0;4>vs;vs+=2){for(Nn=0,os=Zt.la>>4+vs,Au=as.la>>4+vs,Ss=0;2>Ss;++Ss){for(Mu=1&Au,Vc=0;2>Vc;++Vc)Ya=Mu+(1&os),os=os>>1|(Mu=0<(Ya=Na(Ii,gi[2],Ya,Ci.Qc,0,Vt,Vr)))<<3,Nn=Nn<<2|(3<Ya?3:1<Ya?2:Vt[Vr+0]!=0),Vr+=16;os>>=2,Au=Au>>1|Mu<<5}hr|=Nn<<4*vs,Bc|=os<<4<<vs,Xa|=(240&Au)<<vs}Zt.la=Bc,as.la=Xa,an.Hc=Mr,an.Gc=hr,an.ia=43690&hr?0:Ci.ia,gi=!(Mr|hr)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[Dt.$b][Dt.Za],Je.wa[Je.Y+Je.ja].La|=!gi),Bt.Ka)return kr(et,7,"Premature end-of-file encountered.")}if(rs(et),Je=zt,Bt=1,Dt=(Qe=et).D,Zt=0<Qe.L&&Qe.M>=Qe.zb&&Qe.M<=Qe.Va,Qe.Aa==0)e:{if(Dt.M=Qe.M,Dt.uc=Zt,fo(Qe,Dt),Bt=1,Dt=(Nn=Qe.D).Nb,Zt=(hr=G2[Qe.L])*Qe.R,Ii=hr/2*Qe.B,Ss=16*Dt*Qe.R,Vc=8*Dt*Qe.B,gi=Qe.sa,an=Qe.ta-Zt+Ss,Ci=Qe.qa,Vt=Qe.ra-Ii+Vc,Vr=Qe.Ha,as=Qe.Ia-Ii+Vc,Au=(os=Nn.M)==0,Mr=os>=Qe.Va-1,Qe.Aa==2&&fo(Qe,Nn),Nn.uc)for(Mu=(Ya=Qe).D.M,i(Ya.D.uc),Nn=Ya.yb;Nn<Ya.Hb;++Nn){Xa=Nn,Bc=Mu;var Do=(tl=(Ta=Ya).D).Nb;vs=Ta.R;var tl=tl.wa[tl.Y+Xa],mc=Ta.sa,vd=Ta.ta+16*Do*vs+16*Xa,ef=tl.dd,Po=tl.tc;if(Po!=0)if(i(3<=Po),Ta.L==1)0<Xa&&Zh(mc,vd,vs,Po+4),tl.La&&uc(mc,vd,vs,Po),0<Bc&&Tu(mc,vd,vs,Po+4),tl.La&&md(mc,vd,vs,Po);else{var ap=Ta.B,X0=Ta.qa,Lv=Ta.ra+8*Do*ap+8*Xa,gm=Ta.Ha,Ta=Ta.Ia+8*Do*ap+8*Xa;Do=tl.ld,0<Xa&&(cc(mc,vd,vs,Po+4,ef,Do),sp(X0,Lv,gm,Ta,ap,Po+4,ef,Do)),tl.La&&(Qh(mc,vd,vs,Po,ef,Do),pm(X0,Lv,gm,Ta,ap,Po,ef,Do)),0<Bc&&(fm(mc,vd,vs,Po+4,ef,Do),$h(X0,Lv,gm,Ta,ap,Po+4,ef,Do)),tl.La&&(pd(mc,vd,vs,Po,ef,Do),Kh(X0,Lv,gm,Ta,ap,Po,ef,Do))}}if(Qe.ia&&alert("todo:DitherRow"),Je.put!=null){if(Nn=16*os,os=16*(os+1),Au?(Je.y=Qe.sa,Je.O=Qe.ta+Ss,Je.f=Qe.qa,Je.N=Qe.ra+Vc,Je.ea=Qe.Ha,Je.W=Qe.Ia+Vc):(Nn-=hr,Je.y=gi,Je.O=an,Je.f=Ci,Je.N=Vt,Je.ea=Vr,Je.W=as),Mr||(os-=hr),os>Je.o&&(os=Je.o),Je.F=null,Je.J=null,Qe.Fa!=null&&0<Qe.Fa.length&&Nn<os&&(Je.J=oc(Qe,Je,Nn,os-Nn),Je.F=Qe.mb,Je.F==null&&Je.F.length==0)){Bt=kr(Qe,3,"Could not decode alpha data.");break e}Nn<Je.j&&(hr=Je.j-Nn,Nn=Je.j,i(!(1&hr)),Je.O+=Qe.R*hr,Je.N+=Qe.B*(hr>>1),Je.W+=Qe.B*(hr>>1),Je.F!=null&&(Je.J+=Je.width*hr)),Nn<os&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Nn-Je.j,Je.U=Je.va-Je.v,Je.T=os-Nn,Bt=Je.put(Je))}Dt+1!=Qe.Ic||Mr||(r(Qe.sa,Qe.ta-Zt,gi,an+16*Qe.R,Zt),r(Qe.qa,Qe.ra-Ii,Ci,Vt+8*Qe.B,Ii),r(Qe.Ha,Qe.Ia-Ii,Vr,as+8*Qe.B,Ii))}if(!Bt)return kr(et,6,"Output aborted.")}return 1}(N,Q)),Q.bc!=null&&Q.bc(Q),se&=1}return se?(N.cb=0,se):0}function co(N,Q,se,de,ye){ye=N[Q+se+32*de]+(ye>>3),N[Q+se+32*de]=-256&ye?0>ye?0:255:ye}function xa(N,Q,se,de,ye,_e){co(N,Q,0,se,de+ye),co(N,Q,1,se,de+_e),co(N,Q,2,se,de-_e),co(N,Q,3,se,de-ye)}function Ao(N){return(20091*N>>16)+N}function Mo(N,Q,se,de){var ye,_e=0,Ce=a(16);for(ye=0;4>ye;++ye){var Ae=N[Q+0]+N[Q+8],Pe=N[Q+0]-N[Q+8],Le=(35468*N[Q+4]>>16)-Ao(N[Q+12]),$e=Ao(N[Q+4])+(35468*N[Q+12]>>16);Ce[_e+0]=Ae+$e,Ce[_e+1]=Pe+Le,Ce[_e+2]=Pe-Le,Ce[_e+3]=Ae-$e,_e+=4,Q++}for(ye=_e=0;4>ye;++ye)Ae=(N=Ce[_e+0]+4)+Ce[_e+8],Pe=N-Ce[_e+8],Le=(35468*Ce[_e+4]>>16)-Ao(Ce[_e+12]),co(se,de,0,0,Ae+($e=Ao(Ce[_e+4])+(35468*Ce[_e+12]>>16))),co(se,de,1,0,Pe+Le),co(se,de,2,0,Pe-Le),co(se,de,3,0,Ae-$e),_e++,de+=32}function ba(N,Q,se,de){var ye=N[Q+0]+4,_e=35468*N[Q+4]>>16,Ce=Ao(N[Q+4]),Ae=35468*N[Q+1]>>16;xa(se,de,0,ye+Ce,N=Ao(N[Q+1]),Ae),xa(se,de,1,ye+_e,N,Ae),xa(se,de,2,ye-_e,N,Ae),xa(se,de,3,ye-Ce,N,Ae)}function ss(N,Q,se,de,ye){Mo(N,Q,se,de),ye&&Mo(N,Q+16,se,de+4)}function $o(N,Q,se,de){Oc(N,Q+0,se,de,1),Oc(N,Q+32,se,de+128,1)}function rd(N,Q,se,de){var ye;for(N=N[Q+0]+4,ye=0;4>ye;++ye)for(Q=0;4>Q;++Q)co(se,de,Q,ye,N)}function cr(N,Q,se,de){N[Q+0]&&qo(N,Q+0,se,de),N[Q+16]&&qo(N,Q+16,se,de+4),N[Q+32]&&qo(N,Q+32,se,de+128),N[Q+48]&&qo(N,Q+48,se,de+128+4)}function sd(N,Q,se,de){var ye,_e=a(16);for(ye=0;4>ye;++ye){var Ce=N[Q+0+ye]+N[Q+12+ye],Ae=N[Q+4+ye]+N[Q+8+ye],Pe=N[Q+4+ye]-N[Q+8+ye],Le=N[Q+0+ye]-N[Q+12+ye];_e[0+ye]=Ce+Ae,_e[8+ye]=Ce-Ae,_e[4+ye]=Le+Pe,_e[12+ye]=Le-Pe}for(ye=0;4>ye;++ye)Ce=(N=_e[0+4*ye]+3)+_e[3+4*ye],Ae=_e[1+4*ye]+_e[2+4*ye],Pe=_e[1+4*ye]-_e[2+4*ye],Le=N-_e[3+4*ye],se[de+0]=Ce+Ae>>3,se[de+16]=Le+Pe>>3,se[de+32]=Ce-Ae>>3,se[de+48]=Le-Pe>>3,de+=64}function Qo(N,Q,se){var de,ye=Q-32,_e=fc,Ce=255-N[ye-1];for(de=0;de<se;++de){var Ae,Pe=_e,Le=Ce+N[Q-1];for(Ae=0;Ae<se;++Ae)N[Q+Ae]=Pe[Le+N[ye+Ae]];Q+=32}}function mu(N,Q){Qo(N,Q,4)}function tp(N,Q){Qo(N,Q,8)}function $d(N,Q){Qo(N,Q,16)}function nc(N,Q){var se;for(se=0;16>se;++se)r(N,Q+32*se,N,Q-32,16)}function ad(N,Q){var se;for(se=16;0<se;--se)n(N,Q,N[Q-1],16),Q+=32}function gu(N,Q,se){var de;for(de=0;16>de;++de)n(Q,se+32*de,N,16)}function ip(N,Q){var se,de=16;for(se=0;16>se;++se)de+=N[Q-1+32*se]+N[Q+se-32];gu(de>>5,N,Q)}function Os(N,Q){var se,de=8;for(se=0;16>se;++se)de+=N[Q-1+32*se];gu(de>>4,N,Q)}function Rc(N,Q){var se,de=8;for(se=0;16>se;++se)de+=N[Q+se-32];gu(de>>4,N,Q)}function hn(N,Q){gu(128,N,Q)}function Yi(N,Q,se){return N+2*Q+se+2>>2}function Ar(N,Q){var se,de=Q-32;for(de=new Uint8Array([Yi(N[de-1],N[de+0],N[de+1]),Yi(N[de+0],N[de+1],N[de+2]),Yi(N[de+1],N[de+2],N[de+3]),Yi(N[de+2],N[de+3],N[de+4])]),se=0;4>se;++se)r(N,Q+32*se,de,0,de.length)}function vu(N,Q){var se=N[Q-1],de=N[Q-1+32],ye=N[Q-1+64],_e=N[Q-1+96];ue(N,Q+0,16843009*Yi(N[Q-1-32],se,de)),ue(N,Q+32,16843009*Yi(se,de,ye)),ue(N,Q+64,16843009*Yi(de,ye,_e)),ue(N,Q+96,16843009*Yi(ye,_e,_e))}function _l(N,Q){var se,de=4;for(se=0;4>se;++se)de+=N[Q+se-32]+N[Q-1+32*se];for(de>>=3,se=0;4>se;++se)n(N,Q+32*se,de,4)}function zh(N,Q){var se=N[Q-1+0],de=N[Q-1+32],ye=N[Q-1+64],_e=N[Q-1-32],Ce=N[Q+0-32],Ae=N[Q+1-32],Pe=N[Q+2-32],Le=N[Q+3-32];N[Q+0+96]=Yi(de,ye,N[Q-1+96]),N[Q+1+96]=N[Q+0+64]=Yi(se,de,ye),N[Q+2+96]=N[Q+1+64]=N[Q+0+32]=Yi(_e,se,de),N[Q+3+96]=N[Q+2+64]=N[Q+1+32]=N[Q+0+0]=Yi(Ce,_e,se),N[Q+3+64]=N[Q+2+32]=N[Q+1+0]=Yi(Ae,Ce,_e),N[Q+3+32]=N[Q+2+0]=Yi(Pe,Ae,Ce),N[Q+3+0]=Yi(Le,Pe,Ae)}function Uh(N,Q){var se=N[Q+1-32],de=N[Q+2-32],ye=N[Q+3-32],_e=N[Q+4-32],Ce=N[Q+5-32],Ae=N[Q+6-32],Pe=N[Q+7-32];N[Q+0+0]=Yi(N[Q+0-32],se,de),N[Q+1+0]=N[Q+0+32]=Yi(se,de,ye),N[Q+2+0]=N[Q+1+32]=N[Q+0+64]=Yi(de,ye,_e),N[Q+3+0]=N[Q+2+32]=N[Q+1+64]=N[Q+0+96]=Yi(ye,_e,Ce),N[Q+3+32]=N[Q+2+64]=N[Q+1+96]=Yi(_e,Ce,Ae),N[Q+3+64]=N[Q+2+96]=Yi(Ce,Ae,Pe),N[Q+3+96]=Yi(Ae,Pe,Pe)}function la(N,Q){var se=N[Q-1+0],de=N[Q-1+32],ye=N[Q-1+64],_e=N[Q-1-32],Ce=N[Q+0-32],Ae=N[Q+1-32],Pe=N[Q+2-32],Le=N[Q+3-32];N[Q+0+0]=N[Q+1+64]=_e+Ce+1>>1,N[Q+1+0]=N[Q+2+64]=Ce+Ae+1>>1,N[Q+2+0]=N[Q+3+64]=Ae+Pe+1>>1,N[Q+3+0]=Pe+Le+1>>1,N[Q+0+96]=Yi(ye,de,se),N[Q+0+64]=Yi(de,se,_e),N[Q+0+32]=N[Q+1+96]=Yi(se,_e,Ce),N[Q+1+32]=N[Q+2+96]=Yi(_e,Ce,Ae),N[Q+2+32]=N[Q+3+96]=Yi(Ce,Ae,Pe),N[Q+3+32]=Yi(Ae,Pe,Le)}function Qd(N,Q){var se=N[Q+0-32],de=N[Q+1-32],ye=N[Q+2-32],_e=N[Q+3-32],Ce=N[Q+4-32],Ae=N[Q+5-32],Pe=N[Q+6-32],Le=N[Q+7-32];N[Q+0+0]=se+de+1>>1,N[Q+1+0]=N[Q+0+64]=de+ye+1>>1,N[Q+2+0]=N[Q+1+64]=ye+_e+1>>1,N[Q+3+0]=N[Q+2+64]=_e+Ce+1>>1,N[Q+0+32]=Yi(se,de,ye),N[Q+1+32]=N[Q+0+96]=Yi(de,ye,_e),N[Q+2+32]=N[Q+1+96]=Yi(ye,_e,Ce),N[Q+3+32]=N[Q+2+96]=Yi(_e,Ce,Ae),N[Q+3+64]=Yi(Ce,Ae,Pe),N[Q+3+96]=Yi(Ae,Pe,Le)}function Kd(N,Q){var se=N[Q-1+0],de=N[Q-1+32],ye=N[Q-1+64],_e=N[Q-1+96];N[Q+0+0]=se+de+1>>1,N[Q+2+0]=N[Q+0+32]=de+ye+1>>1,N[Q+2+32]=N[Q+0+64]=ye+_e+1>>1,N[Q+1+0]=Yi(se,de,ye),N[Q+3+0]=N[Q+1+32]=Yi(de,ye,_e),N[Q+3+32]=N[Q+1+64]=Yi(ye,_e,_e),N[Q+3+64]=N[Q+2+64]=N[Q+0+96]=N[Q+1+96]=N[Q+2+96]=N[Q+3+96]=_e}function Cs(N,Q){var se=N[Q-1+0],de=N[Q-1+32],ye=N[Q-1+64],_e=N[Q-1+96],Ce=N[Q-1-32],Ae=N[Q+0-32],Pe=N[Q+1-32],Le=N[Q+2-32];N[Q+0+0]=N[Q+2+32]=se+Ce+1>>1,N[Q+0+32]=N[Q+2+64]=de+se+1>>1,N[Q+0+64]=N[Q+2+96]=ye+de+1>>1,N[Q+0+96]=_e+ye+1>>1,N[Q+3+0]=Yi(Ae,Pe,Le),N[Q+2+0]=Yi(Ce,Ae,Pe),N[Q+1+0]=N[Q+3+32]=Yi(se,Ce,Ae),N[Q+1+32]=N[Q+3+64]=Yi(de,se,Ce),N[Q+1+64]=N[Q+3+96]=Yi(ye,de,se),N[Q+1+96]=Yi(_e,ye,de)}function wl(N,Q){var se;for(se=0;8>se;++se)r(N,Q+32*se,N,Q-32,8)}function Zd(N,Q){var se;for(se=0;8>se;++se)n(N,Q,N[Q-1],8),Q+=32}function Cl(N,Q,se){var de;for(de=0;8>de;++de)n(Q,se+32*de,N,8)}function Sl(N,Q){var se,de=8;for(se=0;8>se;++se)de+=N[Q+se-32]+N[Q-1+32*se];Cl(de>>4,N,Q)}function np(N,Q){var se,de=4;for(se=0;8>se;++se)de+=N[Q+se-32];Cl(de>>3,N,Q)}function rc(N,Q){var se,de=4;for(se=0;8>se;++se)de+=N[Q-1+32*se];Cl(de>>3,N,Q)}function Qr(N,Q){Cl(128,N,Q)}function Jd(N,Q,se){var de=N[Q-se],ye=N[Q+0],_e=3*(ye-de)+kv[1020+N[Q-2*se]-N[Q+se]],Ce=U0[112+(_e+4>>3)];N[Q-se]=fc[255+de+U0[112+(_e+3>>3)]],N[Q+0]=fc[255+ye-Ce]}function Yn(N,Q,se,de){var ye=N[Q+0],_e=N[Q+se];return pc[255+N[Q-2*se]-N[Q-se]]>de||pc[255+_e-ye]>de}function rp(N,Q,se,de){return 4*pc[255+N[Q-se]-N[Q+0]]+pc[255+N[Q-2*se]-N[Q+se]]<=de}function uo(N,Q,se,de,ye){var _e=N[Q-3*se],Ce=N[Q-2*se],Ae=N[Q-se],Pe=N[Q+0],Le=N[Q+se],$e=N[Q+2*se],ft=N[Q+3*se];return 4*pc[255+Ae-Pe]+pc[255+Ce-Le]>de?0:pc[255+N[Q-4*se]-_e]<=ye&&pc[255+_e-Ce]<=ye&&pc[255+Ce-Ae]<=ye&&pc[255+ft-$e]<=ye&&pc[255+$e-Le]<=ye&&pc[255+Le-Pe]<=ye}function yu(N,Q,se,de){var ye=2*de+1;for(de=0;16>de;++de)rp(N,Q+de,se,ye)&&Jd(N,Q+de,se)}function Io(N,Q,se,de){var ye=2*de+1;for(de=0;16>de;++de)rp(N,Q+de*se,1,ye)&&Jd(N,Q+de*se,1)}function kc(N,Q,se,de){var ye;for(ye=3;0<ye;--ye)yu(N,Q+=4*se,se,de)}function Ko(N,Q,se,de){var ye;for(ye=3;0<ye;--ye)Io(N,Q+=4,se,de)}function xu(N,Q,se,de,ye,_e,Ce,Ae){for(_e=2*_e+1;0<ye--;){if(uo(N,Q,se,_e,Ce))if(Yn(N,Q,se,Ae))Jd(N,Q,se);else{var Pe=N,Le=Q,$e=se,ft=Pe[Le-2*$e],pt=Pe[Le-$e],et=Pe[Le+0],zt=Pe[Le+$e],Dt=Pe[Le+2*$e],Qe=27*(Bt=kv[1020+3*(et-pt)+kv[1020+ft-zt]])+63>>7,Je=18*Bt+63>>7,Bt=9*Bt+63>>7;Pe[Le-3*$e]=fc[255+Pe[Le-3*$e]+Bt],Pe[Le-2*$e]=fc[255+ft+Je],Pe[Le-$e]=fc[255+pt+Qe],Pe[Le+0]=fc[255+et-Qe],Pe[Le+$e]=fc[255+zt-Je],Pe[Le+2*$e]=fc[255+Dt-Bt]}Q+=de}}function Tl(N,Q,se,de,ye,_e,Ce,Ae){for(_e=2*_e+1;0<ye--;){if(uo(N,Q,se,_e,Ce))if(Yn(N,Q,se,Ae))Jd(N,Q,se);else{var Pe=N,Le=Q,$e=se,ft=Pe[Le-$e],pt=Pe[Le+0],et=Pe[Le+$e],zt=U0[112+((Dt=3*(pt-ft))+4>>3)],Dt=U0[112+(Dt+3>>3)],Qe=zt+1>>1;Pe[Le-2*$e]=fc[255+Pe[Le-2*$e]+Qe],Pe[Le-$e]=fc[255+ft+Dt],Pe[Le+0]=fc[255+pt-zt],Pe[Le+$e]=fc[255+et-Qe]}Q+=de}}function bu(N,Q,se,de,ye,_e){xu(N,Q,se,1,16,de,ye,_e)}function od(N,Q,se,de,ye,_e){xu(N,Q,1,se,16,de,ye,_e)}function qd(N,Q,se,de,ye,_e){var Ce;for(Ce=3;0<Ce;--Ce)Tl(N,Q+=4*se,se,1,16,de,ye,_e)}function _u(N,Q,se,de,ye,_e){var Ce;for(Ce=3;0<Ce;--Ce)Tl(N,Q+=4,1,se,16,de,ye,_e)}function Zo(N,Q,se,de,ye,_e,Ce,Ae){xu(N,Q,ye,1,8,_e,Ce,Ae),xu(se,de,ye,1,8,_e,Ce,Ae)}function ld(N,Q,se,de,ye,_e,Ce,Ae){xu(N,Q,1,ye,8,_e,Ce,Ae),xu(se,de,1,ye,8,_e,Ce,Ae)}function Hh(N,Q,se,de,ye,_e,Ce,Ae){Tl(N,Q+4*ye,ye,1,8,_e,Ce,Ae),Tl(se,de+4*ye,ye,1,8,_e,Ce,Ae)}function El(N,Q,se,de,ye,_e,Ce,Ae){Tl(N,Q+4,1,ye,8,_e,Ce,Ae),Tl(se,de+4,1,ye,8,_e,Ce,Ae)}function sc(){this.ba=new To,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Er,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function eh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function cd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gh(){this.ua=0,this.Wa=new ge,this.vb=new ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new k,this.yc=new I}function jh(){this.xb=this.a=0,this.l=new nr,this.ca=new To,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gh,this.ab=0,this.gc=s(4,cd),this.Oc=0}function ud(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new nr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Fc(N,Q,se,de,ye,_e,Ce){for(N=N==null?0:N[Q+0],Q=0;Q<Ce;++Q)ye[_e+Q]=N+se[de+Q]&255,N=ye[_e+Q]}function Wh(N,Q,se,de,ye,_e,Ce){var Ae;if(N==null)Fc(null,null,se,de,ye,_e,Ce);else for(Ae=0;Ae<Ce;++Ae)ye[_e+Ae]=N[Q+Ae]+se[de+Ae]&255}function ac(N,Q,se,de,ye,_e,Ce){if(N==null)Fc(null,null,se,de,ye,_e,Ce);else{var Ae,Pe=N[Q+0],Le=Pe,$e=Pe;for(Ae=0;Ae<Ce;++Ae)Le=$e+(Pe=N[Q+Ae])-Le,$e=se[de+Ae]+(-256&Le?0>Le?0:255:Le)&255,Le=Pe,ye[_e+Ae]=$e}}function oc(N,Q,se,de){var ye=Q.width,_e=Q.o;if(i(N!=null&&Q!=null),0>se||0>=de||se+de>_e)return null;if(!N.Cc){if(N.ga==null){var Ce;if(N.ga=new ud,(Ce=N.ga==null)||(Ce=Q.width*Q.o,i(N.Gb.length==0),N.Gb=a(Ce),N.Uc=0,N.Gb==null?Ce=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,Ce=1),Ce=!Ce),!Ce){Ce=N.ga;var Ae=N.Fa,Pe=N.P,Le=N.qc,$e=N.mb,ft=N.nb,pt=Pe+1,et=Le-1,zt=Ce.l;if(i(Ae!=null&&$e!=null&&Q!=null),qh[0]=null,qh[1]=Fc,qh[2]=Wh,qh[3]=ac,Ce.ca=$e,Ce.tb=ft,Ce.c=Q.width,Ce.i=Q.height,i(0<Ce.c&&0<Ce.i),1>=Le)Q=0;else if(Ce.$a=Ae[Pe+0]>>0&3,Ce.Z=Ae[Pe+0]>>2&3,Ce.Lc=Ae[Pe+0]>>4&3,Pe=Ae[Pe+0]>>6&3,0>Ce.$a||1<Ce.$a||4<=Ce.Z||1<Ce.Lc||Pe)Q=0;else if(zt.put=Yo,zt.ac=ps,zt.bc=ja,zt.ma=Ce,zt.width=Q.width,zt.height=Q.height,zt.Da=Q.Da,zt.v=Q.v,zt.va=Q.va,zt.j=Q.j,zt.o=Q.o,Ce.$a)e:{i(Ce.$a==1),Q=Ct();t:for(;;){if(Q==null){Q=0;break e}if(i(Ce!=null),Ce.mc=Q,Q.c=Ce.c,Q.i=Ce.i,Q.l=Ce.l,Q.l.ma=Ce,Q.l.width=Ce.c,Q.l.height=Ce.i,Q.a=0,j(Q.m,Ae,pt,et),!nt(Ce.c,Ce.i,1,Q,null)||(Q.ab==1&&Q.gc[0].hc==3&&Re(Q.s)?(Ce.ic=1,Ae=Q.c*Q.i,Q.Ta=null,Q.Ua=0,Q.V=a(Ae),Q.Ba=0,Q.V==null?(Q.a=1,Q=0):Q=1):(Ce.ic=0,Q=ot(Q,Ce.c)),!Q))break t;Q=1;break e}Ce.mc=null,Q=0}else Q=et>=Ce.c*Ce.i;Ce=!Q}if(Ce)return null;N.ga.Lc!=1?N.Ga=0:de=_e-se}i(N.ga!=null),i(se+de<=_e);e:{if(Q=(Ae=N.ga).c,_e=Ae.l.o,Ae.$a==0){if(pt=N.rc,et=N.Vc,zt=N.Fa,Pe=N.P+1+se*Q,Le=N.mb,$e=N.nb+se*Q,i(Pe<=N.P+N.qc),Ae.Z!=0)for(i(qh[Ae.Z]!=null),Ce=0;Ce<de;++Ce)qh[Ae.Z](pt,et,zt,Pe,Le,$e,Q),pt=Le,et=$e,$e+=Q,Pe+=Q;else for(Ce=0;Ce<de;++Ce)r(Le,$e,zt,Pe,Q),pt=Le,et=$e,$e+=Q,Pe+=Q;N.rc=pt,N.Vc=et}else{if(i(Ae.mc!=null),Q=se+de,i((Ce=Ae.mc)!=null),i(Q<=Ce.i),Ce.C>=Q)Q=1;else if(Ae.ic||rt(),Ae.ic){Ae=Ce.V,pt=Ce.Ba,et=Ce.c;var Dt=Ce.i,Qe=(zt=1,Pe=Ce.$/et,Le=Ce.$%et,$e=Ce.m,ft=Ce.s,Ce.$),Je=et*Dt,Bt=et*Q,Zt=ft.wc,Vt=Qe<Bt?_s(ft,Le,Pe):null;i(Qe<=Je),i(Q<=Dt),i(Re(ft));t:for(;;){for(;!$e.h&&Qe<Bt;){if(Le&Zt||(Vt=_s(ft,Le,Pe)),i(Vt!=null),ie($e),256>(Dt=mi(Vt.G[0],Vt.H[0],$e)))Ae[pt+Qe]=Dt,++Qe,++Le>=et&&(Le=0,++Pe<=Q&&!(Pe%16)&&Oe(Ce,Pe));else{if(!(280>Dt)){zt=0;break t}Dt=Br(Dt-256,$e);var Ii,gi=mi(Vt.G[4],Vt.H[4],$e);if(ie($e),!(Qe>=(gi=ms(et,gi=Br(gi,$e)))&&Je-Qe>=Dt)){zt=0;break t}for(Ii=0;Ii<Dt;++Ii)Ae[pt+Qe+Ii]=Ae[pt+Qe+Ii-gi];for(Qe+=Dt,Le+=Dt;Le>=et;)Le-=et,++Pe<=Q&&!(Pe%16)&&Oe(Ce,Pe);Qe<Bt&&Le&Zt&&(Vt=_s(ft,Le,Pe))}i($e.h==F($e))}Oe(Ce,Pe>Q?Q:Pe);break t}!zt||$e.h&&Qe<Je?(zt=0,Ce.a=$e.h?5:3):Ce.$=Qe,Q=zt}else Q=Be(Ce,Ce.V,Ce.Ba,Ce.c,Ce.i,Q,lt);if(!Q){de=0;break e}}se+de>=_e&&(N.Cc=1),de=1}if(!de)return null;if(N.Cc&&((de=N.ga)!=null&&(de.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+se*ye}function te(N,Q,se,de,ye,_e){for(;0<ye--;){var Ce,Ae=N,Pe=Q+(se?1:0),Le=N,$e=Q+(se?0:3);for(Ce=0;Ce<de;++Ce){var ft=Le[$e+4*Ce];ft!=255&&(ft*=32897,Ae[Pe+4*Ce+0]=Ae[Pe+4*Ce+0]*ft>>23,Ae[Pe+4*Ce+1]=Ae[Pe+4*Ce+1]*ft>>23,Ae[Pe+4*Ce+2]=Ae[Pe+4*Ce+2]*ft>>23)}Q+=_e}}function ve(N,Q,se,de,ye){for(;0<de--;){var _e;for(_e=0;_e<se;++_e){var Ce=N[Q+2*_e+0],Ae=15&(Le=N[Q+2*_e+1]),Pe=4369*Ae,Le=(240&Le|Le>>4)*Pe>>16;N[Q+2*_e+0]=(240&Ce|Ce>>4)*Pe>>16&240|(15&Ce|Ce<<4)*Pe>>16>>4&15,N[Q+2*_e+1]=240&Le|Ae}Q+=ye}}function Ve(N,Q,se,de,ye,_e,Ce,Ae){var Pe,Le,$e=255;for(Le=0;Le<ye;++Le){for(Pe=0;Pe<de;++Pe){var ft=N[Q+Pe];_e[Ce+4*Pe]=ft,$e&=ft}Q+=se,Ce+=Ae}return $e!=255}function Xe(N,Q,se,de,ye){var _e;for(_e=0;_e<ye;++_e)se[de+_e]=N[Q+_e]>>8}function rt(){dc=te,gs=ve,dr=Ve,qs=Xe}function St(N,Q,se){S[N]=function(de,ye,_e,Ce,Ae,Pe,Le,$e,ft,pt,et,zt,Dt,Qe,Je,Bt,Zt){var Vt,Ii=Zt-1>>1,gi=Ae[Pe+0]|Le[$e+0]<<16,an=ft[pt+0]|et[zt+0]<<16;i(de!=null);var Ci=3*gi+an+131074>>2;for(Q(de[ye+0],255&Ci,Ci>>16,Dt,Qe),_e!=null&&(Ci=3*an+gi+131074>>2,Q(_e[Ce+0],255&Ci,Ci>>16,Je,Bt)),Vt=1;Vt<=Ii;++Vt){var Vr=Ae[Pe+Vt]|Le[$e+Vt]<<16,as=ft[pt+Vt]|et[zt+Vt]<<16,Mr=gi+Vr+an+as+524296,hr=Mr+2*(Vr+an)>>3;Ci=hr+gi>>1,gi=(Mr=Mr+2*(gi+as)>>3)+Vr>>1,Q(de[ye+2*Vt-1],255&Ci,Ci>>16,Dt,Qe+(2*Vt-1)*se),Q(de[ye+2*Vt-0],255&gi,gi>>16,Dt,Qe+(2*Vt-0)*se),_e!=null&&(Ci=Mr+an>>1,gi=hr+as>>1,Q(_e[Ce+2*Vt-1],255&Ci,Ci>>16,Je,Bt+(2*Vt-1)*se),Q(_e[Ce+2*Vt+0],255&gi,gi>>16,Je,Bt+(2*Vt+0)*se)),gi=Vr,an=as}1&Zt||(Ci=3*gi+an+131074>>2,Q(de[ye+Zt-1],255&Ci,Ci>>16,Dt,Qe+(Zt-1)*se),_e!=null&&(Ci=3*an+gi+131074>>2,Q(_e[Ce+Zt-1],255&Ci,Ci>>16,Je,Bt+(Zt-1)*se)))}}function Ot(){Nc[H0]=e5,Nc[G0]=rb,Nc[eb]=nb,Nc[j0]=z2,Nc[Fv]=DB,Nc[Ov]=PB,Nc[tb]=coe,Nc[ib]=rb,Nc[E]=z2,Nc[P]=DB,Nc[W]=PB}function bi(N){return N&~uoe?0>N?0:255:N>>RB}function Li(N,Q){return bi((19077*N>>8)+(26149*Q>>8)-14234)}function z(N,Q,se){return bi((19077*N>>8)-(6419*Q>>8)-(13320*se>>8)+8708)}function ce(N,Q){return bi((19077*N>>8)+(33050*Q>>8)-17685)}function fe(N,Q,se,de,ye){de[ye+0]=Li(N,se),de[ye+1]=z(N,Q,se),de[ye+2]=ce(N,Q)}function Ee(N,Q,se,de,ye){de[ye+0]=ce(N,Q),de[ye+1]=z(N,Q,se),de[ye+2]=Li(N,se)}function Ze(N,Q,se,de,ye){var _e=z(N,Q,se);Q=_e<<3&224|ce(N,Q)>>3,de[ye+0]=248&Li(N,se)|_e>>5,de[ye+1]=Q}function dt(N,Q,se,de,ye){var _e=240&ce(N,Q)|15;de[ye+0]=240&Li(N,se)|z(N,Q,se)>>4,de[ye+1]=_e}function ni(N,Q,se,de,ye){de[ye+0]=255,fe(N,Q,se,de,ye+1)}function Qi(N,Q,se,de,ye){Ee(N,Q,se,de,ye),de[ye+3]=255}function ur(N,Q,se,de,ye){fe(N,Q,se,de,ye),de[ye+3]=255}function bn(N,Q){return 0>N?0:N>Q?Q:N}function rr(N,Q,se){S[N]=function(de,ye,_e,Ce,Ae,Pe,Le,$e,ft){for(var pt=$e+(-2&ft)*se;$e!=pt;)Q(de[ye+0],_e[Ce+0],Ae[Pe+0],Le,$e),Q(de[ye+1],_e[Ce+0],Ae[Pe+0],Le,$e+se),ye+=2,++Ce,++Pe,$e+=2*se;1&ft&&Q(de[ye+0],_e[Ce+0],Ae[Pe+0],Le,$e)}}function ca(N,Q,se){return se==0?N==0?Q==0?6:5:Q==0?4:0:se}function ho(N,Q,se,de,ye){switch(N>>>30){case 3:Oc(Q,se,de,ye,0);break;case 2:ua(Q,se,de,ye);break;case 1:qo(Q,se,de,ye)}}function fo(N,Q){var se,de,ye=Q.M,_e=Q.Nb,Ce=N.oc,Ae=N.pc+40,Pe=N.oc,Le=N.pc+584,$e=N.oc,ft=N.pc+600;for(se=0;16>se;++se)Ce[Ae+32*se-1]=129;for(se=0;8>se;++se)Pe[Le+32*se-1]=129,$e[ft+32*se-1]=129;for(0<ye?Ce[Ae-1-32]=Pe[Le-1-32]=$e[ft-1-32]=129:(n(Ce,Ae-32-1,127,21),n(Pe,Le-32-1,127,9),n($e,ft-32-1,127,9)),de=0;de<N.za;++de){var pt=Q.ya[Q.aa+de];if(0<de){for(se=-1;16>se;++se)r(Ce,Ae+32*se-4,Ce,Ae+32*se+12,4);for(se=-1;8>se;++se)r(Pe,Le+32*se-4,Pe,Le+32*se+4,4),r($e,ft+32*se-4,$e,ft+32*se+4,4)}var et=N.Gd,zt=N.Hd+de,Dt=pt.ad,Qe=pt.Hc;if(0<ye&&(r(Ce,Ae-32,et[zt].y,0,16),r(Pe,Le-32,et[zt].f,0,8),r($e,ft-32,et[zt].ea,0,8)),pt.Za){var Je=Ce,Bt=Ae-32+16;for(0<ye&&(de>=N.za-1?n(Je,Bt,et[zt].y[15],4):r(Je,Bt,et[zt+1].y,0,4)),se=0;4>se;se++)Je[Bt+128+se]=Je[Bt+256+se]=Je[Bt+384+se]=Je[Bt+0+se];for(se=0;16>se;++se,Qe<<=2)Je=Ce,Bt=Ae+FB[se],Eu[pt.Ob[se]](Je,Bt),ho(Qe,Dt,16*+se,Je,Bt)}else if(Je=ca(de,ye,pt.Ob[0]),sh[Je](Ce,Ae),Qe!=0)for(se=0;16>se;++se,Qe<<=2)ho(Qe,Dt,16*+se,Ce,Ae+FB[se]);for(se=pt.Gc,Je=ca(de,ye,pt.Dd),gd[Je](Pe,Le),gd[Je]($e,ft),Qe=Dt,Je=Pe,Bt=Le,255&(pt=se>>0)&&(170&pt?hm(Qe,256,Je,Bt):lc(Qe,256,Je,Bt)),pt=$e,Qe=ft,255&(se>>=8)&&(170&se?hm(Dt,320,pt,Qe):lc(Dt,320,pt,Qe)),ye<N.Ub-1&&(r(et[zt].y,0,Ce,Ae+480,16),r(et[zt].f,0,Pe,Le+224,8),r(et[zt].ea,0,$e,ft+224,8)),se=8*_e*N.B,et=N.sa,zt=N.ta+16*de+16*_e*N.R,Dt=N.qa,pt=N.ra+8*de+se,Qe=N.Ha,Je=N.Ia+8*de+se,se=0;16>se;++se)r(et,zt+se*N.R,Ce,Ae+32*se,16);for(se=0;8>se;++se)r(Dt,pt+se*N.B,Pe,Le+32*se,8),r(Qe,Je+se*N.B,$e,ft+32*se,8)}}function Jo(N,Q,se,de,ye,_e,Ce,Ae,Pe){var Le=[0],$e=[0],ft=0,pt=Pe!=null?Pe.kd:0,et=Pe??new eh;if(N==null||12>se)return 7;et.data=N,et.w=Q,et.ha=se,Q=[Q],se=[se],et.gb=[et.gb];e:{var zt=Q,Dt=se,Qe=et.gb;if(i(N!=null),i(Dt!=null),i(Qe!=null),Qe[0]=0,12<=Dt[0]&&!e(N,zt[0],"RIFF")){if(e(N,zt[0]+8,"WEBP")){Qe=3;break e}var Je=ke(N,zt[0]+4);if(12>Je||4294967286<Je){Qe=3;break e}if(pt&&Je>Dt[0]-8){Qe=7;break e}Qe[0]=Je,zt[0]+=12,Dt[0]-=12}Qe=0}if(Qe!=0)return Qe;for(Je=0<et.gb[0],se=se[0];;){e:{var Bt=N;Dt=Q,Qe=se;var Zt=Le,Vt=$e,Ii=zt=[0];if((Ci=ft=[ft])[0]=0,8>Qe[0])Qe=7;else{if(!e(Bt,Dt[0],"VP8X")){if(ke(Bt,Dt[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var gi=ke(Bt,Dt[0]+8),an=1+be(Bt,Dt[0]+12);if(2147483648<=an*(Bt=1+be(Bt,Dt[0]+15))){Qe=3;break e}Ii!=null&&(Ii[0]=gi),Zt!=null&&(Zt[0]=an),Vt!=null&&(Vt[0]=Bt),Dt[0]+=18,Qe[0]-=18,Ci[0]=1}Qe=0}}if(ft=ft[0],zt=zt[0],Qe!=0)return Qe;if(Dt=!!(2&zt),!Je&&ft)return 3;if(_e!=null&&(_e[0]=!!(16&zt)),Ce!=null&&(Ce[0]=Dt),Ae!=null&&(Ae[0]=0),Ce=Le[0],zt=$e[0],ft&&Dt&&Pe==null){Qe=0;break}if(4>se){Qe=7;break}if(Je&&ft||!Je&&!ft&&!e(N,Q[0],"ALPH")){se=[se],et.na=[et.na],et.P=[et.P],et.Sa=[et.Sa];e:{gi=N,Qe=Q,Je=se;var Ci=et.gb;Zt=et.na,Vt=et.P,Ii=et.Sa,an=22,i(gi!=null),i(Je!=null),Bt=Qe[0];var Vr=Je[0];for(i(Zt!=null),i(Ii!=null),Zt[0]=null,Vt[0]=null,Ii[0]=0;;){if(Qe[0]=Bt,Je[0]=Vr,8>Vr){Qe=7;break e}var as=ke(gi,Bt+4);if(4294967286<as){Qe=3;break e}var Mr=8+as+1&-2;if(an+=Mr,0<Ci&&an>Ci){Qe=3;break e}if(!e(gi,Bt,"VP8 ")||!e(gi,Bt,"VP8L")){Qe=0;break e}if(Vr[0]<Mr){Qe=7;break e}e(gi,Bt,"ALPH")||(Zt[0]=gi,Vt[0]=Bt+8,Ii[0]=as),Bt+=Mr,Vr-=Mr}}if(se=se[0],et.na=et.na[0],et.P=et.P[0],et.Sa=et.Sa[0],Qe!=0)break}se=[se],et.Ja=[et.Ja],et.xa=[et.xa];e:if(Ci=N,Qe=Q,Je=se,Zt=et.gb[0],Vt=et.Ja,Ii=et.xa,gi=Qe[0],Bt=!e(Ci,gi,"VP8 "),an=!e(Ci,gi,"VP8L"),i(Ci!=null),i(Je!=null),i(Vt!=null),i(Ii!=null),8>Je[0])Qe=7;else{if(Bt||an){if(Ci=ke(Ci,gi+4),12<=Zt&&Ci>Zt-12){Qe=3;break e}if(pt&&Ci>Je[0]-8){Qe=7;break e}Vt[0]=Ci,Qe[0]+=8,Je[0]-=8,Ii[0]=an}else Ii[0]=5<=Je[0]&&Ci[gi+0]==47&&!(Ci[gi+4]>>5),Vt[0]=Je[0];Qe=0}if(se=se[0],et.Ja=et.Ja[0],et.xa=et.xa[0],Q=Q[0],Qe!=0)break;if(4294967286<et.Ja)return 3;if(Ae==null||Dt||(Ae[0]=et.xa?2:1),Ce=[Ce],zt=[zt],et.xa){if(5>se){Qe=7;break}Ae=Ce,pt=zt,Dt=_e,N==null||5>se?N=0:5<=se&&N[Q+0]==47&&!(N[Q+4]>>5)?(Je=[0],Ci=[0],Zt=[0],j(Vt=new V,N,Q,se),Ji(Vt,Je,Ci,Zt)?(Ae!=null&&(Ae[0]=Je[0]),pt!=null&&(pt[0]=Ci[0]),Dt!=null&&(Dt[0]=Zt[0]),N=1):N=0):N=0}else{if(10>se){Qe=7;break}Ae=zt,N==null||10>se||!ic(N,Q+3,se-3)?N=0:(pt=N[Q+0]|N[Q+1]<<8|N[Q+2]<<16,Dt=16383&(N[Q+7]<<8|N[Q+6]),N=16383&(N[Q+9]<<8|N[Q+8]),1&pt||3<(pt>>1&7)||!(pt>>4&1)||pt>>5>=et.Ja||!Dt||!N?N=0:(Ce&&(Ce[0]=Dt),Ae&&(Ae[0]=N),N=1))}if(!N||(Ce=Ce[0],zt=zt[0],ft&&(Le[0]!=Ce||$e[0]!=zt)))return 3;Pe!=null&&(Pe[0]=et,Pe.offset=Q-Pe.w,i(4294967286>Q-Pe.w),i(Pe.offset==Pe.ha-se));break}return Qe==0||Qe==7&&ft&&Pe==null?(_e!=null&&(_e[0]|=et.na!=null&&0<et.na.length),de!=null&&(de[0]=Ce),ye!=null&&(ye[0]=zt),0):Qe}function dd(N,Q,se){var de=Q.width,ye=Q.height,_e=0,Ce=0,Ae=de,Pe=ye;if(Q.Da=N!=null&&0<N.Da,Q.Da&&(Ae=N.cd,Pe=N.bd,_e=N.v,Ce=N.j,11>se||(_e&=-2,Ce&=-2),0>_e||0>Ce||0>=Ae||0>=Pe||_e+Ae>de||Ce+Pe>ye))return 0;if(Q.v=_e,Q.j=Ce,Q.va=_e+Ae,Q.o=Ce+Pe,Q.U=Ae,Q.T=Pe,Q.da=N!=null&&0<N.da,Q.da){if(!Et(Ae,Pe,se=[N.ib],_e=[N.hb]))return 0;Q.ib=se[0],Q.hb=_e[0]}return Q.ob=N!=null&&N.ob,Q.Kb=N==null||!N.Sd,Q.da&&(Q.ob=Q.ib<3*de/4&&Q.hb<3*ye/4,Q.Kb=0),1}function Xh(N){if(N==null)return 2;if(11>N.S){var Q=N.f.RGBA;Q.fb+=(N.height-1)*Q.A,Q.A=-Q.A}else Q=N.f.kb,N=N.height,Q.O+=(N-1)*Q.fa,Q.fa=-Q.fa,Q.N+=(N-1>>1)*Q.Ab,Q.Ab=-Q.Ab,Q.W+=(N-1>>1)*Q.Db,Q.Db=-Q.Db,Q.F!=null&&(Q.J+=(N-1)*Q.lb,Q.lb=-Q.lb);return 0}function lm(N,Q,se,de){if(de==null||0>=N||0>=Q)return 2;if(se!=null){if(se.Da){var ye=se.cd,_e=se.bd,Ce=-2&se.v,Ae=-2&se.j;if(0>Ce||0>Ae||0>=ye||0>=_e||Ce+ye>N||Ae+_e>Q)return 2;N=ye,Q=_e}if(se.da){if(!Et(N,Q,ye=[se.ib],_e=[se.hb]))return 2;N=ye[0],Q=_e[0]}}de.width=N,de.height=Q;e:{var Pe=de.width,Le=de.height;if(N=de.S,0>=Pe||0>=Le||!(N>=H0&&13>N))N=2;else{if(0>=de.Rd&&de.sd==null){Ce=_e=ye=Q=0;var $e=(Ae=Pe*OB[N])*Le;if(11>N||(_e=(Le+1)/2*(Q=(Pe+1)/2),N==12&&(Ce=(ye=Pe)*Le)),(Le=a($e+2*_e+Ce))==null){N=1;break e}de.sd=Le,11>N?((Pe=de.f.RGBA).eb=Le,Pe.fb=0,Pe.A=Ae,Pe.size=$e):((Pe=de.f.kb).y=Le,Pe.O=0,Pe.fa=Ae,Pe.Fd=$e,Pe.f=Le,Pe.N=0+$e,Pe.Ab=Q,Pe.Cd=_e,Pe.ea=Le,Pe.W=0+$e+_e,Pe.Db=Q,Pe.Ed=_e,N==12&&(Pe.F=Le,Pe.J=0+$e+2*_e),Pe.Tc=Ce,Pe.lb=ye)}if(Q=1,ye=de.S,_e=de.width,Ce=de.height,ye>=H0&&13>ye)if(11>ye)N=de.f.RGBA,Q&=(Ae=Math.abs(N.A))*(Ce-1)+_e<=N.size,Q&=Ae>=_e*OB[ye],Q&=N.eb!=null;else{N=de.f.kb,Ae=(_e+1)/2,$e=(Ce+1)/2,Pe=Math.abs(N.fa),Le=Math.abs(N.Ab);var ft=Math.abs(N.Db),pt=Math.abs(N.lb),et=pt*(Ce-1)+_e;Q&=Pe*(Ce-1)+_e<=N.Fd,Q&=Le*($e-1)+Ae<=N.Cd,Q=(Q&=ft*($e-1)+Ae<=N.Ed)&Pe>=_e&Le>=Ae&ft>=Ae,Q&=N.y!=null,Q&=N.f!=null,Q&=N.ea!=null,ye==12&&(Q&=pt>=_e,Q&=et<=N.Tc,Q&=N.F!=null)}else Q=0;N=Q?0:2}}return N!=0||se!=null&&se.fd&&(N=Xh(de)),N}var Ls=64,th=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],cm=24,Yh=32,B0=8,Js=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(N){return N},S.Predictor2=function(N,Q,se){return Q[se+0]},S.Predictor3=function(N,Q,se){return Q[se+1]},S.Predictor4=function(N,Q,se){return Q[se-1]},S.Predictor5=function(N,Q,se){return it(it(N,Q[se+1]),Q[se+0])},S.Predictor6=function(N,Q,se){return it(N,Q[se-1])},S.Predictor7=function(N,Q,se){return it(N,Q[se+0])},S.Predictor8=function(N,Q,se){return it(Q[se-1],Q[se+0])},S.Predictor9=function(N,Q,se){return it(Q[se+0],Q[se+1])},S.Predictor10=function(N,Q,se){return it(it(N,Q[se-1]),it(Q[se+0],Q[se+1]))},S.Predictor11=function(N,Q,se){var de=Q[se+0];return 0>=bt(de>>24&255,N>>24&255,(Q=Q[se-1])>>24&255)+bt(de>>16&255,N>>16&255,Q>>16&255)+bt(de>>8&255,N>>8&255,Q>>8&255)+bt(255&de,255&N,255&Q)?de:N},S.Predictor12=function(N,Q,se){var de=Q[se+0];return(Ft((N>>24&255)+(de>>24&255)-((Q=Q[se-1])>>24&255))<<24|Ft((N>>16&255)+(de>>16&255)-(Q>>16&255))<<16|Ft((N>>8&255)+(de>>8&255)-(Q>>8&255))<<8|Ft((255&N)+(255&de)-(255&Q)))>>>0},S.Predictor13=function(N,Q,se){var de=Q[se-1];return(at((N=it(N,Q[se+0]))>>24&255,de>>24&255)<<24|at(N>>16&255,de>>16&255)<<16|at(N>>8&255,de>>8&255)<<8|at(N>>0&255,de>>0&255))>>>0};var qx=S.PredictorAdd0;S.PredictorAdd1=ai,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var hd=S.PredictorAdd2;vi("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),vi("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var Rv,_a=S.ColorIndexInverseTransform,ih=S.MapARGB,V0=S.VP8LColorIndexInverseTransformAlpha,um=S.MapAlpha,wu=S.VP8LPredictorsAdd=[];wu.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var nh,po,wa,Cu,Su,fd,dm,Oc,ua,hm,qo,lc,fm,cc,$h,sp,pd,Qh,Kh,pm,Tu,Zh,md,uc,dc,gs,dr,qs,Ca=a(511),hc=a(2041),z0=a(225),rh=a(767),Jh=0,kv=hc,U0=z0,fc=rh,pc=Ca,H0=0,G0=1,eb=2,j0=3,Fv=4,Ov=5,tb=6,ib=7,E=8,P=9,W=10,ne=[2,3,7],he=[3,3,11],Se=[280,256,256,256,40],Ge=[0,1,1,1,0],ut=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],At=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Kt=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ei=8,nn=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ln=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Na=null,Wa=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Lc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],el=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],mm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ZD=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],JD=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],qD=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sh=[],Eu=[],gd=[],Sa=1,W0=2,qh=[],Nc=[];St("UpsampleRgbLinePair",fe,3),St("UpsampleBgrLinePair",Ee,3),St("UpsampleRgbaLinePair",ur,4),St("UpsampleBgraLinePair",Qi,4),St("UpsampleArgbLinePair",ni,4),St("UpsampleRgba4444LinePair",dt,2),St("UpsampleRgb565LinePair",Ze,2);var e5=S.UpsampleRgbLinePair,nb=S.UpsampleBgrLinePair,rb=S.UpsampleRgbaLinePair,z2=S.UpsampleBgraLinePair,DB=S.UpsampleArgbLinePair,PB=S.UpsampleRgba4444LinePair,coe=S.UpsampleRgb565LinePair,U2=16,H2=1<<U2-1,sb=-227,t5=482,RB=6,uoe=(256<<RB)-1,kB=0,doe=a(256),hoe=a(256),foe=a(256),poe=a(256),moe=a(t5-sb),goe=a(t5-sb);rr("YuvToRgbRow",fe,3),rr("YuvToBgrRow",Ee,3),rr("YuvToRgbaRow",ur,4),rr("YuvToBgraRow",Qi,4),rr("YuvToArgbRow",ni,4),rr("YuvToRgba4444Row",dt,2),rr("YuvToRgb565Row",Ze,2);var FB=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],G2=[0,2,8],voe=[8,7,6,4,4,2,2,2,1,1,1,1],yoe=1;this.WebPDecodeRGBA=function(N,Q,se,de,ye){var _e=G0,Ce=new sc,Ae=new To;Ce.ba=Ae,Ae.S=_e,Ae.width=[Ae.width],Ae.height=[Ae.height];var Pe=Ae.width,Le=Ae.height,$e=new lo;if($e==null||N==null)var ft=2;else i($e!=null),ft=Jo(N,Q,se,$e.width,$e.height,$e.Pd,$e.Qd,$e.format,null);if(ft!=0?Pe=0:(Pe!=null&&(Pe[0]=$e.width[0]),Le!=null&&(Le[0]=$e.height[0]),Pe=1),Pe){Ae.width=Ae.width[0],Ae.height=Ae.height[0],de!=null&&(de[0]=Ae.width),ye!=null&&(ye[0]=Ae.height);e:{if(de=new nr,(ye=new eh).data=N,ye.w=Q,ye.ha=se,ye.kd=1,Q=[0],i(ye!=null),((N=Jo(ye.data,ye.w,ye.ha,null,null,null,Q,null,ye))==0||N==7)&&Q[0]&&(N=4),(Q=N)==0){if(i(Ce!=null),de.data=ye.data,de.w=ye.w+ye.offset,de.ha=ye.ha-ye.offset,de.put=Yo,de.ac=ps,de.bc=ja,de.ma=Ce,ye.xa){if((N=Ct())==null){Ce=1;break e}if(function(pt,et){var zt=[0],Dt=[0],Qe=[0];t:for(;;){if(pt==null)return 0;if(et==null)return pt.a=2,0;if(pt.l=et,pt.a=0,j(pt.m,et.data,et.w,et.ha),!Ji(pt.m,zt,Dt,Qe)){pt.a=3;break t}if(pt.xb=W0,et.width=zt[0],et.height=Dt[0],!nt(zt[0],Dt[0],1,pt,null))break t;return 1}return i(pt.a!=0),0}(N,de)){if(de=(Q=lm(de.width,de.height,Ce.Oa,Ce.ba))==0){t:{de=N;i:for(;;){if(de==null){de=0;break t}if(i(de.s.yc!=null),i(de.s.Ya!=null),i(0<de.s.Wb),i((se=de.l)!=null),i((ye=se.ma)!=null),de.xb!=0){if(de.ca=ye.ba,de.tb=ye.tb,i(de.ca!=null),!dd(ye.Oa,se,j0)){de.a=2;break i}if(!ot(de,se.width)||se.da)break i;if((se.da||gn(de.ca.S))&&rt(),11>de.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),de.ca.f.kb.F!=null&&rt()),de.Pb&&0<de.s.ua&&de.s.vb.X==null&&!ze(de.s.vb,de.s.Wa.Xa)){de.a=1;break i}de.xb=0}if(!Be(de,de.V,de.Ba,de.c,de.i,se.o,Ne))break i;ye.Dc=de.Ma,de=1;break t}i(de.a!=0),de=0}de=!de}de&&(Q=N.a)}else Q=N.a}else{if((N=new La)==null){Ce=1;break e}if(N.Fa=ye.na,N.P=ye.P,N.qc=ye.Sa,Yd(N,de)){if((Q=lm(de.width,de.height,Ce.Oa,Ce.ba))==0){if(N.Aa=0,se=Ce.Oa,i((ye=N)!=null),se!=null){if(0<(Pe=0>(Pe=se.Md)?0:100<Pe?255:255*Pe/100)){for(Le=$e=0;4>Le;++Le)12>(ft=ye.pb[Le]).lc&&(ft.ia=Pe*voe[0>ft.lc?0:ft.lc]>>3),$e|=ft.ia;$e&&(alert("todo:VP8InitRandom"),ye.ia=1)}ye.Ga=se.Id,100<ye.Ga?ye.Ga=100:0>ye.Ga&&(ye.Ga=0)}ep(N,de)||(Q=N.a)}}else Q=N.a}Q==0&&Ce.Oa!=null&&Ce.Oa.fd&&(Q=Xh(Ce.ba))}Ce=Q}_e=Ce!=0?null:11>_e?Ae.f.RGBA.eb:Ae.f.kb.y}else _e=null;return _e};var OB=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(S,T){for(var A="",M=0;M<4;M++)A+=String.fromCharCode(S[T++]);return A}function c(S,T){return(S[T+0]<<0|S[T+1]<<8|S[T+2]<<16)>>>0}function h(S,T){return(S[T+0]<<0|S[T+1]<<8|S[T+2]<<16|S[T+3]<<24)>>>0}new u;var d=[0],f=[0],m=[],p=new u,g=t,v=function(S,T){var A={},M=0,I=!1,D=0,k=0;if(A.frames=[],!function(O,F,X,ie){for(var re=0;re<ie;re++)if(O[F+re]!=X.charCodeAt(re))return!0;return!1}(S,T,"RIFF",4)){for(h(S,T+=4),T+=8;T<S.length;){var G=l(S,T),R=h(S,T+=4);T+=4;var H=R+(1&R);switch(G){case"VP8 ":case"VP8L":A.frames[M]===void 0&&(A.frames[M]={}),(ee=A.frames[M]).src_off=I?k:T-8,ee.src_size=D+R+8,M++,I&&(I=!1,D=0,k=0);break;case"VP8X":(ee=A.header={}).feature_flags=S[T];var j=T+4;ee.canvas_width=1+c(S,j),j+=3,ee.canvas_height=1+c(S,j),j+=3;break;case"ALPH":I=!0,D=H+8,k=T-8;break;case"ANIM":(ee=A.header).bgcolor=h(S,T),j=T+4,ee.loop_count=(Y=S)[(V=j)+0]<<0|Y[V+1]<<8,j+=2;break;case"ANMF":var Z,ee;(ee=A.frames[M]={}).offset_x=2*c(S,T),T+=3,ee.offset_y=2*c(S,T),T+=3,ee.width=1+c(S,T),T+=3,ee.height=1+c(S,T),T+=3,ee.duration=c(S,T),T+=3,Z=S[T++],ee.dispose=1&Z,ee.blend=Z>>1&1}G!="ANMF"&&(T+=H)}var Y,V;return A}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,x=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,d=[y.canvas_height],f=[y.canvas_width];for(var b=0;b<x.length&&x[b].blend!=0;b++);}var w=x[0],C=p.WebPDecodeRGBA(g,w.src_off,w.src_size,f,d);w.rgba=C,w.imgwidth=f[0],w.imgheight=d[0];for(var _=0;_<f[0]*d[0]*4;_++)m[_]=C[_];return this.width=f,this.height=d,this.data=m,this}(function(t){var i=function(){return typeof VM=="function"},e=function(d,f,m,p){var g=4,v=s;switch(p){case t.image_compression.FAST:g=1,v=a;break;case t.image_compression.MEDIUM:g=6,v=o;break;case t.image_compression.SLOW:g=9,v=u}d=r(d,f,m,v);var y=VM(d,{level:g});return t.__addimage__.arrayBufferToBinaryString(y)},r=function(d,f,m,p){for(var g,v,y,x=d.length/f,b=new Uint8Array(d.length+x),w=c(),C=0;C<x;C+=1){if(y=C*f,g=d.subarray(y,y+f),p)b.set(p(g,m,v),y+C);else{for(var _,S=w.length,T=[];_<S;_+=1)T[_]=w[_](g,m,v);var A=h(T.concat());b.set(T[A],y+C)}v=g}return b},n=function(d){var f=Array.apply([],d);return f.unshift(0),f},a=function(d,f){var m,p=[],g=d.length;p[0]=1;for(var v=0;v<g;v+=1)m=d[v-f]||0,p[v+1]=d[v]-m+256&255;return p},s=function(d,f,m){var p,g=[],v=d.length;g[0]=2;for(var y=0;y<v;y+=1)p=m&&m[y]||0,g[y+1]=d[y]-p+256&255;return g},o=function(d,f,m){var p,g,v=[],y=d.length;v[0]=3;for(var x=0;x<y;x+=1)p=d[x-f]||0,g=m&&m[x]||0,v[x+1]=d[x]+256-(p+g>>>1)&255;return v},u=function(d,f,m){var p,g,v,y,x=[],b=d.length;x[0]=4;for(var w=0;w<b;w+=1)p=d[w-f]||0,g=m&&m[w]||0,v=m&&m[w-f]||0,y=l(p,g,v),x[w+1]=d[w]-y+256&255;return x},l=function(d,f,m){if(d===f&&f===m)return d;var p=Math.abs(f-m),g=Math.abs(d-m),v=Math.abs(d+f-m-m);return p<=g&&p<=v?d:g<=v?f:m},c=function(){return[n,a,s,o,u]},h=function(d){var f=d.map(function(m){return m.reduce(function(p,g){return p+Math.abs(g)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(d,f,m,p){var g,v,y,x,b,w,C,_,S,T,A,M,I,D,k,G=this.decode.FLATE_DECODE,R="";if(this.__addimage__.isArrayBuffer(d)&&(d=new Uint8Array(d)),this.__addimage__.isArrayBufferView(d)){if(d=(y=new pOe(d)).imgData,v=y.bits,g=y.colorSpace,b=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){S=(_=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,A=new Uint8Array(S*y.colors),T=new Uint8Array(S);var H,j=y.pixelBitlength-y.bits;for(D=0,k=0;D<S;D++){for(I=_[D],H=0;H<j;)A[k++]=I>>>H&255,H+=y.bits;T[D]=I>>>H&255}}if(y.bits===16){S=(_=new Uint32Array(y.decodePixels().buffer)).length,A=new Uint8Array(S*(32/y.pixelBitlength)*y.colors),T=new Uint8Array(S*(32/y.pixelBitlength)),M=y.colors>1,D=0,k=0;for(var Z=0;D<S;)I=_[D++],A[k++]=I>>>0&255,M&&(A[k++]=I>>>16&255,I=_[D++],A[k++]=I>>>0&255),T[Z++]=I>>>16&255;v=8}p!==t.image_compression.NONE&&i()?(d=e(A,y.width*y.colors,y.colors,p),C=e(T,y.width,1,p)):(d=A,C=T,G=void 0)}if(y.colorType===3&&(g=this.color_spaces.INDEXED,w=y.palette,y.transparency.indexed)){var ee=y.transparency.indexed,Y=0;for(D=0,S=ee.length;D<S;++D)Y+=ee[D];if((Y/=255)===S-1&&ee.indexOf(0)!==-1)x=[ee.indexOf(0)];else if(Y!==S){for(_=y.decodePixels(),T=new Uint8Array(_.length),D=0,S=_.length;D<S;D++)T[D]=ee[_[D]];C=e(T,y.width,1)}}var V=function(O){var F;switch(O){case t.image_compression.FAST:F=11;break;case t.image_compression.MEDIUM:F=13;break;case t.image_compression.SLOW:F=14;break;default:F=12}return F}(p);return G===this.decode.FLATE_DECODE&&(R="/Predictor "+V+" "),R+="/Colors "+b+" /BitsPerComponent "+v+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),(C&&this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),{alias:m,data:d,index:f,filter:G,decodeParameters:R,transparency:x,palette:w,sMask:C,predictor:V,width:y.width,height:y.height,bitsPerComponent:v,colorSpace:g}}}})(dn.API),function(t){t.processGIF89A=function(i,e,r,n){var a=new mOe(i),s=a.width,o=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var l={data:u,width:s,height:o},c=new wN(100).encode(l,100);return t.processJPEG.call(this,c,e,r,n)},t.processGIF87A=t.processGIF89A}(dn.API),Ph.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var i=0;i<t;i++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[i]={red:n,green:r,blue:e,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ph.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,i=this.width*this.height*4;this.data=new Uint8Array(i),this[t]()}catch(e){Rs.log("bit decode error:"+e)}},Ph.prototype.bit1=function(){var t,i=Math.ceil(this.width/8),e=i%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<i;n++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var u=this.palette[a>>7-o&1];this.data[s+4*o]=u.blue,this.data[s+4*o+1]=u.green,this.data[s+4*o+2]=u.red,this.data[s+4*o+3]=255}e!==0&&(this.pos+=4-e)}},Ph.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),i=t%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<t;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*n*4,o=a>>4,u=15&a,l=this.palette[o];if(this.data[s]=l.blue,this.data[s+1]=l.green,this.data[s+2]=l.red,this.data[s+3]=255,2*n+1>=this.width)break;l=this.palette[u],this.data[s+4]=l.blue,this.data[s+4+1]=l.green,this.data[s+4+2]=l.red,this.data[s+4+3]=255}i!==0&&(this.pos+=4-i)}},Ph.prototype.bit8=function(){for(var t=this.width%4,i=this.height-1;i>=0;i--){for(var e=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;if(n<this.palette.length){var s=this.palette[n];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Ph.prototype.bit15=function(){for(var t=this.width%3,i=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&i)/i*255|0,o=(a>>5&i)/i*255|0,u=(a>>10&i)/i*255|0,l=a>>15?255:0,c=r*this.width*4+4*n;this.data[c]=u,this.data[c+1]=o,this.data[c+2]=s,this.data[c+3]=l}this.pos+=t}},Ph.prototype.bit16=function(){for(var t=this.width%3,i=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&i)/i*255|0,u=(s>>5&e)/e*255|0,l=(s>>11)/i*255|0,c=n*this.width*4+4*a;this.data[c]=l,this.data[c+1]=u,this.data[c+2]=o,this.data[c+3]=255}this.pos+=t}},Ph.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+4*e;this.data[s]=a,this.data[s+1]=n,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Ph.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var i=this.bottom_up?t:this.height-1-t,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+4*e;this.data[o]=a,this.data[o+1]=n,this.data[o+2]=r,this.data[o+3]=s}},Ph.prototype.getData=function(){return this.data},function(t){t.processBMP=function(i,e,r,n){var a=new Ph(i,!1),s=a.width,o=a.height,u={data:a.getData(),width:s,height:o},l=new wN(100).encode(u,100);return t.processJPEG.call(this,l,e,r,n)}}(dn.API),Ree.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(i,e,r,n){var a=new Ree(i),s=a.width,o=a.height,u={data:a.getData(),width:s,height:o},l=new wN(100).encode(u,100);return t.processJPEG.call(this,l,e,r,n)}}(dn.API),dn.API.processRGBA=function(t,i,e){for(var r=t.data,n=r.length,a=new Uint8Array(n/4*3),s=new Uint8Array(n/4),o=0,u=0,l=0;l<n;l+=4){var c=r[l],h=r[l+1],d=r[l+2],f=r[l+3];a[o++]=c,a[o++]=h,a[o++]=d,s[u++]=f}var m=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:i,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},dn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},cx=dn.API,GM=cx.getCharWidthsArray=function(t,i){var e,r,n=(i=i||{}).font||this.internal.getFont(),a=i.fontSize||this.internal.getFontSize(),s=i.charSpace||this.internal.getCharSpace(),o=i.widths?i.widths:n.metadata.Unicode.widths,u=o.fof?o.fof:1,l=i.kerning?i.kerning:n.metadata.Unicode.kerning,c=l.fof?l.fof:1,h=i.doKerning!==!1,d=0,f=t.length,m=0,p=o[0]||u,g=[];for(e=0;e<f;e++)r=t.charCodeAt(e),typeof n.metadata.widthOfString=="function"?g.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(d=h&&ts(l[r])==="object"&&!isNaN(parseInt(l[r][m],10))?l[r][m]/c:0,g.push((o[r]||p)/u+d)),m=r;return g},Mee=cx.getStringUnitWidth=function(t,i){var e=(i=i||{}).fontSize||this.internal.getFontSize(),r=i.font||this.internal.getFont(),n=i.charSpace||this.internal.getCharSpace();return cx.processArabic&&(t=cx.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,e,n)/e:GM.apply(this,arguments).reduce(function(a,s){return a+s},0)},Iee=function(t,i,e,r){for(var n=[],a=0,s=t.length,o=0;a!==s&&o+i[a]<e;)o+=i[a],a++;n.push(t.slice(0,a));var u=a;for(o=0;a!==s;)o+i[a]>r&&(n.push(t.slice(u,a)),o=0,u=a),o+=i[a],a++;return u!==a&&n.push(t.slice(u,a)),n},Dee=function(t,i,e){e||(e={});var r,n,a,s,o,u,l,c=[],h=[c],d=e.textIndent||0,f=0,m=0,p=t.split(" "),g=GM.apply(this,[" ",e])[0];if(u=e.lineIndent===-1?p[0].length+2:e.lineIndent||0){var v=Array(u).join(" "),y=[];p.map(function(b){(b=b.split(/\s*\n/)).length>1?y=y.concat(b.map(function(w,C){return(C&&w.length?`
`:"")+w})):y.push(b[0])}),p=y,u=Mee.apply(this,[v,e])}for(a=0,s=p.length;a<s;a++){var x=0;if(r=p[a],u&&r[0]==`
`&&(r=r.substr(1),x=1),d+f+(m=(n=GM.apply(this,[r,e])).reduce(function(b,w){return b+w},0))>i||x){if(m>i){for(o=Iee.apply(this,[r,n,i-(d+f),i]),c.push(o.shift()),c=[o.pop()];o.length;)h.push([o.shift()]);m=n.slice(r.length-(c[0]?c[0].length:0)).reduce(function(b,w){return b+w},0)}else c=[r];h.push(c),d=m+u,f=g}else c.push(r),d+=f+m,f=g}return l=u?function(b,w){return(w?v:"")+b.join(" ")}:function(b){return b.join(" ")},h.map(l)},cx.splitTextToSize=function(t,i,e){var r,n=(e=e||{}).fontSize||this.internal.getFontSize(),a=function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var h=this.internal.getFont(c.fontName,c.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*i/n;a.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/n:0,a.lineIndent=e.lineIndent;var o,u,l=[];for(o=0,u=r.length;o<u;o++)l=l.concat(Dee.apply(this,[r[o],s,a]));return l},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var i="klmnopqrstuvwxyz",e={},r={},n=0;n<i.length;n++)e[i[n]]="0123456789abcdef"[n],r["0123456789abcdef"[n]]=i[n];var a=function(h){return"0x"+parseInt(h,10).toString(16)},s=t.__fontmetrics__.compress=function(h){var d,f,m,p,g=["{"];for(var v in h){if(d=h[v],isNaN(parseInt(v,10))?f="'"+v+"'":(v=parseInt(v,10),f=(f=a(v).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof d=="number")d<0?(m=a(d).slice(3),p="-"):(m=a(d).slice(2),p=""),m=p+m.slice(0,-1)+r[m.slice(-1)];else{if(ts(d)!=="object")throw new Error("Don't know what to do with value type "+ts(d)+".");m=s(d)}g.push(f+m)}return g.push("}"),g.join("")},o=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,f,m,p,g={},v=1,y=g,x=[],b="",w="",C=h.length-1,_=1;_<C;_+=1)(p=h[_])=="'"?d?(m=d.join(""),d=void 0):d=[]:d?d.push(p):p=="{"?(x.push([y,m]),y={},m=void 0):p=="}"?((f=x.pop())[0][f[1]]=y,m=void 0,y=f[0]):p=="-"?v=-1:m===void 0?e.hasOwnProperty(p)?(b+=e[p],m=parseInt(b,16)*v,v=1,b=""):b+=p:e.hasOwnProperty(p)?(w+=e[p],y[m]=parseInt(w,16)*v,v=1,m=void 0,w=""):w+=p;return g},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},c={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var d=h.font,f=c.Unicode[d.postScriptName];f&&(d.metadata.Unicode={},d.metadata.Unicode.widths=f.widths,d.metadata.Unicode.kerning=f.kerning);var m=l.Unicode[d.postScriptName];m&&(d.metadata.Unicode.encoding=m,d.encoding=m.codePages[0])}])}(dn.API),function(t){var i=function(e){for(var r=e.length,n=new Uint8Array(r),a=0;a<r;a++)n[a]=e.charCodeAt(a);return n};t.API.events.push(["addFont",function(e){var r=void 0,n=e.font,a=e.instance;if(!n.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(r=a.existsFileInVFS(n.postScriptName)===!1?a.loadFile(n.postScriptName):a.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?i(o):i(Uw(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(n,r)}}])}(dn),function(t){function i(){return(yn.canvg?Promise.resolve(yn.canvg):import("./chunk-ZLWNTLRN.js")).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}dn.API.addSvgAsImage=function(e,r,n,a,s,o,u,l){if(isNaN(r)||isNaN(n))throw Rs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Rs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=s;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return i().then(function(m){return m.fromString(h,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),r,n,a,s,u,l)})}}(),dn.API.putTotalPages=function(t){var i,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(i=new RegExp(t,"g"),e=this.internal.getNumberOfPages()):(i=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var n=0;n<this.internal.pages[r].length;n++)this.internal.pages[r][n]=this.internal.pages[r][n].replace(i,e);return this},dn.API.viewerPreferences=function(t,i){var e;t=t||{},i=i||!1;var r,n,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),u=[],l=0,c=0,h=0;function d(m,p){var g,v=!1;for(g=0;g<m.length;g+=1)m[g]===p&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,t==="reset"||i===!0){var f=o.length;for(h=0;h<f;h+=1)e[o[h]].value=e[o[h]].defaultValue,e[o[h]].explicitSet=!1}if(ts(t)==="object"){for(n in t)if(a=t[n],d(o,n)&&a!==void 0){if(e[n].type==="boolean"&&typeof a=="boolean")e[n].value=a;else if(e[n].type==="name"&&d(e[n].valueSet,a))e[n].value=a;else if(e[n].type==="integer"&&Number.isInteger(a))e[n].value=a;else if(e[n].type==="array"){for(l=0;l<a.length;l+=1)if(r=!0,a[l].length===1&&typeof a[l][0]=="number")u.push(String(a[l]-1));else if(a[l].length>1){for(c=0;c<a[l].length;c+=1)typeof a[l][c]!="number"&&(r=!1);r===!0&&u.push([a[l][0]-1,a[l][1]-1].join(" "))}e[n].value="["+u.join(" ")+"]"}else e[n].value=e[n].defaultValue;e[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,p=[];for(m in e)e[m].explicitSet===!0&&(e[m].type==="name"?p.push("/"+m+" /"+e[m].value):p.push("/"+m+" "+e[m].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(t){var i=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),l=a.length+s.length+o.length+n.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(n+a+s+o+u),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",i)),this}}(dn.API),function(t){var i=t.API,e=i.pdfEscape16=function(a,s){for(var o,u=s.metadata.Unicode.widths,l=["","0","00","000","0000"],c=[""],h=0,d=a.length;h<d;++h){if(o=s.metadata.characterToGlyph(a.charCodeAt(h)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(h),u.indexOf(o)==-1&&(u.push(o),u.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(l[4-o.length],o)}return c.join("")},r=function(a){var s,o,u,l,c,h,d;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],h=0,d=(o=Object.keys(a).sort(function(f,m){return f-m})).length;h<d;h++)s=o[h],u.length>=100&&(c+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(l=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+l+">"));return u.length&&(c+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};i.events.push(["putFont",function(a){(function(s){var o=s.font,u=s.out,l=s.newObject,c=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,d=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",m=0;m<d.length;m++)f+=String.fromCharCode(d[m]);var p=l();c({data:f,addLength1:!0,objectId:p}),u("endobj");var g=l();c({data:r(o.metadata.toUnicode),addLength1:!0,objectId:g}),u("endobj");var v=l();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+dx(o.fontName)),u("/FontFile2 "+p+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),u("/Flags "+o.metadata.flags),u("/StemV "+o.metadata.stemV),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u(">>"),u("endobj");var y=l();u("<<"),u("/Type /Font"),u("/BaseFont /"+dx(o.fontName)),u("/FontDescriptor "+v+" 0 R"),u("/W "+t.API.PDFObject.convert(h)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+o.encoding+")"),u(">>"),u(">>"),u("endobj"),o.objectNumber=l(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+g+" 0 R"),u("/BaseFont /"+dx(o.fontName)),u("/Encoding /"+o.encoding),u("/DescendantFonts ["+y+" 0 R]"),u(">>"),u("endobj"),o.isAlreadyPutted=!0}})(a)}]),i.events.push(["putFont",function(a){(function(s){var o=s.font,u=s.out,l=s.newObject,c=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,d="",f=0;f<h.length;f++)d+=String.fromCharCode(h[f]);var m=l();c({data:d,addLength1:!0,objectId:m}),u("endobj");var p=l();c({data:r(o.metadata.toUnicode),addLength1:!0,objectId:p}),u("endobj");var g=l();u("<<"),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u("/StemV "+o.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+m+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),u("/FontName /"+dx(o.fontName)),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u(">>"),u("endobj"),o.objectNumber=l();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+dx(o.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),u("endobj"),o.isAlreadyPutted=!0}})(a)}]);var n=function(a){var s,o=a.text||"",u=a.x,l=a.y,c=a.options||{},h=a.mutex||{},d=h.pdfEscape,f=h.activeFontKey,m=h.fonts,p=f,g="",v=0,y="",x=m[p].encoding;if(m[p].encoding!=="Identity-H")return{text:o,x:u,y:l,options:c,mutex:h};for(y=o,p=f,Array.isArray(o)&&(y=o[0]),v=0;v<y.length;v+=1)m[p].metadata.hasOwnProperty("cmap")&&(s=m[p].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),s||y[v].charCodeAt(0)<256&&m[p].metadata.hasOwnProperty("Unicode")?g+=y[v]:g+="";var b="";return parseInt(p.slice(1))<14||x==="WinAnsiEncoding"?b=d(g,p).split("").map(function(w){return w.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(b=e(g,m[p])),h.isHex=!0,{text:b,x:u,y:l,options:c,mutex:h}};i.events.push(["postProcessText",function(a){var s=a.text||"",o=[],u={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var l=0;for(l=0;l<s.length;l+=1)Array.isArray(s[l])&&s[l].length===3?o.push([n(Object.assign({},u,{text:s[l][0]})).text,s[l][1],s[l][2]]):o.push(n(Object.assign({},u,{text:s[l]})).text);a.text=o}else a.text=n(Object.assign({},u,{text:s})).text}])}(dn),function(t){var i=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(e){return i.call(this),this.internal.vFS[e]!==void 0},t.addFileToVFS=function(e,r){return i.call(this),this.internal.vFS[e]=r,this},t.getFileFromVFS=function(e){return i.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(dn.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var n,a,s,o,u,l,c,h=i,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,x=0;this.__bidiEngine__={};var b=function(M){var I=M.charCodeAt(),D=I>>8,k=p[D];return k!==void 0?h[256*k+(255&I)]:D===252||D===253?"AL":v.test(D)?"L":D===8?"R":"N"},w=function(M){for(var I,D=0;D<M.length;D++){if((I=b(M.charAt(D)))==="L")return!1;if(I==="R")return!0}return!1},C=function(M,I,D,k){var G,R,H,j,Z=I[k];switch(Z){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(Z="AN");break;case"AL":y=!0,Z="R";break;case"WS":Z="N";break;case"CS":k<1||k+1>=I.length||(G=D[k-1])!=="EN"&&G!=="AN"||(R=I[k+1])!=="EN"&&R!=="AN"?Z="N":y&&(R="AN"),Z=R===G?R:"N";break;case"ES":Z=(G=k>0?D[k-1]:"B")==="EN"&&k+1<I.length&&I[k+1]==="EN"?"EN":"N";break;case"ET":if(k>0&&D[k-1]==="EN"){Z="EN";break}if(y){Z="N";break}for(H=k+1,j=I.length;H<j&&I[H]==="ET";)H++;Z=H<j&&I[H]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(j=I.length,H=k+1;H<j&&I[H]==="NSM";)H++;if(H<j){var ee=M[k],Y=ee>=1425&&ee<=2303||ee===64286;if(G=I[H],Y&&(G==="R"||G==="AL")){Z="R";break}}}Z=k<1||(G=I[k-1])==="B"?"N":D[k-1];break;case"B":y=!1,n=!0,Z=x;break;case"S":a=!0,Z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":Z="N"}return Z},_=function(M,I,D){var k=M.split("");return D&&S(k,D,{hiLevel:x}),k.reverse(),I&&I.reverse(),k.join("")},S=function(M,I,D){var k,G,R,H,j,Z=-1,ee=M.length,Y=0,V=[],O=x?f:d,F=[];for(y=!1,n=!1,a=!1,G=0;G<ee;G++)F[G]=b(M[G]);for(R=0;R<ee;R++){if(j=Y,V[R]=C(M,F,V,R),k=240&(Y=O[j][m[V[R]]]),Y&=15,I[R]=H=O[Y][5],k>0)if(k===16){for(G=Z;G<R;G++)I[G]=1;Z=-1}else Z=-1;if(O[Y][6])Z===-1&&(Z=R);else if(Z>-1){for(G=Z;G<R;G++)I[G]=H;Z=-1}F[R]==="B"&&(I[R]=0),D.hiLevel|=H}a&&function(X,ie,re){for(var q=0;q<re;q++)if(X[q]==="S"){ie[q]=x;for(var ae=q-1;ae>=0&&X[ae]==="WS";ae--)ie[ae]=x}}(F,I,ee)},T=function(M,I,D,k,G){if(!(G.hiLevel<M)){if(M===1&&x===1&&!n)return I.reverse(),void(D&&D.reverse());for(var R,H,j,Z,ee=I.length,Y=0;Y<ee;){if(k[Y]>=M){for(j=Y+1;j<ee&&k[j]>=M;)j++;for(Z=Y,H=j-1;Z<H;Z++,H--)R=I[Z],I[Z]=I[H],I[H]=R,D&&(R=D[Z],D[Z]=D[H],D[H]=R);Y=j}Y++}}},A=function(M,I,D){var k=M.split(""),G={hiLevel:x};return D||(D=[]),S(k,D,G),function(R,H,j){if(j.hiLevel!==0&&c)for(var Z,ee=0;ee<R.length;ee++)H[ee]===1&&(Z=g.indexOf(R[ee]))>=0&&(R[ee]=g[Z+1])}(k,D,G),T(2,k,I,D,G),T(1,k,I,D,G),k.join("")};return this.__bidiEngine__.doBidiReorder=function(M,I,D){if(function(G,R){if(R)for(var H=0;H<G.length;H++)R[H]=H;o===void 0&&(o=w(G)),l===void 0&&(l=w(G))}(M,I),s||!u||l)if(s&&u&&o^l)x=o?1:0,M=_(M,I,D);else if(!s&&u&&l)x=o?1:0,M=A(M,I,D),M=_(M,I);else if(!s||o||u||l){if(s&&!u&&o^l)M=_(M,I),o?(x=0,M=A(M,I,D)):(x=1,M=A(M,I,D),M=_(M,I));else if(s&&o&&!u&&l)x=1,M=A(M,I,D),M=_(M,I);else if(!s&&!u&&o^l){var k=c;o?(x=1,M=A(M,I,D),x=0,c=!1,M=A(M,I,D),c=k):(x=0,M=A(M,I,D),M=_(M,I),x=1,c=!1,M=A(M,I,D),c=k,M=_(M,I))}}else x=0,M=A(M,I,D);else x=o?1:0,M=A(M,I,D);return M},this.__bidiEngine__.setOptions=function(M){M&&(s=M.isInputVisual,u=M.isOutputVisual,o=M.isInputRtl,l=M.isOutputRtl,c=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var i=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var n=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,e.setOptions(a),Object.prototype.toString.call(n)==="[object Array]"){var o=0;for(s=[],o=0;o<n.length;o+=1)Object.prototype.toString.call(n[o])==="[object Array]"?s.push([e.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):s.push([e.doBidiReorder(n[o])]);r.text=s}else r.text=e.doBidiReorder(n);e.setOptions({isInputVisual:!0})}])}(dn),dn.API.TTFFont=function(){function t(i){var e;if(this.rawData=i,e=this.contents=new y0(i),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new DOe(this),this.registerTTF()}return t.open=function(i){return new t(i)},t.prototype.parse=function(){return this.directory=new gOe(this.contents),this.head=new yOe(this),this.name=new COe(this),this.cmap=new jee(this),this.toUnicode={},this.hhea=new xOe(this),this.maxp=new SOe(this),this.hmtx=new TOe(this),this.post=new _Oe(this),this.os2=new bOe(this),this.loca=new IOe(this),this.glyf=new EOe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var i,e,r,n,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,o,u,l;for(l=[],s=0,o=(u=this.bbox).length;s<o;s++)i=u[s],l.push(Math.round(i*this.scaleFactor));return l}.call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),32768&(e=n>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(i){var e;return((e=this.cmap.unicode)!=null?e.codeMap[i]:void 0)||0},t.prototype.widthOfGlyph=function(i){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(i).advance*e},t.prototype.widthOfString=function(i,e,r){var n,a,s,o;for(s=0,a=0,o=(i=""+i).length;0<=o?a<o:a>o;a=0<=o?++a:--a)n=i.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/e)||0;return s*(e/1e3)},t.prototype.lineHeight=function(i,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*i},t}();var kh,y0=function(){function t(i){this.data=i??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(i){return this.data[this.pos++]=i},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(i){return this.writeByte(i>>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt32=function(){var i;return(i=this.readUInt32())>=2147483648?i-4294967296:i},t.prototype.writeInt32=function(i){return i<0&&(i+=4294967296),this.writeUInt32(i)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(i){return this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt16=function(){var i;return(i=this.readUInt16())>=32768?i-65536:i},t.prototype.writeInt16=function(i){return i<0&&(i+=65536),this.writeUInt16(i)},t.prototype.readString=function(i){var e,r;for(r=[],e=0;0<=i?e<i:e>i;e=0<=i?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(i){var e,r,n;for(n=[],e=0,r=i.length;0<=r?e<r:e>r;e=0<=r?++e:--e)n.push(this.writeByte(i.charCodeAt(e)));return n},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(i){return this.writeInt16(i)},t.prototype.readLongLong=function(){var i,e,r,n,a,s,o,u;return i=this.readByte(),e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),128&i?-1*(72057594037927940*(255^i)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^u)+1):72057594037927940*i+281474976710656*e+1099511627776*r+4294967296*n+16777216*a+65536*s+256*o+u},t.prototype.writeLongLong=function(i){var e,r;return e=Math.floor(i/4294967296),r=4294967295&i,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(i){return this.writeInt32(i)},t.prototype.read=function(i){var e,r;for(e=[],r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)e.push(this.readByte());return e},t.prototype.write=function(i){var e,r,n,a;for(a=[],r=0,n=i.length;r<n;r++)e=i[r],a.push(this.writeByte(e));return a},t}(),gOe=function(){var t;function i(e){var r,n,a;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,a=this.tableCount;0<=a?n<a:n>a;n=0<=a?++n:--n)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return i.prototype.encode=function(e){var r,n,a,s,o,u,l,c,h,d,f,m,p;for(p in f=Object.keys(e).length,u=Math.log(2),h=16*Math.floor(Math.log(f)/u),s=Math.floor(h/u),c=16*f-h,(n=new y0).writeInt(this.scalarType),n.writeShort(f),n.writeShort(h),n.writeShort(s),n.writeShort(c),a=16*f,l=n.pos+a,o=null,m=[],e)for(d=e[p],n.writeString(p),n.writeInt(t(d)),n.writeInt(l),n.writeInt(d.length),m=m.concat(d),p==="head"&&(o=l),l+=d.length;l%4;)m.push(0),l++;return n.write(m),r=2981146554-t(n.data),n.pos=o+8,n.writeUInt32(r),n.data},t=function(e){var r,n,a,s;for(e=Wee.call(e);e.length%4;)e.push(0);for(a=new y0(e),n=0,r=0,s=e.length;r<s;r=r+=4)n+=a.readUInt32();return 4294967295&n},i}(),vOe={}.hasOwnProperty,Nf=function(t,i){for(var e in i)vOe.call(i,e)&&(t[e]=i[e]);function r(){this.constructor=t}return r.prototype=i.prototype,t.prototype=new r,t.__super__=i.prototype,t};kh=function(){function t(i){var e;this.file=i,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var yOe=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return Nf(i,kh),i.prototype.tag="head",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},i.prototype.encode=function(e){var r;return(r=new y0).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},i}(),kee=function(){function t(i,e){var r,n,a,s,o,u,l,c,h,d,f,m,p,g,v,y,x;switch(this.platformID=i.readUInt16(),this.encodingID=i.readShort(),this.offset=e+i.readInt(),h=i.pos,i.pos=this.offset,this.format=i.readUInt16(),this.length=i.readUInt16(),this.language=i.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=i.readByte();break;case 4:for(f=i.readUInt16(),d=f/2,i.pos+=6,a=function(){var b,w;for(w=[],u=b=0;0<=d?b<d:b>d;u=0<=d?++b:--b)w.push(i.readUInt16());return w}(),i.pos+=2,p=function(){var b,w;for(w=[],u=b=0;0<=d?b<d:b>d;u=0<=d?++b:--b)w.push(i.readUInt16());return w}(),l=function(){var b,w;for(w=[],u=b=0;0<=d?b<d:b>d;u=0<=d?++b:--b)w.push(i.readUInt16());return w}(),c=function(){var b,w;for(w=[],u=b=0;0<=d?b<d:b>d;u=0<=d?++b:--b)w.push(i.readUInt16());return w}(),n=(this.length-i.pos+this.offset)/2,o=function(){var b,w;for(w=[],u=b=0;0<=n?b<n:b>n;u=0<=n?++b:--b)w.push(i.readUInt16());return w}(),u=v=0,x=a.length;v<x;u=++v)for(g=a[u],r=y=m=p[u];m<=g?y<=g:y>=g;r=m<=g?++y:--y)c[u]===0?s=r+l[u]:(s=o[c[u]/2+(r-m)-(d-u)]||0)!==0&&(s+=l[u]),this.codeMap[r]=65535&s}i.pos=h}return t.encode=function(i,e){var r,n,a,s,o,u,l,c,h,d,f,m,p,g,v,y,x,b,w,C,_,S,T,A,M,I,D,k,G,R,H,j,Z,ee,Y,V,O,F,X,ie,re,q,ae,ue,me,be;switch(k=new y0,s=Object.keys(i).sort(function(ke,ze){return ke-ze}),e){case"macroman":for(p=0,g=function(){var ke=[];for(m=0;m<256;++m)ke.push(0);return ke}(),y={0:0},a={},G=0,Z=s.length;G<Z;G++)y[ae=i[n=s[G]]]==null&&(y[ae]=++p),a[n]={old:i[n],new:y[i[n]]},g[n]=y[i[n]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(g),{charMap:a,subtable:k.data,maxGlyphID:p+1};case"unicode":for(I=[],h=[],x=0,y={},r={},v=l=null,R=0,ee=s.length;R<ee;R++)y[w=i[n=s[R]]]==null&&(y[w]=++x),r[n]={old:w,new:y[w]},o=y[w]-n,v!=null&&o===l||(v&&h.push(v),I.push(n),l=o),v=n;for(v&&h.push(v),h.push(65535),I.push(65535),A=2*(T=I.length),S=2*Math.pow(Math.log(T)/Math.LN2,2),d=Math.log(S/2)/Math.LN2,_=2*T-S,u=[],C=[],f=[],m=H=0,Y=I.length;H<Y;m=++H){if(M=I[m],c=h[m],M===65535){u.push(0),C.push(0);break}if(M-(D=r[M].new)>=32768)for(u.push(0),C.push(2*(f.length+T-m)),n=j=M;M<=c?j<=c:j>=c;n=M<=c?++j:--j)f.push(r[n].new);else u.push(D-M),C.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*T+2*f.length),k.writeUInt16(0),k.writeUInt16(A),k.writeUInt16(S),k.writeUInt16(d),k.writeUInt16(_),re=0,V=h.length;re<V;re++)n=h[re],k.writeUInt16(n);for(k.writeUInt16(0),q=0,O=I.length;q<O;q++)n=I[q],k.writeUInt16(n);for(ue=0,F=u.length;ue<F;ue++)o=u[ue],k.writeUInt16(o);for(me=0,X=C.length;me<X;me++)b=C[me],k.writeUInt16(b);for(be=0,ie=f.length;be<ie;be++)p=f[be],k.writeUInt16(p);return{charMap:r,subtable:k.data,maxGlyphID:x+1}}},t}(),jee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return Nf(i,kh),i.prototype.tag="cmap",i.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new kee(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},i.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=kee.encode(e,r),(a=new y0).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},i}(),xOe=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return Nf(i,kh),i.prototype.tag="hhea",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},i}(),bOe=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return Nf(i,kh),i.prototype.tag="OS/2",i.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},i}(),_Oe=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return Nf(i,kh),i.prototype.tag="post",i.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 196608:break;case 262144:return this.map=function(){var o,u,l;for(l=[],s=o=0,u=this.file.maxp.numGlyphs;0<=u?o<u:o>u;s=0<=u?++o:--o)l.push(e.readUInt32());return l}.call(this)}},i}(),wOe=function(t,i){this.raw=t,this.length=t.length,this.platformID=i.platformID,this.encodingID=i.encodingID,this.languageID=i.languageID},COe=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return Nf(i,kh),i.prototype.tag="name",i.prototype.parse=function(e){var r,n,a,s,o,u,l,c,h,d,f;for(e.pos=this.offset,e.readShort(),r=e.readShort(),u=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(l={},s=h=0,d=n.length;h<d;s=++h)a=n[s],e.pos=a.offset,c=e.readString(a.length),o=new wOe(c,a),l[f=a.nameID]==null&&(l[f]=[]),l[a.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},i}(),SOe=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return Nf(i,kh),i.prototype.tag="maxp",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},i}(),TOe=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return Nf(i,kh),i.prototype.tag="hmtx",i.prototype.parse=function(e){var r,n,a,s,o,u,l;for(e.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,h;for(h=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)h.push(e.readInt16());return h}(),this.widths=function(){var c,h,d,f;for(f=[],c=0,h=(d=this.metrics).length;c<h;c++)s=d[c],f.push(s.advance);return f}.call(this),n=this.widths[this.widths.length-1],l=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)l.push(this.widths.push(n));return l},i.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},i}(),Wee=[].slice,EOe=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return Nf(i,kh),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(e){var r,n,a,s,o,u,l,c,h,d;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(a=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(u=new y0(r.read(a))).readShort(),c=u.readShort(),d=u.readShort(),l=u.readShort(),h=u.readShort(),this.cache[e]=o===-1?new MOe(u,c,d,l,h):new AOe(u,o,c,d,l,h),this.cache[e]))},i.prototype.encode=function(e,r,n){var a,s,o,u,l;for(o=[],s=[],u=0,l=r.length;u<l;u++)a=e[r[u]],s.push(o.length),a&&(o=o.concat(a.encode(n)));return s.push(o.length),{table:o,offsets:s}},i}(),AOe=function(){function t(i,e,r,n,a,s){this.raw=i,this.numberOfContours=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),MOe=function(){function t(i,e,r,n,a){var s,o;for(this.raw=i,this.xMin=e,this.yMin=r,this.xMax=n,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var i,e,r;for(e=new y0(Wee.call(this.raw.data)),i=0,r=this.glyphIDs.length;i<r;++i)e.pos=this.glyphOffsets[i];return e.data},t}(),IOe=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return Nf(i,kh),i.prototype.tag="loca",i.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*e.readUInt16());return s}.call(this):function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(e.readUInt32());return s}.call(this)},i.prototype.indexOf=function(e){return this.offsets[e]},i.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},i.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<n.length;++o)if(n[o]=a,s<r.length&&r[s]==o){++s,n[o]=a;var u=this.offsets[o],l=this.offsets[o+1]-u;l>0&&(a+=l)}for(var c=new Array(4*n.length),h=0;h<n.length;++h)c[4*h+3]=255&n[h],c[4*h+2]=(65280&n[h])>>8,c[4*h+1]=(16711680&n[h])>>16,c[4*h]=(4278190080&n[h])>>24;return c},i}(),DOe=function(){function t(i){this.font=i,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var i,e,r,n,a;for(e in n=this.font.cmap.tables[0].codeMap,i={},a=this.subset)r=a[e],i[e]=n[r];return i},t.prototype.glyphsFor=function(i){var e,r,n,a,s,o,u;for(n={},s=0,o=i.length;s<o;s++)n[a=i[s]]=this.font.glyf.glyphFor(a);for(a in e=[],n)(r=n[a])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(a in u=this.glyphsFor(e))r=u[a],n[a]=r;return n},t.prototype.encode=function(i,e){var r,n,a,s,o,u,l,c,h,d,f,m,p,g,v;for(n in r=jee.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(i),f={0:0},v=r.charMap)f[(u=v[n]).old]=u.new;for(m in d=r.maxGlyphID,s)m in f||(f[m]=d++);return c=function(y){var x,b;for(x in b={},y)b[y[x]]=x;return b}(f),h=Object.keys(c).sort(function(y,x){return y-x}),p=function(){var y,x,b;for(b=[],y=0,x=h.length;y<x;y++)o=h[y],b.push(c[o]);return b}(),a=this.font.glyf.encode(s,p,f),l=this.font.loca.encode(a.offsets,p),g={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();dn.API.PDFObject=function(){var t;function i(){}return t=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},i.convert=function(e){var r,n,a,s;if(Array.isArray(e))return"["+function(){var o,u,l;for(l=[],o=0,u=e.length;o<u;o++)r=e[o],l.push(i.convert(r));return l}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+t(e.getUTCFullYear(),4)+t(e.getUTCMonth(),2)+t(e.getUTCDate(),2)+t(e.getUTCHours(),2)+t(e.getUTCMinutes(),2)+t(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(n in a=["<<"],e)s=e[n],a.push("/"+n+" "+i.convert(s));return a.push(">>"),a.join(`
`)}return""+e},i}();var Go=Ro(DN());function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},rv.apply(this,arguments)}function POe(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t,RN(t,i)}function RN(t,i){return RN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},RN(t,i)}function Wp(t,i,e,r){i===void 0&&(i=""),r===void 0&&(r={});var n=document.createElement(t);return i&&(n.className=i),Object.keys(r).forEach(function(a){if(typeof r[a]=="function"){var s=a.indexOf("on")===0?a.substr(2).toLowerCase():a;n.addEventListener(s,r[a])}else a==="html"?n.innerHTML=r[a]:a==="text"?n.innerText=r[a]:n.setAttribute(a,r[a])}),e&&e.appendChild(n),n}function Hw(t){t.preventDefault(),t.stopPropagation()}var JM=function(){return[].slice.call(arguments).filter(Boolean).join(" ").trim()};function sv(t,i){t&&t.classList&&(Array.isArray(i)?i:[i]).forEach(function(e){t.classList.contains(e)||t.classList.add(e)})}function Bf(t,i){t&&t.classList&&(Array.isArray(i)?i:[i]).forEach(function(e){t.classList.contains(e)&&t.classList.remove(e)})}var qM,eI=13,kN=40,$ee=38,ROe=[eI,27,kN,$ee,37,39],kOe=function(){function t(e){var r=this,n=e.handleSubmit,a=e.searchLabel,s=e.classNames,o=s===void 0?{}:s;this.container=void 0,this.form=void 0,this.input=void 0,this.handleSubmit=void 0,this.hasError=!1,this.container=Wp("div",JM("geosearch",o.container)),this.form=Wp("form",["",o.form].join(" "),this.container,{autocomplete:"none",onClick:Hw,onDblClick:Hw,touchStart:Hw,touchEnd:Hw}),this.input=Wp("input",["glass",o.input].join(" "),this.form,{type:"text",placeholder:a||"search",onInput:this.onInput,onKeyUp:function(u){return r.onKeyUp(u)},onKeyPress:function(u){return r.onKeyPress(u)},onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(){r.input.focus(),r.input.dispatchEvent(new Event("focus"))}}),this.handleSubmit=n}var i=t.prototype;return i.onFocus=function(){sv(this.form,"active")},i.onBlur=function(){Bf(this.form,"active")},i.onSubmit=function(e){try{var r=this;return Hw(e),Bf(n=r.container,"error"),sv(n,"pending"),Promise.resolve(r.handleSubmit({query:r.input.value})).then(function(){Bf(r.container,"pending")})}catch(a){return Promise.reject(a)}var n},i.onInput=function(){this.hasError&&(Bf(this.container,"error"),this.hasError=!1)},i.onKeyUp=function(e){e.keyCode===27&&(Bf(this.container,["pending","active"]),this.input.value="",document.body.focus(),document.body.blur())},i.onKeyPress=function(e){e.keyCode===eI&&this.onSubmit(e)},i.setQuery=function(e){this.input.value=e},t}(),FOe=function(){function t(e){var r=this,n=e.handleClick,a=e.classNames,s=a===void 0?{}:a,o=e.notFoundMessage;this.handleClick=void 0,this.selected=-1,this.results=[],this.container=void 0,this.resultItem=void 0,this.notFoundMessage=void 0,this.onClick=function(u){if(typeof r.handleClick=="function"){var l=u.target;if(l&&r.container.contains(l)&&l.hasAttribute("data-key")){var c=Number(l.getAttribute("data-key"));r.handleClick({result:r.results[c]})}}},this.handleClick=n,this.notFoundMessage=o?Wp("div",JM(s.notfound),void 0,{html:o}):void 0,this.container=Wp("div",JM("results",s.resultlist)),this.container.addEventListener("click",this.onClick,!0),this.resultItem=Wp("div",JM(s.item))}var i=t.prototype;return i.render=function(e,r){var n=this;e===void 0&&(e=[]),this.clear(),e.forEach(function(a,s){var o=n.resultItem.cloneNode(!0);o.setAttribute("data-key",""+s),o.innerHTML=r({result:a}),n.container.appendChild(o)}),e.length>0?(sv(this.container.parentElement,"open"),sv(this.container,"active")):this.notFoundMessage&&(this.container.appendChild(this.notFoundMessage),sv(this.container.parentElement,"open")),this.results=e},i.select=function(e){return Array.from(this.container.children).forEach(function(r,n){return n===e?sv(r,"active"):Bf(r,"active")}),this.selected=e,this.results[e]},i.count=function(){return this.results?this.results.length:0},i.clear=function(){for(this.selected=-1;this.container.lastChild;)this.container.removeChild(this.container.lastChild);Bf(this.container.parentElement,"open"),Bf(this.container,"active")},t}(),PN={position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(t){return""+t.result.label},resultFormat:function(t){return""+t.result.label},marker:{icon:Go&&Go.Icon?new Go.Icon.Default:void 0,draggable:!1},maxMarkers:1,maxSuggestions:5,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",clearSearchLabel:"Clear search",notFoundMessage:"",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:"",resultlist:"",item:"",notfound:"leaflet-bar-notfound"},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1,updateMap:!0,resetButton:"\xD7"},OOe="Leaflet must be loaded before instantiating the GeoSearch control",g_t={options:rv({},PN),classNames:rv({},PN.classNames),initialize:function(t){var i,e,r,n,a=this;if(!Go)throw new Error(OOe);if(!t.provider)throw new Error("Provider is missing from options");this.options=rv({},PN,t),this.classNames=rv({},this.classNames,t.classNames),this.markers=new Go.FeatureGroup,this.classNames.container+=" leaflet-geosearch-"+this.options.style,this.searchElement=new kOe({searchLabel:this.options.searchLabel,classNames:{container:this.classNames.container,form:this.classNames.form,input:this.classNames.input},handleSubmit:function(s){return a.onSubmit(s)}}),this.button=Wp("a",this.classNames.button,this.searchElement.container,{title:this.options.searchLabel,href:"#",onClick:function(s){return a.onClick(s)}}),Go.DomEvent.disableClickPropagation(this.button),this.resetButton=Wp("button",this.classNames.resetButton,this.searchElement.form,{text:this.options.resetButton,"aria-label":this.options.clearSearchLabel,onClick:function(){a.searchElement.input.value===""?a.close():a.clearResults(null,!0)}}),Go.DomEvent.disableClickPropagation(this.resetButton),this.options.autoComplete&&(this.resultList=new FOe({handleClick:function(s){var o=s.result;a.searchElement.input.value=o.label,a.onSubmit({query:o.label,data:o})},classNames:{resultlist:this.classNames.resultlist,item:this.classNames.item,notfound:this.classNames.notfound},notFoundMessage:this.options.notFoundMessage}),this.searchElement.form.appendChild(this.resultList.container),this.searchElement.input.addEventListener("keyup",(i=function(s){return a.autoSearch(s)},(e=this.options.autoCompleteDelay)===void 0&&(e=250),r===void 0&&(r=!1),function(){var s=[].slice.call(arguments);n&&clearTimeout(n),n=setTimeout(function(){n=null,r||i.apply(void 0,s)},e),r&&!n&&i.apply(void 0,s)}),!0),this.searchElement.input.addEventListener("keydown",function(s){return a.selectResult(s)},!0),this.searchElement.input.addEventListener("keydown",function(s){return a.clearResults(s,!0)},!0)),this.searchElement.form.addEventListener("click",function(s){s.preventDefault()},!1)},onAdd:function(t){var i=this.options,e=i.showMarker,r=i.style;if(this.map=t,e&&this.markers.addTo(t),r==="bar"){var n=t.getContainer().querySelector(".leaflet-control-container");this.container=Wp("div","leaflet-control-geosearch leaflet-geosearch-bar"),this.container.appendChild(this.searchElement.form),n.appendChild(this.container)}return Go.DomEvent.disableClickPropagation(this.searchElement.form),this.searchElement.container},onRemove:function(){var t;return(t=this.container)==null||t.remove(),this},open:function(){var t=this.searchElement,i=t.input;sv(t.container,"active"),i.focus()},close:function(){Bf(this.searchElement.container,"active"),this.clearResults()},onClick:function(t){t.preventDefault(),t.stopPropagation(),this.searchElement.container.classList.contains("active")?this.close():this.open()},selectResult:function(t){if([eI,kN,$ee].indexOf(t.keyCode)!==-1)if(t.preventDefault(),t.keyCode!==eI){var i=this.resultList.count()-1;if(!(i<0)){var e=this.resultList.selected,r=t.keyCode===kN?e+1:e-1,n=this.resultList.select(r<0?i:r>i?0:r);this.searchElement.input.value=n.label}}else{var a=this.resultList.select(this.resultList.selected);this.onSubmit({query:this.searchElement.input.value,data:a})}},clearResults:function(t,i){if(i===void 0&&(i=!1),!t||t.keyCode===27){var e=this.options,r=e.autoComplete;!i&&e.keepResult||(this.searchElement.input.value="",this.markers.clearLayers()),r&&this.resultList.clear()}},autoSearch:function(t){try{var i=this;if(ROe.indexOf(t.keyCode)>-1)return Promise.resolve();var e=t.target.value,r=i.options.provider,n=function(){if(e.length)return Promise.resolve(r.search({query:e})).then(function(a){a=a.slice(0,i.options.maxSuggestions),i.resultList.render(a,i.options.resultFormat)});i.resultList.clear()}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(a){return Promise.reject(a)}},onSubmit:function(t){try{var i=this;return i.resultList.clear(),Promise.resolve(i.options.provider.search(t)).then(function(e){e&&e.length>0&&i.showResult(e[0],t)})}catch(e){return Promise.reject(e)}},showResult:function(t,i){var e=this.options,r=e.autoClose,n=e.updateMap,a=this.markers.getLayers();a.length>=this.options.maxMarkers&&this.markers.removeLayer(a[0]);var s=this.addMarker(t,i);n&&this.centerMap(t),this.map.fireEvent("geosearch/showlocation",{location:t,marker:s}),r&&this.closeResults()},closeResults:function(){var t=this.searchElement.container;t.classList.contains("active")&&Bf(t,"active"),this.clearResults()},addMarker:function(t,i){var e=this,r=this.options,n=r.marker,a=r.showPopup,s=r.popupFormat,o=new Go.Marker([t.y,t.x],n),u=t.label;return typeof s=="function"&&(u=s({query:i,result:t})),o.bindPopup(u),this.markers.addLayer(o),a&&o.openPopup(),n.draggable&&o.on("dragend",function(l){e.map.fireEvent("geosearch/marker/dragend",{location:o.getLatLng(),event:l})}),o},centerMap:function(t){var i=this.options,e=i.retainZoomLevel,r=i.animateZoom,n=t.bounds?new Go.LatLngBounds(t.bounds):new Go.LatLng(t.y,t.x).toBounds(10),a=n.isValid()?n:this.markers.getBounds();!e&&n.isValid()&&!t.bounds||e||!n.isValid()?this.map.setView(a.getCenter(),this.getZoom(),{animate:r}):this.map.fitBounds(a,{animate:r})},getZoom:function(){var t=this.options,i=t.zoomLevel;return t.retainZoomLevel?this.map.getZoom():i}};(function(t){t[t.SEARCH=0]="SEARCH",t[t.REVERSE=1]="REVERSE"})(qM||(qM={}));var LOe=function(){function t(e){e===void 0&&(e={}),this.options=void 0,this.options=e}var i=t.prototype;return i.getParamString=function(e){e===void 0&&(e={});var r=rv({},this.options.params,e);return Object.keys(r).map(function(n){return encodeURIComponent(n)+"="+encodeURIComponent(r[n])}).join("&")},i.getUrl=function(e,r){return e+"?"+this.getParamString(r)},i.search=function(e){try{var r=this,n=r.endpoint({query:e.query,type:qM.SEARCH});return Promise.resolve(fetch(n)).then(function(a){return Promise.resolve(a.json()).then(function(s){return r.parse({data:s})})})}catch(a){return Promise.reject(a)}},t}();var Yee;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Yee||(Yee={}));var Qee=function(t){function i(r){var n;r===void 0&&(r={}),(n=t.call(this,r)||this).searchUrl=void 0,n.reverseUrl=void 0;var a="https://nominatim.openstreetmap.org";return n.searchUrl=r.searchUrl||a+"/search",n.reverseUrl=r.reverseUrl||a+"/reverse",n}POe(i,t);var e=i.prototype;return e.endpoint=function(r){var n=r.query,a=r.type,s=typeof n=="string"?{q:n}:n;return s.format="json",this.getUrl(a===qM.REVERSE?this.reverseUrl:this.searchUrl,s)},e.parse=function(r){return(Array.isArray(r.data)?r.data:[r.data]).map(function(n){return{x:Number(n.lon),y:Number(n.lat),label:n.display_name,bounds:[[parseFloat(n.boundingbox[0]),parseFloat(n.boundingbox[2])],[parseFloat(n.boundingbox[1]),parseFloat(n.boundingbox[3])]],raw:n}})},i}(LOe);var Kee=(()=>{class t{constructor(){this.provider=new Qee({params:{addressdetails:1}})}search(e){return Mt(this,null,function*(){if(!e)return[];try{return yield this.provider.search({query:e})}catch(r){return console.error("Error searching location:",r),[]}})}getAdministrativeBoundary(e){return Mt(this,null,function*(){let r=`https://nominatim.openstreetmap.org/details.php?format=json&place_id=${e}`;try{let n=yield fetch(r);if(!n.ok)throw new Error(`Failed to fetch administrative boundary: ${n.statusText}`);let a=yield n.json();return a&&a.geometry&&a.geometry.coordinates?a.geometry.coordinates:a.boundingbox?[[parseFloat(a.boundingbox[0]),parseFloat(a.boundingbox[2])],[parseFloat(a.boundingbox[1]),parseFloat(a.boundingbox[3])]]:(console.warn("No boundary data found"),null)}catch(n){return console.error("Error fetching administrative boundary:",n),null}})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ww(t){return t+.5|0}var x0=(t,i,e)=>Math.max(Math.min(t,e),i);function Gw(t){return x0(Ww(t*2.55),0,255)}function b0(t){return x0(Ww(t*255),0,255)}function Xp(t){return x0(Ww(t/2.55)/100,0,1)}function Zee(t){return x0(Ww(t*100),0,100)}var zd={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ON=[..."0123456789ABCDEF"],BOe=t=>ON[t&15],VOe=t=>ON[(t&240)>>4]+ON[t&15],tI=t=>(t&240)>>4===(t&15),zOe=t=>tI(t.r)&&tI(t.g)&&tI(t.b)&&tI(t.a);function UOe(t){var i=t.length,e;return t[0]==="#"&&(i===4||i===5?e={r:255&zd[t[1]]*17,g:255&zd[t[2]]*17,b:255&zd[t[3]]*17,a:i===5?zd[t[4]]*17:255}:(i===7||i===9)&&(e={r:zd[t[1]]<<4|zd[t[2]],g:zd[t[3]]<<4|zd[t[4]],b:zd[t[5]]<<4|zd[t[6]],a:i===9?zd[t[7]]<<4|zd[t[8]]:255})),e}var HOe=(t,i)=>t<255?i(t):"";function GOe(t){var i=zOe(t)?BOe:VOe;return t?"#"+i(t.r)+i(t.g)+i(t.b)+HOe(t.a,i):void 0}var jOe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tte(t,i,e){let r=i*Math.min(e,1-e),n=(a,s=(a+t/30)%12)=>e-r*Math.max(Math.min(s-3,9-s,1),-1);return[n(0),n(8),n(4)]}function WOe(t,i,e){let r=(n,a=(n+t/60)%6)=>e-e*i*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function XOe(t,i,e){let r=tte(t,1,.5),n;for(i+e>1&&(n=1/(i+e),i*=n,e*=n),n=0;n<3;n++)r[n]*=1-i-e,r[n]+=i;return r}function YOe(t,i,e,r,n){return t===n?(i-e)/r+(i<e?6:0):i===n?(e-t)/r+2:(t-i)/r+4}function LN(t){let e=t.r/255,r=t.g/255,n=t.b/255,a=Math.max(e,r,n),s=Math.min(e,r,n),o=(a+s)/2,u,l,c;return a!==s&&(c=a-s,l=o>.5?c/(2-a-s):c/(a+s),u=YOe(e,r,n,c,a),u=u*60+.5),[u|0,l||0,o]}function NN(t,i,e,r){return(Array.isArray(i)?t(i[0],i[1],i[2]):t(i,e,r)).map(b0)}function BN(t,i,e){return NN(tte,t,i,e)}function $Oe(t,i,e){return NN(XOe,t,i,e)}function QOe(t,i,e){return NN(WOe,t,i,e)}function ite(t){return(t%360+360)%360}function KOe(t){let i=jOe.exec(t),e=255,r;if(!i)return;i[5]!==r&&(e=i[6]?Gw(+i[5]):b0(+i[5]));let n=ite(+i[2]),a=+i[3]/100,s=+i[4]/100;return i[1]==="hwb"?r=$Oe(n,a,s):i[1]==="hsv"?r=QOe(n,a,s):r=BN(n,a,s),{r:r[0],g:r[1],b:r[2],a:e}}function ZOe(t,i){var e=LN(t);e[0]=ite(e[0]+i),e=BN(e),t.r=e[0],t.g=e[1],t.b=e[2]}function JOe(t){if(!t)return;let i=LN(t),e=i[0],r=Zee(i[1]),n=Zee(i[2]);return t.a<255?`hsla(${e}, ${r}%, ${n}%, ${Xp(t.a)})`:`hsl(${e}, ${r}%, ${n}%)`}var Jee={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qee={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qOe(){let t={},i=Object.keys(qee),e=Object.keys(Jee),r,n,a,s,o;for(r=0;r<i.length;r++){for(s=o=i[r],n=0;n<e.length;n++)a=e[n],o=o.replace(a,Jee[a]);a=parseInt(qee[s],16),t[o]=[a>>16&255,a>>8&255,a&255]}return t}var iI;function eLe(t){iI||(iI=qOe(),iI.transparent=[0,0,0,0]);let i=iI[t.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:i.length===4?i[3]:255}}var tLe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function iLe(t){let i=tLe.exec(t),e=255,r,n,a;if(i){if(i[7]!==r){let s=+i[7];e=i[8]?Gw(s):x0(s*255,0,255)}return r=+i[1],n=+i[3],a=+i[5],r=255&(i[2]?Gw(r):x0(r,0,255)),n=255&(i[4]?Gw(n):x0(n,0,255)),a=255&(i[6]?Gw(a):x0(a,0,255)),{r,g:n,b:a,a:e}}}function nLe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Xp(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var FN=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,vx=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function rLe(t,i,e){let r=vx(Xp(t.r)),n=vx(Xp(t.g)),a=vx(Xp(t.b));return{r:b0(FN(r+e*(vx(Xp(i.r))-r))),g:b0(FN(n+e*(vx(Xp(i.g))-n))),b:b0(FN(a+e*(vx(Xp(i.b))-a))),a:t.a+e*(i.a-t.a)}}function nI(t,i,e){if(t){let r=LN(t);r[i]=Math.max(0,Math.min(r[i]+r[i]*e,i===0?360:1)),r=BN(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function nte(t,i){return t&&Object.assign(i||{},t)}function ete(t){var i={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(i={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(i.a=b0(t[3]))):(i=nte(t,{r:0,g:0,b:0,a:1}),i.a=b0(i.a)),i}function sLe(t){return t.charAt(0)==="r"?iLe(t):KOe(t)}var jw=class t{constructor(i){if(i instanceof t)return i;let e=typeof i,r;e==="object"?r=ete(i):e==="string"&&(r=UOe(i)||eLe(i)||sLe(i)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var i=nte(this._rgb);return i&&(i.a=Xp(i.a)),i}set rgb(i){this._rgb=ete(i)}rgbString(){return this._valid?nLe(this._rgb):void 0}hexString(){return this._valid?GOe(this._rgb):void 0}hslString(){return this._valid?JOe(this._rgb):void 0}mix(i,e){if(i){let r=this.rgb,n=i.rgb,a,s=e===a?.5:e,o=2*s-1,u=r.a-n.a,l=((o*u===-1?o:(o+u)/(1+o*u))+1)/2;a=1-l,r.r=255&l*r.r+a*n.r+.5,r.g=255&l*r.g+a*n.g+.5,r.b=255&l*r.b+a*n.b+.5,r.a=s*r.a+(1-s)*n.a,this.rgb=r}return this}interpolate(i,e){return i&&(this._rgb=rLe(this._rgb,i._rgb,e)),this}clone(){return new t(this.rgb)}alpha(i){return this._rgb.a=b0(i),this}clearer(i){let e=this._rgb;return e.a*=1-i,this}greyscale(){let i=this._rgb,e=Ww(i.r*.3+i.g*.59+i.b*.11);return i.r=i.g=i.b=e,this}opaquer(i){let e=this._rgb;return e.a*=1+i,this}negate(){let i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return nI(this._rgb,2,i),this}darken(i){return nI(this._rgb,2,-i),this}saturate(i){return nI(this._rgb,1,i),this}desaturate(i){return nI(this._rgb,1,-i),this}rotate(i){return ZOe(this._rgb,i),this}};function Uf(){}var pte=(()=>{let t=0;return()=>t++})();function Cr(t){return t==null}function Hs(t){if(Array.isArray&&Array.isArray(t))return!0;let i=Object.prototype.toString.call(t);return i.slice(0,7)==="[object"&&i.slice(-6)==="Array]"}function or(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function va(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function uu(t,i){return va(t)?t:i}function Fn(t,i){return typeof t>"u"?i:t}var mte=(t,i)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/i,HN=(t,i)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*i:+t;function ks(t,i,e){if(t&&typeof t.call=="function")return t.apply(e,i)}function is(t,i,e,r){let n,a,s;if(Hs(t))if(a=t.length,r)for(n=a-1;n>=0;n--)i.call(e,t[n],n);else for(n=0;n<a;n++)i.call(e,t[n],n);else if(or(t))for(s=Object.keys(t),a=s.length,n=0;n<a;n++)i.call(e,t[s[n]],s[n])}function $w(t,i){let e,r,n,a;if(!t||!i||t.length!==i.length)return!1;for(e=0,r=t.length;e<r;++e)if(n=t[e],a=i[e],n.datasetIndex!==a.datasetIndex||n.index!==a.index)return!1;return!0}function oI(t){if(Hs(t))return t.map(oI);if(or(t)){let i=Object.create(null),e=Object.keys(t),r=e.length,n=0;for(;n<r;++n)i[e[n]]=oI(t[e[n]]);return i}return t}function gte(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function aLe(t,i,e,r){if(!gte(t))return;let n=i[t],a=e[t];or(n)&&or(a)?xx(n,a,r):i[t]=oI(a)}function xx(t,i,e){let r=Hs(i)?i:[i],n=r.length;if(!or(t))return t;e=e||{};let a=e.merger||aLe,s;for(let o=0;o<n;++o){if(s=r[o],!or(s))continue;let u=Object.keys(s);for(let l=0,c=u.length;l<c;++l)a(u[l],t,s,e)}return t}function _x(t,i){return xx(t,i,{merger:oLe})}function oLe(t,i,e){if(!gte(t))return;let r=i[t],n=e[t];or(r)&&or(n)?_x(r,n):Object.prototype.hasOwnProperty.call(i,t)||(i[t]=oI(n))}var rte={"":t=>t,x:t=>t.x,y:t=>t.y};function lLe(t){let i=t.split("."),e=[],r="";for(let n of i)r+=n,r.endsWith("\\")?r=r.slice(0,-1)+".":(e.push(r),r="");return e}function cLe(t){let i=lLe(t);return e=>{for(let r of i){if(r==="")break;e=e&&e[r]}return e}}function Qp(t,i){return(rte[i]||(rte[i]=cLe(i)))(t)}function dI(t){return t.charAt(0).toUpperCase()+t.slice(1)}var wx=t=>typeof t<"u",Yp=t=>typeof t=="function",GN=(t,i)=>{if(t.size!==i.size)return!1;for(let e of t)if(!i.has(e))return!1;return!0};function vte(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var Gs=Math.PI,js=2*Gs,uLe=js+Gs,lI=Number.POSITIVE_INFINITY,dLe=Gs/180,Oa=Gs/2,av=Gs/4,ste=Gs*2/3,$p=Math.log10,Fh=Math.sign;function Cx(t,i,e){return Math.abs(t-i)<e}function jN(t){let i=Math.round(t);t=Cx(t,i,t/1e3)?i:t;let e=Math.pow(10,Math.floor($p(t))),r=t/e;return(r<=1?1:r<=2?2:r<=5?5:10)*e}function yte(t){let i=[],e=Math.sqrt(t),r;for(r=1;r<e;r++)t%r===0&&(i.push(r),i.push(t/r));return e===(e|0)&&i.push(e),i.sort((n,a)=>n-a).pop(),i}function cv(t){return!isNaN(parseFloat(t))&&isFinite(t)}function xte(t,i){let e=Math.round(t);return e-i<=t&&e+i>=t}function WN(t,i,e){let r,n,a;for(r=0,n=t.length;r<n;r++)a=t[r][e],isNaN(a)||(i.min=Math.min(i.min,a),i.max=Math.max(i.max,a))}function Ud(t){return t*(Gs/180)}function hI(t){return t*(180/Gs)}function XN(t){if(!va(t))return;let i=1,e=0;for(;Math.round(t*i)/i!==t;)i*=10,e++;return e}function YN(t,i){let e=i.x-t.x,r=i.y-t.y,n=Math.sqrt(e*e+r*r),a=Math.atan2(r,e);return a<-.5*Gs&&(a+=js),{angle:a,distance:n}}function cI(t,i){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))}function hLe(t,i){return(t-i+uLe)%js-Gs}function cu(t){return(t%js+js)%js}function Sx(t,i,e,r){let n=cu(t),a=cu(i),s=cu(e),o=cu(a-n),u=cu(s-n),l=cu(n-a),c=cu(n-s);return n===a||n===s||r&&a===s||o>u&&l<c}function Co(t,i,e){return Math.max(i,Math.min(e,t))}function bte(t){return Co(t,-32768,32767)}function Hf(t,i,e,r=1e-6){return t>=Math.min(i,e)-r&&t<=Math.max(i,e)+r}function fI(t,i,e){e=e||(s=>t[s]<i);let r=t.length-1,n=0,a;for(;r-n>1;)a=n+r>>1,e(a)?n=a:r=a;return{lo:n,hi:r}}var Vf=(t,i,e,r)=>fI(t,e,r?n=>{let a=t[n][i];return a<e||a===e&&t[n+1][i]===e}:n=>t[n][i]<e),_te=(t,i,e)=>fI(t,e,r=>t[r][i]>=e);function wte(t,i,e){let r=0,n=t.length;for(;r<n&&t[r]<i;)r++;for(;n>r&&t[n-1]>e;)n--;return r>0||n<t.length?t.slice(r,n):t}var Cte=["push","pop","shift","splice","unshift"];function Ste(t,i){if(t._chartjs){t._chartjs.listeners.push(i);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Cte.forEach(e=>{let r="_onData"+dI(e),n=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...a){let s=n.apply(this,a);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...a)}),s}})})}function $N(t,i){let e=t._chartjs;if(!e)return;let r=e.listeners,n=r.indexOf(i);n!==-1&&r.splice(n,1),!(r.length>0)&&(Cte.forEach(a=>{delete t[a]}),delete t._chartjs)}function QN(t){let i=new Set(t);return i.size===t.length?t:Array.from(i)}var KN=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ZN(t,i){let e=[],r=!1;return function(...n){e=n,r||(r=!0,KN.call(window,()=>{r=!1,t.apply(i,e)}))}}function Tte(t,i){let e;return function(...r){return i?(clearTimeout(e),e=setTimeout(t,i,r)):t.apply(this,r),i}}var pI=t=>t==="start"?"left":t==="end"?"right":"center",fl=(t,i,e)=>t==="start"?i:t==="end"?e:(i+e)/2,Ete=(t,i,e,r)=>t===(r?"left":"right")?e:t==="center"?(i+e)/2:i;function JN(t,i,e){let r=i.length,n=0,a=r;if(t._sorted){let{iScale:s,_parsed:o}=t,u=s.axis,{min:l,max:c,minDefined:h,maxDefined:d}=s.getUserBounds();h&&(n=Co(Math.min(Vf(o,u,l).lo,e?r:Vf(i,u,s.getPixelForValue(l)).lo),0,r-1)),d?a=Co(Math.max(Vf(o,s.axis,c,!0).hi+1,e?0:Vf(i,u,s.getPixelForValue(c),!0).hi+1),n,r)-n:a=r-n}return{start:n,count:a}}function qN(t){let{xScale:i,yScale:e,_scaleRanges:r}=t,n={xmin:i.min,xmax:i.max,ymin:e.min,ymax:e.max};if(!r)return t._scaleRanges=n,!0;let a=r.xmin!==i.min||r.xmax!==i.max||r.ymin!==e.min||r.ymax!==e.max;return Object.assign(r,n),a}var rI=t=>t===0||t===1,ate=(t,i,e)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-i)*js/e)),ote=(t,i,e)=>Math.pow(2,-10*t)*Math.sin((t-i)*js/e)+1,yx={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Oa)+1,easeOutSine:t=>Math.sin(t*Oa),easeInOutSine:t=>-.5*(Math.cos(Gs*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>rI(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>rI(t)?t:ate(t,.075,.3),easeOutElastic:t=>rI(t)?t:ote(t,.075,.3),easeInOutElastic(t){return rI(t)?t:t<.5?.5*ate(t*2,.1125,.45):.5+.5*ote(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let i=1.70158;return(t/=.5)<1?.5*(t*t*(((i*=1.525)+1)*t-i)):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},easeInBounce:t=>1-yx.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?yx.easeInBounce(t*2)*.5:yx.easeOutBounce(t*2-1)*.5+.5};function e8(t){if(t&&typeof t=="object"){let i=t.toString();return i==="[object CanvasPattern]"||i==="[object CanvasGradient]"}return!1}function t8(t){return e8(t)?t:new jw(t)}function VN(t){return e8(t)?t:new jw(t).saturate(.5).darken(.1).hexString()}var fLe=["x","y","borderWidth","radius","tension"],pLe=["color","borderColor","backgroundColor"];function mLe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>i!=="onProgress"&&i!=="onComplete"&&i!=="fn"}),t.set("animations",{colors:{type:"color",properties:pLe},numbers:{type:"number",properties:fLe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>i|0}}}})}function gLe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var lte=new Map;function vLe(t,i){i=i||{};let e=t+JSON.stringify(i),r=lte.get(e);return r||(r=new Intl.NumberFormat(t,i),lte.set(e,r)),r}function Tx(t,i,e){return vLe(i,e).format(t)}var Ate={values(t){return Hs(t)?t:""+t},numeric(t,i,e){if(t===0)return"0";let r=this.chart.options.locale,n,a=t;if(e.length>1){let l=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(l<1e-4||l>1e15)&&(n="scientific"),a=yLe(t,e)}let s=$p(Math.abs(a)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),u={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(u,this.options.ticks.format),Tx(t,r,u)},logarithmic(t,i,e){if(t===0)return"0";let r=e[i].significand||t/Math.pow(10,Math.floor($p(t)));return[1,2,3,5,10,15].includes(r)||i>.8*e.length?Ate.numeric.call(this,t,i,e):""}};function yLe(t,i){let e=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(e)>=1&&t!==Math.floor(t)&&(e=t-Math.floor(t)),e}var Qw={formatters:Ate};function xLe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,e)=>e.lineWidth,tickColor:(i,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Qw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&i!=="callback"&&i!=="parser",_indexable:i=>i!=="borderDash"&&i!=="tickBorderDash"&&i!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:i=>i!=="backdropPadding"&&i!=="callback",_indexable:i=>i!=="backdropPadding"})}var w0=Object.create(null),mI=Object.create(null);function Xw(t,i){if(!i)return t;let e=i.split(".");for(let r=0,n=e.length;r<n;++r){let a=e[r];t=t[a]||(t[a]=Object.create(null))}return t}function zN(t,i,e){return typeof i=="string"?xx(Xw(t,i),e):xx(Xw(t,""),i)}var UN=class{constructor(i,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,n)=>VN(n.backgroundColor),this.hoverBorderColor=(r,n)=>VN(n.borderColor),this.hoverColor=(r,n)=>VN(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i),this.apply(e)}set(i,e){return zN(this,i,e)}get(i){return Xw(this,i)}describe(i,e){return zN(mI,i,e)}override(i,e){return zN(w0,i,e)}route(i,e,r,n){let a=Xw(this,i),s=Xw(this,r),o="_"+e;Object.defineProperties(a,{[o]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){let u=this[o],l=s[n];return or(u)?Object.assign({},l,u):Fn(u,l)},set(u){this[o]=u}}})}apply(i){i.forEach(e=>e(this))}},Qs=new UN({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[mLe,gLe,xLe]);function bLe(t){return!t||Cr(t.size)||Cr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Yw(t,i,e,r,n){let a=i[n];return a||(a=i[n]=t.measureText(n).width,e.push(n)),a>r&&(r=a),r}function Mte(t,i,e,r){r=r||{};let n=r.data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==i&&(n=r.data={},a=r.garbageCollect=[],r.font=i),t.save(),t.font=i;let s=0,o=e.length,u,l,c,h,d;for(u=0;u<o;u++)if(h=e[u],h!=null&&!Hs(h))s=Yw(t,n,a,s,h);else if(Hs(h))for(l=0,c=h.length;l<c;l++)d=h[l],d!=null&&!Hs(d)&&(s=Yw(t,n,a,s,d));t.restore();let f=a.length/2;if(f>e.length){for(u=0;u<f;u++)delete n[a[u]];a.splice(0,f)}return s}function C0(t,i,e){let r=t.currentDevicePixelRatio,n=e!==0?Math.max(e/2,.5):0;return Math.round((i-n)*r)/r+n}function i8(t,i){!i&&!t||(i=i||t.getContext("2d"),i.save(),i.resetTransform(),i.clearRect(0,0,t.width,t.height),i.restore())}function gI(t,i,e,r){n8(t,i,e,r,null)}function n8(t,i,e,r,n){let a,s,o,u,l,c,h,d,f=i.pointStyle,m=i.rotation,p=i.radius,g=(m||0)*dLe;if(f&&typeof f=="object"&&(a=f.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(e,r),t.rotate(g),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:n?t.ellipse(e,r,n/2,p,0,0,js):t.arc(e,r,p,0,js),t.closePath();break;case"triangle":c=n?n/2:p,t.moveTo(e+Math.sin(g)*c,r-Math.cos(g)*p),g+=ste,t.lineTo(e+Math.sin(g)*c,r-Math.cos(g)*p),g+=ste,t.lineTo(e+Math.sin(g)*c,r-Math.cos(g)*p),t.closePath();break;case"rectRounded":l=p*.516,u=p-l,s=Math.cos(g+av)*u,h=Math.cos(g+av)*(n?n/2-l:u),o=Math.sin(g+av)*u,d=Math.sin(g+av)*(n?n/2-l:u),t.arc(e-h,r-o,l,g-Gs,g-Oa),t.arc(e+d,r-s,l,g-Oa,g),t.arc(e+h,r+o,l,g,g+Oa),t.arc(e-d,r+s,l,g+Oa,g+Gs),t.closePath();break;case"rect":if(!m){u=Math.SQRT1_2*p,c=n?n/2:u,t.rect(e-c,r-u,2*c,2*u);break}g+=av;case"rectRot":h=Math.cos(g)*(n?n/2:p),s=Math.cos(g)*p,o=Math.sin(g)*p,d=Math.sin(g)*(n?n/2:p),t.moveTo(e-h,r-o),t.lineTo(e+d,r-s),t.lineTo(e+h,r+o),t.lineTo(e-d,r+s),t.closePath();break;case"crossRot":g+=av;case"cross":h=Math.cos(g)*(n?n/2:p),s=Math.cos(g)*p,o=Math.sin(g)*p,d=Math.sin(g)*(n?n/2:p),t.moveTo(e-h,r-o),t.lineTo(e+h,r+o),t.moveTo(e+d,r-s),t.lineTo(e-d,r+s);break;case"star":h=Math.cos(g)*(n?n/2:p),s=Math.cos(g)*p,o=Math.sin(g)*p,d=Math.sin(g)*(n?n/2:p),t.moveTo(e-h,r-o),t.lineTo(e+h,r+o),t.moveTo(e+d,r-s),t.lineTo(e-d,r+s),g+=av,h=Math.cos(g)*(n?n/2:p),s=Math.cos(g)*p,o=Math.sin(g)*p,d=Math.sin(g)*(n?n/2:p),t.moveTo(e-h,r-o),t.lineTo(e+h,r+o),t.moveTo(e+d,r-s),t.lineTo(e-d,r+s);break;case"line":s=n?n/2:Math.cos(g)*p,o=Math.sin(g)*p,t.moveTo(e-s,r-o),t.lineTo(e+s,r+o);break;case"dash":t.moveTo(e,r),t.lineTo(e+Math.cos(g)*(n?n/2:p),r+Math.sin(g)*p);break;case!1:t.closePath();break}t.fill(),i.borderWidth>0&&t.stroke()}}function zf(t,i,e){return e=e||.5,!i||t&&t.x>i.left-e&&t.x<i.right+e&&t.y>i.top-e&&t.y<i.bottom+e}function Kw(t,i){t.save(),t.beginPath(),t.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),t.clip()}function Zw(t){t.restore()}function Ite(t,i,e,r,n){if(!i)return t.lineTo(e.x,e.y);if(n==="middle"){let a=(i.x+e.x)/2;t.lineTo(a,i.y),t.lineTo(a,e.y)}else n==="after"!=!!r?t.lineTo(i.x,e.y):t.lineTo(e.x,i.y);t.lineTo(e.x,e.y)}function Dte(t,i,e,r){if(!i)return t.lineTo(e.x,e.y);t.bezierCurveTo(r?i.cp1x:i.cp2x,r?i.cp1y:i.cp2y,r?e.cp2x:e.cp1x,r?e.cp2y:e.cp1y,e.x,e.y)}function _Le(t,i){i.translation&&t.translate(i.translation[0],i.translation[1]),Cr(i.rotation)||t.rotate(i.rotation),i.color&&(t.fillStyle=i.color),i.textAlign&&(t.textAlign=i.textAlign),i.textBaseline&&(t.textBaseline=i.textBaseline)}function wLe(t,i,e,r,n){if(n.strikethrough||n.underline){let a=t.measureText(r),s=i-a.actualBoundingBoxLeft,o=i+a.actualBoundingBoxRight,u=e-a.actualBoundingBoxAscent,l=e+a.actualBoundingBoxDescent,c=n.strikethrough?(u+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(s,c),t.lineTo(o,c),t.stroke()}}function CLe(t,i){let e=t.fillStyle;t.fillStyle=i.color,t.fillRect(i.left,i.top,i.width,i.height),t.fillStyle=e}function S0(t,i,e,r,n,a={}){let s=Hs(i)?i:[i],o=a.strokeWidth>0&&a.strokeColor!=="",u,l;for(t.save(),t.font=n.string,_Le(t,a),u=0;u<s.length;++u)l=s[u],a.backdrop&&CLe(t,a.backdrop),o&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),Cr(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(l,e,r,a.maxWidth)),t.fillText(l,e,r,a.maxWidth),wLe(t,e,r,l,a),r+=Number(n.lineHeight);t.restore()}function Ex(t,i){let{x:e,y:r,w:n,h:a,radius:s}=i;t.arc(e+s.topLeft,r+s.topLeft,s.topLeft,1.5*Gs,Gs,!0),t.lineTo(e,r+a-s.bottomLeft),t.arc(e+s.bottomLeft,r+a-s.bottomLeft,s.bottomLeft,Gs,Oa,!0),t.lineTo(e+n-s.bottomRight,r+a),t.arc(e+n-s.bottomRight,r+a-s.bottomRight,s.bottomRight,Oa,0,!0),t.lineTo(e+n,r+s.topRight),t.arc(e+n-s.topRight,r+s.topRight,s.topRight,0,-Oa,!0),t.lineTo(e+s.topLeft,r)}var SLe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,TLe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ELe(t,i){let e=(""+t).match(SLe);if(!e||e[1]==="normal")return i*1.2;switch(t=+e[2],e[3]){case"px":return t;case"%":t/=100;break}return i*t}var ALe=t=>+t||0;function vI(t,i){let e={},r=or(i),n=r?Object.keys(i):i,a=or(t)?r?s=>Fn(t[s],t[i[s]]):s=>t[s]:()=>t;for(let s of n)e[s]=ALe(a(s));return e}function r8(t){return vI(t,{top:"y",right:"x",bottom:"y",left:"x"})}function T0(t){return vI(t,["topLeft","topRight","bottomLeft","bottomRight"])}function pl(t){let i=r8(t);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function to(t,i){t=t||{},i=i||Qs.font;let e=Fn(t.size,i.size);typeof e=="string"&&(e=parseInt(e,10));let r=Fn(t.style,i.style);r&&!(""+r).match(TLe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let n={family:Fn(t.family,i.family),lineHeight:ELe(Fn(t.lineHeight,i.lineHeight),e),size:e,style:r,weight:Fn(t.weight,i.weight),string:""};return n.string=bLe(n),n}function Ax(t,i,e,r){let n=!0,a,s,o;for(a=0,s=t.length;a<s;++a)if(o=t[a],o!==void 0&&(i!==void 0&&typeof o=="function"&&(o=o(i),n=!1),e!==void 0&&Hs(o)&&(o=o[e%o.length],n=!1),o!==void 0))return r&&!n&&(r.cacheable=!1),o}function Pte(t,i,e){let{min:r,max:n}=t,a=HN(i,(n-r)/2),s=(o,u)=>e&&o===0?0:o+u;return{min:s(r,-Math.abs(a)),max:s(n,a)}}function Kp(t,i){return Object.assign(Object.create(t),i)}function yI(t,i=[""],e,r,n=()=>t[0]){let a=e||t;typeof r>"u"&&(r=Fte("_fallback",t));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:r,_getTarget:n,override:o=>yI([o,...t],i,a,r)};return new Proxy(s,{deleteProperty(o,u){return delete o[u],delete o._keys,delete t[0][u],!0},get(o,u){return Rte(o,u,()=>OLe(u,i,t,o))},getOwnPropertyDescriptor(o,u){return Reflect.getOwnPropertyDescriptor(o._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,u){return ute(o).includes(u)},ownKeys(o){return ute(o)},set(o,u,l){let c=o._storage||(o._storage=n());return o[u]=c[u]=l,delete o._keys,!0}})}function lv(t,i,e,r){let n={_cacheable:!1,_proxy:t,_context:i,_subProxy:e,_stack:new Set,_descriptors:s8(t,r),setContext:a=>lv(t,a,e,r),override:a=>lv(t.override(a),i,e,r)};return new Proxy(n,{deleteProperty(a,s){return delete a[s],delete t[s],!0},get(a,s,o){return Rte(a,s,()=>ILe(a,s,o))},getOwnPropertyDescriptor(a,s){return a._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(a,s,o){return t[s]=o,delete a[s],!0}})}function s8(t,i={scriptable:!0,indexable:!0}){let{_scriptable:e=i.scriptable,_indexable:r=i.indexable,_allKeys:n=i.allKeys}=t;return{allKeys:n,scriptable:e,indexable:r,isScriptable:Yp(e)?e:()=>e,isIndexable:Yp(r)?r:()=>r}}var MLe=(t,i)=>t?t+dI(i):i,a8=(t,i)=>or(i)&&t!=="adapters"&&(Object.getPrototypeOf(i)===null||i.constructor===Object);function Rte(t,i,e){if(Object.prototype.hasOwnProperty.call(t,i)||i==="constructor")return t[i];let r=e();return t[i]=r,r}function ILe(t,i,e){let{_proxy:r,_context:n,_subProxy:a,_descriptors:s}=t,o=r[i];return Yp(o)&&s.isScriptable(i)&&(o=DLe(i,o,t,e)),Hs(o)&&o.length&&(o=PLe(i,o,t,s.isIndexable)),a8(i,o)&&(o=lv(o,n,a&&a[i],s)),o}function DLe(t,i,e,r){let{_proxy:n,_context:a,_subProxy:s,_stack:o}=e;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let u=i(a,s||r);return o.delete(t),a8(t,u)&&(u=o8(n._scopes,n,t,u)),u}function PLe(t,i,e,r){let{_proxy:n,_context:a,_subProxy:s,_descriptors:o}=e;if(typeof a.index<"u"&&r(t))return i[a.index%i.length];if(or(i[0])){let u=i,l=n._scopes.filter(c=>c!==u);i=[];for(let c of u){let h=o8(l,n,t,c);i.push(lv(h,a,s&&s[t],o))}}return i}function kte(t,i,e){return Yp(t)?t(i,e):t}var RLe=(t,i)=>t===!0?i:typeof t=="string"?Qp(i,t):void 0;function kLe(t,i,e,r,n){for(let a of i){let s=RLe(e,a);if(s){t.add(s);let o=kte(s._fallback,e,n);if(typeof o<"u"&&o!==e&&o!==r)return o}else if(s===!1&&typeof r<"u"&&e!==r)return null}return!1}function o8(t,i,e,r){let n=i._rootScopes,a=kte(i._fallback,e,r),s=[...t,...n],o=new Set;o.add(r);let u=cte(o,s,e,a||e,r);return u===null||typeof a<"u"&&a!==e&&(u=cte(o,s,a,u,r),u===null)?!1:yI(Array.from(o),[""],n,a,()=>FLe(i,e,r))}function cte(t,i,e,r,n){for(;e;)e=kLe(t,i,e,r,n);return e}function FLe(t,i,e){let r=t._getTarget();i in r||(r[i]={});let n=r[i];return Hs(n)&&or(e)?e:n||{}}function OLe(t,i,e,r){let n;for(let a of i)if(n=Fte(MLe(a,t),e),typeof n<"u")return a8(t,n)?o8(e,r,t,n):n}function Fte(t,i){for(let e of i){if(!e)continue;let r=e[t];if(typeof r<"u")return r}}function ute(t){let i=t._keys;return i||(i=t._keys=LLe(t._scopes)),i}function LLe(t){let i=new Set;for(let e of t)for(let r of Object.keys(e).filter(n=>!n.startsWith("_")))i.add(r);return Array.from(i)}function l8(t,i,e,r){let{iScale:n}=t,{key:a="r"}=this._parsing,s=new Array(r),o,u,l,c;for(o=0,u=r;o<u;++o)l=o+e,c=i[l],s[o]={r:n.parse(Qp(c,a),l)};return s}var NLe=Number.EPSILON||1e-14,bx=(t,i)=>i<t.length&&!t[i].skip&&t[i],Ote=t=>t==="x"?"y":"x";function BLe(t,i,e,r){let n=t.skip?i:t,a=i,s=e.skip?i:e,o=cI(a,n),u=cI(s,a),l=o/(o+u),c=u/(o+u);l=isNaN(l)?0:l,c=isNaN(c)?0:c;let h=r*l,d=r*c;return{previous:{x:a.x-h*(s.x-n.x),y:a.y-h*(s.y-n.y)},next:{x:a.x+d*(s.x-n.x),y:a.y+d*(s.y-n.y)}}}function VLe(t,i,e){let r=t.length,n,a,s,o,u,l=bx(t,0);for(let c=0;c<r-1;++c)if(u=l,l=bx(t,c+1),!(!u||!l)){if(Cx(i[c],0,NLe)){e[c]=e[c+1]=0;continue}n=e[c]/i[c],a=e[c+1]/i[c],o=Math.pow(n,2)+Math.pow(a,2),!(o<=9)&&(s=3/Math.sqrt(o),e[c]=n*s*i[c],e[c+1]=a*s*i[c])}}function zLe(t,i,e="x"){let r=Ote(e),n=t.length,a,s,o,u=bx(t,0);for(let l=0;l<n;++l){if(s=o,o=u,u=bx(t,l+1),!o)continue;let c=o[e],h=o[r];s&&(a=(c-s[e])/3,o[`cp1${e}`]=c-a,o[`cp1${r}`]=h-a*i[l]),u&&(a=(u[e]-c)/3,o[`cp2${e}`]=c+a,o[`cp2${r}`]=h+a*i[l])}}function ULe(t,i="x"){let e=Ote(i),r=t.length,n=Array(r).fill(0),a=Array(r),s,o,u,l=bx(t,0);for(s=0;s<r;++s)if(o=u,u=l,l=bx(t,s+1),!!u){if(l){let c=l[i]-u[i];n[s]=c!==0?(l[e]-u[e])/c:0}a[s]=o?l?Fh(n[s-1])!==Fh(n[s])?0:(n[s-1]+n[s])/2:n[s-1]:n[s]}VLe(t,n,a),zLe(t,a,i)}function sI(t,i,e){return Math.max(Math.min(t,e),i)}function HLe(t,i){let e,r,n,a,s,o=zf(t[0],i);for(e=0,r=t.length;e<r;++e)s=a,a=o,o=e<r-1&&zf(t[e+1],i),a&&(n=t[e],s&&(n.cp1x=sI(n.cp1x,i.left,i.right),n.cp1y=sI(n.cp1y,i.top,i.bottom)),o&&(n.cp2x=sI(n.cp2x,i.left,i.right),n.cp2y=sI(n.cp2y,i.top,i.bottom)))}function Lte(t,i,e,r,n){let a,s,o,u;if(i.spanGaps&&(t=t.filter(l=>!l.skip)),i.cubicInterpolationMode==="monotone")ULe(t,n);else{let l=r?t[t.length-1]:t[0];for(a=0,s=t.length;a<s;++a)o=t[a],u=BLe(l,o,t[Math.min(a+1,s-(r?0:1))%s],i.tension),o.cp1x=u.previous.x,o.cp1y=u.previous.y,o.cp2x=u.next.x,o.cp2y=u.next.y,l=o}i.capBezierPoints&&HLe(t,e)}function xI(){return typeof window<"u"&&typeof document<"u"}function bI(t){let i=t.parentNode;return i&&i.toString()==="[object ShadowRoot]"&&(i=i.host),i}function uI(t,i,e){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*i.parentNode[e])):r=t,r}var _I=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function GLe(t,i){return _I(t).getPropertyValue(i)}var jLe=["top","right","bottom","left"];function ov(t,i,e){let r={};e=e?"-"+e:"";for(let n=0;n<4;n++){let a=jLe[n];r[a]=parseFloat(t[i+"-"+a+e])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var WLe=(t,i,e)=>(t>0||i>0)&&(!e||!e.shadowRoot);function XLe(t,i){let e=t.touches,r=e&&e.length?e[0]:t,{offsetX:n,offsetY:a}=r,s=!1,o,u;if(WLe(n,a,t.target))o=n,u=a;else{let l=i.getBoundingClientRect();o=r.clientX-l.left,u=r.clientY-l.top,s=!0}return{x:o,y:u,box:s}}function E0(t,i){if("native"in t)return t;let{canvas:e,currentDevicePixelRatio:r}=i,n=_I(e),a=n.boxSizing==="border-box",s=ov(n,"padding"),o=ov(n,"border","width"),{x:u,y:l,box:c}=XLe(t,e),h=s.left+(c&&o.left),d=s.top+(c&&o.top),{width:f,height:m}=i;return a&&(f-=s.width+o.width,m-=s.height+o.height),{x:Math.round((u-h)/f*e.width/r),y:Math.round((l-d)/m*e.height/r)}}function YLe(t,i,e){let r,n;if(i===void 0||e===void 0){let a=t&&bI(t);if(!a)i=t.clientWidth,e=t.clientHeight;else{let s=a.getBoundingClientRect(),o=_I(a),u=ov(o,"border","width"),l=ov(o,"padding");i=s.width-l.width-u.width,e=s.height-l.height-u.height,r=uI(o.maxWidth,a,"clientWidth"),n=uI(o.maxHeight,a,"clientHeight")}}return{width:i,height:e,maxWidth:r||lI,maxHeight:n||lI}}var aI=t=>Math.round(t*10)/10;function Nte(t,i,e,r){let n=_I(t),a=ov(n,"margin"),s=uI(n.maxWidth,t,"clientWidth")||lI,o=uI(n.maxHeight,t,"clientHeight")||lI,u=YLe(t,i,e),{width:l,height:c}=u;if(n.boxSizing==="content-box"){let d=ov(n,"border","width"),f=ov(n,"padding");l-=f.width+d.width,c-=f.height+d.height}return l=Math.max(0,l-a.width),c=Math.max(0,r?l/r:c-a.height),l=aI(Math.min(l,s,u.maxWidth)),c=aI(Math.min(c,o,u.maxHeight)),l&&!c&&(c=aI(l/2)),(i!==void 0||e!==void 0)&&r&&u.height&&c>u.height&&(c=u.height,l=aI(Math.floor(c*r))),{width:l,height:c}}function c8(t,i,e){let r=i||1,n=Math.floor(t.height*r),a=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let s=t.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||s.height!==n||s.width!==a?(t.currentDevicePixelRatio=r,s.height=n,s.width=a,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}var Bte=function(){let t=!1;try{let i={get passive(){return t=!0,!1}};xI()&&(window.addEventListener("test",null,i),window.removeEventListener("test",null,i))}catch{}return t}();function u8(t,i){let e=GLe(t,i),r=e&&e.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function _0(t,i,e,r){return{x:t.x+e*(i.x-t.x),y:t.y+e*(i.y-t.y)}}function Vte(t,i,e,r){return{x:t.x+e*(i.x-t.x),y:r==="middle"?e<.5?t.y:i.y:r==="after"?e<1?t.y:i.y:e>0?i.y:t.y}}function zte(t,i,e,r){let n={x:t.cp2x,y:t.cp2y},a={x:i.cp1x,y:i.cp1y},s=_0(t,n,e),o=_0(n,a,e),u=_0(a,i,e),l=_0(s,o,e),c=_0(o,u,e);return _0(l,c,e)}var $Le=function(t,i){return{x(e){return t+t+i-e},setWidth(e){i=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,r){return e-r},leftForLtr(e,r){return e-r}}},QLe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,i){return t+i},leftForLtr(t,i){return t}}};function uv(t,i,e){return t?$Le(i,e):QLe()}function d8(t,i){let e,r;(i==="ltr"||i==="rtl")&&(e=t.canvas.style,r=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",i,"important"),t.prevTextDirection=r)}function h8(t,i){i!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",i[0],i[1]))}function Ute(t){return t==="angle"?{between:Sx,compare:hLe,normalize:cu}:{between:Hf,compare:(i,e)=>i-e,normalize:i=>i}}function dte({start:t,end:i,count:e,loop:r,style:n}){return{start:t%e,end:i%e,loop:r&&(i-t+1)%e===0,style:n}}function KLe(t,i,e){let{property:r,start:n,end:a}=e,{between:s,normalize:o}=Ute(r),u=i.length,{start:l,end:c,loop:h}=t,d,f;if(h){for(l+=u,c+=u,d=0,f=u;d<f&&s(o(i[l%u][r]),n,a);++d)l--,c--;l%=u,c%=u}return c<l&&(c+=u),{start:l,end:c,loop:h,style:t.style}}function f8(t,i,e){if(!e)return[t];let{property:r,start:n,end:a}=e,s=i.length,{compare:o,between:u,normalize:l}=Ute(r),{start:c,end:h,loop:d,style:f}=KLe(t,i,e),m=[],p=!1,g=null,v,y,x,b=()=>u(n,x,v)&&o(n,x)!==0,w=()=>o(a,v)===0||u(a,x,v),C=()=>p||b(),_=()=>!p||w();for(let S=c,T=c;S<=h;++S)y=i[S%s],!y.skip&&(v=l(y[r]),v!==x&&(p=u(v,n,a),g===null&&C()&&(g=o(v,n)===0?S:T),g!==null&&_()&&(m.push(dte({start:g,end:S,loop:d,count:s,style:f})),g=null),T=S,x=v));return g!==null&&m.push(dte({start:g,end:h,loop:d,count:s,style:f})),m}function p8(t,i){let e=[],r=t.segments;for(let n=0;n<r.length;n++){let a=f8(r[n],t.points,i);a.length&&e.push(...a)}return e}function ZLe(t,i,e,r){let n=0,a=i-1;if(e&&!r)for(;n<i&&!t[n].skip;)n++;for(;n<i&&t[n].skip;)n++;for(n%=i,e&&(a+=n);a>n&&t[a%i].skip;)a--;return a%=i,{start:n,end:a}}function JLe(t,i,e,r){let n=t.length,a=[],s=i,o=t[i],u;for(u=i+1;u<=e;++u){let l=t[u%n];l.skip||l.stop?o.skip||(r=!1,a.push({start:i%n,end:(u-1)%n,loop:r}),i=s=l.stop?u:null):(s=u,o.skip&&(i=u)),o=l}return s!==null&&a.push({start:i%n,end:s%n,loop:r}),a}function Hte(t,i){let e=t.points,r=t.options.spanGaps,n=e.length;if(!n)return[];let a=!!t._loop,{start:s,end:o}=ZLe(e,n,a,r);if(r===!0)return hte(t,[{start:s,end:o,loop:a}],e,i);let u=o<s?o+n:o,l=!!t._fullLoop&&s===0&&o===n-1;return hte(t,JLe(e,s,u,l),e,i)}function hte(t,i,e,r){return!r||!r.setContext||!e?i:qLe(t,i,e,r)}function qLe(t,i,e,r){let n=t._chart.getContext(),a=fte(t.options),{_datasetIndex:s,options:{spanGaps:o}}=t,u=e.length,l=[],c=a,h=i[0].start,d=h;function f(m,p,g,v){let y=o?-1:1;if(m!==p){for(m+=u;e[m%u].skip;)m-=y;for(;e[p%u].skip;)p+=y;m%u!==p%u&&(l.push({start:m%u,end:p%u,loop:g,style:v}),c=v,h=p%u)}}for(let m of i){h=o?h:m.start;let p=e[h%u],g;for(d=h+1;d<=m.end;d++){let v=e[d%u];g=fte(r.setContext(Kp(n,{type:"segment",p0:p,p1:v,p0DataIndex:(d-1)%u,p1DataIndex:d%u,datasetIndex:s}))),eNe(g,c)&&f(h,d-1,m.loop,c),p=v,c=g}h<d-1&&f(h,d-1,m.loop,c)}return l}function fte(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function eNe(t,i){if(!i)return!1;let e=[],r=function(n,a){return e8(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(t,r)!==JSON.stringify(i,r)}var T8=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,e,r,n){let a=e.listeners[n],s=e.duration;a.forEach(o=>o({chart:i,initial:e.initial,numSteps:s,currentStep:Math.min(r-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=KN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let e=0;this._charts.forEach((r,n)=>{if(!r.running||!r.items.length)return;let a=r.items,s=a.length-1,o=!1,u;for(;s>=0;--s)u=a[s],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(i),o=!0):(a[s]=a[a.length-1],a.pop());o&&(n.draw(),this._notify(n,r,i,"progress")),a.length||(r.running=!1,this._notify(n,r,i,"complete"),r.initial=!1),e+=a.length}),this._lastDate=i,e===0&&(this._running=!1)}_getAnims(i){let e=this._charts,r=e.get(i);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(i,r)),r}listen(i,e,r){this._getAnims(i).listeners[e].push(r)}add(i,e){!e||!e.length||this._getAnims(i).items.push(...e)}has(i){return this._getAnims(i).items.length>0}start(i){let e=this._charts.get(i);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((r,n)=>Math.max(r,n._duration),0),this._refresh())}running(i){if(!this._running)return!1;let e=this._charts.get(i);return!(!e||!e.running||!e.items.length)}stop(i){let e=this._charts.get(i);if(!e||!e.items.length)return;let r=e.items,n=r.length-1;for(;n>=0;--n)r[n].cancel();e.items=[],this._notify(i,e,Date.now(),"complete")}remove(i){return this._charts.delete(i)}},Zp=new T8,Gte="transparent",tNe={boolean(t,i,e){return e>.5?i:t},color(t,i,e){let r=t8(t||Gte),n=r.valid&&t8(i||Gte);return n&&n.valid?n.mix(r,e).hexString():i},number(t,i,e){return t+(i-t)*e}},E8=class{constructor(i,e,r,n){let a=e[r];n=Ax([i.to,n,a,i.from]);let s=Ax([i.from,a,n]);this._active=!0,this._fn=i.fn||tNe[i.type||typeof s],this._easing=yx[i.easing]||yx.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=e,this._prop=r,this._from=s,this._to=n,this._promises=void 0}active(){return this._active}update(i,e,r){if(this._active){this._notify(!1);let n=this._target[this._prop],a=r-this._start,s=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(s,i.duration)),this._total+=a,this._loop=!!i.loop,this._to=Ax([i.to,e,n,i.from]),this._from=Ax([i.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){let e=i-this._start,r=this._duration,n=this._prop,a=this._from,s=this._loop,o=this._to,u;if(this._active=a!==o&&(s||e<r),!this._active){this._target[n]=o,this._notify(!0);return}if(e<0){this._target[n]=a;return}u=e/r%2,u=s&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[n]=this._fn(a,o,u)}wait(){let i=this._promises||(this._promises=[]);return new Promise((e,r)=>{i.push({res:e,rej:r})})}_notify(i){let e=i?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][e]()}},PI=class{constructor(i,e){this._chart=i,this._properties=new Map,this.configure(e)}configure(i){if(!or(i))return;let e=Object.keys(Qs.animation),r=this._properties;Object.getOwnPropertyNames(i).forEach(n=>{let a=i[n];if(!or(a))return;let s={};for(let o of e)s[o]=a[o];(Hs(a.properties)&&a.properties||[n]).forEach(o=>{(o===n||!r.has(o))&&r.set(o,s)})})}_animateOptions(i,e){let r=e.options,n=nNe(i,r);if(!n)return[];let a=this._createAnimations(n,r);return r.$shared&&iNe(i.options.$animations,r).then(()=>{i.options=r},()=>{}),a}_createAnimations(i,e){let r=this._properties,n=[],a=i.$animations||(i.$animations={}),s=Object.keys(e),o=Date.now(),u;for(u=s.length-1;u>=0;--u){let l=s[u];if(l.charAt(0)==="$")continue;if(l==="options"){n.push(...this._animateOptions(i,e));continue}let c=e[l],h=a[l],d=r.get(l);if(h)if(d&&h.active()){h.update(d,c,o);continue}else h.cancel();if(!d||!d.duration){i[l]=c;continue}a[l]=h=new E8(d,i,l,c),n.push(h)}return n}update(i,e){if(this._properties.size===0){Object.assign(i,e);return}let r=this._createAnimations(i,e);if(r.length)return Zp.add(this._chart,r),!0}};function iNe(t,i){let e=[],r=Object.keys(i);for(let n=0;n<r.length;n++){let a=t[r[n]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function nNe(t,i){if(!i)return;let e=t.options;if(!e){t.options=i;return}return e.$shared&&(t.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function jte(t,i){let e=t&&t.options||{},r=e.reverse,n=e.min===void 0?i:0,a=e.max===void 0?i:0;return{start:r?a:n,end:r?n:a}}function rNe(t,i,e){if(e===!1)return!1;let r=jte(t,e),n=jte(i,e);return{top:n.end,right:r.end,bottom:n.start,left:r.start}}function sNe(t){let i,e,r,n;return or(t)?(i=t.top,e=t.right,r=t.bottom,n=t.left):i=e=r=n=t,{top:i,right:e,bottom:r,left:n,disabled:t===!1}}function Gie(t,i){let e=[],r=t._getSortedDatasetMetas(i),n,a;for(n=0,a=r.length;n<a;++n)e.push(r[n].index);return e}function Wte(t,i,e,r={}){let n=t.keys,a=r.mode==="single",s,o,u,l;if(i===null)return;let c=!1;for(s=0,o=n.length;s<o;++s){if(u=+n[s],u===e){if(c=!0,r.all)continue;break}l=t.values[u],va(l)&&(a||i===0||Fh(i)===Fh(l))&&(i+=l)}return!c&&!r.all?0:i}function aNe(t,i){let{iScale:e,vScale:r}=i,n=e.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",s=Object.keys(t),o=new Array(s.length),u,l,c;for(u=0,l=s.length;u<l;++u)c=s[u],o[u]={[n]:c,[a]:t[c]};return o}function m8(t,i){let e=t&&t.options.stacked;return e||e===void 0&&i.stack!==void 0}function oNe(t,i,e){return`${t.id}.${i.id}.${e.stack||e.type}`}function lNe(t){let{min:i,max:e,minDefined:r,maxDefined:n}=t.getUserBounds();return{min:r?i:Number.NEGATIVE_INFINITY,max:n?e:Number.POSITIVE_INFINITY}}function cNe(t,i,e){let r=t[i]||(t[i]={});return r[e]||(r[e]={})}function Xte(t,i,e,r){for(let n of i.getMatchingVisibleMetas(r).reverse()){let a=t[n.index];if(e&&a>0||!e&&a<0)return n.index}return null}function Yte(t,i){let{chart:e,_cachedMeta:r}=t,n=e._stacks||(e._stacks={}),{iScale:a,vScale:s,index:o}=r,u=a.axis,l=s.axis,c=oNe(a,s,r),h=i.length,d;for(let f=0;f<h;++f){let m=i[f],{[u]:p,[l]:g}=m,v=m._stacks||(m._stacks={});d=v[l]=cNe(n,c,p),d[o]=g,d._top=Xte(d,s,!0,r.type),d._bottom=Xte(d,s,!1,r.type);let y=d._visualValues||(d._visualValues={});y[o]=g}}function g8(t,i){let e=t.scales;return Object.keys(e).filter(r=>e[r].axis===i).shift()}function uNe(t,i){return Kp(t,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}function dNe(t,i,e){return Kp(t,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:e,index:i,mode:"default",type:"data"})}function Jw(t,i){let e=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){i=i||t._parsed;for(let n of i){let a=n._stacks;if(!a||a[r]===void 0||a[r][e]===void 0)return;delete a[r][e],a[r]._visualValues!==void 0&&a[r]._visualValues[e]!==void 0&&delete a[r]._visualValues[e]}}}var v8=t=>t==="reset"||t==="none",$te=(t,i)=>i?t:Object.assign({},t),hNe=(t,i,e)=>t&&!i.hidden&&i._stacked&&{keys:Gie(e,!0),values:null},M0=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=m8(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jw(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(d,f,m,p)=>d==="x"?f:d==="r"?p:m,s=r.xAxisID=Fn(n.xAxisID,g8(e,"x")),o=r.yAxisID=Fn(n.yAxisID,g8(e,"y")),u=r.rAxisID=Fn(n.rAxisID,g8(e,"r")),l=r.indexAxis,c=r.iAxisID=a(l,s,o,u),h=r.vAxisID=a(l,o,s,u);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(u),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&$N(this._data,this),e._stacked&&Jw(e)}_dataCheck(){let e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(or(r)){let a=this._cachedMeta;this._data=aNe(r,a)}else if(n!==r){if(n){$N(n,this);let a=this._cachedMeta;Jw(a),a._parsed=[]}r&&Object.isExtensible(r)&&Ste(r,this),this._syncList=[],this._data=r}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let r=this._cachedMeta,n=this.getDataset(),a=!1;this._dataCheck();let s=r._stacked;r._stacked=m8(r.vScale,r),r.stack!==n.stack&&(a=!0,Jw(r),r.stack=n.stack),this._resyncElements(e),(a||s!==r._stacked)&&(Yte(this,r._parsed),r._stacked=m8(r.vScale,r))}configure(){let e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){let{_cachedMeta:n,_data:a}=this,{iScale:s,_stacked:o}=n,u=s.axis,l=e===0&&r===a.length?!0:n._sorted,c=e>0&&n._parsed[e-1],h,d,f;if(this._parsing===!1)n._parsed=a,n._sorted=!0,f=a;else{Hs(a[e])?f=this.parseArrayData(n,a,e,r):or(a[e])?f=this.parseObjectData(n,a,e,r):f=this.parsePrimitiveData(n,a,e,r);let m=()=>d[u]===null||c&&d[u]<c[u];for(h=0;h<r;++h)n._parsed[h+e]=d=f[h],l&&(m()&&(l=!1),c=d);n._sorted=l}o&&Yte(this,f)}parsePrimitiveData(e,r,n,a){let{iScale:s,vScale:o}=e,u=s.axis,l=o.axis,c=s.getLabels(),h=s===o,d=new Array(a),f,m,p;for(f=0,m=a;f<m;++f)p=f+n,d[f]={[u]:h||s.parse(c[p],p),[l]:o.parse(r[p],p)};return d}parseArrayData(e,r,n,a){let{xScale:s,yScale:o}=e,u=new Array(a),l,c,h,d;for(l=0,c=a;l<c;++l)h=l+n,d=r[h],u[l]={x:s.parse(d[0],h),y:o.parse(d[1],h)};return u}parseObjectData(e,r,n,a){let{xScale:s,yScale:o}=e,{xAxisKey:u="x",yAxisKey:l="y"}=this._parsing,c=new Array(a),h,d,f,m;for(h=0,d=a;h<d;++h)f=h+n,m=r[f],c[h]={x:s.parse(Qp(m,u),f),y:o.parse(Qp(m,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){let a=this.chart,s=this._cachedMeta,o=r[e.axis],u={keys:Gie(a,!0),values:r._stacks[e.axis]._visualValues};return Wte(u,o,s.index,{mode:n})}updateRangeFromParsed(e,r,n,a){let s=n[r.axis],o=s===null?NaN:s,u=a&&n._stacks[r.axis];a&&u&&(a.values=u,o=Wte(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){let n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,o=a.length,u=this._getOtherScale(e),l=hNe(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=lNe(u),f,m;function p(){m=a[f];let g=m[u.axis];return!va(m[e.axis])||h>g||d<g}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,e,m,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){let r=this._cachedMeta._parsed,n=[],a,s,o;for(a=0,s=r.length;a<s;++a)o=r[a][e.axis],va(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){let r=this._cachedMeta,n=r.iScale,a=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){let r=this._cachedMeta;this.update(e||"default"),r._clip=sNe(Fn(this.options.clip,rNe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],s=r.chartArea,o=[],u=this._drawStart||0,l=this._drawCount||a.length-u,c=this.options.drawActiveElementsOnTop,h;for(n.dataset&&n.dataset.draw(e,s,u,l),h=u;h<u+l;++h){let d=a[h];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,r){let n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){let a=this.getDataset(),s;if(e>=0&&e<this._cachedMeta.data.length){let o=this._cachedMeta.data[e];s=o.$context||(o.$context=dNe(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=uNe(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){let a=r==="active",s=this._cachedDataOpts,o=e+"-"+r,u=s[o],l=this.enableOptionSharing&&wx(n);if(u)return $te(u,l);let c=this.chart.config,h=c.datasetElementScopeKeys(this._type,e),d=a?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),h),m=Object.keys(Qs.elements[e]),p=()=>this.getContext(n,a,r),g=c.resolveNamedOptions(f,m,p,d);return g.$shared&&(g.$shared=l,s[o]=Object.freeze($te(g,l))),g}_resolveAnimations(e,r,n){let a=this.chart,s=this._cachedDataOpts,o=`animation-${r}`,u=s[o];if(u)return u;let l;if(a.options.animation!==!1){let h=this.chart.config,d=h.datasetAnimationScopeKeys(this._type,r),f=h.getOptionScopes(this.getDataset(),d);l=h.createResolver(f,this.getContext(e,n,r))}let c=new PI(a,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||v8(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){let n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,s=this.getSharedOptions(n),o=this.includeOptions(r,s)||s!==a;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:o}}updateElement(e,r,n,a){v8(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!v8(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;let s=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let r=this._data,n=this._cachedMeta.data;for(let[u,l,c]of this._syncList)this[u](l,c);this._syncList=[];let a=n.length,s=r.length,o=Math.min(s,a);o&&this.parse(0,o),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,r,n=!0){let a=this._cachedMeta,s=a.data,o=e+r,u,l=c=>{for(c.length+=r,u=c.length-1;u>=o;u--)c[u]=c[u-r]};for(l(s),u=e;u<o;++u)s[u]=new this.dataElementType;this._parsing&&l(a._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){let n=this._cachedMeta;if(this._parsing){let a=n._parsed.splice(e,r);n._stacked&&Jw(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);let n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function fNe(t,i){if(!t._cache.$bar){let e=t.getMatchingVisibleMetas(i),r=[];for(let n=0,a=e.length;n<a;n++)r=r.concat(e[n].controller.getAllParsedValues(t));t._cache.$bar=QN(r.sort((n,a)=>n-a))}return t._cache.$bar}function pNe(t){let i=t.iScale,e=fNe(i,t.type),r=i._length,n,a,s,o,u=()=>{s===32767||s===-32768||(wx(o)&&(r=Math.min(r,Math.abs(s-o)||r)),o=s)};for(n=0,a=e.length;n<a;++n)s=i.getPixelForValue(e[n]),u();for(o=void 0,n=0,a=i.ticks.length;n<a;++n)s=i.getPixelForTick(n),u();return r}function mNe(t,i,e,r){let n=e.barThickness,a,s;return Cr(n)?(a=i.min*e.categoryPercentage,s=e.barPercentage):(a=n*r,s=1),{chunk:a/r,ratio:s,start:i.pixels[t]-a/2}}function gNe(t,i,e,r){let n=i.pixels,a=n[t],s=t>0?n[t-1]:null,o=t<n.length-1?n[t+1]:null,u=e.categoryPercentage;s===null&&(s=a-(o===null?i.end-i.start:o-a)),o===null&&(o=a+a-s);let l=a-(a-Math.min(s,o))/2*u;return{chunk:Math.abs(o-s)/2*u/r,ratio:e.barPercentage,start:l}}function vNe(t,i,e,r){let n=e.parse(t[0],r),a=e.parse(t[1],r),s=Math.min(n,a),o=Math.max(n,a),u=s,l=o;Math.abs(s)>Math.abs(o)&&(u=o,l=s),i[e.axis]=l,i._custom={barStart:u,barEnd:l,start:n,end:a,min:s,max:o}}function jie(t,i,e,r){return Hs(t)?vNe(t,i,e,r):i[e.axis]=e.parse(t,r),i}function Qte(t,i,e,r){let n=t.iScale,a=t.vScale,s=n.getLabels(),o=n===a,u=[],l,c,h,d;for(l=e,c=e+r;l<c;++l)d=i[l],h={},h[n.axis]=o||n.parse(s[l],l),u.push(jie(d,h,a,l));return u}function y8(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function yNe(t,i,e){return t!==0?Fh(t):(i.isHorizontal()?1:-1)*(i.min>=e?1:-1)}function xNe(t){let i,e,r,n,a;return t.horizontal?(i=t.base>t.x,e="left",r="right"):(i=t.base<t.y,e="bottom",r="top"),i?(n="end",a="start"):(n="start",a="end"),{start:e,end:r,reverse:i,top:n,bottom:a}}function bNe(t,i,e,r){let n=i.borderSkipped,a={};if(!n){t.borderSkipped=a;return}if(n===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:o,reverse:u,top:l,bottom:c}=xNe(t);n==="middle"&&e&&(t.enableBorderRadius=!0,(e._top||0)===r?n=l:(e._bottom||0)===r?n=c:(a[Kte(c,s,o,u)]=!0,n=l)),a[Kte(n,s,o,u)]=!0,t.borderSkipped=a}function Kte(t,i,e,r){return r?(t=_Ne(t,i,e),t=Zte(t,e,i)):t=Zte(t,i,e),t}function _Ne(t,i,e){return t===i?e:t===e?i:t}function Zte(t,i,e){return t==="start"?i:t==="end"?e:t}function wNe(t,{inflateAmount:i},e){t.inflateAmount=i==="auto"?e===1?.33:0:i}var CNe=(()=>{class t extends M0{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,r,n,a){return Qte(e,r,n,a)}parseArrayData(e,r,n,a){return Qte(e,r,n,a)}parseObjectData(e,r,n,a){let{iScale:s,vScale:o}=e,{xAxisKey:u="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?u:l,h=o.axis==="x"?u:l,d=[],f,m,p,g;for(f=n,m=n+a;f<m;++f)g=r[f],p={},p[s.axis]=s.parse(Qp(g,c),f),d.push(jie(Qp(g,h),p,o,f));return d}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);let s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let r=this._cachedMeta,{iScale:n,vScale:a}=r,s=this.getParsed(e),o=s._custom,u=y8(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){let s=a==="reset",{index:o,_cachedMeta:{vScale:u}}=this,l=u.getBasePixel(),c=u.isHorizontal(),h=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,a);for(let m=r;m<r+n;m++){let p=this.getParsed(m),g=s||Cr(p[u.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),v=this._calculateBarIndexPixels(m,h),y=(p._stacks||{})[u.axis],x={horizontal:c,base:g.base,enableBorderRadius:!y||y8(p._custom)||o===y._top||o===y._bottom,x:c?g.head:v.center,y:c?v.center:g.head,height:c?v.size:Math.abs(g.size),width:c?Math.abs(g.size):v.size};f&&(x.options=d||this.resolveDataElementOptions(m,e[m].active?"active":a));let b=x.options||e[m].options;bNe(x,b,y,o),wNe(x,b,h.ratio),this.updateElement(e[m],m,x,a)}}_getStacks(e,r){let{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=n.options.stacked,o=[],u=this._cachedMeta.controller.getParsed(r),l=u&&u[n.axis],c=h=>{let d=h._parsed.find(m=>m[n.axis]===l),f=d&&d[h.vScale.axis];if(Cr(f)||isNaN(f))return!0};for(let h of a)if(!(r!==void 0&&c(h))&&((s===!1||o.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){let a=this._getStacks(e,n),s=r!==void 0?a.indexOf(r):-1;return s===-1?a.length-1:s}_getRuler(){let e=this.options,r=this._cachedMeta,n=r.iScale,a=[],s,o;for(s=0,o=r.data.length;s<o;++s)a.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));let u=e.barThickness;return{min:u||pNe(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:s,minBarLength:o}}=this,u=s||0,l=this.getParsed(e),c=l._custom,h=y8(c),d=l[r.axis],f=0,m=n?this.applyStack(r,l,n):d,p,g;m!==d&&(f=m-d,m=d),h&&(d=c.barStart,m=c.barEnd-c.barStart,d!==0&&Fh(d)!==Fh(c.barEnd)&&(f=0),f+=d);let v=!Cr(s)&&!h?s:f,y=r.getPixelForValue(v);if(this.chart.getDataVisibility(e)?p=r.getPixelForValue(f+m):p=y,g=p-y,Math.abs(g)<o){g=yNe(g,r,u)*o,d===u&&(y-=g/2);let x=r.getPixelForDecimal(0),b=r.getPixelForDecimal(1),w=Math.min(x,b),C=Math.max(x,b);y=Math.max(Math.min(y,C),w),p=y+g,n&&!h&&(l._stacks[r.axis]._visualValues[a]=r.getValueForPixel(p)-r.getValueForPixel(y))}if(y===r.getPixelForValue(u)){let x=Fh(g)*r.getLineWidthForValue(u)/2;y+=x,g-=x}return{size:g,base:y,head:p,center:p+g/2}}_calculateBarIndexPixels(e,r){let n=r.scale,a=this.options,s=a.skipNull,o=Fn(a.maxBarThickness,1/0),u,l;if(r.grouped){let c=s?this._getStackCount(e):r.stackCount,h=a.barThickness==="flex"?gNe(e,r,a,c):mNe(e,r,a,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);u=h.start+h.chunk*d+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else u=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(o,r.min*r.ratio);return{base:u-l/2,head:u+l/2,center:u,size:l}}draw(){let e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length,s=0;for(;s<a;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}return t})(),SNe=(()=>{class t extends M0{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,a){let s=super.parsePrimitiveData(e,r,n,a);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+n).radius;return s}parseArrayData(e,r,n,a){let s=super.parseArrayData(e,r,n,a);for(let o=0;o<s.length;o++){let u=r[n+o];s[o]._custom=Fn(u[2],this.resolveDataElementOptions(o+n).radius)}return s}parseObjectData(e,r,n,a){let s=super.parseObjectData(e,r,n,a);for(let o=0;o<s.length;o++){let u=r[n+o];s[o]._custom=Fn(u&&u.r&&+u.r,this.resolveDataElementOptions(o+n).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){let r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,o=this.getParsed(e),u=a.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:n[e]||"",value:"("+u+", "+l+(c?", "+c:"")+")"}}update(e){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,a){let s=a==="reset",{iScale:o,vScale:u}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(r,a),h=o.axis,d=u.axis;for(let f=r;f<r+n;f++){let m=e[f],p=!s&&this.getParsed(f),g={},v=g[h]=s?o.getPixelForDecimal(.5):o.getPixelForValue(p[h]),y=g[d]=s?u.getBasePixel():u.getPixelForValue(p[d]);g.skip=isNaN(v)||isNaN(y),c&&(g.options=l||this.resolveDataElementOptions(f,m.active?"active":a),s&&(g.options.radius=0)),this.updateElement(m,f,g,a)}}resolveDataElementOptions(e,r){let n=this.getParsed(e),a=super.resolveDataElementOptions(e,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));let s=a.radius;return r!=="active"&&(a.radius=0),a.radius+=Fn(n&&n._custom,s),a}}return t})();function TNe(t,i,e){let r=1,n=1,a=0,s=0;if(i<js){let o=t,u=o+i,l=Math.cos(o),c=Math.sin(o),h=Math.cos(u),d=Math.sin(u),f=(x,b,w)=>Sx(x,o,u,!0)?1:Math.max(b,b*e,w,w*e),m=(x,b,w)=>Sx(x,o,u,!0)?-1:Math.min(b,b*e,w,w*e),p=f(0,l,h),g=f(Oa,c,d),v=m(Gs,l,h),y=m(Gs+Oa,c,d);r=(p-v)/2,n=(g-y)/2,a=-(p+v)/2,s=-(g+y)/2}return{ratioX:r,ratioY:n,offsetX:a,offsetY:s}}var X8=(()=>{class t extends M0{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let r=e.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,o)=>{let l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:a,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}};constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){let n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let s=l=>+n[l];if(or(n[e])){let{key:l="value"}=this._parsing;s=c=>+Qp(n[c],l)}let o,u;for(o=e,u=e+r;o<u;++o)a._parsed[o]=s(o)}}_getRotation(){return Ud(this.options.rotation-90)}_getCircumference(){return Ud(this.options.circumference)}_getRotationExtents(){let e=js,r=-js;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){let a=this.chart.getDatasetMeta(n).controller,s=a._getRotation(),o=a._getCircumference();e=Math.min(e,s),r=Math.max(r,s+o)}return{rotation:e,circumference:r-e}}update(e){let r=this.chart,{chartArea:n}=r,a=this._cachedMeta,s=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,u=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(mte(this.options.cutout,u),1),c=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:p,offsetY:g}=TNe(d,h,l),v=(n.width-o)/f,y=(n.height-o)/m,x=Math.max(Math.min(v,y)/2,0),b=HN(this.options.radius,x),w=Math.max(b*l,0),C=(b-w)/this._getVisibleDatasetWeightTotal();this.offsetX=p*b,this.offsetY=g*b,a.total=this.calculateTotal(),this.outerRadius=b-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){let n=this.options,a=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*s/js)}updateElements(e,r,n,a){let s=a==="reset",o=this.chart,u=o.chartArea,c=o.options.animation,h=(u.left+u.right)/2,d=(u.top+u.bottom)/2,f=s&&c.animateScale,m=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(r,a),y=this._getRotation(),x;for(x=0;x<r;++x)y+=this._circumference(x,s);for(x=r;x<r+n;++x){let b=this._circumference(x,s),w=e[x],C={x:h+this.offsetX,y:d+this.offsetY,startAngle:y,endAngle:y+b,circumference:b,outerRadius:p,innerRadius:m};v&&(C.options=g||this.resolveDataElementOptions(x,w.active?"active":a)),y+=b,this.updateElement(w,x,C,a)}}calculateTotal(){let e=this._cachedMeta,r=e.data,n=0,a;for(a=0;a<r.length;a++){let s=e._parsed[a];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){let r=this._cachedMeta.total;return r>0&&!isNaN(e)?js*(Math.abs(e)/r):0}getLabelAndValue(e){let r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Tx(r._parsed[e],n.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){let r=0,n=this.chart,a,s,o,u,l;if(!e){for(a=0,s=n.data.datasets.length;a<s;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),e=o.data,u=o.controller;break}}if(!e)return 0;for(a=0,s=e.length;a<s;++a)l=u.resolveDataElementOptions(a),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){let s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Fn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),ENe=(()=>{class t extends M0{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let r=this._cachedMeta,{dataset:n,data:a=[],_dataset:s}=r,o=this.chart._animationsDisabled,{start:u,count:l}=JN(r,a,o);this._drawStart=u,this._drawCount=l,qN(r)&&(u=0,l=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=a;let c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},e),this.updateElements(a,u,l,e)}updateElements(e,r,n,a){let s=a==="reset",{iScale:o,vScale:u,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(r,a),f=o.axis,m=u.axis,{spanGaps:p,segment:g}=this.options,v=cv(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||a==="none",x=r+n,b=e.length,w=r>0&&this.getParsed(r-1);for(let C=0;C<b;++C){let _=e[C],S=y?_:{};if(C<r||C>=x){S.skip=!0;continue}let T=this.getParsed(C),A=Cr(T[m]),M=S[f]=o.getPixelForValue(T[f],C),I=S[m]=s||A?u.getBasePixel():u.getPixelForValue(l?this.applyStack(u,T,l):T[m],C);S.skip=isNaN(M)||isNaN(I)||A,S.stop=C>0&&Math.abs(T[f]-w[f])>v,g&&(S.parsed=T,S.raw=c.data[C]),d&&(S.options=h||this.resolveDataElementOptions(C,_.active?"active":a)),y||this.updateElement(_,C,S,a),w=T}}getMaxOverflow(){let e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;let s=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,s,o)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return t})(),Wie=(()=>{class t extends M0{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let r=e.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,o)=>{let l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:a,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Tx(r._parsed[e].r,n.options.locale);return{label:a[e]||"",value:s}}parseObjectData(e,r,n,a){return l8.bind(this)(e,r,n,a)}update(e){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){let e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{let s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){let e=this.chart,r=e.chartArea,n=e.options,a=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(a/2,0),o=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),u=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(e,r,n,a){let s=a==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,d=c.yCenter,f=c.getIndexAngle(0)-.5*Gs,m=f,p,g=360/this.countVisibleElements();for(p=0;p<r;++p)m+=this._computeAngle(p,a,g);for(p=r;p<r+n;p++){let v=e[p],y=m,x=m+this._computeAngle(p,a,g),b=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;m=x,s&&(l.animateScale&&(b=0),l.animateRotate&&(y=x=f));let w={x:h,y:d,innerRadius:0,outerRadius:b,startAngle:y,endAngle:x,options:this.resolveDataElementOptions(p,v.active?"active":a)};this.updateElement(v,p,w,a)}}countVisibleElements(){let e=this._cachedMeta,r=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?Ud(this.resolveDataElementOptions(e,r).angle||n):0}}return t})(),ANe=(()=>{class t extends X8{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),MNe=(()=>{class t extends M0{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return l8.bind(this)(e,r,n,a)}update(e){let r=this._cachedMeta,n=r.dataset,a=r.data||[],s=r.iScale.getLabels();if(n.points=a,e!=="resize"){let o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);let u={_loop:!0,_fullLoop:s.length===a.length,options:o};this.updateElement(n,void 0,u,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){let s=this._cachedMeta.rScale,o=a==="reset";for(let u=r;u<r+n;u++){let l=e[u],c=this.resolveDataElementOptions(u,l.active?"active":a),h=s.getPointPositionForValue(u,this.getParsed(u).r),d=o?s.xCenter:h.x,f=o?s.yCenter:h.y,m={x:d,y:f,angle:h.angle,skip:isNaN(d)||isNaN(f),options:c};this.updateElement(l,u,m,a)}}}return t})(),INe=(()=>{class t extends M0{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,o=this.getParsed(e),u=a.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:n[e]||"",value:"("+u+", "+l+")"}}update(e){let r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled,{start:s,count:o}=JN(r,n,a);if(this._drawStart=s,this._drawCount=o,qN(r)&&(s=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:u,_dataset:l}=r;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!l._decimated,u.points=n;let c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(u,void 0,{animated:!a,options:c},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,s,o,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){let s=a==="reset",{iScale:o,vScale:u,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(r,a),d=this.getSharedOptions(h),f=this.includeOptions(a,d),m=o.axis,p=u.axis,{spanGaps:g,segment:v}=this.options,y=cv(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||a==="none",b=r>0&&this.getParsed(r-1);for(let w=r;w<r+n;++w){let C=e[w],_=this.getParsed(w),S=x?C:{},T=Cr(_[p]),A=S[m]=o.getPixelForValue(_[m],w),M=S[p]=s||T?u.getBasePixel():u.getPixelForValue(l?this.applyStack(u,_,l):_[p],w);S.skip=isNaN(A)||isNaN(M)||T,S.stop=w>0&&Math.abs(_[m]-b[m])>y,v&&(S.parsed=_,S.raw=c.data[w]),f&&(S.options=d||this.resolveDataElementOptions(w,C.active?"active":a)),x||this.updateElement(C,w,S,a),b=_}this.updateSharedOptions(d,a,h)}getMaxOverflow(){let e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let u=0;for(let l=r.length-1;l>=0;--l)u=Math.max(u,r[l].size(this.resolveDataElementOptions(l))/2);return u>0&&u}let n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;let s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,s,o)/2}}return t})(),DNe=Object.freeze({__proto__:null,BarController:CNe,BubbleController:SNe,DoughnutController:X8,LineController:ENe,PieController:ANe,PolarAreaController:Wie,RadarController:MNe,ScatterController:INe});function dv(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var A8=class t{static override(i){Object.assign(t.prototype,i)}options;constructor(i){this.options=i||{}}init(){}formats(){return dv()}parse(){return dv()}format(){return dv()}add(){return dv()}diff(){return dv()}startOf(){return dv()}endOf(){return dv()}},PNe={_date:A8};function RNe(t,i,e,r){let{controller:n,data:a,_sorted:s}=t,o=n._cachedMeta.iScale;if(o&&i===o.axis&&i!=="r"&&s&&a.length){let u=o._reversePixels?_te:Vf;if(r){if(n._sharedOptions){let l=a[0],c=typeof l.getRange=="function"&&l.getRange(i);if(c){let h=u(a,i,e-c),d=u(a,i,e+c);return{lo:h.lo,hi:d.hi}}}}else return u(a,i,e)}return{lo:0,hi:a.length-1}}function l2(t,i,e,r,n){let a=t.getSortedVisibleDatasetMetas(),s=e[i];for(let o=0,u=a.length;o<u;++o){let{index:l,data:c}=a[o],{lo:h,hi:d}=RNe(a[o],i,s,n);for(let f=h;f<=d;++f){let m=c[f];m.skip||r(m,l,f)}}}function kNe(t){let i=t.indexOf("x")!==-1,e=t.indexOf("y")!==-1;return function(r,n){let a=i?Math.abs(r.x-n.x):0,s=e?Math.abs(r.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}function x8(t,i,e,r,n){let a=[];return!n&&!t.isPointInArea(i)||l2(t,e,i,function(o,u,l){!n&&!zf(o,t.chartArea,0)||o.inRange(i.x,i.y,r)&&a.push({element:o,datasetIndex:u,index:l})},!0),a}function FNe(t,i,e,r){let n=[];function a(s,o,u){let{startAngle:l,endAngle:c}=s.getProps(["startAngle","endAngle"],r),{angle:h}=YN(s,{x:i.x,y:i.y});Sx(h,l,c)&&n.push({element:s,datasetIndex:o,index:u})}return l2(t,e,i,a),n}function ONe(t,i,e,r,n,a){let s=[],o=kNe(e),u=Number.POSITIVE_INFINITY;function l(c,h,d){let f=c.inRange(i.x,i.y,n);if(r&&!f)return;let m=c.getCenterPoint(n);if(!(!!a||t.isPointInArea(m))&&!f)return;let g=o(i,m);g<u?(s=[{element:c,datasetIndex:h,index:d}],u=g):g===u&&s.push({element:c,datasetIndex:h,index:d})}return l2(t,e,i,l),s}function b8(t,i,e,r,n,a){return!a&&!t.isPointInArea(i)?[]:e==="r"&&!r?FNe(t,i,e,n):ONe(t,i,e,r,n,a)}function Jte(t,i,e,r,n){let a=[],s=e==="x"?"inXRange":"inYRange",o=!1;return l2(t,e,i,(u,l,c)=>{u[s]&&u[s](i[e],n)&&(a.push({element:u,datasetIndex:l,index:c}),o=o||u.inRange(i.x,i.y,n))}),r&&!o?[]:a}var LNe={evaluateInteractionItems:l2,modes:{index(t,i,e,r){let n=E0(i,t),a=e.axis||"x",s=e.includeInvisible||!1,o=e.intersect?x8(t,n,a,r,s):b8(t,n,a,!1,r,s),u=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(l=>{let c=o[0].index,h=l.data[c];h&&!h.skip&&u.push({element:h,datasetIndex:l.index,index:c})}),u):[]},dataset(t,i,e,r){let n=E0(i,t),a=e.axis||"xy",s=e.includeInvisible||!1,o=e.intersect?x8(t,n,a,r,s):b8(t,n,a,!1,r,s);if(o.length>0){let u=o[0].datasetIndex,l=t.getDatasetMeta(u).data;o=[];for(let c=0;c<l.length;++c)o.push({element:l[c],datasetIndex:u,index:c})}return o},point(t,i,e,r){let n=E0(i,t),a=e.axis||"xy",s=e.includeInvisible||!1;return x8(t,n,a,r,s)},nearest(t,i,e,r){let n=E0(i,t),a=e.axis||"xy",s=e.includeInvisible||!1;return b8(t,n,a,e.intersect,r,s)},x(t,i,e,r){let n=E0(i,t);return Jte(t,n,"x",e.intersect,r)},y(t,i,e,r){let n=E0(i,t);return Jte(t,n,"y",e.intersect,r)}}},Xie=["left","top","right","bottom"];function qw(t,i){return t.filter(e=>e.pos===i)}function qte(t,i){return t.filter(e=>Xie.indexOf(e.pos)===-1&&e.box.axis===i)}function e2(t,i){return t.sort((e,r)=>{let n=i?r:e,a=i?e:r;return n.weight===a.weight?n.index-a.index:n.weight-a.weight})}function NNe(t){let i=[],e,r,n,a,s,o;for(e=0,r=(t||[]).length;e<r;++e)n=t[e],{position:a,options:{stack:s,stackWeight:o=1}}=n,i.push({index:e,box:n,pos:a,horizontal:n.isHorizontal(),weight:n.weight,stack:s&&a+s,stackWeight:o});return i}function BNe(t){let i={};for(let e of t){let{stack:r,pos:n,stackWeight:a}=e;if(!r||!Xie.includes(n))continue;let s=i[r]||(i[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return i}function VNe(t,i){let e=BNe(t),{vBoxMaxWidth:r,hBoxMaxHeight:n}=i,a,s,o;for(a=0,s=t.length;a<s;++a){o=t[a];let{fullSize:u}=o.box,l=e[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:u&&i.availableWidth,o.height=n):(o.width=r,o.height=c?c*n:u&&i.availableHeight)}return e}function zNe(t){let i=NNe(t),e=e2(i.filter(l=>l.box.fullSize),!0),r=e2(qw(i,"left"),!0),n=e2(qw(i,"right")),a=e2(qw(i,"top"),!0),s=e2(qw(i,"bottom")),o=qte(i,"x"),u=qte(i,"y");return{fullSize:e,leftAndTop:r.concat(a),rightAndBottom:n.concat(u).concat(s).concat(o),chartArea:qw(i,"chartArea"),vertical:r.concat(n).concat(u),horizontal:a.concat(s).concat(o)}}function eie(t,i,e,r){return Math.max(t[e],i[e])+Math.max(t[r],i[r])}function Yie(t,i){t.top=Math.max(t.top,i.top),t.left=Math.max(t.left,i.left),t.bottom=Math.max(t.bottom,i.bottom),t.right=Math.max(t.right,i.right)}function UNe(t,i,e,r){let{pos:n,box:a}=e,s=t.maxPadding;if(!or(n)){e.size&&(t[n]-=e.size);let h=r[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?a.height:a.width),e.size=h.size/h.count,t[n]+=e.size}a.getPadding&&Yie(s,a.getPadding());let o=Math.max(0,i.outerWidth-eie(s,t,"left","right")),u=Math.max(0,i.outerHeight-eie(s,t,"top","bottom")),l=o!==t.w,c=u!==t.h;return t.w=o,t.h=u,e.horizontal?{same:l,other:c}:{same:c,other:l}}function HNe(t){let i=t.maxPadding;function e(r){let n=Math.max(i[r]-t[r],0);return t[r]+=n,n}t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}function GNe(t,i){let e=i.maxPadding;function r(n){let a={left:0,top:0,right:0,bottom:0};return n.forEach(s=>{a[s]=Math.max(i[s],e[s])}),a}return r(t?["left","right"]:["top","bottom"])}function n2(t,i,e,r){let n=[],a,s,o,u,l,c;for(a=0,s=t.length,l=0;a<s;++a){o=t[a],u=o.box,u.update(o.width||i.w,o.height||i.h,GNe(o.horizontal,i));let{same:h,other:d}=UNe(i,e,o,r);l|=h&&n.length,c=c||d,u.fullSize||n.push(o)}return l&&n2(n,i,e,r)||c}function wI(t,i,e,r,n){t.top=e,t.left=i,t.right=i+r,t.bottom=e+n,t.width=r,t.height=n}function tie(t,i,e,r){let n=e.padding,{x:a,y:s}=i;for(let o of t){let u=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){let h=i.w*c,d=l.size||u.height;wx(l.start)&&(s=l.start),u.fullSize?wI(u,n.left,s,e.outerWidth-n.right-n.left,d):wI(u,i.left+l.placed,s,h,d),l.start=s,l.placed+=h,s=u.bottom}else{let h=i.h*c,d=l.size||u.width;wx(l.start)&&(a=l.start),u.fullSize?wI(u,a,n.top,d,e.outerHeight-n.bottom-n.top):wI(u,a,i.top+l.placed,d,h),l.start=a,l.placed+=h,a=u.right}}i.x=a,i.y=s}var jl={addBox(t,i){t.boxes||(t.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(e){i.draw(e)}}]},t.boxes.push(i)},removeBox(t,i){let e=t.boxes?t.boxes.indexOf(i):-1;e!==-1&&t.boxes.splice(e,1)},configure(t,i,e){i.fullSize=e.fullSize,i.position=e.position,i.weight=e.weight},update(t,i,e,r){if(!t)return;let n=pl(t.options.layout.padding),a=Math.max(i-n.width,0),s=Math.max(e-n.height,0),o=zNe(t.boxes),u=o.vertical,l=o.horizontal;is(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});let c=u.reduce((p,g)=>g.box.options&&g.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:i,outerHeight:e,padding:n,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/c,hBoxMaxHeight:s/2}),d=Object.assign({},n);Yie(d,pl(r));let f=Object.assign({maxPadding:d,w:a,h:s,x:n.left,y:n.top},n),m=VNe(u.concat(l),h);n2(o.fullSize,f,h,m),n2(u,f,h,m),n2(l,f,h,m)&&n2(u,f,h,m),HNe(f),tie(o.leftAndTop,f,h,m),f.x+=f.w,f.y+=f.h,tie(o.rightAndBottom,f,h,m),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},is(o.chartArea,p=>{let g=p.box;Object.assign(g,t.chartArea),g.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},RI=class{acquireContext(i,e){}releaseContext(i){return!1}addEventListener(i,e,r){}removeEventListener(i,e,r){}getDevicePixelRatio(){return 1}getMaximumSize(i,e,r,n){return e=Math.max(0,e||i.width),r=r||i.height,{width:e,height:Math.max(0,n?Math.floor(e/n):r)}}isAttached(i){return!0}updateConfig(i){}},M8=class extends RI{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}},II="$chartjs",jNe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},iie=t=>t===null||t==="";function WNe(t,i){let e=t.style,r=t.getAttribute("height"),n=t.getAttribute("width");if(t[II]={initial:{height:r,width:n,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",iie(n)){let a=u8(t,"width");a!==void 0&&(t.width=a)}if(iie(r))if(t.style.height==="")t.height=t.width/(i||2);else{let a=u8(t,"height");a!==void 0&&(t.height=a)}return t}var $ie=Bte?{passive:!0}:!1;function XNe(t,i,e){t&&t.addEventListener(i,e,$ie)}function YNe(t,i,e){t&&t.canvas&&t.canvas.removeEventListener(i,e,$ie)}function $Ne(t,i){let e=jNe[t.type]||t.type,{x:r,y:n}=E0(t,i);return{type:e,chart:i,native:t,x:r!==void 0?r:null,y:n!==void 0?n:null}}function kI(t,i){for(let e of t)if(e===i||e.contains(i))return!0}function QNe(t,i,e){let r=t.canvas,n=new MutationObserver(a=>{let s=!1;for(let o of a)s=s||kI(o.addedNodes,r),s=s&&!kI(o.removedNodes,r);s&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}function KNe(t,i,e){let r=t.canvas,n=new MutationObserver(a=>{let s=!1;for(let o of a)s=s||kI(o.removedNodes,r),s=s&&!kI(o.addedNodes,r);s&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}var s2=new Map,nie=0;function Qie(){let t=window.devicePixelRatio;t!==nie&&(nie=t,s2.forEach((i,e)=>{e.currentDevicePixelRatio!==t&&i()}))}function ZNe(t,i){s2.size||window.addEventListener("resize",Qie),s2.set(t,i)}function JNe(t){s2.delete(t),s2.size||window.removeEventListener("resize",Qie)}function qNe(t,i,e){let r=t.canvas,n=r&&bI(r);if(!n)return;let a=ZN((o,u)=>{let l=n.clientWidth;e(o,u),l<n.clientWidth&&e()},window),s=new ResizeObserver(o=>{let u=o[0],l=u.contentRect.width,c=u.contentRect.height;l===0&&c===0||a(l,c)});return s.observe(n),ZNe(t,a),s}function _8(t,i,e){e&&e.disconnect(),i==="resize"&&JNe(t)}function e8e(t,i,e){let r=t.canvas,n=ZN(a=>{t.ctx!==null&&e($Ne(a,t))},t);return XNe(r,i,n),n}var I8=class extends RI{acquireContext(i,e){let r=i&&i.getContext&&i.getContext("2d");return r&&r.canvas===i?(WNe(i,e),r):null}releaseContext(i){let e=i.canvas;if(!e[II])return!1;let r=e[II].initial;["height","width"].forEach(a=>{let s=r[a];Cr(s)?e.removeAttribute(a):e.setAttribute(a,s)});let n=r.style||{};return Object.keys(n).forEach(a=>{e.style[a]=n[a]}),e.width=e.width,delete e[II],!0}addEventListener(i,e,r){this.removeEventListener(i,e);let n=i.$proxies||(i.$proxies={}),s={attach:QNe,detach:KNe,resize:qNe}[e]||e8e;n[e]=s(i,e,r)}removeEventListener(i,e){let r=i.$proxies||(i.$proxies={}),n=r[e];if(!n)return;({attach:_8,detach:_8,resize:_8}[e]||YNe)(i,e,n),r[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,e,r,n){return Nte(i,e,r,n)}isAttached(i){let e=i&&bI(i);return!!(e&&e.isConnected)}};function t8e(t){return!xI()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?M8:I8}var Oh=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(i){let{x:e,y:r}=this.getProps(["x","y"],i);return{x:e,y:r}}hasValue(){return cv(this.x)&&cv(this.y)}getProps(i,e){let r=this.$animations;if(!e||!r)return this;let n={};return i.forEach(a=>{n[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),n}};function i8e(t,i){let e=t.options.ticks,r=n8e(t),n=Math.min(e.maxTicksLimit||r,r),a=e.major.enabled?s8e(i):[],s=a.length,o=a[0],u=a[s-1],l=[];if(s>n)return a8e(i,l,a,s/n),l;let c=r8e(a,i,n);if(s>0){let h,d,f=s>1?Math.round((u-o)/(s-1)):null;for(CI(i,l,c,Cr(f)?0:o-f,o),h=0,d=s-1;h<d;h++)CI(i,l,c,a[h],a[h+1]);return CI(i,l,c,u,Cr(f)?i.length:u+f),l}return CI(i,l,c),l}function n8e(t){let i=t.options.offset,e=t._tickSize(),r=t._length/e+(i?0:1),n=t._maxLength/e;return Math.floor(Math.min(r,n))}function r8e(t,i,e){let r=o8e(t),n=i.length/e;if(!r)return Math.max(n,1);let a=yte(r);for(let s=0,o=a.length-1;s<o;s++){let u=a[s];if(u>n)return u}return Math.max(n,1)}function s8e(t){let i=[],e,r;for(e=0,r=t.length;e<r;e++)t[e].major&&i.push(e);return i}function a8e(t,i,e,r){let n=0,a=e[0],s;for(r=Math.ceil(r),s=0;s<t.length;s++)s===a&&(i.push(t[s]),n++,a=e[n*r])}function CI(t,i,e,r,n){let a=Fn(r,0),s=Math.min(Fn(n,t.length),t.length),o=0,u,l,c;for(e=Math.ceil(e),n&&(u=n-r,e=u/Math.floor(u/e)),c=a;c<0;)o++,c=Math.round(a+o*e);for(l=Math.max(a,0);l<s;l++)l===c&&(i.push(t[l]),o++,c=Math.round(a+o*e))}function o8e(t){let i=t.length,e,r;if(i<2)return!1;for(r=t[0],e=1;e<i;++e)if(t[e]-t[e-1]!==r)return!1;return r}var l8e=t=>t==="left"?"right":t==="right"?"left":t,rie=(t,i,e)=>i==="top"||i==="left"?t[i]+e:t[i]-e,sie=(t,i)=>Math.min(i||t,t);function aie(t,i){let e=[],r=t.length/i,n=t.length,a=0;for(;a<n;a+=r)e.push(t[Math.floor(a)]);return e}function c8e(t,i,e){let r=t.ticks.length,n=Math.min(i,r-1),a=t._startPixel,s=t._endPixel,o=1e-6,u=t.getPixelForTick(n),l;if(!(e&&(r===1?l=Math.max(u-a,s-u):i===0?l=(t.getPixelForTick(1)-u)/2:l=(u-t.getPixelForTick(n-1))/2,u+=n<i?l:-l,u<a-o||u>s+o)))return u}function u8e(t,i){is(t,e=>{let r=e.gc,n=r.length/2,a;if(n>i){for(a=0;a<n;++a)delete e.data[r[a]];r.splice(0,n)}})}function t2(t){return t.drawTicks?t.tickLength:0}function oie(t,i){if(!t.display)return 0;let e=to(t.font,i),r=pl(t.padding);return(Hs(t.text)?t.text.length:1)*e.lineHeight+r.height}function d8e(t,i){return Kp(t,{scale:i,type:"scale"})}function h8e(t,i,e){return Kp(t,{tick:e,index:i,type:"tick"})}function f8e(t,i,e){let r=pI(t);return(e&&i!=="right"||!e&&i==="right")&&(r=l8e(r)),r}function p8e(t,i,e,r){let{top:n,left:a,bottom:s,right:o,chart:u}=t,{chartArea:l,scales:c}=u,h=0,d,f,m,p=s-n,g=o-a;if(t.isHorizontal()){if(f=fl(r,a,o),or(e)){let v=Object.keys(e)[0],y=e[v];m=c[v].getPixelForValue(y)+p-i}else e==="center"?m=(l.bottom+l.top)/2+p-i:m=rie(t,e,i);d=o-a}else{if(or(e)){let v=Object.keys(e)[0],y=e[v];f=c[v].getPixelForValue(y)-g+i}else e==="center"?f=(l.left+l.right)/2-g+i:f=rie(t,e,i);m=fl(r,s,n),h=e==="left"?-Oa:Oa}return{titleX:f,titleY:m,maxWidth:d,rotation:h}}var fv=class t extends Oh{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,e){return i}getUserBounds(){let{_userMin:i,_userMax:e,_suggestedMin:r,_suggestedMax:n}=this;return i=uu(i,Number.POSITIVE_INFINITY),e=uu(e,Number.NEGATIVE_INFINITY),r=uu(r,Number.POSITIVE_INFINITY),n=uu(n,Number.NEGATIVE_INFINITY),{min:uu(i,r),max:uu(e,n),minDefined:va(i),maxDefined:va(e)}}getMinMax(i){let{min:e,max:r,minDefined:n,maxDefined:a}=this.getUserBounds(),s;if(n&&a)return{min:e,max:r};let o=this.getMatchingVisibleMetas();for(let u=0,l=o.length;u<l;++u)s=o[u].controller.getMinMax(this,i),n||(e=Math.min(e,s.min)),a||(r=Math.max(r,s.max));return e=a&&e>r?r:e,r=n&&e>r?e:r,{min:uu(e,uu(r,e)),max:uu(r,uu(e,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}getLabelItems(i=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(i))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ks(this.options.beforeUpdate,[this])}update(i,e,r){let{beginAtZero:n,grace:a,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=e,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Pte(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let u=o<this.ticks.length;this._convertTicksToLabels(u?aie(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=i8e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let i=this.options.reverse,e,r;this.isHorizontal()?(e=this.left,r=this.right):(e=this.top,r=this.bottom,i=!i),this._startPixel=e,this._endPixel=r,this._reversePixels=i,this._length=r-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ks(this.options.afterUpdate,[this])}beforeSetDimensions(){ks(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ks(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),ks(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ks(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){let e=this.options.ticks,r,n,a;for(r=0,n=i.length;r<n;r++)a=i[r],a.label=ks(e.callback,[a.value,r,i],this)}afterTickToLabelConversion(){ks(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ks(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let i=this.options,e=i.ticks,r=sie(this.ticks.length,i.ticks.maxTicksLimit),n=e.minRotation||0,a=e.maxRotation,s=n,o,u,l;if(!this._isVisible()||!e.display||n>=a||r<=1||!this.isHorizontal()){this.labelRotation=n;return}let c=this._getLabelSizes(),h=c.widest.width,d=c.highest.height,f=Co(this.chart.width-h,0,this.maxWidth);o=i.offset?this.maxWidth/r:f/(r-1),h+6>o&&(o=f/(r-(i.offset?.5:1)),u=this.maxHeight-t2(i.grid)-e.padding-oie(i.title,this.chart.options.font),l=Math.sqrt(h*h+d*d),s=hI(Math.min(Math.asin(Co((c.highest.height+6)/o,-1,1)),Math.asin(Co(u/l,-1,1))-Math.asin(Co(d/l,-1,1)))),s=Math.max(n,Math.min(a,s))),this.labelRotation=s}afterCalculateLabelRotation(){ks(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ks(this.options.beforeFit,[this])}fit(){let i={width:0,height:0},{chart:e,options:{ticks:r,title:n,grid:a}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){let u=oie(n,e.options.font);if(o?(i.width=this.maxWidth,i.height=t2(a)+u):(i.height=this.maxHeight,i.width=t2(a)+u),r.display&&this.ticks.length){let{first:l,last:c,widest:h,highest:d}=this._getLabelSizes(),f=r.padding*2,m=Ud(this.labelRotation),p=Math.cos(m),g=Math.sin(m);if(o){let v=r.mirror?0:g*h.width+p*d.height;i.height=Math.min(this.maxHeight,i.height+v+f)}else{let v=r.mirror?0:p*h.width+g*d.height;i.width=Math.min(this.maxWidth,i.width+v+f)}this._calculatePadding(l,c,g,p)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,e,r,n){let{ticks:{align:a,padding:s},position:o}=this.options,u=this.labelRotation!==0,l=o!=="top"&&this.axis==="x";if(this.isHorizontal()){let c=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),d=0,f=0;u?l?(d=n*i.width,f=r*e.height):(d=r*i.height,f=n*e.width):a==="start"?f=e.width:a==="end"?d=i.width:a!=="inner"&&(d=i.width/2,f=e.width/2),this.paddingLeft=Math.max((d-c+s)*this.width/(this.width-c),0),this.paddingRight=Math.max((f-h+s)*this.width/(this.width-h),0)}else{let c=e.height/2,h=i.height/2;a==="start"?(c=0,h=i.height):a==="end"&&(c=e.height,h=0),this.paddingTop=c+s,this.paddingBottom=h+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ks(this.options.afterFit,[this])}isHorizontal(){let{axis:i,position:e}=this.options;return e==="top"||e==="bottom"||i==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){this.beforeTickToLabelConversion(),this.generateTickLabels(i);let e,r;for(e=0,r=i.length;e<r;e++)Cr(i[e].label)&&(i.splice(e,1),r--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){let e=this.options.ticks.sampleSize,r=this.ticks;e<r.length&&(r=aie(r,e)),this._labelSizes=i=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return i}_computeLabelSizes(i,e,r){let{ctx:n,_longestTextCache:a}=this,s=[],o=[],u=Math.floor(e/sie(e,r)),l=0,c=0,h,d,f,m,p,g,v,y,x,b,w;for(h=0;h<e;h+=u){if(m=i[h].label,p=this._resolveTickFontOptions(h),n.font=g=p.string,v=a[g]=a[g]||{data:{},gc:[]},y=p.lineHeight,x=b=0,!Cr(m)&&!Hs(m))x=Yw(n,v.data,v.gc,x,m),b=y;else if(Hs(m))for(d=0,f=m.length;d<f;++d)w=m[d],!Cr(w)&&!Hs(w)&&(x=Yw(n,v.data,v.gc,x,w),b+=y);s.push(x),o.push(b),l=Math.max(x,l),c=Math.max(b,c)}u8e(a,e);let C=s.indexOf(l),_=o.indexOf(c),S=T=>({width:s[T]||0,height:o[T]||0});return{first:S(0),last:S(e-1),widest:S(C),highest:S(_),widths:s,heights:o}}getLabelForValue(i){return i}getPixelForValue(i,e){return NaN}getValueForPixel(i){}getPixelForTick(i){let e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);let e=this._startPixel+i*this._length;return bte(this._alignToPixels?C0(this.chart,e,0):e)}getDecimalForPixel(i){let e=(i-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:i,max:e}=this;return i<0&&e<0?e:i>0&&e>0?i:0}getContext(i){let e=this.ticks||[];if(i>=0&&i<e.length){let r=e[i];return r.$context||(r.$context=h8e(this.getContext(),i,r))}return this.$context||(this.$context=d8e(this.chart.getContext(),this))}_tickSize(){let i=this.options.ticks,e=Ud(this.labelRotation),r=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),a=this._getLabelSizes(),s=i.autoSkipPadding||0,o=a?a.widest.width+s:0,u=a?a.highest.height+s:0;return this.isHorizontal()?u*r>o*n?o/r:u/n:u*n<o*r?u/r:o/n}_isVisible(){let i=this.options.display;return i!=="auto"?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){let e=this.axis,r=this.chart,n=this.options,{grid:a,position:s,border:o}=n,u=a.offset,l=this.isHorizontal(),h=this.ticks.length+(u?1:0),d=t2(a),f=[],m=o.setContext(this.getContext()),p=m.display?m.width:0,g=p/2,v=function(R){return C0(r,R,p)},y,x,b,w,C,_,S,T,A,M,I,D;if(s==="top")y=v(this.bottom),_=this.bottom-d,T=y-g,M=v(i.top)+g,D=i.bottom;else if(s==="bottom")y=v(this.top),M=i.top,D=v(i.bottom)-g,_=y+g,T=this.top+d;else if(s==="left")y=v(this.right),C=this.right-d,S=y-g,A=v(i.left)+g,I=i.right;else if(s==="right")y=v(this.left),A=i.left,I=v(i.right)-g,C=y+g,S=this.left+d;else if(e==="x"){if(s==="center")y=v((i.top+i.bottom)/2+.5);else if(or(s)){let R=Object.keys(s)[0],H=s[R];y=v(this.chart.scales[R].getPixelForValue(H))}M=i.top,D=i.bottom,_=y+g,T=_+d}else if(e==="y"){if(s==="center")y=v((i.left+i.right)/2);else if(or(s)){let R=Object.keys(s)[0],H=s[R];y=v(this.chart.scales[R].getPixelForValue(H))}C=y-g,S=C-d,A=i.left,I=i.right}let k=Fn(n.ticks.maxTicksLimit,h),G=Math.max(1,Math.ceil(h/k));for(x=0;x<h;x+=G){let R=this.getContext(x),H=a.setContext(R),j=o.setContext(R),Z=H.lineWidth,ee=H.color,Y=j.dash||[],V=j.dashOffset,O=H.tickWidth,F=H.tickColor,X=H.tickBorderDash||[],ie=H.tickBorderDashOffset;b=c8e(this,x,u),b!==void 0&&(w=C0(r,b,Z),l?C=S=A=I=w:_=T=M=D=w,f.push({tx1:C,ty1:_,tx2:S,ty2:T,x1:A,y1:M,x2:I,y2:D,width:Z,color:ee,borderDash:Y,borderDashOffset:V,tickWidth:O,tickColor:F,tickBorderDash:X,tickBorderDashOffset:ie}))}return this._ticksLength=h,this._borderValue=y,f}_computeLabelItems(i){let e=this.axis,r=this.options,{position:n,ticks:a}=r,s=this.isHorizontal(),o=this.ticks,{align:u,crossAlign:l,padding:c,mirror:h}=a,d=t2(r.grid),f=d+c,m=h?-c:f,p=-Ud(this.labelRotation),g=[],v,y,x,b,w,C,_,S,T,A,M,I,D="middle";if(n==="top")C=this.bottom-m,_=this._getXAxisLabelAlignment();else if(n==="bottom")C=this.top+m,_=this._getXAxisLabelAlignment();else if(n==="left"){let G=this._getYAxisLabelAlignment(d);_=G.textAlign,w=G.x}else if(n==="right"){let G=this._getYAxisLabelAlignment(d);_=G.textAlign,w=G.x}else if(e==="x"){if(n==="center")C=(i.top+i.bottom)/2+f;else if(or(n)){let G=Object.keys(n)[0],R=n[G];C=this.chart.scales[G].getPixelForValue(R)+f}_=this._getXAxisLabelAlignment()}else if(e==="y"){if(n==="center")w=(i.left+i.right)/2-f;else if(or(n)){let G=Object.keys(n)[0],R=n[G];w=this.chart.scales[G].getPixelForValue(R)}_=this._getYAxisLabelAlignment(d).textAlign}e==="y"&&(u==="start"?D="top":u==="end"&&(D="bottom"));let k=this._getLabelSizes();for(v=0,y=o.length;v<y;++v){x=o[v],b=x.label;let G=a.setContext(this.getContext(v));S=this.getPixelForTick(v)+a.labelOffset,T=this._resolveTickFontOptions(v),A=T.lineHeight,M=Hs(b)?b.length:1;let R=M/2,H=G.color,j=G.textStrokeColor,Z=G.textStrokeWidth,ee=_;s?(w=S,_==="inner"&&(v===y-1?ee=this.options.reverse?"left":"right":v===0?ee=this.options.reverse?"right":"left":ee="center"),n==="top"?l==="near"||p!==0?I=-M*A+A/2:l==="center"?I=-k.highest.height/2-R*A+A:I=-k.highest.height+A/2:l==="near"||p!==0?I=A/2:l==="center"?I=k.highest.height/2-R*A:I=k.highest.height-M*A,h&&(I*=-1),p!==0&&!G.showLabelBackdrop&&(w+=A/2*Math.sin(p))):(C=S,I=(1-M)*A/2);let Y;if(G.showLabelBackdrop){let V=pl(G.backdropPadding),O=k.heights[v],F=k.widths[v],X=I-V.top,ie=0-V.left;switch(D){case"middle":X-=O/2;break;case"bottom":X-=O;break}switch(_){case"center":ie-=F/2;break;case"right":ie-=F;break;case"inner":v===y-1?ie-=F:v>0&&(ie-=F/2);break}Y={left:ie,top:X,width:F+V.width,height:O+V.height,color:G.backdropColor}}g.push({label:b,font:T,textOffset:I,options:{rotation:p,color:H,strokeColor:j,strokeWidth:Z,textAlign:ee,textBaseline:D,translation:[w,C],backdrop:Y}})}return g}_getXAxisLabelAlignment(){let{position:i,ticks:e}=this.options;if(-Ud(this.labelRotation))return i==="top"?"left":"right";let n="center";return e.align==="start"?n="left":e.align==="end"?n="right":e.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(i){let{position:e,ticks:{crossAlign:r,mirror:n,padding:a}}=this.options,s=this._getLabelSizes(),o=i+a,u=s.widest.width,l,c;return e==="left"?n?(c=this.right+a,r==="near"?l="left":r==="center"?(l="center",c+=u/2):(l="right",c+=u)):(c=this.right-o,r==="near"?l="right":r==="center"?(l="center",c-=u/2):(l="left",c=this.left)):e==="right"?n?(c=this.left+a,r==="near"?l="right":r==="center"?(l="center",c-=u/2):(l="left",c-=u)):(c=this.left+o,r==="near"?l="left":r==="center"?(l="center",c+=u/2):(l="right",c=this.right)):l="right",{textAlign:l,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;let i=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:i.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:i.width}}drawBackground(){let{ctx:i,options:{backgroundColor:e},left:r,top:n,width:a,height:s}=this;e&&(i.save(),i.fillStyle=e,i.fillRect(r,n,a,s),i.restore())}getLineWidthForValue(i){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let n=this.ticks.findIndex(a=>a.value===i);return n>=0?e.setContext(this.getContext(n)).lineWidth:0}drawGrid(i){let e=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i)),a,s,o=(u,l,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(e.display)for(a=0,s=n.length;a<s;++a){let u=n[a];e.drawOnChartArea&&o({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),e.drawTicks&&o({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){let{chart:i,ctx:e,options:{border:r,grid:n}}=this,a=r.setContext(this.getContext()),s=r.display?a.width:0;if(!s)return;let o=n.setContext(this.getContext(0)).lineWidth,u=this._borderValue,l,c,h,d;this.isHorizontal()?(l=C0(i,this.left,s)-s/2,c=C0(i,this.right,o)+o/2,h=d=u):(h=C0(i,this.top,s)-s/2,d=C0(i,this.bottom,o)+o/2,l=c=u),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(l,h),e.lineTo(c,d),e.stroke(),e.restore()}drawLabels(i){if(!this.options.ticks.display)return;let r=this.ctx,n=this._computeLabelArea();n&&Kw(r,n);let a=this.getLabelItems(i);for(let s of a){let o=s.options,u=s.font,l=s.label,c=s.textOffset;S0(r,l,0,c,u,o)}n&&Zw(r)}drawTitle(){let{ctx:i,options:{position:e,title:r,reverse:n}}=this;if(!r.display)return;let a=to(r.font),s=pl(r.padding),o=r.align,u=a.lineHeight/2;e==="bottom"||e==="center"||or(e)?(u+=s.bottom,Hs(r.text)&&(u+=a.lineHeight*(r.text.length-1))):u+=s.top;let{titleX:l,titleY:c,maxWidth:h,rotation:d}=p8e(this,u,e,o);S0(i,r.text,0,0,a,{color:r.color,maxWidth:h,rotation:d,textAlign:f8e(o,e,n),textBaseline:"middle",translation:[l,c]})}draw(i){this._isVisible()&&(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){let i=this.options,e=i.ticks&&i.ticks.z||0,r=Fn(i.grid&&i.grid.z,-1),n=Fn(i.border&&i.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(i){let e=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[],a,s;for(a=0,s=e.length;a<s;++a){let o=e[a];o[r]===this.id&&(!i||o.type===i)&&n.push(o)}return n}_resolveTickFontOptions(i){let e=this.options.ticks.setContext(this.getContext(i));return to(e.font)}_maxDigits(){let i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}},Ix=class{constructor(i,e,r){this.type=i,this.scope=e,this.override=r,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){let e=Object.getPrototypeOf(i),r;v8e(e)&&(r=this.register(e));let n=this.items,a=i.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+i);return a in n||(n[a]=i,m8e(i,s,r),this.override&&Qs.override(i.id,i.overrides)),s}get(i){return this.items[i]}unregister(i){let e=this.items,r=i.id,n=this.scope;r in e&&delete e[r],n&&r in Qs[n]&&(delete Qs[n][r],this.override&&delete w0[r])}};function m8e(t,i,e){let r=xx(Object.create(null),[e?Qs.get(e):{},Qs.get(i),t.defaults]);Qs.set(i,r),t.defaultRoutes&&g8e(i,t.defaultRoutes),t.descriptors&&Qs.describe(i,t.descriptors)}function g8e(t,i){Object.keys(i).forEach(e=>{let r=e.split("."),n=r.pop(),a=[t].concat(r).join("."),s=i[e].split("."),o=s.pop(),u=s.join(".");Qs.route(a,n,u,o)})}function v8e(t){return"id"in t&&"defaults"in t}var D8=class{constructor(){this.controllers=new Ix(M0,"datasets",!0),this.elements=new Ix(Oh,"elements"),this.plugins=new Ix(Object,"plugins"),this.scales=new Ix(fv,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,e,r){[...e].forEach(n=>{let a=r||this._getRegistryForType(n);r||a.isForType(n)||a===this.plugins&&n.id?this._exec(i,a,n):is(n,s=>{let o=r||this._getRegistryForType(s);this._exec(i,o,s)})})}_exec(i,e,r){let n=dI(i);ks(r["before"+n],[],r),e[i](r),ks(r["after"+n],[],r)}_getRegistryForType(i){for(let e=0;e<this._typedRegistries.length;e++){let r=this._typedRegistries[e];if(r.isForType(i))return r}return this.plugins}_get(i,e,r){let n=e.get(i);if(n===void 0)throw new Error('"'+i+'" is not a registered '+r+".");return n}},jf=new D8,P8=class{constructor(){this._init=[]}notify(i,e,r,n){e==="beforeInit"&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));let a=n?this._descriptors(i).filter(n):this._descriptors(i),s=this._notify(a,i,e,r);return e==="afterDestroy"&&(this._notify(a,i,"stop"),this._notify(this._init,i,"uninstall")),s}_notify(i,e,r,n){n=n||{};for(let a of i){let s=a.plugin,o=s[r],u=[e,n,a.options];if(ks(o,u,s)===!1&&n.cancelable)return!1}return!0}invalidate(){Cr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),e}_createDescriptors(i,e){let r=i&&i.config,n=Fn(r.options&&r.options.plugins,{}),a=y8e(r);return n===!1&&!e?[]:b8e(i,a,n,e)}_notifyStateChanges(i){let e=this._oldCache||[],r=this._cache,n=(a,s)=>a.filter(o=>!s.some(u=>o.plugin.id===u.plugin.id));this._notify(n(e,r),i,"stop"),this._notify(n(r,e),i,"start")}};function y8e(t){let i={},e=[],r=Object.keys(jf.plugins.items);for(let a=0;a<r.length;a++)e.push(jf.getPlugin(r[a]));let n=t.plugins||[];for(let a=0;a<n.length;a++){let s=n[a];e.indexOf(s)===-1&&(e.push(s),i[s.id]=!0)}return{plugins:e,localIds:i}}function x8e(t,i){return!i&&t===!1?null:t===!0?{}:t}function b8e(t,{plugins:i,localIds:e},r,n){let a=[],s=t.getContext();for(let o of i){let u=o.id,l=x8e(r[u],n);l!==null&&a.push({plugin:o,options:_8e(t.config,{plugin:o,local:e[u]},l,s)})}return a}function _8e(t,{plugin:i,local:e},r,n){let a=t.pluginScopeKeys(i),s=t.getOptionScopes(r,a);return e&&i.defaults&&s.push(i.defaults),t.createResolver(s,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function R8(t,i){let e=Qs.datasets[t]||{};return((i.datasets||{})[t]||{}).indexAxis||i.indexAxis||e.indexAxis||"x"}function w8e(t,i){let e=t;return t==="_index_"?e=i:t==="_value_"&&(e=i==="x"?"y":"x"),e}function C8e(t,i){return t===i?"_index_":"_value_"}function lie(t){if(t==="x"||t==="y"||t==="r")return t}function S8e(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function k8(t,...i){if(lie(t))return t;for(let e of i){let r=e.axis||S8e(e.position)||t.length>1&&lie(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function cie(t,i,e){if(e[i+"AxisID"]===t)return{axis:i}}function T8e(t,i){if(i.data&&i.data.datasets){let e=i.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(e.length)return cie(t,"x",e[0])||cie(t,"y",e[0])}return{}}function E8e(t,i){let e=w0[t.type]||{scales:{}},r=i.scales||{},n=R8(t.type,i),a=Object.create(null);return Object.keys(r).forEach(s=>{let o=r[s];if(!or(o))return console.error(`Invalid scale configuration for scale: ${s}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let u=k8(s,o,T8e(s,t),Qs.scales[o.type]),l=C8e(u,n),c=e.scales||{};a[s]=_x(Object.create(null),[{axis:u},o,c[u],c[l]])}),t.data.datasets.forEach(s=>{let o=s.type||t.type,u=s.indexAxis||R8(o,i),c=(w0[o]||{}).scales||{};Object.keys(c).forEach(h=>{let d=w8e(h,u),f=s[d+"AxisID"]||d;a[f]=a[f]||Object.create(null),_x(a[f],[{axis:d},r[f],c[h]])})}),Object.keys(a).forEach(s=>{let o=a[s];_x(o,[Qs.scales[o.type],Qs.scale])}),a}function Kie(t){let i=t.options||(t.options={});i.plugins=Fn(i.plugins,{}),i.scales=E8e(t,i)}function Zie(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function A8e(t){return t=t||{},t.data=Zie(t.data),Kie(t),t}var uie=new Map,Jie=new Set;function SI(t,i){let e=uie.get(t);return e||(e=i(),uie.set(t,e),Jie.add(e)),e}var i2=(t,i,e)=>{let r=Qp(i,e);r!==void 0&&t.add(r)},F8=class{constructor(i){this._config=A8e(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=Zie(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){let i=this._config;this.clearCache(),Kie(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return SI(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,e){return SI(`${i}.transition.${e}`,()=>[[`datasets.${i}.transitions.${e}`,`transitions.${e}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,e){return SI(`${i}-${e}`,()=>[[`datasets.${i}.elements.${e}`,`datasets.${i}`,`elements.${e}`,""]])}pluginScopeKeys(i){let e=i.id,r=this.type;return SI(`${r}-plugin-${e}`,()=>[[`plugins.${e}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,e){let r=this._scopeCache,n=r.get(i);return(!n||e)&&(n=new Map,r.set(i,n)),n}getOptionScopes(i,e,r){let{options:n,type:a}=this,s=this._cachedScopes(i,r),o=s.get(e);if(o)return o;let u=new Set;e.forEach(c=>{i&&(u.add(i),c.forEach(h=>i2(u,i,h))),c.forEach(h=>i2(u,n,h)),c.forEach(h=>i2(u,w0[a]||{},h)),c.forEach(h=>i2(u,Qs,h)),c.forEach(h=>i2(u,mI,h))});let l=Array.from(u);return l.length===0&&l.push(Object.create(null)),Jie.has(e)&&s.set(e,l),l}chartOptionScopes(){let{options:i,type:e}=this;return[i,w0[e]||{},Qs.datasets[e]||{},{type:e},Qs,mI]}resolveNamedOptions(i,e,r,n=[""]){let a={$shared:!0},{resolver:s,subPrefixes:o}=die(this._resolverCache,i,n),u=s;if(I8e(s,e)){a.$shared=!1,r=Yp(r)?r():r;let l=this.createResolver(i,r,o);u=lv(s,r,l)}for(let l of e)a[l]=u[l];return a}createResolver(i,e,r=[""],n){let{resolver:a}=die(this._resolverCache,i,r);return or(e)?lv(a,e,void 0,n):a}};function die(t,i,e){let r=t.get(i);r||(r=new Map,t.set(i,r));let n=e.join(),a=r.get(n);return a||(a={resolver:yI(i,e),subPrefixes:e.filter(o=>!o.toLowerCase().includes("hover"))},r.set(n,a)),a}var M8e=t=>or(t)&&Object.getOwnPropertyNames(t).some(i=>Yp(t[i]));function I8e(t,i){let{isScriptable:e,isIndexable:r}=s8(t);for(let n of i){let a=e(n),s=r(n),o=(s||a)&&t[n];if(a&&(Yp(o)||M8e(o))||s&&Hs(o))return!0}return!1}var D8e="4.4.7",P8e=["top","bottom","left","right","chartArea"];function hie(t,i){return t==="top"||t==="bottom"||P8e.indexOf(t)===-1&&i==="x"}function fie(t,i){return function(e,r){return e[t]===r[t]?e[i]-r[i]:e[t]-r[t]}}function pie(t){let i=t.chart,e=i.options.animation;i.notifyPlugins("afterRender"),ks(e&&e.onComplete,[t],i)}function R8e(t){let i=t.chart,e=i.options.animation;ks(e&&e.onProgress,[t],i)}function qie(t){return xI()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var DI={},mie=t=>{let i=qie(t);return Object.values(DI).filter(e=>e.canvas===i).pop()};function k8e(t,i,e){let r=Object.keys(t);for(let n of r){let a=+n;if(a>=i){let s=t[n];delete t[n],(e>0||a>i)&&(t[a+e]=s)}}}function F8e(t,i,e,r){return!e||t.type==="mouseout"?null:r?i:t}function TI(t,i,e){return t.options.clip?t[e]:i[e]}function O8e(t,i){let{xScale:e,yScale:r}=t;return e&&r?{left:TI(e,i,"left"),right:TI(e,i,"right"),top:TI(r,i,"top"),bottom:TI(r,i,"bottom")}:i}var pv=(()=>{class t{static defaults=Qs;static instances=DI;static overrides=w0;static registry=jf;static version=D8e;static getChart=mie;static register(...e){jf.add(...e),gie()}static unregister(...e){jf.remove(...e),gie()}constructor(e,r){let n=this.config=new F8(r),a=qie(e),s=mie(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||t8e(a)),this.platform.updateConfig(n);let u=this.platform.acquireContext(a,o.aspectRatio),l=u&&u.canvas,c=l&&l.height,h=l&&l.width;if(this.id=pte(),this.ctx=u,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new P8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Tte(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],DI[this.id]=this,!u||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Zp.listen(this,"complete",pie),Zp.listen(this,"progress",R8e),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:s}=this;return Cr(e)?r&&s?s:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return jf}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():c8(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return i8(this.canvas,this.ctx),this}stop(){return Zp.stop(this),this}resize(e,r){Zp.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){let n=this.options,a=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,r,s),u=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,c8(this,u,!0)&&(this.notifyPlugins("resize",{size:o}),ks(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};is(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){let e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((o,u)=>(o[u]=!1,o),{}),s=[];r&&(s=s.concat(Object.keys(r).map(o=>{let u=r[o],l=k8(o,u),c=l==="r",h=l==="x";return{options:u,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),is(s,o=>{let u=o.options,l=u.id,c=k8(l,u),h=Fn(u.type,o.dtype);(u.position===void 0||hie(u.position,c)!==hie(o.dposition))&&(u.position=o.dposition),a[l]=!0;let d=null;if(l in n&&n[l].type===h)d=n[l];else{let f=jf.getScale(h);d=new f({id:l,type:h,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(u,e)}),is(a,(o,u)=>{o||delete n[u]}),is(n,o=>{jl.configure(this,o,o.options),jl.addBox(this,o)})}_updateMetasets(){let e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,s)=>a.index-s.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(fie("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){let e=[],r=this.data.datasets,n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){let s=r[n],o=this.getDatasetMeta(n),u=s.type||this.config.type;if(o.type&&o.type!==u&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=u,o.indexAxis=s.indexAxis||R8(u,this.options),o.order=s.order||0,o.index=n,o.label=""+s.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{let l=jf.getController(u),{datasetElementType:c,dataElementType:h}=Qs.datasets[u];Object.assign(l,{dataElementType:jf.getElement(h),datasetElementType:c&&jf.getElement(c)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){is(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let r=this.config;r.update();let n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){let{controller:d}=this.getDatasetMeta(c),f=!a&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||is(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(fie("z","_idx"));let{_active:u,_lastEvent:l}=this;l?this._eventHandler(l,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){is(this.scales,e=>{jl.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!GN(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(let{method:n,start:a,count:s}of r){let o=n==="_removeElements"?-s:s;k8e(e,a,o)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let r=this.data.datasets.length,n=s=>new Set(e.filter(o=>o[0]===s).map((o,u)=>u+","+o.splice(1).join(","))),a=n(0);for(let s=1;s<r;s++)if(!GN(a,n(s)))return;return Array.from(a).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;jl.update(this,this.width,this.height,e);let r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],is(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,s)=>{a._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Yp(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){let n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zp.has(this)?this.attached&&!Zp.running(this)&&Zp.start(this):(this.draw(),pie({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let r=this._sortedMetasets,n=[],a,s;for(a=0,s=r.length;a<s;++a){let o=r[a];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let r=this.ctx,n=e._clip,a=!n.disabled,s=O8e(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(a&&Kw(r,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),e.controller.draw(),a&&Zw(r),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return zf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){let s=LNe.modes[r];return typeof s=="function"?s(this,e,n,a):[]}getDatasetMeta(e){let r=this.data.datasets[e],n=this._metasets,a=n.filter(s=>s&&s._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Kp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let r=this.data.datasets[e];if(!r)return!1;let n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){let n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){let a=n?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,a);wx(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(s,{visible:n}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){let r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Zp.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),i8(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete DI[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,r=this.platform,n=(s,o)=>{r.addEventListener(this,s,o),e[s]=o},a=(s,o,u)=>{s.offsetX=o,s.offsetY=u,this._eventHandler(s)};is(this.options.events,s=>n(s,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,r=this.platform,n=(l,c)=>{r.addEventListener(this,l,c),e[l]=c},a=(l,c)=>{e[l]&&(r.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)},o,u=()=>{a("attach",u),this.attached=!0,this.resize(),n("resize",s),n("detach",o)};o=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),n("attach",u)},r.isAttached(this.canvas)?u():o()}unbindEvents(){is(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},is(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){let a=n?"set":"remove",s,o,u,l;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),u=0,l=e.length;u<l;++u){o=e[u];let c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let r=this._active||[],n=e.map(({datasetIndex:s,index:o})=>{let u=this.getDatasetMeta(s);if(!u)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:u.data[o],index:o}});!$w(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){let a=this.options.hover,s=(l,c)=>l.filter(h=>!c.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),o=s(r,e),u=n?e:s(e,r);o.length&&this.updateHoverStyle(o,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,r){let n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;let s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){let{_active:a=[],options:s}=this,o=r,u=this._getActiveElements(e,a,n,o),l=vte(e),c=F8e(e,this._lastEvent,n,l);n&&(this._lastEvent=null,ks(s.onHover,[e,u,this],this),l&&ks(s.onClick,[e,u,this],this));let h=!$w(u,a);return(h||r)&&(this._active=u,this._updateHoverStyles(u,a,r)),this._lastEvent=c,h}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}}return t})();function gie(){return is(pv.instances,t=>t._plugins.invalidate())}function L8e(t,i,e){let{startAngle:r,pixelMargin:n,x:a,y:s,outerRadius:o,innerRadius:u}=i,l=n/o;t.beginPath(),t.arc(a,s,o,r-l,e+l),u>n?(l=n/u,t.arc(a,s,u,e+l,r-l,!0)):t.arc(a,s,n,e+Oa,r-Oa),t.closePath(),t.clip()}function N8e(t){return vI(t,["outerStart","outerEnd","innerStart","innerEnd"])}function B8e(t,i,e,r){let n=N8e(t.options.borderRadius),a=(e-i)/2,s=Math.min(a,r*i/2),o=u=>{let l=(e-Math.min(a,u))*r/2;return Co(u,0,Math.min(a,l))};return{outerStart:o(n.outerStart),outerEnd:o(n.outerEnd),innerStart:Co(n.innerStart,0,s),innerEnd:Co(n.innerEnd,0,s)}}function Mx(t,i,e,r){return{x:e+t*Math.cos(i),y:r+t*Math.sin(i)}}function FI(t,i,e,r,n,a){let{x:s,y:o,startAngle:u,pixelMargin:l,innerRadius:c}=i,h=Math.max(i.outerRadius+r+e-l,0),d=c>0?c+r+e+l:0,f=0,m=n-u;if(r){let G=c>0?c-r:0,R=h>0?h-r:0,H=(G+R)/2,j=H!==0?m*H/(H+r):m;f=(m-j)/2}let p=Math.max(.001,m*h-e/Gs)/h,g=(m-p)/2,v=u+g+f,y=n-g-f,{outerStart:x,outerEnd:b,innerStart:w,innerEnd:C}=B8e(i,d,h,y-v),_=h-x,S=h-b,T=v+x/_,A=y-b/S,M=d+w,I=d+C,D=v+w/M,k=y-C/I;if(t.beginPath(),a){let G=(T+A)/2;if(t.arc(s,o,h,T,G),t.arc(s,o,h,G,A),b>0){let Z=Mx(S,A,s,o);t.arc(Z.x,Z.y,b,A,y+Oa)}let R=Mx(I,y,s,o);if(t.lineTo(R.x,R.y),C>0){let Z=Mx(I,k,s,o);t.arc(Z.x,Z.y,C,y+Oa,k+Math.PI)}let H=(y-C/d+(v+w/d))/2;if(t.arc(s,o,d,y-C/d,H,!0),t.arc(s,o,d,H,v+w/d,!0),w>0){let Z=Mx(M,D,s,o);t.arc(Z.x,Z.y,w,D+Math.PI,v-Oa)}let j=Mx(_,v,s,o);if(t.lineTo(j.x,j.y),x>0){let Z=Mx(_,T,s,o);t.arc(Z.x,Z.y,x,v-Oa,T)}}else{t.moveTo(s,o);let G=Math.cos(T)*h+s,R=Math.sin(T)*h+o;t.lineTo(G,R);let H=Math.cos(A)*h+s,j=Math.sin(A)*h+o;t.lineTo(H,j)}t.closePath()}function V8e(t,i,e,r,n){let{fullCircles:a,startAngle:s,circumference:o}=i,u=i.endAngle;if(a){FI(t,i,e,r,u,n);for(let l=0;l<a;++l)t.fill();isNaN(o)||(u=s+(o%js||js))}return FI(t,i,e,r,u,n),t.fill(),u}function z8e(t,i,e,r,n){let{fullCircles:a,startAngle:s,circumference:o,options:u}=i,{borderWidth:l,borderJoinStyle:c,borderDash:h,borderDashOffset:d}=u,f=u.borderAlign==="inner";if(!l)return;t.setLineDash(h||[]),t.lineDashOffset=d,f?(t.lineWidth=l*2,t.lineJoin=c||"round"):(t.lineWidth=l,t.lineJoin=c||"bevel");let m=i.endAngle;if(a){FI(t,i,e,r,m,n);for(let p=0;p<a;++p)t.stroke();isNaN(o)||(m=s+(o%js||js))}f&&L8e(t,i,m),a||(FI(t,i,e,r,m,n),t.stroke())}var O8=class extends Oh{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:i=>i!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(i){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,e,r){let n=this.getProps(["x","y"],r),{angle:a,distance:s}=YN(n,{x:i,y:e}),{startAngle:o,endAngle:u,innerRadius:l,outerRadius:c,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),d=(this.options.spacing+this.options.borderWidth)/2,f=Fn(h,u-o),m=Sx(a,o,u)&&o!==u,p=f>=js||m,g=Hf(s,l+d,c+d);return p&&g}getCenterPoint(i){let{x:e,y:r,startAngle:n,endAngle:a,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:u,spacing:l}=this.options,c=(n+a)/2,h=(s+o+l+u)/2;return{x:e+Math.cos(c)*h,y:r+Math.sin(c)*h}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){let{options:e,circumference:r}=this,n=(e.offset||0)/4,a=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=r>js?Math.floor(r/js):0,r===0||this.innerRadius<0||this.outerRadius<0)return;i.save();let o=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(o)*n,Math.sin(o)*n);let u=1-Math.sin(Math.min(Gs,r||0)),l=n*u;i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor,V8e(i,this,l,a,s),z8e(i,this,l,a,s),i.restore()}};function ene(t,i,e=i){t.lineCap=Fn(e.borderCapStyle,i.borderCapStyle),t.setLineDash(Fn(e.borderDash,i.borderDash)),t.lineDashOffset=Fn(e.borderDashOffset,i.borderDashOffset),t.lineJoin=Fn(e.borderJoinStyle,i.borderJoinStyle),t.lineWidth=Fn(e.borderWidth,i.borderWidth),t.strokeStyle=Fn(e.borderColor,i.borderColor)}function U8e(t,i,e){t.lineTo(e.x,e.y)}function H8e(t){return t.stepped?Ite:t.tension||t.cubicInterpolationMode==="monotone"?Dte:U8e}function tne(t,i,e={}){let r=t.length,{start:n=0,end:a=r-1}=e,{start:s,end:o}=i,u=Math.max(n,s),l=Math.min(a,o),c=n<s&&a<s||n>o&&a>o;return{count:r,start:u,loop:i.loop,ilen:l<u&&!c?r+l-u:l-u}}function G8e(t,i,e,r){let{points:n,options:a}=i,{count:s,start:o,loop:u,ilen:l}=tne(n,e,r),c=H8e(a),{move:h=!0,reverse:d}=r||{},f,m,p;for(f=0;f<=l;++f)m=n[(o+(d?l-f:f))%s],!m.skip&&(h?(t.moveTo(m.x,m.y),h=!1):c(t,p,m,d,a.stepped),p=m);return u&&(m=n[(o+(d?l:0))%s],c(t,p,m,d,a.stepped)),!!u}function j8e(t,i,e,r){let n=i.points,{count:a,start:s,ilen:o}=tne(n,e,r),{move:u=!0,reverse:l}=r||{},c=0,h=0,d,f,m,p,g,v,y=b=>(s+(l?o-b:b))%a,x=()=>{p!==g&&(t.lineTo(c,g),t.lineTo(c,p),t.lineTo(c,v))};for(u&&(f=n[y(0)],t.moveTo(f.x,f.y)),d=0;d<=o;++d){if(f=n[y(d)],f.skip)continue;let b=f.x,w=f.y,C=b|0;C===m?(w<p?p=w:w>g&&(g=w),c=(h*c+b)/++h):(x(),t.lineTo(b,w),m=C,h=0,p=g=w),v=w}x()}function L8(t){let i=t.options,e=i.borderDash&&i.borderDash.length;return!t._decimated&&!t._loop&&!i.tension&&i.cubicInterpolationMode!=="monotone"&&!i.stepped&&!e?j8e:G8e}function W8e(t){return t.stepped?Vte:t.tension||t.cubicInterpolationMode==="monotone"?zte:_0}function X8e(t,i,e,r){let n=i._path;n||(n=i._path=new Path2D,i.path(n,e,r)&&n.closePath()),ene(t,i.options),t.stroke(n)}function Y8e(t,i,e,r){let{segments:n,options:a}=i,s=L8(i);for(let o of n)ene(t,a,o.style),t.beginPath(),s(t,i,o,{start:e,end:e+r-1})&&t.closePath(),t.stroke()}var $8e=typeof Path2D=="function";function Q8e(t,i,e,r){$8e&&!i.options.segment?X8e(t,i,e,r):Y8e(t,i,e,r)}var NI=(()=>{class t extends Oh{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){let n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){let a=n.spanGaps?this._loop:this._fullLoop;Lte(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Hte(this,this.options.segment))}first(){let e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){let e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){let n=this.options,a=e[r],s=this.points,o=p8(this,{property:r,start:a,end:a});if(!o.length)return;let u=[],l=W8e(n),c,h;for(c=0,h=o.length;c<h;++c){let{start:d,end:f}=o[c],m=s[d],p=s[f];if(m===p){u.push(m);continue}let g=Math.abs((a-m[r])/(p[r]-m[r])),v=l(m,p,g,n.stepped);v[r]=e[r],u.push(v)}return u.length===1?u[0]:u}pathSegment(e,r,n){return L8(this)(e,this,r,n)}path(e,r,n){let a=this.segments,s=L8(this),o=this._loop;r=r||0,n=n||this.points.length-r;for(let u of a)o&=s(e,this,u,{start:r,end:r+n-1});return!!o}draw(e,r,n,a){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Q8e(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function vie(t,i,e,r){let n=t.options,{[e]:a}=t.getProps([e],r);return Math.abs(i-a)<n.radius+n.hitRadius}var K8e=(()=>{class t extends Oh{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,n){let a=this.options,{x:s,y:o}=this.getProps(["x","y"],n);return Math.pow(e-s,2)+Math.pow(r-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,r){return vie(this,e,"x",r)}inYRange(e,r){return vie(this,e,"y",r)}getCenterPoint(e){let{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}size(e){e=e||this.options||{};let r=e.radius||0;r=Math.max(r,r&&e.hoverRadius||0);let n=r&&e.borderWidth||0;return(r+n)*2}draw(e,r){let n=this.options;this.skip||n.radius<.1||!zf(this,r,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,gI(e,n,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return t})();function ine(t,i){let{x:e,y:r,base:n,width:a,height:s}=t.getProps(["x","y","base","width","height"],i),o,u,l,c,h;return t.horizontal?(h=s/2,o=Math.min(e,n),u=Math.max(e,n),l=r-h,c=r+h):(h=a/2,o=e-h,u=e+h,l=Math.min(r,n),c=Math.max(r,n)),{left:o,top:l,right:u,bottom:c}}function A0(t,i,e,r){return t?0:Co(i,e,r)}function Z8e(t,i,e){let r=t.options.borderWidth,n=t.borderSkipped,a=r8(r);return{t:A0(n.top,a.top,0,e),r:A0(n.right,a.right,0,i),b:A0(n.bottom,a.bottom,0,e),l:A0(n.left,a.left,0,i)}}function J8e(t,i,e){let{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,a=T0(n),s=Math.min(i,e),o=t.borderSkipped,u=r||or(n);return{topLeft:A0(!u||o.top||o.left,a.topLeft,0,s),topRight:A0(!u||o.top||o.right,a.topRight,0,s),bottomLeft:A0(!u||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:A0(!u||o.bottom||o.right,a.bottomRight,0,s)}}function q8e(t){let i=ine(t),e=i.right-i.left,r=i.bottom-i.top,n=Z8e(t,e/2,r/2),a=J8e(t,e/2,r/2);return{outer:{x:i.left,y:i.top,w:e,h:r,radius:a},inner:{x:i.left+n.l,y:i.top+n.t,w:e-n.l-n.r,h:r-n.t-n.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,a.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(n.b,n.r))}}}}function w8(t,i,e,r){let n=i===null,a=e===null,o=t&&!(n&&a)&&ine(t,r);return o&&(n||Hf(i,o.left,o.right))&&(a||Hf(e,o.top,o.bottom))}function e6e(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function t6e(t,i){t.rect(i.x,i.y,i.w,i.h)}function C8(t,i,e={}){let r=t.x!==e.x?-i:0,n=t.y!==e.y?-i:0,a=(t.x+t.w!==e.x+e.w?i:0)-r,s=(t.y+t.h!==e.y+e.h?i:0)-n;return{x:t.x+r,y:t.y+n,w:t.w+a,h:t.h+s,radius:t.radius}}var N8=class extends Oh{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){let{inflateAmount:e,options:{borderColor:r,backgroundColor:n}}=this,{inner:a,outer:s}=q8e(this),o=e6e(s.radius)?Ex:t6e;i.save(),(s.w!==a.w||s.h!==a.h)&&(i.beginPath(),o(i,C8(s,e,a)),i.clip(),o(i,C8(a,-e,s)),i.fillStyle=r,i.fill("evenodd")),i.beginPath(),o(i,C8(a,e)),i.fillStyle=n,i.fill(),i.restore()}inRange(i,e,r){return w8(this,i,e,r)}inXRange(i,e){return w8(this,i,null,e)}inYRange(i,e){return w8(this,null,i,e)}getCenterPoint(i){let{x:e,y:r,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],i);return{x:a?(e+n)/2:e,y:a?r:(r+n)/2}}getRange(i){return i==="x"?this.width/2:this.height/2}},i6e=Object.freeze({__proto__:null,ArcElement:O8,BarElement:N8,LineElement:NI,PointElement:K8e}),B8=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],yie=B8.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function nne(t){return B8[t%B8.length]}function rne(t){return yie[t%yie.length]}function n6e(t,i){return t.borderColor=nne(i),t.backgroundColor=rne(i),++i}function r6e(t,i){return t.backgroundColor=t.data.map(()=>nne(i++)),i}function s6e(t,i){return t.backgroundColor=t.data.map(()=>rne(i++)),i}function a6e(t){let i=0;return(e,r)=>{let n=t.getDatasetMeta(r).controller;n instanceof X8?i=r6e(e,i):n instanceof Wie?i=s6e(e,i):n&&(i=n6e(e,i))}}function xie(t){let i;for(i in t)if(t[i].borderColor||t[i].backgroundColor)return!0;return!1}function o6e(t){return t&&(t.borderColor||t.backgroundColor)}function l6e(){return Qs.borderColor!=="rgba(0,0,0,0.1)"||Qs.backgroundColor!=="rgba(0,0,0,0.1)"}var c6e={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,i,e){if(!e.enabled)return;let{data:{datasets:r},options:n}=t.config,{elements:a}=n,s=xie(r)||o6e(n)||a&&xie(a)||l6e();if(!e.forceOverride&&s)return;let o=a6e(t);r.forEach(o)}};function u6e(t,i,e,r,n){let a=n.samples||r;if(a>=e)return t.slice(i,i+e);let s=[],o=(e-2)/(a-2),u=0,l=i+e-1,c=i,h,d,f,m,p;for(s[u++]=t[c],h=0;h<a-2;h++){let g=0,v=0,y,x=Math.floor((h+1)*o)+1+i,b=Math.min(Math.floor((h+2)*o)+1,e)+i,w=b-x;for(y=x;y<b;y++)g+=t[y].x,v+=t[y].y;g/=w,v/=w;let C=Math.floor(h*o)+1+i,_=Math.min(Math.floor((h+1)*o)+1,e)+i,{x:S,y:T}=t[c];for(f=m=-1,y=C;y<_;y++)m=.5*Math.abs((S-g)*(t[y].y-T)-(S-t[y].x)*(v-T)),m>f&&(f=m,d=t[y],p=y);s[u++]=d,c=p}return s[u++]=t[l],s}function d6e(t,i,e,r){let n=0,a=0,s,o,u,l,c,h,d,f,m,p,g=[],v=i+e-1,y=t[i].x,b=t[v].x-y;for(s=i;s<i+e;++s){o=t[s],u=(o.x-y)/b*r,l=o.y;let w=u|0;if(w===c)l<m?(m=l,h=s):l>p&&(p=l,d=s),n=(a*n+o.x)/++a;else{let C=s-1;if(!Cr(h)&&!Cr(d)){let _=Math.min(h,d),S=Math.max(h,d);_!==f&&_!==C&&g.push(Ri(ht({},t[_]),{x:n})),S!==f&&S!==C&&g.push(Ri(ht({},t[S]),{x:n}))}s>0&&C!==f&&g.push(t[C]),g.push(o),c=w,a=0,m=p=l,h=d=f=s}}return g}function sne(t){if(t._decimated){let i=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:i})}}function bie(t){t.data.datasets.forEach(i=>{sne(i)})}function h6e(t,i){let e=i.length,r=0,n,{iScale:a}=t,{min:s,max:o,minDefined:u,maxDefined:l}=a.getUserBounds();return u&&(r=Co(Vf(i,a.axis,s).lo,0,e-1)),l?n=Co(Vf(i,a.axis,o).hi+1,r,e)-r:n=e-r,{start:r,count:n}}var f6e={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,i,e)=>{if(!e.enabled){bie(t);return}let r=t.width;t.data.datasets.forEach((n,a)=>{let{_data:s,indexAxis:o}=n,u=t.getDatasetMeta(a),l=s||n.data;if(Ax([o,t.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;let c=t.scales[u.xAxisID];if(c.type!=="linear"&&c.type!=="time"||t.options.parsing)return;let{start:h,count:d}=h6e(u,l),f=e.threshold||4*r;if(d<=f){sne(n);return}Cr(s)&&(n._data=l,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let m;switch(e.algorithm){case"lttb":m=u6e(l,h,d,r,e);break;case"min-max":m=d6e(l,h,d,r);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}n._decimated=m})},destroy(t){bie(t)}};function p6e(t,i,e){let r=t.segments,n=t.points,a=i.points,s=[];for(let o of r){let{start:u,end:l}=o;l=Y8(u,l,n);let c=V8(e,n[u],n[l],o.loop);if(!i.segments){s.push({source:o,target:c,start:n[u],end:n[l]});continue}let h=p8(i,c);for(let d of h){let f=V8(e,a[d.start],a[d.end],d.loop),m=f8(o,n,f);for(let p of m)s.push({source:p,target:d,start:{[e]:_ie(c,f,"start",Math.max)},end:{[e]:_ie(c,f,"end",Math.min)}})}}return s}function V8(t,i,e,r){if(r)return;let n=i[t],a=e[t];return t==="angle"&&(n=cu(n),a=cu(a)),{property:t,start:n,end:a}}function m6e(t,i){let{x:e=null,y:r=null}=t||{},n=i.points,a=[];return i.segments.forEach(({start:s,end:o})=>{o=Y8(s,o,n);let u=n[s],l=n[o];r!==null?(a.push({x:u.x,y:r}),a.push({x:l.x,y:r})):e!==null&&(a.push({x:e,y:u.y}),a.push({x:e,y:l.y}))}),a}function Y8(t,i,e){for(;i>t;i--){let r=e[i];if(!isNaN(r.x)&&!isNaN(r.y))break}return i}function _ie(t,i,e,r){return t&&i?r(t[e],i[e]):t?t[e]:i?i[e]:0}function ane(t,i){let e=[],r=!1;return Hs(t)?(r=!0,e=t):e=m6e(t,i),e.length?new NI({points:e,options:{tension:0},_loop:r,_fullLoop:r}):null}function wie(t){return t&&t.fill!==!1}function g6e(t,i,e){let n=t[i].fill,a=[i],s;if(!e)return n;for(;n!==!1&&a.indexOf(n)===-1;){if(!va(n))return n;if(s=t[n],!s)return!1;if(s.visible)return n;a.push(n),n=s.fill}return!1}function v6e(t,i,e){let r=_6e(t);if(or(r))return isNaN(r.value)?!1:r;let n=parseFloat(r);return va(n)&&Math.floor(n)===n?y6e(r[0],i,n,e):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function y6e(t,i,e,r){return(t==="-"||t==="+")&&(e=i+e),e===i||e<0||e>=r?!1:e}function x6e(t,i){let e=null;return t==="start"?e=i.bottom:t==="end"?e=i.top:or(t)?e=i.getPixelForValue(t.value):i.getBasePixel&&(e=i.getBasePixel()),e}function b6e(t,i,e){let r;return t==="start"?r=e:t==="end"?r=i.options.reverse?i.min:i.max:or(t)?r=t.value:r=i.getBaseValue(),r}function _6e(t){let i=t.options,e=i.fill,r=Fn(e&&e.target,e);return r===void 0&&(r=!!i.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function w6e(t){let{scale:i,index:e,line:r}=t,n=[],a=r.segments,s=r.points,o=C6e(i,e);o.push(ane({x:null,y:i.bottom},r));for(let u=0;u<a.length;u++){let l=a[u];for(let c=l.start;c<=l.end;c++)S6e(n,s[c],o)}return new NI({points:n,options:{}})}function C6e(t,i){let e=[],r=t.getMatchingVisibleMetas("line");for(let n=0;n<r.length;n++){let a=r[n];if(a.index===i)break;a.hidden||e.unshift(a.dataset)}return e}function S6e(t,i,e){let r=[];for(let n=0;n<e.length;n++){let a=e[n],{first:s,last:o,point:u}=T6e(a,i,"x");if(!(!u||s&&o)){if(s)r.unshift(u);else if(t.push(u),!o)break}}t.push(...r)}function T6e(t,i,e){let r=t.interpolate(i,e);if(!r)return{};let n=r[e],a=t.segments,s=t.points,o=!1,u=!1;for(let l=0;l<a.length;l++){let c=a[l],h=s[c.start][e],d=s[c.end][e];if(Hf(n,h,d)){o=n===h,u=n===d;break}}return{first:o,last:u,point:r}}var OI=class{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,e,r){let{x:n,y:a,radius:s}=this;return e=e||{start:0,end:js},i.arc(n,a,s,e.end,e.start,!0),!r.bounds}interpolate(i){let{x:e,y:r,radius:n}=this,a=i.angle;return{x:e+Math.cos(a)*n,y:r+Math.sin(a)*n,angle:a}}};function E6e(t){let{chart:i,fill:e,line:r}=t;if(va(e))return A6e(i,e);if(e==="stack")return w6e(t);if(e==="shape")return!0;let n=M6e(t);return n instanceof OI?n:ane(n,r)}function A6e(t,i){let e=t.getDatasetMeta(i);return e&&t.isDatasetVisible(i)?e.dataset:null}function M6e(t){return(t.scale||{}).getPointPositionForValue?D6e(t):I6e(t)}function I6e(t){let{scale:i={},fill:e}=t,r=x6e(e,i);if(va(r)){let n=i.isHorizontal();return{x:n?r:null,y:n?null:r}}return null}function D6e(t){let{scale:i,fill:e}=t,r=i.options,n=i.getLabels().length,a=r.reverse?i.max:i.min,s=b6e(e,i,a),o=[];if(r.grid.circular){let u=i.getPointPositionForValue(0,a);return new OI({x:u.x,y:u.y,radius:i.getDistanceFromCenterForValue(s)})}for(let u=0;u<n;++u)o.push(i.getPointPositionForValue(u,s));return o}function S8(t,i,e){let r=E6e(i),{line:n,scale:a,axis:s}=i,o=n.options,u=o.fill,l=o.backgroundColor,{above:c=l,below:h=l}=u||{};r&&n.points.length&&(Kw(t,e),P6e(t,{line:n,target:r,above:c,below:h,area:e,scale:a,axis:s}),Zw(t))}function P6e(t,i){let{line:e,target:r,above:n,below:a,area:s,scale:o}=i,u=e._loop?"angle":i.axis;t.save(),u==="x"&&a!==n&&(Cie(t,r,s.top),Sie(t,{line:e,target:r,color:n,scale:o,property:u}),t.restore(),t.save(),Cie(t,r,s.bottom)),Sie(t,{line:e,target:r,color:a,scale:o,property:u}),t.restore()}function Cie(t,i,e){let{segments:r,points:n}=i,a=!0,s=!1;t.beginPath();for(let o of r){let{start:u,end:l}=o,c=n[u],h=n[Y8(u,l,n)];a?(t.moveTo(c.x,c.y),a=!1):(t.lineTo(c.x,e),t.lineTo(c.x,c.y)),s=!!i.pathSegment(t,o,{move:s}),s?t.closePath():t.lineTo(h.x,e)}t.lineTo(i.first().x,e),t.closePath(),t.clip()}function Sie(t,i){let{line:e,target:r,property:n,color:a,scale:s}=i,o=p6e(e,r,n);for(let{source:u,target:l,start:c,end:h}of o){let{style:{backgroundColor:d=a}={}}=u,f=r!==!0;t.save(),t.fillStyle=d,R6e(t,s,f&&V8(n,c,h)),t.beginPath();let m=!!e.pathSegment(t,u),p;if(f){m?t.closePath():Tie(t,r,h,n);let g=!!r.pathSegment(t,l,{move:m,reverse:!0});p=m&&g,p||Tie(t,r,c,n)}t.closePath(),t.fill(p?"evenodd":"nonzero"),t.restore()}}function R6e(t,i,e){let{top:r,bottom:n}=i.chart.chartArea,{property:a,start:s,end:o}=e||{};a==="x"&&(t.beginPath(),t.rect(s,r,o-s,n-r),t.clip())}function Tie(t,i,e,r){let n=i.interpolate(e,r);n&&t.lineTo(n.x,n.y)}var k6e={id:"filler",afterDatasetsUpdate(t,i,e){let r=(t.data.datasets||[]).length,n=[],a,s,o,u;for(s=0;s<r;++s)a=t.getDatasetMeta(s),o=a.dataset,u=null,o&&o.options&&o instanceof NI&&(u={visible:t.isDatasetVisible(s),index:s,fill:v6e(o,s,r),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=u,n.push(u);for(s=0;s<r;++s)u=n[s],!(!u||u.fill===!1)&&(u.fill=g6e(n,s,e.propagate))},beforeDraw(t,i,e){let r=e.drawTime==="beforeDraw",n=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let s=n.length-1;s>=0;--s){let o=n[s].$filler;o&&(o.line.updateControlPoints(a,o.axis),r&&o.fill&&S8(t.ctx,o,a))}},beforeDatasetsDraw(t,i,e){if(e.drawTime!=="beforeDatasetsDraw")return;let r=t.getSortedVisibleDatasetMetas();for(let n=r.length-1;n>=0;--n){let a=r[n].$filler;wie(a)&&S8(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,i,e){let r=i.meta.$filler;!wie(r)||e.drawTime!=="beforeDatasetDraw"||S8(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Eie=(t,i)=>{let{boxHeight:e=i,boxWidth:r=i}=t;return t.usePointStyle&&(e=Math.min(e,i),r=t.pointStyleWidth||Math.min(r,i)),{boxWidth:r,boxHeight:e,itemHeight:Math.max(i,e)}},F6e=(t,i)=>t!==null&&i!==null&&t.datasetIndex===i.datasetIndex&&t.index===i.index,LI=class extends Oh{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e,r){this.maxWidth=i,this.maxHeight=e,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let i=this.options.labels||{},e=ks(i.generateLabels,[this.chart],this)||[];i.filter&&(e=e.filter(r=>i.filter(r,this.chart.data))),i.sort&&(e=e.sort((r,n)=>i.sort(r,n,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:i,ctx:e}=this;if(!i.display){this.width=this.height=0;return}let r=i.labels,n=to(r.font),a=n.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:u}=Eie(r,a),l,c;e.font=n.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,a,o,u)+10):(c=this.maxHeight,l=this._fitCols(s,n,o,u)+10),this.width=Math.min(l,i.maxWidth||this.maxWidth),this.height=Math.min(c,i.maxHeight||this.maxHeight)}_fitRows(i,e,r,n){let{ctx:a,maxWidth:s,options:{labels:{padding:o}}}=this,u=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+o,h=i;a.textAlign="left",a.textBaseline="middle";let d=-1,f=-c;return this.legendItems.forEach((m,p)=>{let g=r+e/2+a.measureText(m.text).width;(p===0||l[l.length-1]+g+2*o>s)&&(h+=c,l[l.length-(p>0?0:1)]=0,f+=c,d++),u[p]={left:0,top:f,row:d,width:g,height:n},l[l.length-1]+=g+o}),h}_fitCols(i,e,r,n){let{ctx:a,maxHeight:s,options:{labels:{padding:o}}}=this,u=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-i,h=o,d=0,f=0,m=0,p=0;return this.legendItems.forEach((g,v)=>{let{itemWidth:y,itemHeight:x}=O6e(r,e,a,g,n);v>0&&f+x+2*o>c&&(h+=d+o,l.push({width:d,height:f}),m+=d+o,p++,d=f=0),u[v]={left:m,top:f,col:p,width:y,height:x},d=Math.max(d,y),f+=x+o}),h+=d,l.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;let i=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:r,labels:{padding:n},rtl:a}}=this,s=uv(a,this.left,this.width);if(this.isHorizontal()){let o=0,u=fl(r,this.left+n,this.right-this.lineWidths[o]);for(let l of e)o!==l.row&&(o=l.row,u=fl(r,this.left+n,this.right-this.lineWidths[o])),l.top+=this.top+i+n,l.left=s.leftForLtr(s.x(u),l.width),u+=l.width+n}else{let o=0,u=fl(r,this.top+i+n,this.bottom-this.columnSizes[o].height);for(let l of e)l.col!==o&&(o=l.col,u=fl(r,this.top+i+n,this.bottom-this.columnSizes[o].height)),l.top=u,l.left+=this.left+n,l.left=s.leftForLtr(s.x(l.left),l.width),u+=l.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let i=this.ctx;Kw(i,this),this._draw(),Zw(i)}}_draw(){let{options:i,columnSizes:e,lineWidths:r,ctx:n}=this,{align:a,labels:s}=i,o=Qs.color,u=uv(i.rtl,this.left,this.width),l=to(s.font),{padding:c}=s,h=l.size,d=h/2,f;this.drawTitle(),n.textAlign=u.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;let{boxWidth:m,boxHeight:p,itemHeight:g}=Eie(s,h),v=function(C,_,S){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;n.save();let T=Fn(S.lineWidth,1);if(n.fillStyle=Fn(S.fillStyle,o),n.lineCap=Fn(S.lineCap,"butt"),n.lineDashOffset=Fn(S.lineDashOffset,0),n.lineJoin=Fn(S.lineJoin,"miter"),n.lineWidth=T,n.strokeStyle=Fn(S.strokeStyle,o),n.setLineDash(Fn(S.lineDash,[])),s.usePointStyle){let A={radius:p*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:T},M=u.xPlus(C,m/2),I=_+d;n8(n,A,M,I,s.pointStyleWidth&&m)}else{let A=_+Math.max((h-p)/2,0),M=u.leftForLtr(C,m),I=T0(S.borderRadius);n.beginPath(),Object.values(I).some(D=>D!==0)?Ex(n,{x:M,y:A,w:m,h:p,radius:I}):n.rect(M,A,m,p),n.fill(),T!==0&&n.stroke()}n.restore()},y=function(C,_,S){S0(n,S.text,C,_+g/2,l,{strikethrough:S.hidden,textAlign:u.textAlign(S.textAlign)})},x=this.isHorizontal(),b=this._computeTitleHeight();x?f={x:fl(a,this.left+c,this.right-r[0]),y:this.top+c+b,line:0}:f={x:this.left+c,y:fl(a,this.top+b+c,this.bottom-e[0].height),line:0},d8(this.ctx,i.textDirection);let w=g+c;this.legendItems.forEach((C,_)=>{n.strokeStyle=C.fontColor,n.fillStyle=C.fontColor;let S=n.measureText(C.text).width,T=u.textAlign(C.textAlign||(C.textAlign=s.textAlign)),A=m+d+S,M=f.x,I=f.y;u.setWidth(this.width),x?_>0&&M+A+c>this.right&&(I=f.y+=w,f.line++,M=f.x=fl(a,this.left+c,this.right-r[f.line])):_>0&&I+w>this.bottom&&(M=f.x=M+e[f.line].width+c,f.line++,I=f.y=fl(a,this.top+b+c,this.bottom-e[f.line].height));let D=u.x(M);if(v(D,I,C),M=Ete(T,M+m+d,x?M+A:this.right,i.rtl),y(u.x(M),I,C),x)f.x+=A+c;else if(typeof C.text!="string"){let k=l.lineHeight;f.y+=one(C,k)+c}else f.y+=w}),h8(this.ctx,i.textDirection)}drawTitle(){let i=this.options,e=i.title,r=to(e.font),n=pl(e.padding);if(!e.display)return;let a=uv(i.rtl,this.left,this.width),s=this.ctx,o=e.position,u=r.size/2,l=n.top+u,c,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,h=fl(i.align,h,this.right-d);else{let m=this.columnSizes.reduce((p,g)=>Math.max(p,g.height),0);c=l+fl(i.align,this.top,this.bottom-m-i.labels.padding-this._computeTitleHeight())}let f=fl(o,h,h+d);s.textAlign=a.textAlign(pI(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=r.string,S0(s,e.text,f,c,r)}_computeTitleHeight(){let i=this.options.title,e=to(i.font),r=pl(i.padding);return i.display?e.lineHeight+r.height:0}_getLegendItemAt(i,e){let r,n,a;if(Hf(i,this.left,this.right)&&Hf(e,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(n=a[r],Hf(i,n.left,n.left+n.width)&&Hf(e,n.top,n.top+n.height))return this.legendItems[r]}return null}handleEvent(i){let e=this.options;if(!B6e(i.type,e))return;let r=this._getLegendItemAt(i.x,i.y);if(i.type==="mousemove"||i.type==="mouseout"){let n=this._hoveredItem,a=F6e(n,r);n&&!a&&ks(e.onLeave,[i,n,this],this),this._hoveredItem=r,r&&!a&&ks(e.onHover,[i,r,this],this)}else r&&ks(e.onClick,[i,r,this],this)}};function O6e(t,i,e,r,n){let a=L6e(r,t,i,e),s=N6e(n,r,i.lineHeight);return{itemWidth:a,itemHeight:s}}function L6e(t,i,e,r){let n=t.text;return n&&typeof n!="string"&&(n=n.reduce((a,s)=>a.length>s.length?a:s)),i+e.size/2+r.measureText(n).width}function N6e(t,i,e){let r=t;return typeof i.text!="string"&&(r=one(i,e)),r}function one(t,i){let e=t.text?t.text.length:0;return i*e}function B6e(t,i){return!!((t==="mousemove"||t==="mouseout")&&(i.onHover||i.onLeave)||i.onClick&&(t==="click"||t==="mouseup"))}var V6e={id:"legend",_element:LI,start(t,i,e){let r=t.legend=new LI({ctx:t.ctx,options:e,chart:t});jl.configure(t,r,e),jl.addBox(t,r)},stop(t){jl.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,i,e){let r=t.legend;jl.configure(t,r,e),r.options=e},afterUpdate(t){let i=t.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(t,i){i.replay||t.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,i,e){let r=i.datasetIndex,n=e.chart;n.isDatasetVisible(r)?(n.hide(r),i.hidden=!0):(n.show(r),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let i=t.data.datasets,{labels:{usePointStyle:e,pointStyle:r,textAlign:n,color:a,useBorderRadius:s,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{let l=u.controller.getStyle(e?0:void 0),c=pl(l.borderWidth);return{text:i[u.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!u.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:n||l.textAlign,borderRadius:s&&(o||l.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},a2=class extends Oh{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=i,this.height=this.bottom=e;let n=Hs(r.text)?r.text.length:1;this._padding=pl(r.padding);let a=n*to(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){let i=this.options.position;return i==="top"||i==="bottom"}_drawArgs(i){let{top:e,left:r,bottom:n,right:a,options:s}=this,o=s.align,u=0,l,c,h;return this.isHorizontal()?(c=fl(o,r,a),h=e+i,l=a-r):(s.position==="left"?(c=r+i,h=fl(o,n,e),u=Gs*-.5):(c=a-i,h=fl(o,e,n),u=Gs*.5),l=n-e),{titleX:c,titleY:h,maxWidth:l,rotation:u}}draw(){let i=this.ctx,e=this.options;if(!e.display)return;let r=to(e.font),a=r.lineHeight/2+this._padding.top,{titleX:s,titleY:o,maxWidth:u,rotation:l}=this._drawArgs(a);S0(i,e.text,0,0,r,{color:e.color,maxWidth:u,rotation:l,textAlign:pI(e.align),textBaseline:"middle",translation:[s,o]})}};function z6e(t,i){let e=new a2({ctx:t.ctx,options:i,chart:t});jl.configure(t,e,i),jl.addBox(t,e),t.titleBlock=e}var U6e={id:"title",_element:a2,start(t,i,e){z6e(t,e)},stop(t){let i=t.titleBlock;jl.removeBox(t,i),delete t.titleBlock},beforeUpdate(t,i,e){let r=t.titleBlock;jl.configure(t,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},EI=new WeakMap,H6e={id:"subtitle",start(t,i,e){let r=new a2({ctx:t.ctx,options:e,chart:t});jl.configure(t,r,e),jl.addBox(t,r),EI.set(t,r)},stop(t){jl.removeBox(t,EI.get(t)),EI.delete(t)},beforeUpdate(t,i,e){let r=EI.get(t);jl.configure(t,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},r2={average(t){if(!t.length)return!1;let i,e,r=new Set,n=0,a=0;for(i=0,e=t.length;i<e;++i){let o=t[i].element;if(o&&o.hasValue()){let u=o.tooltipPosition();r.add(u.x),n+=u.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((o,u)=>o+u)/r.size,y:n/a}},nearest(t,i){if(!t.length)return!1;let e=i.x,r=i.y,n=Number.POSITIVE_INFINITY,a,s,o;for(a=0,s=t.length;a<s;++a){let u=t[a].element;if(u&&u.hasValue()){let l=u.getCenterPoint(),c=cI(i,l);c<n&&(n=c,o=u)}}if(o){let u=o.tooltipPosition();e=u.x,r=u.y}return{x:e,y:r}}};function Gf(t,i){return i&&(Hs(i)?Array.prototype.push.apply(t,i):t.push(i)),t}function Jp(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function G6e(t,i){let{element:e,datasetIndex:r,index:n}=i,a=t.getDatasetMeta(r).controller,{label:s,value:o}=a.getLabelAndValue(n);return{chart:t,label:s,parsed:a.getParsed(n),raw:t.data.datasets[r].data[n],formattedValue:o,dataset:a.getDataset(),dataIndex:n,datasetIndex:r,element:e}}function Aie(t,i){let e=t.chart.ctx,{body:r,footer:n,title:a}=t,{boxWidth:s,boxHeight:o}=i,u=to(i.bodyFont),l=to(i.titleFont),c=to(i.footerFont),h=a.length,d=n.length,f=r.length,m=pl(i.padding),p=m.height,g=0,v=r.reduce((b,w)=>b+w.before.length+w.lines.length+w.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(p+=h*l.lineHeight+(h-1)*i.titleSpacing+i.titleMarginBottom),v){let b=i.displayColors?Math.max(o,u.lineHeight):u.lineHeight;p+=f*b+(v-f)*u.lineHeight+(v-1)*i.bodySpacing}d&&(p+=i.footerMarginTop+d*c.lineHeight+(d-1)*i.footerSpacing);let y=0,x=function(b){g=Math.max(g,e.measureText(b).width+y)};return e.save(),e.font=l.string,is(t.title,x),e.font=u.string,is(t.beforeBody.concat(t.afterBody),x),y=i.displayColors?s+2+i.boxPadding:0,is(r,b=>{is(b.before,x),is(b.lines,x),is(b.after,x)}),y=0,e.font=c.string,is(t.footer,x),e.restore(),g+=m.width,{width:g,height:p}}function j6e(t,i){let{y:e,height:r}=i;return e<r/2?"top":e>t.height-r/2?"bottom":"center"}function W6e(t,i,e,r){let{x:n,width:a}=r,s=e.caretSize+e.caretPadding;if(t==="left"&&n+a+s>i.width||t==="right"&&n-a-s<0)return!0}function X6e(t,i,e,r){let{x:n,width:a}=e,{width:s,chartArea:{left:o,right:u}}=t,l="center";return r==="center"?l=n<=(o+u)/2?"left":"right":n<=a/2?l="left":n>=s-a/2&&(l="right"),W6e(l,t,i,e)&&(l="center"),l}function Mie(t,i,e){let r=e.yAlign||i.yAlign||j6e(t,e);return{xAlign:e.xAlign||i.xAlign||X6e(t,i,e,r),yAlign:r}}function Y6e(t,i){let{x:e,width:r}=t;return i==="right"?e-=r:i==="center"&&(e-=r/2),e}function $6e(t,i,e){let{y:r,height:n}=t;return i==="top"?r+=e:i==="bottom"?r-=n+e:r-=n/2,r}function Iie(t,i,e,r){let{caretSize:n,caretPadding:a,cornerRadius:s}=t,{xAlign:o,yAlign:u}=e,l=n+a,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:f}=T0(s),m=Y6e(i,o),p=$6e(i,u,l);return u==="center"?o==="left"?m+=l:o==="right"&&(m-=l):o==="left"?m-=Math.max(c,d)+n:o==="right"&&(m+=Math.max(h,f)+n),{x:Co(m,0,r.width-i.width),y:Co(p,0,r.height-i.height)}}function AI(t,i,e){let r=pl(e.padding);return i==="center"?t.x+t.width/2:i==="right"?t.x+t.width-r.right:t.x+r.left}function Die(t){return Gf([],Jp(t))}function Q6e(t,i,e){return Kp(t,{tooltip:i,tooltipItems:e,type:"tooltip"})}function Pie(t,i){let e=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return e?t.override(e):t}var lne={beforeTitle:Uf,title(t){if(t.length>0){let i=t[0],e=i.chart.data.labels,r=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return i.dataset.label||"";if(i.label)return i.label;if(r>0&&i.dataIndex<r)return e[i.dataIndex]}return""},afterTitle:Uf,beforeBody:Uf,beforeLabel:Uf,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let i=t.dataset.label||"";i&&(i+=": ");let e=t.formattedValue;return Cr(e)||(i+=e),i},labelColor(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Uf,afterBody:Uf,beforeFooter:Uf,footer:Uf,afterFooter:Uf};function du(t,i,e,r){let n=t[i].call(e,r);return typeof n>"u"?lne[i].call(e,r):n}var Rie=(()=>{class t extends Oh{static positioners=r2;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,s=new PI(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Q6e(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){let{callbacks:n}=r,a=du(n,"beforeTitle",this,e),s=du(n,"title",this,e),o=du(n,"afterTitle",this,e),u=[];return u=Gf(u,Jp(a)),u=Gf(u,Jp(s)),u=Gf(u,Jp(o)),u}getBeforeBody(e,r){return Die(du(r.callbacks,"beforeBody",this,e))}getBody(e,r){let{callbacks:n}=r,a=[];return is(e,s=>{let o={before:[],lines:[],after:[]},u=Pie(n,s);Gf(o.before,Jp(du(u,"beforeLabel",this,s))),Gf(o.lines,du(u,"label",this,s)),Gf(o.after,Jp(du(u,"afterLabel",this,s))),a.push(o)}),a}getAfterBody(e,r){return Die(du(r.callbacks,"afterBody",this,e))}getFooter(e,r){let{callbacks:n}=r,a=du(n,"beforeFooter",this,e),s=du(n,"footer",this,e),o=du(n,"afterFooter",this,e),u=[];return u=Gf(u,Jp(a)),u=Gf(u,Jp(s)),u=Gf(u,Jp(o)),u}_createItems(e){let r=this._active,n=this.chart.data,a=[],s=[],o=[],u=[],l,c;for(l=0,c=r.length;l<c;++l)u.push(G6e(this.chart,r[l]));return e.filter&&(u=u.filter((h,d,f)=>e.filter(h,d,f,n))),e.itemSort&&(u=u.sort((h,d)=>e.itemSort(h,d,n))),is(u,h=>{let d=Pie(e.callbacks,h);a.push(du(d,"labelColor",this,h)),s.push(du(d,"labelPointStyle",this,h)),o.push(du(d,"labelTextColor",this,h))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=u,u}update(e,r){let n=this.options.setContext(this.getContext()),a=this._active,s,o=[];if(!a.length)this.opacity!==0&&(s={opacity:0});else{let u=r2[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);let l=this._size=Aie(this,n),c=Object.assign({},u,l),h=Mie(this.chart,n,c),d=Iie(n,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:u.x,caretY:u.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){let s=this.getCaretPosition(e,n,a);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){let{xAlign:a,yAlign:s}=this,{caretSize:o,cornerRadius:u}=n,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:d}=T0(u),{x:f,y:m}=e,{width:p,height:g}=r,v,y,x,b,w,C;return s==="center"?(w=m+g/2,a==="left"?(v=f,y=v-o,b=w+o,C=w-o):(v=f+p,y=v+o,b=w-o,C=w+o),x=v):(a==="left"?y=f+Math.max(l,h)+o:a==="right"?y=f+p-Math.max(c,d)-o:y=this.caretX,s==="top"?(b=m,w=b-o,v=y-o,x=y+o):(b=m+g,w=b+o,v=y+o,x=y-o),C=b),{x1:v,x2:y,x3:x,y1:b,y2:w,y3:C}}drawTitle(e,r,n){let a=this.title,s=a.length,o,u,l;if(s){let c=uv(n.rtl,this.x,this.width);for(e.x=AI(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",o=to(n.titleFont),u=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,l=0;l<s;++l)r.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+u,l+1===s&&(e.y+=n.titleMarginBottom-u)}}_drawColorBox(e,r,n,a,s){let o=this.labelColors[n],u=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=s,h=to(s.bodyFont),d=AI(this,"left",s),f=a.x(d),m=l<h.lineHeight?(h.lineHeight-l)/2:0,p=r.y+m;if(s.usePointStyle){let g={radius:Math.min(c,l)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},v=a.leftForLtr(f,c)+c/2,y=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,gI(e,g,v,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,gI(e,g,v,y)}else{e.lineWidth=or(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;let g=a.leftForLtr(f,c),v=a.leftForLtr(a.xPlus(f,1),c-2),y=T0(o.borderRadius);Object.values(y).some(x=>x!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Ex(e,{x:g,y:p,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Ex(e,{x:v,y:p+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,p,c,l),e.strokeRect(g,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(v,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){let{body:a}=this,{bodySpacing:s,bodyAlign:o,displayColors:u,boxHeight:l,boxWidth:c,boxPadding:h}=n,d=to(n.bodyFont),f=d.lineHeight,m=0,p=uv(n.rtl,this.x,this.width),g=function(T){r.fillText(T,p.x(e.x+m),e.y+f/2),e.y+=f+s},v=p.textAlign(o),y,x,b,w,C,_,S;for(r.textAlign=o,r.textBaseline="middle",r.font=d.string,e.x=AI(this,v,n),r.fillStyle=n.bodyColor,is(this.beforeBody,g),m=u&&v!=="right"?o==="center"?c/2+h:c+2+h:0,w=0,_=a.length;w<_;++w){for(y=a[w],x=this.labelTextColors[w],r.fillStyle=x,is(y.before,g),b=y.lines,u&&b.length&&(this._drawColorBox(r,e,w,p,n),f=Math.max(d.lineHeight,l)),C=0,S=b.length;C<S;++C)g(b[C]),f=d.lineHeight;is(y.after,g)}m=0,f=d.lineHeight,is(this.afterBody,g),e.y-=s}drawFooter(e,r,n){let a=this.footer,s=a.length,o,u;if(s){let l=uv(n.rtl,this.x,this.width);for(e.x=AI(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",o=to(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,u=0;u<s;++u)r.fillText(a[u],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){let{xAlign:s,yAlign:o}=this,{x:u,y:l}=e,{width:c,height:h}=n,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:p}=T0(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(u+d,l),o==="top"&&this.drawCaret(e,r,n,a),r.lineTo(u+c-f,l),r.quadraticCurveTo(u+c,l,u+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,r,n,a),r.lineTo(u+c,l+h-p),r.quadraticCurveTo(u+c,l+h,u+c-p,l+h),o==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(u+m,l+h),r.quadraticCurveTo(u,l+h,u,l+h-m),o==="center"&&s==="left"&&this.drawCaret(e,r,n,a),r.lineTo(u,l+d),r.quadraticCurveTo(u,l,u+d,l),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){let r=this.chart,n=this.$animations,a=n&&n.x,s=n&&n.y;if(a||s){let o=r2[e.position].call(this,this._active,this._eventPosition);if(!o)return;let u=this._size=Aie(this,e),l=Object.assign({},o,this._size),c=Mie(r,e,l),h=Iie(e,l,c,r);(a._to!==h.x||s._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=u.width,this.height=u.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){let r=this.options.setContext(this.getContext()),n=this.opacity;if(!n)return;this._updateAnimationTarget(r);let a={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;let o=pl(r.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&u&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,a,r),d8(e,r.textDirection),s.y+=o.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),h8(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){let n=this._active,a=e.map(({datasetIndex:u,index:l})=>{let c=this.chart.getDatasetMeta(u);if(!c)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:c.data[l],index:l}}),s=!$w(n,a),o=this._positionChanged(a,r);(s||o)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let a=this.options,s=this._active||[],o=this._getActiveElements(e,s,r,n),u=this._positionChanged(o,e),l=r||!$w(o,s)||u;return l&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,a){let s=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);let o=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&o.reverse(),o}_positionChanged(e,r){let{caretX:n,caretY:a,options:s}=this,o=r2[s.position].call(this,e,r);return o!==!1&&(n!==o.x||a!==o.y)}}return t})(),K6e={id:"tooltip",_element:Rie,positioners:r2,afterInit(t,i,e){e&&(t.tooltip=new Rie({chart:t,options:e}))},beforeUpdate(t,i,e){t.tooltip&&t.tooltip.initialize(e)},reset(t,i,e){t.tooltip&&t.tooltip.initialize(e)},afterDraw(t){let i=t.tooltip;if(i&&i._willRender()){let e={tooltip:i};if(t.notifyPlugins("beforeTooltipDraw",Ri(ht({},e),{cancelable:!0}))===!1)return;i.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e)}},afterEvent(t,i){if(t.tooltip){let e=i.replay;t.tooltip.handleEvent(i.event,e,i.inChartArea)&&(i.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,i)=>i.bodyFont.size,boxWidth:(t,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lne},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Z6e=Object.freeze({__proto__:null,Colors:c6e,Decimation:f6e,Filler:k6e,Legend:V6e,SubTitle:H6e,Title:U6e,Tooltip:K6e}),J6e=(t,i,e,r)=>(typeof i=="string"?(e=t.push(i)-1,r.unshift({index:e,label:i})):isNaN(i)&&(e=null),e);function q6e(t,i,e,r){let n=t.indexOf(i);if(n===-1)return J6e(t,i,e,r);let a=t.lastIndexOf(i);return n!==a?e:n}var eBe=(t,i)=>t===null?null:Co(Math.round(t),0,i);function kie(t){let i=this.getLabels();return t>=0&&t<i.length?i[t]:t}var tBe=(()=>{class t extends fv{static id="category";static defaults={ticks:{callback:kie}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let r=this._addedLabels;if(r.length){let n=this.getLabels();for(let{index:a,label:s}of r)n[a]===s&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(Cr(e))return null;let n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:q6e(n,e,Fn(r,e),this._addedLabels),eBe(r,n.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:r}=this.getUserBounds(),{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){let e=this.min,r=this.max,n=this.options.offset,a=[],s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)a.push({value:o});return a}getLabelForValue(e){return kie.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function iBe(t,i){let e=[],{bounds:n,step:a,min:s,max:o,precision:u,count:l,maxTicks:c,maxDigits:h,includeBounds:d}=t,f=a||1,m=c-1,{min:p,max:g}=i,v=!Cr(s),y=!Cr(o),x=!Cr(l),b=(g-p)/(h+1),w=jN((g-p)/m/f)*f,C,_,S,T;if(w<1e-14&&!v&&!y)return[{value:p},{value:g}];T=Math.ceil(g/w)-Math.floor(p/w),T>m&&(w=jN(T*w/m/f)*f),Cr(u)||(C=Math.pow(10,u),w=Math.ceil(w*C)/C),n==="ticks"?(_=Math.floor(p/w)*w,S=Math.ceil(g/w)*w):(_=p,S=g),v&&y&&a&&xte((o-s)/a,w/1e3)?(T=Math.round(Math.min((o-s)/w,c)),w=(o-s)/T,_=s,S=o):x?(_=v?s:_,S=y?o:S,T=l-1,w=(S-_)/T):(T=(S-_)/w,Cx(T,Math.round(T),w/1e3)?T=Math.round(T):T=Math.ceil(T));let A=Math.max(XN(w),XN(_));C=Math.pow(10,Cr(u)?A:u),_=Math.round(_*C)/C,S=Math.round(S*C)/C;let M=0;for(v&&(d&&_!==s?(e.push({value:s}),_<s&&M++,Cx(Math.round((_+M*w)*C)/C,s,Fie(s,b,t))&&M++):_<s&&M++);M<T;++M){let I=Math.round((_+M*w)*C)/C;if(y&&I>o)break;e.push({value:I})}return y&&d&&S!==o?e.length&&Cx(e[e.length-1].value,o,Fie(o,b,t))?e[e.length-1].value=o:e.push({value:o}):(!y||S===o)&&e.push({value:S}),e}function Fie(t,i,{horizontal:e,minRotation:r}){let n=Ud(r),a=(e?Math.sin(n):Math.cos(n))||.001,s=.75*i*(""+t).length;return Math.min(i/a,s)}var Dx=class extends fv{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,e){return Cr(i)||(typeof i=="number"||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){let{beginAtZero:i}=this.options,{minDefined:e,maxDefined:r}=this.getUserBounds(),{min:n,max:a}=this,s=u=>n=e?n:u,o=u=>a=r?a:u;if(i){let u=Fh(n),l=Fh(a);u<0&&l<0?o(0):u>0&&l>0&&s(0)}if(n===a){let u=a===0?1:Math.abs(a*.05);o(a+u),i||s(n-u)}this.min=n,this.max=a}getTickLimit(){let i=this.options.ticks,{maxTicksLimit:e,stepSize:r}=i,n;return r?(n=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),e=e||11),e&&(n=Math.min(e,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let i=this.options,e=i.ticks,r=this.getTickLimit();r=Math.max(2,r);let n={maxTicks:r,bounds:i.bounds,min:i.min,max:i.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,s=iBe(n,a);return i.bounds==="ticks"&&WN(s,this,"value"),i.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let i=this.ticks,e=this.min,r=this.max;if(super.configure(),this.options.offset&&i.length){let n=(r-e)/Math.max(i.length-1,1)/2;e-=n,r+=n}this._startValue=e,this._endValue=r,this._valueRange=r-e}getLabelForValue(i){return Tx(i,this.chart.options.locale,this.options.ticks.format)}},z8=class extends Dx{static id="linear";static defaults={ticks:{callback:Qw.formatters.numeric}};determineDataLimits(){let{min:i,max:e}=this.getMinMax(!0);this.min=va(i)?i:0,this.max=va(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let i=this.isHorizontal(),e=i?this.width:this.height,r=Ud(this.options.ticks.minRotation),n=(i?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/n))}getPixelForValue(i){return i===null?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}},o2=t=>Math.floor($p(t)),hv=(t,i)=>Math.pow(10,o2(t)+i);function Oie(t){return t/Math.pow(10,o2(t))===1}function Lie(t,i,e){let r=Math.pow(10,e),n=Math.floor(t/r);return Math.ceil(i/r)-n}function nBe(t,i){let e=i-t,r=o2(e);for(;Lie(t,i,r)>10;)r++;for(;Lie(t,i,r)<10;)r--;return Math.min(r,o2(t))}function rBe(t,{min:i,max:e}){i=uu(t.min,i);let r=[],n=o2(i),a=nBe(i,e),s=a<0?Math.pow(10,Math.abs(a)):1,o=Math.pow(10,a),u=n>a?Math.pow(10,n):0,l=Math.round((i-u)*s)/s,c=Math.floor((i-u)/o/10)*o*10,h=Math.floor((l-c)/Math.pow(10,a)),d=uu(t.min,Math.round((u+c+h*Math.pow(10,a))*s)/s);for(;d<e;)r.push({value:d,major:Oie(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(a++,h=2,s=a>=0?1:s),d=Math.round((u+c+h*Math.pow(10,a))*s)/s;let f=uu(t.max,d);return r.push({value:f,major:Oie(f),significand:h}),r}var U8=class extends fv{static id="logarithmic";static defaults={ticks:{callback:Qw.formatters.logarithmic,major:{enabled:!0}}};constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,e){let r=Dx.prototype.parse.apply(this,[i,e]);if(r===0){this._zero=!0;return}return va(r)&&r>0?r:null}determineDataLimits(){let{min:i,max:e}=this.getMinMax(!0);this.min=va(i)?Math.max(0,i):null,this.max=va(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!va(this._userMin)&&(this.min=i===hv(this.min,0)?hv(this.min,-1):hv(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:i,maxDefined:e}=this.getUserBounds(),r=this.min,n=this.max,a=o=>r=i?r:o,s=o=>n=e?n:o;r===n&&(r<=0?(a(1),s(10)):(a(hv(r,-1)),s(hv(n,1)))),r<=0&&a(hv(n,-1)),n<=0&&s(hv(r,1)),this.min=r,this.max=n}buildTicks(){let i=this.options,e={min:this._userMin,max:this._userMax},r=rBe(e,this);return i.bounds==="ticks"&&WN(r,this,"value"),i.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(i){return i===void 0?"0":Tx(i,this.chart.options.locale,this.options.ticks.format)}configure(){let i=this.min;super.configure(),this._startValue=$p(i),this._valueRange=$p(this.max)-$p(i)}getPixelForValue(i){return(i===void 0||i===0)&&(i=this.min),i===null||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:($p(i)-this._startValue)/this._valueRange)}getValueForPixel(i){let e=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+e*this._valueRange)}};function H8(t){let i=t.ticks;if(i.display&&t.display){let e=pl(i.backdropPadding);return Fn(i.font&&i.font.size,Qs.font.size)+e.height}return 0}function sBe(t,i,e){return e=Hs(e)?e:[e],{w:Mte(t,i.string,e),h:e.length*i.lineHeight}}function Nie(t,i,e,r,n){return t===r||t===n?{start:i-e/2,end:i+e/2}:t<r||t>n?{start:i-e,end:i}:{start:i,end:i+e}}function aBe(t){let i={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},e=Object.assign({},i),r=[],n=[],a=t._pointLabels.length,s=t.options.pointLabels,o=s.centerPointLabels?Gs/a:0;for(let u=0;u<a;u++){let l=s.setContext(t.getPointLabelContext(u));n[u]=l.padding;let c=t.getPointPosition(u,t.drawingArea+n[u],o),h=to(l.font),d=sBe(t.ctx,h,t._pointLabels[u]);r[u]=d;let f=cu(t.getIndexAngle(u)+o),m=Math.round(hI(f)),p=Nie(m,c.x,d.w,0,180),g=Nie(m,c.y,d.h,90,270);oBe(e,i,f,p,g)}t.setCenterPoint(i.l-e.l,e.r-i.r,i.t-e.t,e.b-i.b),t._pointLabelItems=uBe(t,r,n)}function oBe(t,i,e,r,n){let a=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e)),o=0,u=0;r.start<i.l?(o=(i.l-r.start)/a,t.l=Math.min(t.l,i.l-o)):r.end>i.r&&(o=(r.end-i.r)/a,t.r=Math.max(t.r,i.r+o)),n.start<i.t?(u=(i.t-n.start)/s,t.t=Math.min(t.t,i.t-u)):n.end>i.b&&(u=(n.end-i.b)/s,t.b=Math.max(t.b,i.b+u))}function lBe(t,i,e){let r=t.drawingArea,{extra:n,additionalAngle:a,padding:s,size:o}=e,u=t.getPointPosition(i,r+n+s,a),l=Math.round(hI(cu(u.angle+Oa))),c=fBe(u.y,o.h,l),h=dBe(l),d=hBe(u.x,o.w,h);return{visible:!0,x:u.x,y:c,textAlign:h,left:d,top:c,right:d+o.w,bottom:c+o.h}}function cBe(t,i){if(!i)return!0;let{left:e,top:r,right:n,bottom:a}=t;return!(zf({x:e,y:r},i)||zf({x:e,y:a},i)||zf({x:n,y:r},i)||zf({x:n,y:a},i))}function uBe(t,i,e){let r=[],n=t._pointLabels.length,a=t.options,{centerPointLabels:s,display:o}=a.pointLabels,u={extra:H8(a)/2,additionalAngle:s?Gs/n:0},l;for(let c=0;c<n;c++){u.padding=e[c],u.size=i[c];let h=lBe(t,c,u);r.push(h),o==="auto"&&(h.visible=cBe(h,l),h.visible&&(l=h))}return r}function dBe(t){return t===0||t===180?"center":t<180?"left":"right"}function hBe(t,i,e){return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function fBe(t,i,e){return e===90||e===270?t-=i/2:(e>270||e<90)&&(t-=i),t}function pBe(t,i,e){let{left:r,top:n,right:a,bottom:s}=e,{backdropColor:o}=i;if(!Cr(o)){let u=T0(i.borderRadius),l=pl(i.backdropPadding);t.fillStyle=o;let c=r-l.left,h=n-l.top,d=a-r+l.width,f=s-n+l.height;Object.values(u).some(m=>m!==0)?(t.beginPath(),Ex(t,{x:c,y:h,w:d,h:f,radius:u}),t.fill()):t.fillRect(c,h,d,f)}}function mBe(t,i){let{ctx:e,options:{pointLabels:r}}=t;for(let n=i-1;n>=0;n--){let a=t._pointLabelItems[n];if(!a.visible)continue;let s=r.setContext(t.getPointLabelContext(n));pBe(e,s,a);let o=to(s.font),{x:u,y:l,textAlign:c}=a;S0(e,t._pointLabels[n],u,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}function cne(t,i,e,r){let{ctx:n}=t;if(e)n.arc(t.xCenter,t.yCenter,i,0,js);else{let a=t.getPointPosition(0,i);n.moveTo(a.x,a.y);for(let s=1;s<r;s++)a=t.getPointPosition(s,i),n.lineTo(a.x,a.y)}}function gBe(t,i,e,r,n){let a=t.ctx,s=i.circular,{color:o,lineWidth:u}=i;!s&&!r||!o||!u||e<0||(a.save(),a.strokeStyle=o,a.lineWidth=u,a.setLineDash(n.dash||[]),a.lineDashOffset=n.dashOffset,a.beginPath(),cne(t,e,s,r),a.closePath(),a.stroke(),a.restore())}function vBe(t,i,e){return Kp(t,{label:e,index:i,type:"pointLabel"})}var G8=class extends Dx{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Qw.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(i){return i},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let i=this._padding=pl(H8(this.options)/2),e=this.width=this.maxWidth-i.width,r=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+e/2+i.left),this.yCenter=Math.floor(this.top+r/2+i.top),this.drawingArea=Math.floor(Math.min(e,r)/2)}determineDataLimits(){let{min:i,max:e}=this.getMinMax(!1);this.min=va(i)&&!isNaN(i)?i:0,this.max=va(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/H8(this.options))}generateTickLabels(i){Dx.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((e,r)=>{let n=ks(this.options.pointLabels.callback,[e,r],this);return n||n===0?n:""}).filter((e,r)=>this.chart.getDataVisibility(r))}fit(){let i=this.options;i.display&&i.pointLabels.display?aBe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,e,r,n){this.xCenter+=Math.floor((i-e)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,e,r,n))}getIndexAngle(i){let e=js/(this._pointLabels.length||1),r=this.options.startAngle||0;return cu(i*e+Ud(r))}getDistanceFromCenterForValue(i){if(Cr(i))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*e:(i-this.min)*e}getValueForDistanceFromCenter(i){if(Cr(i))return NaN;let e=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(i){let e=this._pointLabels||[];if(i>=0&&i<e.length){let r=e[i];return vBe(this.getContext(),i,r)}}getPointPosition(i,e,r=0){let n=this.getIndexAngle(i)-Oa+r;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(i,e){return this.getPointPosition(i,this.getDistanceFromCenterForValue(e))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){let{left:e,top:r,right:n,bottom:a}=this._pointLabelItems[i];return{left:e,top:r,right:n,bottom:a}}drawBackground(){let{backgroundColor:i,grid:{circular:e}}=this.options;if(i){let r=this.ctx;r.save(),r.beginPath(),cne(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),r.closePath(),r.fillStyle=i,r.fill(),r.restore()}}drawGrid(){let i=this.ctx,e=this.options,{angleLines:r,grid:n,border:a}=e,s=this._pointLabels.length,o,u,l;if(e.pointLabels.display&&mBe(this,s),n.display&&this.ticks.forEach((c,h)=>{if(h!==0||h===0&&this.min<0){u=this.getDistanceFromCenterForValue(c.value);let d=this.getContext(h),f=n.setContext(d),m=a.setContext(d);gBe(this,f,u,s,m)}}),r.display){for(i.save(),o=s-1;o>=0;o--){let c=r.setContext(this.getPointLabelContext(o)),{color:h,lineWidth:d}=c;!d||!h||(i.lineWidth=d,i.strokeStyle=h,i.setLineDash(c.borderDash),i.lineDashOffset=c.borderDashOffset,u=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),l=this.getPointPosition(o,u),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(l.x,l.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){let i=this.ctx,e=this.options,r=e.ticks;if(!r.display)return;let n=this.getIndexAngle(0),a,s;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(n),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((o,u)=>{if(u===0&&this.min>=0&&!e.reverse)return;let l=r.setContext(this.getContext(u)),c=to(l.font);if(a=this.getDistanceFromCenterForValue(this.ticks[u].value),l.showLabelBackdrop){i.font=c.string,s=i.measureText(o.label).width,i.fillStyle=l.backdropColor;let h=pl(l.backdropPadding);i.fillRect(-s/2-h.left,-a-c.size/2-h.top,s+h.width,c.size+h.height)}S0(i,o.label,0,-a,c,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),i.restore()}drawTitle(){}},BI={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},hu=Object.keys(BI);function Bie(t,i){return t-i}function Vie(t,i){if(Cr(i))return null;let e=t._adapter,{parser:r,round:n,isoWeekday:a}=t._parseOpts,s=i;return typeof r=="function"&&(s=r(s)),va(s)||(s=typeof r=="string"?e.parse(s,r):e.parse(s)),s===null?null:(n&&(s=n==="week"&&(cv(a)||a===!0)?e.startOf(s,"isoWeek",a):e.startOf(s,n)),+s)}function zie(t,i,e,r){let n=hu.length;for(let a=hu.indexOf(t);a<n-1;++a){let s=BI[hu[a]],o=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((e-i)/(o*s.size))<=r)return hu[a]}return hu[n-1]}function yBe(t,i,e,r,n){for(let a=hu.length-1;a>=hu.indexOf(e);a--){let s=hu[a];if(BI[s].common&&t._adapter.diff(n,r,s)>=i-1)return s}return hu[e?hu.indexOf(e):0]}function xBe(t){for(let i=hu.indexOf(t)+1,e=hu.length;i<e;++i)if(BI[hu[i]].common)return hu[i]}function Uie(t,i,e){if(!e)t[i]=!0;else if(e.length){let{lo:r,hi:n}=fI(e,i),a=e[r]>=i?e[r]:e[n];t[a]=!0}}function bBe(t,i,e,r){let n=t._adapter,a=+n.startOf(i[0].value,r),s=i[i.length-1].value,o,u;for(o=a;o<=s;o=+n.add(o,1,r))u=e[o],u>=0&&(i[u].major=!0);return i}function Hie(t,i,e){let r=[],n={},a=i.length,s,o;for(s=0;s<a;++s)o=i[s],n[o]=s,r.push({value:o,major:!1});return a===0||!e?r:bBe(t,r,n,e)}var j8=(()=>{class t extends fv{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){let n=e.time||(e.time={}),a=this._adapter=new PNe._date(e.adapters.date);a.init(r),_x(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:Vie(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,r=this._adapter,n=e.time.unit||"day",{min:a,max:s,minDefined:o,maxDefined:u}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(a=Math.min(a,c.min)),!u&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!u)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),a=va(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),s=va(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){let e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);let s=this.min,o=this.max,u=wte(a,s,o);return this._unit=r.unit||(n.autoSkip?zie(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):yBe(this,u.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:xBe(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),Hie(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,s;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);let o=e.length<3?.5:.25;r=Co(r,0,o),n=Co(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){let e=this._adapter,r=this.min,n=this.max,a=this.options,s=a.time,o=s.unit||zie(s.minUnit,r,n,this._getLabelCapacity(r)),u=Fn(a.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=cv(l)||l===!0,h={},d=r,f,m;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(n,r,o)>1e5*u)throw new Error(r+" and "+n+" are too far apart with stepSize of "+u+" "+o);let p=a.ticks.source==="data"&&this.getDataTimestamps();for(f=d,m=0;f<n;f=+e.add(f,u,o),m++)Uie(h,f,p);return(f===n||a.bounds==="ticks"||m===1)&&Uie(h,f,p),Object.keys(h).sort(Bie).map(g=>+g)}getLabelForValue(e){let r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){let a=this.options.time.displayFormats,s=this._unit,o=r||a[s];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,a){let s=this.options,o=s.ticks.callback;if(o)return ks(o,[e,r,n],this);let u=s.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&u[l],d=c&&u[c],f=n[r],m=c&&d&&f&&f.major;return this._adapter.format(e,a||(m?d:h))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){let r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){let r=this.options.ticks,n=this.ctx.measureText(e).width,a=Ud(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(a),o=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:n*s+u*o,h:n*o+u*s}}_getLabelCapacity(e){let r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,Hie(this,[e],this._majorUnit),a),o=this._getLabelSize(s),u=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;let a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],r,n;if(e.length)return e;let a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(Vie(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return QN(e.sort(Bie))}}return t})();function MI(t,i,e){let r=0,n=t.length-1,a,s,o,u;e?(i>=t[r].pos&&i<=t[n].pos&&({lo:r,hi:n}=Vf(t,"pos",i)),{pos:a,time:o}=t[r],{pos:s,time:u}=t[n]):(i>=t[r].time&&i<=t[n].time&&({lo:r,hi:n}=Vf(t,"time",i)),{time:a,pos:o}=t[r],{time:s,pos:u}=t[n]);let l=s-a;return l?o+(u-o)*(i-a)/l:o}var W8=class extends j8{static id="timeseries";static defaults=j8.defaults;constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let i=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(i);this._minPos=MI(e,this.min),this._tableRange=MI(e,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){let{min:e,max:r}=this,n=[],a=[],s,o,u,l,c;for(s=0,o=i.length;s<o;++s)l=i[s],l>=e&&l<=r&&n.push(l);if(n.length<2)return[{time:e,pos:0},{time:r,pos:1}];for(s=0,o=n.length;s<o;++s)c=n[s+1],u=n[s-1],l=n[s],Math.round((c+u)/2)!==l&&a.push({time:l,pos:s/(o-1)});return a}_generate(){let i=this.min,e=this.max,r=super.getDataTimestamps();return(!r.includes(i)||!r.length)&&r.splice(0,0,i),(!r.includes(e)||r.length===1)&&r.push(e),r.sort((n,a)=>n-a)}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;let e=this.getDataTimestamps(),r=this.getLabelTimestamps();return e.length&&r.length?i=this.normalize(e.concat(r)):i=e.length?e:r,i=this._cache.all=i,i}getDecimalForValue(i){return(MI(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){let e=this._offsets,r=this.getDecimalForPixel(i)/e.factor-e.end;return MI(this._table,r*this._tableRange+this._minPos,!0)}},_Be=Object.freeze({__proto__:null,CategoryScale:tBe,LinearScale:z8,LogarithmicScale:U8,RadialLinearScale:G8,TimeScale:j8,TimeSeriesScale:W8}),une=[DNe,i6e,Z6e,_Be];var wBe=["radarCanvas"],dne=t=>({left:t});function CBe(t,i){if(t&1&&(B(0,"div",12)(1,"div",13),J(2),U()()),t&2){let e=i.$implicit,r=pe();oe("ngStyle",Ia(2,dne,r.getMarkerPosition(e.value)+"%")),K(2),vt(e.value)}}function SBe(t,i){if(t&1&&(B(0,"span",14),J(1),U()),t&2){let e=i.$implicit;K(),vt(e.label)}}function TBe(t,i){t&1&&(B(0,"span"),J(1,"(responses with comments are listed)"),U())}function EBe(t,i){if(t&1&&(B(0,"td"),J(1),pr(2,"titlecase"),U()),t&2){let e=pe(2).$implicit,r=pe(2).$implicit,n=pe();ti("rowspan",n.getKpaRowSpan(n.maturityResponse,r,e)),K(),It(" ",Da(2,2,n.getKpaName(e))," ")}}function ABe(t,i){if(t&1&&(B(0,"td",16),J(1),pr(2,"number"),U()),t&2){let e=pe(2).$implicit,r=pe(2).$implicit,n=pe();ti("rowspan",n.getKpaRowSpan(n.maturityResponse,r,e)),K(),Dr(" ",yo(2,3,n.kpaAverages[e],"1.2-2")," - ",n.getScaleLabel(n.kpaAverages[e])," ")}}function MBe(t,i){if(t&1&&(Ni(0),B(1,"tr"),Te(2,EBe,3,4,"td",9)(3,ABe,3,6,"td",15),U(),Bi()),t&2){let e=i.index,r=pe(4);K(2),oe("ngIf",r.isFirstRowInKpa(e)),K(),oe("ngIf",r.isFirstRowInKpa(e))}}function IBe(t,i){if(t&1&&(B(0,"tr")(1,"td",17)(2,"div",18)(3,"mat-icon"),J(4,"comment"),U(),B(5,"p"),J(6),He(7,"br"),J(8),B(9,"i"),J(10),U()()()()()),t&2){let e=pe().$implicit;K(6),It(" ",e.questionText,""),K(2),Dr(" Result: ",e.selectedScore," - ",e.selectedOptionText," Comment: "),K(2),vt(e.text)}}function DBe(t,i){if(t&1&&(Ni(0),Te(1,IBe,11,4,"tr",9),Bi()),t&2){let e=i.$implicit,r=pe().$implicit;K(),oe("ngIf",e.kpa==r)}}function PBe(t,i){if(t&1&&(Ni(0),Te(1,MBe,4,2,"ng-container",10),pr(2,"keyvalue"),Te(3,DBe,2,1,"ng-container",10),Bi()),t&2){let e=i.$implicit,r=pe(2).$implicit,n=pe();K(),oe("ngForOf",Da(2,2,n.getQuestions(n.maturityResponse,r,e))),K(2),oe("ngForOf",n.commentList)}}function RBe(t,i){if(t&1&&(Ni(0),Te(1,PBe,4,4,"ng-container",10),Bi()),t&2){let e=pe().$implicit,r=pe();K(),oe("ngForOf",r.getKpas(r.maturityResponse,e))}}function kBe(t,i){if(t&1&&(Ni(0),Te(1,RBe,2,1,"ng-container",9),Bi()),t&2){let e=i.$implicit,r=pe();K(),oe("ngIf",e==r.maturityResponse.selectedStakeholder)}}pv.register(...une);var $8=(()=>{class t{constructor(){this.allQuestions=[],this.overallAverage=1,this.level="",this.kpaAverages={},this.commentList=[],this.resultsScale=[{value:1,label:"Basic"},{value:2,label:"Emerging"},{value:3,label:"Advanced"},{value:4,label:"Integrated"},{value:5,label:"Optimizing"}]}ngAfterViewInit(){this.maturityResponse&&this.generateChart()}ngOnInit(){this.processComments(),this.computeKpaAverages(),this.overallAverage=this.calculateOverallAverage(this.maturityResponse)}ngOnChanges(e){this.radarCanvas&&e.maturityResponse&&this.maturityResponse&&(this.processComments(),this.computeKpaAverages(),this.overallAverage=this.calculateOverallAverage(this.maturityResponse),this.generateChart())}generateChart(){this.chart&&this.chart.destroy();let e={};Object.entries(this.maturityResponse).forEach(([o,u])=>{if(typeof u!="number"||!isFinite(u))return;let[l,c,h]=o.split("_");l&&c&&h&&l===this.maturityResponse.selectedStakeholder&&(e[c]=e[c]||{sum:0,count:0},e[c].sum+=u,e[c].count+=1)});let n=Array.from(new Set(Object.keys(this.maturityResponse).filter(o=>o.startsWith(this.maturityResponse.selectedStakeholder)).map(o=>o.split("_")[1]))).filter(o=>this.maturityResponse.selectedKpas?.[o]),a=n.map(o=>this.getKpaName(o)||o),s=[{label:this.getStakeholderName(),data:n.map(o=>{let u=e[o];return u?u.sum/u.count:0}),backgroundColor:"rgba(54, 162, 235, 0.3)",borderColor:"rgba(54, 162, 235, 1)",pointBackgroundColor:"rgba(54, 162, 235, 1)",pointBorderColor:"#fff"}];this.chart=new pv(this.radarCanvas.nativeElement,{type:"radar",data:{labels:a,datasets:s},options:{aspectRatio:2,responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Maturity Results by Stakeholder and KPA"}},scales:{r:{pointLabels:{padding:5},suggestedMin:0,suggestedMax:5,ticks:{stepSize:1}}}}})}getStakeholders(e){return Array.from(new Set(Object.keys(e).map(r=>r.split("_")[0])))}getKpas(e,r){return Array.from(new Set(Object.keys(e).filter(a=>a.startsWith(r+"_")).map(a=>a.split("_")[1]))).filter(a=>e.selectedKpas?.[a])}getStakeholderName(){return this.allQuestions[0].stakeholderName}getKpaName(e){let r=this.allQuestions.find(n=>n.kpaId===e);return r?r.kpaName:""}getQuestions(e,r,n){return Object.keys(e).filter(a=>a.startsWith(`${r}_${n}`)).reduce((a,s)=>{let o=s.split("_").slice(2).join("_");return a[o]=e[s],a},{})}getStakeholderRowSpan(e,r){return this.getKpas(e,r).reduce((a,s)=>a+this.getKpaRowSpan(e,r,s),0)}getKpaRowSpan(e,r,n){return Object.keys(e).filter(a=>a.startsWith(`${r}_${n}`)).length}isFirstRowInStakeholder(e,r,n){let a=this.getKpas(this.maturityResponse,r).indexOf(n);return e===0&&a===0}isFirstRowInKpa(e){return e===0}calculateAverage(e){let r=Object.values(e).filter(a=>typeof a=="number"&&isFinite(a));return r.length===0?0:r.reduce((a,s)=>a+s,0)/r.length}computeKpaAverages(){this.kpaAverages={};let e=this.maturityResponse.selectedStakeholder;this.getKpas(this.maturityResponse,e).forEach(n=>{let a=this.getQuestions(this.maturityResponse,e,n);this.kpaAverages[n]=this.calculateAverage(a)})}calculateOverallAverage(e){let r={},n=["selectedStakeholder","name","author","timestamp","selectedKpas","comment"];for(let o in e){if(!e.hasOwnProperty(o)||e[o]===null||n.includes(o))continue;let u=e[o];if(typeof u!="number"||!isFinite(u))continue;let[l,c,h]=o.split("_");c&&e.selectedKpas&&e.selectedKpas[c]&&(r[c]||(r[c]=[]),r[c].push(e[o]))}let a=Object.keys(r).filter(o=>r[o].length>0).map(o=>{let u=r[o];return u.reduce((l,c)=>l+c,0)/u.length});return a.length>0?a.reduce((o,u)=>o+u,0)/a.length:0}processComments(){let e=[];for(let r of this.allQuestions){let n=r.questionFullPath;if(!n)continue;let a=this.maturityResponse[n];if(typeof a!="number"||!isFinite(a))continue;let s=r.question.options.find(c=>c.score===a),o=s?s.text:"",u=`${n}_comment`,l=(this.maturityResponse[u]||"").trim();l&&e.push({kpa:r.kpaId,questionText:r.question.question,selectedScore:a,selectedOptionText:o,text:l})}this.commentList=e}getScaleLabel(e){return e=Math.floor(e),this.level=this.resultsScale.find(r=>r.value===e)?.label||"",this.level}getMarkerPosition(e){return e<1&&(e=1),e>5&&(e=5),(e-1)/4*100}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-maturity-results"]],viewQuery:function(r,n){if(r&1&&Jt(wBe,5),r&2){let a;yt(a=xt())&&(n.radarCanvas=a.first)}},inputs:{maturityResponse:"maturityResponse",allQuestions:"allQuestions"},standalone:!1,features:[Ki],decls:25,vars:16,consts:[["radarCanvas",""],[1,"centered-box"],[1,"score-scale-container"],[1,"score-scale"],[1,"score-marker",3,"ngStyle"],["class","score-tick",3,"ngStyle",4,"ngFor","ngForOf"],[1,"score-scale-labels"],["class","level-label",4,"ngFor","ngForOf"],[1,"bordered-table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"chart-container"],[1,"score-tick",3,"ngStyle"],[1,"score-tick-label"],[1,"level-label"],["class","text-center",4,"ngIf"],[1,"text-center"],["colspan","2"],[1,"comment"]],template:function(r,n){r&1&&(B(0,"h3",1),J(1),pr(2,"number"),U(),He(3,"br"),B(4,"div",2)(5,"div",3),He(6,"div",4),Te(7,CBe,3,4,"div",5),U(),B(8,"div",6),Te(9,SBe,2,1,"span",7),pr(10,"slice"),U()(),B(11,"table",8)(12,"thead")(13,"tr")(14,"th"),J(15,"KPA Description "),Te(16,TBe,2,0,"span",9),U(),B(17,"th"),J(18,"KPA Average Score"),U()()(),B(19,"tbody"),Te(20,kBe,2,1,"ng-container",10),U()(),B(21,"div",11),He(22,"canvas",null,0),U(),He(24,"br")),r&2&&(K(),Dr(" ",yo(2,7,n.overallAverage,"1.2-2")," - ",n.getScaleLabel(n.overallAverage),`
`),K(5),oe("ngStyle",Ia(14,dne,"calc("+n.getMarkerPosition(n.overallAverage)+"% - 3px)")),K(),oe("ngForOf",n.resultsScale),K(2),oe("ngForOf",AU(10,10,n.resultsScale,0,n.resultsScale.length-1)),K(7),oe("ngIf",n.commentList.length>0),K(4),oe("ngForOf",n.getStakeholders(n.maturityResponse)))},dependencies:[qi,Xi,tH,pn,nH,yT,gT,iH],styles:[".bordered-table[_ngcontent-%COMP%]{border:1px solid #000;border-collapse:collapse;width:100%}.bordered-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .bordered-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #000;padding:4px}.chart-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.centered-box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:2px solid #000;padding:10px;margin:20px auto;width:fit-content;box-shadow:0 0 10px #0000001a}.pdf-mode[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-bottom:5px!important;line-height:2rem!important}.score-scale-container[_ngcontent-%COMP%]{position:relative;width:100%;margin:1rem 0}.score-scale[_ngcontent-%COMP%]{position:relative;height:20px;width:100%;border-radius:4px;background:linear-gradient(to right,#c03700,#d47f00,#dfc500 66%,#417505)}.score-marker[_ngcontent-%COMP%]{position:absolute;top:-5px;width:6px;height:30px;background-color:#2821eb;transition:left .3s ease;border-radius:2px}.score-tick[_ngcontent-%COMP%]{position:absolute;top:0;width:1px;height:8px;background-color:#000;transform:translateY(-8px)}.score-tick-label[_ngcontent-%COMP%]{position:absolute;top:-20px;left:-4px;font-weight:700;font-size:small}.score-scale-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem;width:100%}.level-label[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:small;flex:1}.comment[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding-left:1rem;gap:.5rem;font-size:small}.comment[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2b96e8}"]})}}return t})();var FBe=[[["","flipFront",""]],[["","flipBack",""]]],OBe=["[flipFront]","[flipBack]"],fne=(()=>{class t{constructor(){this.isFlipped=!1}toggleFlip(){this.isFlipped=!this.isFlipped}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-flip-card"]],standalone:!1,ngContentSelectors:OBe,decls:6,vars:2,consts:[[1,"flip-container"],[1,"flip-card"],[1,"flip-card-front"],[1,"flip-card-back"]],template:function(r,n){r&1&&(zi(FBe),B(0,"mat-card",0)(1,"mat-card-content",1)(2,"div",2),$t(3),U(),B(4,"div",3),$t(5,1),U()()()),r&2&&Ut("flipped",n.isFlipped)},dependencies:[Pd,$m],styles:[".flip-container[_ngcontent-%COMP%]{perspective:1000px;width:400px;height:400px;margin:1rem}.flip-container[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{padding:0}.flip-card[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;transform-origin:center center;transition:transform .6s;transform-style:preserve-3d;background-color:#124f6b;color:#fff}.flipped[_ngcontent-%COMP%]   .flip-card[_ngcontent-%COMP%]{transform:rotateY(180deg)}.flip-card-front[_ngcontent-%COMP%], .flip-card-back[_ngcontent-%COMP%]{padding:10px;position:absolute;width:100%;height:100%;backface-visibility:hidden;display:flex;align-items:center;justify-content:center;text-align:center;flex-direction:column}.flip-card-front[_ngcontent-%COMP%]{background-color:#124f6b}.flip-card-back[_ngcontent-%COMP%]{background-color:#434a55;transform:rotateY(180deg)}"]})}}return t})();var NBe=["results"];function BBe(t,i){if(t&1){let e=Ye();B(0,"div",10)(1,"button",11),we("click",function(){Me(e);let n=pe();return Ie(n.downloadSpecification())}),J(2,"Download Maturiry Spec"),U(),B(3,"input",12,0),we("change",function(n){Me(e);let a=pe();return Ie(a.uploadSpecification(n))}),U(),B(5,"button",11),we("click",function(){Me(e);let n=hi(4);return Ie(n.click())}),J(6,"Upload Maturity Spec"),U()()}}function VBe(t,i){if(t&1){let e=Ye();B(0,"div",13)(1,"div",14)(2,"div")(3,"h1",15),J(4,"Welcome to SNOMED International\u2019s Implementation Maturity Assessment Tool"),U(),B(5,"p",16),J(6," The SNOMED International "),B(7,"b"),J(8,"Implementation Maturity Assessment Tool"),U(),J(9," is designed to help "),B(10,"b"),J(11,"Vendors"),U(),J(12,", "),B(13,"b"),J(14,"Members"),U(),J(15," (National Release Centers), and "),B(16,"b"),J(17,"User Organizations"),U(),J(18," evaluate their progress in adopting and integrating SNOMED CT. This tool provides structured insights into implementation maturity, highlighting strengths and areas for improvement. "),U(),He(19,"hr"),B(20,"div",17)(21,"app-flip-card",null,1)(23,"div",18)(24,"div",19),J(25,"Why use this tool?"),U(),B(26,"p"),J(27,"Identify gaps, gain insights, align with best practices, and advance SNOMED CT adoption\u2014tailored for vendors, members, and user organizations."),U(),B(28,"button",20),we("click",function(){Me(e);let n=hi(22);return Ie(n.toggleFlip())}),J(29," More... "),U()(),B(30,"div",21)(31,"div",22),J(32,"Why use this tool?"),U(),B(33,"div",23)(34,"div",24)(35,"div")(36,"b"),J(37,"Identify Gaps"),U(),J(38," \u2013 Assess implementation challenges and pinpoint areas needing further development."),U()(),B(39,"div",24)(40,"div")(41,"b"),J(42,"Obtain actionable"),U(),J(43," Insights \u2013 Receive customized recommendations to advance SNOMED CT adoption."),U()(),B(44,"div",24)(45,"div")(46,"b"),J(47,"Align with Best Practices"),U(),J(48," \u2013 Benchmark your progress against internationally recognized standards."),U()(),B(49,"div",24)(50,"div")(51,"b"),J(52,"Tailored for Different Stakeholders"),U(),J(53," \u2013 Designed to support key stakeholders in their SNOMED CT journey."),U()()(),B(54,"button",20),we("click",function(){Me(e);let n=hi(22);return Ie(n.toggleFlip())}),J(55," Back "),U()()(),B(56,"app-flip-card",null,2)(58,"div",18)(59,"div",19),J(60,"How does it work?"),U(),B(61,"p"),J(62,"Assess key areas, receive a maturity score, gain improvement insights, and generate a report to enhance SNOMED CT implementation and collaboration."),U(),B(63,"button",20),we("click",function(){Me(e);let n=hi(57);return Ie(n.toggleFlip())}),J(64," More... "),U()(),B(65,"div",21)(66,"div",22),J(67,"How does it work?"),U(),B(68,"div",23)(69,"div",24)(70,"div")(71,"b"),J(72,"Select Key Process Areas"),U(),J(73," \u2013 Choose the areas most relevant to your role and implementation needs."),U()(),B(74,"div",24)(75,"div")(76,"b"),J(77,"Complete the Assessment"),U(),J(78," \u2013 Answer structured questions across selected key process areas."),U()(),B(79,"div",24)(80,"div")(81,"b"),J(82,"Receive a Maturity Score"),U(),J(83," \u2013 Get a clear view of your current implementation maturity level."),U()(),B(84,"div",24)(85,"div")(86,"b"),J(87,"Access Improvement Recommendations"),U(),J(88," \u2013 Receive targeted guidance to enhance your SNOMED CT deployment."),U()(),B(89,"div",24)(90,"div")(91,"b"),J(92,"Download and Share Your Report"),U(),J(93," \u2013 Generate a detailed report which can be stored for internal use or shared."),U()()(),B(94,"button",20),we("click",function(){Me(e);let n=hi(57);return Ie(n.toggleFlip())}),J(95," Back "),U()()(),B(96,"app-flip-card",null,3)(98,"div",18)(99,"div",19),J(100,"Who should use it?"),U(),B(101,"p"),J(102,"Tailored assessments for vendors, members, and user organizations to evaluate SNOMED CT integration, adoption, and clinical use."),U(),B(103,"button",20),we("click",function(){Me(e);let n=hi(97);return Ie(n.toggleFlip())}),J(104," More... "),U()(),B(105,"div",21)(106,"div",22),J(107,"Who should use it?"),U(),B(108,"div",23)(109,"div",24)(110,"div")(111,"b"),J(112,"Vendors"),U(),J(113," \u2013 Assess SNOMED CT integration within healthcare software and applications."),U()(),B(114,"div",24)(115,"div")(116,"b"),J(117,"Members"),U(),J(118," (National Release Centers) \u2013 Evaluate national or regional SNOMED CT adoption and management strategies."),U()(),B(119,"div",24)(120,"div")(121,"b"),J(122,"User Organizations"),U(),J(123," \u2013 Analyze SNOMED CT use within healthcare systems, EHRs, and clinical workflows."),U()()(),B(124,"button",20),we("click",function(){Me(e);let n=hi(97);return Ie(n.toggleFlip())}),J(125," Back "),U()()()(),B(126,"div",25)(127,"button",11),we("click",function(){Me(e);let n=pe();return Ie(n.openDashboard())}),J(128," MATURITY ANALYTICS DASHBOARD "),U(),B(129,"button",26),we("click",function(){Me(e);let n=pe();return Ie(n.startAssessment())}),J(130," START ASSESSMENT "),U(),B(131,"input",27,4),we("change",function(n){Me(e);let a=pe();return Ie(a.loadState(n))}),U(),B(133,"button",11),we("click",function(){Me(e);let n=hi(132);return Ie(n.click())}),J(134," LOAD PREVIOUS ASSESSMENT "),U()(),B(135,"div",28)(136,"div"),J(137,"Analyze a collection of assessment results"),U(),B(138,"div"),J(139,"Upload an assessmen to edit or view results"),U()()()()()}}function zBe(t,i){if(t&1&&(B(0,"mat-radio-button",40),J(1),B(2,"p",41),J(3),U()()),t&2){let e=i.$implicit;oe("value",e.id),K(),It(" ",e.name," "),K(2),It(" ",e.description,"")}}function UBe(t,i){t&1&&(B(0,"div",42),J(1," Please select a stakeholder. "),U())}function HBe(t,i){if(t&1&&(B(0,"mat-form-field",46)(1,"mat-label"),J(2,"System name "),U(),He(3,"input",52),B(4,"mat-hint"),J(5,"Name of the software system being evaluated. This information is not stored."),U()()),t&2){let e=pe(3);K(3),oe("formControl",e.systemNameControl)}}function GBe(t,i){if(t&1&&(B(0,"mat-option",53),J(1),U()),t&2){let e=i.$implicit;oe("value",e),K(),vt(e.label)}}function jBe(t,i){t&1&&He(0,"mat-progress-spinner",54)}function WBe(t,i){t&1&&(B(0,"mat-hint"),J(1,"Country, city or address. This information is not stored and is useful for collating results in dashboards."),U())}function XBe(t,i){if(t&1){let e=Ye();B(0,"div")(1,"h2"),J(2,"Stakeholder Description"),U(),B(3,"mat-form-field",43)(4,"mat-label"),J(5),pr(6,"titlecase"),U(),He(7,"input",44),B(8,"mat-hint"),J(9,"Stakeholder name to be included in the final assessment report. This information is not stored."),U()(),Te(10,HBe,6,1,"mat-form-field",45),B(11,"mat-form-field",46)(12,"mat-label"),J(13,"User name "),U(),He(14,"input",47),B(15,"mat-hint"),J(16,"User name to be included in the final assessment report. This information is not stored."),U()(),B(17,"mat-form-field",46)(18,"mat-label"),J(19,"Location"),U(),He(20,"input",48),B(21,"mat-autocomplete",49,6),we("optionSelected",function(n){Me(e);let a=pe(2);return Ie(a.onLocationSelected(n.option.value))}),Te(23,GBe,2,2,"mat-option",50),U(),Te(24,jBe,1,0,"mat-progress-spinner",51)(25,WBe,2,0,"mat-hint",35),U()()}if(t&2){let e,r,n=hi(22),a=pe(2);K(5),It("",Da(6,10,(e=a.getStakeHolder(a.responseForm.controls.selectedStakeholder.value))==null?null:e.name)," name "),K(2),oe("formControl",a.nameControl),K(3),oe("ngIf",((r=a.getStakeHolder(a.responseForm.controls.selectedStakeholder.value))==null?null:r.name)==="Vendor"),K(4),oe("formControl",a.authorControl),K(6),oe("formControl",a.locationControl)("matAutocomplete",n),K(),oe("displayWith",a.displayLocation),K(2),oe("ngForOf",a.locationResults),K(),oe("ngIf",a.loadingLocationResults),K(),oe("ngIf",!a.loadingLocationResults)}}function YBe(t,i){if(t&1){let e=Ye();B(0,"div",13)(1,"div",29)(2,"h2"),J(3,"SNOMED Implementation Maturity assessment"),U(),B(4,"h3"),J(5,"Select Stakeholder Type"),U(),B(6,"div",10)(7,"div",30)(8,"mat-radio-group",31),Te(9,zBe,4,3,"mat-radio-button",32),U(),Te(10,UBe,2,0,"div",33),U(),B(11,"div",34),Te(12,XBe,26,12,"div",35),U()(),B(13,"div",36)(14,"div",37)(15,"button",11),we("click",function(){Me(e);let n=pe();return Ie(n.startOver())}),J(16," Back "),U(),B(17,"button",38),we("click",function(){Me(e);let n=pe();return Ie(n.onStakeholderSelected())}),J(18," Select KPAs "),U()(),B(19,"input",27,5),we("change",function(n){Me(e);let a=pe();return Ie(a.loadState(n))}),U(),B(21,"button",39),we("click",function(){Me(e);let n=hi(20);return Ie(n.click())}),J(22," Upload previous results "),U()()()()}if(t&2){let e=pe();K(),oe("formGroup",e.responseForm),K(7),oe("formControl",e.currentControl)("@questionAnimation",e.animationState),K(),oe("ngForOf",e.maturityQuestions.stakeHolders),K(),oe("ngIf",(e.responseForm.controls.selectedStakeholder==null?null:e.responseForm.controls.selectedStakeholder.invalid)&&(e.responseForm.controls.selectedStakeholder==null?null:e.responseForm.controls.selectedStakeholder.touched)),K(2),oe("ngIf",!e.responseForm.controls.selectedStakeholder.invalid),K(5),oe("disabled",e.responseForm.controls.selectedStakeholder.invalid)}}function $Be(t,i){if(t&1&&(B(0,"mat-checkbox",62),J(1),He(2,"br"),B(3,"span",63),J(4),U()()),t&2){let e=pe().$implicit,r=pe(3);oe("formControl",r.getKpaControl(e.id)),K(),It(" ",e.name,""),K(3),vt(e.description)}}function QBe(t,i){if(t&1&&(B(0,"div",60),Te(1,$Be,5,3,"mat-checkbox",61),U()),t&2){let e=i.$implicit,r=pe(3);K(),oe("ngIf",r.getKpaControl(e.id))}}function KBe(t,i){if(t&1){let e=Ye();B(0,"button",38),we("click",function(){Me(e);let n=pe(3);return Ie(n.filterKpasAndGoNext())}),J(1," Start assessment "),U()}if(t&2){let e=pe(3);oe("disabled",e.currentControl.invalid)}}function ZBe(t,i){if(t&1){let e=Ye();B(0,"div",29)(1,"h2"),J(2,"SNOMED Implementation Maturity assessment"),U(),B(3,"h3"),J(4),U(),B(5,"section",56)(6,"h4"),J(7,"Select Relevant Key Process Areas:"),U(),Te(8,QBe,2,1,"div",57),U(),B(9,"div",58)(10,"button",11),we("click",function(){Me(e);let n=pe(2);return Ie(n.startOver())}),J(11," Back "),U(),Te(12,KBe,2,1,"button",59),U()()}if(t&2){let e=pe(2);oe("formGroup",e.responseForm),K(4),Dr("Stakeholder: ",e.nameControl.value," (",e.allQuestions[e.currentQuestionIndex+1].stakeholderName,")"),K(4),oe("ngForOf",e.currentKpas),K(4),oe("ngIf",e.currentQuestionIndex<e.allQuestions.length-1)}}function JBe(t,i){if(t&1&&(B(0,"div",13),Te(1,ZBe,13,5,"div",55),U()),t&2){let e=pe();K(),oe("ngIf",e.currentQuestionIndex<e.allQuestions.length)}}function qBe(t,i){if(t&1&&(B(0,"mat-icon",72),J(1," help_outline "),U()),t&2){let e=pe().$implicit;oe("matTooltip",e.example)}}function e9e(t,i){if(t&1&&(B(0,"mat-radio-button",53)(1,"div",70),J(2),Te(3,qBe,2,1,"mat-icon",71),U()()),t&2){let e=i.$implicit;oe("value",e.score),K(2),Dr(" ",e.score," - ",e.text," "),K(),oe("ngIf",e.example)}}function t9e(t,i){t&1&&(B(0,"div",42),J(1," Please select an option for this question. "),U())}function i9e(t,i){if(t&1){let e=Ye();B(0,"button",38),we("click",function(){Me(e);let n=pe(3);return Ie(n.goToPreviousQuestion())}),J(1," Back "),U()}if(t&2){let e=pe(3);oe("disabled",e.currentQuestionIndex<1)}}function n9e(t,i){if(t&1){let e=Ye();B(0,"button",38),we("click",function(){Me(e);let n=pe(3);return Ie(n.goToNextQuestion())}),J(1," Next "),U()}if(t&2){let e=pe(3);oe("disabled",e.currentControl.invalid)}}function r9e(t,i){if(t&1){let e=Ye();B(0,"button",73),we("click",function(){Me(e);let n=pe(3);return Ie(n.submitStakeholderResponses())}),J(1," See results "),U()}if(t&2){let e=pe(3);oe("disabled",e.currentControl.invalid)}}function s9e(t,i){if(t&1){let e=Ye();B(0,"div",29)(1,"h2"),J(2,"SNOMED Implementation Maturity assessment"),U(),B(3,"h3"),J(4),U(),He(5,"mat-progress-bar",64),B(6,"div",65),J(7),U(),B(8,"h3"),J(9),U(),B(10,"p",66),J(11),U(),B(12,"div",10)(13,"div",30)(14,"mat-radio-group",31),Te(15,e9e,4,4,"mat-radio-button",50),U()(),B(16,"div",67)(17,"mat-form-field",43)(18,"mat-label")(19,"i"),J(20,"Optional comment"),U()(),He(21,"textarea",68),U()()(),Te(22,t9e,2,0,"div",33),B(23,"div",58),Te(24,i9e,2,1,"button",59)(25,n9e,2,1,"button",59)(26,r9e,2,1,"button",69),U(),B(27,"div",36)(28,"button",39),we("click",function(){Me(e);let n=pe(2);return Ie(n.startOver())}),J(29," Restart assessment "),U()()()}if(t&2){let e=pe(2);oe("formGroup",e.responseForm),K(4),Dr("Stakeholder: ",e.nameControl.value," (",e.allQuestions[e.currentQuestionIndex].stakeholderName,")"),K(),oe("value",(e.currentQuestionIndex+1)/(e.allQuestions.length+1)*100),K(2),Dr("Question ",e.currentQuestionIndex+1," of ",e.allQuestions.length,""),K(2),It("Key Process Area: ",e.allQuestions[e.currentQuestionIndex].kpaName,""),K(),oe("@questionAnimation",e.animationState),K(),vt(e.allQuestions[e.currentQuestionIndex].question.question),K(3),oe("formControl",e.currentControl)("@questionAnimation",e.animationState),K(),oe("ngForOf",e.allQuestions[e.currentQuestionIndex].question.options),K(6),oe("formControl",e.currentCommentControl),K(),oe("ngIf",(e.currentControl==null?null:e.currentControl.invalid)&&(e.currentControl==null?null:e.currentControl.touched)),K(2),oe("ngIf",e.currentQuestionIndex>0),K(),oe("ngIf",e.currentQuestionIndex<e.allQuestions.length-1),K(),oe("ngIf",e.currentQuestionIndex===e.allQuestions.length-1)}}function a9e(t,i){if(t&1&&(B(0,"div",13),Te(1,s9e,30,17,"div",55),U()),t&2){let e=pe();K(),oe("ngIf",e.currentQuestionIndex<e.allQuestions.length)}}function o9e(t,i){if(t&1&&(B(0,"span"),J(1),U()),t&2){let e=pe(2);K(),It(" - System: ",e.systemNameControl.value,"")}}function l9e(t,i){if(t&1&&(B(0,"p",15),J(1),U()),t&2){let e=pe(2);K(),It(" Location: ",e.locationControl.value.label," ")}}function c9e(t,i){if(t&1&&(B(0,"span"),J(1),U()),t&2){let e=pe(2);K(),It("by ",e.authorControl.value,", ")}}function u9e(t,i){if(t&1){let e=Ye();B(0,"div",13)(1,"div",14)(2,"div",74)(3,"h2"),J(4,"SNOMED Implementation Maturity assessment results"),U(),B(5,"h3"),J(6),Te(7,o9e,2,1,"span",35),U(),Te(8,l9e,2,1,"p",75),B(9,"p",15),J(10,"Assessment conducted "),Te(11,c9e,2,1,"span",35),J(12),pr(13,"date"),U(),B(14,"p",76),J(15,"Based on your responses, the maturity level of the stakeholder is:"),U(),He(16,"app-maturity-results",77,7),U(),B(18,"div",58)(19,"button",38),we("click",function(){Me(e);let n=pe();return Ie(n.goToPreviousQuestion())}),J(20," Back "),U(),B(21,"button",11),we("click",function(){Me(e);let n=pe();return Ie(n.startOver())}),J(22," Start over "),U()(),B(23,"div",58)(24,"button",11),we("click",function(){Me(e);let n=pe();return Ie(n.saveState())}),J(25,"Download results"),U(),B(26,"button",11),we("click",function(){Me(e);let n=pe();return Ie(n.downloadPdf())}),J(27,"Download PDF"),U()()()()}if(t&2){let e=pe();K(),oe("@questionAnimation",e.animationState),K(5),Dr("Stakeholder: ",e.nameControl.value," (",e.allQuestions[e.currentQuestionIndex-1].stakeholderName,") "),K(),oe("ngIf",e.systemNameControl.value),K(),oe("ngIf",e.locationControl.value),K(3),oe("ngIf",e.authorControl.value),K(),It(" on ",yo(13,10,e.timestampControl.value,"medium")," "),K(4),oe("maturityResponse",e.responseForm.value)("allQuestions",e.allQuestions),K(3),oe("disabled",e.currentQuestionIndex<1)}}var gne=(()=>{class t{constructor(e,r,n,a,s,o){this.http=e,this.fb=r,this.dialog=n,this.route=a,this.geocodingService=s,this.router=o,this.baseMaturityQuestions={},this.maturityQuestions={},this.allQuestions=[],this.currentQuestionIndex=-3,this.locationResults=[],this.loadingLocationResults=!1,this.selectedStakeholder=null,this.animationState="enter",this.currentKpas=[],this.authorMode=!1,this.responseForm=this.fb.group({selectedStakeholder:new ar(null,dl.required)}),this.currentControl=this.responseForm.controls.selectedStakeholder,this.route.queryParams.subscribe(u=>{u.author&&(this.authorMode=!0)})}ngOnInit(){return Mt(this,null,function*(){this.baseMaturityQuestions=yield Ir(this.http.get("assets/maturity/maturityLevels.json")),this.initializeForm()})}initializeForm(e){return Mt(this,null,function*(){e?this.maturityQuestions=e:this.maturityQuestions=(0,pne.default)(this.baseMaturityQuestions),this.nameControl=new ar(null),this.authorControl=new ar(null),this.timestampControl=new ar(new Date().toISOString()),this.systemNameControl=new ar(null),this.locationControl=new ar(null),this.locationResults=[],this.responseForm=this.fb.group({selectedStakeholder:new ar(null,dl.required),name:this.nameControl,author:this.authorControl,timestamp:this.timestampControl,systemName:this.systemNameControl,location:this.locationControl,comment:new ar("")}),this.currentControl=this.responseForm.controls.selectedStakeholder,this.maturityQuestions.stakeHolders.forEach(r=>{r.kpas.forEach(n=>{n.questions.forEach(a=>{let s=[r.id,n.id,a.id].join("_");this.responseForm.addControl(s,new ar(null,dl.required))})})}),this.locationControl.valueChanges.pipe(ta(300),ji(r=>r&&r.length>=2),Jn(()=>this.loadingLocationResults=!0),Mn(r=>this.geocodingService.search(r))).subscribe(r=>{this.locationResults=r,this.loadingLocationResults=!1},r=>{console.error("Error",r)})})}displayLocation(e){return e?e.label:""}onLocationSelected(e){}openDashboard(){this.router.navigate(["/maturity/dashboard"])}startAssessment(){this.animationState="leave",setTimeout(()=>{this.currentQuestionIndex++,this.animationState="enter"},200)}onStakeholderSelected(){this.animationState="leave",setTimeout(()=>{let e=this.responseForm.get("selectedStakeholder")?.value;this.selectedStakeholder=this.getStakeHolder(e);let r=this.fb.group({});this.selectedStakeholder.kpas.forEach(n=>{r.addControl(n.id,this.fb.control(!0))}),this.responseForm.addControl("selectedKpas",r),this.currentKpas=this.selectedStakeholder.kpas,this.flattenQuestions(),this.currentQuestionIndex++,this.animationState="enter"},200)}getKpaControl(e){return this.responseForm.get("selectedKpas")?.get(e)}getStakeHolder(e){return this.maturityQuestions.stakeHolders.find(n=>n.id===e)}flattenQuestions(){this.allQuestions=[],this.selectedStakeholder&&this.selectedStakeholder.kpas.forEach(e=>{e.questions.forEach(r=>{r.comment=r.comment||"";let n=[this.selectedStakeholder.id,e.id,r.id].join("_");this.responseForm.contains(n)||this.responseForm.addControl(n,new ar(null,dl.required));let a=n+"_comment";this.responseForm.contains(a)||this.responseForm.addControl(a,new ar(r.comment)),this.allQuestions.push({stakeholderName:this.selectedStakeholder.name,kpaName:e.name,kpaId:e.id,question:r,questionFullPath:n})})})}filterKpasAndGoNext(){this.animationState="leave";let e=this.responseForm.get("selectedKpas"),r=Object.keys(e.controls).filter(n=>e.get(n)?.value);this.selectedStakeholder.kpas.forEach(n=>{r.includes(n.id)||n.questions.forEach(a=>{let s=[this.selectedStakeholder.id,n.id,a.id].join("_");this.responseForm.contains(s)&&this.responseForm.removeControl(s)})}),this.allQuestions=this.allQuestions.filter(n=>r.includes(n.kpaId)),setTimeout(()=>{this.currentQuestionIndex++,this.allQuestions.length>0&&(this.currentControl=this.responseForm.controls[this.allQuestions[this.currentQuestionIndex].questionFullPath],this.currentCommentControl=this.responseForm.controls[this.allQuestions[this.currentQuestionIndex].questionFullPath+"_comment"]),this.animationState="enter"},200)}goToNextQuestion(){this.animationState="leave",setTimeout(()=>{this.currentQuestionIndex++;let r=this.allQuestions[this.currentQuestionIndex].questionFullPath;this.currentControl=this.responseForm.get(r),this.currentCommentControl=this.responseForm.get(r+"_comment"),this.animationState="enter"},200)}goToPreviousQuestion(){this.animationState="leave",setTimeout(()=>{this.currentQuestionIndex--;let r=this.allQuestions[this.currentQuestionIndex].questionFullPath;this.currentControl=this.responseForm.get(r),this.currentCommentControl=this.responseForm.get(r+"_comment"),this.animationState="enter"},200)}startOver(){this.currentQuestionIndex=-3,this.responseForm.reset(),this.currentKpas=[],this.selectedStakeholder=null,this.allQuestions=[],this.initializeForm()}uploadSpecification(e){if(e.target.files.length!==1)console.error("No file selected");else{let r=new FileReader;r.onloadend=n=>{if(r.result){let a=JSON.parse(r.result?.toString());this.initializeForm(a)}},r.readAsText(e.target.files[0])}}downloadSpecification(){let e=JSON.stringify(this.maturityQuestions,null,2),r="data:application/json;charset=utf-8,"+encodeURIComponent(e),n="maturity_specification.json",a=document.createElement("a");a.setAttribute("href",r),a.setAttribute("download",n),a.click()}submitStakeholderResponses(){this.timestampControl.setValue(new Date().toISOString()),this.animationState="leave",setTimeout(()=>{this.currentQuestionIndex++,this.animationState="enter"},200)}getStakeholderFormGroup(e){return this.responseForm.get(e)}getKpas(e){return this.getStakeHolder(e).kpas}getUnansweredCount(e){let r=0,n=this.responseForm.get(e);return n&&Object.keys(n.controls).forEach(a=>{let s=n.get(a);s&&Object.keys(s.controls).forEach(o=>{let u=s.get(o);u&&u.invalid&&r++})}),r}saveState(){let e={selectedStakeholder:this.responseForm.get("selectedStakeholder")?.value,selectedKpas:this.responseForm.get("selectedKpas")?.value,responses:this.responseForm.value,currentQuestionIndex:this.currentQuestionIndex,currentControl:this.currentControl?.value,animationState:this.animationState,name:this.nameControl.value,author:this.authorControl.value,timestamp:this.timestampControl.value,systemName:this.systemNameControl.value,location:this.locationControl.value,allQuestions:this.allQuestions,overallScore:this.results?.overallAverage,level:this.results?.level,kpasScores:this.results?.kpaAverages};console.log("Saving state:",e);let r=new Blob([JSON.stringify(e)],{type:"application/json"}),n=document.createElement("a");n.href=URL.createObjectURL(r),n.download="maturity-assessment-results.json",n.click()}loadState(e){if(e.target.files.length!==1){console.error("No file selected");return}let r=new FileReader;r.onloadend=()=>{if(!r.result){console.error("FileReader result is empty");return}let n=JSON.parse(r.result.toString());this.responseForm.reset(),this.currentQuestionIndex=-3,this.allQuestions=[],this.selectedStakeholder=null,this.currentKpas=[],this.initializeForm().then(()=>{this.nameControl.setValue(n.name),this.authorControl.setValue(n.author),this.timestampControl.setValue(n.timestamp),this.systemNameControl.setValue(n.systemName),this.locationControl.setValue(n.location);let a=n.selectedStakeholder,s=n.selectedKpas||{};this.responseForm.get("selectedStakeholder")?.setValue(a);let o=this.fb.group({}),u=this.getStakeHolder(a);this.selectedStakeholder=u,u?.kpas&&u.kpas.forEach(h=>{o.addControl(h.id,this.fb.control(!!s[h.id]))}),this.responseForm.setControl("selectedKpas",o),this.selectedStakeholder?.kpas&&this.selectedStakeholder.kpas.forEach(h=>{h.questions.forEach(d=>{let f=[this.selectedStakeholder.id,h.id,d.id].join("_");this.responseForm.contains(f)||this.responseForm.addControl(f,new ar(null,dl.required))})});let l=Object.keys(s).filter(h=>s[h]);this.selectedStakeholder?.kpas&&this.selectedStakeholder.kpas.forEach(h=>{l.includes(h.id)||h.questions.forEach(d=>{let f=[this.selectedStakeholder.id,h.id,d.id].join("_");this.responseForm.contains(f)&&this.responseForm.removeControl(f)})}),this.flattenQuestions(),this.allQuestions=this.allQuestions.filter(h=>l.includes(h.kpaId));let c=n.responses||{};Object.keys(c).forEach(h=>{this.responseForm.contains(h)&&this.responseForm.controls[h].setValue(c[h])}),this.currentQuestionIndex=n.currentQuestionIndex||-3,this.animationState=n.animationState||"enter"})},r.readAsText(e.target.files[0])}downloadPdf(){let e=document.getElementById("pdfReport");if(!e){console.error("Could not find the pdfReport element.");return}e.classList.add("pdf-mode"),setTimeout(()=>{(0,mne.default)(e,{scale:2}).then(r=>{let n=r.toDataURL("image/png"),a=new dn("l","mm","a4"),s=a.internal.pageSize.getWidth(),o=a.internal.pageSize.getHeight(),u=r.width,l=r.height,c=Math.min(s/u,o/l),h=u*c,d=l*c,f=(s-h)/2,m=(o-d)/2;a.addImage(n,"PNG",f,m,h,d);let p="Generated using the SNOMED International Maturity Assessment Tool";a.setFontSize(10),a.text(p,s/2,o-10,{align:"center"}),a.save("maturity-report.pdf")}).catch(r=>{console.error("Could not generate PDF",r)}),e.classList.remove("pdf-mode")},1e3)}static{this.\u0275fac=function(r){return new(r||t)(je(Ms),je(Jm),je(Yu),je(Va),je(Kee),je(xo))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-maturity-main"]],viewQuery:function(r,n){if(r&1&&Jt(NBe,5),r&2){let a;yt(a=xt())&&(n.results=a.first)}},standalone:!1,decls:6,vars:6,consts:[["fileInput",""],["myFlipCard",""],["myFlipCard2",""],["myFlipCard3",""],["fileInputState1",""],["fileInputState",""],["auto","matAutocomplete"],["results",""],["class","flex flex-row gap-4 justify-end flex-wrap p-2",4,"ngIf"],["class","question-flow-container",4,"ngIf"],[1,"flex","flex-row","gap-4","justify-end","flex-wrap","p-2"],["mat-flat-button","","color","primary",3,"click"],["hidden","","type","file","id","file",3,"change"],[1,"question-flow-container"],[1,"question-container"],[1,"text-center"],[1,"mb-4"],[1,"flip-card-container"],["flipFront",""],[1,"text-2xl","mb-4","font-bold"],["mat-raised-button","","color","accent",3,"click"],["flipBack",""],[1,"text-2xl","mb-2","font-bold"],[1,"home-list"],[1,"home-list-item"],[1,"button-container-space-between"],["mat-flat-button","","color","accent",1,"start-button",3,"click"],["hidden","","type","file","id","fileState",3,"change"],[1,"button-container-space-between","italic","text-xs","pl-4","pr-4","pt-1"],[1,"question-container",3,"formGroup"],[1,"flex-1"],[1,"options-container",3,"formControl"],["class","mb-5",3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],[1,"flex-1","mb-10"],[4,"ngIf"],[1,"button-container-first"],[1,"start-button","button-container"],["mat-flat-button","","color","primary",3,"click","disabled"],["mat-flat-button","",1,"secondary-button",3,"click"],[1,"mb-5",3,"value"],[1,"stakeholder-description"],[1,"error-message"],[1,"w-full"],["matInput","","placeholder","Enter stakeholder name...",3,"formControl"],["class","w-full mt-10",4,"ngIf"],[1,"w-full","mt-10"],["matInput","","placeholder","Enter the name of the user conducting the assessment...",3,"formControl"],["matInput","","type","text","placeholder","Enter a Country, City or address...",3,"formControl","matAutocomplete"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","mode","indeterminate","diameter","20",4,"ngIf"],["matInput","","placeholder","Enter the name of the software system being evaluated...",3,"formControl"],[3,"value"],["matSuffix","","mode","indeterminate","diameter","20"],["class","question-container",3,"formGroup",4,"ngIf"],[1,"example-section","mt-10"],["class","kpa-checkbox",4,"ngFor","ngForOf"],[1,"button-container"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"kpa-checkbox"],[3,"formControl",4,"ngIf"],[3,"formControl"],[1,"kpa-description"],["mode","determinate",1,"progress-bar",3,"value"],[1,"progress-message"],[1,"question-text"],[1,"flex-1","w-full"],["matInput","","placeholder","Enter your comment","rows","5",3,"formControl"],["mat-flat-button","","color","accent",3,"disabled","click",4,"ngIf"],[1,"mat-radio-label-content"],["matTooltipPosition","right",3,"matTooltip",4,"ngIf"],["matTooltipPosition","right",3,"matTooltip"],["mat-flat-button","","color","accent",3,"click","disabled"],["id","pdfReport"],["class","text-center",4,"ngIf"],[1,"text-center","mt-10","text-lg"],[3,"maturityResponse","allQuestions"]],template:function(r,n){r&1&&Te(0,BBe,7,0,"div",8)(1,VBe,140,0,"div",9)(2,YBe,23,7,"div",9)(3,JBe,2,1,"div",9)(4,a9e,2,1,"div",9)(5,u9e,28,13,"div",9),r&2&&(oe("ngIf",n.authorMode),K(),oe("ngIf",n.currentQuestionIndex===-3),K(),oe("ngIf",n.currentQuestionIndex===-2),K(),oe("ngIf",n.currentQuestionIndex===-1),K(),oe("ngIf",n.currentQuestionIndex>=0&&n.currentQuestionIndex<n.allQuestions.length),K(),oe("ngIf",n.currentQuestionIndex==n.allQuestions.length))},dependencies:[qi,Xi,ln,pn,r0,es,xs,Fd,y1,ZE,ia,H_,Ra,zo,Vs,_r,kd,ju,Sc,zs,$_,E1,Tf,$8,fne,gT,Rl],styles:[".mat-list-item{line-height:18px!important}.question-flow-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px;margin:16px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 4px #0000001a}.question-container[_ngcontent-%COMP%]{width:100%;max-width:75%;padding:24px;background-color:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 6px #0000001a;margin-bottom:16px}.question-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.5rem;color:#333;text-align:center}.question-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.2rem;color:#555;text-align:center}.question-text[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:16px;color:#333;text-align:justify}.kpa-description[_ngcontent-%COMP%]{font-size:.9rem;color:#757272}.kpa-checkbox[_ngcontent-%COMP%]{margin-bottom:10px}.options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.mat-radio-button[_ngcontent-%COMP%]{font-size:.9rem;color:#555}.error-message[_ngcontent-%COMP%]{margin-top:8px;font-size:.85rem;color:#d32f2f;text-align:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;margin-bottom:16px}.button-container-first[_ngcontent-%COMP%]{position:relative;width:100%;padding:1rem;margin-bottom:1rem}.button-container-space-between[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.start-button[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.secondary-button[_ngcontent-%COMP%]{position:absolute;right:0;font-style:italic}.progress-bar[_ngcontent-%COMP%]{margin-top:20px;height:8px}.progress-message[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:.9rem;font-style:italic;margin-bottom:20px}.mat-radio-button[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.mat-radio-label-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:8px}.example-text[_ngcontent-%COMP%]{font-size:.9rem;color:gray}.mat-icon[_ngcontent-%COMP%]{font-size:16px;margin-left:10px}.stakeholder-description[_ngcontent-%COMP%]{font-size:.9rem;color:#757272}button[mat-raised-button][_ngcontent-%COMP%]{margin-top:16px;font-size:.9rem}.home-list-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:row}.home-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.flip-card-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;padding:16px;margin:16px}@media (max-width: 768px){.question-container[_ngcontent-%COMP%]{padding:16px}.question-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.question-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.question-text[_ngcontent-%COMP%]{font-size:.9rem}}"],data:{animation:[us("questionAnimation",[na("enter",Oi({opacity:1})),na("leave",Oi({opacity:0})),vr("enter => leave",[ir("200ms ease-in-out",Oi({opacity:0}))]),vr("leave => enter",[Oi({opacity:0}),ir("200ms ease-in-out",Oi({opacity:1}))])])]}})}}return t})();var VI=(()=>{class t{constructor(){this.demos=[{name:"Clinical User Interface Demo",subtitle:"Clinical demo",type:"external",url:"https://ihtsdo.github.io/snomed-ui-examples",description:"A simulation of clinical data entry on an EHR using SNOMED FHIR Terminology services"},{name:"Allergies",subtitle:"Clinical demo",type:"internal",url:"/allergies",description:"A SNOMED / FHIR implementation demo of recording Allergy / Intollerance details, from Allergies Clinical Reference Group"},{name:"LOINC & SNOMED CT",subtitle:"Clinical demo",type:"internal",url:"/loinc",description:"A LOINC Ontology implementation demo, covering laboratory orders, results and FHIR resources."},{name:"NCPT Refset",subtitle:"Clinical demo",type:"internal",url:"/ncpt",description:"A clinical demonstration of the NCPT (Nutrition Care Process Terminology) reference set."},{name:"Implementation Maturity Framework",subtitle:"Tool",type:"internal",url:"/maturity",description:"An online maturity assessment tool and an dashboard for compiling and analyzing collections of maturity results."},{name:"Terminology Bindings Sandbox",subtitle:"Learning demo",type:"internal",url:"/sandbox",description:"A sandbox for learning and testing terminology bindings"},{name:"SNOMED Maps Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-icd-maps",description:"A SNOMED / ICD-10 maps demonstration, including complex map rules execution"},{name:"Post-coordination Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-postcoordination",description:"A SNOMED post-coordination demonstration, with new prototype Postcoordination Terminology server SNOWSTORM X"},{name:"IPS Terminology Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-ips/",description:"A demonstration of the International Patient Summary (IPS) terminology, including the IPS SNOMED CT refset"},{name:"SNOMED & FHIR Questionnaires Manager Application",subtitle:"Tool",type:"internal",url:"/questionnaires",description:"An application to manage a FHIR Questionnaires repository, with SNOMED CT bindings"},{name:"SNOMED & FHIR Questionnaires Utilities",subtitle:"Tool",type:"internal",url:"/questionnaires",queryParams:{utility:!0},description:"Utilities for working with FHIR Questionnaires, including SNOMED CT bindings"},{name:"Context Representation Transformations",subtitle:"Learning demo",type:"internal",url:"/context",description:"A demonstration of the transformation of context representations from SNOMED to FHIR Resources"},{name:"SNOMED and LLMs (AI Demo)",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/openai-demo/",description:"This demo uses OpenAI ChatGPT API to demonstrate the use of SNOMED CT with Language Model Models (LLMs). A developer key for the OpenAI API is required."},{name:"Snoguess (A SNOMED game)",subtitle:"Game",type:"internal",url:"/snoguess",description:"A SNOMED term guessing game, learn about SNOMED content while having fun and competing to achieve the highest score"},{name:"SNOMED Implementation Roadmap Generator",subtitle:"Tool",type:"external",url:"https://ihtsdo.github.io/roadmap-generator",description:"A tool designed to promote and support the creation of implementation roadmaps for the adoption of SNOMED CT in countries, regions or organizations."},{name:"SNOMED CT as an Evolving Terminology",subtitle:"Learning demo",type:"internal",url:"/reports",description:"A collection of educational material and changes reports to understand how SNOMED changes on each realease and help plan implementations accordingly."}]}getDemos(){return this.demos}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function d9e(t,i){if(t&1){let e=Ye();B(0,"div",8)(1,"mat-card",9)(2,"mat-card-header")(3,"mat-card-subtitle"),J(4),U(),B(5,"mat-card-title"),J(6),U()(),B(7,"mat-card-content")(8,"p"),J(9),U()(),B(10,"mat-card-actions")(11,"button",10),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.navigate(n))}),J(12,"OPEN"),U()()()()}if(t&2){let e=i.$implicit;K(4),vt(e.subtitle),K(2),vt(e.name),K(3),vt(e.description)}}var Q8=(()=>{class t{constructor(e,r,n){this.router=e,this.route=r,this.menuService=n,this.demos=[],this.demoTypes={},this.embeddedMode=!1}ngOnInit(){this.demos=this.menuService.getDemos(),this.route.queryParams.subscribe(e=>{e.embedded==="true"?this.embeddedMode=!0:this.embeddedMode=!1}),this.demoTypes=this.demos.reduce((e,r)=>(e[r.type]||(e[r.type]=0),e[r.type]++,e),{})}navigate(e){if(e.type==="internal")if(this.embeddedMode)this.openInNewTab("https://ihtsdo.github.io/sct-implementation-demonstrator/#"+e.url);else{let r=e.queryParams,n=this.route.snapshot.queryParams;r?r=ht(ht({},n),r):r=n,this.router.navigate([e.url],{queryParams:r})}else this.openInNewTab(e.url)}openInNewTab(e){window.open(e,"_blank")}static{this.\u0275fac=function(r){return new(r||t)(je(xo),je(Va),je(VI))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-home"]],standalone:!1,decls:17,vars:1,consts:[[1,"main-panel"],[1,"intro"],["href","https://github.com/IHTSDO/sct-implementation-demonstrator","target","_blank"],["href","https://confluence.ihtsdotools.org/display/CP/Clinical+Engagement","target","_blank"],[1,"demos-panel"],["class","demo-card-wrapper",4,"ngFor","ngForOf"],[1,"center-image"],["src","assets/img/SI_CT_Logo_Delivered_By.png","alt","SNOMED Logo",1,"transparent-image"],[1,"demo-card-wrapper"],[1,"demo-card"],["mat-button","","color","accent",3,"click"]],template:function(r,n){r&1&&(B(0,"div",0)(1,"h1"),J(2,"SNOMED CT Implementation Demonstrators"),U(),B(3,"p",1),J(4,"Welcome to our collection of SNOMED CT Implementation Demonstrators! This curated selection of demos showcases the diverse ways SNOMED CT can be implemented across different use cases. Each demonstration is "),B(5,"a",2),J(6,"open source"),U(),J(7,", free to explore, and easy to replicate, providing a hands-on learning experience for developers, implementers, and healthcare professionals."),U(),B(8,"p",1),J(9,"These implementation demos have been created through the collaboration and expertise of the "),B(10,"a",3),J(11,"global SNOMED CT community of clinical experts"),U(),J(12,", reflecting best practices and innovative use cases. Whether you\u2019re just getting started with SNOMED CT or looking to deepen your understanding, you\u2019ll find valuable insights here. Explore, learn, and join us in advancing healthcare interoperability."),U(),B(13,"div",4),Te(14,d9e,13,3,"div",5),U(),B(15,"div",6),He(16,"img",7),U()()),r&2&&(K(14),oe("ngForOf",n.demos))},dependencies:[qi,ln,Pd,AE,$m,d1,EE,u1],styles:[".main-panel[_ngcontent-%COMP%]{padding:2rem;height:calc(100vh - 70px)}.intro[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.demos-panel[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;margin-top:3rem}.demo-card-wrapper[_ngcontent-%COMP%]{width:300px}.demo-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}mat-card-title[_ngcontent-%COMP%]{word-wrap:break-word;font-size:large;font-weight:700}mat-card-content[_ngcontent-%COMP%]{padding:1rem;margin-bottom:2rem}mat-card-actions[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0;padding-top:10px;margin-top:auto}.center-image[_ngcontent-%COMP%]{text-align:center;margin-top:4rem;margin-left:20%;margin-right:20%}.transparent-image[_ngcontent-%COMP%]{opacity:.5}"]})}}return t})();var h9e=t=>({"border-question":t}),f9e=()=>[];function p9e(t,i){if(t&1){let e=Ye();B(0,"app-autocomplete-binding",13),we("selectionChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function m9e(t,i){if(t&1){let e=Ye();B(0,"app-dropdown-binding",13),we("selectionChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function g9e(t,i){if(t&1){let e=Ye();B(0,"app-radios-binding",13),we("selectionChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function v9e(t,i){if(t&1&&(B(0,"span",14),J(1),U()),t&2){let e=pe(2).$implicit;K(),vt(e.title)}}function y9e(t,i){if(t&1){let e=Ye();B(0,"app-textbox-binding",15),we("textChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function x9e(t,i){if(t&1){let e=Ye();B(0,"app-integer-binding",15),we("textChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function b9e(t,i){if(t&1){let e=Ye();B(0,"app-decimal-binding",15),we("textChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function _9e(t,i){if(t&1){let e=Ye();B(0,"app-checkbox-binding",13),we("selectionChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function w9e(t,i){if(t&1){let e=Ye();B(0,"app-checkbox-multiple-binding",13),we("selectionChange",function(n){Me(e);let a=pe(2).$implicit,s=pe();return Ie(s.optionSelected(a.title,a.code,n))}),U()}if(t&2){let e=pe(2).$implicit;oe("binding",e)}}function C9e(t,i){if(t&1&&(B(0,"button",16)(1,"mat-icon"),J(2,"info"),U()()),t&2){pe();let e=hi(15),r=pe().$implicit;oe("matMenuTriggerFor",e)("disabled",!r.code&&!r.ecl)}}function S9e(t,i){if(t&1){let e=Ye();B(0,"button",17),we("click",function(){Me(e);let n=pe(2).$implicit,a=pe();return Ie(a.addRow(n))}),B(1,"mat-icon"),J(2,"add"),U()()}}function T9e(t,i){if(t&1){let e=Ye();B(0,"button",18),we("click",function(){Me(e);let n=pe(2).$implicit,a=pe();return Ie(a.removeRow(n))}),B(1,"mat-icon"),J(2,"remove"),U()()}}function E9e(t,i){if(t&1){let e=Ye();B(0,"span",19),we("click",function(n){return Me(e),Ie(n.stopPropagation())})("click",function(){Me(e);let n=pe(2).$implicit,a=pe();return Ie(a.copyToClipboard((n.code==null?null:n.code.code)+" |"+(n.code==null?null:n.code.display)+"|"))}),B(1,"h4",20),J(2,"Question terminology binding"),U(),B(3,"pre"),J(4),U()()}if(t&2){let e=pe(2).$implicit;oe("disableRipple",!0),K(4),Dr("",e.code==null?null:e.code.code," |",e.code==null?null:e.code.display,"|")}}function A9e(t,i){if(t&1){let e=Ye();B(0,"span",19),we("click",function(n){return Me(e),Ie(n.stopPropagation())})("click",function(){Me(e);let n=pe(2).$implicit,a=pe();return Ie(a.copyToClipboard(n.ecl))}),B(1,"h4",20),J(2,"Answer terminology binding"),U(),B(3,"pre"),J(4),U()()}if(t&2){let e=pe(2).$implicit;oe("disableRipple",!0),K(4),vt(e.ecl)}}function M9e(t,i){if(t&1){let e=Ye();B(0,"span",19),we("click",function(n){return Me(e),Ie(n.stopPropagation())})("click",function(){Me(e);let n=pe(2).$implicit,a=pe();return Ie(a.copyToClipboard(n.unit))}),B(1,"h4",20),J(2,"Unit binding"),U(),B(3,"pre"),J(4),U()()}if(t&2){let e=pe(2).$implicit;oe("disableRipple",!0),K(4),Dr("",e.unit.code," |",e.unit.display,"|")}}function I9e(t,i){if(t&1&&(B(0,"div",4),Te(1,p9e,1,1,"app-autocomplete-binding",5)(2,m9e,1,1,"app-dropdown-binding",5)(3,g9e,1,1,"app-radios-binding",5)(4,v9e,2,1,"span",6)(5,y9e,1,1,"app-textbox-binding",7)(6,x9e,1,1,"app-integer-binding",7)(7,b9e,1,1,"app-decimal-binding",7)(8,_9e,1,1,"app-checkbox-binding",5)(9,w9e,1,1,"app-checkbox-multiple-binding",5),B(10,"div",8),Te(11,C9e,3,2,"button",9)(12,S9e,3,0,"button",10)(13,T9e,3,0,"button",11),B(14,"mat-menu",null,0),Te(16,E9e,5,3,"span",12)(17,A9e,5,2,"span",12)(18,M9e,5,3,"span",12),U()()()),t&2){let e=i.index,r=pe().$implicit;K(),oe("ngIf",r.type=="Autocomplete"),K(),oe("ngIf",r.type=="Select (Single)"||r.type=="Select (Multiple)"),K(),oe("ngIf",r.type=="Options"),K(),oe("ngIf",r.type=="Section header"),K(),oe("ngIf",r.type=="Text box"),K(),oe("ngIf",r.type=="Integer"),K(),oe("ngIf",r.type=="Decimal"),K(),oe("ngIf",r.type=="Checkbox"),K(),oe("ngIf",r.type=="Checkbox multiple"),K(2),oe("ngIf",r.type!="Section header"),K(),oe("ngIf",e===r.count-1&&r.repeatable),K(),oe("ngIf",e===r.count-1&&r.count>1),K(3),oe("ngIf",r.code),K(),oe("ngIf",r.ecl),K(),oe("ngIf",r.unit)}}function D9e(t,i){if(t&1&&(B(0,"div",2),Te(1,I9e,19,15,"div",3),U()),t&2){let e=i.$implicit;oe("ngClass",Ia(2,h9e,e.count>1)),K(),oe("ngForOf",Or(4,f9e).constructor(e.count))}}var zI=(()=>{class t{constructor(e){this._snackBar=e,this.output={},this.outputStr="{}",this.response={},this.responseStr="{}",this.responseBundle={},this.responseBundleStr="{}"}ngOnChanges(e){e.spec&&this.spec?.bindings?.forEach(r=>{r.count=1})}ngOnInit(){}addRow(e){e.count++}removeRow(e){e.count--}optionSelected(e,r,n){this.output[e]={code:r,value:n},r||delete this.output[e].code,this.outputStr=JSON.stringify(this.output,null,2),this.refreshResponse()}refreshResponse(){this.response={};for(let e of this.spec.bindings)this.response[e.title]={},e.code&&(this.response[e.title].code=e.code),e.unit&&(this.response[e.title].unit=e.unit);for(let[e,r]of Object.entries(this.output))this.output[e].code&&(this.response[e].code=this.output[e].code),this.output[e].value&&(this.response[e].value=this.output[e].value);this.responseStr=JSON.stringify(this.response,null,2),this.refreshResponseBundle()}refreshResponseBundle(){this.responseBundle={resourceType:"Bundle",type:"collection",entry:[]};for(let[e,r]of Object.entries(this.response)){let n=r,a=n.code?{coding:[{system:"http://snomed.info/sct",code:n.code.code,display:n.code.display}]}:void 0,s=n.value?.code?{coding:[{system:"http://snomed.info/sct",code:n.value.code,display:n.value.display}]}:void 0,o=n.unit?{coding:[{system:"http://snomed.info/sct",code:n.unit.code,display:n.unit.display}]}:void 0,u={resourceType:"Observation",status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"survey",display:"Survey"}]}],subject:{reference:"Patient/123"}};a?u.code=a:u.code={coding:[{system:"http://snomed.info/sct",code:"363788007",display:"Clinical history/examination observable (observable entity)"}]},s&&(u.valueCodeableConcept=s),n.value&&typeof n.value=="string"&&(u.valueString=n.value),o&&(u.valueQuantity={value:n.value,unit:o.coding[0].display,system:o.coding[0].system,code:o.coding[0].code}),(u.valueCodeableConcept||u.valueString||u.valueQuantity)&&this.responseBundle.entry.push(u)}this.responseBundleStr=JSON.stringify(this.responseBundle,null,2)}copyToClipboard(e){navigator.clipboard.writeText(e),this._snackBar.openFromComponent(kn,{duration:2e3,data:"Copied to clipboard"})}static{this.\u0275fac=function(r){return new(r||t)(je(bo))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-bindings-viewer"]],inputs:{spec:"spec"},standalone:!1,features:[Ki],decls:3,vars:2,consts:[["substancePopoverMenu","matMenu"],["class","output-panel",3,"ngClass",4,"ngFor","ngForOf"],[1,"output-panel",3,"ngClass"],["class","row control",4,"ngFor","ngForOf"],[1,"row","control"],["class","grow",3,"binding","selectionChange",4,"ngIf"],["class","title grow",4,"ngIf"],["class","grow",3,"binding","textChange",4,"ngIf"],[1,"actions"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled",4,"ngIf"],["mat-icon-button","","color","primary","matTooltip","Add another row",3,"click",4,"ngIf"],["mat-icon-button","","color","primary","matTooltip","Remove row",3,"click",4,"ngIf"],["mat-menu-item","",3,"disableRipple","click",4,"ngIf"],[1,"grow",3,"selectionChange","binding"],[1,"title","grow"],[1,"grow",3,"textChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled"],["mat-icon-button","","color","primary","matTooltip","Add another row",3,"click"],["mat-icon-button","","color","primary","matTooltip","Remove row",3,"click"],["mat-menu-item","",3,"click","disableRipple"],[1,"mb-0"]],template:function(r,n){r&1&&(B(0,"h2"),J(1),U(),Te(2,D9e,2,5,"div",1)),r&2&&(K(),vt(n.spec.title),K(),oe("ngForOf",n.spec.bindings))},dependencies:[Ka,qi,Xi,Zn,pn,ys,Ps,ra,zs,Od,fA,mA,gA,vA,yA,xA,bA],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center;gap:10px}.grow[_ngcontent-%COMP%]{flex-grow:4}mat-hint[_ngcontent-%COMP%], mat-error[_ngcontent-%COMP%]{font-size:12px}.editPanel[_ngcontent-%COMP%]{border:1px solid #cccccc00;border-radius:5px;background-color:#a0c8e5}.control[_ngcontent-%COMP%]{margin-bottom:30px}.output-panel[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{opacity:0;transition:opacity .5s}.row[_ngcontent-%COMP%]:hover   .tool[_ngcontent-%COMP%]{opacity:1}.drag-handle[_ngcontent-%COMP%]{cursor:move;color:#616161}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;margin-left:2rem}.action-button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:20px}.action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.compact-row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:1rem}.row-container-item[_ngcontent-%COMP%]{width:100%;padding:10px}.output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:2rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.top-right-link[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;font-size:smaller}.form-title[_ngcontent-%COMP%]{margin-left:1rem}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:0!important}.bottom-right-link[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:0;font-size:smaller}.form-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px;width:100%}.form-column[_ngcontent-%COMP%]{flex:1 1 0px;padding-right:10px;padding-left:10px;display:flex;flex-direction:column;width:100%}.input-field.full-width[_ngcontent-%COMP%]{width:calc(100% - 20px);margin-bottom:20px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.question-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;width:80%}.actions[_ngcontent-%COMP%]{display:flex;align-items:flex-start;width:25%}.border-question[_ngcontent-%COMP%]{border:1px solid #cccccc;border-radius:5px;padding:10px;margin-bottom:10px}"]})}}return t})();function P9e(t,i){if(t&1&&(B(0,"li",6),J(1),U()),t&2){let e=i.$implicit;K(),vt(e.display)}}function R9e(t,i){t&1&&(B(0,"li",7),He(1,"mat-spinner",8),U()),t&2&&(K(),oe("diameter",20))}function k9e(t,i){t&1&&(B(0,"li"),J(1,"No results..."),U())}function F9e(t,i){if(t&1){let e=Ye();B(0,"li",9),we("click",function(){Me(e);let n=pe();return Ie(n.getRefsetMembers())}),J(1),U()}if(t&2){let e=pe();K(),Dr(" Showing ",e.refsetMembers.length," of ",e.total," members. Load more... ")}}var xne=(()=>{class t{constructor(e){this.terminologyService=e,this.title="",this.valuesetEcl="",this.refsetEditionUri="",this.cancel$=new mt,this.refsetMembers=[],this.searching=!1,this.offset=0,this.limit=100,this.total=0}ngOnInit(){}ngOnChanges(e){e.valuesetEcl&&!e.valuesetEcl.firstChange&&this.cleanAndGetMembers()}cleanAndGetMembers(){this.refsetMembers=[],this.offset=0,this.getRefsetMembers()}getRefsetMembers(){this.cancel$.next(),this.searching=!0,this.terminologyService.expandValueSetFromServer(this.terminologyService.getSnowstormFhirBase(),this.refsetEditionUri,this.valuesetEcl,"",this.offset,this.limit).pipe(pi(this.cancel$),Mn(e=>{if(e?.expansion?.contains){this.total=e.expansion.total,this.total>this.offset+this.limit&&(this.offset+=this.limit);let r=this.terminologyService.getValueSetFromExpansion(e.expansion);return this.terminologyService.expandInlineValueSet(r)}return ui(null)}),pi(this.cancel$)).subscribe(e=>{e?.expansion?.contains&&(this.refsetMembers=[...this.refsetMembers,...e.expansion.contains]),this.searching=!1})}ngOnDestroy(){this.cancel$.next(),this.cancel$.complete()}static{this.\u0275fac=function(r){return new(r||t)(je(An))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-refset-viewer"]],inputs:{title:"title",valuesetEcl:"valuesetEcl",refsetEditionUri:"refsetEditionUri"},standalone:!1,features:[Ki],decls:12,vars:5,consts:[[1,"compact-list"],["appearance","outlined"],["class","member-row",4,"ngFor","ngForOf"],["class","mt-4",4,"ngIf"],[4,"ngIf"],["class","action-row",3,"click",4,"ngIf"],[1,"member-row"],[1,"mt-4"],[3,"diameter"],[1,"action-row",3,"click"]],template:function(r,n){r&1&&(B(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title")(4,"h2"),J(5),U()()(),B(6,"mat-card-content")(7,"ul"),Te(8,P9e,2,1,"li",2)(9,R9e,2,1,"li",3)(10,k9e,2,0,"li",4)(11,F9e,2,2,"li",5),U()()()()),r&2&&(K(5),vt(n.title),K(3),oe("ngForOf",n.refsetMembers),K(),oe("ngIf",n.searching),K(),oe("ngIf",!(n.refsetMembers!=null&&n.refsetMembers.length)&&!n.searching),K(),oe("ngIf",!n.searching&&n.total>n.refsetMembers.length))},dependencies:[qi,Xi,Ra,Pd,$m,d1,u1],styles:[".member-row[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.action-row[_ngcontent-%COMP%]{margin-top:1rem;font-style:italic}.action-row[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}}return t})();var L9e=["refsetViewer"];function N9e(t,i){if(t&1&&(B(0,"mat-tab",12)(1,"div",9),He(2,"app-bindings-viewer",13),U()()),t&2){let e=i.$implicit;Fo("label",e.spec.title),K(2),oe("spec",e.spec)}}var bne=(()=>{class t{constructor(e,r){this.http=e,this.terminologyService=r,this.emptySpec={},this.specs=[{specFile:"Nutrition Assessment.json",spec:this.emptySpec},{specFile:"Nutrition Diagnosis.json",spec:this.emptySpec},{specFile:"NCPT_Intervention_form.json",spec:this.emptySpec}]}ngOnInit(){this.terminologyService.fhirUrlParam$.subscribe(e=>{this.loadSpecs()}),this.terminologyService.snowstormFhirBase$.subscribe(e=>{this.loadSpecs()}),this.terminologyService.lang$.subscribe(e=>{this.loadSpecs()}),this.terminologyService.context$.subscribe(e=>{this.loadSpecs()})}loadSpecs(){this.specs.forEach(e=>Mt(this,null,function*(){e.spec=this.emptySpec;let r=yield Ir(this.http.get("assets/specs/ncpt/"+e.specFile));e.spec=r})),setTimeout(()=>{this.updateRefset()},1e3)}updateRefset(){this.refsetViewerComponent&&this.refsetViewerComponent.cleanAndGetMembers()}setEnglishContext(){this.terminologyService.setLang("en")}setSwedishContext(){this.terminologyService.setContext("sv-X-46011000052107,en-X-900000000000509007")}setSwedishNursingContext(){this.terminologyService.setContext("sv-X-83461000052100,sv-X-46011000052107,en-X-900000000000509007")}setSwedishPatientContext(){this.terminologyService.setContext("sv-X-83461000052100,sv-X-46011000052107,en-X-900000000000509007")}static{this.\u0275fac=function(r){return new(r||t)(je(Ms),je(An))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-ncpt"]],viewQuery:function(r,n){if(r&1&&Jt(L9e,5),r&2){let a;yt(a=xt())&&(n.refsetViewerComponent=a.first)}},standalone:!1,decls:25,vars:6,consts:[["substancePopoverMenu","matMenu"],["refsetViewer",""],[1,"outer-container"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/display/WIPnutsig/SNOMED+CT+Implementation+Guide+for+the+Nutrition+Care+Process+Terminology","target","_blank"],["mat-stretch-tabs","false","mat-align-tabs","start"],[3,"label",4,"ngFor","ngForOf"],["label","NCPT Refset Viewer"],[1,"container"],[1,"inner-container"],[3,"title","valuesetEcl","refsetEditionUri"],[3,"label"],[3,"spec"]],template:function(r,n){if(r&1){let a=Ye();B(0,"div",2)(1,"h3"),J(2,"SNOMED CT - NCPT Implementation Demonstrator "),B(3,"button",3)(4,"mat-icon"),J(5,"info"),U()(),B(6,"mat-menu",null,0)(8,"span",4),we("click",function(o){return Me(a),Ie(o.stopPropagation())}),B(9,"h4"),J(10,"SNOMED CT - NCPT Implementation Demonstrator"),U(),B(11,"p"),J(12,"This is a demonstration of the use of SNOMED CT for coding clinical information related to the Nutrition Care Process and using the NCPT Reference Set."),U(),B(13,"p"),J(14,"For more information check the "),B(15,"a",5),J(16," Implementation Guide"),U(),J(17,"."),U()()()(),B(18,"mat-tab-group",6),Te(19,N9e,3,2,"mat-tab",7),B(20,"mat-tab",8)(21,"div",9)(22,"div",10),He(23,"app-refset-viewer",11,1),U()()()()()}if(r&2){let a=hi(7);K(3),oe("matMenuTriggerFor",a),K(5),oe("disableRipple",!0),K(11),oe("ngForOf",n.specs),K(4),oe("title","NCPT Refset Viewer")("valuesetEcl","^ 1303957004 |Nutrition Care Process Terminology reference set|")("refsetEditionUri","http://snomed.info/sct/705115006/version/20240101")}},dependencies:[qi,Zn,pn,ys,Ps,ra,Xu,kl,zI,xne],styles:[".outer-container[_ngcontent-%COMP%]{margin:1rem;width:calc(100% - 2rem)}.container[_ngcontent-%COMP%]{margin:2rem;width:calc(100% - 4rem)}.inner-container[_ngcontent-%COMP%]{width:calc(50% - 4rem)}"]})}}return t})();var B9e=()=>["/reports"];function V9e(t,i){t&1&&(B(0,"div",4),J(1,` Loading...
`),U())}var K8=(()=>{class t{constructor(e,r,n){this.http=e,this.renderer=r,this.elementRef=n,this.loading=!0}ngOnInit(){this.http.get("assets/reports/fsn_changes_with_details.html",{responseType:"text"}).subscribe(e=>{this.loading=!1;let r=this.elementRef.nativeElement.querySelector("#chart-container");r.innerHTML=e,r.querySelectorAll("script").forEach(a=>{let s=this.renderer.createElement("script");s.type=a.type||"text/javascript",a.src?s.src=a.src:s.text=a.textContent||"",this.renderer.appendChild(r,s)})})}static{this.\u0275fac=function(r){return new(r||t)(je(Ms),je(Qn),je(Pt))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-fsn-changes"]],standalone:!1,decls:5,vars:3,consts:[[1,"pt-5","pl-10"],["mat-flat-button","","color","primary",3,"routerLink"],["class","mt-20 ml-10",4,"ngIf"],["id","chart-container",1,"mb-20"],[1,"mt-20","ml-10"]],template:function(r,n){r&1&&(B(0,"div",0)(1,"button",1),J(2,"Back to reports"),U()(),Te(3,V9e,2,0,"div",2),He(4,"div",3)),r&2&&(K(),oe("routerLink",Or(2,B9e)),K(2),oe("ngIf",n.loading))},dependencies:[Xi,Gy,ln],styles:["#chart-container[_ngcontent-%COMP%]{padding:10px}"]})}}return t})();var z9e=()=>["/reports"];function U9e(t,i){t&1&&(B(0,"div",4),J(1,` Loading...
`),U())}var _ne=(()=>{class t{constructor(e,r,n){this.http=e,this.renderer=r,this.elementRef=n,this.loading=!0}ngOnInit(){this.http.get("assets/reports/detect_inactivations_by_reason.html",{responseType:"text"}).subscribe(e=>{this.loading=!1;let r=this.elementRef.nativeElement.querySelector("#chart-container");r.innerHTML=e,r.querySelectorAll("script").forEach(a=>{let s=this.renderer.createElement("script");s.type=a.type||"text/javascript",a.src?s.src=a.src:s.text=a.textContent||"",this.renderer.appendChild(r,s)})})}static{this.\u0275fac=function(r){return new(r||t)(je(Ms),je(Qn),je(Pt))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-inactivations-report"]],standalone:!1,decls:5,vars:3,consts:[[1,"pt-5","pl-10"],["mat-flat-button","","color","primary",3,"routerLink"],["class","mt-20 ml-10",4,"ngIf"],["id","chart-container"],[1,"mt-20","ml-10"]],template:function(r,n){r&1&&(B(0,"div",0)(1,"button",1),J(2,"Back to reports"),U()(),Te(3,U9e,2,0,"div",2),He(4,"div",3)),r&2&&(K(),oe("routerLink",Or(2,z9e)),K(2),oe("ngIf",n.loading))},dependencies:[Xi,Gy,ln],styles:["#chart-container[_ngcontent-%COMP%]{padding:10px}"]})}}return t})();function H9e(t,i){if(t&1){let e=Ye();B(0,"div",12)(1,"mat-card",13)(2,"mat-card-header")(3,"mat-card-subtitle"),J(4),U(),B(5,"mat-card-title"),J(6),U()(),B(7,"mat-card-content")(8,"p"),J(9),U()(),B(10,"mat-card-actions")(11,"button",14),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.navigate(n))}),J(12,"OPEN"),U()()()()}if(t&2){let e=i.$implicit;K(4),vt(e.subtitle),K(2),vt(e.name),K(3),vt(e.description)}}function G9e(t,i){if(t&1){let e=Ye();B(0,"div",12)(1,"mat-card",13)(2,"mat-card-header")(3,"mat-card-subtitle"),J(4),U(),B(5,"mat-card-title"),J(6),U()(),B(7,"mat-card-content")(8,"p"),J(9),U()(),B(10,"mat-card-actions")(11,"button",14),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.navigate(n))}),J(12,"OPEN"),U()()()()}if(t&2){let e=i.$implicit;K(4),vt(e.subtitle),K(2),vt(e.name),K(3),vt(e.description)}}var wne=(()=>{class t{constructor(e,r){this.router=e,this.route=r,this.reports=[{type:"internal",name:"FSN Changes Report",subtitle:"Changes Report",url:"reports/fsn",description:"This report displays changes to the FSN of concepts over time."},{type:"internal",name:"Inactivations Report",subtitle:"Changes Report",url:"reports/inactivations",description:"This report displays concept inactivations over time."},{type:"internal",name:"New Concepts Report",subtitle:"Changes Report",url:"reports/new-concepts",description:"This report displays newly added concepts over time."}],this.materials=[{type:"external",name:"RF2 History Mechanism",subtitle:"Specification Guide",url:"https://confluence.ihtsdotools.org/display/DOCRELFMT/3.1.5+History+Mechanism",description:"How SNOMED terminology changes are represented in the release files."},{type:"external",name:"Historical Associations Refset",subtitle:"Specification Guide",url:"https://confluence.ihtsdotools.org/display/DOCRELFMT/5.2.5.1+Historical+Association+Reference+Sets",description:"How SNOMED represents historical associations linking active components with inactive ones."},{type:"external",name:"Editorial Conventions for Changes in Components",subtitle:"Editorial Guide",url:"https://confluence.ihtsdotools.org/display/EDUEG/Changes+to+Components",description:"An educational resource outlining policies for managing terminology changes."},{type:"external",name:"Translation Maintenance Advice",subtitle:"Translation Management Guide",url:"https://confluence.ihtsdotools.org/display/DOCMANAGETRANS/5.+Maintenance+of+a+Translation",description:"Recommendations for managing translations, adapting to changes in international concepts and descriptions."},{type:"external",name:"Managing Inactivations in the Authoring Platform",subtitle:"User Guide",url:"https://confluence.ihtsdotools.org/display/SIAPUG/Inactivation+-+Descriptions%2C+Relationships%2C+and+Concepts",description:"Step by step guides on how to perform content inactivations in the Authoring Platform."},{type:"external",name:"Managing Inactivations in the Refset & Translation Tool",subtitle:"User Guide",url:"https://confluence.ihtsdotools.org/display/REFSET/Migration",description:"Features in the Refset & Translation Tool that support content migration between releases and the replacement of inactive content in refsets."},{type:"external",name:"Managing Inactivations in Snap2Snomed",subtitle:"User Guide",url:"https://confluence.ihtsdotools.org/display/S2SUG/Appendix+A+-+FAQs",description:"How inactive content is reported in Snap2Snomed and how the tool supports replacement selection."},{type:"external",name:"History Supplements in ECL",subtitle:"User Guide",url:"https://confluence.ihtsdotools.org/display/DOCECL/6.11+History+Supplements",description:"How history supplements can be applied to an expression constraint to include relevant inactive concepts in the results."},{type:"external",name:"Release Management Home",subtitle:"Release Notes",url:"https://confluence.ihtsdotools.org/display/RMT/SNOMED+International+Release+Management+Home",description:"Information on past and upcoming SNOMED Releases and access to Releases Notes describing content changes."},{type:"external",name:"Last International Release Statistics",subtitle:"Changes Report",url:"https://browser.ihtsdotools.org/qa/#/SNOMEDCT",description:"Descriptive statistics from the latest release of the International Edition of SNOMED CT."}]}navigate(e){if(e.type==="internal"){let r=e.queryParams,n=this.route.snapshot.queryParams;r?r=ht(ht({},n),r):r=n,this.router.navigate([e.url],{queryParams:r})}else this.openInNewTab(e.url)}openInNewTab(e){window.open(e,"_blank")}static{this.\u0275fac=function(r){return new(r||t)(je(xo),je(Va))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-reports-main"]],standalone:!1,decls:25,vars:2,consts:[[1,"main-panel"],[1,"mb-1"],[1,"text-gray-500"],[1,"text-container"],[1,"intro"],[1,"text-sm"],["href","https://pmc.ncbi.nlm.nih.gov/articles/PMC3415631/","target","_blank"],[1,"mt-4"],[1,"demos-panel"],["class","demo-card-wrapper",4,"ngFor","ngForOf"],[1,"center-image"],["src","assets/img/SI_CT_Logo_Delivered_By.png","alt","SNOMED Logo",1,"transparent-image"],[1,"demo-card-wrapper"],[1,"demo-card"],["mat-button","","color","accent",3,"click"]],template:function(r,n){r&1&&(B(0,"div",0)(1,"h1",1),J(2,"SNOMED CT as an Evolving Terminology"),U(),B(3,"h4",2),J(4,"Supporting the management of terminology changes in clinical implementations"),U(),B(5,"div",3)(6,"p",4),J(7,"Maintaining the integrity and usefulness of a clinical terminology like SNOMED CT requires continuous updates, including concept modifications and inactivations. These updates ensure that the terminology remains aligned with clinical practice and evolving medical knowledge while supporting interoperability across health systems. This page provides detailed information about SNOMED CT content changes, offering transparency for implementers, terminology managers, and system developers who depend on up-to-date SNOMED CT content for clinical decision support, coding, and analytics."),U(),B(8,"p",4),J(9,"This aligns with the principle of graceful evolution, which emphasizes that terminologies should change in a way that minimizes disruption to users. SNOMED CT follows this principle by ensuring that inactivated concepts have clear historical relationships to their replacements, FSN changes history is fully tracked, and new concepts integrate seamlessly into existing hierarchies. "),B(10,"span",5)(11,"a",6),J(12," Cimino J. J. (1998). Desiderata for controlled medical vocabularies in the twenty-first century. Methods of information in medicine, 37(4-5), 394\u2013403. "),U()()(),B(13,"p",4),J(14,"While this information exists in the RF2 release files, it is spread across multiple tables and requires complex queries to interpret. These guides, tools, and reports are key in the maintenance of SNOMED extensions, helping implementers identify the volume of changes over time and track updates efficiently, and update extension content to ensure that SNOMED CT remains a reliable and evolving global standard while minimizing the impact of inevitable terminology changes. "),U()(),B(15,"h3",7),J(16,"Reports describing changes in the terminology"),U(),B(17,"div",8),Te(18,H9e,13,3,"div",9),U(),B(19,"h3"),J(20,"Educational materials related to inactivations and changes in SNOMED CT"),U(),B(21,"div",8),Te(22,G9e,13,3,"div",9),U(),B(23,"div",10),He(24,"img",11),U()()),r&2&&(K(18),oe("ngForOf",n.reports),K(4),oe("ngForOf",n.materials))},dependencies:[qi,ln,Pd,AE,$m,d1,EE,u1],styles:[".main-panel[_ngcontent-%COMP%]{padding:2rem;height:calc(100vh - 70px)}.intro[_ngcontent-%COMP%]{font-size:1.1rem;text-align:justify;margin-bottom:10px;line-height:1.2}.demos-panel[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;justify-content:start;margin-top:1rem;margin-bottom:2rem}.demo-card-wrapper[_ngcontent-%COMP%]{width:300px}.demo-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}mat-card-title[_ngcontent-%COMP%]{word-wrap:break-word;font-size:large;font-weight:700}mat-card-content[_ngcontent-%COMP%]{padding:1rem;margin-bottom:2rem}mat-card-actions[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0;padding-top:10px;margin-top:auto}.center-image[_ngcontent-%COMP%]{text-align:center;margin-top:4rem;margin-left:20%;margin-right:20%}.transparent-image[_ngcontent-%COMP%]{opacity:.5}.text-container[_ngcontent-%COMP%]{text-align:justify;padding:1rem 2rem;background-color:#fff;border:1px solid #e0e0e0}.draft-banner[_ngcontent-%COMP%]{background-color:#fc0;color:#333;text-align:center;font-weight:700;padding:10px;font-size:1rem;border-bottom:2px solid #e6b800;position:relative;margin-bottom:1rem}"]})}}return t})();var j9e=()=>["/reports"];function W9e(t,i){t&1&&(B(0,"div",4),J(1,` Loading...
`),U())}var Cne=(()=>{class t{constructor(e,r,n){this.http=e,this.renderer=r,this.elementRef=n,this.loading=!0}ngOnInit(){this.http.get("assets/reports/new_concepts_by_semantic_tag.html",{responseType:"text"}).subscribe(e=>{this.loading=!1;let r=this.elementRef.nativeElement.querySelector("#chart-container");r.innerHTML=e,r.querySelectorAll("script").forEach(a=>{let s=this.renderer.createElement("script");s.type=a.type||"text/javascript",a.src?s.src=a.src:s.text=a.textContent||"",this.renderer.appendChild(r,s)})})}static{this.\u0275fac=function(r){return new(r||t)(je(Ms),je(Qn),je(Pt))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-new-concepts-report"]],standalone:!1,decls:5,vars:3,consts:[[1,"pt-5","pl-10"],["mat-flat-button","","color","primary",3,"routerLink"],["class","mt-20 ml-10",4,"ngIf"],["id","chart-container"],[1,"mt-20","ml-10"]],template:function(r,n){r&1&&(B(0,"div",0)(1,"button",1),J(2,"Back to reports"),U()(),Te(3,W9e,2,0,"div",2),He(4,"div",3)),r&2&&(K(),oe("routerLink",Or(2,j9e)),K(2),oe("ngIf",n.loading))},dependencies:[Xi,Gy,ln],styles:["#chart-container[_ngcontent-%COMP%]{padding:10px}"]})}}return t})();var J8=Ro(u2());var Sne=Ro(u2()),I0=class extends Sne.default.GameObjects.Rectangle{constructor(i,e,r,n=1,a=65280){super(i,e,r,40,40,a),this.inQueue=!1,this.queuePosition=0,this.queueStartTime=0,this.hitPoints=5,this.previousX=0,this.info={},this.speed=1,this.sceneRef=i,i.add.existing(this),i.physics.add.existing(this),this.body.setCollideWorldBounds(!0),this.body.setImmovable(!1),this.spriteType=n}walkTo(i,e){if(i.length===0){e();return}let r=n=>{if(n>=i.length){e();return}let a=i[n];this.sceneRef.tweens.add({targets:this,x:a.x,y:a.y,duration:a.duration/this.speed,ease:"Linear",onUpdate:()=>{},onComplete:()=>{r(n+1)}}),this.sceneRef.tweens.add({targets:this,yoyo:!0,repeat:a.duration/150,duration:150,onComplete:()=>{}})};r(0)}hurt(){this.hitPoints--;let i=this.sceneRef.add.text(this.x,this.y-10,"-1",{fontSize:"20px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5);this.sceneRef.tweens.add({targets:i,y:this.y-100,alpha:0,duration:3500/this.speed,ease:"Power2",onComplete:()=>i.destroy()}),this.hitPoints<=0&&this.destroy()}say(i,e=2e3){this.calloutText&&this.calloutText.destroy(),this.calloutLine&&this.calloutLine.destroy(),this.calloutText=this.sceneRef.add.text(this.x,this.y-50,i,{fontSize:"16px",color:"#ffffff",backgroundColor:"#000000",padding:{x:5,y:2},align:"center"}).setOrigin(.5).setDepth(10),this.calloutLine=this.sceneRef.add.line(this.x+5,this.y+10,0,0,10,-35,16777215).setLineWidth(1.5).setDepth(9),this.sceneRef.tweens.add({targets:[this.calloutText,this.calloutLine],alpha:0,duration:500/this.speed,delay:e,onComplete:()=>{this.calloutText?.destroy(),this.calloutText=void 0,this.calloutLine?.destroy()}})}};var UI=class extends I0{constructor(i,e,r,n=1,a=[]){if(super(i,e,r,n,16711680),this.clinicalData={},this.dxOptions=[],this.setScale(.5),this.dxOptions=i.cache.json.get("diagnosisData"),this.clinicalData.age=Phaser.Math.Between(18,100),this.clinicalData.diagnosis=[],a&&a.length>0)this.clinicalData.diagnosis=a;else{let s=Phaser.Math.Between(1,2);for(let o=0;o<s;o++){let u=Phaser.Utils.Array.GetRandom(this.dxOptions);u.status="none",this.clinicalData.diagnosis.includes(u)||this.clinicalData.diagnosis.push(u)}}this.setInteractive({useHandCursor:!0}),this.on("pointerover",()=>this.showDiagnosis()),this.on("pointerout",()=>this.hideDiagnosis())}showDiagnosis(){this.diagnosisText&&this.diagnosisText.destroy();let i=this.clinicalData.diagnosis.map(e=>e.display).join(`
`);i||(i="No diagnosis available"),this.diagnosisText=this.sceneRef.add.text(this.x,this.y-50,i,{fontSize:"14px",color:"#ffffff",backgroundColor:"#000000",padding:{x:5,y:2},align:"center"}).setOrigin(.5).setDepth(10)}hideDiagnosis(){this.diagnosisText?.destroy(),this.diagnosisText=void 0}};var d2=class extends I0{constructor(i,e,r,n,a){super(i,e,r,2,16776960),this.triageRules=[],this.setScale(.5),this.triageRules=n,this.gameService=a,this.setInteractive({useHandCursor:!0})}setTriageRules(i){this.triageRules=i}triagePatient(i,e){return new Promise(r=>{this.gameService.checkPatientDiagnosisVsEcl(i,e).then(n=>{r(n.length>0)})})}};var HI=class extends I0{constructor(i,e,r,n,a){super(i,e,r,2,255),this.specialityEcl="",this.title="",this.busy=!1,this.setScale(.5),this.specialityEcl=n,this.gameService=a,this.setInteractive({useHandCursor:!0})}setSpecialityEcl(i){this.specialityEcl=i}setTitle(i){this.title=i}setBusy(i){this.busy=i}isBusy(){return this.busy}attendPatient(i){return new Promise(e=>{this.gameService.checkPatientDiagnosisVsEcl(i,this.specialityEcl).then(r=>{r.length>0?(i.clinicalData.diagnosis.forEach(n=>{r.find(a=>a.code===n.code)&&(n.status="treated")}),e(!0)):e(!1)})})}};var GI=class{constructor(i){this.terminologyService=i}checkPatientDiagnosisVsEcl(i,e){return new Promise((r,n)=>{let a=0,s="";if(i?.clinicalData.diagnosis.forEach((o,u)=>{o.status!=="treated"&&(a++,a>1?s+=` OR ${o.code}`:s+=` ${o.code}`)}),a===0){r([]);return}else e=e+" AND ("+s+" )",this.terminologyService.expandValueSetUsingCache(e,"").subscribe(o=>{o.expansion?.total>0?r(o.expansion.contains):r([])},o=>{n(o)})})}};var jI=class extends Phaser.Scene{constructor(i){super({key:"CdstdScene"}),this.terminologyService=i,this.maxPatients=10,this.spawnedPatients=0,this.patientsInQueue=0,this.outsideQueue=[],this.insideQueue=[],this.goodTriage=0,this.badTriage=0,this.diagnosisData=[],this.admitting=!1,this.lastTriageTime=0,this.speedMultiplier=1,this.admissionEcl="( << 386661006 |Fever| OR << 22253000 |Pain (finding)| )",this.internalTriageRules=[{ecl:"<< 386661006",doctorIndex:1},{ecl:"<< 22253000",doctorIndex:0},{ecl:"<< 22253000",doctorIndex:0}],this.attendingDoctors=[{x:130,y:207,title:"Cardiologist",ecl:"(<< 106063007 |Cardiovascular finding (finding)| OR << 29857009 |Chest pain (finding)|)"},{x:130,y:140,title:"Infectologist",ecl:"<< 386661006 |Fever (finding)|"}],this.gameService=new GI(i),this.terminologyService.setSnowstormFhirBase("https://snowstorm-lite.nw.r.appspot.com/fhir")}setSpeedMultiplier(i){this.speedMultiplier=i}getSelectedSpeed(){return this.speedMultiplier}preload(){this.load.json("diagnosisData","assets/cdstd/Data/dx_1.json")}create(){this.input.keyboard?.on("keydown-ENTER",()=>{this.internalTriage()}),this.input?.keyboard?.on("keydown-A",()=>{this.testNextPatientForAdmission()}),this.diagnosisData=this.cache.json.get("diagnosisData"),this.scoreText=this.add.text(750,10,`Patients: ${this.spawnedPatients}`,{fontSize:"20px",color:"#ffffff",fontStyle:"bold"}).setOrigin(1,0),this.input.enabled=!0,this.outsideQueue=[],this.goodTriage=0,this.spawnedPatients=0,this.patients=this.physics.add.group(),this.addDoctors(),this.gatekeeper=new d2(this,315,190,[{ecl:this.admissionEcl,doctorIndex:0}],this.gameService),this.gatekeeper.setInteractive({useHandCursor:!0}),this.gatekeeper.on("pointerdown",()=>{this.openEclEditor(this.gatekeeper)}),this.add.existing(this.gatekeeper),this.wall=this.add.line(0,0,270,480,650,480,16777215).setLineWidth(10).setOrigin(0,0),this.physics.add.existing(this.wall,!0),this.spawnPatient(),this.scheduleRandomPatientSpawn()}update(){this.patients.getChildren().forEach(e=>{let r=e;if(!r.active)return;let n=r.x,a=r.previousX;n<a||n>a,r.previousX=n}),this.scoreText.setText(`Patients: ${this.spawnedPatients} Effectiveness: ${(this.spawnedPatients-this.badTriage)/this.spawnedPatients*100}%`),this.admitting&&this.testNextPatientForAdmission();let i=Date.now();this.insideQueue.length>0&&this.attendingDoctors.every(e=>!e.character.busy)&&i-this.lastTriageTime>=2e3&&(this.lastTriageTime=Date.now(),this.time.delayedCall(1e3,()=>{}))}openEclEditor(i){this.scene.pause(),this.scene.launch("EclEditorScene",{rules:i.triageRules,callback:e=>{i.setTriageRules(e)}})}scheduleRandomPatientSpawn(){if(this.spawnedPatients<this.maxPatients){let i=Phaser.Math.Between(2,5);this.time.addEvent({delay:i,callback:()=>{this.spawnPatient(),this.scheduleRandomPatientSpawn()},callbackScope:this})}}addDoctors(){this.internalTriageDoctor=new d2(this,270,350,this.internalTriageRules,this.gameService),this.internalTriageDoctor.setInteractive({useHandCursor:!0}),this.internalTriageDoctor.on("pointerdown",()=>{this.openEclEditor(this.internalTriageDoctor)}),this.attendingDoctors.forEach(i=>{let e=new HI(this,i.x,i.y,i.ecl,this.gameService);e.setTitle(i.title),e.setBusy(!1),i.character=e})}spawnPatient(){let i=new UI(this,80,10,Phaser.Math.Between(1,3));this.outsideQueue.push(i),i.queuePosition=this.outsideQueue.length;let e=[{x:80,y:533,duration:500},{x:330+30*i.queuePosition,y:533,duration:500}];i.walkTo(e,()=>{this.patientsInQueue++,this.time.delayedCall(100,()=>{}),this.patientsInQueue===this.maxPatients&&this.queueComplete()}),i.setActive(!0).setVisible(!0),this.patients.add(i),this.spawnedPatients++,this.physics.add.collider(i,this.wall)}queueComplete(){let i=[{x:315,y:350,duration:200},{x:240,y:350,duration:200},{x:240,y:533,duration:200},{x:310,y:533,duration:200}];this.gatekeeper.walkTo(i,()=>{this.gatekeeper.say("We will start soon",1100)})}testNextPatientForAdmission(){if(this.outsideQueue.length===0)return;let i=this.outsideQueue.shift();i&&(this.admitting=!1,this.gatekeeper.say("How do you feel?",1e3),this.time.delayedCall(1500,()=>{let e=`I have been feeling with:
`;e+=i.clinicalData.diagnosis.map(r=>r.display).join(`
`),i.say(e,1800),this.time.delayedCall(2e3,()=>{this.gatekeeper.triagePatient(i,this.gatekeeper.triageRules[0].ecl).then(r=>{r?(this.gatekeeper.say("Go in...",1500),this.time.delayedCall(1500,()=>{this.enterHospital(i),this.advanceQueue(this.outsideQueue),this.time.delayedCall(1e3,()=>{})})):(this.gatekeeper.say("Go home...",1500),this.time.delayedCall(500,()=>{this.walkAway(i),this.advanceQueue(this.outsideQueue),this.time.delayedCall(1e3,()=>{})}))})})}))}walkToInternalTriage(i){let e=[{x:310,y:350,duration:500}];i.walkTo(e,()=>{})}enterHospital(i){this.insideQueue.push(i),i.queuePosition=this.insideQueue.length;let e=Phaser.Math.Between(350,500),r=Phaser.Math.Between(330,380),n=[{x:240,y:i.y,duration:500},{x:240,y:350,duration:500},{x:e,y:r,duration:500}];i.walkTo(n,()=>{this.time.delayedCall(100,()=>{})})}walkAway(i){let e=[];i.y<500&&(e.push({x:240,y:i.y,duration:500}),e.push({x:240,y:560,duration:500}));let r=Phaser.Math.Between(0,1);e.push({x:r*800,y:560,duration:1e3}),i.walkTo(e,()=>{this.time.delayedCall(100,()=>{i.destroy()})})}advanceQueue(i){if(i.length===0)return;let e=i[0].x-60;i.forEach((r,n)=>{r.queuePosition=n+1;let a=[{x:e+30*r.queuePosition,y:r.y,duration:500}];r.walkTo(a,()=>{})})}internalTriage(){return Mt(this,null,function*(){if(this.insideQueue.length===0)return;let i=this.insideQueue.shift(),e=!1;if(i){this.walkToInternalTriage(i);for(let r of this.internalTriageRules){let n=this.attendingDoctors[r.doctorIndex].character;if(n.busy)continue;let a=!1;if(a=yield this.internalTriageDoctor.triagePatient(i,r.ecl),a){e=!0,this.internalTriageDoctor.say(`Go to the ${n?.title}`,1e3),this.time.delayedCall(1e3,()=>{let s=[{x:240,y:i.y,duration:200},{x:240,y:n.y,duration:300},{x:n.x+30,y:n.y,duration:300}];n.busy=!0,i.walkTo(s,()=>{this.attendPatient(i,n)})});break}}e||(this.internalTriageDoctor.say("We can't help you...",1e3),this.time.delayedCall(1e3,()=>{this.walkAway(i)})),i.active||this.addToInsideQueue(i)}})}addToInsideQueue(i){this.insideQueue.push(i),i.queuePosition=this.insideQueue.length;let n=[{x:280+20*i.queuePosition,y:350,duration:500/this.speedMultiplier}];i.walkTo(n,()=>{}),console.log(`Patient re-added to insideQueue at position ${i.queuePosition}`)}attendPatient(i,e){e.busy=!0,this.time.delayedCall(1e3,()=>{this.checkPatientDiagnosisVsEcl(i,e.specialityEcl).then(r=>{r.length>0?(i.clinicalData.diagnosis.forEach(n=>{r.find(a=>a.code===n.code)&&(n.status="treated")}),i.clinicalData.diagnosis.find(n=>n.status==="admitted")?(e.say(`${e.title}
Go to the next doctor`,1e3),this.time.delayedCall(1e3,()=>{this.enterHospital(i),e.busy=!1})):(e.say(`${e.title}
Have a nice day`,1e3),this.time.delayedCall(1e3,()=>{this.goodTriage++,this.walkAway(i),e.busy=!1}))):i.clinicalData.diagnosis.find(n=>n.status==="admitted")?(e.say(`${e.title}
I can't help with this, but go to the next doctor`,1e3),this.time.delayedCall(1e3,()=>{this.enterHospital(i),e.busy=!1})):(e.say(`${e.title}
I can't help you...`,1e3),this.time.delayedCall(1e3,()=>{this.badTriage++,this.walkAway(i),e.busy=!1}))})})}gameOver(){this.add.text(400,350,"Game Over",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,400,"Press R to Restart",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5),this.physics.pause();let i=this.input?.keyboard?.addKey("R");i?i.once("down",()=>{this.time.removeAllEvents(),this.tweens.killAll(),this.scene.restart()}):console.error("Keyboard input is not available.")}checkPatientDiagnosisVsEcl(i,e){return new Promise((r,n)=>{let a=0,s="";if(i?.clinicalData.diagnosis.forEach((o,u)=>{o.status!=="treated"&&(a++,a>1?s+=` OR ${o.code}`:s+=` ${o.code}`)}),a===0){r([]);return}else e=e+" AND ("+s+" )",this.terminologyService.expandValueSetUsingCache(e,"").subscribe(o=>{o.expansion?.total>0?r(o.expansion.contains):r([])},o=>{n(o)})})}};var Tne=Ro(u2()),WI=class extends Tne.default.Scene{constructor(){super({key:"UIScene",active:!0}),this.gamePaused=!1,this.speedButtons=[],this.speedLevels=[1,2,4,16],this.activeSpeedIndex=0}preload(){this.load.image("pauseButton","assets/cdstd/Objects/Buttons/button_pause.png"),this.load.image("unpauseButton","assets/cdstd/Objects/Buttons/button_unpause.png")}create(){this.pauseButton=this.add.image(75,50,"pauseButton").setInteractive(),this.pauseButton.on("pointerdown",()=>this.togglePause()),this.speedLevels.forEach((i,e)=>{let r=this.add.text(150+e*60,35,`${i}x`,{fontSize:"18px",color:e===this.activeSpeedIndex?"#ff0":"#fff",backgroundColor:"#000",padding:{x:10,y:5}}).setInteractive().on("pointerdown",()=>this.setSpeed(e));this.speedButtons.push(r)})}togglePause(){let i=this.scene.get("CdstdScene");this.gamePaused?(i.scene.resume(),this.gamePaused=!1,this.pauseButton.setTexture("pauseButton")):(i.scene.pause(),this.gamePaused=!0,this.pauseButton.setTexture("unpauseButton"))}setSpeed(i){this.activeSpeedIndex=i,this.speedButtons.forEach((r,n)=>{r.setStyle({color:n===this.activeSpeedIndex?"#ff0":"#fff"})});let e=this.scene.get("CdstdScene");e&&e.setSpeedMultiplier(this.speedLevels[this.activeSpeedIndex])}};var Ene=Ro(u2()),XI=class extends Ene.Scene{constructor(){super({key:"EclEditorScene"}),this.lineHeight=25,this.maxLines=3}init(i){console.log("EclEditorScene init",i),this.rules=i.rules,this.updateCallback=i.callback}create(){let i=this.cameras.main.width/2,e=this.cameras.main.height/2;console.log("EclEditorScene create",this.rules);let r=this.rules.length*90+50;this.overlay=this.add.rectangle(i,e,this.cameras.main.width,this.cameras.main.height,0,.5).setDepth(100),this.inputBox=this.add.rectangle(i,e,700,500,3355443,.9).setOrigin(.5).setDepth(101),this.rules.forEach((n,a)=>{let s=e-r/2+a*90+40;this.add.text(i-320,s,`Doctor ${n.doctorIndex}:`,{fontSize:"16px",color:"#ffcc00"}).setOrigin(0,.5).setDepth(102);let o=this.add.text(i-200,s,n.ecl,{fontSize:"16px",color:"#ffffff",backgroundColor:"#000000",padding:{x:5,y:5},wordWrap:{width:500},fixedWidth:500,fixedHeight:this.lineHeight*this.maxLines}).setOrigin(0,.5).setDepth(102),u=this.add.rectangle(i+145,s+15,80,30,4474060).setOrigin(.5).setDepth(102).setInteractive({useHandCursor:!0}),l=this.add.text(i+145,s+15,"Copy",{fontSize:"14px",color:"#ffffff"}).setOrigin(.5).setDepth(103);u.on("pointerdown",()=>{navigator.clipboard.writeText(n.ecl).then(()=>{u.setFillStyle(52224),l.setText("Copied!"),this.time.delayedCall(1e3,()=>{u.setFillStyle(4474060),l.setText("Copy")})})});let c=this.add.rectangle(i+245,s+15,80,30,31436).setOrigin(.5).setDepth(102).setInteractive({useHandCursor:!0});this.add.text(i+245,s+15,"Paste",{fontSize:"14px",color:"#ffffff"}).setOrigin(.5).setDepth(103),c.on("pointerdown",()=>{navigator.clipboard.readText().then(h=>{n.ecl=h,o.setText(h)})})}),this.closeButton=this.add.rectangle(735,65,30,30,16711680).setOrigin(.5).setDepth(102).setInteractive({useHandCursor:!0}),this.add.text(735,65,"\u2715",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5).setDepth(103),this.closeButton.on("pointerdown",()=>this.closeEclEditor()),this.confirmButton=this.add.rectangle(i,520,100,30,65280).setOrigin(.5).setDepth(102).setInteractive({useHandCursor:!0}),this.add.text(i,520,"OK",{fontSize:"16px",color:"#000000"}).setOrigin(.5).setDepth(103),this.confirmButton.on("pointerdown",()=>this.confirmEclChange())}confirmEclChange(){this.updateCallback(this.rules),this.closeEclEditor()}closeEclEditor(){this.scene.resume("CdstdScene"),this.scene.stop()}};var X9e=["gameContainer"],Ane=(()=>{class t{constructor(e){this.terminologyService=e}ngOnInit(){let e=new WI,r=new XI,n=new jI(this.terminologyService),a={type:J8.default.AUTO,width:800,height:600,parent:this.gameContainer.nativeElement,scene:[n,e,r],physics:{default:"arcade",arcade:{debug:!1}}};this.game=new J8.default.Game(a)}ngOnDestroy(){this.game&&this.game.destroy(!0)}static{this.\u0275fac=function(r){return new(r||t)(je(An))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-triage-game"]],viewQuery:function(r,n){if(r&1&&Jt(X9e,7),r&2){let a;yt(a=xt())&&(n.gameContainer=a.first)}},standalone:!1,decls:2,vars:0,consts:[["gameContainer",""]],template:function(r,n){r&1&&He(0,"div",null,0)},encapsulation:2})}}return t})();var Une=Ro(_f());var Mne=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function Y9e(t){return typeof t=="string"&&Mne.test(t)}var Ine=Y9e;function $9e(t){if(!Ine(t))throw TypeError("Invalid UUID");let i;return Uint8Array.of((i=parseInt(t.slice(0,8),16))>>>24,i>>>16&255,i>>>8&255,i&255,(i=parseInt(t.slice(9,13),16))>>>8,i&255,(i=parseInt(t.slice(14,18),16))>>>8,i&255,(i=parseInt(t.slice(19,23),16))>>>8,i&255,(i=parseInt(t.slice(24,36),16))/1099511627776&255,i/4294967296&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255)}var q8=$9e;var ml=[];for(let t=0;t<256;++t)ml.push((t+256).toString(16).slice(1));function Dne(t,i=0){return(ml[t[i+0]]+ml[t[i+1]]+ml[t[i+2]]+ml[t[i+3]]+"-"+ml[t[i+4]]+ml[t[i+5]]+"-"+ml[t[i+6]]+ml[t[i+7]]+"-"+ml[t[i+8]]+ml[t[i+9]]+"-"+ml[t[i+10]]+ml[t[i+11]]+ml[t[i+12]]+ml[t[i+13]]+ml[t[i+14]]+ml[t[i+15]]).toLowerCase()}function Q9e(t){let i=J9e(t),e=Z9e(i,t.length*8);return K9e(e)}function K9e(t){let i=new Uint8Array(t.length*4);for(let e=0;e<t.length*4;e++)i[e]=t[e>>2]>>>e%4*8&255;return i}function Pne(t){return(t+64>>>9<<4)+14+1}function Z9e(t,i){let e=new Uint32Array(Pne(i)).fill(0);e.set(t),e[i>>5]|=128<<i%32,e[e.length-1]=i,t=e;let r=1732584193,n=-271733879,a=-1732584194,s=271733878;for(let o=0;o<t.length;o+=16){let u=r,l=n,c=a,h=s;r=Wl(r,n,a,s,t[o],7,-680876936),s=Wl(s,r,n,a,t[o+1],12,-389564586),a=Wl(a,s,r,n,t[o+2],17,606105819),n=Wl(n,a,s,r,t[o+3],22,-1044525330),r=Wl(r,n,a,s,t[o+4],7,-176418897),s=Wl(s,r,n,a,t[o+5],12,1200080426),a=Wl(a,s,r,n,t[o+6],17,-1473231341),n=Wl(n,a,s,r,t[o+7],22,-45705983),r=Wl(r,n,a,s,t[o+8],7,1770035416),s=Wl(s,r,n,a,t[o+9],12,-1958414417),a=Wl(a,s,r,n,t[o+10],17,-42063),n=Wl(n,a,s,r,t[o+11],22,-1990404162),r=Wl(r,n,a,s,t[o+12],7,1804603682),s=Wl(s,r,n,a,t[o+13],12,-40341101),a=Wl(a,s,r,n,t[o+14],17,-1502002290),n=Wl(n,a,s,r,t[o+15],22,1236535329),r=Xl(r,n,a,s,t[o+1],5,-165796510),s=Xl(s,r,n,a,t[o+6],9,-1069501632),a=Xl(a,s,r,n,t[o+11],14,643717713),n=Xl(n,a,s,r,t[o],20,-373897302),r=Xl(r,n,a,s,t[o+5],5,-701558691),s=Xl(s,r,n,a,t[o+10],9,38016083),a=Xl(a,s,r,n,t[o+15],14,-660478335),n=Xl(n,a,s,r,t[o+4],20,-405537848),r=Xl(r,n,a,s,t[o+9],5,568446438),s=Xl(s,r,n,a,t[o+14],9,-1019803690),a=Xl(a,s,r,n,t[o+3],14,-187363961),n=Xl(n,a,s,r,t[o+8],20,1163531501),r=Xl(r,n,a,s,t[o+13],5,-1444681467),s=Xl(s,r,n,a,t[o+2],9,-51403784),a=Xl(a,s,r,n,t[o+7],14,1735328473),n=Xl(n,a,s,r,t[o+12],20,-1926607734),r=Yl(r,n,a,s,t[o+5],4,-378558),s=Yl(s,r,n,a,t[o+8],11,-2022574463),a=Yl(a,s,r,n,t[o+11],16,1839030562),n=Yl(n,a,s,r,t[o+14],23,-35309556),r=Yl(r,n,a,s,t[o+1],4,-1530992060),s=Yl(s,r,n,a,t[o+4],11,1272893353),a=Yl(a,s,r,n,t[o+7],16,-155497632),n=Yl(n,a,s,r,t[o+10],23,-1094730640),r=Yl(r,n,a,s,t[o+13],4,681279174),s=Yl(s,r,n,a,t[o],11,-358537222),a=Yl(a,s,r,n,t[o+3],16,-722521979),n=Yl(n,a,s,r,t[o+6],23,76029189),r=Yl(r,n,a,s,t[o+9],4,-640364487),s=Yl(s,r,n,a,t[o+12],11,-421815835),a=Yl(a,s,r,n,t[o+15],16,530742520),n=Yl(n,a,s,r,t[o+2],23,-995338651),r=$l(r,n,a,s,t[o],6,-198630844),s=$l(s,r,n,a,t[o+7],10,1126891415),a=$l(a,s,r,n,t[o+14],15,-1416354905),n=$l(n,a,s,r,t[o+5],21,-57434055),r=$l(r,n,a,s,t[o+12],6,1700485571),s=$l(s,r,n,a,t[o+3],10,-1894986606),a=$l(a,s,r,n,t[o+10],15,-1051523),n=$l(n,a,s,r,t[o+1],21,-2054922799),r=$l(r,n,a,s,t[o+8],6,1873313359),s=$l(s,r,n,a,t[o+15],10,-30611744),a=$l(a,s,r,n,t[o+6],15,-1560198380),n=$l(n,a,s,r,t[o+13],21,1309151649),r=$l(r,n,a,s,t[o+4],6,-145523070),s=$l(s,r,n,a,t[o+11],10,-1120210379),a=$l(a,s,r,n,t[o+2],15,718787259),n=$l(n,a,s,r,t[o+9],21,-343485551),r=D0(r,u),n=D0(n,l),a=D0(a,c),s=D0(s,h)}return Uint32Array.of(r,n,a,s)}function J9e(t){if(t.length===0)return new Uint32Array;let i=new Uint32Array(Pne(t.length*8)).fill(0);for(let e=0;e<t.length;e++)i[e>>2]|=(t[e]&255)<<e%4*8;return i}function D0(t,i){let e=(t&65535)+(i&65535);return(t>>16)+(i>>16)+(e>>16)<<16|e&65535}function q9e(t,i){return t<<i|t>>>32-i}function YI(t,i,e,r,n,a){return D0(q9e(D0(D0(i,t),D0(r,a)),n),e)}function Wl(t,i,e,r,n,a,s){return YI(i&e|~i&r,t,i,n,a,s)}function Xl(t,i,e,r,n,a,s){return YI(i&r|e&~r,t,i,n,a,s)}function Yl(t,i,e,r,n,a,s){return YI(i^e^r,t,i,n,a,s)}function $l(t,i,e,r,n,a,s){return YI(e^(i|~r),t,i,n,a,s)}var Rne=Q9e;function e7e(t){t=unescape(encodeURIComponent(t));let i=new Uint8Array(t.length);for(let e=0;e<t.length;++e)i[e]=t.charCodeAt(e);return i}var kne="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Fne="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function e6(t,i,e,r,n,a){let s=typeof e=="string"?e7e(e):e,o=typeof r=="string"?q8(r):r;if(typeof r=="string"&&(r=q8(r)),r?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+s.length);if(u.set(o),u.set(s,o.length),u=i(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,n){a=a||0;for(let l=0;l<16;++l)n[a+l]=u[l];return n}return Dne(u)}function t6(t,i,e,r){return e6(48,Rne,t,i,e,r)}t6.DNS=kne;t6.URL=Fne;var qp=t6;var t7e=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],i7e=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function n7e(t,i){t&1&&(B(0,"span",3),$t(1,1),U())}function r7e(t,i){t&1&&(B(0,"span",6),$t(1,2),U())}var s7e=["*"];var a7e=new tt("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),One=new tt("MatChipAvatar"),Lne=new tt("MatChipTrailingIcon"),i6=new tt("MatChipRemove"),Nne=new tt("MatChip"),n6=(()=>{class t{_elementRef=le(Pt);_parentChip=le(Nne);isInteractive=!0;_isPrimary=!0;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(e){this._disabled=e}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(){le(gr).load(fa),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(r,n){r&1&&we("click",function(s){return n._handleClick(s)})("keydown",function(s){return n._handleKeydown(s)}),r&2&&(ti("tabindex",n._getTabindex())("disabled",n._getDisabledAttribute())("aria-disabled",n.disabled),Ut("mdc-evolution-chip__action--primary",n._isPrimary)("mdc-evolution-chip__action--presentational",!n.isInteractive)("mdc-evolution-chip__action--trailing",!n._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",Rt],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?-1:mr(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[Mi]})}return t})();var Bne=(()=>{class t extends n6{_isPrimary=!1;_handleClick(e){this.disabled||(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(r,n){r&2&&ti("aria-hidden",null)},features:[_i([{provide:i6,useExisting:t}]),Ai]})}return t})(),r6=(()=>{class t{_changeDetectorRef=le(ki);_elementRef=le(Pt);_ngZone=le(ri);_focusMonitor=le(ha);_globalRippleOptions=le(Gm,{optional:!0});_document=le(Di);_onFocus=new mt;_onBlur=new mt;_isBasicChip;role=null;_hasFocusInternal=!1;_pendingFocus;_actionChanges;_animationsDisabled;_allLeadingIcons;_allTrailingIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=le(Gn).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_ariaDescriptionId=`${this.id}-aria-description`;_chipListDisabled=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(e){this._disabled=e}_disabled=!1;removed=new Tt;destroyed=new Tt;basicChipAttrName="mat-basic-chip";leadingIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=le(mE);_injector=le(Wi);constructor(){le(gr).load(fa),le(gr).load(Ag);let e=le(Un,{optional:!0});this._animationsDisabled=e==="NoopAnimations",this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){let e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=$n(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(e){(e.keyCode===8&&!e.repeat||e.keyCode===46)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(r=>{let n=r._elementRef.nativeElement;return n===e||n.contains(e)})}_getActions(){let e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let r=e!==null;r!==this._hasFocusInternal&&(this._hasFocusInternal=r,r?this._onFocus.next({chip:this}):(this._changeDetectorRef.markForCheck(),setTimeout(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})))))})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(r,n,a){if(r&1&&(Fi(a,One,5),Fi(a,Lne,5),Fi(a,i6,5),Fi(a,One,5),Fi(a,Lne,5),Fi(a,i6,5)),r&2){let s;yt(s=xt())&&(n.leadingIcon=s.first),yt(s=xt())&&(n.trailingIcon=s.first),yt(s=xt())&&(n.removeIcon=s.first),yt(s=xt())&&(n._allLeadingIcons=s),yt(s=xt())&&(n._allTrailingIcons=s),yt(s=xt())&&(n._allRemoveIcons=s)}},viewQuery:function(r,n){if(r&1&&Jt(n6,5),r&2){let a;yt(a=xt())&&(n.primaryAction=a.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(r,n){r&1&&we("keydown",function(s){return n._handleKeydown(s)}),r&2&&(ll("id",n.id),ti("role",n.role)("aria-label",n.ariaLabel),cs("mat-"+(n.color||"primary")),Ut("mdc-evolution-chip",!n._isBasicChip)("mdc-evolution-chip--disabled",n.disabled)("mdc-evolution-chip--with-trailing-action",n._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",n.leadingIcon)("mdc-evolution-chip--with-primary-icon",n.leadingIcon)("mdc-evolution-chip--with-avatar",n.leadingIcon)("mat-mdc-chip-with-avatar",n.leadingIcon)("mat-mdc-chip-highlighted",n.highlighted)("mat-mdc-chip-disabled",n.disabled)("mat-mdc-basic-chip",n._isBasicChip)("mat-mdc-standard-chip",!n._isBasicChip)("mat-mdc-chip-with-trailing-icon",n._hasTrailingIcon())("_mat-animation-noopable",n._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",Rt],highlighted:[2,"highlighted","highlighted",Rt],disableRipple:[2,"disableRipple","disableRipple",Rt],disabled:[2,"disabled","disabled",Rt]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[_i([{provide:Nne,useExisting:t}]),Mi],ngContentSelectors:i7e,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(r,n){r&1&&(zi(t7e),He(0,"span",0),B(1,"span",1)(2,"span",2),Te(3,n7e,2,0,"span",3),B(4,"span",4),$t(5),He(6,"span",5),U()()(),Te(7,r7e,2,0,"span",6)),r&2&&(K(2),oe("isInteractive",!1),K(),Zi(n.leadingIcon?3:-1),K(4),Zi(n._hasTrailingIcon()?7:-1))},dependencies:[n6],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width, 1px);border-radius:var(--mdc-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size, 24px);height:var(--mdc-chip-with-avatar-avatar-size, 24px);font-size:var(--mdc-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius, 8px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mdc-chip-with-icon-icon-size, 18px);height:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return t})();var Vne=(()=>{class t{_elementRef=le(Pt);_changeDetectorRef=le(ki);_dir=le(qr,{optional:!0});_lastDestroyedFocusedChipIndex=null;_keyManager;_destroyed=new mt;_defaultRole="presentation";get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}_disabled=!1;get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}tabIndex=0;set role(e){this._explicitRole=e}_explicitRole=null;get focused(){return this._hasFocusedChip()}_chips;_chipActions=new bc;constructor(){}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips?.forEach(e=>{e._chipListDisabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){let e=this._elementRef.nativeElement.tabIndex;e!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=e))}_getChipStream(e){return this._chips.changes.pipe(Bn(null),Mn(()=>$n(...this._chips.map(e))))}_originatesFromChip(e){let r=e.target;for(;r&&r!==this._elementRef.nativeElement;){if(r.classList.contains("mat-mdc-chip"))return!0;r=r.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(Bn(this._chips)).subscribe(e=>{let r=[];e.forEach(n=>n._getActions().forEach(a=>r.push(a))),this._chipActions.reset(r),this._chipActions.notifyOnChanges()}),this._keyManager=new Ap(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(pi(this._destroyed)).subscribe(({chip:e})=>{let r=e._getSourceAction(document.activeElement);r&&this._keyManager.updateActiveItem(r)}),this._dir?.change.pipe(pi(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(Bn(null),pi(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(pi(this._destroyed)).subscribe(e=>{let n=this._chips.toArray().indexOf(e.chip);this._isValidIndex(n)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=n)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),r=this._chips.toArray()[e];r.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():r.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-chip-set"]],contentQueries:function(r,n,a){if(r&1&&Fi(a,r6,5),r&2){let s;yt(s=xt())&&(n._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(r,n){r&1&&we("keydown",function(s){return n._handleKeydown(s)}),r&2&&ti("role",n.role)},inputs:{disabled:[2,"disabled","disabled",Rt],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:mr(e)]},features:[Mi],ngContentSelectors:s7e,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(r,n){r&1&&(zi(),B(0,"div",0),$t(1),U())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return t})();var zne=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:[s1,{provide:a7e,useValue:{separatorKeyCodes:[13]}}],imports:[Si,Uu,Si]})}return t})();var l7e=()=>({});function c7e(t,i){t&1&&(B(0,"mat-label"),J(1,"Setting up search..."),U())}function u7e(t,i){t&1&&(B(0,"mat-label"),J(1,"Search lab orderable"),U())}function d7e(t,i){t&1&&He(0,"mat-progress-bar",46)}function h7e(t,i){t&1&&(B(0,"div",47)(1,"p"),J(2,"Search lab orders by typing in the search box above"),U(),B(3,"p"),J(4,"Supports Word-prefix-any-order search mode ('plas glu' matches 'Glucose Plasma')"),U(),B(5,"p"),J(6,"The search engine will retrieve matches and filter options from the FHIR Terminology server"),U(),B(7,"p"),J(8,"Results are constrained to the 'Orderables' reference set in the LOINC Ontology"),U(),B(9,"p"),J(10,"Learn more in the "),B(11,"a",48),J(12,"LOINC Ontology Implementation Guide"),U()()())}function f7e(t,i){if(t&1){let e=Ye();B(0,"mat-chip",52)(1,"div",53),we("removed",function(){let n=Me(e).$implicit,a=pe(2);return Ie(a.removeFilter(n))}),B(2,"div",54)(3,"p",55),J(4),U(),B(5,"button",56),we("click",function(){let n=Me(e).$implicit,a=pe(2);return Ie(a.removeFilter(n))}),B(6,"mat-icon"),J(7,"cancel"),U()()()()()}if(t&2){let e=i.$implicit;K(4),Dr("",e.title,": ",e.selected.display,""),K(),ti("aria-label","remove "+e.selected.display)}}function p7e(t,i){if(t&1&&(B(0,"div",49)(1,"p")(2,"b"),J(3,"Active filters"),U()(),B(4,"mat-chip-set",50),Te(5,f7e,8,3,"mat-chip",51),U()()),t&2){let e=pe();K(5),oe("ngForOf",e.filters)}}function m7e(t,i){if(t&1){let e=Ye();B(0,"mat-chip",60),we("click",function(){let n=Me(e).$implicit,a=pe(2).$implicit,s=pe();return Ie(s.addFilter(a,n))}),B(1,"div",61),J(2),U()()}if(t&2){let e=i.$implicit;K(2),It(" ",e.display," ")}}function g7e(t,i){if(t&1){let e=Ye();B(0,"span",65),we("click",function(){let n=Me(e).$implicit,a=pe(3).$implicit,s=pe();return Ie(s.addFilter(a,n))}),J(1),U()}if(t&2){let e=i.$implicit;oe("disableRipple",!0),K(),It(" ",e.display," ")}}function v7e(t,i){if(t&1&&(B(0,"mat-chip",62)(1,"div",61)(2,"p"),J(3,"Others"),U(),B(4,"mat-icon",63),J(5,"arrow_drop_down"),U(),B(6,"mat-menu",null,0),Te(8,g7e,2,2,"span",64),U()()()),t&2){let e=hi(7),r=pe(2).$implicit;K(4),oe("matMenuTriggerFor",e),K(4),oe("ngForOf",r.otherOptions)}}function y7e(t,i){if(t&1&&(B(0,"div",49)(1,"p")(2,"b"),J(3),U()(),B(4,"mat-chip-set",57),Te(5,m7e,3,1,"mat-chip",58)(6,v7e,9,2,"mat-chip",59),U()()),t&2){let e=pe().$implicit;K(3),vt(e.title),K(),Fo("aria-label",e.title),K(),oe("ngForOf",e.options),K(),oe("ngIf",e.otherOptions.length)}}function x7e(t,i){if(t&1&&(B(0,"div"),Te(1,y7e,7,4,"div",8),U()),t&2){let e=i.$implicit;K(),oe("ngIf",e.options.length>1)}}function b7e(t,i){t&1&&(B(0,"div",66),He(1,"br")(2,"br")(3,"br")(4,"br")(5,"br"),U())}function _7e(t,i){t&1&&(B(0,"p"),J(1,"No results..."),U())}function w7e(t,i){t&1&&(B(0,"div",67),He(1,"img",68),U())}function C7e(t,i){if(t&1&&(B(0,"p",69),J(1),U()),t&2){let e=pe();K(),It(" Found ",e.totalResults," matches: ")}}function S7e(t,i){if(t&1){let e=Ye();B(0,"div",70),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.addToOrder(n))}),J(1),U()}if(t&2){let e=i.$implicit;K(),It(" ",e.display," ")}}function T7e(t,i){t&1&&He(0,"div",72)}function E7e(t,i){if(t&1&&(B(0,"div",3),Te(1,T7e,1,0,"div",71),U()),t&2){let e=pe();K(),oe("ngForOf",e.skeletonLoaders)}}function A7e(t,i){if(t&1){let e=Ye();B(0,"div",3)(1,"div",73),we("click",function(){Me(e);let n=pe();return Ie(n.loadNextPage())}),J(2),U()()}if(t&2){let e=pe();K(2),Dr(" ",e.searchResults.length," matches from ",e.totalResults,". Load more... ")}}function M7e(t,i){t&1&&(B(0,"div",3),He(1,"div",72),U())}function I7e(t,i){t&1&&(B(0,"p",74),J(1,"No orders selected"),U())}function D7e(t,i){if(t&1&&(B(0,"span",78),J(1),U()),t&2){let e=pe().$implicit;K(),It(" (",e.code,")")}}function P7e(t,i){if(t&1&&(B(0,"span",78),J(1),U()),t&2){let e=pe().$implicit;K(),It(" (",e.loincId,")")}}function R7e(t,i){if(t&1){let e=Ye();B(0,"p",75)(1,"span"),J(2),Te(3,D7e,2,1,"span",76)(4,P7e,2,1,"span",76),U(),B(5,"mat-icon",77),we("click",function(){let n=Me(e).index,a=pe();return Ie(a.removeFromOrder(n))}),J(6,"cancel"),U()()}if(t&2){let e=i.$implicit,r=pe();K(2),It(" ",e.display," "),K(),oe("ngIf",!r.showLoincCodes),K(),oe("ngIf",r.showLoincCodes)}}function k7e(t,i){t&1&&(B(0,"p",75)(1,"i"),J(2,"Calculating specimens"),U()())}function F7e(t,i){t&1&&(B(0,"p",74),J(1,"No orders selected"),U())}function O7e(t,i){if(t&1&&(B(0,"p",75),J(1),U()),t&2){let e=i.$implicit;K(),vt(e.display)}}var Hne=(()=>{class t{constructor(e,r){this.terminologyService=e,this.clipboard=r,this.searchControl=new ar(""),this.destroy$=new mt,this.loincOrderBinding={ecl:"^ 635111010000100",title:"Lab item for order"},this.searchResults=[],this.totalResults=0,this.searching=!1,this.extending=!1,this.offset=0,this.limit=50,this.resultsEcl="",this.initializing=!0,this.filterOptions=[],this.filters=[],this.order=[],this.specimens=[],this.searchingSpecimens=!1,this.isFlipped=!1,this.fhirBundle={},this.fhirBundleStr="",this.showLoincCodes=!0,this.skeletonLoaders=Array(10),this.uuid_namespace="6ba7b810-9dad-11d1-80b4-00c04fd430c8",this.patient={resourceType:"Patient",id:"example-patient",text:{status:"generated",div:'<div xmlns="http://www.w3.org/1999/xhtml">Patient Jane Doe</div>'},identifier:[{system:"http://hospital.org/mrn",value:"1234567890"}],name:[{use:"official",family:"Doe",given:["Jane"]}],telecom:[{system:"phone",value:"123-456-7890",use:"home"},{system:"email",value:"jane@email.com",use:"home"}],birthDate:"1970-01-01",address:[{use:"home",line:["123 Main St"],city:"Anytown",country:"USA"}]}}ngOnInit(){this.searchControl.disable(),setTimeout(()=>{this.terminologyService.setSnowstormFhirBase("https://browser.loincsnomed.org/fhir"),setTimeout(()=>{this.terminologyService.setFhirUrlParam("http://snomed.info/sct/11010000107/version/20250321"),this.searchControl.enable(),this.initializing=!1,this.updateFHIRBundle()},1500)},1500),this.searchControl.valueChanges.pipe(ta(300),ji(e=>!!e&&e.length>=3),Mn(e=>{this.searching=!0,this.searchResults=[],this.filterOptions=[],this.totalResults=0,this.offset=0,this.limit=50;let r="";this.filters.forEach((h,d)=>{d==0&&(r=": "),r+=`${h.refinement} ${h.selected.code}`,d<this.filters.length-1&&(r+=", ")});let n=`(^ 635111010000100 ${r}) {{ D term = "${e}" }}`;this.resultsEcl=n;let a=`(${n}).370130000 |Property (attribute)|`,s=`(${n}).246093002 |Component (attribute)|`,o=`(${n}).370132008 |Scale type (attribute)|`,u=`(${n}).704327008 |Direct site (attribute)|`,l=`(${n}).704319004 |Inheres in (attribute)|`,c=`(${n}).246501002 |Technique (attribute)|`;return q0({mainResult:this.terminologyService.expandValueSet(n,"",0,this.limit),propertyResult:this.terminologyService.expandValueSet(a,"",0,50),componentResult:this.terminologyService.expandValueSet(s,"",0,50),scaleResult:this.terminologyService.expandValueSet(o,"",0,50),siteResult:this.terminologyService.expandValueSet(u,"",0,50),inheresResult:this.terminologyService.expandValueSet(l,"",0,50),techniqueResult:this.terminologyService.expandValueSet(c,"",0,50)})}),pi(this.destroy$)).subscribe({next:({mainResult:e,propertyResult:r,componentResult:n,scaleResult:a,siteResult:s,inheresResult:o,techniqueResult:u})=>{this.searchResults=e?.expansion?.contains||[],this.totalResults=e?.expansion?.total||0;let l={title:"Property",options:r?.expansion?.contains||[],otherOptions:[],refinement:"370130000 |Property (attribute)| = "};l.options.sort((p,g)=>p.display.localeCompare(g.display)),l.otherOptions=l.options.slice(5),l.options=l.options.slice(0,5),this.filterOptions.push(l);let c={title:"Component",options:n?.expansion?.contains||[],otherOptions:[],refinement:"246093002 |Component (attribute)| = "};c.options.sort((p,g)=>p.display.localeCompare(g.display)),c.otherOptions=c.options.slice(5),c.options=c.options.slice(0,5),this.filterOptions.push(c);let h={title:"Scale",options:a?.expansion?.contains||[],otherOptions:[],refinement:"370132008 |Scale type (attribute)| = "};h.options.sort((p,g)=>p.display.localeCompare(g.display)),h.otherOptions=h.options.slice(5),h.options=h.options.slice(0,5),this.filterOptions.push(h);let d={title:"Site",options:s?.expansion?.contains||[],otherOptions:[],refinement:"704327008 |Direct site (attribute)| = "};d.options.sort((p,g)=>p.display.localeCompare(g.display)),d.otherOptions=d.options.slice(5),d.options=d.options.slice(0,5),this.filterOptions.push(d);let f={title:"Inheres in",options:o?.expansion?.contains||[],otherOptions:[],refinement:"704319004 |Inheres in (attribute)| = "};f.options.sort((p,g)=>p.display.localeCompare(g.display)),f.otherOptions=f.options.slice(5),f.options=f.options.slice(0,5),this.filterOptions.push(f);let m={title:"Technique",options:u?.expansion?.contains||[],otherOptions:[],refinement:"246501002 |Technique (attribute)| = "};m.options.sort((p,g)=>p.display.localeCompare(g.display)),m.otherOptions=m.options.slice(5),m.options=m.options.slice(0,5),this.filterOptions.push(m),this.searching=!1},error:e=>{console.error("Search error:",e),this.searching=!1}})}loadNextPage(){this.offset=this.searchResults.length,this.extending=!0,this.terminologyService.expandValueSet(this.resultsEcl,"",this.offset,this.limit).subscribe({next:e=>{let r=e?.expansion?.contains||[];this.searchResults=[...this.searchResults,...r],this.extending=!1},error:e=>{console.error("Error loading next page:",e),this.extending=!1}})}addFilter(e,r){let n=this.filters.find(a=>a.title===e.title);n?n.selected=r:this.filters.push({title:e.title,selected:r,refinement:e.refinement}),this.searchControl.setValue(this.searchControl.value)}removeFilter(e){let r=this.filters.findIndex(n=>n.title===e.title);r>=0&&(this.filters.splice(r,1),this.searchControl.setValue(this.searchControl.value))}labItemSelected(e){console.log("labItemSelected",e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}toggleLoincCodes(){this.showLoincCodes=!this.showLoincCodes}addToOrder(e){if(this.order.find(n=>n.code===e.code))return;e.loincId="-------",this.order.push(e);let r=e.code+".(704327008 |Direct site (attribute)| OR 704319004 |Inheres in (attribute)|)";this.terminologyService.expandValueSet(r,"",0,1).subscribe({next:n=>{n?.expansion?.contains?.length>0&&(e.specimen=n?.expansion?.contains[0]),this.terminologyService.getAlternateIdentifiers(e.code).subscribe({next:a=>{e.loincId=this.getAlternateIdentifierByScheme(a,"30051010000102"),this.updateSpecimens(),this.updateFHIRBundle()}})},error:n=>{console.error("Search error:",n)}})}getAlternateIdentifierByScheme(e,r){let n=e.find(a=>a.identifierScheme?.conceptId===r);return n?n.alternateIdentifier:null}removeFromOrder(e){this.order.splice(e,1),this.updateSpecimens(),this.updateFHIRBundle()}getCurrentDate(){return new Date().toISOString().split("T")[0]}updateSpecimens(){this.specimens=[],this.order.forEach(e=>{e.specimen&&!this.specimens.find(r=>r.code===e.specimen.code)&&this.specimens.push(e.specimen)})}flipCard(){this.isFlipped=!this.isFlipped}saveFhirResource(){var e=new Blob([this.fhirBundleStr],{type:"text/plain;charset=utf-8"});(0,Une.default)(e,"request-bundle.json")}copyToClipboard(e){this.clipboard.copy(e)}updateFHIRBundle(){this.fhirBundle={resourceType:"Bundle",type:"collection",entry:[]},this.order.forEach(e=>{let r={fullUrl:"urn:uuid:"+qp(e.code,this.uuid_namespace),resource:{resourceType:"ServiceRequest",status:"draft",intent:"order",text:{status:"generated",div:'<div xmlns="http://www.w3.org/1999/xhtml">Order for '+e.display+"</div>"},code:{coding:[{system:"http://snomed.info/sct",version:this.terminologyService.getFhirUrlParam(),code:e.code,display:e.display},{system:"http://loinc.org",code:e.loincId,display:e.display}],text:e.display},specimen:[{reference:"urn:uuid:"+(e?.specimen?qp(e?.specimen?.code,this.uuid_namespace):"no-specimen")}],subject:{reference:"urn:uuid:6ba7b810-9dad-11d1-80b4-00c04fd430c8"},occurrenceDateTime:this.getCurrentDate()}};this.fhirBundle.entry.push(r)}),this.specimens.forEach(e=>{this.fhirBundle.entry.push({fullUrl:"urn:uuid:"+qp(e.code,this.uuid_namespace),resource:{resourceType:"Specimen",id:e.code,type:{coding:[{system:"http://snomed.info/sct",version:this.terminologyService.getFhirUrlParam(),code:e.code,display:e.display}],text:e.display},text:{status:"generated",div:'<div xmlns="http://www.w3.org/1999/xhtml">Specimen for '+e.display+"</div>"}}})}),this.fhirBundle.entry.push({fullUrl:"urn:uuid:6ba7b810-9dad-11d1-80b4-00c04fd430c8",resource:this.patient}),this.fhirBundleStr=JSON.stringify(this.fhirBundle,null,2)}static{this.\u0275fac=function(r){return new(r||t)(je(An),je(wf))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-loinc-order"]],standalone:!1,decls:103,vars:29,consts:[["filterOptionsMenu","matMenu"],[1,"col-container"],[1,"column","first"],[1,"w-full"],[4,"ngIf"],["matInput","","placeholder","Example: glucose...",3,"formControl"],["mode","indeterminate",4,"ngIf"],["class","mt-12 w-full flex justify-center flex-col gap-8 italic",4,"ngIf"],["class","filter-section",4,"ngIf"],[4,"ngFor","ngForOf"],["class","filter-section row-skeleton-loader",4,"ngIf"],[1,"column","second"],["class","mt-12 w-full flex justify-center",4,"ngIf"],[1,"expansion-list"],["class","text-xs italic mb-2",4,"ngIf"],["class","w-full clickable",3,"click",4,"ngFor","ngForOf"],["class","w-full",4,"ngIf"],[1,"column","third"],[1,"flip-card"],[1,"flip-card-inner"],[1,"flip-card-front"],[1,"header-row","mb-8"],[1,"lbutton"],[1,"clickable-option",3,"click"],["color","primary",3,"click","checked"],["mat-raised-button","","color","primary",1,"rbutton",3,"click"],[1,"order"],[1,"w-full","flex","flex-row","justify-between"],[1,"text-left","font-bold"],[1,"text-right"],[1,"text-left","w-full","font-bold"],[1,"text-center","w-full"],[1,"text-left","w-full"],[1,"order-line","font-bold"],["class","order-line",4,"ngIf"],["class","order-line ml-4",4,"ngFor","ngForOf"],["class","order-line ml-4",4,"ngIf"],[1,"flip-card-back"],["mat-raised-button","","color","primary",1,"lbutton",3,"click"],["id","output"],["id","save"],["mat-icon-button","","matTooltip","Download FHIR Resource",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy FHIR Resource",3,"click"],["fontIcon","content_copy"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],["mode","indeterminate"],[1,"mt-12","w-full","flex","justify-center","flex-col","gap-8","italic"],["href","http://snomed.org/loinc","target","_blank"],[1,"filter-section"],["aria-label","Filters"],["class","active-chip",4,"ngFor","ngForOf"],[1,"active-chip"],[3,"removed"],[1,"my-chip-row"],[1,"text-wrap"],["matChipRemove","",3,"click"],[3,"aria-label"],["class","filter-chip",3,"click",4,"ngFor","ngForOf"],["class","other-chip",4,"ngIf"],[1,"filter-chip",3,"click"],[1,"my-chip-row","text-wrap"],[1,"other-chip"],[3,"matMenuTriggerFor"],["mat-menu-item","",3,"disableRipple","click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click","disableRipple"],[1,"filter-section","row-skeleton-loader"],[1,"mt-12","w-full","flex","justify-center"],["src","assets/img/lab-background-transparent.png",1,"w-1/2"],[1,"text-xs","italic","mb-2"],[1,"w-full","clickable",3,"click"],["class","row-skeleton-loader",4,"ngFor","ngForOf"],[1,"row-skeleton-loader"],[1,"w-full","clickable","italic","text-xs","mt-2","p-2",3,"click"],[1,"order-line"],[1,"order-line","ml-4"],["class","text-xs italic",4,"ngIf"],[1,"text-gray-300","text-sm","cursor-pointer","hover:text-gray-700",3,"click"],[1,"text-xs","italic"]],template:function(r,n){r&1&&(B(0,"div",1)(1,"div",2)(2,"h2"),J(3,"Search"),U(),B(4,"mat-form-field",3),Te(5,c7e,2,0,"mat-label",4)(6,u7e,2,0,"mat-label",4),He(7,"input",5),Te(8,d7e,1,0,"mat-progress-bar",6),U(),Te(9,h7e,13,0,"div",7)(10,p7e,6,1,"div",8)(11,x7e,2,1,"div",9)(12,b7e,6,0,"div",10),U(),B(13,"div",11)(14,"h2"),J(15,"Orderables"),U(),Te(16,_7e,2,0,"p",4)(17,w7e,2,0,"div",12),B(18,"div",13),Te(19,C7e,2,1,"p",14),B(20,"div",3),Te(21,S7e,2,1,"div",15),U(),Te(22,E7e,2,1,"div",16)(23,A7e,3,2,"div",16)(24,M7e,2,0,"div",16),U()(),B(25,"div",17)(26,"div",18)(27,"div",19)(28,"div",20)(29,"div",21)(30,"span",22)(31,"span",23),we("click",function(){return n.toggleLoincCodes()}),J(32,"SNOMED Codes\xA0"),U(),B(33,"mat-slide-toggle",24),we("click",function(){return n.toggleLoincCodes()}),J(34," LOINC Codes "),U()(),B(35,"h2"),J(36,"Order"),U(),B(37,"button",25),we("click",function(){return n.flipCard()}),J(38," See FHIR Resources "),U()(),B(39,"div",26)(40,"div",27)(41,"p",28),J(42,"SNOMEDIANS STATE HOSPITAL"),U(),B(43,"p",29),J(44),U()(),B(45,"p",30),J(46,"========================="),U(),He(47,"BR"),B(48,"p",31),J(49,"Outpatient Laboratory Order"),U(),He(50,"br"),B(51,"p",32)(52,"b"),J(53,"Patient:"),U(),J(54," Jane Doe\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"),B(55,"b"),J(56,"Address"),U(),J(57," \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"),B(58,"b"),J(59,"Contact information"),U()(),B(60,"p",32)(61,"b"),J(62,"DOB:"),U(),J(63," 01/01/1970\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0123 Main St \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0Phone: 123-456-7890 "),U(),B(64,"p",32)(65,"b"),J(66,"MRN:"),U(),J(67),U(),He(68,"br")(69,"br"),B(70,"p",33),J(71,"LABORATORY TESTS"),U(),Te(72,I7e,2,0,"p",34)(73,R7e,7,3,"p",35),He(74,"br")(75,"br"),B(76,"p",33),J(77,"SPECIMENS REQUIRED"),U(),Te(78,k7e,3,0,"p",36)(79,F7e,2,0,"p",34)(80,O7e,2,1,"p",35),He(81,"br")(82,"br")(83,"br")(84,"br"),B(85,"p"),J(86,"Physician Signature: ___________________________"),U(),He(87,"br")(88,"br"),U()(),B(89,"div",37)(90,"div",21)(91,"h2"),J(92,"FHIR Resources"),U(),B(93,"button",38),we("click",function(){return n.flipCard()}),J(94," See clinical order "),U()(),B(95,"div",39)(96,"div",40)(97,"button",41),we("click",function(){return n.saveFhirResource()}),He(98,"mat-icon",42),U(),B(99,"button",43),we("click",function(){return n.copyToClipboard(n.fhirBundleStr)}),He(100,"mat-icon",44),U()(),B(101,"textarea",45),J(102,"                    "),U()()()()()()()),r&2&&(K(5),oe("ngIf",n.initializing),K(),oe("ngIf",!n.initializing),K(),oe("formControl",n.searchControl),K(),oe("ngIf",n.initializing),K(),oe("ngIf",!n.filters.length&&!n.searchResults.length&&!n.searching),K(),oe("ngIf",n.filters.length),K(),oe("ngForOf",n.filterOptions),K(),oe("ngIf",n.searching),K(4),oe("ngIf",!(n.searchResults!=null&&n.searchResults.length)&&!n.searching),K(),oe("ngIf",n.searchResults.length==0&&!n.searching),K(2),oe("ngIf",!n.searching&&n.totalResults>0),K(2),oe("ngForOf",n.searchResults),K(),oe("ngIf",n.searching),K(),oe("ngIf",!n.extending&&n.totalResults>n.searchResults.length),K(),oe("ngIf",n.extending),K(2),Ut("flipped",n.isFlipped),K(7),oe("checked",n.showLoincCodes),K(11),It("Date: ",n.getCurrentDate(),""),K(23),It(" 1234567890\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0Anytown, USA \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0Email: ","jane@email.com"," "),K(5),oe("ngIf",!n.order.length),K(),oe("ngForOf",n.order),K(5),oe("ngIf",n.searchingSpecimens),K(),oe("ngIf",!n.order.length),K(),oe("ngForOf",n.specimens),K(21),oe("options",Or(28,l7e))("lang","json")("innerHTML",n.fhirBundleStr,Yc))},dependencies:[qi,Xi,Cf,ln,Zn,pn,ys,Ps,ra,r0,es,xs,zo,Vs,_r,ju,zs,qm,r6,Bne,Vne],styles:[".col-container[_ngcontent-%COMP%]{display:flex;height:50%;height:calc(100vh - 200px)}.column[_ngcontent-%COMP%]{padding:20px;text-align:center;border:1px solid #ccc}.first[_ngcontent-%COMP%]{width:20%;overflow-y:auto}.second[_ngcontent-%COMP%], .third[_ngcontent-%COMP%]{width:40%;overflow-y:auto}.order[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:center;margin-top:20px;background-color:#fff;font-family:monospace;font-size:.7rem;padding:2rem;box-shadow:#ccc 0 0 10px}.order-line[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:center;justify-content:space-between;width:100%;text-align:left;margin-bottom:5px}.expansion-list[_ngcontent-%COMP%]{width:100%;display:flex;text-align:start;flex-direction:column}.my-chip-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:.7rem}.active-chip[_ngcontent-%COMP%]{background-color:#a7beec;font-weight:700}.filter-section[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:5px;padding:10px;margin-bottom:10px}.flip-card[_ngcontent-%COMP%]{perspective:1000px;position:relative}.flip-card-inner[_ngcontent-%COMP%]{width:100%;height:100%;transition:transform .6s ease;transform-style:preserve-3d;position:relative}.flip-card.flipped[_ngcontent-%COMP%]   .flip-card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.flip-card-front[_ngcontent-%COMP%], .flip-card-back[_ngcontent-%COMP%]{width:100%;height:100%;backface-visibility:hidden;position:absolute;top:0;left:0}.flip-card-back[_ngcontent-%COMP%]{transform:rotateY(180deg)}#output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;min-height:500px;text-align:left;font-size:.7rem}pre[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{width:45%;white-space:pre-wrap;word-wrap:break-word}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}#clear[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px}.header-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative}.header-row[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.header-row[_ngcontent-%COMP%]   .rbutton[_ngcontent-%COMP%]{position:absolute;right:0}.header-row[_ngcontent-%COMP%]   .lbutton[_ngcontent-%COMP%]{position:absolute;left:0}.clickable[_ngcontent-%COMP%]{cursor:pointer}.clickable[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.pill[_ngcontent-%COMP%]{background-color:#f0f0f0;border-radius:10px;padding:5px;margin:5px}.row-skeleton-loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:10px;border:1px solid #e7e7e7;border-radius:8px;margin-bottom:15px;background:linear-gradient(to right,#f0f0f0 8%,#e0e0e0 18%,#f0f0f0 33%);background-size:800px 104px;animation:_ngcontent-%COMP%_placeHolderShimmer 1.5s infinite}@keyframes _ngcontent-%COMP%_placeHolderShimmer{0%{background-position:-800px 0}to{background-position:800px 0}}.clickable-option[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.other-chip[_ngcontent-%COMP%]{background-color:#d7e8ff}"]})}}return t})();var Gne=Ro(_f());var N7e=()=>({});function B7e(t,i){if(t&1&&(B(0,"tr")(1,"td",24),J(2),U(),B(3,"td",25),J(4),U(),B(5,"td",26),J(6),U(),B(7,"td",25),J(8),U()()),t&2){let e=i.$implicit;K(),oe("matTooltip","LOINC: "+e.labConcept.coding[1].code+" SNOMED: "+e.labConcept.coding[0].code),K(),It(" ",e.labConcept.text," "),K(2),vt(e.result),K(),oe("matTooltip","SNOMED: "+e.units.code),K(),It(" ",e.units.display," "),K(2),vt(e.referenceRange)}}var jne=(()=>{class t{constructor(e){this.clipboard=e,this.isFlipped=!1,this.fhirBundle={},this.fhirBundleStr="",this.uuid_namespace="6ba7b810-9dad-11d1-80b4-00c04fd430c8",this.patient={resourceType:"Patient",id:"example-patient",text:{status:"generated",div:'<div xmlns="http://www.w3.org/1999/xhtml">Patient Jane Doe</div>'},identifier:[{system:"http://hospital.org/mrn",value:"1234567890"}],name:[{use:"official",family:"Doe",given:["Jane"]}],telecom:[{system:"phone",value:"123-456-7890",use:"home"},{system:"email",value:"jane@email.com",use:"home"}],birthDate:"1970-01-01",address:[{use:"home",line:["123 Main St"],city:"Anytown",country:"USA"}]},this.results=[{labConcept:{coding:[{system:"http://snomed.info/sct",version:"http://snomed.info/sct/11010000107",code:"277411010000101",display:"Fasting glucose [Moles/volume] in Serum or Plasma"},{system:"http://loinc.org",code:"14771-0",display:"Fasting glucose [Moles/volume] in Serum or Plasma"}],text:"Fasting glucose [Moles/volume] in Serum or Plasma"},result:"87",units:{system:"http://snomed.info/sct",code:"258797006",display:"mg/dL"},referenceRange:"65 - 125"},{labConcept:{coding:[{system:"http://snomed.info/sct",version:"http://snomed.info/sct/11010000107/version/20250321",code:"67151010000109",display:"Sodium [Moles/volume] in Venous blood"},{system:"http://loinc.org",code:"39791-9",display:"Sodium [Moles/volume] in Venous blood"}],text:"Sodium [Moles/volume] in Venous blood"},result:"140.0",units:{system:"http://snomed.info/sct",code:"258813002",display:"mmol/L"},referenceRange:"135.0 - 144.0"},{labConcept:{coding:[{system:"http://snomed.info/sct",version:"http://snomed.info/sct/11010000107/version/20250321",code:"203891010000109",display:"Potassium [Moles/volume] in Venous blood"},{system:"http://loinc.org",code:"39789-3",display:"Potassium [Moles/volume] in Venous blood"}],text:"Potassium [Moles/volume] in Venous blood"},result:"4.6",units:{system:"http://snomed.info/sct",code:"258813002",display:"mmol/L"},referenceRange:"3.6 - 5.1"},{labConcept:{coding:[{system:"http://snomed.info/sct",version:"http://snomed.info/sct/11010000107/version/20250321",code:"138321010000103",display:"Chloride [Moles/volume] in Venous blood"},{system:"http://loinc.org",code:"41649-5",display:"Chloride [Moles/volume] in Venous blood"}],text:"Chloride [Moles/volume] in Venous blood"},result:"106.0",units:{system:"http://snomed.info/sct",code:"258813002",display:"mmol/L"},referenceRange:"99.0 - 108.0"}]}ngOnInit(){this.createFhirDiagnosticReportBundle()}flipCard(){this.isFlipped=!this.isFlipped}saveFhirResource(){var e=new Blob([this.fhirBundleStr],{type:"text/plain;charset=utf-8"});(0,Gne.default)(e,"request-bundle.json")}copyToClipboard(e){this.clipboard.copy(e)}getCurrentDate(){return new Date().toISOString().split("T")[0]}createFhirDiagnosticReportBundle(){this.fhirBundle={resourceType:"Bundle",id:"example-bundle",meta:{versionId:"1",lastUpdated:new Date().toISOString()},type:"collection",entry:[]},this.results.forEach((e,r)=>{let n={fullUrl:"urn:uuid:"+qp("dr"+e.labConcept.text,this.uuid_namespace),resource:{resourceType:"DiagnosticReport",id:`dr-${r}`,status:"final",code:{coding:e.labConcept.coding,text:e.labConcept.text},effectiveDateTime:this.getCurrentDate(),subject:{reference:"urn:uuid:6ba7b810-9dad-11d1-80b4-00c04fd430c8"},result:[{reference:"urn:uuid:"+qp("ob"+e.labConcept.text,this.uuid_namespace)}]}};this.fhirBundle.entry.push(n)}),this.results.forEach((e,r)=>{let n={fullUrl:"urn:uuid:"+qp("ob"+e.labConcept.text,this.uuid_namespace),resource:{resourceType:"Observation",id:`ob-${r}`,status:"final",subject:{reference:"urn:uuid:6ba7b810-9dad-11d1-80b4-00c04fd430c8"},code:{coding:e.labConcept.coding,text:e.labConcept.text},valueQuantity:{value:parseFloat(e.result),unit:e.units.display,system:e.units.system,code:e.units.code},referenceRange:[{low:{value:parseFloat(e.referenceRange.split("-")[0].trim()),unit:e.units.display,system:e.units.system,code:e.units.code},high:{value:parseFloat(e.referenceRange.split("-")[1].trim()),unit:e.units.display,system:e.units.system,code:e.units.code}}]}};this.fhirBundle.entry.push(n)}),this.fhirBundle.entry.push({fullUrl:"urn:uuid:6ba7b810-9dad-11d1-80b4-00c04fd430c8",resource:this.patient}),this.fhirBundleStr=JSON.stringify(this.fhirBundle,null,2)}static{this.\u0275fac=function(r){return new(r||t)(je(wf))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-loinc-results"]],standalone:!1,decls:71,vars:11,consts:[[1,"main-container"],[1,"flip-card"],[1,"flip-card-inner"],[1,"flip-card-front"],[1,"header-row","mb-8"],["mat-raised-button","","color","primary",1,"rbutton",3,"click"],[1,"result"],[1,"w-full","flex","flex-row","justify-between"],["src","assets/img/lab-logo.png","alt","SNOMEDians Logo",1,"logo"],[1,"font-bold","text-3xl"],[1,"text-right"],[1,"text-left","w-full"],[1,"result-line","font-bold"],[1,"result-table"],[4,"ngFor","ngForOf"],[1,"flip-card-back"],["mat-raised-button","","color","primary",1,"lbutton",3,"click"],["id","output"],["id","save"],["mat-icon-button","","matTooltip","Download FHIR Resource",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy FHIR Resource",3,"click"],["fontIcon","content_copy"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],[1,"pl-2",3,"matTooltip"],[1,"text-right","pr-4"],[1,"text-right","pr-4",3,"matTooltip"]],template:function(r,n){r&1&&(B(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),J(6,"Laboratory Results using the LOINC Ontology"),U(),B(7,"button",5),we("click",function(){return n.flipCard()}),J(8," See FHIR Resources "),U()(),B(9,"div",6)(10,"div",7),He(11,"img",8),B(12,"p",9),J(13,"LABORATORY REPORT"),U(),B(14,"p",10),J(15),U()(),He(16,"br"),B(17,"p",11)(18,"b"),J(19,"Patient:"),U(),J(20," Jane Doe \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0 "),B(21,"b"),J(22,"Address"),U(),J(23," \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0 "),B(24,"b"),J(25,"Contact information"),U()(),B(26,"p",11)(27,"b"),J(28,"DOB:"),U(),J(29),U(),B(30,"p",11)(31,"b"),J(32,"MRN:"),U(),J(33),U(),He(34,"br")(35,"br"),B(36,"p",12),J(37,"RESULTS"),U(),B(38,"table",13)(39,"tr")(40,"th"),J(41,"Test"),U(),B(42,"th"),J(43,"Result"),U(),B(44,"th"),J(45,"Units"),U(),B(46,"th"),J(47,"Reference Range"),U()(),Te(48,B7e,9,6,"tr",14),U(),He(49,"br")(50,"br")(51,"br")(52,"br"),B(53,"p"),J(54,"Laboratory Signature: ___________________________"),U(),He(55,"br")(56,"br"),U()(),B(57,"div",15)(58,"div",4)(59,"h2"),J(60,"FHIR Resources"),U(),B(61,"button",16),we("click",function(){return n.flipCard()}),J(62," See clinical report "),U()(),B(63,"div",17)(64,"div",18)(65,"button",19),we("click",function(){return n.saveFhirResource()}),He(66,"mat-icon",20),U(),B(67,"button",21),we("click",function(){return n.copyToClipboard(n.fhirBundleStr)}),He(68,"mat-icon",22),U()(),B(69,"textarea",23),J(70,"                "),U()()()()()()),r&2&&(K(),Ut("flipped",n.isFlipped),K(14),vt(n.getCurrentDate()),K(14),It(" 01/01/1970 \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0 123 Main St \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0 Phone: 123-456-7890 \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0 Date performed: ",n.getCurrentDate()," "),K(4),Dr(" 1234567890 \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0 Anytown, USA \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0 Email: ","jane@email.com"," \xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0 Date collected: ",n.getCurrentDate()," "),K(15),oe("ngForOf",n.results),K(21),oe("options",Or(10,N7e))("lang","json")("innerHTML",n.fhirBundleStr,Yc))},dependencies:[qi,Cf,ln,Zn,pn,zs],styles:[".main-container[_ngcontent-%COMP%]{display:flex;width:100%;height:calc(100vh - 200px);justify-content:center;margin-top:2rem}.result[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:center;margin-top:20px;background-color:#fff;font-family:monospace;font-size:.7rem;padding:2rem;box-shadow:#ccc 0 0 10px}.result-line[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:center;justify-content:space-between;width:100%;text-align:left;margin-bottom:5px}.flip-card[_ngcontent-%COMP%]{perspective:1000px;position:relative;width:1024px}.flip-card-inner[_ngcontent-%COMP%]{width:100%;height:100%;transition:transform .6s ease;transform-style:preserve-3d;position:relative}.flip-card.flipped[_ngcontent-%COMP%]   .flip-card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.flip-card-front[_ngcontent-%COMP%], .flip-card-back[_ngcontent-%COMP%]{width:100%;height:100%;backface-visibility:hidden;position:absolute;top:0;left:0}.flip-card-back[_ngcontent-%COMP%]{transform:rotateY(180deg)}#output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;min-height:500px;text-align:left;font-size:.7rem}pre[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{width:45%;white-space:pre-wrap;word-wrap:break-word}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}#clear[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px}.header-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative}.header-row[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.header-row[_ngcontent-%COMP%]   .rbutton[_ngcontent-%COMP%]{position:absolute;right:0}.header-row[_ngcontent-%COMP%]   .lbutton[_ngcontent-%COMP%]{position:absolute;left:0}.clickable[_ngcontent-%COMP%]{cursor:pointer}.clickable[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.logo[_ngcontent-%COMP%]{width:180px}.result-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ccc}.result-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;border-right:1px solid #ccc}.result-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none}.result-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-right:1px solid #ccc}.result-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}"]})}}return t})();var Wne=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-loinc-main"]],standalone:!1,decls:8,vars:0,consts:[[1,"container"],[1,"tab-group"],["label","Order"],["label","Results"]],template:function(r,n){r&1&&(B(0,"div",0)(1,"h2"),J(2,"LOINC Ontology Demonstrator"),U(),B(3,"mat-tab-group",1)(4,"mat-tab",2),He(5,"app-loinc-order"),U(),B(6,"mat-tab",3),He(7,"app-loinc-results"),U()()())},dependencies:[Xu,kl,Hne,jne],styles:[".container[_ngcontent-%COMP%]{padding:1rem;width:100%;min-width:100%}"]})}}return t})();var Ku=Ro(DN());var KI=["*"],z7e=["content"],U7e=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],H7e=["mat-drawer","mat-drawer-content","*"];function G7e(t,i){if(t&1){let e=Ye();B(0,"div",1),we("click",function(){Me(e);let n=pe();return Ie(n._onBackdropClicked())}),U()}if(t&2){let e=pe();Ut("mat-drawer-shown",e._isShowingBackdrop())}}function j7e(t,i){t&1&&(B(0,"mat-drawer-content"),$t(1,2),U())}var W7e=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],X7e=["mat-sidenav","mat-sidenav-content","*"];function Y7e(t,i){if(t&1){let e=Ye();B(0,"div",1),we("click",function(){Me(e);let n=pe();return Ie(n._onBackdropClicked())}),U()}if(t&2){let e=pe();Ut("mat-drawer-shown",e._isShowingBackdrop())}}function $7e(t,i){t&1&&(B(0,"mat-sidenav-content"),$t(1,2),U())}var Q7e=".mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}";var K7e=new tt("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Z7e}),s6=new tt("MAT_DRAWER_CONTAINER");function Z7e(){return!1}var $I=(()=>{class t extends _h{_platform=le(In);_changeDetectorRef=le(ki);_container=le(f2);constructor(){let e=le(Pt),r=le(yf),n=le(ri);super(e,r,n)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:r}=this._container;return e!=null&&e.mode!=="over"&&e.opened||r!=null&&r.mode!=="over"&&r.opened}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(r,n){r&2&&(Fr("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px"),Ut("mat-drawer-content-hidden",n._shouldBeHidden()))},features:[_i([{provide:_h,useExisting:t}]),Ai],ngContentSelectors:KI,decls:1,vars:0,template:function(r,n){r&1&&(zi(),$t(0))},encapsulation:2,changeDetection:0})}return t})(),h2=(()=>{class t{_elementRef=le(Pt);_focusTrapFactory=le(lE);_focusMonitor=le(ha);_platform=le(In);_ngZone=le(ri);_renderer=le(Qn);_interactivityChecker=le(__);_doc=le(Di,{optional:!0});_container=le(s6,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Xs(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=Xs(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened}set opened(e){this.toggle(Xs(e))}_opened=!1;_openedVia;_animationStarted=new mt;_animationEnd=new mt;openedChange=new Tt(!0);_openedStream=this.openedChange.pipe(ji(e=>e),si(()=>{}));openedStart=this._animationStarted.pipe(ji(()=>this.opened),qv(void 0));_closedStream=this.openedChange.pipe(ji(e=>!e),si(()=>{}));closedStart=this._animationStarted.pipe(ji(()=>!this.opened),qv(void 0));_destroyed=new mt;onPositionChanged=new Tt;_content;_modeChanged=new mt;_injector=le(Wi);_changeDetectorRef=le(ki);constructor(){this.openedChange.pipe(pi(this._destroyed)).subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;gb(e,"keydown").pipe(ji(r=>r.keyCode===27&&!this.disableClose&&!Is(r)),pi(this._destroyed)).subscribe(r=>this._ngZone.run(()=>{this.close(),r.stopPropagation(),r.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this._opened)})}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{a(),s(),e.removeAttribute("tabindex")},a=this._renderer.listen(e,"blur",n),s=this._renderer.listen(e,"mousedown",n)})),e.focus(r)}_focusByCssSelector(e,r){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,r)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":ls(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,r){e&&r&&(this._openedVia=r);let n=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),n}_setOpen(e,r,n){return e===this._opened?Promise.resolve(e?"open":"close"):(this._opened=e,this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&r&&this._restoreFocus(n),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(fr(1)).subscribe(s=>a(s?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let r=this._elementRef.nativeElement,n=r.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),n.insertBefore(this._anchor,r)),n.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}_handleTransitionEvent=e=>{let r=this._elementRef.nativeElement;e.target===r&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-drawer"]],viewQuery:function(r,n){if(r&1&&Jt(z7e,5),r&2){let a;yt(a=xt())&&(n._content=a.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:11,hostBindings:function(r,n){r&2&&(ti("align",null),Fr("visibility",!n._container&&!n.opened?"hidden":null),Ut("mat-drawer-end",n.position==="end")("mat-drawer-over",n.mode==="over")("mat-drawer-push",n.mode==="push")("mat-drawer-side",n.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:KI,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(r,n){r&1&&(zi(),B(0,"div",1,0),$t(2),U())},dependencies:[_h],encapsulation:2,changeDetection:0})}return t})(),f2=(()=>{class t{_dir=le(qr,{optional:!0});_element=le(Pt);_ngZone=le(ri);_changeDetectorRef=le(ki);_animationMode=le(Un,{optional:!0});_transitionsEnabled=!1;_allDrawers;_drawers=new bc;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Xs(e)}_autosize=le(K7e);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:Xs(e)}_backdropOverride;backdropClick=new Tt;_start;_end;_left;_right;_destroyed=new mt;_doCheckSubject=new mt;_contentMargins={left:null,right:null};_contentMarginChanges=new mt;get scrollable(){return this._userContent||this._content}_injector=le(Wi);constructor(){let e=le(In),r=le(Bo);this._dir?.change.pipe(pi(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),r.change().pipe(pi(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._animationMode!=="NoopAnimations"&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Bn(this._allDrawers),pi(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Bn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(ta(10),pi(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let n=this._left._getWidth();e+=n,r-=n}}if(this._right&&this._right.opened){if(this._right.mode=="side")r+=this._right._getWidth();else if(this._right.mode=="push"){let n=this._right._getWidth();r+=n,e-=n}}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(pi(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(pi(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(pi(this._drawers.changes)).subscribe(()=>{ls({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(pi($n(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let r=this._element.nativeElement.classList,n="mat-drawer-container-has-open";e?r.add(n):r.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(r,n,a){if(r&1&&(Fi(a,$I,5),Fi(a,h2,5)),r&2){let s;yt(s=xt())&&(n._content=s.first),yt(s=xt())&&(n._allDrawers=s)}},viewQuery:function(r,n){if(r&1&&Jt($I,5),r&2){let a;yt(a=xt())&&(n._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(r,n){r&2&&Ut("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[_i([{provide:s6,useExisting:t}])],ngContentSelectors:H7e,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,n){r&1&&(zi(U7e),Te(0,G7e,1,2,"div",0),$t(1),$t(2,1),Te(3,j7e,2,0,"mat-drawer-content")),r&2&&(Zi(n.hasBackdrop?0:-1),K(3),Zi(n._content?-1:3))},dependencies:[$I],styles:[".mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}"],encapsulation:2,changeDetection:0})}return t})(),QI=(()=>{class t extends $I{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275cmp=Ke({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[_i([{provide:_h,useExisting:t}]),Ai],ngContentSelectors:KI,decls:1,vars:0,template:function(r,n){r&1&&(zi(),$t(0))},encapsulation:2,changeDetection:0})}return t})(),a6=(()=>{class t extends h2{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Xs(e)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Lo(e)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Lo(e)}_fixedBottomGap=0;static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275cmp=Ke({type:t,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:15,hostBindings:function(r,n){r&2&&(ti("align",null),Fr("top",n.fixedInViewport?n.fixedTopGap:null,"px")("bottom",n.fixedInViewport?n.fixedBottomGap:null,"px"),Ut("mat-drawer-end",n.position==="end")("mat-drawer-over",n.mode==="over")("mat-drawer-push",n.mode==="push")("mat-drawer-side",n.mode==="side")("mat-sidenav-fixed",n.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[_i([{provide:h2,useExisting:t}]),Ai],ngContentSelectors:KI,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(r,n){r&1&&(zi(),B(0,"div",1,0),$t(2),U())},dependencies:[_h],encapsulation:2,changeDetection:0})}return t})(),Xne=(()=>{class t extends f2{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275cmp=Ke({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(r,n,a){if(r&1&&(Fi(a,QI,5),Fi(a,a6,5)),r&2){let s;yt(s=xt())&&(n._content=s.first),yt(s=xt())&&(n._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(r,n){r&2&&Ut("mat-drawer-container-explicit-backdrop",n._backdropOverride)},exportAs:["matSidenavContainer"],features:[_i([{provide:s6,useExisting:t},{provide:f2,useExisting:t}]),Ai],ngContentSelectors:X7e,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,n){r&1&&(zi(W7e),Te(0,Y7e,1,2,"div",0),$t(1),$t(2,1),Te(3,$7e,2,0,"mat-sidenav-content")),r&2&&(Zi(n.hasBackdrop?0:-1),K(3),Zi(n._content?-1:3))},dependencies:[QI],styles:[Q7e],encapsulation:2,changeDetection:0})}return t})(),Yne=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si,Cc,Cc,Si]})}return t})();var J7e=["canvas"],q7e=["rLabel"],eVe=["reading"],tVe=[[["ngx-gauge-prepend"]],[["ngx-gauge-value"]],[["ngx-gauge-append"]],[["ngx-gauge-label"]]],iVe=["ngx-gauge-prepend","ngx-gauge-value","ngx-gauge-append","ngx-gauge-label"];function nVe(t,i){t&1&&$t(0,0,["*ngSwitchCase","true"])}function rVe(t,i){if(t&1&&(Ni(0),J(1),Bi()),t&2){let e=pe();K(),vt(e.prepend)}}function sVe(t,i){t&1&&$t(0,1,["*ngSwitchCase","true"])}function aVe(t,i){if(t&1&&(Ni(0),J(1),pr(2,"number"),Bi()),t&2){let e=pe();K(),vt(Da(2,1,e.value))}}function oVe(t,i){t&1&&$t(0,2,["*ngSwitchCase","true"])}function lVe(t,i){if(t&1&&(Ni(0),J(1),Bi()),t&2){let e=pe();K(),vt(e.append)}}function cVe(t,i){t&1&&$t(0,3,["*ngSwitchCase","true"])}function uVe(t,i){if(t&1&&(Ni(0),J(1),Bi()),t&2){let e=pe();K(),vt(e.label)}}function Qne(t,i,e){return Math.max(i,Math.min(e,t))}function dVe(t){return t!=null&&`${t}`!="false"}function p2(t,i=0){return isNaN(parseFloat(t))||isNaN(Number(t))?i:Number(t)}function Kne(t){return`${t}px`}function Zne(t){return t!=null&&!isNaN(parseFloat(t))&&!isNaN(Number(t))}var hVe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=_t({type:t,selectors:[["ngx-gauge-append"]],exportAs:["ngxGaugeAppend"],standalone:!1})}}return t})(),fVe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=_t({type:t,selectors:[["ngx-gauge-prepend"]],exportAs:["ngxGaugePrepend"],standalone:!1})}}return t})(),pVe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=_t({type:t,selectors:[["ngx-gauge-value"]],exportAs:["ngxGaugeValue"],standalone:!1})}}return t})(),mVe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=_t({type:t,selectors:[["ngx-gauge-label"]],exportAs:["ngxGaugeLabel"],standalone:!1})}}return t})(),Wf={MIN:0,MAX:100,TYPE:"arch",THICK:4,FOREGROUND_COLOR:"rgba(0, 150, 136, 1)",BACKGROUND_COLOR:"rgba(0, 0, 0, 0.1)",CAP:"butt",SIZE:200},Jne=(()=>{class t{get size(){return this._size}set size(e){this._size=p2(e)}get margin(){return this._margin}set margin(e){this._margin=p2(e)}get min(){return this._min}set min(e){this._min=p2(e,Wf.MIN)}get animate(){return this._animate}set animate(e){this._animate=dVe(e)}get max(){return this._max}set max(e){this._max=p2(e,Wf.MAX)}get value(){return this._value}set value(e){this._value=p2(e)}constructor(e,r){this._elementRef=e,this._renderer=r,this._size=Wf.SIZE,this._min=Wf.MIN,this._max=Wf.MAX,this._animate=!0,this._margin=0,this._initialized=!1,this._animationRequestID=0,this.ariaLabel="",this.ariaLabelledby=null,this.type=Wf.TYPE,this.cap=Wf.CAP,this.thick=Wf.THICK,this.foregroundColor=Wf.FOREGROUND_COLOR,this.backgroundColor=Wf.BACKGROUND_COLOR,this.thresholds=Object.create(null),this.markers=Object.create(null),this._value=0,this.duration=1200}ngOnInit(){this.markers&&Object.keys(this.markers).length>0&&!this._margin&&(this._margin=10)}ngOnChanges(e){let r=e.thick||e.type||e.cap||e.size,n=e.value||e.min||e.max;if(this._initialized){if(n){let a;if(e.value){a=Number(e.value.currentValue),a=isNaN(a)?0:a;let s=Number(e.value.previousValue);this._oldChangeVal=isNaN(s)?this._oldChangeVal:s}this._update(a,this._oldChangeVal)}r&&(this._destroy(),this._init())}}_updateSize(){this._renderer.setStyle(this._elementRef.nativeElement,"width",Kne(this._getWidth())),this._renderer.setStyle(this._elementRef.nativeElement,"height",Kne(this._getCanvasHeight())),this._canvas.nativeElement.width=this._getWidth(),this._canvas.nativeElement.height=this._getCanvasHeight(),this._renderer.setStyle(this._label.nativeElement,"transform","translateY("+(this.size/3*2-this.size/13/4)+"px)"),this._renderer.setStyle(this._reading.nativeElement,"transform","translateY("+(this.size/2-this.size*.22/2)+"px)")}ngAfterViewInit(){this._canvas&&this._init()}ngOnDestroy(){this._destroy()}_getBounds(e){let r,n,a,s;return e=="semi"?(r=Math.PI,n=2*Math.PI,a=180,s=360):e=="full"?(r=1.5*Math.PI,n=3.5*Math.PI,a=270,s=a+360):e==="arch"&&(r=.8*Math.PI,n=2.2*Math.PI,a=180-.2*180,s=360+.2*180),{head:r,tail:n,start:a,end:s}}_drawShell(e,r,n,a){let s=this._getCenter(),o=this._getRadius();if(this._initialized){this._clear(),this._drawMarkersAndTicks();let u=this._getBackgroundColorRanges();if(this._context.lineWidth=this.thick,u&&u.length>0){this._context.lineCap="butt";for(let l=0;l<u.length;++l){let c=u[l];this._context.beginPath(),this._context.strokeStyle=c.backgroundColor?c.backgroundColor:c.bgOpacity?c.color:this.backgroundColor,c.bgOpacity!==void 0&&c.bgOpacity!==null&&(this._context.globalAlpha=c.bgOpacity),this._context.arc(s.x,s.y,o,this._getDisplacement(c.start),this._getDisplacement(c.end),!1),this._context.stroke(),this._context.globalAlpha=1}}else this._context.lineCap=this.cap,this._context.beginPath(),this._context.strokeStyle=this.backgroundColor,this._context.arc(s.x,s.y,o,e,n,!1),this._context.stroke();this._drawFill(e,r,n,a)}}_drawFill(e,r,n,a){let s=this._getCenter(),o=this._getRadius();this._context.lineCap=this.cap,this._context.lineWidth=this.thick,r=Math.max(r,e),r=Math.min(r,n),this._context.lineCap=this.cap,this._context.lineWidth=this.thick,this._context.beginPath(),this._context.strokeStyle=a,this._context.arc(s.x,s.y,o,e,r,!1),this._context.stroke()}_addMarker(e,r,n,a,s,o){var u=e*Math.PI/180;let l=2;s||(s=8),a||(a="line");let c=this._getCenter(),h=this._getRadius(),d=(h+this.thick/2+l)*Math.cos(u)+c.x,f=(h+this.thick/2+l)*Math.sin(u)+c.y,m=(h+this.thick/2+l+s)*Math.cos(u)+c.x,p=(h+this.thick/2+l+s)*Math.sin(u)+c.y;if(a=="triangle"){this._context.beginPath(),this._context.strokeStyle=r,this._context.moveTo(d,f),this._context.lineWidth=1;let g=e-45,v=e+45;g<0&&(g+=360),g>360&&(g-=360),v<0&&(v+=360),v>360&&(v-=360);let y=g*Math.PI/180,x=s*Math.cos(y)+d,b=s*Math.sin(y)+f;this._context.lineTo(x,b);let w=v*Math.PI/180,C=s*Math.cos(w)+d,_=s*Math.sin(w)+f;this._context.lineTo(C,_),this._context.lineTo(d,f),this._context.closePath(),this._context.stroke(),this._context.fillStyle=r,this._context.fill()}else this._context.beginPath(),this._context.lineWidth=.5,this._context.strokeStyle=r,this._context.moveTo(d,f),this._context.lineTo(m,p),this._context.closePath(),this._context.stroke();n&&(this._context.save(),this._context.translate(m,p),this._context.rotate((e+90)*(Math.PI/180)),this._context.textAlign="center",this._context.font=o||"13px Arial",this._context.fillText(n,0,-3),this._context.restore())}_clear(){this._context.clearRect(0,0,this._getWidth(),this._getHeight())}_getWidth(){return this.size}_getHeight(){return this.size}_getCanvasHeight(){return this.type=="arch"||this.type=="semi"?.85*this._getHeight():this._getHeight()}_getRadius(){var r=this._getCenter().x-this.thick;return this._margin>0&&(r-=this._margin),r}_getCenter(){var e=this._getWidth()/2,r=this._getHeight()/2;return{x:e,y:r}}_init(){this._context=this._canvas.nativeElement.getContext("2d"),this._initialized=!0,this._updateSize(),this._create()}_destroy(){this._animationRequestID&&(window.cancelAnimationFrame(this._animationRequestID),this._animationRequestID=0),this._clear(),this._context=null,this._initialized=!1}_getForegroundColorByRange(e){let r=this._getThresholdMatchForValue(e);return r&&r.color?r.color:this.foregroundColor}_getThresholdMatchForValue(e){let r=Object.keys(this.thresholds).filter(function(n){return Zne(n)&&Number(n)<=e}).sort((n,a)=>Number(n)-Number(a)).reverse()[0];if(r!==void 0){let n=this.thresholds[r];return{color:n.color,backgroundColor:n.backgroundColor,bgOpacity:n.bgOpacity,start:Number(r),end:this._getNextThreshold(Number(r))}}}_getNextThreshold(e){let r=Object.keys(this.thresholds).filter(function(n){return Zne(n)&&Number(n)>e}).sort((n,a)=>Number(n)-Number(a));return r&&r[0]!==void 0?Number(r[0]):this.max}_getBackgroundColorRanges(){let e=0,r=[];do{let n=this._getThresholdMatchForValue(e);if(n){if(r.push({start:n.start,end:n.end,color:n.color,backgroundColor:n.backgroundColor,bgOpacity:n.bgOpacity}),e=n.end,e>=this.max)break}else break}while(!0);return r}_getDisplacement(e){let r=this.type,n=this._getBounds(r),a=this.min,s=this.max,o=n.head,u=Qne(e,this.min,this.max),l=(n.tail-n.head)/(s-a),c=l*(u-a);return o+c}_create(e,r){let n=this,a=this.type,s=this._getBounds(a),o=this.duration,u=this.min,l=this.max,c=Qne(this.value,u,l),h=s.head,d=(s.tail-s.head)/(l-u),f=d*(c-u),m=s.tail,p=this._getForegroundColorByRange(c),g;n._animationRequestID&&window.cancelAnimationFrame(n._animationRequestID);let v=y=>{y=y||new Date().getTime();let x=y-g,b=Math.min(x/o,1),w=r?(r-u)*d:0,C=h+w+f*b;n._drawShell(h,C,m,p),n._animationRequestID&&x<o?n._animationRequestID=window.requestAnimationFrame(_=>v(_)):window.cancelAnimationFrame(n._animationRequestID)};this._animate?(e!==void 0&&r!==void 0&&r!==0&&(f=d*e-d*r),n._animationRequestID=window.requestAnimationFrame(y=>{g=y||new Date().getTime(),v(g)})):n._drawShell(h,h+f,m,p)}_drawMarkersAndTicks(){if(this.markers){let e=this._getBounds(this.type),n=(e.end-e.start)/(this.max-this.min);for(let a in this.markers){let s=Number(a)-this.min,o=e.start+s*n,u=this.markers[a];this._addMarker(o,u.color,u.label,u.type,u.size,u.font)}}}_update(e,r){this._clear(),this._create(e,r)}static{this.\u0275fac=function(r){return new(r||t)(je(Pt),je(Qn))}}static{this.\u0275cmp=Ke({type:t,selectors:[["ngx-gauge"]],contentQueries:function(r,n,a){if(r&1&&(Fi(a,mVe,5),Fi(a,fVe,5),Fi(a,hVe,5),Fi(a,pVe,5)),r&2){let s;yt(s=xt())&&(n._labelChild=s.first),yt(s=xt())&&(n._prependChild=s.first),yt(s=xt())&&(n._appendChild=s.first),yt(s=xt())&&(n._valueDisplayChild=s.first)}},viewQuery:function(r,n){if(r&1&&(Jt(J7e,7),Jt(q7e,7),Jt(eVe,7)),r&2){let a;yt(a=xt())&&(n._canvas=a.first),yt(a=xt())&&(n._label=a.first),yt(a=xt())&&(n._reading=a.first)}},hostAttrs:["role","slider","aria-readonly","true"],hostVars:7,hostBindings:function(r,n){r&2&&(ti("aria-valuemin",n.min)("aria-valuemax",n.max)("aria-valuenow",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby),Ut("ngx-gauge-meter",!0))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],size:"size",margin:"margin",min:"min",animate:"animate",max:"max",type:"type",cap:"cap",thick:"thick",label:"label",append:"append",prepend:"prepend",foregroundColor:"foregroundColor",backgroundColor:"backgroundColor",thresholds:"thresholds",markers:"markers",value:"value",duration:"duration"},standalone:!1,features:[Ki],ngContentSelectors:iVe,decls:17,vars:16,consts:[["reading",""],["rLabel",""],["canvas",""],[1,"reading-block"],[1,"reading-affix",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngSwitch"],[1,"reading-label",3,"ngSwitch"]],template:function(r,n){r&1&&(zi(tVe),B(0,"div",3,0)(2,"u",4),Te(3,nVe,1,0,"ng-content",5)(4,rVe,2,1,"ng-container",5),U(),Ni(5,6),Te(6,sVe,1,0,"ng-content",5)(7,aVe,3,3,"ng-container",5),Bi(),B(8,"u",4),Te(9,oVe,1,0,"ng-content",5)(10,lVe,2,1,"ng-container",5),U()(),B(11,"div",7,1),Te(13,cVe,1,0,"ng-content",5)(14,uVe,2,1,"ng-container",5),U(),He(15,"canvas",null,2)),r&2&&(Fr("font-size",(n.size-n.margin*2)*.22+"px"),K(2),oe("ngSwitch",n._prependChild!=null),K(),oe("ngSwitchCase",!0),K(),oe("ngSwitchCase",!1),K(),oe("ngSwitch",n._valueDisplayChild!=null),K(),oe("ngSwitchCase",!0),K(),oe("ngSwitchCase",!1),K(),oe("ngSwitch",n._appendChild!=null),K(),oe("ngSwitchCase",!0),K(),oe("ngSwitchCase",!1),K(),Fr("font-size",(n.size-n.margin*2)/13+"px"),oe("ngSwitch",n._labelChild!=null),K(2),oe("ngSwitchCase",!0),K(),oe("ngSwitchCase",!1))},dependencies:[bk,eH,yT],styles:[`.ngx-gauge-meter{display:inline-block;text-align:center;position:relative}.reading-block{position:absolute;width:100%;font-weight:400;white-space:nowrap;text-align:center;overflow:hidden;text-overflow:ellipsis}.reading-label{font-family:inherit;width:100%;display:inline-block;position:absolute;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:400}.reading-affix{text-decoration:none;font-size:.6em;opacity:.8;font-weight:200;padding:0 .18em}.reading-affix:first-child{padding-left:0}.reading-affix:last-child{padding-right:0}
`],encapsulation:2})}}return t})(),qne=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=jt({type:t})}static{this.\u0275inj=Gt({imports:[Dy]})}}return t})();var vVe=["radarCanvas"],yVe=["overallScoreCanvas"];function xVe(t,i){if(t&1){let e=Ye();B(0,"div",17)(1,"input",18,1),we("change",function(n){Me(e);let a=pe();return Ie(a.onFilesSelected(n))}),U(),B(3,"input",19,2),we("change",function(n){Me(e);let a=pe();return Ie(a.onFilesSelected(n))}),U(),B(5,"button",20),we("click",function(){Me(e);let n=hi(2);return Ie(n.click())}),J(6," Load maturity assessment results (JSON Files) "),U(),B(7,"button",20),we("click",function(){Me(e);let n=hi(4);return Ie(n.click())}),J(8," Load maturity assessment results (Folder) "),U(),B(9,"button",20),we("click",function(){Me(e);let n=pe();return Ie(n.loadExamples())}),J(10," Load example results "),U()()}}function bVe(t,i){t&1&&(B(0,"div",21),He(1,"img",22),U())}function _Ve(t,i){if(t&1&&(B(0,"div",23)(1,"div",24),J(2),U(),B(3,"div",24),J(4),U(),B(5,"div",24),J(6),U(),B(7,"div",24),J(8),U()()),t&2){let e=pe();K(2),It(" ",e.uploadedData.length," assessments loaded "),K(2),It(" Stakeholders: ",e.uploadedData[0].stakeHolderName," "),K(2),It(" Average Score: ",e.overallScore," "),K(2),It(" Average Level: ",e.level," ")}}function wVe(t,i){if(t&1&&(B(0,"div",25)(1,"div",26),He(2,"div",27),U(),B(3,"div",28),He(4,"ngx-gauge",29),B(5,"h2"),J(6," Overall Maturity Score "),U()()()),t&2){let e=pe();K(4),oe("min",1)("max",5)("value",e.overallScore)("cap","round")("thick",35)("size",400)("markers",e.markers)("foregroundColor",e.getScoreColor(e.overallScore))("backgroundColor","#eeeeee")}}function CVe(t,i){t&1&&(B(0,"div",25)(1,"div",30),He(2,"canvas",null,3),U(),B(4,"div",30),He(5,"canvas",null,4),U()())}function SVe(t,i){t&1&&(B(0,"h2"),J(1,"Summary of Maturity Assessment Data"),U())}function TVe(t,i){if(t&1&&(B(0,"tr")(1,"td"),J(2),U(),B(3,"td"),J(4),U(),B(5,"td"),J(6),U(),B(7,"td"),J(8),U()()),t&2){let e=i.$implicit;K(2),vt(e.stakeHolderName),K(2),vt(e.name),K(2),Dr("",e.overallScore," - ",e.level,""),K(2),vt(e.location!=null&&e.location.label?e.location==null?null:e.location.label:"No location information")}}function EVe(t,i){if(t&1&&(B(0,"table",35)(1,"thead")(2,"tr")(3,"th"),J(4,"Stakeholder Type"),U(),B(5,"th"),J(6,"StakeHolder Name"),U(),B(7,"th"),J(8,"Maturity Score"),U(),B(9,"th"),J(10,"Location"),U()()(),B(11,"tbody"),Te(12,TVe,9,5,"tr",36),U()()),t&2){let e=pe(2);K(12),oe("ngForOf",e.uploadedData)}}function AVe(t,i){if(t&1&&(B(0,"div",31)(1,"div",32),Te(2,SVe,2,0,"h2",33)(3,EVe,13,1,"table",34),U()()),t&2){let e=pe();K(2),oe("ngIf",e.uploadedData.length!=0),K(),oe("ngIf",e.uploadedData.length!=0)}}function MVe(t,i){if(t&1){let e=Ye();B(0,"button",20),we("click",function(){Me(e);let n=pe();return Ie(n.reset())}),J(1," Reset dashboard "),U()}}var ere=(()=>{class t{constructor(e){this._snackBar=e,this.uploadedData=[],this.kpasNames={},this.totalFilesCount=0,this.filesReadCount=0,this.opened=!1,this.overallScore=0,this.level="",this.markers={1:{color:"#555",type:"triangle",size:8,label:"Basic",font:"12px arial"},2:{color:"#555",type:"triangle",size:8,label:"Emerging",font:"12px arial"},3:{color:"#555",type:"triangle",size:8,label:"Advanced",font:"12px arial"},4:{color:"#555",type:"triangle",size:8,label:"Integrated",font:"12px arial"},5:{color:"#555",type:"triangle",size:8,label:"Optimizing",font:"12px arial"}},this.colorPalette=[{bg:"rgba(22, 160, 133, 0.3)",border:"rgba(22, 160, 133, 1)"},{bg:"rgba(142, 68, 173, 0.3)",border:"rgba(142, 68, 173, 1)"},{bg:"rgba(230, 126, 34, 0.3)",border:"rgba(230, 126, 34, 1)"},{bg:"rgba(192, 57, 43, 0.3)",border:"rgba(192, 57, 43, 1)"},{bg:"rgba(41, 128, 185, 0.3)",border:"rgba(41, 128, 185, 1)"},{bg:"rgba(39, 174, 96, 0.3)",border:"rgba(39, 174, 96, 1)"},{bg:"rgba(127, 140, 141, 0.3)",border:"rgba(127, 140, 141, 1)"},{bg:"rgba(44, 62, 80, 0.3)",border:"rgba(44, 62, 80, 1)"}]}ngAfterViewInit(){}reset(){window.location.reload()}loadExamples(){let e=["assets/maturity/dashboard-examples/maturity-assessment-results (9).json","assets/maturity/dashboard-examples/maturity-assessment-results (10).json","assets/maturity/dashboard-examples/maturity-assessment-results (11).json"];this.uploadedData=[],this.kpasNames={},this.totalFilesCount=e.length,this.filesReadCount=0;for(let r of e)this.readJSONFileFromUrl(r)}readJSONFileFromUrl(e){fetch(e).then(r=>{if(!r.ok)throw new Error(`Error fetching file: ${r.statusText}`);return r.json()}).then(r=>{this.uploadedData.push(r),this.filesReadCount++,this.filesReadCount===this.totalFilesCount&&(this._snackBar.openFromComponent(kn,{duration:5*1e3,data:`${this.totalFilesCount} assessment files have been imported`,panelClass:["red-snackbar"]}),this.verifyFiles(),this.processData())}).catch(r=>{console.error("Error parsing JSON file:",e,r)})}initMap(){this.map=Ku.map("map").setView([20,0],2),Ku.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(this.map)}updateMapMarkers(){if(!this.map)return;let e="assets/leaflet/marker-icon-2x.png",r="assets/leaflet/marker-icon.png",n="assets/leaflet/marker-shadow.png";Ku.Marker.prototype.options.icon=Ku.icon({iconRetinaUrl:e,iconUrl:r,shadowUrl:n,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});let a=Ku.latLngBounds([]);if(this.uploadedData.forEach(s=>{let o=s.location||s.responses?.location;if(o&&typeof o.y=="number"&&typeof o.x=="number"){let u=s.overallScore??0,l=this.getScoreColor(u),c=`
          <div style="background-color:${s.color.border}; padding: 4px 6px; border-radius: 4px; color: white; font-weight: bold; font-size: 13px;">
            ${s.name||s.stakeHolderName||"Unnamed"}: ${u.toFixed(1)}<br/>
            <span style="font-weight: normal;">Maturity level: ${s.level??""}</span>
          </div>
        `;Ku.marker([o.y,o.x]).addTo(this.map).bindTooltip(c,{permanent:!0,direction:"top",offset:[0,-50],className:"map-label"}),a.extend([o.y,o.x])}}),a.isValid()){let s=a.getNorthEast(),o=a.getSouthWest(),u=Ku.latLngBounds([o.lat,o.lng],[s.lat+.4,s.lng]);this.map.fitBounds(u,{padding:[20,20]})}}getScoreColor(e){let r=Math.max(1,Math.min(5,e)),n=.7;if(r<=3){let a=(r-1)/2,s=255,o=Math.round(255*a),u=0;return s=Math.round(s*n),o=Math.round(o*n),u=Math.round(u*n),`rgb(${s},${o},${u})`}else{let a=(r-3)/2,s=Math.round(255*(1-a)),o=Math.round(255+-127*a),u=0;return s=Math.round(s*n),o=Math.round(o*n),u=Math.round(u*n),`rgb(${s},${o},${u})`}}onFilesSelected(e){let r=e.target;if(!r.files?.length)return;this.uploadedData=[],this.kpasNames={};let n=Array.from(r.files);this.totalFilesCount=n.length,this.filesReadCount=0;for(let a of n)this.readJSONFile(a)}readJSONFile(e){let r=new FileReader;r.onload=()=>{try{let n=JSON.parse(r.result);this.uploadedData.push(n)}catch(n){console.error("Error parsing JSON file:",e.name,n)}finally{this.filesReadCount++,this.filesReadCount===this.totalFilesCount&&(this._snackBar.openFromComponent(kn,{duration:5*1e3,data:`${this.totalFilesCount} assessment files have been imported`,panelClass:["red-snackbar"]}),this.verifyFiles(),this.processData())}},r.readAsText(e)}verifyFiles(){this.uploadedData.forEach((e,r)=>{!e.overallScore||!e.kpasScores||!e.level||!e.name?(this._snackBar.openFromComponent(kn,{duration:5*1e3,data:`File number ${r} is not a valid assessment results file`,panelClass:["red-snackbar"]}),this.uploadedData.splice(r,1)):e.location?.label||this._snackBar.openFromComponent(kn,{duration:5*1e3,data:`File number ${r} does not include location information`,panelClass:["red-snackbar"]})})}processData(){this.uploadedData.forEach((n,a)=>{n.allQuestions&&Array.isArray(n.allQuestions)&&(!n.stakeHolderName&&n.allQuestions.length>0&&(n.stakeHolderName=n.allQuestions[0].stakeholderName||""),n.allQuestions.forEach(o=>{let{kpaId:u,kpaName:l}=o;u&&l&&(this.kpasNames[u]=l)}));let s=this.colorPalette[a%this.colorPalette.length];n.color=s}),this.initMap(),this.generateRadarChart(),this.generateOverallBarChart();let e=this.uploadedData.map(n=>n.overallScore||0),r=e.reduce((n,a)=>n+a,0);this.overallScore=e.length>0?r/e.length:0,this.overallScore=Math.round(this.overallScore*10)/10,this.updateMapMarkers(),this.setScaleLabel(this.overallScore)}generateRadarChart(){if(this.chart&&this.chart.destroy(),this.uploadedData.length===0)return;let e=this.uploadedData[0].selectedKpas||{},r=Object.keys(e).filter(o=>e[o]),n=r.map(o=>this.kpasNames[o]||o),a=this.uploadedData.map((o,u)=>{let l=o.name||o.stakeHolderName||"Unnamed Stakeholder",c=r.map(h=>{let d=o.kpasScores?.[h];return typeof d=="number"?d:0});return{label:l,data:c,backgroundColor:"transparent",borderColor:o.color.border,pointBackgroundColor:o.color.border,pointBorderColor:"#fff"}}),s=r.map(o=>{let u=this.uploadedData.map(c=>c.kpasScores?.[o]).filter(c=>typeof c=="number"),l=u.reduce((c,h)=>c+h,0);return u.length>0?l/u.length:0});a.unshift({label:"Average (All Stakeholders)",data:s,backgroundColor:"rgba(0, 0, 0, 0.1)",borderColor:"rgba(0, 0, 0, 0.8)",pointBackgroundColor:"rgba(0, 0, 0, 0.8)",pointBorderColor:"#fff",borderDash:[5,5]}),this.chart=new pv(this.radarCanvas.nativeElement,{type:"radar",data:{labels:n,datasets:a},options:{aspectRatio:2,responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Maturity Results by Stakeholder and KPA"}},scales:{r:{pointLabels:{padding:5},suggestedMin:0,suggestedMax:5,ticks:{stepSize:1}}}}})}generateOverallBarChart(){if(this.overallScoreChart&&this.overallScoreChart.destroy(),this.uploadedData.length===0)return;let e=this.uploadedData.map(a=>a.name||a.stakeHolderName||"Unnamed Stakeholder"),r=this.uploadedData.map(a=>typeof a.overallScore=="number"?a.overallScore:0),n=this.uploadedData.map(a=>a.color?.border||"rgba(0,0,0,0.8)");this.overallScoreChart=new pv(this.overallScoreCanvas.nativeElement,{type:"bar",data:{labels:e,datasets:[{label:"Overall Average Score",data:r,backgroundColor:n,borderColor:n,borderWidth:1}]},options:{responsive:!0,aspectRatio:2,plugins:{legend:{display:!1},title:{display:!0,text:"Overall Maturity Score by Stakeholder"}},scales:{y:{beginAtZero:!0,suggestedMax:5,title:{display:!0,text:"Overall Score"},ticks:{stepSize:1}}}}})}getScaleLabel(e){let r=[{value:1,label:"Basic"},{value:2,label:"Emerging"},{value:3,label:"Advanced"},{value:4,label:"Integrated"},{value:5,label:"Optimizing"}];return e=Math.floor(e),r.find(n=>n.value===e)?.label||""}setScaleLabel(e){this.level=this.getScaleLabel(e)}static{this.\u0275fac=function(r){return new(r||t)(je(bo))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-maturity-dashboard"]],viewQuery:function(r,n){if(r&1&&(Jt(vVe,5),Jt(yVe,5)),r&2){let a;yt(a=xt())&&(n.radarCanvas=a.first),yt(a=xt())&&(n.overallScoreCanvas=a.first)}},standalone:!1,decls:19,vars:8,consts:[["sidenav",""],["fileInput",""],["folderInput",""],["overallScoreCanvas",""],["radarCanvas",""],[1,"module-container"],["mode","side",1,"custom-sidenav",3,"openedChange","opened"],[1,"mt-8","w-full","max-w-full"],[1,"header-container"],[1,"italic"],["class","flex flex-row gap-4",4,"ngIf"],["class","w-full flex flex-row items-center justify-center mt-8",4,"ngIf"],["class","flex flex-row gap-4 w-full pl-8 pr-8 mt-8",4,"ngIf"],["class","flex flex-row gap-4 w-full pl-8 pr-8 mt-4",4,"ngIf"],["class","flex flex-row gap-4 w-full pl-8 pr-8 mt-4 items-center justify-center",4,"ngIf"],[1,"flex","flex-row","gap-4","w-full","p-8","mt-4","items-center","justify-center"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"flex","flex-row","gap-4"],["type","file","multiple","","accept",".json",2,"display","none",3,"change"],["type","file","multiple","","accept",".json","webkitdirectory","",2,"display","none",3,"change"],["mat-raised-button","","color","primary",3,"click"],[1,"w-full","flex","flex-row","items-center","justify-center","mt-8"],["src","assets/img/dashboard-background.png","alt","Dashboard",1,"w-1/3"],[1,"flex","flex-row","gap-4","w-full","pl-8","pr-8","mt-8"],[1,"chart-container","flex-1","dashboard-card","text-2xl","p-4","font-bold"],[1,"flex","flex-row","gap-4","w-full","pl-8","pr-8","mt-4"],[1,"w-8/12","dashboard-card"],["id","map",2,"height","500px"],[1,"w-4/12","flex","flex-col","items-center","justify-center","dashboard-card","overflow-hidden"],["type","semi",1,"overflow-hidden",3,"min","max","value","cap","thick","size","markers","foregroundColor","backgroundColor"],[1,"chart-container","flex-1","dashboard-card"],[1,"flex","flex-row","gap-4","w-full","pl-8","pr-8","mt-4","items-center","justify-center"],[1,"dashboard-card","flex","flex-col","items-center","justify-center","w-2/3","pt-8","pb-8"],[4,"ngIf"],["class","bordered-table",4,"ngIf"],[1,"bordered-table"],[4,"ngFor","ngForOf"]],template:function(r,n){if(r&1){let a=Ye();B(0,"mat-sidenav-container",5)(1,"mat-sidenav",6,0),Gr("openedChange",function(o){return Me(a),Zr(n.opened,o)||(n.opened=o),Ie(o)}),J(3," Sidenav content "),U(),B(4,"mat-sidenav-content")(5,"div",7)(6,"div",8)(7,"h1"),J(8,"SNOMED Implementation Maturity Dashboard"),U(),B(9,"h2",9),J(10,"Results from the Maturity Assessment Tool"),U(),Te(11,xVe,11,0,"div",10),U(),Te(12,bVe,2,0,"div",11)(13,_Ve,9,4,"div",12)(14,wVe,7,9,"div",13)(15,CVe,7,0,"div",13)(16,AVe,4,2,"div",14),B(17,"div",15),Te(18,MVe,2,0,"button",16),U()()()()}r&2&&(K(),Hr("opened",n.opened),K(10),oe("ngIf",n.uploadedData.length===0),K(),oe("ngIf",n.uploadedData.length===0),K(),oe("ngIf",n.uploadedData.length>0),K(),oe("ngIf",n.uploadedData.length>0),K(),oe("ngIf",n.uploadedData.length>0),K(),oe("ngIf",n.uploadedData.length>0),K(2),oe("ngIf",n.uploadedData.length!=0))},dependencies:[qi,Xi,ln,a6,Xne,QI,Jne],styles:[".module-container[_ngcontent-%COMP%]{height:calc(100vh - 70px)}.custom-sidenav[_ngcontent-%COMP%]{width:250px;background-color:#434a55;padding:1rem;border-right:1px solid #ccc}.header-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.chart-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.map-label[_ngcontent-%COMP%]{color:#333;font-size:13px;font-weight:400;border-radius:4px;box-shadow:0 0 2px #0000004d;line-height:1.3}.bordered-table[_ngcontent-%COMP%]{border:1px solid #000;border-collapse:collapse;width:95%;margin-bottom:2rem}.bordered-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .bordered-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #000;padding:4px}.fixed-chart-height[_ngcontent-%COMP%]{height:600px!important;width:600px!important}.dashboard-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:8px;box-shadow:0 2px 4px #0000001a}"]})}}return t})();var IVe=["refsetViewer"];function DVe(t,i){if(t&1&&(B(0,"mat-tab",10)(1,"div",11),He(2,"app-bindings-viewer",12),U()()),t&2){let e=i.$implicit;Fo("label",e.spec.title),K(2),oe("spec",e.spec)}}function PVe(t,i){if(t&1&&(B(0,"mat-tab",10)(1,"div",11),He(2,"app-bindings-viewer",12),U()()),t&2){let e=i.$implicit;Fo("label",e.spec.title),K(2),oe("spec",e.spec)}}function RVe(t,i){if(t&1&&(B(0,"mat-tab-group",5)(1,"mat-tab",6)(2,"mat-tab-group",7),Te(3,DVe,3,2,"mat-tab",8),U()(),B(4,"mat-tab",9)(5,"mat-tab-group",7),Te(6,PVe,3,2,"mat-tab",8),U()()()),t&2){let e=pe();K(3),oe("ngForOf",e.nursingSpecs),K(3),oe("ngForOf",e.nutritionSpecs)}}var tre=(()=>{class t{constructor(e,r){this.http=e,this.terminologyService=r,this.emptySpec={},this.nutritionSpecs=[{specFile:"Nutrition Assessment.json",spec:this.emptySpec},{specFile:"Nutrition Diagnosis.json",spec:this.emptySpec},{specFile:"NCPT_Intervention_form.json",spec:this.emptySpec}],this.nursingSpecs=[{specFile:"sv-demo-nutrition.json",spec:this.emptySpec}],this.activeContext="",this.contexts=[{name:"English",value:"en-X-900000000000509007"},{name:"Swedish",value:"sv-X-46011000052107,en-X-900000000000509007"},{name:"Swedish Nursing",value:"sv-X-83461000052100,sv-X-46011000052107,en-X-900000000000509007"},{name:"Swedish Patient",value:"sv-X-63451000052100,sv-X-46011000052107,en-X-900000000000509007"}],this.languageMetadata={},this.localLanguageMetadata={},this.initReady=!1}ngOnInit(){this.terminologyService.setSnowstormFhirBase("https://implementation-demo.snomedtools.org/fhir"),setTimeout(()=>{this.localLanguageMetadata?.contexts[1]?this.terminologyService.setContext(this.localLanguageMetadata.contexts[1]):this.terminologyService.setLang("sv,en"),setTimeout(()=>{this.terminologyService.setFhirUrlParam("http://snomed.info/sct/45991000052106/version/20241130"),setTimeout(()=>{this.terminologyService.fhirUrlParam$.subscribe(e=>{this.loadSpecs()}),this.terminologyService.snowstormFhirBase$.subscribe(e=>{this.loadSpecs()}),this.terminologyService.lang$.subscribe(e=>{this.loadSpecs()}),this.terminologyService.context$.subscribe(e=>{this.activeContext=e,this.loadSpecs()}),this.initReady=!0},1e3)},1e3)},1e3),this.http.get("https://raw.githubusercontent.com/IHTSDO/snomedct-language-metadata/refs/heads/main/national-language-metadata.json").subscribe(e=>{this.languageMetadata=e,this.setupLanguageMetadata()})}setupLanguageMetadata(){this.localLanguageMetadata=this.languageMetadata.editions.find(e=>e.moduleUri==="http://snomed.info/sct/45991000052106"),this.localLanguageMetadata.contexts.unshift({name:"English",languageDialects:"en-X-900000000000509007"})}loadSpecs(){this.nutritionSpecs.forEach(e=>Mt(this,null,function*(){e.spec=this.emptySpec;let r=yield Ir(this.http.get("assets/specs/ncpt/"+e.specFile));e.spec=r})),this.nursingSpecs.forEach(e=>Mt(this,null,function*(){e.spec=this.emptySpec;let r=yield Ir(this.http.get("assets/specs/nursing/"+e.specFile));e.spec=r})),setTimeout(()=>{this.updateRefset()},1e3)}updateRefset(){this.refsetViewerComponent&&this.refsetViewerComponent.cleanAndGetMembers()}setContext(e){this.terminologyService.setContext(e)}setEnglishContext(){this.terminologyService.setLang("en")}setSwedishContext(){this.terminologyService.setContext("sv-X-46011000052107,en-X-900000000000509007")}setSwedishNursingContext(){this.terminologyService.setContext("sv-X-83461000052100,sv-X-46011000052107,en-X-900000000000509007")}setSwedishPatientContext(){this.terminologyService.setContext("sv-X-63451000052100,sv-X-46011000052107,en-X-900000000000509007")}static{this.\u0275fac=function(r){return new(r||t)(je(Ms),je(An))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-sv-demo"]],viewQuery:function(r,n){if(r&1&&Jt(IVe,5),r&2){let a;yt(a=xt())&&(n.refsetViewerComponent=a.first)}},standalone:!1,decls:12,vars:3,consts:[["substancePopoverMenu","matMenu"],[1,"outer-container"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["mat-stretch-tabs","true","mat-align-tabs","center",4,"ngIf"],["mat-stretch-tabs","true","mat-align-tabs","center"],["label","NURSING"],["mat-stretch-tabs","true","mat-align-tabs","center",1,"mt-4"],[3,"label",4,"ngFor","ngForOf"],["label","NUTRITION"],[3,"label"],[1,"container"],[3,"spec"]],template:function(r,n){if(r&1){let a=Ye();B(0,"div",1)(1,"h3"),J(2,"SNOMED CT - Swedish NRC Demonstrator "),B(3,"button",2)(4,"mat-icon"),J(5,"info"),U()(),B(6,"mat-menu",null,0)(8,"span",3),we("click",function(o){return Me(a),Ie(o.stopPropagation())}),B(9,"h4"),J(10,"SNOMED CT - Swedish NRC Demonstrator"),U()()()(),Te(11,RVe,7,2,"mat-tab-group",4),U()}if(r&2){let a=hi(7);K(3),oe("matMenuTriggerFor",a),K(5),oe("disableRipple",!0),K(3),oe("ngIf",n.initReady)}},dependencies:[qi,Xi,Zn,pn,ys,Ps,ra,Xu,kl,zI],styles:[".outer-container[_ngcontent-%COMP%]{margin:1rem;width:calc(100% - 2rem)}.container[_ngcontent-%COMP%]{margin:2rem;width:calc(100% - 4rem)}.inner-container[_ngcontent-%COMP%]{width:calc(50% - 4rem)}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:1rem}"]})}}return t})();var kVe=[{path:"",component:Q8},{path:"home",component:Q8},{path:"allergies",component:WW},{path:"sandbox",component:qX},{path:"prescription",component:eY},{path:"questionnaires",component:pY},{path:"implementation-course/subset-validator",component:mY},{path:"snoguess",component:UQ},{path:"snoguess/scoreboard",component:rK},{path:"context",component:jQ},{path:"maturity",component:gne},{path:"maturity/dashboard",component:ere},{path:"ncpt",component:bne},{path:"triage",component:Ane},{path:"fsn",component:K8},{path:"reports/fsn",component:K8},{path:"reports/inactivations",component:_ne},{path:"reports/new-concepts",component:Cne},{path:"reports",component:wne},{path:"loinc",component:Wne},{path:"sv-demo",component:tre},{path:"**",redirectTo:""}],ire=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=jt({type:t})}static{this.\u0275inj=Gt({imports:[_3.forRoot(kVe,{useHash:!0}),_3]})}}return t})();var FVe=["*"],OVe='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}',LVe=["unscopedContent"],NVe=["text"],BVe=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],VVe=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var zVe=new tt("ListOption"),UVe=(()=>{class t{_elementRef=le(Pt);constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return t})(),HVe=(()=>{class t{_elementRef=le(Pt);constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return t})(),GVe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return t})(),nre=(()=>{class t{_listOption=le(zVe,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,hostVars:4,hostBindings:function(r,n){r&2&&Ut("mdc-list-item__start",n._isAlignedAtStart())("mdc-list-item__end",!n._isAlignedAtStart())}})}return t})(),jVe=(()=>{class t extends nre{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[Ai]})}return t})(),WVe=(()=>{class t extends nre{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275dir=_t({type:t,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[Ai]})}return t})(),XVe=new tt("MAT_LIST_CONFIG"),o6=(()=>{class t{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Xs(e)}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=Xs(e)}_disabled=!1;_defaultOptions=le(XVe,{optional:!0});static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,hostVars:1,hostBindings:function(r,n){r&2&&ti("aria-disabled",n.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return t})(),YVe=(()=>{class t{_elementRef=le(Pt);_ngZone=le(ri);_listBase=le(o6,{optional:!0});_platform=le(In);_hostElement;_isButtonElement;_noopAnimations;_avatars;_icons;set lines(e){this._explicitLines=Lo(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=Xs(e)}_disableRipple=!1;get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=Xs(e)}_disabled=!1;_subscriptions=new Vi;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){le(gr).load(fa);let e=le(Gm,{optional:!0}),r=le(Un,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=r==="NoopAnimations",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new r1(this,this._ngZone,this._hostElement,this._platform,le(Wi)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add($n(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let r=this._explicitLines??this._inferLinesFromContent(),n=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",r<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",r<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",r===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",r===3),this._hasUnscopedTextContent){let a=this._titles.length===0&&r===1;n.classList.toggle("mdc-list-item__primary-text",a),n.classList.toggle("mdc-list-item__secondary-text",!a)}else n.classList.remove("mdc-list-item__primary-text"),n.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,contentQueries:function(r,n,a){if(r&1&&(Fi(a,jVe,4),Fi(a,WVe,4)),r&2){let s;yt(s=xt())&&(n._avatars=s),yt(s=xt())&&(n._icons=s)}},hostVars:4,hostBindings:function(r,n){r&2&&(ti("aria-disabled",n.disabled)("disabled",n._isButtonElement&&n.disabled||null),Ut("mdc-list-item--disabled",n.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return t})();var rre=(()=>{class t extends o6{static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275cmp=Ke({type:t,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[_i([{provide:o6,useExisting:t}]),Ai],ngContentSelectors:FVe,decls:1,vars:0,template:function(r,n){r&1&&(zi(),$t(0))},styles:[OVe],encapsulation:2,changeDetection:0})}return t})(),sre=(()=>{class t extends YVe{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(e){this._activated=Xs(e)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=fn(t)))(n||t)}})();static \u0275cmp=Ke({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(r,n,a){if(r&1&&(Fi(a,HVe,5),Fi(a,UVe,5),Fi(a,GVe,5)),r&2){let s;yt(s=xt())&&(n._lines=s),yt(s=xt())&&(n._titles=s),yt(s=xt())&&(n._meta=s)}},viewQuery:function(r,n){if(r&1&&(Jt(LVe,5),Jt(NVe,5)),r&2){let a;yt(a=xt())&&(n._unscopedContent=a.first),yt(a=xt())&&(n._itemText=a.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(r,n){r&2&&(ti("aria-current",n._getAriaCurrent()),Ut("mdc-list-item--activated",n.activated)("mdc-list-item--with-leading-avatar",n._avatars.length!==0)("mdc-list-item--with-leading-icon",n._icons.length!==0)("mdc-list-item--with-trailing-meta",n._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",n._hasBothLeadingAndTrailing())("_mat-animation-noopable",n._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[Ai],ngContentSelectors:VVe,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(r,n){if(r&1){let a=Ye();zi(BVe),$t(0),B(1,"span",1),$t(2,1),$t(3,2),B(4,"span",2,0),we("cdkObserveContent",function(){return Me(a),Ie(n._updateItemLines(!0))}),$t(6,3),U()(),$t(7,4),$t(8,5),He(9,"div",3)}},dependencies:[eE],encapsulation:2,changeDetection:0})}return t})();var are=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Zy,Si,Uu,U3,hA]})}return t})();function QVe(t,i){if(t&1&&(B(0,"mat-option",17),J(1),U()),t&2){let e=i.$implicit;oe("value",e),K(),It(" ",e," ")}}function KVe(t,i){if(t&1&&(B(0,"mat-option",17),J(1),U()),t&2){let e=i.$implicit;oe("value",e),K(),It(" ",e.display," ")}}function ZVe(t,i){if(t&1){let e=Ye();B(0,"mat-list-item",9)(1,"div",10)(2,"mat-icon",11),J(3,"drag_handle"),U(),B(4,"span",12),J(5),U(),B(6,"mat-form-field",13)(7,"mat-label"),J(8,"Language Code"),U(),B(9,"mat-select",14),Gr("ngModelChange",function(n){let a=Me(e).$implicit;return Zr(a.languageCode,n)||(a.languageCode=n),Ie(n)}),Te(10,QVe,2,2,"mat-option",15),U()(),B(11,"mat-form-field",13)(12,"mat-label"),J(13,"Language Refset"),U(),B(14,"mat-select",14),Gr("ngModelChange",function(n){let a=Me(e).$implicit;return Zr(a.languageRefset,n)||(a.languageRefset=n),Ie(n)}),Te(15,KVe,2,2,"mat-option",15),U()(),B(16,"button",16),we("click",function(){let n=Me(e).index,a=pe();return Ie(a.removeContext(n))}),B(17,"mat-icon"),J(18,"delete"),U()()()()}if(t&2){let e=i.$implicit,r=i.index,n=pe();K(5),vt(r+1),K(4),Hr("ngModel",e.languageCode),K(),oe("ngForOf",n.languageCodes),K(4),Hr("ngModel",e.languageRefset),K(),oe("ngForOf",n.languageRefsets)}}var ore=(()=>{class t{constructor(e,r){this.dialogRef=e,this.data=r,this.languageCodes=[],this.languageRefsets=[],this.context=[],this.languageCodes=r.languageCodes,this.languageRefsets=r.languageRefsets,this.context=r.context||[{languageCode:"",languageRefset:{}}]}addContext(){this.context.push({languageCode:"",languageRefset:""})}removeContext(e){this.context.splice(e,1)}drop(e){e0(this.context,e.previousIndex,e.currentIndex)}save(){this.dialogRef.close(this.context)}close(){this.dialogRef.close("Dialog closed")}static{this.\u0275fac=function(r){return new(r||t)(je(hl),je(Fp))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-language-config"]],standalone:!1,decls:14,vars:1,consts:[[1,"language-config-container"],[1,"text-center"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],[1,"add-context-container"],["mat-raised-button","","color","primary",3,"click"],[1,"action-buttons"],["mat-raised-button","",1,"cancel-button",3,"click"],["mat-raised-button","","color","accent",3,"click"],["cdkDrag",""],[1,"context-item"],[1,"drag-handle"],[1,"row-num"],[1,"flex-form-field"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary",3,"click"],[3,"value"]],template:function(r,n){r&1&&(B(0,"div",0)(1,"h2",1),J(2,"Language Context Editor"),U(),B(3,"div",2),we("cdkDropListDropped",function(s){return n.drop(s)}),B(4,"mat-list"),Te(5,ZVe,19,5,"mat-list-item",3),U()(),B(6,"div",4)(7,"button",5),we("click",function(){return n.addContext()}),J(8,"Add rule"),U()(),B(9,"div",6)(10,"button",7),we("click",function(){return n.close()}),J(11,"Cancel"),U(),B(12,"button",8),we("click",function(){return n.save()}),J(13,"Save"),U()()()),r&2&&(K(5),oe("ngForOf",n.context))},dependencies:[qi,T1,S1,ln,Zn,pn,es,xs,ia,_r,Fl,ma,rre,sre],styles:[".language-config-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:16px;width:100%;height:700px;margin:auto}.add-context-container[_ngcontent-%COMP%]{display:flex;margin-top:auto;justify-content:flex-end}.context-item[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding:10px!important;border-bottom:1px solid #e0e0e0}.context-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.context-item[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1;margin-right:8px}.context-item[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:last-of-type{margin-right:0}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:auto;border-top:1px;border-color:#b5b2b2;border-style:solid;padding-top:15px}.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;border-radius:4px}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}mat-list-item[_ngcontent-%COMP%]{margin-bottom:8px}.flex-form-field[_ngcontent-%COMP%]{flex:1;margin-right:8px;margin-top:15px}.add-context-container[_ngcontent-%COMP%]{margin-top:16px}.cancel-button[_ngcontent-%COMP%]{margin-right:8px}.drag-handle[_ngcontent-%COMP%]{cursor:move;margin-right:2rem}.row-num[_ngcontent-%COMP%]{margin-right:1rem;font-size:larger;font-weight:lighter}"]})}}return t})();var lre=[{title:"GROUP 1",description:"The first group of bindings in the coding demonstration",bindings:[{title:"Medicinal product + groupers",type:"autocomplete",ecl:`<< 763158003 |Medicinal product| :
                        [0..0] 1142139005 |Count of base of active ingredient| = *,
                        [0..0] 411116001 |Has manufactured dose form| = *,
                        [0..0] 774158006 |Has product name| = *`,value:"",note:"Medicinal products, contain at least provided ingredientes (open world assuption), no information on form."},{title:"Gender",type:"dropdown",ecl:"< 365873007 |Gender finding (finding)|",value:"",note:"Patient gender."},{title:"Medicinal product form + groupers",type:"autocomplete",ecl:`<< 763158003 |Medicinal product| :
                    [0..0] 1142139005 |Count of base of active ingredient| = *,
                    411116001 |Has manufactured dose form| = *,
                    [0..0] 774158006 |Has product name| = *`,value:"",note:"Medicinal products, with form details."}]},{title:"GROUP 2",description:"The second group of bindings in the coding demonstration",bindings:[{title:"Medicinal product only",type:"autocomplete",ecl:`<< 763158003 |Medicinal product| :
                    1142139005 |Count of base of active ingredient| = *,
                    [0..0] 411116001 |Has manufactured dose form| = *,
                    [0..0] 774158006 |Has product name| = *`,value:"",note:"Medicinal products, containing only the provided ingredientes (close world assuption), with no information on form."},{title:"Medicinal product form only",type:"autocomplete",ecl:`<< 763158003 |Medicinal product| :
                    1142139005 |Count of base of active ingredient| = *,
                    411116001 |Has manufactured dose form| = *,
                    [0..0] 732943007 |Has basis of strength substance (attribute)| = *,
                    [0..0] 774158006 |Has product name| = *`,value:"",note:"Medicinal products, with form details, containing only the provided ingredientes (close world assuption)."}]}];var cre=(()=>{class t{constructor(){}getCodingSpec(){return lre}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Tae=Ro(_f());var w2={};w2.version="0.20.2";var ed=1200,Hx=1252,Rr,qVe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],eze={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},rse=function(t){qVe.indexOf(t)!=-1&&(Hx=eze[0]=t)};function tze(){rse(1252)}var C2=function(t){ed=t,rse(t)};function ize(){C2(1200),tze()}function nze(t){for(var i=[],e=0;e<t.length>>1;++e)i[e]=String.fromCharCode(t.charCodeAt(2*e+1)+(t.charCodeAt(2*e)<<8));return i.join("")}var ZI=function(i){return String.fromCharCode(i)},ure=function(i){return String.fromCharCode(i)};var Kf=null,dre=!0,Jl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function aD(t){for(var i="",e=0,r=0,n=0,a=0,s=0,o=0,u=0,l=0;l<t.length;)e=t.charCodeAt(l++),a=e>>2,r=t.charCodeAt(l++),s=(e&3)<<4|r>>4,n=t.charCodeAt(l++),o=(r&15)<<2|n>>6,u=n&63,isNaN(r)?o=u=64:isNaN(n)&&(u=64),i+=Jl.charAt(a)+Jl.charAt(s)+Jl.charAt(o)+Jl.charAt(u);return i}function rze(t){for(var i="",e=0,r=0,n=0,a=0,s=0,o=0,u=0,l=0;l<t.length;)e=t.charCodeAt(l++),e>255&&(e=95),a=e>>2,r=t.charCodeAt(l++),r>255&&(r=95),s=(e&3)<<4|r>>4,n=t.charCodeAt(l++),n>255&&(n=95),o=(r&15)<<2|n>>6,u=n&63,isNaN(r)?o=u=64:isNaN(n)&&(u=64),i+=Jl.charAt(a)+Jl.charAt(s)+Jl.charAt(o)+Jl.charAt(u);return i}function sze(t){for(var i="",e=0,r=0,n=0,a=0,s=0,o=0,u=0,l=0;l<t.length;)e=t[l++],a=e>>2,r=t[l++],s=(e&3)<<4|r>>4,n=t[l++],o=(r&15)<<2|n>>6,u=n&63,isNaN(r)?o=u=64:isNaN(n)&&(u=64),i+=Jl.charAt(a)+Jl.charAt(s)+Jl.charAt(o)+Jl.charAt(u);return i}function k0(t){var i="",e=0,r=0,n=0,a=0,s=0,o=0,u=0;if(t.slice(0,5)=="data:"){var l=t.slice(0,1024).indexOf(";base64,");l>-1&&(t=t.slice(l+8))}t=t.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<t.length;)a=Jl.indexOf(t.charAt(l++)),s=Jl.indexOf(t.charAt(l++)),e=a<<2|s>>4,i+=String.fromCharCode(e),o=Jl.indexOf(t.charAt(l++)),r=(s&15)<<4|o>>2,o!==64&&(i+=String.fromCharCode(r)),u=Jl.indexOf(t.charAt(l++)),n=(o&3)<<6|u,u!==64&&(i+=String.fromCharCode(n));return i}var ns=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Jf=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(i,e){return e?new Buffer(i,e):new Buffer(i)}:Buffer.from.bind(Buffer)}return function(){}}(),S2=function(){if(typeof Buffer>"u")return!1;var t=Jf([65,0]);if(!t)return!1;var i=t.toString("utf16le");return i.length==1}();function yv(t){return ns?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function hre(t){return ns?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ju=function(i){return ns?Jf(i,"binary"):i.split("").map(function(e){return e.charCodeAt(0)&255})};function CD(t){if(typeof ArrayBuffer>"u")return Ju(t);for(var i=new ArrayBuffer(t.length),e=new Uint8Array(i),r=0;r!=t.length;++r)e[r]=t.charCodeAt(r)&255;return i}function xv(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var i=[],e=0;e<t.length;++e)i[e]=String.fromCharCode(t[e]);return i.join("")}function aze(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var ro=ns?function(t){return Buffer.concat(t.map(function(i){return Buffer.isBuffer(i)?i:Jf(i)}))}:function(t){if(typeof Uint8Array<"u"){var i=0,e=0;for(i=0;i<t.length;++i)e+=t[i].length;var r=new Uint8Array(e),n=0;for(i=0,e=0;i<t.length;e+=n,++i)n=t[i].length,t[i]instanceof Uint8Array?r.set(t[i],e):typeof t[i]=="string"?r.set(new Uint8Array(Ju(t[i])),e):r.set(new Uint8Array(t[i]),e);return r}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function oze(t){for(var i=[],e=0,r=t.length+250,n=yv(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)n[e++]=s;else if(s<2048)n[e++]=192|s>>6&31,n[e++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++a)&1023;n[e++]=240|s>>8&7,n[e++]=128|s>>2&63,n[e++]=128|o>>6&15|(s&3)<<4,n[e++]=128|o&63}else n[e++]=224|s>>12&15,n[e++]=128|s>>6&63,n[e++]=128|s&63;e>r&&(i.push(n.slice(0,e)),e=0,n=yv(65535),r=65530)}return i.push(n.slice(0,e)),ro(i)}var Fx=/\u0000/g,JI=/[\u0001-\u0006]/g;function Ox(t){for(var i="",e=t.length-1;e>=0;)i+=t.charAt(e--);return i}function Nh(t,i){var e=""+t;return e.length>=i?e:aa("0",i-e.length)+e}function D6(t,i){var e=""+t;return e.length>=i?e:aa(" ",i-e.length)+e}function oD(t,i){var e=""+t;return e.length>=i?e:e+aa(" ",i-e.length)}function lze(t,i){var e=""+Math.round(t);return e.length>=i?e:aa("0",i-e.length)+e}function cze(t,i){var e=""+t;return e.length>=i?e:aa("0",i-e.length)+e}var fre=Math.pow(2,32);function Px(t,i){if(t>fre||t<-fre)return lze(t,i);var e=Math.round(t);return cze(e,i)}function lD(t,i){return i=i||0,t.length>=7+i&&(t.charCodeAt(i)|32)===103&&(t.charCodeAt(i+1)|32)===101&&(t.charCodeAt(i+2)|32)===110&&(t.charCodeAt(i+3)|32)===101&&(t.charCodeAt(i+4)|32)===114&&(t.charCodeAt(i+5)|32)===97&&(t.charCodeAt(i+6)|32)===108}var pre=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],l6=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function uze(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',t}var Ks={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},mre={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},dze={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function cD(t,i,e){for(var r=t<0?-1:1,n=t*r,a=0,s=1,o=0,u=1,l=0,c=0,h=Math.floor(n);l<i&&(h=Math.floor(n),o=h*s+a,c=h*l+u,!(n-h<5e-8));)n=1/(n-h),a=s,s=o,u=l,l=c;if(c>i&&(l>i?(c=u,o=a):(c=l,o=s)),!e)return[0,r*o,c];var d=Math.floor(r*o/c);return[d,r*o-d*c,c]}function hze(t){var i=t.toPrecision(16);if(i.indexOf("e")>-1){var e=i.slice(0,i.indexOf("e"));return e=e.indexOf(".")>-1?e.slice(0,e.slice(0,2)=="0."?17:16):e.slice(0,15)+aa("0",e.length-15),e+i.slice(i.indexOf("e"))}var r=i.indexOf(".")>-1?i.slice(0,i.slice(0,2)=="0."?17:16):i.slice(0,15)+aa("0",i.length-15);return Number(r)}function Rx(t,i,e){if(t>2958465||t<0)return null;t=hze(t);var r=t|0,n=Math.floor(86400*(t-r)),a=0,s=[],o={D:r,T:n,u:86400*(t-r)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),i&&i.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++r,++o.D)),r===60)s=e?[1317,10,29]:[1900,2,29],a=3;else if(r===0)s=e?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var u=new Date(1900,0,1);u.setDate(u.getDate()+r-1),s=[u.getFullYear(),u.getMonth()+1,u.getDate()],a=u.getDay(),r<60&&(a=(a+6)%7),e&&(a=vze(u,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=a,o}function P6(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function fze(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function pze(t){var i=t<0?12:11,e=P6(t.toFixed(12));return e.length<=i||(e=t.toPrecision(10),e.length<=i)?e:t.toExponential(5)}function mze(t){var i=P6(t.toFixed(11));return i.length>(t<0?12:11)||i==="0"||i==="-0"?t.toPrecision(6):i}function gze(t){var i=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),e;return i>=-4&&i<=-1?e=t.toPrecision(10+i):Math.abs(i)<=9?e=pze(t):i===10?e=t.toFixed(10).substr(0,12):e=mze(t),P6(fze(e.toUpperCase()))}function w6(t,i){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):gze(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return sm(14,xl(t,i&&i.date1904),i)}throw new Error("unsupported value in General format: "+t)}function vze(t,i){i[0]-=581;var e=t.getDay();return t<60&&(e=(e+6)%7),e}function yze(t,i,e,r){var n="",a=0,s=0,o=e.y,u,l=0;switch(t){case 98:o=e.y+543;case 121:switch(i.length){case 1:case 2:u=o%100,l=2;break;default:u=o%1e4,l=4;break}break;case 109:switch(i.length){case 1:case 2:u=e.m,l=i.length;break;case 3:return l6[e.m-1][1];case 5:return l6[e.m-1][0];default:return l6[e.m-1][2]}break;case 100:switch(i.length){case 1:case 2:u=e.d,l=i.length;break;case 3:return pre[e.q][0];default:return pre[e.q][1]}break;case 104:switch(i.length){case 1:case 2:u=1+(e.H+11)%12,l=i.length;break;default:throw"bad hour format: "+i}break;case 72:switch(i.length){case 1:case 2:u=e.H,l=i.length;break;default:throw"bad hour format: "+i}break;case 77:switch(i.length){case 1:case 2:u=e.M,l=i.length;break;default:throw"bad minute format: "+i}break;case 115:if(i!="s"&&i!="ss"&&i!=".0"&&i!=".00"&&i!=".000")throw"bad second format: "+i;return e.u===0&&(i=="s"||i=="ss")?Nh(e.S,i.length):(r>=2?s=r===3?1e3:100:s=r===1?10:1,a=Math.round(s*(e.S+e.u)),a>=60*s&&(a=0),i==="s"?a===0?"0":""+a/s:(n=Nh(a,2+r),i==="ss"?n.substr(0,2):"."+n.substr(2,i.length-1)));case 90:switch(i){case"[h]":case"[hh]":u=e.D*24+e.H;break;case"[m]":case"[mm]":u=(e.D*24+e.H)*60+e.M;break;case"[s]":case"[ss]":u=((e.D*24+e.H)*60+e.M)*60+(r==0?Math.round(e.S+e.u):e.S);break;default:throw"bad abstime format: "+i}l=i.length===3?1:2;break;case 101:u=o,l=1;break}var c=l>0?Nh(u,l):"";return c}function P0(t){var i=3;if(t.length<=i)return t;for(var e=t.length%i,r=t.substr(0,e);e!=t.length;e+=i)r+=(r.length>0?",":"")+t.substr(e,i);return r}var sse=/%/g;function xze(t,i,e){var r=i.replace(sse,""),n=i.length-r.length;return im(t,r,e*Math.pow(10,2*n))+aa("%",n)}function bze(t,i,e){for(var r=i.length-1;i.charCodeAt(r-1)===44;)--r;return im(t,i.substr(0,r),e/Math.pow(10,3*(i.length-r)))}function ase(t,i){var e,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(i==0)return"0.0E+0";if(i<0)return"-"+ase(t,-i);var n=t.indexOf(".");n===-1&&(n=t.indexOf("E"));var a=Math.floor(Math.log(i)*Math.LOG10E)%n;if(a<0&&(a+=n),e=(i/Math.pow(10,a)).toPrecision(r+1+(n+a)%n),e.indexOf("e")===-1){var s=Math.floor(Math.log(i)*Math.LOG10E);for(e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(s-e.length+a):e+="E+"+(s-a);e.substr(0,2)==="0.";)e=e.charAt(0)+e.substr(2,n)+"."+e.substr(2+n),e=e.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,l,c){return u+l+c.substr(0,(n+a)%n)+"."+c.substr(a)+"E"})}else e=i.toExponential(r);return t.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),t.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var ose=/# (\?+)( ?)\/( ?)(\d+)/;function _ze(t,i,e){var r=parseInt(t[4],10),n=Math.round(i*r),a=Math.floor(n/r),s=n-a*r,o=r;return e+(a===0?"":""+a)+" "+(s===0?aa(" ",t[1].length+1+t[4].length):D6(s,t[1].length)+t[2]+"/"+t[3]+Nh(o,t[4].length))}function wze(t,i,e){return e+(i===0?"":""+i)+aa(" ",t[1].length+2+t[4].length)}var lse=/^#*0*\.([0#]+)/,cse=/\)[^)]*[0#]/,use=/\(###\) ###\\?-####/;function Mc(t){for(var i="",e,r=0;r!=t.length;++r)switch(e=t.charCodeAt(r)){case 35:break;case 63:i+=" ";break;case 48:i+="0";break;default:i+=String.fromCharCode(e)}return i}function gre(t,i){var e=Math.pow(10,i);return""+Math.round(t*e)/e}function vre(t,i){var e=t-Math.floor(t),r=Math.pow(10,i);return i<(""+Math.round(e*r)).length?0:Math.round(e*r)}function Cze(t,i){return i<(""+Math.round((t-Math.floor(t))*Math.pow(10,i))).length?1:0}function Sze(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Hd(t,i,e){if(t.charCodeAt(0)===40&&!i.match(cse)){var r=i.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Hd("n",r,e):"("+Hd("n",r,-e)+")"}if(i.charCodeAt(i.length-1)===44)return bze(t,i,e);if(i.indexOf("%")!==-1)return xze(t,i,e);if(i.indexOf("E")!==-1)return ase(i,e);if(i.charCodeAt(0)===36)return"$"+Hd(t,i.substr(i.charAt(1)==" "?2:1),e);var n,a,s,o,u=Math.abs(e),l=e<0?"-":"";if(i.match(/^00+$/))return l+Px(u,i.length);if(i.match(/^[#?]+$/))return n=Px(e,0),n==="0"&&(n=""),n.length>i.length?n:Mc(i.substr(0,i.length-n.length))+n;if(a=i.match(ose))return _ze(a,u,l);if(i.match(/^#+0+$/))return l+Px(u,i.length-i.indexOf("0"));if(a=i.match(lse))return n=gre(e,a[1].length).replace(/^([^\.]+)$/,"$1."+Mc(a[1])).replace(/\.$/,"."+Mc(a[1])).replace(/\.(\d*)$/,function(m,p){return"."+p+aa("0",Mc(a[1]).length-p.length)}),i.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(i=i.replace(/^#+([0.])/,"$1"),a=i.match(/^(0*)\.(#*)$/))return l+gre(u,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=i.match(/^#{1,3},##0(\.?)$/))return l+P0(Px(u,0));if(a=i.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Hd(t,i,-e):P0(""+(Math.floor(e)+Cze(e,a[1].length)))+"."+Nh(vre(e,a[1].length),a[1].length);if(a=i.match(/^#,#*,#0/))return Hd(t,i.replace(/^#,#*,/,""),e);if(a=i.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Ox(Hd(t,i.replace(/[\\-]/g,""),e)),s=0,Ox(Ox(i.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<n.length?n.charAt(s++):m==="0"?"0":""}));if(i.match(use))return n=Hd(t,"##########",e),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var c="";if(a=i.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=cD(u,Math.pow(10,s)-1,!1),n=""+l,c=im("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),n+=c+a[2]+"/"+a[3],c=oD(o[2],s),c.length<a[4].length&&(c=Mc(a[4].substr(a[4].length-c.length))+c),n+=c,n;if(a=i.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=cD(u,Math.pow(10,s)-1,!0),l+(o[0]||(o[1]?"":"0"))+" "+(o[1]?D6(o[1],s)+a[2]+"/"+a[3]+oD(o[2],s):aa(" ",2*s+1+a[2].length+a[3].length));if(a=i.match(/^[#0?]+$/))return n=Px(e,0),i.length<=n.length?n:Mc(i.substr(0,i.length-n.length))+n;if(a=i.match(/^([#0?]+)\.([#0]+)$/)){n=""+e.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=n.indexOf(".");var h=i.indexOf(".")-s,d=i.length-n.length-h;return Mc(i.substr(0,h)+n+i.substr(i.length-d))}if(a=i.match(/^00,000\.([#0]*0)$/))return s=vre(e,a[1].length),e<0?"-"+Hd(t,i,-e):P0(Sze(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Nh(0,3-m.length):"")+m})+"."+Nh(s,a[1].length);switch(i){case"###,##0.00":return Hd(t,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var f=P0(Px(u,0));return f!=="0"?l+f:"";case"###,###.00":return Hd(t,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return Hd(t,"#,##0.00",e).replace(/^0\./,".");default:}throw new Error("unsupported format |"+i+"|")}function Tze(t,i,e){for(var r=i.length-1;i.charCodeAt(r-1)===44;)--r;return im(t,i.substr(0,r),e/Math.pow(10,3*(i.length-r)))}function Eze(t,i,e){var r=i.replace(sse,""),n=i.length-r.length;return im(t,r,e*Math.pow(10,2*n))+aa("%",n)}function dse(t,i){var e,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(i==0)return"0.0E+0";if(i<0)return"-"+dse(t,-i);var n=t.indexOf(".");n===-1&&(n=t.indexOf("E"));var a=Math.floor(Math.log(i)*Math.LOG10E)%n;if(a<0&&(a+=n),e=(i/Math.pow(10,a)).toPrecision(r+1+(n+a)%n),!e.match(/[Ee]/)){var s=Math.floor(Math.log(i)*Math.LOG10E);e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(s-e.length+a):e+="E+"+(s-a),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,l,c){return u+l+c.substr(0,(n+a)%n)+"."+c.substr(a)+"E"})}else e=i.toExponential(r);return t.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),t.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function Xf(t,i,e){if(t.charCodeAt(0)===40&&!i.match(cse)){var r=i.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Xf("n",r,e):"("+Xf("n",r,-e)+")"}if(i.charCodeAt(i.length-1)===44)return Tze(t,i,e);if(i.indexOf("%")!==-1)return Eze(t,i,e);if(i.indexOf("E")!==-1)return dse(i,e);if(i.charCodeAt(0)===36)return"$"+Xf(t,i.substr(i.charAt(1)==" "?2:1),e);var n,a,s,o,u=Math.abs(e),l=e<0?"-":"";if(i.match(/^00+$/))return l+Nh(u,i.length);if(i.match(/^[#?]+$/))return n=""+e,e===0&&(n=""),n.length>i.length?n:Mc(i.substr(0,i.length-n.length))+n;if(a=i.match(ose))return wze(a,u,l);if(i.match(/^#+0+$/))return l+Nh(u,i.length-i.indexOf("0"));if(a=i.match(lse))return n=(""+e).replace(/^([^\.]+)$/,"$1."+Mc(a[1])).replace(/\.$/,"."+Mc(a[1])),n=n.replace(/\.(\d*)$/,function(m,p){return"."+p+aa("0",Mc(a[1]).length-p.length)}),i.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(i=i.replace(/^#+([0.])/,"$1"),a=i.match(/^(0*)\.(#*)$/))return l+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=i.match(/^#{1,3},##0(\.?)$/))return l+P0(""+u);if(a=i.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Xf(t,i,-e):P0(""+e)+"."+aa("0",a[1].length);if(a=i.match(/^#,#*,#0/))return Xf(t,i.replace(/^#,#*,/,""),e);if(a=i.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Ox(Xf(t,i.replace(/[\\-]/g,""),e)),s=0,Ox(Ox(i.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<n.length?n.charAt(s++):m==="0"?"0":""}));if(i.match(use))return n=Xf(t,"##########",e),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var c="";if(a=i.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=cD(u,Math.pow(10,s)-1,!1),n=""+l,c=im("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),n+=c+a[2]+"/"+a[3],c=oD(o[2],s),c.length<a[4].length&&(c=Mc(a[4].substr(a[4].length-c.length))+c),n+=c,n;if(a=i.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=cD(u,Math.pow(10,s)-1,!0),l+(o[0]||(o[1]?"":"0"))+" "+(o[1]?D6(o[1],s)+a[2]+"/"+a[3]+oD(o[2],s):aa(" ",2*s+1+a[2].length+a[3].length));if(a=i.match(/^[#0?]+$/))return n=""+e,i.length<=n.length?n:Mc(i.substr(0,i.length-n.length))+n;if(a=i.match(/^([#0]+)\.([#0]+)$/)){n=""+e.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=n.indexOf(".");var h=i.indexOf(".")-s,d=i.length-n.length-h;return Mc(i.substr(0,h)+n+i.substr(i.length-d))}if(a=i.match(/^00,000\.([#0]*0)$/))return e<0?"-"+Xf(t,i,-e):P0(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Nh(0,3-m.length):"")+m})+"."+Nh(0,a[1].length);switch(i){case"###,###":case"##,###":case"#,###":var f=P0(""+u);return f!=="0"?l+f:"";default:if(i.match(/\.[0#?]*$/))return Xf(t,i.slice(0,i.lastIndexOf(".")),e)+Mc(i.slice(i.lastIndexOf(".")))}throw new Error("unsupported format |"+i+"|")}function im(t,i,e){return(e|0)===e?Xf(t,i,e):Hd(t,i,e)}function Aze(t){for(var i=[],e=!1,r=0,n=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:e=!e;break;case 95:case 42:case 92:++r;break;case 59:i[i.length]=t.substr(n,r-n),n=r+1}if(i[i.length]=t.substr(n),e===!0)throw new Error("Format |"+t+"| unterminated string ");return i}var hse=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function bv(t){for(var i=0,e="",r="";i<t.length;)switch(e=t.charAt(i)){case"G":lD(t,i)&&(i+=6),i++;break;case'"':for(;t.charCodeAt(++i)!==34&&i<t.length;);++i;break;case"\\":i+=2;break;case"_":i+=2;break;case"@":++i;break;case"B":case"b":if(t.charAt(i+1)==="1"||t.charAt(i+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(t.substr(i,3).toUpperCase()==="A/P"||t.substr(i,5).toUpperCase()==="AM/PM"||t.substr(i,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++i;break;case"[":for(r=e;t.charAt(i++)!=="]"&&i<t.length;)r+=t.charAt(i);if(r.match(hse))return!0;break;case".":case"0":case"#":for(;i<t.length&&("0#?.,E+-%".indexOf(e=t.charAt(++i))>-1||e=="\\"&&t.charAt(i+1)=="-"&&"0#".indexOf(t.charAt(i+2))>-1););break;case"?":for(;t.charAt(++i)===e;);break;case"*":++i,(t.charAt(i)==" "||t.charAt(i)=="*")&&++i;break;case"(":case")":++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;i<t.length&&"0123456789".indexOf(t.charAt(++i))>-1;);break;case" ":++i;break;default:++i;break}return!1}function Mze(t,i,e,r){for(var n=[],a="",s=0,o="",u="t",l,c,h,d="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!lD(t,s))throw new Error("unrecognized character "+o+" in "+t);n[n.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(h=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(h);n[n.length]={t:"t",v:a},++s;break;case"\\":var f=t.charAt(++s),m=f==="("||f===")"?f:"t";n[n.length]={t:m,v:f},++s;break;case"_":n[n.length]={t:"t",v:" "},s+=2;break;case"@":n[n.length]={t:"T",v:i},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(l==null&&(l=Rx(i,e,t.charAt(s+1)==="2"),l==null))return"";n[n.length]={t:"X",v:t.substr(s,2)},u=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(i<0||l==null&&(l=Rx(i,e),l==null))return"";for(a=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&u.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),n[n.length]={t:o,v:a},u=o;break;case"A":case"a":case"\u4E0A":var p={t:o,v:o};if(l==null&&(l=Rx(i,e)),t.substr(s,3).toUpperCase()==="A/P"?(l!=null&&(p.v=l.H>=12?t.charAt(s+2):o),p.t="T",d="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(l!=null&&(p.v=l.H>=12?"PM":"AM"),p.t="T",s+=5,d="h"):t.substr(s,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(l!=null&&(p.v=l.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),p.t="T",s+=5,d="h"):(p.t="t",++s),l==null&&p.t==="T")return"";n[n.length]=p,u=o;break;case"[":for(a=o;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(hse)){if(l==null&&(l=Rx(i,e),l==null))return"";n[n.length]={t:"Z",v:a.toLowerCase()},u=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",bv(t)||(n[n.length]={t:"t",v:a}));break;case".":if(l!=null){for(a=o;++s<t.length&&(o=t.charAt(s))==="0";)a+=o;n[n.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)a+=o;n[n.length]={t:"n",v:a};break;case"?":for(a=o;t.charAt(++s)===o;)a+=o;n[n.length]={t:o,v:a},u=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":n[n.length]={t:r===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);n[n.length]={t:"D",v:a};break;case" ":n[n.length]={t:o,v:o},++s;break;case"$":n[n.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);n[n.length]={t:"t",v:o},++s;break}var g=0,v=0,y;for(s=n.length-1,u="t";s>=0;--s)switch(n[s].t){case"h":case"H":n[s].t=d,u="h",g<1&&(g=1);break;case"s":(y=n[s].v.match(/\.0+$/))&&(v=Math.max(v,y[0].length-1),g=4),g<3&&(g=3);case"d":case"y":case"e":u=n[s].t;break;case"M":u=n[s].t,g<2&&(g=2);break;case"m":u==="s"&&(n[s].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&n[s].v.match(/[Hh]/)&&(g=1),g<2&&n[s].v.match(/[Mm]/)&&(g=2),g<3&&n[s].v.match(/[Ss]/)&&(g=3)}var x;switch(g){case 0:break;case 1:case 2:case 3:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H),l.H>=24&&(l.H=0,++l.D,x=Rx(l.D),x.u=l.u,x.S=l.S,x.M=l.M,x.H=l.H,l=x);break;case 4:switch(v){case 1:l.u=Math.round(l.u*10)/10;break;case 2:l.u=Math.round(l.u*100)/100;break;case 3:l.u=Math.round(l.u*1e3)/1e3;break}l.u>=1&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H),l.H>=24&&(l.H=0,++l.D,x=Rx(l.D),x.u=l.u,x.S=l.S,x.M=l.M,x.H=l.H,l=x);break}var b="",w;for(s=0;s<n.length;++s)switch(n[s].t){case"t":case"T":case" ":case"D":break;case"X":n[s].v="",n[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[s].v=yze(n[s].t.charCodeAt(0),n[s].v,l,v),n[s].t="t";break;case"n":case"?":for(w=s+1;n[w]!=null&&((o=n[w].t)==="?"||o==="D"||(o===" "||o==="t")&&n[w+1]!=null&&(n[w+1].t==="?"||n[w+1].t==="t"&&n[w+1].v==="/")||n[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[w].v==="/"||n[w].v===" "&&n[w+1]!=null&&n[w+1].t=="?"));)n[s].v+=n[w].v,n[w]={v:"",t:";"},++w;b+=n[s].v,s=w-1;break;case"G":n[s].t="t",n[s].v=w6(i,e);break}var C="",_,S;if(b.length>0){b.charCodeAt(0)==40?(_=i<0&&b.charCodeAt(0)===45?-i:i,S=im("n",b,_)):(_=i<0&&r>1?-i:i,S=im("n",b,_),_<0&&n[0]&&n[0].t=="t"&&(S=S.substr(1),n[0].v="-"+n[0].v)),w=S.length-1;var T=n.length;for(s=0;s<n.length;++s)if(n[s]!=null&&n[s].t!="t"&&n[s].v.indexOf(".")>-1){T=s;break}var A=n.length;if(T===n.length&&S.indexOf("E")===-1){for(s=n.length-1;s>=0;--s)n[s]==null||"n?".indexOf(n[s].t)===-1||(w>=n[s].v.length-1?(w-=n[s].v.length,n[s].v=S.substr(w+1,n[s].v.length)):w<0?n[s].v="":(n[s].v=S.substr(0,w+1),w=-1),n[s].t="t",A=s);w>=0&&A<n.length&&(n[A].v=S.substr(0,w+1)+n[A].v)}else if(T!==n.length&&S.indexOf("E")===-1){for(w=S.indexOf(".")-1,s=T;s>=0;--s)if(!(n[s]==null||"n?".indexOf(n[s].t)===-1)){for(c=n[s].v.indexOf(".")>-1&&s===T?n[s].v.indexOf(".")-1:n[s].v.length-1,C=n[s].v.substr(c+1);c>=0;--c)w>=0&&(n[s].v.charAt(c)==="0"||n[s].v.charAt(c)==="#")&&(C=S.charAt(w--)+C);n[s].v=C,n[s].t="t",A=s}for(w>=0&&A<n.length&&(n[A].v=S.substr(0,w+1)+n[A].v),w=S.indexOf(".")+1,s=T;s<n.length;++s)if(!(n[s]==null||"n?(".indexOf(n[s].t)===-1&&s!==T)){for(c=n[s].v.indexOf(".")>-1&&s===T?n[s].v.indexOf(".")+1:0,C=n[s].v.substr(0,c);c<n[s].v.length;++c)w<S.length&&(C+=S.charAt(w++));n[s].v=C,n[s].t="t",A=s}}}for(s=0;s<n.length;++s)n[s]!=null&&"n?".indexOf(n[s].t)>-1&&(_=r>1&&i<0&&s>0&&n[s-1].v==="-"?-i:i,n[s].v=im(n[s].t,n[s].v,_),n[s].t="t");var M="";for(s=0;s!==n.length;++s)n[s]!=null&&(M+=n[s].v);return M}var yre=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function xre(t,i){if(i==null)return!1;var e=parseFloat(i[2]);switch(i[1]){case"=":if(t==e)return!0;break;case">":if(t>e)return!0;break;case"<":if(t<e)return!0;break;case"<>":if(t!=e)return!0;break;case">=":if(t>=e)return!0;break;case"<=":if(t<=e)return!0;break}return!1}function Ize(t,i){var e=Aze(t),r=e.length,n=e[r-1].indexOf("@");if(r<4&&n>-1&&--r,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if(typeof i!="number")return[4,e.length===4||n>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=n>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=n>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=n>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"];break;case 4:break}var a=i>0?e[0]:i<0?e[1]:e[2];if(e[0].indexOf("[")===-1&&e[1].indexOf("[")===-1)return[r,a];if(e[0].match(/\[[=<>]/)!=null||e[1].match(/\[[=<>]/)!=null){var s=e[0].match(yre),o=e[1].match(yre);return xre(i,s)?[r,e[0]]:xre(i,o)?[r,e[1]]:[r,e[s!=null&&o!=null?2:1]]}return[r,a]}function sm(t,i,e){e==null&&(e={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&e.dateNF?r=e.dateNF:r=t;break;case"number":t==14&&e.dateNF?r=e.dateNF:r=(e.table!=null?e.table:Ks)[t],r==null&&(r=e.table&&e.table[mre[t]]||Ks[mre[t]]),r==null&&(r=dze[t]||"General");break}if(lD(r,0))return w6(i,e);i instanceof Date&&(i=xl(i,e.date1904));var n=Ize(r,i);if(lD(n[1]))return w6(i,e);if(i===!0)i="TRUE";else if(i===!1)i="FALSE";else if(i===""||i==null)return"";return Mze(n[1],i,e,n[0])}function fse(t,i){if(typeof i!="number"){i=+i||-1;for(var e=0;e<392;++e){if(Ks[e]==null){i<0&&(i=e);continue}if(Ks[e]==t){i=e;break}}i<0&&(i=391)}return Ks[i]=t,i}function SD(t){for(var i=0;i!=392;++i)t[i]!==void 0&&fse(t[i],i)}function TD(){Ks=uze()}var uD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Dze(t){var i=typeof t=="number"?Ks[t]:t;return i=i.replace(uD,"(\\d+)"),uD.lastIndex=0,new RegExp("^"+i+"$")}function Pze(t,i,e){var r=-1,n=-1,a=-1,s=-1,o=-1,u=-1;(i.match(uD)||[]).forEach(function(h,d){var f=parseInt(e[d+1],10);switch(h.toLowerCase().charAt(0)){case"y":r=f;break;case"d":a=f;break;case"h":s=f;break;case"s":u=f;break;case"m":s>=0?o=f:n=f;break}}),uD.lastIndex=0,u>=0&&o==-1&&n>=0&&(o=n,n=-1);var l=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);l.length==7&&(l="0"+l),l.length==8&&(l="20"+l);var c=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return s==-1&&o==-1&&u==-1?l:r==-1&&n==-1&&a==-1?c:l+"T"+c}var Rze={"d.m":"d\\.m"};function kze(t,i){return fse(Rze[t]||t,i)}var bre=function(){var t={};t.version="1.2.0";function i(){for(var _=0,S=new Array(256),T=0;T!=256;++T)_=T,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,S[T]=_;return typeof Int32Array<"u"?new Int32Array(S):S}var e=i();function r(_){var S=0,T=0,A=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(A=0;A!=256;++A)M[A]=_[A];for(A=0;A!=256;++A)for(T=_[A],S=256+A;S<4096;S+=256)T=M[S]=T>>>8^_[T&255];var I=[];for(A=1;A!=16;++A)I[A-1]=typeof Int32Array<"u"&&typeof M.subarray=="function"?M.subarray(A*256,A*256+256):M.slice(A*256,A*256+256);return I}var n=r(e),a=n[0],s=n[1],o=n[2],u=n[3],l=n[4],c=n[5],h=n[6],d=n[7],f=n[8],m=n[9],p=n[10],g=n[11],v=n[12],y=n[13],x=n[14];function b(_,S){for(var T=S^-1,A=0,M=_.length;A<M;)T=T>>>8^e[(T^_.charCodeAt(A++))&255];return~T}function w(_,S){for(var T=S^-1,A=_.length-15,M=0;M<A;)T=x[_[M++]^T&255]^y[_[M++]^T>>8&255]^v[_[M++]^T>>16&255]^g[_[M++]^T>>>24]^p[_[M++]]^m[_[M++]]^f[_[M++]]^d[_[M++]]^h[_[M++]]^c[_[M++]]^l[_[M++]]^u[_[M++]]^o[_[M++]]^s[_[M++]]^a[_[M++]]^e[_[M++]];for(A+=15;M<A;)T=T>>>8^e[(T^_[M++])&255];return~T}function C(_,S){for(var T=S^-1,A=0,M=_.length,I=0,D=0;A<M;)I=_.charCodeAt(A++),I<128?T=T>>>8^e[(T^I)&255]:I<2048?(T=T>>>8^e[(T^(192|I>>6&31))&255],T=T>>>8^e[(T^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,D=_.charCodeAt(A++)&1023,T=T>>>8^e[(T^(240|I>>8&7))&255],T=T>>>8^e[(T^(128|I>>2&63))&255],T=T>>>8^e[(T^(128|D>>6&15|(I&3)<<4))&255],T=T>>>8^e[(T^(128|D&63))&255]):(T=T>>>8^e[(T^(224|I>>12&15))&255],T=T>>>8^e[(T^(128|I>>6&63))&255],T=T>>>8^e[(T^(128|I&63))&255]);return~T}return t.table=e,t.bstr=b,t.buf=w,t.str=C,t}(),Fs=function(){var i={};i.version="1.2.2";function e(xe,Ne){for(var Re=xe.split("/"),Fe=Ne.split("/"),Oe=0,Be=0,st=Math.min(Re.length,Fe.length);Oe<st;++Oe){if(Be=Re[Oe].length-Fe[Oe].length)return Be;if(Re[Oe]!=Fe[Oe])return Re[Oe]<Fe[Oe]?-1:1}return Re.length-Fe.length}function r(xe){if(xe.charAt(xe.length-1)=="/")return xe.slice(0,-1).indexOf("/")===-1?xe:r(xe.slice(0,-1));var Ne=xe.lastIndexOf("/");return Ne===-1?xe:xe.slice(0,Ne+1)}function n(xe){if(xe.charAt(xe.length-1)=="/")return n(xe.slice(0,-1));var Ne=xe.lastIndexOf("/");return Ne===-1?xe:xe.slice(Ne+1)}function a(xe,Ne){typeof Ne=="string"&&(Ne=new Date(Ne));var Re=Ne.getHours();Re=Re<<6|Ne.getMinutes(),Re=Re<<5|Ne.getSeconds()>>>1,xe.write_shift(2,Re);var Fe=Ne.getFullYear()-1980;Fe=Fe<<4|Ne.getMonth()+1,Fe=Fe<<5|Ne.getDate(),xe.write_shift(2,Fe)}function s(xe){var Ne=xe.read_shift(2)&65535,Re=xe.read_shift(2)&65535,Fe=new Date,Oe=Re&31;Re>>>=5;var Be=Re&15;Re>>>=4,Fe.setMilliseconds(0),Fe.setFullYear(Re+1980),Fe.setMonth(Be-1),Fe.setDate(Oe);var st=Ne&31;Ne>>>=5;var Ct=Ne&63;return Ne>>>=6,Fe.setHours(Ne),Fe.setMinutes(Ct),Fe.setSeconds(st<<1),Fe}function o(xe){Ic(xe,0);for(var Ne={},Re=0;xe.l<=xe.length-4;){var Fe=xe.read_shift(2),Oe=xe.read_shift(2),Be=xe.l+Oe,st={};switch(Fe){case 21589:Re=xe.read_shift(1),Re&1&&(st.mtime=xe.read_shift(4)),Oe>5&&(Re&2&&(st.atime=xe.read_shift(4)),Re&4&&(st.ctime=xe.read_shift(4))),st.mtime&&(st.mt=new Date(st.mtime*1e3));break;case 1:{var Ct=xe.read_shift(4),nt=xe.read_shift(4);st.usz=nt*Math.pow(2,32)+Ct,Ct=xe.read_shift(4),nt=xe.read_shift(4),st.csz=nt*Math.pow(2,32)+Ct}break}xe.l=Be,Ne[Fe]=st}return Ne}var u;function l(){return u||(u=g2)}function c(xe,Ne){if(xe[0]==80&&xe[1]==75)return Nr(xe,Ne);if((xe[0]|32)==109&&(xe[1]|32)==105)return ja(xe,Ne);if(xe.length<512)throw new Error("CFB file size "+xe.length+" < 512");var Re=3,Fe=512,Oe=0,Be=0,st=0,Ct=0,nt=0,ot=[],lt=xe.slice(0,512);Ic(lt,0);var Qt=h(lt);switch(Re=Qt[0],Re){case 3:Fe=512;break;case 4:Fe=4096;break;case 0:if(Qt[1]==0)return Nr(xe,Ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+Re)}Fe!==512&&(lt=xe.slice(0,Fe),Ic(lt,28));var qt=xe.slice(0,Fe);d(lt,Re);var wi=lt.read_shift(4,"i");if(Re===3&&wi!==0)throw new Error("# Directory Sectors: Expected 0 saw "+wi);lt.l+=4,st=lt.read_shift(4,"i"),lt.l+=4,lt.chk("00100000","Mini Stream Cutoff Size: "),Ct=lt.read_shift(4,"i"),Oe=lt.read_shift(4,"i"),nt=lt.read_shift(4,"i"),Be=lt.read_shift(4,"i");for(var oi=-1,ii=0;ii<109&&(oi=lt.read_shift(4,"i"),!(oi<0));++ii)ot[ii]=oi;var en=f(xe,Fe);g(nt,Be,en,Fe,ot);var er=y(en,st,ot,Fe);st<er.length&&(er[st].name="!Directory"),Oe>0&&Ct!==D&&(er[Ct].name="!MiniFAT"),er[ot[0]].name="!FAT",er.fat_addrs=ot,er.ssz=Fe;var ws={},lr=[],$r=[],bl=[];x(st,er,en,lr,Oe,ws,$r,Ct),m($r,bl,lr),lr.shift();var Eo={FileIndex:$r,FullPaths:bl};return Ne&&Ne.raw&&(Eo.raw={header:qt,sectors:en}),Eo}function h(xe){if(xe[xe.l]==80&&xe[xe.l+1]==75)return[0,0];xe.chk(k,"Header Signature: "),xe.l+=16;var Ne=xe.read_shift(2,"u");return[xe.read_shift(2,"u"),Ne]}function d(xe,Ne){var Re=9;switch(xe.l+=2,Re=xe.read_shift(2)){case 9:if(Ne!=3)throw new Error("Sector Shift: Expected 9 saw "+Re);break;case 12:if(Ne!=4)throw new Error("Sector Shift: Expected 12 saw "+Re);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Re)}xe.chk("0600","Mini Sector Shift: "),xe.chk("000000000000","Reserved: ")}function f(xe,Ne){for(var Re=Math.ceil(xe.length/Ne)-1,Fe=[],Oe=1;Oe<Re;++Oe)Fe[Oe-1]=xe.slice(Oe*Ne,(Oe+1)*Ne);return Fe[Re-1]=xe.slice(Re*Ne),Fe}function m(xe,Ne,Re){for(var Fe=0,Oe=0,Be=0,st=0,Ct=0,nt=Re.length,ot=[],lt=[];Fe<nt;++Fe)ot[Fe]=lt[Fe]=Fe,Ne[Fe]=Re[Fe];for(;Ct<lt.length;++Ct)Fe=lt[Ct],Oe=xe[Fe].L,Be=xe[Fe].R,st=xe[Fe].C,ot[Fe]===Fe&&(Oe!==-1&&ot[Oe]!==Oe&&(ot[Fe]=ot[Oe]),Be!==-1&&ot[Be]!==Be&&(ot[Fe]=ot[Be])),st!==-1&&(ot[st]=Fe),Oe!==-1&&Fe!=ot[Fe]&&(ot[Oe]=ot[Fe],lt.lastIndexOf(Oe)<Ct&&lt.push(Oe)),Be!==-1&&Fe!=ot[Fe]&&(ot[Be]=ot[Fe],lt.lastIndexOf(Be)<Ct&&lt.push(Be));for(Fe=1;Fe<nt;++Fe)ot[Fe]===Fe&&(Be!==-1&&ot[Be]!==Be?ot[Fe]=ot[Be]:Oe!==-1&&ot[Oe]!==Oe&&(ot[Fe]=ot[Oe]));for(Fe=1;Fe<nt;++Fe)if(xe[Fe].type!==0){if(Ct=Fe,Ct!=ot[Ct])do Ct=ot[Ct],Ne[Fe]=Ne[Ct]+"/"+Ne[Fe];while(Ct!==0&&ot[Ct]!==-1&&Ct!=ot[Ct]);ot[Fe]=-1}for(Ne[0]+="/",Fe=1;Fe<nt;++Fe)xe[Fe].type!==2&&(Ne[Fe]+="/")}function p(xe,Ne,Re){for(var Fe=xe.start,Oe=xe.size,Be=[],st=Fe;Re&&Oe>0&&st>=0;)Be.push(Ne.slice(st*I,st*I+I)),Oe-=I,st=gv(Re,st*4);return Be.length===0?gt(0):ro(Be).slice(0,xe.size)}function g(xe,Ne,Re,Fe,Oe){var Be=D;if(xe===D){if(Ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(xe!==-1){var st=Re[xe],Ct=(Fe>>>2)-1;if(!st)return;for(var nt=0;nt<Ct&&(Be=gv(st,nt*4))!==D;++nt)Oe.push(Be);Ne>=1&&g(gv(st,Fe-4),Ne-1,Re,Fe,Oe)}}function v(xe,Ne,Re,Fe,Oe){var Be=[],st=[];Oe||(Oe=[]);var Ct=Fe-1,nt=0,ot=0;for(nt=Ne;nt>=0;){Oe[nt]=!0,Be[Be.length]=nt,st.push(xe[nt]);var lt=Re[Math.floor(nt*4/Fe)];if(ot=nt*4&Ct,Fe<4+ot)throw new Error("FAT boundary crossed: "+nt+" 4 "+Fe);if(!xe[lt])break;nt=gv(xe[lt],ot)}return{nodes:Be,data:Are([st])}}function y(xe,Ne,Re,Fe){var Oe=xe.length,Be=[],st=[],Ct=[],nt=[],ot=Fe-1,lt=0,Qt=0,qt=0,wi=0;for(lt=0;lt<Oe;++lt)if(Ct=[],qt=lt+Ne,qt>=Oe&&(qt-=Oe),!st[qt]){nt=[];var oi=[];for(Qt=qt;Qt>=0;){oi[Qt]=!0,st[Qt]=!0,Ct[Ct.length]=Qt,nt.push(xe[Qt]);var ii=Re[Math.floor(Qt*4/Fe)];if(wi=Qt*4&ot,Fe<4+wi)throw new Error("FAT boundary crossed: "+Qt+" 4 "+Fe);if(!xe[ii]||(Qt=gv(xe[ii],wi),oi[Qt]))break}Be[qt]={nodes:Ct,data:Are([nt])}}return Be}function x(xe,Ne,Re,Fe,Oe,Be,st,Ct){for(var nt=0,ot=Fe.length?2:0,lt=Ne[xe].data,Qt=0,qt=0,wi;Qt<lt.length;Qt+=128){var oi=lt.slice(Qt,Qt+128);Ic(oi,64),qt=oi.read_shift(2),wi=MD(oi,0,qt-ot),Fe.push(wi);var ii={name:wi,type:oi.read_shift(1),color:oi.read_shift(1),L:oi.read_shift(4,"i"),R:oi.read_shift(4,"i"),C:oi.read_shift(4,"i"),clsid:oi.read_shift(16),state:oi.read_shift(4,"i"),start:0,size:0},en=oi.read_shift(2)+oi.read_shift(2)+oi.read_shift(2)+oi.read_shift(2);en!==0&&(ii.ct=b(oi,oi.l-8));var er=oi.read_shift(2)+oi.read_shift(2)+oi.read_shift(2)+oi.read_shift(2);er!==0&&(ii.mt=b(oi,oi.l-8)),ii.start=oi.read_shift(4,"i"),ii.size=oi.read_shift(4,"i"),ii.size<0&&ii.start<0&&(ii.size=ii.type=0,ii.start=D,ii.name=""),ii.type===5?(nt=ii.start,Oe>0&&nt!==D&&(Ne[nt].name="!StreamData")):ii.size>=4096?(ii.storage="fat",Ne[ii.start]===void 0&&(Ne[ii.start]=v(Re,ii.start,Ne.fat_addrs,Ne.ssz)),Ne[ii.start].name=ii.name,ii.content=Ne[ii.start].data.slice(0,ii.size)):(ii.storage="minifat",ii.size<0?ii.size=0:nt!==D&&ii.start!==D&&Ne[nt]&&(ii.content=p(ii,Ne[nt].data,(Ne[Ct]||{}).data))),ii.content&&Ic(ii.content,0),Be[wi]=ii,st.push(ii)}}function b(xe,Ne){return new Date((jo(xe,Ne+4)/1e7*Math.pow(2,32)+jo(xe,Ne)/1e7-11644473600)*1e3)}function w(xe,Ne){return l(),c(u.readFileSync(xe),Ne)}function C(xe,Ne){var Re=Ne&&Ne.type;switch(Re||ns&&Buffer.isBuffer(xe)&&(Re="buffer"),Re||"base64"){case"file":return w(xe,Ne);case"base64":return c(Ju(k0(xe)),Ne);case"binary":return c(Ju(xe),Ne)}return c(xe,Ne)}function _(xe,Ne){var Re=Ne||{},Fe=Re.root||"Root Entry";if(xe.FullPaths||(xe.FullPaths=[]),xe.FileIndex||(xe.FileIndex=[]),xe.FullPaths.length!==xe.FileIndex.length)throw new Error("inconsistent CFB structure");xe.FullPaths.length===0&&(xe.FullPaths[0]=Fe+"/",xe.FileIndex[0]={name:Fe,type:5}),Re.CLSID&&(xe.FileIndex[0].clsid=Re.CLSID),S(xe)}function S(xe){var Ne="Sh33tJ5";if(!Fs.find(xe,"/"+Ne)){var Re=gt(4);Re[0]=55,Re[1]=Re[3]=50,Re[2]=54,xe.FileIndex.push({name:Ne,type:2,content:Re,size:4,L:69,R:69,C:69}),xe.FullPaths.push(xe.FullPaths[0]+Ne),T(xe)}}function T(xe,Ne){_(xe);for(var Re=!1,Fe=!1,Oe=xe.FullPaths.length-1;Oe>=0;--Oe){var Be=xe.FileIndex[Oe];switch(Be.type){case 0:Fe?Re=!0:(xe.FileIndex.pop(),xe.FullPaths.pop());break;case 1:case 2:case 5:Fe=!0,isNaN(Be.R*Be.L*Be.C)&&(Re=!0),Be.R>-1&&Be.L>-1&&Be.R==Be.L&&(Re=!0);break;default:Re=!0;break}}if(!(!Re&&!Ne)){var st=new Date(1987,1,19),Ct=0,nt=Object.create?Object.create(null):{},ot=[];for(Oe=0;Oe<xe.FullPaths.length;++Oe)nt[xe.FullPaths[Oe]]=!0,xe.FileIndex[Oe].type!==0&&ot.push([xe.FullPaths[Oe],xe.FileIndex[Oe]]);for(Oe=0;Oe<ot.length;++Oe){var lt=r(ot[Oe][0]);for(Fe=nt[lt];!Fe;){for(;r(lt)&&!nt[r(lt)];)lt=r(lt);ot.push([lt,{name:n(lt).replace("/",""),type:1,clsid:R,ct:st,mt:st,content:null}]),nt[lt]=!0,lt=r(ot[Oe][0]),Fe=nt[lt]}}for(ot.sort(function(wi,oi){return e(wi[0],oi[0])}),xe.FullPaths=[],xe.FileIndex=[],Oe=0;Oe<ot.length;++Oe)xe.FullPaths[Oe]=ot[Oe][0],xe.FileIndex[Oe]=ot[Oe][1];for(Oe=0;Oe<ot.length;++Oe){var Qt=xe.FileIndex[Oe],qt=xe.FullPaths[Oe];if(Qt.name=n(qt).replace("/",""),Qt.L=Qt.R=Qt.C=-(Qt.color=1),Qt.size=Qt.content?Qt.content.length:0,Qt.start=0,Qt.clsid=Qt.clsid||R,Oe===0)Qt.C=ot.length>1?1:-1,Qt.size=0,Qt.type=5;else if(qt.slice(-1)=="/"){for(Ct=Oe+1;Ct<ot.length&&r(xe.FullPaths[Ct])!=qt;++Ct);for(Qt.C=Ct>=ot.length?-1:Ct,Ct=Oe+1;Ct<ot.length&&r(xe.FullPaths[Ct])!=r(qt);++Ct);Qt.R=Ct>=ot.length?-1:Ct,Qt.type=1}else r(xe.FullPaths[Oe+1]||"")==r(qt)&&(Qt.R=Oe+1),Qt.type=2}}}function A(xe,Ne){var Re=Ne||{};if(Re.fileType=="mad")return Ji(xe,Re);switch(T(xe),Re.fileType){case"zip":return lo(xe,Re)}var Fe=function(wi){for(var oi=0,ii=0,en=0;en<wi.FileIndex.length;++en){var er=wi.FileIndex[en];if(er.content){var ws=er.content.length;ws>0&&(ws<4096?oi+=ws+63>>6:ii+=ws+511>>9)}}for(var lr=wi.FullPaths.length+3>>2,$r=oi+7>>3,bl=oi+127>>7,Eo=$r+ii+lr+bl,Cn=Eo+127>>7,nr=Cn<=109?0:Math.ceil((Cn-109)/127);Eo+Cn+nr+127>>7>Cn;)nr=++Cn<=109?0:Math.ceil((Cn-109)/127);var La=[1,nr,Cn,bl,lr,ii,oi,0];return wi.FileIndex[0].size=oi<<6,La[7]=(wi.FileIndex[0].start=La[0]+La[1]+La[2]+La[3]+La[4]+La[5])+(La[6]+7>>3),La}(xe),Oe=gt(Fe[7]<<9),Be=0,st=0;{for(Be=0;Be<8;++Be)Oe.write_shift(1,G[Be]);for(Be=0;Be<8;++Be)Oe.write_shift(2,0);for(Oe.write_shift(2,62),Oe.write_shift(2,3),Oe.write_shift(2,65534),Oe.write_shift(2,9),Oe.write_shift(2,6),Be=0;Be<3;++Be)Oe.write_shift(2,0);for(Oe.write_shift(4,0),Oe.write_shift(4,Fe[2]),Oe.write_shift(4,Fe[0]+Fe[1]+Fe[2]+Fe[3]-1),Oe.write_shift(4,0),Oe.write_shift(4,4096),Oe.write_shift(4,Fe[3]?Fe[0]+Fe[1]+Fe[2]-1:D),Oe.write_shift(4,Fe[3]),Oe.write_shift(-4,Fe[1]?Fe[0]-1:D),Oe.write_shift(4,Fe[1]),Be=0;Be<109;++Be)Oe.write_shift(-4,Be<Fe[2]?Fe[1]+Be:-1)}if(Fe[1])for(st=0;st<Fe[1];++st){for(;Be<236+st*127;++Be)Oe.write_shift(-4,Be<Fe[2]?Fe[1]+Be:-1);Oe.write_shift(-4,st===Fe[1]-1?D:st+1)}var Ct=function(wi){for(st+=wi;Be<st-1;++Be)Oe.write_shift(-4,Be+1);wi&&(++Be,Oe.write_shift(-4,D))};for(st=Be=0,st+=Fe[1];Be<st;++Be)Oe.write_shift(-4,H.DIFSECT);for(st+=Fe[2];Be<st;++Be)Oe.write_shift(-4,H.FATSECT);Ct(Fe[3]),Ct(Fe[4]);for(var nt=0,ot=0,lt=xe.FileIndex[0];nt<xe.FileIndex.length;++nt)lt=xe.FileIndex[nt],lt.content&&(ot=lt.content.length,!(ot<4096)&&(lt.start=st,Ct(ot+511>>9)));for(Ct(Fe[6]+7>>3);Oe.l&511;)Oe.write_shift(-4,H.ENDOFCHAIN);for(st=Be=0,nt=0;nt<xe.FileIndex.length;++nt)lt=xe.FileIndex[nt],lt.content&&(ot=lt.content.length,!(!ot||ot>=4096)&&(lt.start=st,Ct(ot+63>>6)));for(;Oe.l&511;)Oe.write_shift(-4,H.ENDOFCHAIN);for(Be=0;Be<Fe[4]<<2;++Be){var Qt=xe.FullPaths[Be];if(!Qt||Qt.length===0){for(nt=0;nt<17;++nt)Oe.write_shift(4,0);for(nt=0;nt<3;++nt)Oe.write_shift(4,-1);for(nt=0;nt<12;++nt)Oe.write_shift(4,0);continue}lt=xe.FileIndex[Be],Be===0&&(lt.start=lt.size?lt.start-1:D);var qt=Be===0&&Re.root||lt.name;if(qt.length>31&&(console.error("Name "+qt+" will be truncated to "+qt.slice(0,31)),qt=qt.slice(0,31)),ot=2*(qt.length+1),Oe.write_shift(64,qt,"utf16le"),Oe.write_shift(2,ot),Oe.write_shift(1,lt.type),Oe.write_shift(1,lt.color),Oe.write_shift(-4,lt.L),Oe.write_shift(-4,lt.R),Oe.write_shift(-4,lt.C),lt.clsid)Oe.write_shift(16,lt.clsid,"hex");else for(nt=0;nt<4;++nt)Oe.write_shift(4,0);Oe.write_shift(4,lt.state||0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,lt.start),Oe.write_shift(4,lt.size),Oe.write_shift(4,0)}for(Be=1;Be<xe.FileIndex.length;++Be)if(lt=xe.FileIndex[Be],lt.size>=4096)if(Oe.l=lt.start+1<<9,ns&&Buffer.isBuffer(lt.content))lt.content.copy(Oe,Oe.l,0,lt.size),Oe.l+=lt.size+511&-512;else{for(nt=0;nt<lt.size;++nt)Oe.write_shift(1,lt.content[nt]);for(;nt&511;++nt)Oe.write_shift(1,0)}for(Be=1;Be<xe.FileIndex.length;++Be)if(lt=xe.FileIndex[Be],lt.size>0&&lt.size<4096)if(ns&&Buffer.isBuffer(lt.content))lt.content.copy(Oe,Oe.l,0,lt.size),Oe.l+=lt.size+63&-64;else{for(nt=0;nt<lt.size;++nt)Oe.write_shift(1,lt.content[nt]);for(;nt&63;++nt)Oe.write_shift(1,0)}if(ns)Oe.l=Oe.length;else for(;Oe.l<Oe.length;)Oe.write_shift(1,0);return Oe}function M(xe,Ne){var Re=xe.FullPaths.map(function(nt){return nt.toUpperCase()}),Fe=Re.map(function(nt){var ot=nt.split("/");return ot[ot.length-(nt.slice(-1)=="/"?2:1)]}),Oe=!1;Ne.charCodeAt(0)===47?(Oe=!0,Ne=Re[0].slice(0,-1)+Ne):Oe=Ne.indexOf("/")!==-1;var Be=Ne.toUpperCase(),st=Oe===!0?Re.indexOf(Be):Fe.indexOf(Be);if(st!==-1)return xe.FileIndex[st];var Ct=!Be.match(JI);for(Be=Be.replace(Fx,""),Ct&&(Be=Be.replace(JI,"!")),st=0;st<Re.length;++st)if((Ct?Re[st].replace(JI,"!"):Re[st]).replace(Fx,"")==Be||(Ct?Fe[st].replace(JI,"!"):Fe[st]).replace(Fx,"")==Be)return xe.FileIndex[st];return null}var I=64,D=-2,k="d0cf11e0a1b11ae1",G=[208,207,17,224,161,177,26,225],R="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:k,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:R,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function j(xe,Ne,Re){l();var Fe=A(xe,Re);u.writeFileSync(Ne,Fe)}function Z(xe){for(var Ne=new Array(xe.length),Re=0;Re<xe.length;++Re)Ne[Re]=String.fromCharCode(xe[Re]);return Ne.join("")}function ee(xe,Ne){var Re=A(xe,Ne);switch(Ne&&Ne.type||"buffer"){case"file":return l(),u.writeFileSync(Ne.filename,Re),Re;case"binary":return typeof Re=="string"?Re:Z(Re);case"base64":return aD(typeof Re=="string"?Re:Z(Re));case"buffer":if(ns)return Buffer.isBuffer(Re)?Re:Jf(Re);case"array":return typeof Re=="string"?Ju(Re):Re}return Re}var Y;function V(xe){try{var Ne=xe.InflateRaw,Re=new Ne;if(Re._processChunk(new Uint8Array([3,0]),Re._finishFlushFlag),Re.bytesRead)Y=xe;else throw new Error("zlib does not expose bytesRead")}catch(Fe){console.error("cannot use native zlib: "+(Fe.message||Fe))}}function O(xe,Ne){if(!Y)return gn(xe,Ne);var Re=Y.InflateRaw,Fe=new Re,Oe=Fe._processChunk(xe.slice(xe.l),Fe._finishFlushFlag);return xe.l+=Fe.bytesRead,Oe}function F(xe){return Y?Y.deflateRawSync(xe):vi(xe)}var X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],re=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function q(xe){var Ne=(xe<<1|xe<<11)&139536|(xe<<5|xe<<15)&558144;return(Ne>>16|Ne>>8|Ne)&255}for(var ae=typeof Uint8Array<"u",ue=ae?new Uint8Array(256):[],me=0;me<256;++me)ue[me]=q(me);function be(xe,Ne){var Re=ue[xe&255];return Ne<=8?Re>>>8-Ne:(Re=Re<<8|ue[xe>>8&255],Ne<=16?Re>>>16-Ne:(Re=Re<<8|ue[xe>>16&255],Re>>>24-Ne))}function ke(xe,Ne){var Re=Ne&7,Fe=Ne>>>3;return(xe[Fe]|(Re<=6?0:xe[Fe+1]<<8))>>>Re&3}function ze(xe,Ne){var Re=Ne&7,Fe=Ne>>>3;return(xe[Fe]|(Re<=5?0:xe[Fe+1]<<8))>>>Re&7}function De(xe,Ne){var Re=Ne&7,Fe=Ne>>>3;return(xe[Fe]|(Re<=4?0:xe[Fe+1]<<8))>>>Re&15}function ge(xe,Ne){var Re=Ne&7,Fe=Ne>>>3;return(xe[Fe]|(Re<=3?0:xe[Fe+1]<<8))>>>Re&31}function Et(xe,Ne){var Re=Ne&7,Fe=Ne>>>3;return(xe[Fe]|(Re<=1?0:xe[Fe+1]<<8))>>>Re&127}function ct(xe,Ne,Re){var Fe=Ne&7,Oe=Ne>>>3,Be=(1<<Re)-1,st=xe[Oe]>>>Fe;return Re<8-Fe||(st|=xe[Oe+1]<<8-Fe,Re<16-Fe)||(st|=xe[Oe+2]<<16-Fe,Re<24-Fe)||(st|=xe[Oe+3]<<24-Fe),st&Be}function We(xe,Ne,Re){var Fe=Ne&7,Oe=Ne>>>3;return Fe<=5?xe[Oe]|=(Re&7)<<Fe:(xe[Oe]|=Re<<Fe&255,xe[Oe+1]=(Re&7)>>8-Fe),Ne+3}function Ue(xe,Ne,Re){var Fe=Ne&7,Oe=Ne>>>3;return Re=(Re&1)<<Fe,xe[Oe]|=Re,Ne+1}function qe(xe,Ne,Re){var Fe=Ne&7,Oe=Ne>>>3;return Re<<=Fe,xe[Oe]|=Re&255,Re>>>=8,xe[Oe+1]=Re,Ne+8}function it(xe,Ne,Re){var Fe=Ne&7,Oe=Ne>>>3;return Re<<=Fe,xe[Oe]|=Re&255,Re>>>=8,xe[Oe+1]=Re&255,xe[Oe+2]=Re>>>8,Ne+16}function Ft(xe,Ne){var Re=xe.length,Fe=2*Re>Ne?2*Re:Ne+5,Oe=0;if(Re>=Ne)return xe;if(ns){var Be=hre(Fe);if(xe.copy)xe.copy(Be);else for(;Oe<xe.length;++Oe)Be[Oe]=xe[Oe];return Be}else if(ae){var st=new Uint8Array(Fe);if(st.set)st.set(xe);else for(;Oe<Re;++Oe)st[Oe]=xe[Oe];return st}return xe.length=Fe,xe}function at(xe){for(var Ne=new Array(xe),Re=0;Re<xe;++Re)Ne[Re]=0;return Ne}function bt(xe,Ne,Re){var Fe=1,Oe=0,Be=0,st=0,Ct=0,nt=xe.length,ot=ae?new Uint16Array(32):at(32);for(Be=0;Be<32;++Be)ot[Be]=0;for(Be=nt;Be<Re;++Be)xe[Be]=0;nt=xe.length;var lt=ae?new Uint16Array(nt):at(nt);for(Be=0;Be<nt;++Be)ot[Oe=xe[Be]]++,Fe<Oe&&(Fe=Oe),lt[Be]=0;for(ot[0]=0,Be=1;Be<=Fe;++Be)ot[Be+16]=Ct=Ct+ot[Be-1]<<1;for(Be=0;Be<nt;++Be)Ct=xe[Be],Ct!=0&&(lt[Be]=ot[Ct+16]++);var Qt=0;for(Be=0;Be<nt;++Be)if(Qt=xe[Be],Qt!=0)for(Ct=be(lt[Be],Fe)>>Fe-Qt,st=(1<<Fe+4-Qt)-1;st>=0;--st)Ne[Ct|st<<Qt]=Qt&15|Be<<4;return Fe}var ai=ae?new Uint16Array(512):at(512),ei=ae?new Uint16Array(32):at(32);if(!ae){for(var li=0;li<512;++li)ai[li]=0;for(li=0;li<32;++li)ei[li]=0}(function(){for(var xe=[],Ne=0;Ne<32;Ne++)xe.push(5);bt(xe,ei,32);var Re=[];for(Ne=0;Ne<=143;Ne++)Re.push(8);for(;Ne<=255;Ne++)Re.push(9);for(;Ne<=279;Ne++)Re.push(7);for(;Ne<=287;Ne++)Re.push(8);bt(Re,ai,288)})();var fi=function(){for(var Ne=ae?new Uint8Array(32768):[],Re=0,Fe=0;Re<re.length-1;++Re)for(;Fe<re[Re+1];++Fe)Ne[Fe]=Re;for(;Fe<32768;++Fe)Ne[Fe]=29;var Oe=ae?new Uint8Array(259):[];for(Re=0,Fe=0;Re<ie.length-1;++Re)for(;Fe<ie[Re+1];++Fe)Oe[Fe]=Re;function Be(Ct,nt){for(var ot=0;ot<Ct.length;){var lt=Math.min(65535,Ct.length-ot),Qt=ot+lt==Ct.length;for(nt.write_shift(1,+Qt),nt.write_shift(2,lt),nt.write_shift(2,~lt&65535);lt-- >0;)nt[nt.l++]=Ct[ot++]}return nt.l}function st(Ct,nt){for(var ot=0,lt=0,Qt=ae?new Uint16Array(32768):[];lt<Ct.length;){var qt=Math.min(65535,Ct.length-lt);if(qt<10){for(ot=We(nt,ot,+(lt+qt==Ct.length)),ot&7&&(ot+=8-(ot&7)),nt.l=ot/8|0,nt.write_shift(2,qt),nt.write_shift(2,~qt&65535);qt-- >0;)nt[nt.l++]=Ct[lt++];ot=nt.l*8;continue}ot=We(nt,ot,+(lt+qt==Ct.length)+2);for(var wi=0;qt-- >0;){var oi=Ct[lt];wi=(wi<<5^oi)&32767;var ii=-1,en=0;if((ii=Qt[wi])&&(ii|=lt&-32768,ii>lt&&(ii-=32768),ii<lt))for(;Ct[ii+en]==Ct[lt+en]&&en<250;)++en;if(en>2){oi=Oe[en],oi<=22?ot=qe(nt,ot,ue[oi+1]>>1)-1:(qe(nt,ot,3),ot+=5,qe(nt,ot,ue[oi-23]>>5),ot+=3);var er=oi<8?0:oi-4>>2;er>0&&(it(nt,ot,en-ie[oi]),ot+=er),oi=Ne[lt-ii],ot=qe(nt,ot,ue[oi]>>3),ot-=3;var ws=oi<4?0:oi-2>>1;ws>0&&(it(nt,ot,lt-ii-re[oi]),ot+=ws);for(var lr=0;lr<en;++lr)Qt[wi]=lt&32767,wi=(wi<<5^Ct[lt])&32767,++lt;qt-=en-1}else oi<=143?oi=oi+48:ot=Ue(nt,ot,1),ot=qe(nt,ot,ue[oi]),Qt[wi]=lt&32767,++lt}ot=qe(nt,ot,0)-1}return nt.l=(ot+7)/8|0,nt.l}return function(nt,ot){return nt.length<8?Be(nt,ot):st(nt,ot)}}();function vi(xe){var Ne=gt(50+Math.floor(xe.length*1.1)),Re=fi(xe,Ne);return Ne.slice(0,Re)}var Ht=ae?new Uint16Array(32768):at(32768),xi=ae?new Uint16Array(32768):at(32768),Ti=ae?new Uint16Array(128):at(128),Tr=1,mn=1;function wn(xe,Ne){var Re=ge(xe,Ne)+257;Ne+=5;var Fe=ge(xe,Ne)+1;Ne+=5;var Oe=De(xe,Ne)+4;Ne+=4;for(var Be=0,st=ae?new Uint8Array(19):at(19),Ct=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],nt=1,ot=ae?new Uint8Array(8):at(8),lt=ae?new Uint8Array(8):at(8),Qt=st.length,qt=0;qt<Oe;++qt)st[X[qt]]=Be=ze(xe,Ne),nt<Be&&(nt=Be),ot[Be]++,Ne+=3;var wi=0;for(ot[0]=0,qt=1;qt<=nt;++qt)lt[qt]=wi=wi+ot[qt-1]<<1;for(qt=0;qt<Qt;++qt)(wi=st[qt])!=0&&(Ct[qt]=lt[wi]++);var oi=0;for(qt=0;qt<Qt;++qt)if(oi=st[qt],oi!=0){wi=ue[Ct[qt]]>>8-oi;for(var ii=(1<<7-oi)-1;ii>=0;--ii)Ti[wi|ii<<oi]=oi&7|qt<<3}var en=[];for(nt=1;en.length<Re+Fe;)switch(wi=Ti[Et(xe,Ne)],Ne+=wi&7,wi>>>=3){case 16:for(Be=3+ke(xe,Ne),Ne+=2,wi=en[en.length-1];Be-- >0;)en.push(wi);break;case 17:for(Be=3+ze(xe,Ne),Ne+=3;Be-- >0;)en.push(0);break;case 18:for(Be=11+Et(xe,Ne),Ne+=7;Be-- >0;)en.push(0);break;default:en.push(wi),nt<wi&&(nt=wi);break}var er=en.slice(0,Re),ws=en.slice(Re);for(qt=Re;qt<286;++qt)er[qt]=0;for(qt=Fe;qt<30;++qt)ws[qt]=0;return Tr=bt(er,Ht,286),mn=bt(ws,xi,30),Ne}function Xr(xe,Ne){if(xe[0]==3&&!(xe[1]&3))return[yv(Ne),2];for(var Re=0,Fe=0,Oe=hre(Ne||1<<18),Be=0,st=Oe.length>>>0,Ct=0,nt=0;!(Fe&1);){if(Fe=ze(xe,Re),Re+=3,Fe>>>1)Fe>>1==1?(Ct=9,nt=5):(Re=wn(xe,Re),Ct=Tr,nt=mn);else{Re&7&&(Re+=8-(Re&7));var ot=xe[Re>>>3]|xe[(Re>>>3)+1]<<8;if(Re+=32,ot>0)for(!Ne&&st<Be+ot&&(Oe=Ft(Oe,Be+ot),st=Oe.length);ot-- >0;)Oe[Be++]=xe[Re>>>3],Re+=8;continue}for(;;){!Ne&&st<Be+32767&&(Oe=Ft(Oe,Be+32767),st=Oe.length);var lt=ct(xe,Re,Ct),Qt=Fe>>>1==1?ai[lt]:Ht[lt];if(Re+=Qt&15,Qt>>>=4,!(Qt>>>8&255))Oe[Be++]=Qt;else{if(Qt==256)break;Qt-=257;var qt=Qt<8?0:Qt-4>>2;qt>5&&(qt=0);var wi=Be+ie[Qt];qt>0&&(wi+=ct(xe,Re,qt),Re+=qt),lt=ct(xe,Re,nt),Qt=Fe>>>1==1?ei[lt]:xi[lt],Re+=Qt&15,Qt>>>=4;var oi=Qt<4?0:Qt-2>>1,ii=re[Qt];for(oi>0&&(ii+=ct(xe,Re,oi),Re+=oi),!Ne&&st<wi&&(Oe=Ft(Oe,wi+100),st=Oe.length);Be<wi;)Oe[Be]=Oe[Be-ii],++Be}}}return Ne?[Oe,Re+7>>>3]:[Oe.slice(0,Be),Re+7>>>3]}function gn(xe,Ne){var Re=xe.slice(xe.l||0),Fe=Xr(Re,Ne);return xe.l+=Fe[1],Fe[0]}function Xo(xe,Ne){if(xe)typeof console<"u"&&console.error(Ne);else throw new Error(Ne)}function Nr(xe,Ne){var Re=xe;Ic(Re,0);var Fe=[],Oe=[],Be={FileIndex:Fe,FullPaths:Oe};_(Be,{root:Ne.root});for(var st=Re.length-4;(Re[st]!=80||Re[st+1]!=75||Re[st+2]!=5||Re[st+3]!=6)&&st>=0;)--st;Re.l=st+4,Re.l+=4;var Ct=Re.read_shift(2);Re.l+=6;var nt=Re.read_shift(4);for(Re.l=nt,st=0;st<Ct;++st){Re.l+=20;var ot=Re.read_shift(4),lt=Re.read_shift(4),Qt=Re.read_shift(2),qt=Re.read_shift(2),wi=Re.read_shift(2);Re.l+=8;var oi=Re.read_shift(4),ii=o(Re.slice(Re.l+Qt,Re.l+Qt+qt));Re.l+=Qt+qt+wi;var en=Re.l;Re.l=oi+4,ii&&ii[1]&&((ii[1]||{}).usz&&(lt=ii[1].usz),(ii[1]||{}).csz&&(ot=ii[1].csz)),To(Re,ot,lt,Be,ii),Re.l=en}return Be}function To(xe,Ne,Re,Fe,Oe){xe.l+=2;var Be=xe.read_shift(2),st=xe.read_shift(2),Ct=s(xe);if(Be&8257)throw new Error("Unsupported ZIP encryption");for(var nt=xe.read_shift(4),ot=xe.read_shift(4),lt=xe.read_shift(4),Qt=xe.read_shift(2),qt=xe.read_shift(2),wi="",oi=0;oi<Qt;++oi)wi+=String.fromCharCode(xe[xe.l++]);if(qt){var ii=o(xe.slice(xe.l,xe.l+qt));(ii[21589]||{}).mt&&(Ct=ii[21589].mt),(ii[1]||{}).usz&&(lt=ii[1].usz),(ii[1]||{}).csz&&(ot=ii[1].csz),Oe&&((Oe[21589]||{}).mt&&(Ct=Oe[21589].mt),(Oe[1]||{}).usz&&(lt=ii[1].usz),(Oe[1]||{}).csz&&(ot=ii[1].csz))}xe.l+=qt;var en=xe.slice(xe.l,xe.l+ot);switch(st){case 8:en=O(xe,lt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+st)}var er=!1;Be&8&&(nt=xe.read_shift(4),nt==134695760&&(nt=xe.read_shift(4),er=!0),ot=xe.read_shift(4),lt=xe.read_shift(4)),ot!=Ne&&Xo(er,"Bad compressed size: "+Ne+" != "+ot),lt!=Re&&Xo(er,"Bad uncompressed size: "+Re+" != "+lt),ms(Fe,wi,en,{unsafe:!0,mt:Ct})}function lo(xe,Ne){var Re=Ne||{},Fe=[],Oe=[],Be=gt(1),st=Re.compression?8:0,Ct=0,nt=!1;nt&&(Ct|=8);var ot=0,lt=0,Qt=0,qt=0,wi=xe.FullPaths[0],oi=wi,ii=xe.FileIndex[0],en=[],er=0;for(ot=1;ot<xe.FullPaths.length;++ot)if(oi=xe.FullPaths[ot].slice(wi.length),ii=xe.FileIndex[ot],!(!ii.size||!ii.content||oi=="Sh33tJ5")){var ws=Qt,lr=gt(oi.length);for(lt=0;lt<oi.length;++lt)lr.write_shift(1,oi.charCodeAt(lt)&127);lr=lr.slice(0,lr.l),en[qt]=typeof ii.content=="string"?bre.bstr(ii.content,0):bre.buf(ii.content,0);var $r=typeof ii.content=="string"?Ju(ii.content):ii.content;st==8&&($r=F($r)),Be=gt(30),Be.write_shift(4,67324752),Be.write_shift(2,20),Be.write_shift(2,Ct),Be.write_shift(2,st),ii.mt?a(Be,ii.mt):Be.write_shift(4,0),Be.write_shift(-4,Ct&8?0:en[qt]),Be.write_shift(4,Ct&8?0:$r.length),Be.write_shift(4,Ct&8?0:ii.content.length),Be.write_shift(2,lr.length),Be.write_shift(2,0),Qt+=Be.length,Fe.push(Be),Qt+=lr.length,Fe.push(lr),Qt+=$r.length,Fe.push($r),Ct&8&&(Be=gt(12),Be.write_shift(-4,en[qt]),Be.write_shift(4,$r.length),Be.write_shift(4,ii.content.length),Qt+=Be.l,Fe.push(Be)),Be=gt(46),Be.write_shift(4,33639248),Be.write_shift(2,0),Be.write_shift(2,20),Be.write_shift(2,Ct),Be.write_shift(2,st),Be.write_shift(4,0),Be.write_shift(-4,en[qt]),Be.write_shift(4,$r.length),Be.write_shift(4,ii.content.length),Be.write_shift(2,lr.length),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(4,0),Be.write_shift(4,ws),er+=Be.l,Oe.push(Be),er+=lr.length,Oe.push(lr),++qt}return Be=gt(22),Be.write_shift(4,101010256),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(2,qt),Be.write_shift(2,qt),Be.write_shift(4,er),Be.write_shift(4,Qt),Be.write_shift(2,0),ro([ro(Fe),ro(Oe),Be])}var Er={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function sn(xe,Ne){if(xe.ctype)return xe.ctype;var Re=xe.name||"",Fe=Re.match(/\.([^\.]+)$/);return Fe&&Er[Fe[1]]||Ne&&(Fe=(Re=Ne).match(/[\.\\]([^\.\\])+$/),Fe&&Er[Fe[1]])?Er[Fe[1]]:"application/octet-stream"}function On(xe){for(var Ne=aD(xe),Re=[],Fe=0;Fe<Ne.length;Fe+=76)Re.push(Ne.slice(Fe,Fe+76));return Re.join(`\r
`)+`\r
`}function Pc(xe){var Ne=xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ot){var lt=ot.charCodeAt(0).toString(16).toUpperCase();return"="+(lt.length==1?"0"+lt:lt)});Ne=Ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ne.charAt(0)==`
`&&(Ne="=0D"+Ne.slice(1)),Ne=Ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Re=[],Fe=Ne.split(`\r
`),Oe=0;Oe<Fe.length;++Oe){var Be=Fe[Oe];if(Be.length==0){Re.push("");continue}for(var st=0;st<Be.length;){var Ct=76,nt=Be.slice(st,st+Ct);nt.charAt(Ct-1)=="="?Ct--:nt.charAt(Ct-2)=="="?Ct-=2:nt.charAt(Ct-3)=="="&&(Ct-=3),nt=Be.slice(st,st+Ct),st+=Ct,st<Be.length&&(nt+="="),Re.push(nt)}}return Re.join(`\r
`)}function ps(xe){for(var Ne=[],Re=0;Re<xe.length;++Re){for(var Fe=xe[Re];Re<=xe.length&&Fe.charAt(Fe.length-1)=="=";)Fe=Fe.slice(0,Fe.length-1)+xe[++Re];Ne.push(Fe)}for(var Oe=0;Oe<Ne.length;++Oe)Ne[Oe]=Ne[Oe].replace(/[=][0-9A-Fa-f]{2}/g,function(Be){return String.fromCharCode(parseInt(Be.slice(1),16))});return Ju(Ne.join(`\r
`))}function Yo(xe,Ne,Re){for(var Fe="",Oe="",Be="",st,Ct=0;Ct<10;++Ct){var nt=Ne[Ct];if(!nt||nt.match(/^\s*$/))break;var ot=nt.match(/^([^:]*?):\s*([^\s].*)$/);if(ot)switch(ot[1].toLowerCase()){case"content-location":Fe=ot[2].trim();break;case"content-type":Be=ot[2].trim();break;case"content-transfer-encoding":Oe=ot[2].trim();break}}switch(++Ct,Oe.toLowerCase()){case"base64":st=Ju(k0(Ne.slice(Ct).join("")));break;case"quoted-printable":st=ps(Ne.slice(Ct));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Oe)}var lt=ms(xe,Fe.slice(Re.length),st,{unsafe:!0});Be&&(lt.ctype=Be)}function ja(xe,Ne){if(Z(xe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Re=Ne&&Ne.root||"",Fe=(ns&&Buffer.isBuffer(xe)?xe.toString("binary"):Z(xe)).split(`\r
`),Oe=0,Be="";for(Oe=0;Oe<Fe.length;++Oe)if(Be=Fe[Oe],!!/^Content-Location:/i.test(Be)&&(Be=Be.slice(Be.indexOf("file")),Re||(Re=Be.slice(0,Be.lastIndexOf("/")+1)),Be.slice(0,Re.length)!=Re))for(;Re.length>0&&(Re=Re.slice(0,Re.length-1),Re=Re.slice(0,Re.lastIndexOf("/")+1),Be.slice(0,Re.length)!=Re););var st=(Fe[1]||"").match(/boundary="(.*?)"/);if(!st)throw new Error("MAD cannot find boundary");var Ct="--"+(st[1]||""),nt=[],ot=[],lt={FileIndex:nt,FullPaths:ot};_(lt);var Qt,qt=0;for(Oe=0;Oe<Fe.length;++Oe){var wi=Fe[Oe];wi!==Ct&&wi!==Ct+"--"||(qt++&&Yo(lt,Fe.slice(Qt,Oe),Re),Qt=Oe)}return lt}function Ji(xe,Ne){var Re=Ne||{},Fe=Re.boundary||"SheetJS";Fe="------="+Fe;for(var Oe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Fe.slice(2)+'"',"","",""],Be=xe.FullPaths[0],st=Be,Ct=xe.FileIndex[0],nt=1;nt<xe.FullPaths.length;++nt)if(st=xe.FullPaths[nt].slice(Be.length),Ct=xe.FileIndex[nt],!(!Ct.size||!Ct.content||st=="Sh33tJ5")){st=st.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(en){return"_x"+en.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(en){return"_u"+en.charCodeAt(0).toString(16)+"_"});for(var ot=Ct.content,lt=ns&&Buffer.isBuffer(ot)?ot.toString("binary"):Z(ot),Qt=0,qt=Math.min(1024,lt.length),wi=0,oi=0;oi<=qt;++oi)(wi=lt.charCodeAt(oi))>=32&&wi<128&&++Qt;var ii=Qt>=qt*4/5;Oe.push(Fe),Oe.push("Content-Location: "+(Re.root||"file:///C:/SheetJS/")+st),Oe.push("Content-Transfer-Encoding: "+(ii?"quoted-printable":"base64")),Oe.push("Content-Type: "+sn(Ct,st)),Oe.push(""),Oe.push(ii?Pc(lt):On(lt))}return Oe.push(Fe+`--\r
`),Oe.join(`\r
`)}function Br(xe){var Ne={};return _(Ne,xe),Ne}function ms(xe,Ne,Re,Fe){var Oe=Fe&&Fe.unsafe;Oe||_(xe);var Be=!Oe&&Fs.find(xe,Ne);if(!Be){var st=xe.FullPaths[0];Ne.slice(0,st.length)==st?st=Ne:(st.slice(-1)!="/"&&(st+="/"),st=(st+Ne).replace("//","/")),Be={name:n(Ne),type:2},xe.FileIndex.push(Be),xe.FullPaths.push(st),Oe||Fs.utils.cfb_gc(xe)}return Be.content=Re,Be.size=Re?Re.length:0,Fe&&(Fe.CLSID&&(Be.clsid=Fe.CLSID),Fe.mt&&(Be.mt=Fe.mt),Fe.ct&&(Be.ct=Fe.ct)),Be}function mi(xe,Ne){_(xe);var Re=Fs.find(xe,Ne);if(Re){for(var Fe=0;Fe<xe.FileIndex.length;++Fe)if(xe.FileIndex[Fe]==Re)return xe.FileIndex.splice(Fe,1),xe.FullPaths.splice(Fe,1),!0}return!1}function Yr(xe,Ne,Re){_(xe);var Fe=Fs.find(xe,Ne);if(Fe){for(var Oe=0;Oe<xe.FileIndex.length;++Oe)if(xe.FileIndex[Oe]==Fe)return xe.FileIndex[Oe].name=n(Re),xe.FullPaths[Oe]=Re,!0}return!1}function _s(xe){T(xe,!0)}return i.find=M,i.read=C,i.parse=c,i.write=ee,i.writeFile=j,i.utils={cfb_new:Br,cfb_add:ms,cfb_del:mi,cfb_mov:Yr,cfb_gc:_s,ReadShift:y2,CheckField:Tse,prep_blob:Ic,bconcat:ro,use_zlib:V,_deflateRaw:vi,_inflateRaw:gn,consts:H},i}(),g2;function _re(t){return typeof t=="string"?CD(t):Array.isArray(t)?aze(t):t}function P2(t,i,e){if(typeof g2<"u"&&g2.writeFileSync)return e?g2.writeFileSync(t,i,e):g2.writeFileSync(t,i);if(typeof Deno<"u"){if(e&&typeof i=="string")switch(e){case"utf8":i=new TextEncoder(e).encode(i);break;case"binary":i=CD(i);break;default:throw new Error("Unsupported encoding "+e)}return Deno.writeFileSync(t,i)}var r=e=="utf8"?tm(i):i;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var n=new Blob([_re(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,t);if(typeof saveAs<"u")return saveAs(n,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}else if(typeof URL<"u"&&!URL.createObjectURL&&typeof chrome=="object"){var o="data:application/octet-stream;base64,"+sze(new Uint8Array(_re(r)));return chrome.downloads.download({url:o,filename:t,saveAs:!0})}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(t);return u.open("w"),u.encoding="binary",Array.isArray(i)&&(i=xv(i)),u.write(i),u.close(),i}catch(l){if(!l.message||l.message.indexOf("onstruct")==-1)throw l}throw new Error("cannot save file "+t)}function so(t){for(var i=Object.keys(t),e=[],r=0;r<i.length;++r)Object.prototype.hasOwnProperty.call(t,i[r])&&e.push(i[r]);return e}function wre(t,i){for(var e=[],r=so(t),n=0;n!==r.length;++n)e[t[r[n]][i]]==null&&(e[t[r[n]][i]]=r[n]);return e}function R6(t){for(var i=[],e=so(t),r=0;r!==e.length;++r)i[t[e[r]]]=e[r];return i}function ED(t){for(var i=[],e=so(t),r=0;r!==e.length;++r)i[t[e[r]]]=parseInt(e[r],10);return i}function Fze(t){for(var i=[],e=so(t),r=0;r!==e.length;++r)i[t[e[r]]]==null&&(i[t[e[r]]]=[]),i[t[e[r]]].push(e[r]);return i}var pse=Date.UTC(1899,11,30,0,0,0),Oze=Date.UTC(1899,11,31,0,0,0),Lze=Date.UTC(1904,0,1,0,0,0);function xl(t,i){var e=t.getTime(),r=(e-pse)/(24*60*60*1e3);return i?(r-=1462,r<-1402?r-1:r):r<60?r-1:r}function Lx(t){if(t>=60&&t<61)return t;var i=new Date;return i.setTime((t>60?t:t+1)*24*60*60*1e3+pse),i}var Nze=/^(\d+):(\d+)(:\d+)?(\.\d+)?$/,Bze=/^(\d+)-(\d+)-(\d+)$/,mse=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)?(\.\d+)?$/;function pu(t,i){if(t instanceof Date)return t;var e=t.match(Nze);if(e)return new Date((i?Lze:Oze)+((parseInt(e[1],10)*60+parseInt(e[2],10))*60+(e[3]?parseInt(e[3].slice(1),10):0))*1e3+(e[4]?parseInt((e[4]+"000").slice(1,4),10):0));if(e=t.match(Bze),e)return new Date(Date.UTC(+e[1],+e[2]-1,+e[3],0,0,0,0));if(e=t.match(mse),e)return new Date(Date.UTC(+e[1],+e[2]-1,+e[3],+e[4],+e[5],e[6]&&parseInt(e[6].slice(1),10)||0,e[7]&&parseInt((e[7]+"0000").slice(1,4),10)||0));var r=new Date(t);return r}function k6(t,i){if(ns&&Buffer.isBuffer(t)){if(i&&S2){if(t[0]==255&&t[1]==254)return tm(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return tm(nze(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(i){if(t[0]==255&&t[1]==254)return tm(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return tm(new TextDecoder("utf-16be").decode(t.slice(2)))}var e={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return e[a]||a})}catch{}var r=[],n=0;try{for(n=0;n<t.length-65536;n+=65536)r.push(String.fromCharCode.apply(0,t.slice(n,n+65536)));r.push(String.fromCharCode.apply(0,t.slice(n)))}catch{try{for(;n<t.length-16384;n+=16384)r.push(String.fromCharCode.apply(0,t.slice(n,n+16384)));r.push(String.fromCharCode.apply(0,t.slice(n)))}catch{for(;n!=t.length;++n)r.push(String.fromCharCode(t[n]))}}return r.join("")}function tc(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var i={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=tc(t[e]));return i}function aa(t,i){for(var e="";e.length<i;)e+=t;return e}function nm(t){var i=Number(t);if(!isNaN(i))return isFinite(i)?i:NaN;if(!/\d/.test(t))return i;var e=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return!isNaN(i=Number(r))||(r=r.replace(/[(]([^()]*)[)]/,function(n,a){return e=-e,a}),!isNaN(i=Number(r)))?i/e:i}var Vze=/^(0?\d|1[0-2])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))\s+([ap])m?$/,zze=/^([01]?\d|2[0-3])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))$/,Uze=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)(\.\d+)?[Z]?$/,Hze=new Date("6/9/69 00:00 UTC").valueOf()==-177984e5;function Gze(t){return t[2]?t[3]?t[4]?new Date(Date.UTC(1899,11,31,+t[1]%12+(t[7]=="p"?12:0),+t[2],+t[4],parseFloat(t[3])*1e3)):new Date(Date.UTC(1899,11,31,t[7]=="p"?12:0,+t[1],+t[2],parseFloat(t[3])*1e3)):t[5]?new Date(Date.UTC(1899,11,31,+t[1]%12+(t[7]=="p"?12:0),+t[2],+t[5],t[6]?parseFloat(t[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+t[1]%12+(t[7]=="p"?12:0),+t[2],0,0)):new Date(Date.UTC(1899,11,31,+t[1]%12+(t[7]=="p"?12:0),0,0,0))}function jze(t){return t[2]?t[3]?t[4]?new Date(Date.UTC(1899,11,31,+t[1],+t[2],+t[4],parseFloat(t[3])*1e3)):new Date(Date.UTC(1899,11,31,0,+t[1],+t[2],parseFloat(t[3])*1e3)):t[5]?new Date(Date.UTC(1899,11,31,+t[1],+t[2],+t[5],t[6]?parseFloat(t[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+t[1],+t[2],0,0)):new Date(Date.UTC(1899,11,31,+t[1],0,0,0))}var Wze=["january","february","march","april","may","june","july","august","september","october","november","december"];function dD(t){if(Uze.test(t))return t.indexOf("Z")==-1?AD(new Date(t)):new Date(t);var i=t.toLowerCase(),e=i.replace(/\s+/g," ").trim(),r=e.match(Vze);if(r)return Gze(r);if(r=e.match(zze),r)return jze(r);if(r=e.match(mse),r)return new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],r[6]&&parseInt(r[6].slice(1),10)||0,r[7]&&parseInt((r[7]+"0000").slice(1,4),10)||0));var n=new Date(Hze&&t.indexOf("UTC")==-1?t+" UTC":t),a=new Date(NaN),s=n.getYear(),o=n.getMonth(),u=n.getDate();if(isNaN(u))return a;if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&Wze.indexOf(i)==-1)return a}else if(i.replace(/[ap]m?/,"").match(/[a-z]/))return a;return s<0||s>8099||t.match(/[^-0-9:,\/\\\ ]/)?a:n}function Gx(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())}function AD(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))}function Wn(t,i,e){if(t.FullPaths){if(typeof e=="string"){var r;return ns?r=Jf(e):r=oze(e),Fs.utils.cfb_add(t,i,r)}Fs.utils.cfb_add(t,i,e)}else t.file(i,e)}function F6(){return Fs.utils.cfb_new()}var oo=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`;var Xze={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},O6=R6(Xze);var L6=/[&<>'"]/g,Yze=/[\u0000-\u0008\u000b-\u001f\uFFFE-\uFFFF]/g;function Xn(t){var i=t+"";return i.replace(L6,function(e){return O6[e]}).replace(Yze,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Cre(t){return Xn(t).replace(/ /g,"_x0020_")}var gse=/[\u0000-\u001f]/g;function c6(t){var i=t+"";return i.replace(L6,function(e){return O6[e]}).replace(/\n/g,"<br/>").replace(gse,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function $ze(t){var i=t+"";return i.replace(L6,function(e){return O6[e]}).replace(gse,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}function Qze(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Kze(t){switch(t){case 1:case!0:case"1":case"true":return!0;case 0:case!1:case"0":case"false":return!1}return!1}function u6(t){for(var i="",e=0,r=0,n=0,a=0,s=0,o=0;e<t.length;){if(r=t.charCodeAt(e++),r<128){i+=String.fromCharCode(r);continue}if(n=t.charCodeAt(e++),r>191&&r<224){s=(r&31)<<6,s|=n&63,i+=String.fromCharCode(s);continue}if(a=t.charCodeAt(e++),r<240){i+=String.fromCharCode((r&15)<<12|(n&63)<<6|a&63);continue}s=t.charCodeAt(e++),o=((r&7)<<18|(n&63)<<12|(a&63)<<6|s&63)-65536,i+=String.fromCharCode(55296+(o>>>10&1023)),i+=String.fromCharCode(56320+(o&1023))}return i}function Sre(t){var i=yv(2*t.length),e,r,n=1,a=0,s=0,o;for(r=0;r<t.length;r+=n)n=1,(o=t.charCodeAt(r))<128?e=o:o<224?(e=(o&31)*64+(t.charCodeAt(r+1)&63),n=2):o<240?(e=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),n=3):(n=4,e=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),e-=65536,s=55296+(e>>>10&1023),e=56320+(e&1023)),s!==0&&(i[a++]=s&255,i[a++]=s>>>8,s=0),i[a++]=e%256,i[a++]=e>>>8;return i.slice(0,a).toString("ucs2")}function Tre(t){return Jf(t,"binary").toString("utf8")}var qI="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",Nx=ns&&(Tre(qI)==u6(qI)&&Tre||Sre(qI)==u6(qI)&&Sre)||u6,tm=ns?function(t){return Jf(t,"utf8").toString("binary")}:function(t){for(var i=[],e=0,r=0,n=0;e<t.length;)switch(r=t.charCodeAt(e++),!0){case r<128:i.push(String.fromCharCode(r));break;case r<2048:i.push(String.fromCharCode(192+(r>>6))),i.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,n=t.charCodeAt(e++)-56320+(r<<10),i.push(String.fromCharCode(240+(n>>18&7))),i.push(String.fromCharCode(144+(n>>12&63))),i.push(String.fromCharCode(128+(n>>6&63))),i.push(String.fromCharCode(128+(n&63)));break;default:i.push(String.fromCharCode(224+(r>>12))),i.push(String.fromCharCode(128+(r>>6&63))),i.push(String.fromCharCode(128+(r&63)))}return i.join("")},Zze=function(){var t=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(i){return[new RegExp("&"+i[0]+";","ig"),i[1]]});return function(e){for(var r=e.replace(/^[\t\n\r ]+/,"").replace(/(^|[^\t\n\r ])[\t\n\r ]+$/,"$1").replace(/>\s+/g,">").replace(/\b\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^<>]*>/g,""),n=0;n<t.length;++n)r=r.replace(t[n][0],t[n][1]);return r}}();var vse=/(^\s|\s$|\n)/;function vl(t,i){return"<"+t+(i.match(vse)?' xml:space="preserve"':"")+">"+i+"</"+t+">"}function T2(t){return so(t).map(function(i){return" "+i+'="'+t[i]+'"'}).join("")}function ci(t,i,e){return"<"+t+(e!=null?T2(e):"")+(i!=null?(i.match(vse)?' xml:space="preserve"':"")+">"+i+"</"+t:"/")+">"}function C6(t,i){try{return t.toISOString().replace(/\.\d*/,"")}catch(e){if(i)throw e}return""}function Jze(t,i){switch(typeof t){case"string":var e=ci("vt:lpwstr",Xn(t));return i&&(e=e.replace(/&quot;/g,"_x0022_")),e;case"number":return ci((t|0)==t?"vt:i4":"vt:r8",Xn(String(t)));case"boolean":return ci("vt:bool",t?"true":"false")}if(t instanceof Date)return ci("vt:filetime",C6(t));throw new Error("Unable to serialize "+t)}var Wo={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Wx=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],qu={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function qze(t,i){for(var e=1-2*(t[i+7]>>>7),r=((t[i+7]&127)<<4)+(t[i+6]>>>4&15),n=t[i+6]&15,a=5;a>=0;--a)n=n*256+t[i+a];return r==2047?n==0?e*(1/0):NaN:(r==0?r=-1022:(r-=1023,n+=Math.pow(2,52)),e*Math.pow(2,r-52)*n)}function eUe(t,i,e){var r=(i<0||1/i==-1/0?1:0)<<7,n=0,a=0,s=r?-i:i;isFinite(s)?s==0?n=a=0:(n=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-n),n<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?n=-1022:(a-=Math.pow(2,52),n+=1023)):(n=2047,a=isNaN(i)?26985:0);for(var o=0;o<=5;++o,a/=256)t[e+o]=a&255;t[e+6]=(n&15)<<4|a&15,t[e+7]=n>>4|r}var Ere=function(t){for(var i=[],e=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var n=0,a=t[0][r].length;n<a;n+=e)i.push.apply(i,t[0][r].slice(n,n+e));return i},Are=ns?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(i){return Buffer.isBuffer(i)?i:Jf(i)})):Ere(t)}:Ere,Mre=function(t,i,e){for(var r=[],n=i;n<e;n+=2)r.push(String.fromCharCode(v2(t,n)));return r.join("").replace(Fx,"")},MD=ns?function(t,i,e){return!Buffer.isBuffer(t)||!S2?Mre(t,i,e):t.toString("utf16le",i,e).replace(Fx,"")}:Mre,Ire=function(t,i,e){for(var r=[],n=i;n<i+e;++n)r.push(("0"+t[n].toString(16)).slice(-2));return r.join("")},yse=ns?function(t,i,e){return Buffer.isBuffer(t)?t.toString("hex",i,i+e):Ire(t,i,e)}:Ire,Dre=function(t,i,e){for(var r=[],n=i;n<e;n++)r.push(String.fromCharCode(kx(t,n)));return r.join("")},Xx=ns?function(i,e,r){return Buffer.isBuffer(i)?i.toString("utf8",e,r):Dre(i,e,r)}:Dre,xse=function(t,i){var e=jo(t,i);return e>0?Xx(t,i+4,i+4+e-1):""},N6=xse,bse=function(t,i){var e=jo(t,i);return e>0?Xx(t,i+4,i+4+e-1):""},B6=bse,_se=function(t,i){var e=2*jo(t,i);return e>0?Xx(t,i+4,i+4+e-1):""},V6=_se,wse=function(i,e){var r=jo(i,e);return r>0?MD(i,e+4,e+4+r):""},z6=wse,Cse=function(t,i){var e=jo(t,i);return e>0?Xx(t,i+4,i+4+e):""},U6=Cse,Sse=function(t,i){return qze(t,i)},hD=Sse,H6=function(i){return Array.isArray(i)||typeof Uint8Array<"u"&&i instanceof Uint8Array};ns&&(N6=function(i,e){if(!Buffer.isBuffer(i))return xse(i,e);var r=i.readUInt32LE(e);return r>0?i.toString("utf8",e+4,e+4+r-1):""},B6=function(i,e){if(!Buffer.isBuffer(i))return bse(i,e);var r=i.readUInt32LE(e);return r>0?i.toString("utf8",e+4,e+4+r-1):""},V6=function(i,e){if(!Buffer.isBuffer(i)||!S2)return _se(i,e);var r=2*i.readUInt32LE(e);return i.toString("utf16le",e+4,e+4+r-1)},z6=function(i,e){if(!Buffer.isBuffer(i)||!S2)return wse(i,e);var r=i.readUInt32LE(e);return i.toString("utf16le",e+4,e+4+r)},U6=function(i,e){if(!Buffer.isBuffer(i))return Cse(i,e);var r=i.readUInt32LE(e);return i.toString("utf8",e+4,e+4+r)},hD=function(i,e){return Buffer.isBuffer(i)?i.readDoubleLE(e):Sse(i,e)},H6=function(i){return Buffer.isBuffer(i)||Array.isArray(i)||typeof Uint8Array<"u"&&i instanceof Uint8Array});function tUe(){MD=function(t,i,e){return Rr.utils.decode(1200,t.slice(i,e)).replace(Fx,"")},Xx=function(t,i,e){return Rr.utils.decode(65001,t.slice(i,e))},N6=function(t,i){var e=jo(t,i);return e>0?Rr.utils.decode(Hx,t.slice(i+4,i+4+e-1)):""},B6=function(t,i){var e=jo(t,i);return e>0?Rr.utils.decode(ed,t.slice(i+4,i+4+e-1)):""},V6=function(t,i){var e=2*jo(t,i);return e>0?Rr.utils.decode(1200,t.slice(i+4,i+4+e-1)):""},z6=function(t,i){var e=jo(t,i);return e>0?Rr.utils.decode(1200,t.slice(i+4,i+4+e)):""},U6=function(t,i){var e=jo(t,i);return e>0?Rr.utils.decode(65001,t.slice(i+4,i+4+e)):""}}typeof Rr<"u"&&tUe();var kx=function(t,i){return t[i]},v2=function(t,i){return t[i+1]*256+t[i]},iUe=function(t,i){var e=t[i+1]*256+t[i];return e<32768?e:(65535-e+1)*-1},jo=function(t,i){return t[i+3]*(1<<24)+(t[i+2]<<16)+(t[i+1]<<8)+t[i]},gv=function(t,i){return t[i+3]<<24|t[i+2]<<16|t[i+1]<<8|t[i]},nUe=function(t,i){return t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]};function y2(t,i){var e="",r,n,a=[],s,o,u,l;switch(i){case"dbcs":if(l=this.l,ns&&Buffer.isBuffer(this)&&S2)e=this.slice(this.l,this.l+2*t).toString("utf16le");else for(u=0;u<t;++u)e+=String.fromCharCode(v2(this,l)),l+=2;t*=2;break;case"utf8":e=Xx(this,this.l,this.l+t);break;case"utf16le":t*=2,e=MD(this,this.l,this.l+t);break;case"wstr":if(typeof Rr<"u")e=Rr.utils.decode(ed,this.slice(this.l,this.l+2*t));else return y2.call(this,t,"dbcs");t=2*t;break;case"lpstr-ansi":e=N6(this,this.l),t=4+jo(this,this.l);break;case"lpstr-cp":e=B6(this,this.l),t=4+jo(this,this.l);break;case"lpwstr":e=V6(this,this.l),t=4+2*jo(this,this.l);break;case"lpp4":t=4+jo(this,this.l),e=z6(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+jo(this,this.l),e=U6(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,e="";(s=kx(this,this.l+t++))!==0;)a.push(ZI(s));e=a.join("");break;case"_wstr":for(t=0,e="";(s=v2(this,this.l+t))!==0;)a.push(ZI(s)),t+=2;t+=2,e=a.join("");break;case"dbcs-cont":for(e="",l=this.l,u=0;u<t;++u){if(this.lens&&this.lens.indexOf(l)!==-1)return s=kx(this,l),this.l=l+1,o=y2.call(this,t-u,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(ZI(v2(this,l))),l+=2}e=a.join(""),t*=2;break;case"cpstr":if(typeof Rr<"u"){e=Rr.utils.decode(ed,this.slice(this.l,this.l+t));break}case"sbcs-cont":for(e="",l=this.l,u=0;u!=t;++u){if(this.lens&&this.lens.indexOf(l)!==-1)return s=kx(this,l),this.l=l+1,o=y2.call(this,t-u,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(ZI(kx(this,l))),l+=1}e=a.join("");break;default:switch(t){case 1:return r=kx(this,this.l),this.l++,r;case 2:return r=(i==="i"?iUe:v2)(this,this.l),this.l+=2,r;case 4:case-4:return i==="i"||!(this[this.l+3]&128)?(r=(t>0?gv:nUe)(this,this.l),this.l+=4,r):(n=jo(this,this.l),this.l+=4,n);case 8:case-8:if(i==="f")return t==8?n=hD(this,this.l):n=hD([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;t=8;case 16:e=yse(this,this.l,t);break}}return this.l+=t,e}var rUe=function(t,i,e){t[e]=i&255,t[e+1]=i>>>8&255,t[e+2]=i>>>16&255,t[e+3]=i>>>24&255},sUe=function(t,i,e){t[e]=i&255,t[e+1]=i>>8&255,t[e+2]=i>>16&255,t[e+3]=i>>24&255},aUe=function(t,i,e){t[e]=i&255,t[e+1]=i>>>8&255};function oUe(t,i,e){var r=0,n=0;if(e==="dbcs"){for(n=0;n!=i.length;++n)aUe(this,i.charCodeAt(n),this.l+2*n);r=2*i.length}else if(e==="sbcs"||e=="cpstr")if(typeof Rr<"u"&&Hx==874){for(n=0;n!=i.length;++n){var a=Rr.utils.encode(Hx,i.charAt(n));this[this.l+n]=a[0]}r=i.length}else if(typeof Rr<"u"&&e=="cpstr"){if(a=Rr.utils.encode(ed,i),a.length==i.length)for(n=0;n<i.length;++n)a[n]==0&&i.charCodeAt(n)!=0&&(a[n]=95);if(a.length==2*i.length)for(n=0;n<i.length;++n)a[2*n]==0&&a[2*n+1]==0&&i.charCodeAt(n)!=0&&(a[2*n]=95);for(n=0;n<a.length;++n)this[this.l+n]=a[n];r=a.length}else{for(i=i.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=i.length;++n)this[this.l+n]=i.charCodeAt(n)&255;r=i.length}else if(e==="hex"){for(;n<t;++n)this[this.l++]=parseInt(i.slice(2*n,2*n+2),16)||0;return this}else if(e==="utf16le"){var s=Math.min(this.l+t,this.length);for(n=0;n<Math.min(i.length,t);++n){var o=i.charCodeAt(n);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=i&255;break;case 2:r=2,this[this.l]=i&255,i>>>=8,this[this.l+1]=i&255;break;case 3:r=3,this[this.l]=i&255,i>>>=8,this[this.l+1]=i&255,i>>>=8,this[this.l+2]=i&255;break;case 4:r=4,rUe(this,i,this.l);break;case 8:if(r=8,e==="f"){eUe(this,i,this.l);break}case 16:break;case-4:r=4,sUe(this,i,this.l);break}return this.l+=r,this}function Tse(t,i){var e=yse(this,this.l,t.length>>1);if(e!==t)throw new Error(i+"Expected "+t+" saw "+e);this.l+=t.length>>1}function Ic(t,i){t.l=i,t.read_shift=y2,t.chk=Tse,t.write_shift=oUe}function Zf(t,i){t.l+=i}function gt(t){var i=yv(t);return Ic(i,0),i}function ql(){var t=[],i=ns?256:2048,e=function(l){var c=gt(l);return Ic(c,0),c},r=e(i),n=function(){r&&(r.l&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r)),r=null)},a=function(l){return r&&l<r.length-r.l?r:(n(),r=e(Math.max(l+1,i)))},s=function(){return n(),ro(t)},o=function(l){n(),r=l,r.l==null&&(r.l=r.length),a(i)};return{next:a,push:o,end:s,_bufs:t}}function Nt(t,i,e,r){var n=+i,a;if(!isNaN(n)){r||(r=pYe[n].p||(e||[]).length||0),a=1+(n>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var s=t.next(a);n<=127?s.write_shift(1,n):(s.write_shift(1,(n&127)+128),s.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(r>=128)s.write_shift(1,(r&127)+128),r>>=7;else{s.write_shift(1,r);break}r>0&&H6(e)&&t.push(e)}}function x2(t,i,e){var r=tc(t);if(i.s?(r.cRel&&(r.c+=i.s.c),r.rRel&&(r.r+=i.s.r)):(r.cRel&&(r.c+=i.c),r.rRel&&(r.r+=i.r)),!e||e.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function Pre(t,i,e){var r=tc(t);return r.s=x2(r.s,i.s,e),r.e=x2(r.e,i.s,e),r}function b2(t,i){if(t.cRel&&t.c<0)for(t=tc(t);t.c<0;)t.c+=i>8?16384:256;if(t.rRel&&t.r<0)for(t=tc(t);t.r<0;)t.r+=i>8?1048576:i>5?65536:16384;var e=ya(t);return!t.cRel&&t.cRel!=null&&(e=uUe(e)),!t.rRel&&t.rRel!=null&&(e=lUe(e)),e}function d6(t,i){return t.s.r==0&&!t.s.rRel&&t.e.r==(i.biff>=12?1048575:i.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+fs(t.s.c)+":"+(t.e.cRel?"":"$")+fs(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(i.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+bs(t.s.r)+":"+(t.e.rRel?"":"$")+bs(t.e.r):b2(t.s,i.biff)+":"+b2(t.e,i.biff)}function G6(t){return parseInt(cUe(t),10)-1}function bs(t){return""+(t+1)}function lUe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function cUe(t){return t.replace(/\$(\d+)$/,"$1")}function j6(t){for(var i=dUe(t),e=0,r=0;r!==i.length;++r)e=26*e+i.charCodeAt(r)-64;return e-1}function fs(t){if(t<0)throw new Error("invalid column "+t);var i="";for(++t;t;t=Math.floor((t-1)/26))i=String.fromCharCode((t-1)%26+65)+i;return i}function uUe(t){return t.replace(/^([A-Z])/,"$$$1")}function dUe(t){return t.replace(/^\$([A-Z])/,"$1")}function hUe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function oa(t){for(var i=0,e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n>=48&&n<=57?i=10*i+(n-48):n>=65&&n<=90&&(e=26*e+(n-64))}return{c:e-1,r:i-1}}function ya(t){for(var i=t.c+1,e="";i;i=(i-1)/26|0)e=String.fromCharCode((i-1)%26+65)+e;return e+(t.r+1)}function yl(t){var i=t.indexOf(":");return i==-1?{s:oa(t),e:oa(t)}:{s:oa(t.slice(0,i)),e:oa(t.slice(i+1))}}function ao(t,i){return typeof i>"u"||typeof i=="number"?ao(t.s,t.e):(typeof t!="string"&&(t=ya(t)),typeof i!="string"&&(i=ya(i)),t==i?t:t+":"+i)}function E2(t){var i=yl(t);return"$"+fs(i.s.c)+"$"+bs(i.s.r)+":$"+fs(i.e.c)+"$"+bs(i.e.r)}function A2(t,i){if(!t&&!(i&&i.biff<=5&&i.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t.replace(/'/g,"''")+"'":t}function Zs(t){var i={s:{c:0,r:0},e:{c:0,r:0}},e=0,r=0,n=0,a=t.length;for(e=0;r<a&&!((n=t.charCodeAt(r)-64)<1||n>26);++r)e=26*e+n;for(i.s.c=--e,e=0;r<a&&!((n=t.charCodeAt(r)-48)<0||n>9);++r)e=10*e+n;if(i.s.r=--e,r===a||n!=10)return i.e.c=i.s.c,i.e.r=i.s.r,i;for(++r,e=0;r!=a&&!((n=t.charCodeAt(r)-64)<1||n>26);++r)e=26*e+n;for(i.e.c=--e,e=0;r!=a&&!((n=t.charCodeAt(r)-48)<0||n>9);++r)e=10*e+n;return i.e.r=--e,i}function Rre(t,i){var e=t.t=="d"&&i instanceof Date;if(t.z!=null)try{return t.w=sm(t.z,e?xl(i):i)}catch{}try{return t.w=sm((t.XF||{}).numFmtId||(e?14:0),e?xl(i):i)}catch{return""+i}}function am(t,i,e){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&e&&e.dateNF&&(t.z=e.dateNF),t.t=="e"?R0[t.v]||t.v:i==null?Rre(t,t.v):Rre(t,i))}function Yx(t,i){var e=i&&i.sheet?i.sheet:"Sheet1",r={};return r[e]=t,{SheetNames:[e],Sheets:r}}function fUe(t){var i={},e=t||{};return e.dense&&(i["!data"]=[]),i}function Ese(t,i,e){var r=e||{},n=t?t["!data"]!=null:r.dense;Kf!=null&&n==null&&(n=Kf);var a=t||{};n&&!a["!data"]&&(a["!data"]=[]);var s=0,o=0;if(a&&r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var u=typeof r.origin=="string"?oa(r.origin):r.origin;s=u.r,o=u.c}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var c=Zs(a["!ref"]);l.s.c=c.s.c,l.s.r=c.s.r,l.e.c=Math.max(l.e.c,c.e.c),l.e.r=Math.max(l.e.r,c.e.r),s==-1&&(l.e.r=s=a["!ref"]?c.e.r+1:0)}else l.s.c=l.e.c=l.s.r=l.e.r=0;for(var h=[],d=!1,f=0;f!=i.length;++f)if(i[f]){if(!Array.isArray(i[f]))throw new Error("aoa_to_sheet expects an array of arrays");var m=s+f,p=""+(m+1);n&&(a["!data"][m]||(a["!data"][m]=[]),h=a["!data"][m]);for(var g=0;g!=i[f].length;++g)if(!(typeof i[f][g]>"u")){var v={v:i[f][g]},y=o+g;if(l.s.r>m&&(l.s.r=m),l.s.c>y&&(l.s.c=y),l.e.r<m&&(l.e.r=m),l.e.c<y&&(l.e.c=y),d=!0,i[f][g]&&typeof i[f][g]=="object"&&!Array.isArray(i[f][g])&&!(i[f][g]instanceof Date))v=i[f][g];else if(Array.isArray(v.v)&&(v.f=i[f][g][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(r.nullError)v.t="e",v.v=0;else if(r.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=r.dateNF||Ks[14],r.UTC||(v.v=AD(v.v)),r.cellDates?(v.t="d",v.w=sm(v.z,xl(v.v,r.date1904))):(v.t="n",v.v=xl(v.v,r.date1904),v.w=sm(v.z,v.v))):v.t="s";if(n)h[y]&&h[y].z&&(v.z=h[y].z),h[y]=v;else{var x=fs(y)+p;a[x]&&a[x].z&&(v.z=a[x].z),a[x]=v}}}return d&&l.s.c<104e5&&(a["!ref"]=ao(l)),a}function $x(t,i){return Ese(null,t,i)}function pUe(t){return t.read_shift(4,"i")}function Bh(t,i){return i||(i=gt(4)),i.write_shift(4,t),i}function ec(t){var i=t.read_shift(4);return i===0?"":t.read_shift(i,"dbcs")}function So(t,i){var e=!1;return i==null&&(e=!0,i=gt(4+2*t.length)),i.write_shift(4,t.length),t.length>0&&i.write_shift(0,t,"dbcs"),e?i.slice(0,i.l):i}function mUe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function gUe(t,i){return i||(i=gt(4)),i.write_shift(2,t.ich||0),i.write_shift(2,t.ifnt||0),i}function W6(t,i){var e=t.l,r=t.read_shift(1),n=ec(t),a=[],s={t:n,h:n};if(r&1){for(var o=t.read_shift(4),u=0;u!=o;++u)a.push(mUe(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=e+i,s}function vUe(t,i){var e=!1;return i==null&&(e=!0,i=gt(15+4*t.t.length)),i.write_shift(1,0),So(t.t,i),e?i.slice(0,i.l):i}var yUe=W6;function xUe(t,i){var e=!1;return i==null&&(e=!0,i=gt(23+4*t.t.length)),i.write_shift(1,1),So(t.t,i),i.write_shift(4,1),gUe({ich:0,ifnt:0},i),e?i.slice(0,i.l):i}function Wd(t){var i=t.read_shift(4),e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:i,iStyleRef:e}}function Cv(t,i){return i==null&&(i=gt(8)),i.write_shift(-4,t.c),i.write_shift(3,t.iStyleRef||t.s),i.write_shift(1,0),i}function Sv(t){var i=t.read_shift(2);return i+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:i}}function Tv(t,i){return i==null&&(i=gt(4)),i.write_shift(3,t.iStyleRef||t.s),i.write_shift(1,0),i}var bUe=ec,Ase=So;function ID(t){var i=t.read_shift(4);return i===0||i===4294967295?"":t.read_shift(i,"dbcs")}function M2(t,i){var e=!1;return i==null&&(e=!0,i=gt(127)),i.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&i.write_shift(0,t,"dbcs"),e?i.slice(0,i.l):i}var _Ue=ec,S6=ID,X6=M2;function Y6(t){var i=t.slice(t.l,t.l+4),e=i[0]&1,r=i[0]&2;t.l+=4;var n=r===0?hD([0,0,0,0,i[0]&252,i[1],i[2],i[3]],0):gv(i,0)>>2;return e?n/100:n}function Mse(t,i){i==null&&(i=gt(4));var e=0,r=0,n=t*100;if(t==(t|0)&&t>=-(1<<29)&&t<1<<29?r=1:n==(n|0)&&n>=-(1<<29)&&n<1<<29&&(r=1,e=1),r)i.write_shift(-4,((e?n:t)<<2)+(e+2));else throw new Error("unsupported RkNumber "+t)}function Ise(t){var i={s:{},e:{}};return i.s.r=t.read_shift(4),i.e.r=t.read_shift(4),i.s.c=t.read_shift(4),i.e.c=t.read_shift(4),i}function wUe(t,i){return i||(i=gt(16)),i.write_shift(4,t.s.r),i.write_shift(4,t.e.r),i.write_shift(4,t.s.c),i.write_shift(4,t.e.c),i}var Ev=Ise,Qx=wUe;function Kx(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function _v(t,i){return(i||gt(8)).write_shift(8,t,"f")}function CUe(t){var i={},e=t.read_shift(1),r=e>>>1,n=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),u=t.read_shift(1);switch(t.l++,r){case 0:i.auto=1;break;case 1:i.index=n;var l=RUe[n];l&&(i.rgb=jre(l));break;case 2:i.rgb=jre([s,o,u]);break;case 3:i.theme=n;break}return a!=0&&(i.tint=a>0?a/32767:a/32768),i}function fD(t,i){if(i||(i=gt(8)),!t||t.auto)return i.write_shift(4,0),i.write_shift(4,0),i;t.index!=null?(i.write_shift(1,2),i.write_shift(1,t.index)):t.theme!=null?(i.write_shift(1,6),i.write_shift(1,t.theme)):(i.write_shift(1,5),i.write_shift(1,0));var e=t.tint||0;if(e>0?e*=32767:e<0&&(e*=32768),i.write_shift(2,e),!t.rgb||t.theme!=null)i.write_shift(2,0),i.write_shift(1,0),i.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),i.write_shift(1,parseInt(r.slice(0,2),16)),i.write_shift(1,parseInt(r.slice(2,4),16)),i.write_shift(1,parseInt(r.slice(4,6),16)),i.write_shift(1,255)}return i}function SUe(t){var i=t.read_shift(1);t.l++;var e={fBold:i&1,fItalic:i&2,fUnderline:i&4,fStrikeout:i&8,fOutline:i&16,fShadow:i&32,fCondense:i&64,fExtend:i&128};return e}function TUe(t,i){i||(i=gt(2));var e=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return i.write_shift(1,e),i.write_shift(1,0),i}var Dse=2,Zu=3,eD=11;var pD=19,tD=64,EUe=65,AUe=71,MUe=4108,IUe=4126,gl=80;var kre={1:{n:"CodePage",t:Dse},2:{n:"Category",t:gl},3:{n:"PresentationFormat",t:gl},4:{n:"ByteCount",t:Zu},5:{n:"LineCount",t:Zu},6:{n:"ParagraphCount",t:Zu},7:{n:"SlideCount",t:Zu},8:{n:"NoteCount",t:Zu},9:{n:"HiddenCount",t:Zu},10:{n:"MultimediaClipCount",t:Zu},11:{n:"ScaleCrop",t:eD},12:{n:"HeadingPairs",t:MUe},13:{n:"TitlesOfParts",t:IUe},14:{n:"Manager",t:gl},15:{n:"Company",t:gl},16:{n:"LinksUpToDate",t:eD},17:{n:"CharacterCount",t:Zu},19:{n:"SharedDoc",t:eD},22:{n:"HyperlinksChanged",t:eD},23:{n:"AppVersion",t:Zu,p:"version"},24:{n:"DigSig",t:EUe},26:{n:"ContentType",t:gl},27:{n:"ContentStatus",t:gl},28:{n:"Language",t:gl},29:{n:"Version",t:gl},255:{},2147483648:{n:"Locale",t:pD},2147483651:{n:"Behavior",t:pD},1919054434:{}},Fre={1:{n:"CodePage",t:Dse},2:{n:"Title",t:gl},3:{n:"Subject",t:gl},4:{n:"Author",t:gl},5:{n:"Keywords",t:gl},6:{n:"Comments",t:gl},7:{n:"Template",t:gl},8:{n:"LastAuthor",t:gl},9:{n:"RevNumber",t:gl},10:{n:"EditTime",t:tD},11:{n:"LastPrinted",t:tD},12:{n:"CreatedDate",t:tD},13:{n:"ModifiedDate",t:tD},14:{n:"PageCount",t:Zu},15:{n:"WordCount",t:Zu},16:{n:"CharCount",t:Zu},17:{n:"Thumbnail",t:AUe},18:{n:"Application",t:gl},19:{n:"DocSecurity",t:Zu},255:{},2147483648:{n:"Locale",t:pD},2147483651:{n:"Behavior",t:pD},1919054434:{}};function DUe(t){return t.map(function(i){return[i>>16&255,i>>8&255,i&255]})}var PUe=DUe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,0,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),RUe=tc(PUe),R0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},T6={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},kUe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"],FUe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},iD={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Pse(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Rse(t,i,e){var r=Fze(FUe),n=[],a;e||(n[n.length]=oo,n[n.length]=ci("Types",null,{xmlns:Wo.CT,"xmlns:xsd":Wo.xsd,"xmlns:xsi":Wo.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ci("Default",null,{Extension:l[0],ContentType:l[1]})})));var s=function(l){t[l]&&t[l].length>0&&(a=t[l][0],n[n.length]=ci("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:iD[l][i.bookType]||iD[l].xlsx}))},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=ci("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:iD[l][i.bookType]||iD[l].xlsx})})},u=function(l){(t[l]||[]).forEach(function(c){n[n.length]=ci("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return s("workbooks"),o("sheets"),o("charts"),u("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),o("metadata"),u("people"),!e&&n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Sr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",CONN:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/connections",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function kse(t){var i=t.lastIndexOf("/");return t.slice(0,i+1)+"_rels/"+t.slice(i+1)+".rels"}function Bx(t){var i=[oo,ci("Relationships",null,{xmlns:Wo.RELS})];return so(t["!id"]).forEach(function(e){i[i.length]=ci("Relationship",null,t["!id"][e])}),i.length>2&&(i[i.length]="</Relationships>",i[1]=i[1].replace("/>",">")),i.join("")}function Wr(t,i,e,r,n,a){if(n||(n={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),i<0)for(i=t["!idx"];t["!id"]["rId"+i];++i);if(t["!idx"]=i+1,n.Id="rId"+i,n.Type=r,n.Target=e,a?n.TargetMode=a:[Sr.HLINK,Sr.XPATH,Sr.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),t["!id"][n.Id])throw new Error("Cannot rewrite rId "+i);return t["!id"][n.Id]=n,t[("/"+n.Target).replace("//","/")]=n,i}function OUe(t){var i=[oo];i.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),i.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var e=0;e<t.length;++e)i.push('  <manifest:file-entry manifest:full-path="'+t[e][0]+'" manifest:media-type="'+t[e][1]+`"/>
`);return i.push("</manifest:manifest>"),i.join("")}function Ore(t,i,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(e||"odf")+"#"+i+`"/>
`,`  </rdf:Description>
`].join("")}function LUe(t,i){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+i+`"/>
`,`  </rdf:Description>
`].join("")}function NUe(t){var i=[oo];i.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var e=0;e!=t.length;++e)i.push(Ore(t[e][0],t[e][1])),i.push(LUe("",t[e][0]));return i.push(Ore("","Document","pkg")),i.push("</rdf:RDF>"),i.join("")}function Fse(t,i){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+w2.version+"</meta:generator></office:meta></office:document-meta>"}var vv=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function h6(t,i,e,r,n){n[t]!=null||i==null||i===""||(n[t]=i,i=Xn(i),r[r.length]=e?ci(t,i,e):vl(t,i))}function Ose(t,i){var e=i||{},r=[oo,ci("cp:coreProperties",null,{"xmlns:cp":Wo.CORE_PROPS,"xmlns:dc":Wo.dc,"xmlns:dcterms":Wo.dcterms,"xmlns:dcmitype":Wo.dcmitype,"xmlns:xsi":Wo.xsi})],n={};if(!t&&!e.Props)return r.join("");t&&(t.CreatedDate!=null&&h6("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:C6(t.CreatedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n),t.ModifiedDate!=null&&h6("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:C6(t.ModifiedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n));for(var a=0;a!=vv.length;++a){var s=vv[a],o=e.Props&&e.Props[s[1]]!=null?e.Props[s[1]]:t?t[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&h6(s[0],o,null,r,n)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Vx=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Lse=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Nse(t){var i=[],e=ci;return t||(t={}),t.Application="SheetJS",i[i.length]=oo,i[i.length]=ci("Properties",null,{xmlns:Wo.EXT_PROPS,"xmlns:vt":Wo.vt}),Vx.forEach(function(r){if(t[r[1]]!==void 0){var n;switch(r[2]){case"string":n=Xn(String(t[r[1]]));break;case"bool":n=t[r[1]]?"true":"false";break}n!==void 0&&(i[i.length]=e(r[0],n))}}),i[i.length]=e("HeadingPairs",e("vt:vector",e("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+e("vt:variant",e("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),i[i.length]=e("TitlesOfParts",e("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Xn(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),i.length>2&&(i[i.length]="</Properties>",i[1]=i[1].replace("/>",">")),i.join("")}function Bse(t){var i=[oo,ci("Properties",null,{xmlns:Wo.CUST_PROPS,"xmlns:vt":Wo.vt})];if(!t)return i.join("");var e=1;return so(t).forEach(function(n){++e,i[i.length]=ci("property",Jze(t[n],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e,name:Xn(n)})}),i.length>2&&(i[i.length]="</Properties>",i[1]=i[1].replace("/>",">")),i.join("")}var Lre={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function BUe(t,i){var e=[];return so(Lre).map(function(r){for(var n=0;n<vv.length;++n)if(vv[n][1]==r)return vv[n];for(n=0;n<Vx.length;++n)if(Vx[n][1]==r)return Vx[n];throw r}).forEach(function(r){if(t[r[1]]!=null){var n=i&&i.Props&&i.Props[r[1]]!=null?i.Props[r[1]]:t[r[1]];switch(r[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),e.push(vl(Lre[r[1]]||r[1],n))}}),ci("DocumentProperties",e.join(""),{xmlns:qu.o})}function VUe(t,i){var e=["Worksheets","SheetNames"],r="CustomDocumentProperties",n=[];return t&&so(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var s=0;s<vv.length;++s)if(a==vv[s][1])return;for(s=0;s<Vx.length;++s)if(a==Vx[s][1])return;for(s=0;s<e.length;++s)if(a==e[s])return;var o=t[a],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o=String(o),n.push(ci(Cre(a),o,{"dt:dt":u}))}}),i&&so(i).forEach(function(a){if(Object.prototype.hasOwnProperty.call(i,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var s=i[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),n.push(ci(Cre(a),s,{"dt:dt":o}))}}),"<"+r+' xmlns="'+qu.o+'">'+n.join("")+"</"+r+">"}function zUe(t){var i=typeof t=="string"?new Date(Date.parse(t)):t,e=i.getTime()/1e3+11644473600,r=e%Math.pow(2,32),n=(e-r)/Math.pow(2,32);r*=1e7,n*=1e7;var a=r/Math.pow(2,32)|0;a>0&&(r=r%Math.pow(2,32),n+=a);var s=gt(8);return s.write_shift(4,r),s.write_shift(4,n),s}function Nre(t,i){var e=gt(4),r=gt(4);switch(e.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,i);break;case 5:r=gt(8),r.write_shift(8,i,"f");break;case 11:r.write_shift(4,i?1:0);break;case 64:r=zUe(i);break;case 31:case 80:for(r=gt(4+2*(i.length+1)+(i.length%2?0:2)),r.write_shift(4,i.length+1),r.write_shift(0,i,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+i)}return ro([e,r])}var Vse=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function UUe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Bre(t,i,e){var r=gt(8),n=[],a=[],s=8,o=0,u=gt(8),l=gt(8);if(u.write_shift(4,2),u.write_shift(4,1200),l.write_shift(4,1),a.push(u),n.push(l),s+=8+u.length,!i){l=gt(8),l.write_shift(4,0),n.unshift(l);var c=[gt(4)];for(c[0].write_shift(4,t.length),o=0;o<t.length;++o){var h=t[o][0];for(u=gt(8+2*(h.length+1)+(h.length%2?0:2)),u.write_shift(4,o+2),u.write_shift(4,h.length+1),u.write_shift(0,h,"dbcs");u.l!=u.length;)u.write_shift(1,0);c.push(u)}u=ro(c),a.unshift(u),s+=8+u.length}for(o=0;o<t.length;++o)if(!(i&&!i[t[o][0]])&&!(Vse.indexOf(t[o][0])>-1||Lse.indexOf(t[o][0])>-1)&&t[o][1]!=null){var d=t[o][1],f=0;if(i){f=+i[t[o][0]];var m=e[f];if(m.p=="version"&&typeof d=="string"){var p=d.split(".");d=(+p[0]<<16)+(+p[1]||0)}u=Nre(m.t,d)}else{var g=UUe(d);g==-1&&(g=31,d=String(d)),u=Nre(g,d)}a.push(u),l=gt(8),l.write_shift(4,i?f:2+o),n.push(l),s+=8+u.length}var v=8*(a.length+1);for(o=0;o<a.length;++o)n[o].write_shift(4,v),v+=a[o].length;return r.write_shift(4,s),r.write_shift(4,a.length),ro([r].concat(n).concat(a))}function Vre(t,i,e,r,n,a){var s=gt(n?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Fs.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,n?2:1),s.write_shift(16,i,"hex"),s.write_shift(4,n?68:48);var u=Bre(t,e,r);if(o.push(u),n){var l=Bre(n,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+u.length),o.push(l)}return ro(o)}function HUe(t,i){i||(i=gt(t));for(var e=0;e<t;++e)i.write_shift(1,0);return i}function GUe(t,i){return t.read_shift(i)===1}function Zl(t,i){return i||(i=gt(2)),i.write_shift(2,+!!t),i}function sD(t){return t.read_shift(2,"u")}function jd(t,i){return i||(i=gt(2)),i.write_shift(2,t),i}function zse(t,i,e){return e||(e=gt(2)),e.write_shift(1,i=="e"?+t:+!!t),e.write_shift(1,i=="e"?1:0),e}function Use(t,i,e){var r=t.read_shift(e&&e.biff>=12?2:1),n="sbcs-cont",a=ed;if(e&&e.biff>=8&&(ed=1200),!e||e.biff==8){var s=t.read_shift(1);s&&(n="dbcs-cont")}else e.biff==12&&(n="wstr");e.biff>=2&&e.biff<=5&&(n="cpstr");var o=r?t.read_shift(r,n):"";return ed=a,o}function jUe(t){var i=t.t||"",e=1,r=gt(3+(e>1?2:0));r.write_shift(2,i.length),r.write_shift(1,(e>1?8:0)|1),e>1&&r.write_shift(2,e);var n=gt(2*i.length);n.write_shift(2*i.length,i,"utf16le");var a=[r,n];return ro(a)}function WUe(t,i,e){var r;if(e){if(e.biff>=2&&e.biff<=5)return t.read_shift(i,"cpstr");if(e.biff>=12)return t.read_shift(i,"dbcs-cont")}var n=t.read_shift(1);return n===0?r=t.read_shift(i,"sbcs-cont"):r=t.read_shift(i,"dbcs-cont"),r}function XUe(t,i,e){var r=t.read_shift(e&&e.biff==2?1:2);return r===0?(t.l++,""):WUe(t,r,e)}function YUe(t,i,e){if(e.biff>5)return XUe(t,i,e);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,e.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Hse(t,i,e){return e||(e=gt(3+2*t.length)),e.write_shift(2,t.length),e.write_shift(1,1),e.write_shift(31,t,"utf16le"),e}function zre(t,i){i||(i=gt(6+t.length*2)),i.write_shift(4,1+t.length);for(var e=0;e<t.length;++e)i.write_shift(2,t.charCodeAt(e));return i.write_shift(2,0),i}function $Ue(t){var i=gt(512),e=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var n=r.indexOf("#"),a=n>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3;break}i.write_shift(4,2),i.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(e=0;e<s.length;++e)i.write_shift(4,s[e]);if(a==28)r=r.slice(1),zre(r,i);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),e=0;e<s.length;++e)i.write_shift(1,parseInt(s[e],16));var o=n>-1?r.slice(0,n):r;for(i.write_shift(4,2*(o.length+1)),e=0;e<o.length;++e)i.write_shift(2,o.charCodeAt(e));i.write_shift(2,0),a&8&&zre(n>-1?r.slice(n+1):"",i)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),e=0;e<s.length;++e)i.write_shift(1,parseInt(s[e],16));for(var u=0;r.slice(u*3,u*3+3)=="../"||r.slice(u*3,u*3+3)=="..\\";)++u;for(i.write_shift(2,u),i.write_shift(4,r.length-3*u+1),e=0;e<r.length-3*u;++e)i.write_shift(1,r.charCodeAt(e+3*u)&255);for(i.write_shift(1,0),i.write_shift(2,65535),i.write_shift(2,57005),e=0;e<6;++e)i.write_shift(4,0)}return i.slice(0,i.l)}function wv(t,i,e,r){return r||(r=gt(6)),r.write_shift(2,t),r.write_shift(2,i),r.write_shift(2,e||0),r}function QUe(t,i,e){var r=e.biff>8?4:2,n=t.read_shift(r),a=t.read_shift(r,"i"),s=t.read_shift(r,"i");return[n,a,s]}function KUe(t){var i=t.read_shift(2),e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{s:{c:r,r:i},e:{c:n,r:e}}}function Gse(t,i){return i||(i=gt(8)),i.write_shift(2,t.s.r),i.write_shift(2,t.e.r),i.write_shift(2,t.s.c),i.write_shift(2,t.e.c),i}function $6(t,i,e){var r=1536,n=16;switch(e.bookType){case"biff8":break;case"biff5":r=1280,n=8;break;case"biff4":r=4,n=6;break;case"biff3":r=3,n=6;break;case"biff2":r=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=gt(n);return a.write_shift(2,r),a.write_shift(2,i),n>4&&a.write_shift(2,29282),n>6&&a.write_shift(2,1997),n>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function ZUe(t,i){var e=!i||i.biff==8,r=gt(e?112:54);for(r.write_shift(i.biff==8?2:1,7),e&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(e?0:536870912));r.l<r.length;)r.write_shift(1,e?0:32);return r}function JUe(t,i){var e=!i||i.biff>=8?2:1,r=gt(8+e*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),i.biff>=8&&r.write_shift(1,1),r.write_shift(e*t.name.length,t.name,i.biff<8?"sbcs":"utf16le");var n=r.slice(0,r.l);return n.l=r.l,n}function qUe(t,i){var e=gt(8);e.write_shift(4,t.Count),e.write_shift(4,t.Unique);for(var r=[],n=0;n<t.length;++n)r[n]=jUe(t[n],i);var a=ro([e].concat(r));return a.parts=[e.length].concat(r.map(function(s){return s.length})),a}function eHe(){var t=gt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function tHe(t){var i=gt(18),e=1718;return t&&t.RTL&&(e|=64),i.write_shift(2,e),i.write_shift(4,0),i.write_shift(4,64),i.write_shift(4,0),i.write_shift(4,0),i}function iHe(t,i){var e=t.name||"Arial",r=i&&i.biff==5,n=r?15+e.length:16+2*e.length,a=gt(n);return a.write_shift(2,(t.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,e.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*e.length,e,r?"sbcs":"utf16le"),a}function nHe(t,i,e,r){var n=gt(10);return wv(t,i,r,n),n.write_shift(4,e),n}function rHe(t,i,e,r,n){var a=!n||n.biff==8,s=gt(8+ +a+(1+a)*e.length);return wv(t,i,r,s),s.write_shift(2,e.length),a&&s.write_shift(1,1),s.write_shift((1+a)*e.length,e,a?"utf16le":"sbcs"),s}function sHe(t,i,e,r){var n=e&&e.biff==5;r||(r=gt(n?3+i.length:5+2*i.length)),r.write_shift(2,t),r.write_shift(n?1:2,i.length),n||r.write_shift(1,1),r.write_shift((n?1:2)*i.length,i,n?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return a.l==null&&(a.l=a.length),a}function aHe(t){var i=gt(1+t.length);return i.write_shift(1,t.length),i.write_shift(t.length,t,"sbcs"),i}function oHe(t){var i=gt(3+t.length);return i.l+=2,i.write_shift(1,t.length),i.write_shift(t.length,t,"sbcs"),i}function lHe(t,i){var e=i.biff==8||!i.biff?4:2,r=gt(2*e+6);return r.write_shift(e,t.s.r),r.write_shift(e,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function Ure(t,i,e,r){var n=e&&e.biff==5;r||(r=gt(n?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,i<<4));var a=0;return t.numFmtId>0&&n&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),n||r.write_shift(4,0),r.write_shift(2,0),r}function cHe(t){var i=gt(4);return i.l+=2,i.write_shift(1,t.numFmtId),i.l++,i}function jse(t){var i=gt(12);return i.l++,i.write_shift(1,t.numFmtId),i.l+=10,i}var uHe=jse;function dHe(t){var i=gt(8);return i.write_shift(4,0),i.write_shift(2,t[0]?t[0]+1:0),i.write_shift(2,t[1]?t[1]+1:0),i}function f6(t,i,e,r,n,a){var s=gt(8);return wv(t,i,r,s),zse(e,a,s),s}function hHe(t,i,e,r){var n=gt(14);return wv(t,i,r,n),_v(e,n),n}function fHe(t,i,e){if(e.biff<8||!(e.biff>8)&&i==t[t.l]+(t[t.l+1]==3?1:0)+1)return Hre(t,i,e);for(var r=[],n=t.l+i,a=t.read_shift(e.biff>8?4:2);a--!==0;)r.push(QUe(t,e.biff>8?12:6,e));if(t.l!=n)throw new Error("Bad ExternSheet: "+t.l+" != "+n);return r}function Hre(t,i,e){t[t.l+1]==3&&t[t.l]++;var r=Use(t,i,e);return r.charCodeAt(0)==3?r.slice(1):r}function p6(t,i,e,r){var n=gt(6+(r||t.length));return n.write_shift(2,i),n.write_shift(2,e),n.write_shift(2,r||t.length),n.write_shift(t.length,t,"sbcs"),n}function pHe(t){var i=gt(2+t.length*8);i.write_shift(2,t.length);for(var e=0;e<t.length;++e)Gse(t[e],i);return i}function mHe(t){var i=gt(24),e=oa(t[0]);i.write_shift(2,e.r),i.write_shift(2,e.r),i.write_shift(2,e.c),i.write_shift(2,e.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)i.write_shift(1,parseInt(r[n],16));return ro([i,$Ue(t[1])])}function gHe(t){var i=t[1].Tooltip,e=gt(10+2*(i.length+1));e.write_shift(2,2048);var r=oa(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n=0;n<i.length;++n)e.write_shift(2,i.charCodeAt(n));return e.write_shift(2,0),e}function vHe(t){return t||(t=gt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function yHe(t,i,e){if(!e.cellStyles)return Zf(t,i);var r=e&&e.biff>=12?4:2,n=t.read_shift(r),a=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),u=t.read_shift(2);r==2&&(t.l+=2);var l={s:n,e:a,w:s,ixfe:o,flags:u};return(e.biff>=5||!e.biff)&&(l.level=u>>8&7),l}function xHe(t,i){var e=gt(12);e.write_shift(2,i),e.write_shift(2,i),e.write_shift(2,t.width*256),e.write_shift(2,0);var r=0;return t.hidden&&(r|=1),e.write_shift(1,r),r=t.level||0,e.write_shift(1,r),e.write_shift(2,0),e}function bHe(t){for(var i=gt(2*t),e=0;e<t;++e)i.write_shift(2,e+1);return i}function R2(t,i,e,r,n){return t||(t=gt(7)),t.write_shift(2,i),t.write_shift(2,e),t.write_shift(1,r||0),t.write_shift(1,n||0),t.write_shift(1,0),t}function _He(t,i,e,r,n){var a=gt(15);return R2(a,t,i,r||0,n||0),a.write_shift(8,e,"f"),a}function wHe(t,i,e,r,n){var a=gt(9);return R2(a,t,i,r||0,n||0),a.write_shift(2,e),a}var CHe=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},i=R6({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function e(o,u){var l=[],c=yv(1);switch(u.type){case"base64":c=Ju(k0(o));break;case"binary":c=Ju(o);break;case"buffer":case"array":c=o;break}Ic(c,0);var h=c.read_shift(1),d=!!(h&136),f=!1,m=!1;switch(h){case 2:break;case 3:break;case 48:f=!0,d=!0;break;case 49:f=!0,d=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var p=0,g=521;h==2&&(p=c.read_shift(2)),c.l+=3,h!=2&&(p=c.read_shift(4)),p>1048576&&(p=1e6),h!=2&&(g=c.read_shift(2));var v=c.read_shift(2),y=u.codepage||1252;h!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(y=t[c[c.l]]),c.l+=1,c.l+=2),m&&(c.l+=36);for(var x=[],b={},w=Math.min(c.length,h==2?521:g-10-(f?264:0)),C=m?32:11;c.l<w&&c[c.l]!=13;)switch(b={},b.name=(typeof Rr<"u"?Rr.utils.decode(y,c.slice(c.l,c.l+C)):xv(c.slice(c.l,c.l+C))).replace(/[\u0000\r\n][\S\s]*$/g,""),c.l+=C,b.type=String.fromCharCode(c.read_shift(1)),h!=2&&!m&&(b.offset=c.read_shift(4)),b.len=c.read_shift(1),h==2&&(b.offset=c.read_shift(2)),b.dec=c.read_shift(1),b.name.length&&x.push(b),h!=2&&(c.l+=m?13:14),b.type){case"B":(!f||b.len!=8)&&u.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(c[c.l]!==13&&(c.l=g-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=g;var _=0,S=0;for(l[0]=[],S=0;S!=x.length;++S)l[0][S]=x[S].name;for(;p-- >0;){if(c[c.l]===42){c.l+=v;continue}for(++c.l,l[++_]=[],S=0,S=0;S!=x.length;++S){var T=c.slice(c.l,c.l+x[S].len);c.l+=x[S].len,Ic(T,0);var A=typeof Rr<"u"?Rr.utils.decode(y,T):xv(T);switch(x[S].type){case"C":A.trim().length&&(l[_][S]=A.replace(/([^\s])\s+$/,"$1"));break;case"D":A.length===8?(l[_][S]=new Date(Date.UTC(+A.slice(0,4),+A.slice(4,6)-1,+A.slice(6,8),0,0,0,0)),u&&u.UTC||(l[_][S]=Gx(l[_][S]))):l[_][S]=A;break;case"F":l[_][S]=parseFloat(A.trim());break;case"+":case"I":l[_][S]=m?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(A.trim().toUpperCase()){case"Y":case"T":l[_][S]=!0;break;case"N":case"F":l[_][S]=!1;break;case"":case"\0":case"?":break;default:throw new Error("DBF Unrecognized L:|"+A+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));l[_][S]="##MEMO##"+(m?parseInt(A.trim(),10):T.read_shift(4));break;case"N":A=A.replace(/\u0000/g,"").trim(),A&&A!="."&&(l[_][S]=+A||0);break;case"@":l[_][S]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":{var M=T.read_shift(4),I=T.read_shift(4);if(M==0&&I==0)break;l[_][S]=new Date((M-2440588)*864e5+I),u&&u.UTC||(l[_][S]=Gx(l[_][S]))}break;case"Y":l[_][S]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":l[_][S]=-T.read_shift(-8,"f");break;case"B":if(f&&x[S].len==8){l[_][S]=T.read_shift(8,"f");break}case"G":case"P":T.l+=x[S].len;break;case"0":if(x[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+x[S].type)}}}if(h!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return u&&u.sheetRows&&(l=l.slice(0,u.sheetRows)),u.DBF=x,l}function r(o,u){var l=u||{};l.dateNF||(l.dateNF="yyyymmdd");var c=$x(e(o,l),l);return c["!cols"]=l.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete l.DBF,c}function n(o,u){try{var l=Yx(r(o,u),u);return l.bookType="dbf",l}catch(c){if(u&&u.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,u){if(!o["!ref"])throw new Error("Cannot export empty sheet to DBF");var l=u||{},c=ed;if(+l.codepage>=0&&C2(+l.codepage),l.type=="string")throw new Error("Cannot write DBF to JS string");var h=ql(),d=I6(o,{header:1,raw:!0,cellDates:!0}),f=d[0],m=d.slice(1),p=o["!cols"]||[],g=0,v=0,y=0,x=1;for(g=0;g<f.length;++g){if(((p[g]||{}).DBF||{}).name){f[g]=p[g].DBF.name,++y;continue}if(f[g]!=null){if(++y,typeof f[g]=="number"&&(f[g]=f[g].toString(10)),typeof f[g]!="string")throw new Error("DBF Invalid column name "+f[g]+" |"+typeof f[g]+"|");if(f.indexOf(f[g])!==g){for(v=0;v<1024;++v)if(f.indexOf(f[g]+"_"+v)==-1){f[g]+="_"+v;break}}}}var b=Zs(o["!ref"]),w=[],C=[],_=[];for(g=0;g<=b.e.c-b.s.c;++g){var S="",T="",A=0,M=[];for(v=0;v<m.length;++v)m[v][g]!=null&&M.push(m[v][g]);if(M.length==0||f[g]==null){w[g]="?";continue}for(v=0;v<M.length;++v){switch(typeof M[v]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=M[v]instanceof Date?"D":"C";break;default:T="C"}A=Math.max(A,(typeof Rr<"u"&&typeof M[v]=="string"?Rr.utils.encode(Hx,M[v]):String(M[v])).length),S=S&&S!=T?"C":T}A>250&&(A=250),T=((p[g]||{}).DBF||{}).type,T=="C"&&p[g].DBF.len>A&&(A=p[g].DBF.len),S=="B"&&T=="N"&&(S="N",_[g]=p[g].DBF.dec,A=p[g].DBF.len),C[g]=S=="C"||T=="N"?A:a[S]||0,x+=C[g],w[g]=S}var I=h.next(32);for(I.write_shift(4,318902576),I.write_shift(4,m.length),I.write_shift(2,296+32*y),I.write_shift(2,x),g=0;g<4;++g)I.write_shift(4,0);var D=+i[ed]||3;for(I.write_shift(4,0|D<<8),t[D]!=+l.codepage&&(l.codepage&&console.error("DBF Unsupported codepage "+ed+", using 1252"),ed=1252),g=0,v=0;g<f.length;++g)if(f[g]!=null){var k=h.next(32),G=(f[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,G,"sbcs"),k.write_shift(1,w[g]=="?"?"C":w[g],"sbcs"),k.write_shift(4,v),k.write_shift(1,C[g]||a[w[g]]||0),k.write_shift(1,_[g]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),v+=C[g]||a[w[g]]||0}var R=h.next(264);for(R.write_shift(4,13),g=0;g<65;++g)R.write_shift(4,0);for(g=0;g<m.length;++g){var H=h.next(x);for(H.write_shift(1,0),v=0;v<f.length;++v)if(f[v]!=null)switch(w[v]){case"L":H.write_shift(1,m[g][v]==null?63:m[g][v]?84:70);break;case"B":H.write_shift(8,m[g][v]||0,"f");break;case"N":var j="0";for(typeof m[g][v]=="number"&&(j=m[g][v].toFixed(_[v]||0)),j.length>C[v]&&(j=j.slice(0,C[v])),y=0;y<C[v]-j.length;++y)H.write_shift(1,32);H.write_shift(1,j,"sbcs");break;case"D":m[g][v]?(H.write_shift(4,("0000"+m[g][v].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(m[g][v].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+m[g][v].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var Z=H.l,ee=String(m[g][v]!=null?m[g][v]:"").slice(0,C[v]);for(H.write_shift(1,ee,"cpstr"),Z+=C[v]-H.l,y=0;y<Z;++y)H.write_shift(1,32);break}}return ed=c,h.next(1).write_shift(1,26),h.end()}return{to_workbook:n,to_sheet:r,from_sheet:s}}(),SHe=function(){var t={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},i=new RegExp("\x1BN("+so(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1").replace("{","\\{")+"|\\|)","gm");try{i=new RegExp("\x1BN("+so(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm")}catch{}var e=function(f,m){var p=t[m];return typeof p=="number"?ure(p):p},r=function(f,m,p){var g=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return g==59?f:ure(g)};t["|"]=254;var n=function(f){return f.replace(/\n/g,"\x1B :").replace(/\r/g,"\x1B =")};function a(f,m){switch(m.type){case"base64":return s(k0(f),m);case"binary":return s(f,m);case"buffer":return s(ns&&Buffer.isBuffer(f)?f.toString("binary"):xv(f),m);case"array":return s(k6(f),m)}throw new Error("Unrecognized type "+m.type)}function s(f,m){var p=f.split(/[\n\r]+/),g=-1,v=-1,y=0,x=0,b=[],w=[],C=null,_={},S=[],T=[],A=[],M=0,I,D={Workbook:{WBProps:{},Names:[]}};for(+m.codepage>=0&&C2(+m.codepage);y!==p.length;++y){M=0;var k=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(i,e),G=k.replace(/;;/g,"\0").split(";").map(function(me){return me.replace(/\u0000/g,";")}),R=G[0],H;if(k.length>0)switch(R){case"ID":break;case"E":break;case"B":break;case"O":for(x=1;x<G.length;++x)switch(G[x].charAt(0)){case"V":{var j=parseInt(G[x].slice(1),10);j>=1&&j<=4&&(D.Workbook.WBProps.date1904=!0)}break}break;case"W":break;case"P":switch(G[1].charAt(0)){case"P":w.push(k.slice(3).replace(/;;/g,";"));break}break;case"NN":{var Z={Sheet:0};for(x=1;x<G.length;++x)switch(G[x].charAt(0)){case"N":Z.Name=G[x].slice(1);break;case"E":Z.Ref=(m&&m.sheet||"Sheet1")+"!"+Yre(G[x].slice(1));break}D.Workbook.Names.push(Z)}break;case"C":var ee=!1,Y=!1,V=!1,O=!1,F=-1,X=-1,ie="",re="z",q="";for(x=1;x<G.length;++x)switch(G[x].charAt(0)){case"A":q=G[x].slice(1);break;case"X":v=parseInt(G[x].slice(1),10)-1,Y=!0;break;case"Y":for(g=parseInt(G[x].slice(1),10)-1,Y||(v=0),I=b.length;I<=g;++I)b[I]=[];break;case"K":H=G[x].slice(1),H.charAt(0)==='"'?(H=H.slice(1,H.length-1),re="s"):H==="TRUE"||H==="FALSE"?(H=H==="TRUE",re="b"):H.charAt(0)=="#"&&T6[H]!=null?(re="e",H=T6[H]):isNaN(nm(H))||(H=nm(H),re="n",C!==null&&bv(C)&&m.cellDates&&(H=Lx(D.Workbook.WBProps.date1904?H+1462:H),re=typeof H=="number"?"n":"d")),typeof Rr<"u"&&typeof H=="string"&&(m||{}).type!="string"&&(m||{}).codepage&&(H=Rr.utils.decode(m.codepage,H)),ee=!0;break;case"E":O=!0,ie=Yre(G[x].slice(1),{r:g,c:v});break;case"S":V=!0;break;case"G":break;case"R":F=parseInt(G[x].slice(1),10)-1;break;case"C":X=parseInt(G[x].slice(1),10)-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+k)}if(ee&&(b[g][v]?(b[g][v].t=re,b[g][v].v=H):b[g][v]={t:re,v:H},C&&(b[g][v].z=C),m.cellText!==!1&&C&&(b[g][v].w=sm(b[g][v].z,b[g][v].v,{date1904:D.Workbook.WBProps.date1904})),C=null),V){if(O)throw new Error("SYLK shared formula cannot have own formula");var ae=F>-1&&b[F][X];if(!ae||!ae[1])throw new Error("SYLK shared formula cannot find base");ie=TGe(ae[1],{r:g-F,c:v-X})}ie&&(b[g][v]?b[g][v].f=ie:b[g][v]={t:"n",f:ie}),q&&(b[g][v]||(b[g][v]={t:"z"}),b[g][v].c=[{a:"SheetJSYLK",t:q}]);break;case"F":var ue=0;for(x=1;x<G.length;++x)switch(G[x].charAt(0)){case"X":v=parseInt(G[x].slice(1),10)-1,++ue;break;case"Y":for(g=parseInt(G[x].slice(1),10)-1,I=b.length;I<=g;++I)b[I]=[];break;case"M":M=parseInt(G[x].slice(1),10)/20;break;case"F":break;case"G":break;case"P":C=w[parseInt(G[x].slice(1),10)];break;case"S":break;case"D":break;case"N":break;case"W":for(A=G[x].slice(1).split(" "),I=parseInt(A[0],10);I<=parseInt(A[1],10);++I)M=parseInt(A[2],10),T[I-1]=M===0?{hidden:!0}:{wch:M};break;case"C":v=parseInt(G[x].slice(1),10)-1,T[v]||(T[v]={});break;case"R":g=parseInt(G[x].slice(1),10)-1,S[g]||(S[g]={}),M>0?(S[g].hpt=M,S[g].hpx=$se(M)):M===0&&(S[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+k)}ue<1&&(C=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+k)}}return S.length>0&&(_["!rows"]=S),T.length>0&&(_["!cols"]=T),T.forEach(function(me){Q6(me)}),m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),[b,_,D]}function o(f,m){var p=a(f,m),g=p[0],v=p[1],y=p[2],x=tc(m);x.date1904=(((y||{}).Workbook||{}).WBProps||{}).date1904;var b=$x(g,x);so(v).forEach(function(C){b[C]=v[C]});var w=Yx(b,m);return so(y).forEach(function(C){w[C]=y[C]}),w.bookType="sylk",w}function u(f,m,p,g,v,y){var x="C;Y"+(p+1)+";X"+(g+1)+";K";switch(f.t){case"n":x+=f.v||0,f.f&&!f.F&&(x+=";E"+PD(f.f,{r:p,c:g}));break;case"b":x+=f.v?"TRUE":"FALSE";break;case"e":x+=f.w||R0[f.v]||f.v;break;case"d":x+=xl(pu(f.v,y),y);break;case"s":x+='"'+(f.v==null?"":String(f.v)).replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function l(f,m,p){var g="C;Y"+(m+1)+";X"+(p+1)+";A";return g+=n(f.map(function(v){return v.t}).join("")),g}function c(f,m){m.forEach(function(p,g){var v="F;W"+(g+1)+" "+(g+1)+" ";p.hidden?v+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=mD(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=gD(p.wpx)),typeof p.wch=="number"&&(v+=Math.round(p.wch))),v.charAt(v.length-1)!=" "&&f.push(v)})}function h(f,m){m.forEach(function(p,g){var v="F;";p.hidden?v+="M0;":p.hpt?v+="M"+20*p.hpt+";":p.hpx&&(v+="M"+20*vD(p.hpx)+";"),v.length>2&&f.push(v+"R"+(g+1))})}function d(f,m,p){m||(m={}),m._formats=["General"];var g=["ID;PSheetJS;N;E"],v=[],y=Zs(f["!ref"]||"A1"),x,b=f["!data"]!=null,w=`\r
`,C=(((p||{}).Workbook||{}).WBProps||{}).date1904,_="General";g.push("P;PGeneral");var S=y.s.r,T=y.s.c,A=[];if(f["!ref"]){for(S=y.s.r;S<=y.e.r;++S)if(!(b&&!f["!data"][S])){for(A=[],T=y.s.c;T<=y.e.c;++T)x=b?f["!data"][S][T]:f[fs(T)+bs(S)],!(!x||!x.c)&&A.push(l(x.c,S,T));A.length&&v.push(A.join(w))}}if(f["!ref"]){for(S=y.s.r;S<=y.e.r;++S)if(!(b&&!f["!data"][S])){for(A=[],T=y.s.c;T<=y.e.c;++T)if(x=b?f["!data"][S][T]:f[fs(T)+bs(S)],!(!x||x.v==null&&(!x.f||x.F))){if((x.z||(x.t=="d"?Ks[14]:"General"))!=_){var M=m._formats.indexOf(x.z);M==-1&&(m._formats.push(x.z),M=m._formats.length-1,g.push("P;P"+x.z.replace(/;/g,";;"))),A.push("F;P"+M+";Y"+(S+1)+";X"+(T+1))}A.push(u(x,f,S,T,m,C))}v.push(A.join(w))}}return g.push("F;P0;DG0G8;M255"),f["!cols"]&&c(g,f["!cols"]),f["!rows"]&&h(g,f["!rows"]),f["!ref"]&&g.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" ")),g.push("O;L;D;B"+(C?";V4":"")+";K47;G100 0.001"),delete m._formats,g.join(w)+w+v.join(w)+w+"E"+w}return{to_workbook:o,from_sheet:d}}(),THe=function(){function t(o,u){switch(u.type){case"base64":return i(k0(o),u);case"binary":return i(o,u);case"buffer":return i(ns&&Buffer.isBuffer(o)?o.toString("binary"):xv(o),u);case"array":return i(k6(o),u)}throw new Error("Unrecognized type "+u.type)}function i(o,u){for(var l=o.split(`
`),c=-1,h=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],h=0;continue}if(!(c<0)){var m=l[d].trim().split(","),p=m[0],g=m[1];++d;for(var v=l[d]||"";(v.match(/["]/g)||[]).length&1&&d<l.length-1;)v+=`
`+l[++d];switch(v=v.trim(),+p){case-1:if(v==="BOT"){f[++c]=[],h=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[c][h]=!0:v==="FALSE"?f[c][h]=!1:isNaN(nm(g))?isNaN(dD(g).getDate())?f[c][h]=g:(f[c][h]=pu(g),u&&u.UTC||(f[c][h]=Gx(f[c][h]))):f[c][h]=nm(g),++h;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),dre&&v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[c][h++]=v!==""?v:null;break}if(v==="EOD")break}}return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),f}function e(o,u){return $x(t(o,u),u)}function r(o,u){var l=Yx(e(o,u),u);return l.bookType="dif",l}function n(o,u){return"0,"+String(o)+`\r
`+u}function a(o){return`1,0\r
"`+o.replace(/"/g,'""')+'"'}function s(o){var u=dre;if(!o["!ref"])throw new Error("Cannot export empty sheet to DIF");for(var l=Zs(o["!ref"]),c=o["!data"]!=null,h=[`TABLE\r
0,1\r
"sheetjs"\r
`,`VECTORS\r
0,`+(l.e.r-l.s.r+1)+`\r
""\r
`,`TUPLES\r
0,`+(l.e.c-l.s.c+1)+`\r
""\r
`,`DATA\r
0,0\r
""\r
`],d=l.s.r;d<=l.e.r;++d){for(var f=c?o["!data"][d]:[],m=`-1,0\r
BOT\r
`,p=l.s.c;p<=l.e.c;++p){var g=c?f&&f[p]:o[ya({r:d,c:p})];if(g==null){m+=`1,0\r
""\r
`;continue}switch(g.t){case"n":u?g.w!=null?m+="0,"+g.w+`\r
V`:g.v!=null?m+=n(g.v,"V"):g.f!=null&&!g.F?m+=a("="+g.f):m+=`1,0\r
""`:g.v==null?m+=`1,0\r
""`:m+=n(g.v,"V");break;case"b":m+=g.v?n(1,"TRUE"):n(0,"FALSE");break;case"s":m+=a(!u||isNaN(+g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=sm(g.z||Ks[14],xl(pu(g.v)))),u?m+=n(g.w,"V"):m+=a(g.w);break;default:m+=`1,0\r
""`}m+=`\r
`}h.push(m)}return h.join("")+`-1,0\r
EOD`}return{to_workbook:r,to_sheet:e,from_sheet:s}}(),Wse=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function i(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function e(h,d){for(var f=h.split(`
`),m=-1,p=-1,g=0,v=[];g!==f.length;++g){var y=f[g].trim().split(":");if(y[0]==="cell"){var x=oa(y[1]);if(v.length<=x.r)for(m=v.length;m<=x.r;++m)v[m]||(v[m]=[]);switch(m=x.r,p=x.c,y[2]){case"t":v[m][p]=t(y[3]);break;case"v":v[m][p]=+y[3];break;case"vtf":var b=y[y.length-1];case"vtc":switch(y[3]){case"nl":v[m][p]=!!+y[4];break;default:v[m][p]=+y[4];break}y[2]=="vtf"&&(v[m][p]=[v[m][p],b])}}}return d&&d.sheetRows&&(v=v.slice(0,d.sheetRows)),v}function r(h,d){return $x(e(h,d),d)}function n(h,d){return Yx(r(h,d),d)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function l(h){if(!h||!h["!ref"])return"";for(var d=[],f=[],m,p="",g=yl(h["!ref"]),v=h["!data"]!=null,y=g.s.r;y<=g.e.r;++y)for(var x=g.s.c;x<=g.e.c;++x)if(p=ya({r:y,c:x}),m=v?(h["!data"][y]||[])[x]:h[p],!(!m||m.v==null||m.t==="z")){switch(f=["cell",p,"t"],m.t){case"s":case"str":f.push(i(m.v));break;case"n":m.f?(f[2]="vtf",f[3]="n",f[4]=m.v,f[5]=i(m.f)):(f[2]="v",f[3]=m.v);break;case"b":f[2]="vt"+(m.f?"f":"c"),f[3]="nl",f[4]=m.v?"1":"0",f[5]=i(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var b=xl(pu(m.v));f[2]="vtc",f[3]="nd",f[4]=""+b,f[5]=m.w||sm(m.z||Ks[14],b);break;case"e":continue}d.push(f.join(":"))}return d.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function c(h){return[a,s,o,s,l(h),u].join(`
`)}return{to_workbook:n,to_sheet:r,from_sheet:c}}(),EHe=function(){function t(c,h,d,f,m){m.raw?h[d][f]=c:c===""||(c==="TRUE"?h[d][f]=!0:c==="FALSE"?h[d][f]=!1:isNaN(nm(c))?isNaN(dD(c).getDate())?h[d][f]=c:h[d][f]=pu(c):h[d][f]=nm(c))}function i(c,h){var d=h||{},f=[];if(!c||c.length===0)return f;for(var m=c.split(/[\r\n]/),p=m.length-1;p>=0&&m[p].length===0;)--p;for(var g=10,v=0,y=0;y<=p;++y)v=m[y].indexOf(" "),v==-1?v=m[y].length:v++,g=Math.max(g,v);for(y=0;y<=p;++y){f[y]=[];var x=0;for(t(m[y].slice(0,g).trim(),f,y,x,d),x=1;x<=(m[y].length-g)/10+1;++x)t(m[y].slice(g+(x-1)*10,g+x*10).trim(),f,y,x,d)}return d.sheetRows&&(f=f.slice(0,d.sheetRows)),f}var e={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(c){for(var h={},d=!1,f=0,m=0;f<c.length;++f)(m=c.charCodeAt(f))==34?d=!d:!d&&m in e&&(h[m]=(h[m]||0)+1);m=[];for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&m.push([h[f],f]);if(!m.length){h=r;for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&m.push([h[f],f])}return m.sort(function(p,g){return p[0]-g[0]||r[p[1]]-r[g[1]]}),e[m.pop()[1]]||44}function a(c,h){var d=h||{},f="";Kf!=null&&d.dense==null&&(d.dense=Kf);var m={};d.dense&&(m["!data"]=[]);var p={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(f=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(f=c.charAt(4),c=c.slice(6)):f=n(c.slice(0,1024)):d&&d.FS?f=d.FS:f=n(c.slice(0,1024));var g=0,v=0,y=0,x=0,b=0,w=f.charCodeAt(0),C=!1,_=0,S=c.charCodeAt(0),T=d.dateNF!=null?Dze(d.dateNF):null;function A(){var M=c.slice(x,b);M.slice(-1)=="\r"&&(M=M.slice(0,-1));var I={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),d.cellText!==!1&&(I.w=M),M.length===0)I.t="z";else if(d.raw)I.t="s",I.v=M;else if(M.trim().length===0)I.t="s",I.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(I.t="s",I.v=M.slice(2,-1).replace(/""/g,'"')):EGe(M)?(I.t="s",I.f=M.slice(1),I.v=M):(I.t="s",I.v=M);else if(M=="TRUE")I.t="b",I.v=!0;else if(M=="FALSE")I.t="b",I.v=!1;else if(!isNaN(y=nm(M)))I.t="n",I.v=y;else if(!isNaN((y=dD(M)).getDate())||T&&M.match(T)){if(I.z=d.dateNF||Ks[14],T&&M.match(T)){var D=Pze(M,d.dateNF,M.match(T)||[]);y=pu(D),d&&d.UTC===!1&&(y=Gx(y))}else d&&d.UTC===!1?y=Gx(y):d.cellText!==!1&&d.dateNF&&(I.w=sm(I.z,y));d.cellDates?(I.t="d",I.v=y):(I.t="n",I.v=xl(y)),d.cellNF||delete I.z}else I.t="s",I.v=M;if(I.t=="z"||(d.dense?(m["!data"][g]||(m["!data"][g]=[]),m["!data"][g][v]=I):m[ya({c:v,r:g})]=I),x=b+1,S=c.charCodeAt(x),p.e.c<v&&(p.e.c=v),p.e.r<g&&(p.e.r=g),_==w)++v;else if(v=0,++g,d.sheetRows&&d.sheetRows<=g)return!0}e:for(;b<c.length;++b)switch(_=c.charCodeAt(b)){case 34:S===34&&(C=!C);break;case 13:if(C)break;c.charCodeAt(b+1)==10&&++b;case w:case 10:if(!C&&A())break e;break;default:break}return b-x>0&&A(),m["!ref"]=ao(p),m}function s(c,h){return!(h&&h.PRN)||h.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?a(c,h):$x(i(c,h),h)}function o(c,h){var d="",f=h.type=="string"?[0,0,0,0]:qYe(c,h);switch(h.type){case"base64":d=k0(c);break;case"binary":d=c;break;case"buffer":h.codepage==65001?d=c.toString("utf8"):h.codepage&&typeof Rr<"u"?d=Rr.utils.decode(h.codepage,c):d=ns&&Buffer.isBuffer(c)?c.toString("binary"):xv(c);break;case"array":d=k6(c);break;case"string":d=c;break;default:throw new Error("Unrecognized type "+h.type)}return f[0]==239&&f[1]==187&&f[2]==191?d=Nx(d.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?d=Nx(d):h.type=="binary"&&typeof Rr<"u"&&h.codepage&&(d=Rr.utils.decode(h.codepage,Rr.utils.encode(28591,d))),d.slice(0,19)=="socialcalc:version:"?Wse.to_sheet(h.type=="string"?d:Nx(d),h):s(d,h)}function u(c,h){return Yx(o(c,h),h)}function l(c){var h=[];if(!c["!ref"])return"";for(var d=Zs(c["!ref"]),f,m=c["!data"]!=null,p=d.s.r;p<=d.e.r;++p){for(var g=[],v=d.s.c;v<=d.e.c;++v){var y=ya({r:p,c:v});if(f=m?(c["!data"][p]||[])[v]:c[y],!f||f.v==null){g.push("          ");continue}for(var x=(f.w||(am(f),f.w)||"").slice(0,10);x.length<10;)x+=" ";g.push(x+(v===0?" ":""))}h.push(g.join(""))}return h.join(`
`)}return{to_workbook:u,to_sheet:o,from_sheet:l}}();var Gre=function(){function t(q,ae,ue){if(q){Ic(q,q.l||0);for(var me=ue.Enum||O;q.l<q.length;){var be=q.read_shift(2),ke=me[be]||me[65535],ze=q.read_shift(2),De=q.l+ze,ge=ke.f&&ke.f(q,ze,ue);if(q.l=De,ae(ge,ke,be))return}}}function i(q,ae){switch(ae.type){case"base64":return r(Ju(k0(q)),ae);case"binary":return r(Ju(q),ae);case"buffer":case"array":return r(q,ae)}throw"Unsupported type "+ae.type}var e=["mmmm","dd-mmm-yyyy","dd-mmm","mmm-yyyy","@","mm/dd","hh:mm:ss AM/PM","hh:mm AM/PM","mm/dd/yyyy","mm/dd","hh:mm:ss","hh:mm"];function r(q,ae){if(!q)return q;var ue=ae||{};Kf!=null&&ue.dense==null&&(ue.dense=Kf);var me={},be="Sheet1",ke="",ze=0,De={},ge=[],Et=[],ct=[];ue.dense&&(ct=me["!data"]=[]);var We={s:{r:0,c:0},e:{r:0,c:0}},Ue=ue.sheetRows||0,qe={};if(q[4]==81&&q[5]==80&&q[6]==87)return re(q,ae);if(q[2]==0&&(q[3]==8||q[3]==9)&&q.length>=16&&q[14]==5&&q[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(q[2]==2)ue.Enum=O,t(q,function(bt,ai,ei){switch(ei){case 0:ue.vers=bt,bt>=4096&&(ue.qpro=!0);break;case 255:ue.vers=bt,ue.works=!0;break;case 6:We=bt;break;case 204:bt&&(ke=bt);break;case 222:ke=bt;break;case 15:case 51:(!ue.qpro&&!ue.works||ei==51)&&bt[1].v.charCodeAt(0)<48&&(bt[1].v=bt[1].v.slice(1)),(ue.works||ue.works2)&&(bt[1].v=bt[1].v.replace(/\r\n/g,`
`));case 13:case 14:case 16:(bt[2]&112)==112&&(bt[2]&15)>1&&(bt[2]&15)<15&&(bt[1].z=ue.dateNF||e[(bt[2]&15)-1]||Ks[14],ue.cellDates&&(bt[1].v=Lx(bt[1].v),bt[1].t=typeof bt[1].v=="number"?"n":"d")),ue.qpro&&bt[3]>ze&&(me["!ref"]=ao(We),De[be]=me,ge.push(be),me={},ue.dense&&(ct=me["!data"]=[]),We={s:{r:0,c:0},e:{r:0,c:0}},ze=bt[3],be=ke||"Sheet"+(ze+1),ke="");var li=ue.dense?(ct[bt[0].r]||[])[bt[0].c]:me[ya(bt[0])];if(li){li.t=bt[1].t,li.v=bt[1].v,bt[1].z!=null&&(li.z=bt[1].z),bt[1].f!=null&&(li.f=bt[1].f),qe=li;break}ue.dense?(ct[bt[0].r]||(ct[bt[0].r]=[]),ct[bt[0].r][bt[0].c]=bt[1]):me[ya(bt[0])]=bt[1],qe=bt[1];break;case 21509:ue.works2=!0;break;case 21506:bt==5281&&(qe.z="hh:mm:ss",ue.cellDates&&qe.t=="n"&&(qe.v=Lx(qe.v),qe.t=typeof qe.v=="number"?"n":"d"));break}},ue);else if(q[2]==26||q[2]==14)ue.Enum=F,q[2]==14&&(ue.qpro=!0,q.l=0),t(q,function(bt,ai,ei){switch(ei){case 204:be=bt;break;case 22:bt[1].v.charCodeAt(0)<48&&(bt[1].v=bt[1].v.slice(1)),bt[1].v=bt[1].v.replace(/\x0F./g,function(li){return String.fromCharCode(li.charCodeAt(1)-32)}).replace(/\r\n/g,`
`);case 23:case 24:case 25:case 37:case 39:case 40:if(bt[3]>ze&&(me["!ref"]=ao(We),De[be]=me,ge.push(be),me={},ue.dense&&(ct=me["!data"]=[]),We={s:{r:0,c:0},e:{r:0,c:0}},ze=bt[3],be="Sheet"+(ze+1)),Ue>0&&bt[0].r>=Ue)break;ue.dense?(ct[bt[0].r]||(ct[bt[0].r]=[]),ct[bt[0].r][bt[0].c]=bt[1]):me[ya(bt[0])]=bt[1],We.e.c<bt[0].c&&(We.e.c=bt[0].c),We.e.r<bt[0].r&&(We.e.r=bt[0].r);break;case 27:bt[14e3]&&(Et[bt[14e3][0]]=bt[14e3][1]);break;case 1537:Et[bt[0]]=bt[1],bt[0]==ze&&(be=bt[1]);break;default:break}},ue);else throw new Error("Unrecognized LOTUS BOF "+q[2]);if(me["!ref"]=ao(We),De[ke||be]=me,ge.push(ke||be),!Et.length)return{SheetNames:ge,Sheets:De};for(var it={},Ft=[],at=0;at<Et.length;++at)De[ge[at]]?(Ft.push(Et[at]||ge[at]),it[Et[at]]=De[Et[at]]||De[ge[at]]):(Ft.push(Et[at]),it[Et[at]]={"!ref":"A1"});return{SheetNames:Ft,Sheets:it}}function n(q,ae){var ue=ae||{};if(+ue.codepage>=0&&C2(+ue.codepage),ue.type=="string")throw new Error("Cannot write WK1 to JS string");var me=ql();if(!q["!ref"])throw new Error("Cannot export empty sheet to WK1");var be=Zs(q["!ref"]),ke=q["!data"]!=null,ze=[];Yt(me,0,s(1030)),Yt(me,6,l(be));for(var De=Math.min(be.e.r,8191),ge=be.s.c;ge<=be.e.c;++ge)ze[ge]=fs(ge);for(var Et=be.s.r;Et<=De;++Et){var ct=bs(Et);for(ge=be.s.c;ge<=be.e.c;++ge){var We=ke?(q["!data"][Et]||[])[ge]:q[ze[ge]+ct];if(!(!We||We.t=="z"))switch(We.t){case"n":(We.v|0)==We.v&&We.v>=-32768&&We.v<=32767?Yt(me,13,g(Et,ge,We)):Yt(me,14,y(Et,ge,We));break;case"d":var Ue=xl(We.v);(Ue|0)==Ue&&Ue>=-32768&&Ue<=32767?Yt(me,13,g(Et,ge,{t:"n",v:Ue,z:We.z||Ks[14]})):Yt(me,14,y(Et,ge,{t:"n",v:Ue,z:We.z||Ks[14]}));break;default:var qe=am(We);Yt(me,15,f(Et,ge,qe.slice(0,239)))}}}return Yt(me,1),me.end()}function a(q,ae){var ue=ae||{};if(+ue.codepage>=0&&C2(+ue.codepage),ue.type=="string")throw new Error("Cannot write WK3 to JS string");var me=ql();Yt(me,0,o(q));for(var be=0,ke=0;be<q.SheetNames.length;++be)(q.Sheets[q.SheetNames[be]]||{})["!ref"]&&Yt(me,27,V(q.SheetNames[be],ke++));var ze=0;for(be=0;be<q.SheetNames.length;++be){var De=q.Sheets[q.SheetNames[be]];if(!(!De||!De["!ref"])){for(var ge=Zs(De["!ref"]),Et=De["!data"]!=null,ct=[],We=Math.min(ge.e.r,8191),Ue=ge.s.r;Ue<=We;++Ue)for(var qe=bs(Ue),it=ge.s.c;it<=ge.e.c;++it){Ue===ge.s.r&&(ct[it]=fs(it));var Ft=ct[it]+qe,at=Et?(De["!data"][Ue]||[])[it]:De[Ft];if(!(!at||at.t=="z"))if(at.t=="n")Yt(me,23,D(Ue,it,ze,at.v));else{var bt=am(at);Yt(me,22,A(Ue,it,ze,bt.slice(0,239)))}}++ze}}return Yt(me,1),me.end()}function s(q){var ae=gt(2);return ae.write_shift(2,q),ae}function o(q){var ae=gt(26);ae.write_shift(2,4096),ae.write_shift(2,4),ae.write_shift(4,0);for(var ue=0,me=0,be=0,ke=0;ke<q.SheetNames.length;++ke){var ze=q.SheetNames[ke],De=q.Sheets[ze];if(!(!De||!De["!ref"])){++be;var ge=yl(De["!ref"]);ue<ge.e.r&&(ue=ge.e.r),me<ge.e.c&&(me=ge.e.c)}}return ue>8191&&(ue=8191),ae.write_shift(2,ue),ae.write_shift(1,be),ae.write_shift(1,me),ae.write_shift(2,0),ae.write_shift(2,0),ae.write_shift(1,1),ae.write_shift(1,2),ae.write_shift(4,0),ae.write_shift(4,0),ae}function u(q,ae,ue){var me={s:{c:0,r:0},e:{c:0,r:0}};return ae==8&&ue.qpro?(me.s.c=q.read_shift(1),q.l++,me.s.r=q.read_shift(2),me.e.c=q.read_shift(1),q.l++,me.e.r=q.read_shift(2),me):(me.s.c=q.read_shift(2),me.s.r=q.read_shift(2),ae==12&&ue.qpro&&(q.l+=2),me.e.c=q.read_shift(2),me.e.r=q.read_shift(2),ae==12&&ue.qpro&&(q.l+=2),me.s.c==65535&&(me.s.c=me.e.c=me.s.r=me.e.r=0),me)}function l(q){var ae=gt(8);return ae.write_shift(2,q.s.c),ae.write_shift(2,q.s.r),ae.write_shift(2,q.e.c),ae.write_shift(2,q.e.r),ae}function c(q,ae,ue){var me=[{c:0,r:0},{t:"n",v:0},0,0];return ue.qpro&&ue.vers!=20768?(me[0].c=q.read_shift(1),me[3]=q.read_shift(1),me[0].r=q.read_shift(2),q.l+=2):ue.works?(me[0].c=q.read_shift(2),me[0].r=q.read_shift(2),me[2]=q.read_shift(2)):(me[2]=q.read_shift(1),me[0].c=q.read_shift(2),me[0].r=q.read_shift(2)),me}function h(q){return q.z&&bv(q.z)?240|(e.indexOf(q.z)+1||2):255}function d(q,ae,ue){var me=q.l+ae,be=c(q,ae,ue);if(be[1].t="s",(ue.vers&65534)==20768){q.l++;var ke=q.read_shift(1);return be[1].v=q.read_shift(ke,"utf8"),be}return ue.qpro&&q.l++,be[1].v=q.read_shift(me-q.l,"cstr"),be}function f(q,ae,ue){var me=gt(7+ue.length);me.write_shift(1,255),me.write_shift(2,ae),me.write_shift(2,q),me.write_shift(1,39);for(var be=0;be<me.length;++be){var ke=ue.charCodeAt(be);me.write_shift(1,ke>=128?95:ke)}return me.write_shift(1,0),me}function m(q,ae,ue){var me=q.l+ae,be=c(q,ae,ue);if(be[1].t="s",ue.vers==20768){var ke=q.read_shift(1);return be[1].v=q.read_shift(ke,"utf8"),be}return be[1].v=q.read_shift(me-q.l,"cstr"),be}function p(q,ae,ue){var me=c(q,ae,ue);return me[1].v=q.read_shift(2,"i"),me}function g(q,ae,ue){var me=gt(7);return me.write_shift(1,h(ue)),me.write_shift(2,ae),me.write_shift(2,q),me.write_shift(2,ue.v,"i"),me}function v(q,ae,ue){var me=c(q,ae,ue);return me[1].v=q.read_shift(8,"f"),me}function y(q,ae,ue){var me=gt(13);return me.write_shift(1,h(ue)),me.write_shift(2,ae),me.write_shift(2,q),me.write_shift(8,ue.v,"f"),me}function x(q,ae,ue){var me=q.l+ae,be=c(q,ae,ue);if(be[1].v=q.read_shift(8,"f"),ue.qpro)q.l=me;else{var ke=q.read_shift(2);_(q.slice(q.l,q.l+ke),be),q.l+=ke}return be}function b(q,ae,ue){var me=ae&32768;return ae&=-32769,ae=(me?q:0)+(ae>=8192?ae-16384:ae),(me?"":"$")+(ue?fs(ae):bs(ae))}var w={31:["NA",0],33:["ABS",1],34:["TRUNC",1],35:["SQRT",1],36:["LOG",1],37:["LN",1],38:["PI",0],39:["SIN",1],40:["COS",1],41:["TAN",1],42:["ATAN2",2],43:["ATAN",1],44:["ASIN",1],45:["ACOS",1],46:["EXP",1],47:["MOD",2],49:["ISNA",1],50:["ISERR",1],51:["FALSE",0],52:["TRUE",0],53:["RAND",0],54:["DATE",3],63:["ROUND",2],64:["TIME",3],68:["ISNUMBER",1],69:["ISTEXT",1],70:["LEN",1],71:["VALUE",1],73:["MID",3],74:["CHAR",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],102:["UPPER",1],103:["LOWER",1],107:["PROPER",1],109:["TRIM",1],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(q,ae){Ic(q,0);for(var ue=[],me=0,be="",ke="",ze="",De="";q.l<q.length;){var ge=q[q.l++];switch(ge){case 0:ue.push(q.read_shift(8,"f"));break;case 1:ke=b(ae[0].c,q.read_shift(2),!0),be=b(ae[0].r,q.read_shift(2),!1),ue.push(ke+be);break;case 2:{var Et=b(ae[0].c,q.read_shift(2),!0),ct=b(ae[0].r,q.read_shift(2),!1);ke=b(ae[0].c,q.read_shift(2),!0),be=b(ae[0].r,q.read_shift(2),!1),ue.push(Et+ct+":"+ke+be)}break;case 3:if(q.l<q.length){console.error("WK1 premature formula end");return}break;case 4:ue.push("("+ue.pop()+")");break;case 5:ue.push(q.read_shift(2));break;case 6:{for(var We="";ge=q[q.l++];)We+=String.fromCharCode(ge);ue.push('"'+We.replace(/"/g,'""')+'"')}break;case 8:ue.push("-"+ue.pop());break;case 23:ue.push("+"+ue.pop());break;case 22:ue.push("NOT("+ue.pop()+")");break;case 20:case 21:De=ue.pop(),ze=ue.pop(),ue.push(["AND","OR"][ge-20]+"("+ze+","+De+")");break;default:if(ge<32&&C[ge])De=ue.pop(),ze=ue.pop(),ue.push(ze+C[ge]+De);else if(w[ge]){if(me=w[ge][1],me==69&&(me=q[q.l++]),me>ue.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+ue.join("|")+"|");return}var Ue=ue.slice(-me);ue.length-=me,ue.push(w[ge][0]+"("+Ue.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}ue.length==1?ae[1].f=""+ue[0]:console.error("WK1 bad formula parse |"+ue.join("|")+"|")}function S(q){var ae=[{c:0,r:0},{t:"n",v:0},0];return ae[0].r=q.read_shift(2),ae[3]=q[q.l++],ae[0].c=q[q.l++],ae}function T(q,ae){var ue=S(q,ae);return ue[1].t="s",ue[1].v=q.read_shift(ae-4,"cstr"),ue}function A(q,ae,ue,me){var be=gt(6+me.length);be.write_shift(2,q),be.write_shift(1,ue),be.write_shift(1,ae),be.write_shift(1,39);for(var ke=0;ke<me.length;++ke){var ze=me.charCodeAt(ke);be.write_shift(1,ze>=128?95:ze)}return be.write_shift(1,0),be}function M(q,ae){var ue=S(q,ae);ue[1].v=q.read_shift(2);var me=ue[1].v>>1;if(ue[1].v&1)switch(me&7){case 0:me=(me>>3)*5e3;break;case 1:me=(me>>3)*500;break;case 2:me=(me>>3)/20;break;case 3:me=(me>>3)/200;break;case 4:me=(me>>3)/2e3;break;case 5:me=(me>>3)/2e4;break;case 6:me=(me>>3)/16;break;case 7:me=(me>>3)/64;break}return ue[1].v=me,ue}function I(q,ae){var ue=S(q,ae),me=q.read_shift(4),be=q.read_shift(4),ke=q.read_shift(2);if(ke==65535)return me===0&&be===3221225472?(ue[1].t="e",ue[1].v=15):me===0&&be===3489660928?(ue[1].t="e",ue[1].v=42):ue[1].v=0,ue;var ze=ke&32768;return ke=(ke&32767)-16446,ue[1].v=(1-ze*2)*(be*Math.pow(2,ke+32)+me*Math.pow(2,ke)),ue}function D(q,ae,ue,me){var be=gt(14);if(be.write_shift(2,q),be.write_shift(1,ue),be.write_shift(1,ae),me==0)return be.write_shift(4,0),be.write_shift(4,0),be.write_shift(2,65535),be;var ke=0,ze=0,De=0,ge=0;return me<0&&(ke=1,me=-me),ze=Math.log2(me)|0,me/=Math.pow(2,ze-31),ge=me>>>0,ge&2147483648||(me/=2,++ze,ge=me>>>0),me-=ge,ge|=2147483648,ge>>>=0,me*=Math.pow(2,32),De=me>>>0,be.write_shift(4,De),be.write_shift(4,ge),ze+=16383+(ke?32768:0),be.write_shift(2,ze),be}function k(q,ae){var ue=I(q,14);return q.l+=ae-14,ue}function G(q,ae){var ue=S(q,ae),me=q.read_shift(4);return ue[1].v=me>>6,ue}function R(q,ae){var ue=S(q,ae),me=q.read_shift(8,"f");return ue[1].v=me,ue}function H(q,ae){var ue=R(q,12);return q.l+=ae-12,ue}function j(q,ae){return q[q.l+ae-1]==0?q.read_shift(ae,"cstr"):""}function Z(q,ae){var ue=q[q.l++];ue>ae-1&&(ue=ae-1);for(var me="";me.length<ue;)me+=String.fromCharCode(q[q.l++]);return me}function ee(q,ae,ue){if(!(!ue.qpro||ae<21)){var me=q.read_shift(1);q.l+=17,q.l+=1,q.l+=2;var be=q.read_shift(ae-21,"cstr");return[me,be]}}function Y(q,ae){for(var ue={},me=q.l+ae;q.l<me;){var be=q.read_shift(2);if(be==14e3){for(ue[be]=[0,""],ue[be][0]=q.read_shift(2);q[q.l];)ue[be][1]+=String.fromCharCode(q[q.l]),q.l++;q.l++}}return ue}function V(q,ae){var ue=gt(5+q.length);ue.write_shift(2,14e3),ue.write_shift(2,ae);for(var me=0;me<q.length;++me){var be=q.charCodeAt(me);ue[ue.l++]=be>127?95:be}return ue[ue.l++]=0,ue}var O={0:{n:"BOF",f:sD},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:j},222:{n:"SHEETNAMELP",f:Z},255:{n:"BOF",f:sD},21506:{n:"WKSNF",f:sD},65535:{n:""}},F={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:T},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:k},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:G},38:{n:"??"},39:{n:"NUMBER27",f:R},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:j},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},X={5:"dd-mmm-yy",6:"dd-mmm",7:"mmm-yy",8:"mm/dd/yy",10:"hh:mm:ss AM/PM",11:"hh:mm AM/PM",14:"dd-mmm-yyyy",15:"mmm-yyyy",34:"0.00",50:"0.00;[Red]0.00",66:"0.00;(0.00)",82:"0.00;[Red](0.00)",162:'"$"#,##0.00;\\("$"#,##0.00\\)',288:"0%",304:"0E+00",320:"# ?/?"};function ie(q){var ae=q.read_shift(2),ue=q.read_shift(1);if(ue!=0)throw"unsupported QPW string type "+ue.toString(16);return q.read_shift(ae,"sbcs-cont")}function re(q,ae){Ic(q,0);var ue=ae||{};Kf!=null&&ue.dense==null&&(ue.dense=Kf);var me={};ue.dense&&(me["!data"]=[]);var be=[],ke="",ze=[],De={s:{r:-1,c:-1},e:{r:-1,c:-1}},ge=0,Et=0,ct=0,We=0,Ue={SheetNames:[],Sheets:{}},qe=[];e:for(;q.l<q.length;){var it=q.read_shift(2),Ft=q.read_shift(2),at=q.slice(q.l,q.l+Ft);switch(Ic(at,0),it){case 1:if(at.read_shift(4)!=962023505)throw"Bad QPW9 BOF!";break;case 2:break e;case 8:break;case 10:for(var bt=at.read_shift(4),ai=(at.length-at.l)/bt|0,ei=0;ei<bt;++ei){var li=at.l+ai,fi={};at.l+=2,fi.numFmtId=at.read_shift(2),X[fi.numFmtId]&&(fi.z=X[fi.numFmtId]),at.l=li,qe.push(fi)}break;case 1025:break;case 1026:break;case 1031:for(at.l+=12;at.l<at.length;)ge=at.read_shift(2),Et=at.read_shift(1),be.push(at.read_shift(ge,"cstr"));break;case 1032:break;case 1537:{var vi=at.read_shift(2);me={},ue.dense&&(me["!data"]=[]),De.s.c=at.read_shift(2),De.e.c=at.read_shift(2),De.s.r=at.read_shift(4),De.e.r=at.read_shift(4),at.l+=4,at.l+2<at.length&&(ge=at.read_shift(2),Et=at.read_shift(1),ke=ge==0?"":at.read_shift(ge,"cstr")),ke||(ke=fs(vi))}break;case 1538:{if(De.s.c>255||De.s.r>999999)break;De.e.c<De.s.c&&(De.e.c=De.s.c),De.e.r<De.s.r&&(De.e.r=De.s.r),me["!ref"]=ao(De),tB(Ue,me,ke)}break;case 2561:ct=at.read_shift(2),De.e.c<ct&&(De.e.c=ct),De.s.c>ct&&(De.s.c=ct),We=at.read_shift(4),De.s.r>We&&(De.s.r=We),We=at.read_shift(4),De.e.r<We&&(De.e.r=We);break;case 3073:{We=at.read_shift(4),ge=at.read_shift(4),De.s.r>We&&(De.s.r=We),De.e.r<We+ge-1&&(De.e.r=We+ge-1);for(var Ht=fs(ct);at.l<at.length;){var xi={t:"z"},Ti=at.read_shift(1),Tr=-1;Ti&128&&(Tr=at.read_shift(2));var mn=Ti&64?at.read_shift(2)-1:0;switch(Ti&31){case 0:break;case 1:break;case 2:xi={t:"n",v:at.read_shift(2)};break;case 3:xi={t:"n",v:at.read_shift(2,"i")};break;case 4:xi={t:"n",v:Y6(at)};break;case 5:xi={t:"n",v:at.read_shift(8,"f")};break;case 7:xi={t:"s",v:be[Et=at.read_shift(4)-1]};break;case 8:xi={t:"n",v:at.read_shift(8,"f")},at.l+=2,at.l+=4,isNaN(xi.v)&&(xi={t:"e",v:15});break;default:throw"Unrecognized QPW cell type "+(Ti&31)}Tr!=-1&&(qe[Tr-1]||{}).z&&(xi.z=qe[Tr-1].z);var wn=0;if(Ti&32)switch(Ti&31){case 2:wn=at.read_shift(2);break;case 3:wn=at.read_shift(2,"i");break;case 7:wn=at.read_shift(2);break;default:throw"Unsupported delta for QPW cell type "+(Ti&31)}if(!(!ue.sheetStubs&&xi.t=="z")){var Xr=tc(xi);xi.t=="n"&&xi.z&&bv(xi.z)&&ue.cellDates&&(Xr.v=Lx(xi.v),Xr.t=typeof Xr.v=="number"?"n":"d"),me["!data"]!=null?(me["!data"][We]||(me["!data"][We]=[]),me["!data"][We][ct]=Xr):me[Ht+bs(We)]=Xr}for(++We,--ge;mn-- >0&&ge>=0;){if(Ti&32)switch(Ti&31){case 2:xi={t:"n",v:xi.v+wn&65535};break;case 3:xi={t:"n",v:xi.v+wn&65535},xi.v>32767&&(xi.v-=65536);break;case 7:xi={t:"s",v:be[Et=Et+wn>>>0]};break;default:throw"Cannot apply delta for QPW cell type "+(Ti&31)}else switch(Ti&31){case 1:xi={t:"z"};break;case 2:xi={t:"n",v:at.read_shift(2)};break;case 7:xi={t:"s",v:be[Et=at.read_shift(4)-1]};break;default:throw"Cannot apply repeat for QPW cell type "+(Ti&31)}Tr!=-1,!ue.sheetStubs&&xi.t=="z"||(me["!data"]!=null?(me["!data"][We]||(me["!data"][We]=[]),me["!data"][We][ct]=xi):me[Ht+bs(We)]=xi),++We,--ge}}}break;case 3074:{ct=at.read_shift(2),We=at.read_shift(4);var gn=ie(at);me["!data"]!=null?(me["!data"][We]||(me["!data"][We]=[]),me["!data"][We][ct]={t:"s",v:gn}):me[fs(ct)+bs(We)]={t:"s",v:gn}}break;default:break}q.l+=Ft}return Ue}return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:i}}();var AHe=/^\s|\s$|[\t\n\r]/;function MHe(t,i){if(!i.bookSST)return"";var e=[oo];e[e.length]=ci("sst",null,{xmlns:Wx[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var n=t[r],a="<si>";n.r?a+=n.r:(a+="<t",n.t||(n.t=""),typeof n.t!="string"&&(n.t=String(n.t)),n.t.match(AHe)&&(a+=' xml:space="preserve"'),a+=">"+Xn(n.t)+"</t>"),a+="</si>",e[e.length]=a}return e.length>2&&(e[e.length]="</sst>",e[1]=e[1].replace("/>",">")),e.join("")}function IHe(t){return[t.read_shift(4),t.read_shift(4)]}function DHe(t,i){return i||(i=gt(8)),i.write_shift(4,t.Count),i.write_shift(4,t.Unique),i}var PHe=vUe;function RHe(t){var i=ql();Nt(i,159,DHe(t));for(var e=0;e<t.length;++e)Nt(i,19,PHe(t[e]));return Nt(i,160),i.end()}function kHe(t){if(typeof Rr<"u")return Rr.utils.encode(Hx,t);for(var i=[],e=t.split(""),r=0;r<e.length;++r)i[r]=e[r].charCodeAt(0);return i}function Xse(t){var i=0,e,r=kHe(t),n=r.length+1,a,s,o,u,l;for(e=yv(n),e[0]=r.length,a=1;a!=n;++a)e[a]=r[a-1];for(a=n-1;a>=0;--a)s=e[a],o=i&16384?1:0,u=i<<1&32767,l=o|u,i=l^s;return i^52811}function FHe(t,i){var e=["{\\rtf1\\ansi"];if(!t["!ref"])return e[0]+"}";for(var r=Zs(t["!ref"]),n,a=t["!data"]!=null,s=[],o=r.s.r;o<=r.e.r;++o){e.push("\\trowd\\trautofit1");for(var u=r.s.c;u<=r.e.c;++u)e.push("\\cellx"+(u+1));for(e.push("\\pard\\intbl"),a&&(s=t["!data"][o]||[]),u=r.s.c;u<=r.e.c;++u){var l=ya({r:o,c:u});if(n=a?s[u]:t[l],!n||n.v==null&&(!n.f||n.F)){e.push(" \\cell");continue}e.push(" "+(n.w||(am(n),n.w)||"").replace(/[\r\n]/g,"\\par ")),e.push("\\cell")}e.push("\\pard\\intbl\\row")}return e.join("")+"}"}function jre(t){for(var i=0,e=1;i!=3;++i)e=e*256+(t[i]>255?255:t[i]<0?0:t[i]);return e.toString(16).toUpperCase().slice(1)}var OHe=6;var rm=OHe;function mD(t){return Math.floor((t+Math.round(128/rm)/256)*rm)}function gD(t){return Math.floor((t-5)/rm*100+.5)/100}function E6(t){return Math.round((t*rm+5)/rm*256)/256}function Q6(t){t.width?(t.wpx=mD(t.width),t.wch=gD(t.wpx),t.MDW=rm):t.wpx?(t.wch=gD(t.wpx),t.width=E6(t.wch),t.MDW=rm):typeof t.wch=="number"&&(t.width=E6(t.wch),t.wpx=mD(t.width),t.MDW=rm),t.customWidth&&delete t.customWidth}var LHe=96,Yse=LHe;function vD(t){return t*96/Yse}function $se(t){return t*Yse/96}function NHe(t){var i=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)t[r]!=null&&(i[i.length]=ci("numFmt",null,{numFmtId:r,formatCode:Xn(t[r])}))}),i.length===1?"":(i[i.length]="</numFmts>",i[0]=ci("numFmts",null,{count:i.length-2}).replace("/>",">"),i.join(""))}function BHe(t){var i=[];return i[i.length]=ci("cellXfs",null),t.forEach(function(e){i[i.length]=ci("xf",null,e)}),i[i.length]="</cellXfs>",i.length===2?"":(i[0]=ci("cellXfs",null,{count:i.length-2}).replace("/>",">"),i.join(""))}function VHe(t,i){var e=[oo,ci("styleSheet",null,{xmlns:Wx[0],"xmlns:vt":Wo.vt})],r;return t.SSF&&(r=NHe(t.SSF))!=null&&(e[e.length]=r),e[e.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',e[e.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',e[e.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',e[e.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=BHe(i.cellXfs))&&(e[e.length]=r),e[e.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',e[e.length]='<dxfs count="0"/>',e[e.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',e.length>2&&(e[e.length]="</styleSheet>",e[1]=e[1].replace("/>",">")),e.join("")}function zHe(t,i){var e=t.read_shift(2),r=ec(t,i-2);return[e,r]}function UHe(t,i,e){e||(e=gt(6+4*i.length)),e.write_shift(2,t),So(i,e);var r=e.length>e.l?e.slice(0,e.l):e;return e.l==null&&(e.l=e.length),r}function HHe(t,i,e){var r={};r.sz=t.read_shift(2)/20;var n=SUe(t,2,e);n.fItalic&&(r.italic=1),n.fCondense&&(r.condense=1),n.fExtend&&(r.extend=1),n.fShadow&&(r.shadow=1),n.fOutline&&(r.outline=1),n.fStrikeout&&(r.strike=1);var a=t.read_shift(2);switch(a===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(r.underline=s);var o=t.read_shift(1);o>0&&(r.family=o);var u=t.read_shift(1);switch(u>0&&(r.charset=u),t.l++,r.color=CUe(t,8),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ec(t,i-21),r}function GHe(t,i){i||(i=gt(25+4*32)),i.write_shift(2,t.sz*20),TUe(t,i),i.write_shift(2,t.bold?700:400);var e=0;t.vertAlign=="superscript"?e=1:t.vertAlign=="subscript"&&(e=2),i.write_shift(2,e),i.write_shift(1,t.underline||0),i.write_shift(1,t.family||0),i.write_shift(1,t.charset||0),i.write_shift(1,0),fD(t.color,i);var r=0;return t.scheme=="major"&&(r=1),t.scheme=="minor"&&(r=2),i.write_shift(1,r),So(t.name,i),i.length>i.l?i.slice(0,i.l):i}var jHe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],m6,WHe=Zf;function Wre(t,i){i||(i=gt(4*3+8*7+16*1)),m6||(m6=R6(jHe));var e=m6[t.patternType];e==null&&(e=40),i.write_shift(4,e);var r=0;if(e!=40)for(fD({auto:1},i),fD({auto:1},i);r<12;++r)i.write_shift(4,0);else{for(;r<4;++r)i.write_shift(4,0);for(;r<12;++r)i.write_shift(4,0)}return i.length>i.l?i.slice(0,i.l):i}function XHe(t,i){var e=t.l+i,r=t.read_shift(2),n=t.read_shift(2);return t.l=e,{ixfe:r,numFmtId:n}}function Qse(t,i,e){e||(e=gt(16)),e.write_shift(2,i||0),e.write_shift(2,t.numFmtId||0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);var r=0;return e.write_shift(1,r),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e}function m2(t,i){return i||(i=gt(10)),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(4,0),i.write_shift(4,0),i}var YHe=Zf;function $He(t,i){return i||(i=gt(51)),i.write_shift(1,0),m2(null,i),m2(null,i),m2(null,i),m2(null,i),m2(null,i),i.length>i.l?i.slice(0,i.l):i}function QHe(t,i){return i||(i=gt(12+4*10)),i.write_shift(4,t.xfId),i.write_shift(2,1),i.write_shift(1,+t.builtinId),i.write_shift(1,0),M2(t.name||"",i),i.length>i.l?i.slice(0,i.l):i}function KHe(t,i,e){var r=gt(2052);return r.write_shift(4,t),M2(i,r),M2(e,r),r.length>r.l?r.slice(0,r.l):r}function ZHe(t,i){if(i){var e=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)i[n]!=null&&++e}),e!=0&&(Nt(t,615,Bh(e)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)i[n]!=null&&Nt(t,44,UHe(n,i[n]))}),Nt(t,616))}}function JHe(t){var i=1;i!=0&&(Nt(t,611,Bh(i)),Nt(t,43,GHe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Nt(t,612))}function qHe(t){var i=2;i!=0&&(Nt(t,603,Bh(i)),Nt(t,45,Wre({patternType:"none"})),Nt(t,45,Wre({patternType:"gray125"})),Nt(t,604))}function eGe(t){var i=1;i!=0&&(Nt(t,613,Bh(i)),Nt(t,46,$He({})),Nt(t,614))}function tGe(t){var i=1;Nt(t,626,Bh(i)),Nt(t,47,Qse({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Nt(t,627)}function iGe(t,i){Nt(t,617,Bh(i.length)),i.forEach(function(e){Nt(t,47,Qse(e,0))}),Nt(t,618)}function nGe(t){var i=1;Nt(t,619,Bh(i)),Nt(t,48,QHe({xfId:0,builtinId:0,name:"Normal"})),Nt(t,620)}function rGe(t){var i=0;Nt(t,505,Bh(i)),Nt(t,506)}function sGe(t){var i=0;Nt(t,508,KHe(i,"TableStyleMedium9","PivotStyleMedium4")),Nt(t,509)}function aGe(t,i){var e=ql();return Nt(e,278),ZHe(e,t.SSF),JHe(e,t),qHe(e,t),eGe(e,t),tGe(e,t),iGe(e,i.cellXfs),nGe(e,t),rGe(e,t),sGe(e,t),Nt(e,279),e.end()}function Kse(t,i){if(i&&i.themeXLSX)return i.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var e=[oo];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',e[e.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',e[e.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',e[e.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',e[e.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',e[e.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',e[e.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function oGe(t,i){return{flags:t.read_shift(4),version:t.read_shift(4),name:ec(t,i-8)}}function lGe(t){var i=gt(12+2*t.name.length);return i.write_shift(4,t.flags),i.write_shift(4,t.version),So(t.name,i),i.slice(0,i.l)}function cGe(t){for(var i=[],e=t.read_shift(4);e-- >0;)i.push([t.read_shift(4),t.read_shift(4)]);return i}function uGe(t){var i=gt(4+8*t.length);i.write_shift(4,t.length);for(var e=0;e<t.length;++e)i.write_shift(4,t[e][0]),i.write_shift(4,t[e][1]);return i}function dGe(t,i){var e=gt(8+2*i.length);return e.write_shift(4,t),So(i,e),e.slice(0,e.l)}function hGe(t){return t.l+=4,t.read_shift(4)!=0}function fGe(t,i){var e=gt(8);return e.write_shift(4,t),e.write_shift(4,i?1:0),e}function pGe(){var t=ql();return Nt(t,332),Nt(t,334,Bh(1)),Nt(t,335,lGe({name:"XLDAPR",version:12e4,flags:3496657072})),Nt(t,336),Nt(t,339,dGe(1,"XLDAPR")),Nt(t,52),Nt(t,35,Bh(514)),Nt(t,4096,Bh(0)),Nt(t,4097,jd(1)),Nt(t,36),Nt(t,53),Nt(t,340),Nt(t,337,fGe(1,!0)),Nt(t,51,uGe([[1,0]])),Nt(t,338),Nt(t,333),t.end()}function mGe(){var t=[oo];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function gGe(t){var i={};i.i=t.read_shift(4);var e={};e.r=t.read_shift(4),e.c=t.read_shift(4),i.r=ya(e);var r=t.read_shift(1);return r&2&&(i.l="1"),r&8&&(i.a="1"),i}function Zse(t,i,e){var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ci("xml",null,{"xmlns:v":qu.v,"xmlns:o":qu.o,"xmlns:x":qu.x,"xmlns:mv":qu.mv}).replace(/\/>/,">"),ci("o:shapelayout",ci("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"})],s=65536*t,o=i||[];return o.length>0&&a.push(ci("v:shapetype",[ci("v:stroke",null,{joinstyle:"miter"}),ci("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202",coordsize:r.join(","),"o:spt":202,path:n})),o.forEach(function(u){++s,a.push(vGe(u,s))}),a.push("</xml>"),a.join("")}function vGe(t,i,e){var r=oa(t[0]),n={color2:"#BEFF82",type:"gradient"};n.type=="gradient"&&(n.angle="-180");var a=n.type=="gradient"?ci("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,s=ci("v:fill",a,n),o={on:"t",obscured:"t"};return["<v:shape"+T2({id:"_x0000_s"+i,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(t[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",s,ci("v:shadow",null,o),ci("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",vl("x:Anchor",[r.c+1,0,r.r+1,0,r.c+3,20,r.r+5,20].join(",")),vl("x:AutoFill","False"),vl("x:Row",String(r.r)),vl("x:Column",String(r.c)),t[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"].join("")}function yGe(t){var i=[oo,ci("comments",null,{xmlns:Wx[0]})],e=[];return i.push("<authors>"),t.forEach(function(r){r[1].forEach(function(n){var a=Xn(n.a);e.indexOf(a)==-1&&(e.push(a),i.push("<author>"+a+"</author>")),n.T&&n.ID&&e.indexOf("tc="+n.ID)==-1&&(e.push("tc="+n.ID),i.push("<author>tc="+n.ID+"</author>"))})}),e.length==0&&(e.push("SheetJ5"),i.push("<author>SheetJ5</author>")),i.push("</authors>"),i.push("<commentList>"),t.forEach(function(r){var n=0,a=[],s=0;if(r[1][0]&&r[1][0].T&&r[1][0].ID&&(n=e.indexOf("tc="+r[1][0].ID)),r[1].forEach(function(l){l.a&&(n=e.indexOf(Xn(l.a))),l.T&&++s,a.push(l.t==null?"":Xn(l.t))}),s===0)r[1].forEach(function(l){i.push('<comment ref="'+r[0]+'" authorId="'+e.indexOf(Xn(l.a))+'"><text>'),i.push(vl("t",l.t==null?"":Xn(l.t))),i.push("</text></comment>")});else{r[1][0]&&r[1][0].T&&r[1][0].ID&&(n=e.indexOf("tc="+r[1][0].ID)),i.push('<comment ref="'+r[0]+'" authorId="'+n+'"><text>');for(var o=`Comment:
    `+a[0]+`
`,u=1;u<a.length;++u)o+=`Reply:
    `+a[u]+`
`;i.push(vl("t",Xn(o))),i.push("</text></comment>")}}),i.push("</commentList>"),i.length>2&&(i[i.length]="</comments>",i[1]=i[1].replace("/>",">")),i.join("")}function Jse(t,i,e){var r=[oo,ci("ThreadedComments",null,{xmlns:Wo.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(n){var a="";(n[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&i.indexOf(s.a)==-1&&i.push(s.a);var u={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+e.tcid++).slice(-12)+"}"};o==0?a=u.id:u.parentId=a,s.ID=u.id,s.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+i.indexOf(s.a)).slice(-12)+"}"),r.push(ci("threadedComment",vl("text",s.t||""),u))})}),r.push("</ThreadedComments>"),r.join("")}function qse(t){var i=[oo,ci("personList",null,{xmlns:Wo.TCMNT,"xmlns:x":Wx[0]}).replace(/[\/]>/,">")];return t.forEach(function(e,r){i.push(ci("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))}),i.push("</personList>"),i.join("")}function xGe(t){var i={};i.iauthor=t.read_shift(4);var e=Ev(t,16);return i.rfx=e.s,i.ref=ya(e.s),t.l+=16,i}function bGe(t,i){return i==null&&(i=gt(36)),i.write_shift(4,t[1].iauthor),Qx(t[0],i),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i}var _Ge=ec;function Xre(t){return So(t.slice(0,54))}function wGe(t){var i=ql(),e=[];return Nt(i,628),Nt(i,630),t.forEach(function(r){r[1].forEach(function(n){e.indexOf(n.a)>-1||(e.push(n.a.slice(0,54)),Nt(i,632,Xre(n.a)),n.T&&n.ID&&e.indexOf("tc="+n.ID)==-1&&(e.push("tc="+n.ID),Nt(i,632,Xre("tc="+n.ID))))})}),Nt(i,631),Nt(i,633),t.forEach(function(r){r[1].forEach(function(n){var a=-1;n.ID&&(a=e.indexOf("tc="+n.ID)),a==-1&&r[1][0].T&&r[1][0].ID&&(a=e.indexOf("tc="+r[1][0].ID)),a==-1&&(a=e.indexOf(n.a)),n.iauthor=a;var s={s:oa(r[0]),e:oa(r[0])};Nt(i,635,bGe([s,n])),n.t&&n.t.length>0&&Nt(i,637,xUe(n)),Nt(i,636),delete n.iauthor})}),Nt(i,634),Nt(i,629),i.end()}function CGe(t,i){i.FullPaths.forEach(function(e,r){if(r!=0){var n=e.replace(/^[\/]*[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&Fs.utils.cfb_add(t,n,i.FileIndex[r].content)}})}var SGe=["xlsb","xlsm","xlam","biff8","xla"];var Yre=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,i={r:0,c:0};function e(r,n,a,s){var o=!1,u=!1;a.length==0?u=!0:a.charAt(0)=="["&&(u=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var l=a.length>0?parseInt(a,10)|0:0,c=s.length>0?parseInt(s,10)|0:0;return o?c+=i.c:--c,u?l+=i.r:--l,n+(o?"":"$")+fs(c)+(u?"":"$")+bs(l)}return function(n,a){return i=a,n.replace(t,e)}}(),DD=/(^|[^._A-Z0-9])(\$?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])(\$?)(\d{1,7})(?![_.\(A-Za-z0-9])/g;try{DD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g}catch{}var PD=function(){return function(i,e){return i.replace(DD,function(r,n,a,s,o,u){var l=j6(s)-(a?0:e.c),c=G6(u)-(o?0:e.r),h=o=="$"?c+1:c==0?"":"["+c+"]",d=a=="$"?l+1:l==0?"":"["+l+"]";return n+"R"+h+"C"+d})}}();function TGe(t,i){return t.replace(DD,function(e,r,n,a,s,o){return r+(n=="$"?n+a:fs(j6(a)+i.c))+(s=="$"?s+o:bs(G6(o)+i.r))})}function EGe(t){return t.length!=1}function io(t){t.l+=1}function F0(t,i){var e=t.read_shift(i==1?1:2);return[e&16383,e>>14&1,e>>15&1]}function eae(t,i,e){var r=2;if(e){if(e.biff>=2&&e.biff<=5)return tae(t,i,e);e.biff==12&&(r=4)}var n=t.read_shift(r),a=t.read_shift(r),s=F0(t,2),o=F0(t,2);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function tae(t){var i=F0(t,2),e=F0(t,2),r=t.read_shift(1),n=t.read_shift(1);return{s:{r:i[0],c:r,cRel:i[1],rRel:i[2]},e:{r:e[0],c:n,cRel:e[1],rRel:e[2]}}}function AGe(t,i,e){if(e.biff<8)return tae(t,i,e);var r=t.read_shift(e.biff==12?4:2),n=t.read_shift(e.biff==12?4:2),a=F0(t,2),s=F0(t,2);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:n,c:s[0],cRel:s[1],rRel:s[2]}}}function iae(t,i,e){if(e&&e.biff>=2&&e.biff<=5)return MGe(t,i,e);var r=t.read_shift(e&&e.biff==12?4:2),n=F0(t,2);return{r,c:n[0],cRel:n[1],rRel:n[2]}}function MGe(t){var i=F0(t,2),e=t.read_shift(1);return{r:i[0],c:e,cRel:i[1],rRel:i[2]}}function IGe(t){var i=t.read_shift(2),e=t.read_shift(2);return{r:i,c:e&255,fQuoted:!!(e&16384),cRel:e>>15,rRel:e>>15}}function DGe(t,i,e){var r=e&&e.biff?e.biff:8;if(r>=2&&r<=5)return PGe(t,i,e);var n=t.read_shift(r>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;n>524287;)n-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:n,c:a,cRel:s,rRel:o}}function PGe(t){var i=t.read_shift(2),e=t.read_shift(1),r=(i&32768)>>15,n=(i&16384)>>14;return i&=16383,r==1&&i>=8192&&(i=i-16384),n==1&&e>=128&&(e=e-256),{r:i,c:e,cRel:n,rRel:r}}function RGe(t,i,e){var r=(t[t.l++]&96)>>5,n=eae(t,e.biff>=2&&e.biff<=5?6:8,e);return[r,n]}function kGe(t,i,e){var r=(t[t.l++]&96)>>5,n=t.read_shift(2,"i"),a=8;if(e)switch(e.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=eae(t,a,e);return[r,n,s]}function FGe(t,i,e){var r=(t[t.l++]&96)>>5;return t.l+=e&&e.biff>8?12:e.biff<8?6:8,[r]}function OGe(t,i,e){var r=(t[t.l++]&96)>>5,n=t.read_shift(2),a=8;if(e)switch(e.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[r,n]}function LGe(t,i,e){var r=(t[t.l++]&96)>>5,n=AGe(t,i-1,e);return[r,n]}function NGe(t,i,e){var r=(t[t.l++]&96)>>5;return t.l+=e.biff==2?6:e.biff==12?14:7,[r]}function $re(t){var i=t[t.l+1]&1,e=1;return t.l+=4,[i,e]}function BGe(t,i,e){t.l+=2;for(var r=t.read_shift(e&&e.biff==2?1:2),n=[],a=0;a<=r;++a)n.push(t.read_shift(e&&e.biff==2?1:2));return n}function VGe(t,i,e){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(e&&e.biff==2?1:2)]}function zGe(t,i,e){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(e&&e.biff==2?1:2)]}function UGe(t){var i=t[t.l+1]&255?1:0;return t.l+=2,[i,t.read_shift(2)]}function HGe(t,i,e){var r=t[t.l+1]&255?1:0;return t.l+=e&&e.biff==2?3:4,[r]}function nae(t){var i=t.read_shift(1),e=t.read_shift(1);return[i,e]}function GGe(t){return t.read_shift(2),nae(t,2)}function jGe(t){return t.read_shift(2),nae(t,2)}function WGe(t,i,e){var r=(t[t.l]&96)>>5;t.l+=1;var n=iae(t,0,e);return[r,n]}function XGe(t,i,e){var r=(t[t.l]&96)>>5;t.l+=1;var n=DGe(t,0,e);return[r,n]}function YGe(t,i,e){var r=(t[t.l]&96)>>5;t.l+=1;var n=t.read_shift(2);e&&e.biff==5&&(t.l+=12);var a=iae(t,0,e);return[r,n,a]}function $Ge(t,i,e){var r=(t[t.l]&96)>>5;t.l+=1;var n=t.read_shift(e&&e.biff<=3?1:2);return[sWe[n],aae[n],r]}function QGe(t,i,e){var r=t[t.l++],n=t.read_shift(1),a=e&&e.biff<=3?[r==88?-1:0,t.read_shift(1)]:KGe(t);return[n,(a[0]===0?aae:rWe)[a[1]]]}function KGe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function ZGe(t,i,e){t.l+=e&&e.biff==2?3:4}function JGe(t,i,e){if(t.l++,e&&e.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),n=t.read_shift(e&&e.biff==2?1:2);return[r,n]}function qGe(t){return t.l++,R0[t.read_shift(1)]}function eje(t){return t.l++,t.read_shift(2)}function tje(t){return t.l++,t.read_shift(1)!==0}function ije(t){return t.l++,Kx(t,8)}function nje(t,i,e){return t.l++,Use(t,i-1,e)}function rje(t,i){var e=[t.read_shift(1)];if(i==12)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2;break}switch(e[0]){case 4:e[1]=GUe(t,1)?"TRUE":"FALSE",i!=12&&(t.l+=7);break;case 37:case 16:e[1]=R0[t[t.l]],t.l+=i==12?4:8;break;case 0:t.l+=8;break;case 1:e[1]=Kx(t,8);break;case 2:e[1]=YUe(t,0,{biff:i>0&&i<8?2:i});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function sje(t,i,e){for(var r=t.read_shift(e.biff==12?4:2),n=[],a=0;a!=r;++a)n.push((e.biff==12?Ev:KUe)(t,8));return n}function aje(t,i,e){var r=0,n=0;e.biff==12?(r=t.read_shift(4),n=t.read_shift(4)):(n=1+t.read_shift(1),r=1+t.read_shift(2)),e.biff>=2&&e.biff<8&&(--r,--n==0&&(n=256));for(var a=0,s=[];a!=r&&(s[a]=[]);++a)for(var o=0;o!=n;++o)s[a][o]=rje(t,e.biff);return s}function oje(t,i,e){var r=t.read_shift(1)>>>5&3,n=!e||e.biff>=8?4:2,a=t.read_shift(n);switch(e.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,a]}function lje(t,i,e){if(e.biff==5)return cje(t,i,e);var r=t.read_shift(1)>>>5&3,n=t.read_shift(2),a=t.read_shift(4);return[r,n,a]}function cje(t){var i=t.read_shift(1)>>>5&3,e=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[i,e,r]}function uje(t,i,e){var r=t.read_shift(1)>>>5&3;t.l+=e&&e.biff==2?3:4;var n=t.read_shift(e&&e.biff==2?1:2);return[r,n]}function dje(t,i,e){var r=t.read_shift(1)>>>5&3,n=t.read_shift(e&&e.biff==2?1:2);return[r,n]}function hje(t,i,e){var r=t.read_shift(1)>>>5&3;return t.l+=4,e.biff<8&&t.l--,e.biff==12&&(t.l+=2),[r]}function fje(t,i,e){var r=(t[t.l++]&96)>>5,n=t.read_shift(2),a=4;if(e)switch(e.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[r,n]}var pje=Zf,mje=Zf,gje=Zf;function k2(t,i,e){return t.l+=2,[IGe(t,4,e)]}function K6(t){return t.l+=6,[]}var vje=k2,yje=K6,xje=K6,bje=k2;function rae(t){return t.l+=2,[sD(t),t.read_shift(2)&1]}var _je=k2,wje=rae,Cje=K6,Sje=k2,Tje=k2,Eje=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Aje(t){t.l+=2;var i=t.read_shift(2),e=t.read_shift(2),r=t.read_shift(4),n=t.read_shift(2),a=t.read_shift(2),s=Eje[e>>2&31];return{ixti:i,coltype:e&3,rt:s,idx:r,c:n,C:a}}function Mje(t){return t.l+=2,[t.read_shift(4)]}function Ije(t,i,e){return t.l+=5,t.l+=2,t.l+=e.biff==2?1:4,["PTGSHEET"]}function Dje(t,i,e){return t.l+=e.biff==2?4:5,["PTGENDSHEET"]}function Pje(t){var i=t.read_shift(1)>>>5&3,e=t.read_shift(2);return[i,e]}function Rje(t){var i=t.read_shift(1)>>>5&3,e=t.read_shift(2);return[i,e]}function kje(t){return t.l+=4,[0,0]}var Qre={1:{n:"PtgExp",f:JGe},2:{n:"PtgTbl",f:gje},3:{n:"PtgAdd",f:io},4:{n:"PtgSub",f:io},5:{n:"PtgMul",f:io},6:{n:"PtgDiv",f:io},7:{n:"PtgPower",f:io},8:{n:"PtgConcat",f:io},9:{n:"PtgLt",f:io},10:{n:"PtgLe",f:io},11:{n:"PtgEq",f:io},12:{n:"PtgGe",f:io},13:{n:"PtgGt",f:io},14:{n:"PtgNe",f:io},15:{n:"PtgIsect",f:io},16:{n:"PtgUnion",f:io},17:{n:"PtgRange",f:io},18:{n:"PtgUplus",f:io},19:{n:"PtgUminus",f:io},20:{n:"PtgPercent",f:io},21:{n:"PtgParen",f:io},22:{n:"PtgMissArg",f:io},23:{n:"PtgStr",f:nje},26:{n:"PtgSheet",f:Ije},27:{n:"PtgEndSheet",f:Dje},28:{n:"PtgErr",f:qGe},29:{n:"PtgBool",f:tje},30:{n:"PtgInt",f:eje},31:{n:"PtgNum",f:ije},32:{n:"PtgArray",f:NGe},33:{n:"PtgFunc",f:$Ge},34:{n:"PtgFuncVar",f:QGe},35:{n:"PtgName",f:oje},36:{n:"PtgRef",f:WGe},37:{n:"PtgArea",f:RGe},38:{n:"PtgMemArea",f:uje},39:{n:"PtgMemErr",f:pje},40:{n:"PtgMemNoMem",f:mje},41:{n:"PtgMemFunc",f:dje},42:{n:"PtgRefErr",f:hje},43:{n:"PtgAreaErr",f:FGe},44:{n:"PtgRefN",f:XGe},45:{n:"PtgAreaN",f:LGe},46:{n:"PtgMemAreaN",f:Pje},47:{n:"PtgMemNoMemN",f:Rje},57:{n:"PtgNameX",f:lje},58:{n:"PtgRef3d",f:YGe},59:{n:"PtgArea3d",f:kGe},60:{n:"PtgRefErr3d",f:fje},61:{n:"PtgAreaErr3d",f:OGe},255:{}},Fje={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Oje={1:{n:"PtgElfLel",f:rae},2:{n:"PtgElfRw",f:Sje},3:{n:"PtgElfCol",f:vje},6:{n:"PtgElfRwV",f:Tje},7:{n:"PtgElfColV",f:bje},10:{n:"PtgElfRadical",f:_je},11:{n:"PtgElfRadicalS",f:Cje},13:{n:"PtgElfColS",f:yje},15:{n:"PtgElfColSV",f:xje},16:{n:"PtgElfRadicalLel",f:wje},25:{n:"PtgList",f:Aje},29:{n:"PtgSxName",f:Mje},255:{}},Lje={0:{n:"PtgAttrNoop",f:kje},1:{n:"PtgAttrSemi",f:HGe},2:{n:"PtgAttrIf",f:zGe},4:{n:"PtgAttrChoose",f:BGe},8:{n:"PtgAttrGoto",f:VGe},16:{n:"PtgAttrSum",f:ZGe},32:{n:"PtgAttrBaxcel",f:$re},33:{n:"PtgAttrBaxcel",f:$re},64:{n:"PtgAttrSpace",f:GGe},65:{n:"PtgAttrSpaceSemi",f:jGe},128:{n:"PtgAttrIfError",f:UGe},255:{}};function Nje(t,i,e,r){if(r.biff<8)return Zf(t,i);for(var n=t.l+i,a=[],s=0;s!==e.length;++s)switch(e[s][0]){case"PtgArray":e[s][1]=aje(t,0,r),a.push(e[s][1]);break;case"PtgMemArea":e[s][2]=sje(t,e[s][1],r),a.push(e[s][2]);break;case"PtgExp":r&&r.biff==12&&(e[s][1][1]=t.read_shift(4),a.push(e[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[s][0];default:break}return i=n-t.l,i!==0&&a.push(Zf(t,i)),a}function Bje(t,i,e){for(var r=t.l+i,n,a,s=[];r!=t.l;)i=r-t.l,a=t[t.l],n=Qre[a]||Qre[Fje[a]],(a===24||a===25)&&(n=(a===24?Oje:Lje)[t[t.l+1]]),!n||!n.f?Zf(t,i):s.push([n.n,n.f(t,i,e)]);return s}function Vje(t){for(var i=[],e=0;e<t.length;++e){for(var r=t[e],n=[],a=0;a<r.length;++a){var s=r[a];if(s)switch(s[0]){case 2:n.push('"'+s[1].replace(/"/g,'""')+'"');break;default:n.push(s[1])}else n.push("")}i.push(n.join(","))}return i.join(";")}var zje={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Uje(t,i){var e=t.lastIndexOf("!"),r=i.lastIndexOf("!");return e==-1&&r==-1?t+":"+i:e>0&&r>0&&t.slice(0,e).toLowerCase()==i.slice(0,r).toLowerCase()?t+":"+i.slice(r+1):(console.error("Cannot hydrate range",t,i),t+":"+i)}function sae(t,i,e){if(!t)return"SH33TJSERR0";if(e.biff>8&&(!t.XTI||!t.XTI[i]))return t.SheetNames[i];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[i];if(e.biff<8)return i>1e4&&(i-=65536),i<0&&(i=-i),i==0?"":t.XTI[i-1];if(!r)return"SH33TJSERR1";var n="";if(e.biff>8)switch(t[r[0]][0]){case 357:return n=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?n:n+":"+t.SheetNames[r[2]];case 358:return e.SID!=null?t.SheetNames[e.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return n=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?n:n+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[r[0]][0][3]?(n=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?n:n+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Kre(t,i,e){var r=sae(t,i,e);return r=="#REF"?r:A2(r,e)}function jx(t,i,e,r,n){var a=n&&n.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],u,l,c,h=0,d=0,f,m="";if(!t[0]||!t[0][0])return"";for(var p=-1,g="",v=0,y=t[0].length;v<y;++v){var x=t[0][v];switch(x[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=o.pop(),l=o.pop(),p>=0){switch(t[0][p][1][0]){case 0:g=aa(" ",t[0][p][1][1]);break;case 1:g=aa("\r",t[0][p][1][1]);break;default:if(g="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][p][1][0])}l=l+g,p=-1}o.push(l+zje[x[0]]+u);break;case"PtgIsect":u=o.pop(),l=o.pop(),o.push(l+" "+u);break;case"PtgUnion":u=o.pop(),l=o.pop(),o.push(l+","+u);break;case"PtgRange":u=o.pop(),l=o.pop(),o.push(Uje(l,u));break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=x2(x[1][1],s,n),o.push(b2(c,a));break;case"PtgRefN":c=e?x2(x[1][1],e,n):x[1][1],o.push(b2(c,a));break;case"PtgRef3d":h=x[1][1],c=x2(x[1][2],s,n),m=Kre(r,h,n);var b=m;o.push(m+"!"+b2(c,a));break;case"PtgFunc":case"PtgFuncVar":var w=x[1][0],C=x[1][1];w||(w=0),w&=127;var _=w==0?[]:o.slice(-w);o.length-=w,C==="User"&&(C=_.shift()),o.push(C+"("+_.join(",")+")");break;case"PtgBool":o.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(x[1]);break;case"PtgNum":o.push(String(x[1]));break;case"PtgStr":o.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(x[1]);break;case"PtgAreaN":f=Pre(x[1][1],e?{s:e}:s,n),o.push(d6(f,n));break;case"PtgArea":f=Pre(x[1][1],s,n),o.push(d6(f,n));break;case"PtgArea3d":h=x[1][1],f=x[1][2],m=Kre(r,h,n),o.push(m+"!"+d6(f,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=x[1][2];var S=(r.names||[])[d-1]||(r[0]||[])[d],T=S?S.Name:"SH33TJSNAME"+String(d);T&&T.slice(0,6)=="_xlfn."&&!n.xlfn&&(T=T.slice(6)),o.push(T);break;case"PtgNameX":var A=x[1][1];d=x[1][2];var M;if(n.biff<=5)A<0&&(A=-A),r[A]&&(M=r[A][d]);else{var I="";if(((r[A]||[])[0]||[])[0]==14849||(((r[A]||[])[0]||[])[0]==1025?r[A][d]&&r[A][d].itab>0&&(I=r.SheetNames[r[A][d].itab-1]+"!"):I=r.SheetNames[d-1]+"!"),r[A]&&r[A][d])I+=r[A][d].Name;else if(r[0]&&r[0][d])I+=r[0][d].Name;else{var D=(sae(r,A,n)||"").split(";;");D[d-1]?I=D[d-1]:I+="SH33TJSERRX"}o.push(I);break}M||(M={Name:"SH33TJSERRY"}),o.push(M.Name);break;case"PtgParen":var k="(",G=")";if(p>=0){switch(g="",t[0][p][1][0]){case 2:k=aa(" ",t[0][p][1][1])+k;break;case 3:k=aa("\r",t[0][p][1][1])+k;break;case 4:G=aa(" ",t[0][p][1][1])+G;break;case 5:G=aa("\r",t[0][p][1][1])+G;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][p][1][0])}p=-1}o.push(k+o.pop()+G);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:x[1][1],r:x[1][0]};var R={c:e.c,r:e.r};if(r.sharedf[ya(c)]){var H=r.sharedf[ya(c)];o.push(jx(H,s,R,r,n))}else{var j=!1;for(u=0;u!=r.arrayf.length;++u)if(l=r.arrayf[u],!(c.c<l[0].s.c||c.c>l[0].e.c)&&!(c.r<l[0].s.r||c.r>l[0].e.r)){o.push(jx(l[1],s,R,r,n)),j=!0;break}j||o.push(x[1])}break;case"PtgArray":o.push("{"+Vje(x[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(x));default:throw new Error("Unrecognized Formula Token: "+String(x))}var Z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&p>=0&&Z.indexOf(t[0][v][0])==-1){x=t[0][p];var ee=!0;switch(x[1][0]){case 4:ee=!1;case 0:g=aa(" ",x[1][1]);break;case 5:ee=!1;case 1:g=aa("\r",x[1][1]);break;default:if(g="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}o.push((ee?g:"")+o.pop()+(ee?"":g)),p=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]=="TRUE"?!0:o[0]=="FALSE"?!1:o[0]}function Hje(t){if(t==null){var i=gt(8);return i.write_shift(1,3),i.write_shift(1,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,65535),i}else if(typeof t=="number")return _v(t);return _v(0)}function Gje(t,i,e,r,n){var a=wv(i,e,n),s=Hje(t.v),o=gt(6),u=33;o.write_shift(2,u),o.write_shift(4,0);for(var l=gt(t.bf.length),c=0;c<t.bf.length;++c)l[c]=t.bf[c];var h=ro([a,s,o,l]);return h}function RD(t,i,e){var r=t.read_shift(4),n=Bje(t,r,e),a=t.read_shift(4),s=a>0?Nje(t,a,n,e):null;return[n,s]}var jje=RD,kD=RD,Wje=RD,Xje=RD;function Zre(t){if((t|0)==t&&t<Math.pow(2,16)&&t>=0){var i=gt(11);return i.write_shift(4,3),i.write_shift(1,30),i.write_shift(2,t),i.write_shift(4,0),i}var e=gt(17);return e.write_shift(4,11),e.write_shift(1,31),e.write_shift(8,t),e.write_shift(4,0),e}function Yje(t){var i=gt(10);return i.write_shift(4,2),i.write_shift(1,28),i.write_shift(1,t),i.write_shift(4,0),i}function $je(t){var i=gt(10);return i.write_shift(4,2),i.write_shift(1,29),i.write_shift(1,t?1:0),i.write_shift(4,0),i}function Qje(t){var i=gt(7);i.write_shift(4,3+2*t.length),i.write_shift(1,23),i.write_shift(2,t.length);var e=gt(2*t.length);e.write_shift(2*t.length,t,"utf16le");var r=gt(4);return r.write_shift(4,0),ro([i,e,r])}function Kje(t){var i=oa(t),e=gt(15);return e.write_shift(4,7),e.write_shift(1,36),e.write_shift(4,i.r),e.write_shift(2,i.c|(t.charAt(0)=="$"?0:1)<<14|(t.match(/\$\d/)?0:1)<<15),e.write_shift(4,0),e}function Zje(t,i){var e=t.lastIndexOf("!"),r=t.slice(0,e);t=t.slice(e+1);var n=oa(t);r.charAt(0)=="'"&&(r=r.slice(1,-1).replace(/''/g,"'"));var a=gt(17);return a.write_shift(4,9),a.write_shift(1,58),a.write_shift(2,2+i.SheetNames.map(function(s){return s.toLowerCase()}).indexOf(r.toLowerCase())),a.write_shift(4,n.r),a.write_shift(2,n.c|(t.charAt(0)=="$"?0:1)<<14|(t.match(/\$\d/)?0:1)<<15),a.write_shift(4,0),a}function Jje(t,i){var e=t.lastIndexOf("!"),r=t.slice(0,e);t=t.slice(e+1),r.charAt(0)=="'"&&(r=r.slice(1,-1).replace(/''/g,"'"));var n=gt(17);return n.write_shift(4,9),n.write_shift(1,60),n.write_shift(2,2+i.SheetNames.map(function(a){return a.toLowerCase()}).indexOf(r.toLowerCase())),n.write_shift(4,0),n.write_shift(2,0),n.write_shift(4,0),n}function qje(t){var i=t.split(":"),e=i[0],r=gt(23);r.write_shift(4,15),e=i[0];var n=oa(e);return r.write_shift(1,36),r.write_shift(4,n.r),r.write_shift(2,n.c|(e.charAt(0)=="$"?0:1)<<14|(e.match(/\$\d/)?0:1)<<15),r.write_shift(4,0),e=i[1],n=oa(e),r.write_shift(1,36),r.write_shift(4,n.r),r.write_shift(2,n.c|(e.charAt(0)=="$"?0:1)<<14|(e.match(/\$\d/)?0:1)<<15),r.write_shift(4,0),r.write_shift(1,17),r.write_shift(4,0),r}function eWe(t,i){var e=t.lastIndexOf("!"),r=t.slice(0,e);t=t.slice(e+1),r.charAt(0)=="'"&&(r=r.slice(1,-1).replace(/''/g,"'"));var n=t.split(":"),a=gt(27);a.write_shift(4,19);var s=n[0],o=oa(s);return a.write_shift(1,58),a.write_shift(2,2+i.SheetNames.map(function(u){return u.toLowerCase()}).indexOf(r.toLowerCase())),a.write_shift(4,o.r),a.write_shift(2,o.c|(s.charAt(0)=="$"?0:1)<<14|(s.match(/\$\d/)?0:1)<<15),s=n[1],o=oa(s),a.write_shift(1,58),a.write_shift(2,2+i.SheetNames.map(function(u){return u.toLowerCase()}).indexOf(r.toLowerCase())),a.write_shift(4,o.r),a.write_shift(2,o.c|(s.charAt(0)=="$"?0:1)<<14|(s.match(/\$\d/)?0:1)<<15),a.write_shift(1,17),a.write_shift(4,0),a}function tWe(t,i){var e=t.lastIndexOf("!"),r=t.slice(0,e);t=t.slice(e+1),r.charAt(0)=="'"&&(r=r.slice(1,-1).replace(/''/g,"'"));var n=yl(t),a=gt(23);return a.write_shift(4,15),a.write_shift(1,59),a.write_shift(2,2+i.SheetNames.map(function(s){return s.toLowerCase()}).indexOf(r.toLowerCase())),a.write_shift(4,n.s.r),a.write_shift(4,n.e.r),a.write_shift(2,n.s.c),a.write_shift(2,n.e.c),a.write_shift(4,0),a}function iWe(t,i){if(typeof t=="number")return Zre(t);if(typeof t=="boolean")return $je(t);if(/^#(DIV\/0!|GETTING_DATA|N\/A|NAME\?|NULL!|NUM!|REF!|VALUE!)$/.test(t))return Yje(+T6[t]);if(t.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return Kje(t);if(t.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return qje(t);if(t.match(/^#REF!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return tWe(t,i);if(t.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return Zje(t,i);if(t.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return eWe(t,i);if(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!#REF!$/.test(t))return Jje(t,i);if(/^".*"$/.test(t))return Qje(t);if(/^[+-]\d+$/.test(t))return Zre(parseInt(t,10));throw"Formula |"+t+"| not supported for XLSB"}var nWe=iWe,rWe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},aae={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},sWe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function aWe(t){var i="of:="+t.replace(DD,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return i.replace(/;/g,"|").replace(/,/g,";")}function oae(t){return t.replace(/!/,".").replace(/:/,":.")}var _2=typeof Map<"u";function Z6(t,i,e){var r=0,n=t.length;if(e){if(_2?e.has(i):Object.prototype.hasOwnProperty.call(e,i)){for(var a=_2?e.get(i):e[i];r<a.length;++r)if(t[a[r]].t===i)return t.Count++,a[r]}}else for(;r<n;++r)if(t[r].t===i)return t.Count++,r;return t[n]={t:i},t.Count++,t.Unique++,e&&(_2?(e.has(i)||e.set(i,[]),e.get(i).push(n)):(Object.prototype.hasOwnProperty.call(e,i)||(e[i]=[]),e[i].push(n))),n}function FD(t,i){var e={min:t+1,max:t+1},r=-1;return i.MDW&&(rm=i.MDW),i.width!=null?e.customWidth=1:i.wpx!=null?r=gD(i.wpx):i.wch!=null&&(r=i.wch),r>-1?(e.width=E6(r),e.customWidth=1):i.width!=null&&(e.width=i.width),i.hidden&&(e.hidden=!0),i.level!=null&&(e.outlineLevel=e.level=i.level),e}function lae(t,i){if(t){var e=[.7,.7,.75,.75,.3,.3];i=="xlml"&&(e=[1,1,1,1,.5,.5]),t.left==null&&(t.left=e[0]),t.right==null&&(t.right=e[1]),t.top==null&&(t.top=e[2]),t.bottom==null&&(t.bottom=e[3]),t.header==null&&(t.header=e[4]),t.footer==null&&(t.footer=e[5])}}function L0(t,i,e){var r=e.revssf[i.z!=null?i.z:"General"],n=60,a=t.length;if(r==null&&e.ssf){for(;n<392;++n)if(e.ssf[n]==null){kze(i.z,n),e.ssf[n]=i.z,e.revssf[i.z]=r=n;break}}for(n=0;n!=a;++n)if(t[n].numFmtId===r)return n;return t[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function oWe(t,i,e){if(t&&t["!ref"]){var r=Zs(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+e+"): "+t["!ref"])}}function lWe(t){if(t.length===0)return"";for(var i='<mergeCells count="'+t.length+'">',e=0;e!=t.length;++e)i+='<mergeCell ref="'+ao(t[e])+'"/>';return i+"</mergeCells>"}function cWe(t,i,e,r,n){var a=!1,s={},o=null;if(r.bookType!=="xlsx"&&i.vbaraw){var u=i.SheetNames[e];try{i.Workbook&&(u=i.Workbook.Sheets[e].CodeName||u)}catch{}a=!0,s.codeName=tm(Xn(u))}if(t&&t["!outline"]){var l={summaryBelow:1,summaryRight:1};t["!outline"].above&&(l.summaryBelow=0),t["!outline"].left&&(l.summaryRight=0),o=(o||"")+ci("outlinePr",null,l)}!a&&!o||(n[n.length]=ci("sheetPr",o,s))}var uWe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],dWe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function hWe(t){var i={sheet:1};return uWe.forEach(function(e){t[e]!=null&&t[e]&&(i[e]="1")}),dWe.forEach(function(e){t[e]!=null&&!t[e]&&(i[e]="0")}),t.password&&(i.password=Xse(t.password).toString(16).toUpperCase()),ci("sheetProtection",null,i)}function fWe(t){return lae(t),ci("pageMargins",null,t)}function pWe(t,i){for(var e=["<cols>"],r,n=0;n!=i.length;++n)(r=i[n])&&(e[e.length]=ci("col",null,FD(n,r)));return e[e.length]="</cols>",e.join("")}function mWe(t,i,e,r){var n=typeof t.ref=="string"?t.ref:ao(t.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var a=e.Workbook.Names,s=yl(n);s.s.r==s.e.r&&(s.e.r=yl(i["!ref"]).e.r,n=ao(s));for(var o=0;o<a.length;++o){var u=a[o];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref=A2(e.SheetNames[r])+"!"+E2(n);break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+e.SheetNames[r]+"'!"+n}),ci("autoFilter",null,{ref:n})}function gWe(t,i,e,r){var n={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),ci("sheetViews",ci("sheetView",null,n),{})}function vWe(t,i,e,r,n,a,s){if(t.c&&e["!comments"].push([i,t.c]),(t.v===void 0||t.t==="z"&&!(r||{}).sheetStubs)&&typeof t.f!="string"&&typeof t.z>"u")return"";var o="",u=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":o=t.v?"1":"0";break;case"n":isNaN(t.v)?(t.t="e",o=R0[t.v=36]):isFinite(t.v)?o=""+t.v:(t.t="e",o=R0[t.v=7]);break;case"e":o=R0[t.v];break;case"d":if(r&&r.cellDates){var c=pu(t.v,s);o=c.toISOString(),c.getUTCFullYear()<1900&&(o=o.slice(o.indexOf("T")+1).replace("Z",""))}else t=tc(t),t.t="n",o=""+(t.v=xl(pu(t.v,s),s));typeof t.z>"u"&&(t.z=Ks[14]);break;default:o=t.v;break}var h=t.t=="z"||t.v==null?"":vl("v",Xn(o)),d={r:i},f=L0(r.cellXfs,t,r);switch(f!==0&&(d.s=f),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){h=vl("v",""+Z6(r.Strings,t.v,r.revStrings)),d.t="s";break}else d.t="str";break}if(t.t!=u&&(t.t=u,t.v=l),typeof t.f=="string"&&t.f){var m=t.F&&t.F.slice(0,i.length)==i?{t:"array",ref:t.F}:null;h=ci("f",Xn(t.f),m)+(t.v!=null?h:"")}return t.l&&(t.l.display=Xn(o),e["!links"].push([i,t.l])),t.D&&(d.cm=1),ci("c",h,d)}function yWe(t,i,e,r){var n=[],a=[],s=Zs(t["!ref"]),o="",u,l="",c=[],h=0,d=0,f=t["!rows"],m=t["!data"]!=null,p={r:l},g,v=-1,y=(((r||{}).Workbook||{}).WBProps||{}).date1904;for(d=s.s.c;d<=s.e.c;++d)c[d]=fs(d);for(h=s.s.r;h<=s.e.r;++h){for(a=[],l=bs(h),d=s.s.c;d<=s.e.c;++d){u=c[d]+l;var x=m?(t["!data"][h]||[])[d]:t[u];x!==void 0&&(o=vWe(x,u,t,i,e,r,y))!=null&&a.push(o)}(a.length>0||f&&f[h])&&(p={r:l},f&&f[h]&&(g=f[h],g.hidden&&(p.hidden=1),v=-1,g.hpx?v=vD(g.hpx):g.hpt&&(v=g.hpt),v>-1&&(p.ht=v,p.customHeight=1),g.level&&(p.outlineLevel=g.level)),n[n.length]=ci("row",a.join(""),p))}if(f)for(;h<f.length;++h)f&&f[h]&&(p={r:h+1},g=f[h],g.hidden&&(p.hidden=1),v=-1,g.hpx?v=vD(g.hpx):g.hpt&&(v=g.hpt),v>-1&&(p.ht=v,p.customHeight=1),g.level&&(p.outlineLevel=g.level),n[n.length]=ci("row","",p));return n.join("")}function xWe(t,i,e,r){var n=[oo,ci("worksheet",null,{xmlns:Wx[0],"xmlns:r":Wo.r})],a=e.SheetNames[t],s=0,o="",u=e.Sheets[a];u==null&&(u={});var l=u["!ref"]||"A1",c=Zs(l);if(c.e.c>16383||c.e.r>1048575){if(i.WTF)throw new Error("Range "+l+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),l=ao(c)}r||(r={}),u["!comments"]=[];var h=[];cWe(u,e,t,i,n),n[n.length]=ci("dimension",null,{ref:l}),n[n.length]=gWe(u,i,t,e),i.sheetFormat&&(n[n.length]=ci("sheetFormatPr",null,{defaultRowHeight:i.sheetFormat.defaultRowHeight||"16",baseColWidth:i.sheetFormat.baseColWidth||"10",outlineLevelRow:i.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(n[n.length]=pWe(u,u["!cols"])),n[s=n.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(o=yWe(u,i,t,e,r),o.length>0&&(n[n.length]=o)),n.length>s+1&&(n[n.length]="</sheetData>",n[s]=n[s].replace("/>",">")),u["!protect"]&&(n[n.length]=hWe(u["!protect"])),u["!autofilter"]!=null&&(n[n.length]=mWe(u["!autofilter"],u,e,t)),u["!merges"]!=null&&u["!merges"].length>0&&(n[n.length]=lWe(u["!merges"]));var d=-1,f,m=-1;return u["!links"].length>0&&(n[n.length]="<hyperlinks>",u["!links"].forEach(function(p){p[1].Target&&(f={ref:p[0]},p[1].Target.charAt(0)!="#"&&(m=Wr(r,-1,Xn(p[1].Target).replace(/#[\s\S]*$/,""),Sr.HLINK),f["r:id"]="rId"+m),(d=p[1].Target.indexOf("#"))>-1&&(f.location=Xn(p[1].Target.slice(d+1))),p[1].Tooltip&&(f.tooltip=Xn(p[1].Tooltip)),f.display=p[1].display,n[n.length]=ci("hyperlink",null,f))}),n[n.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(n[n.length]=fWe(u["!margins"])),(!i||i.ignoreEC||i.ignoreEC==null)&&(n[n.length]=vl("ignoredErrors",ci("ignoredError",null,{numberStoredAsText:1,sqref:l}))),h.length>0&&(m=Wr(r,-1,"../drawings/drawing"+(t+1)+".xml",Sr.DRAW),n[n.length]=ci("drawing",null,{"r:id":"rId"+m}),u["!drawing"]=h),u["!comments"].length>0&&(m=Wr(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Sr.VML),n[n.length]=ci("legacyDrawing",null,{"r:id":"rId"+m}),u["!legacy"]=m),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function bWe(t,i){var e={},r=t.l+i;e.r=t.read_shift(4),t.l+=4;var n=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=r,a&7&&(e.level=a&7),a&16&&(e.hidden=!0),a&32&&(e.hpt=n/20),e}function _We(t,i,e){var r=gt(145),n=(e["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var a=320;n.hpx?a=vD(n.hpx)*20:n.hpt&&(a=n.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var s=0;n.level&&(s|=n.level),n.hidden&&(s|=16),(n.hpx||n.hpt)&&(s|=32),r.write_shift(1,s),r.write_shift(1,0);var o=0,u=r.l;r.l+=4;for(var l={r:t,c:0},c=e["!data"]!=null,h=0;h<16;++h)if(!(i.s.c>h+1<<10||i.e.c<h<<10)){for(var d=-1,f=-1,m=h<<10;m<h+1<<10;++m){l.c=m;var p=c?(e["!data"][l.r]||[])[l.c]:e[ya(l)];p&&(d<0&&(d=m),f=m)}d<0||(++o,r.write_shift(4,d),r.write_shift(4,f))}var g=r.l;return r.l=u,r.write_shift(4,o),r.l=g,r.length>r.l?r.slice(0,r.l):r}function wWe(t,i,e,r){var n=_We(r,e,i);(n.length>17||(i["!rows"]||[])[r])&&Nt(t,0,n)}var CWe=Ev,SWe=Qx;function TWe(){}function EWe(t,i){var e={},r=t[t.l];return++t.l,e.above=!(r&64),e.left=!(r&128),t.l+=18,e.name=bUe(t,i-19),e}function AWe(t,i,e){e==null&&(e=gt(84+4*t.length));var r=192;i&&(i.above&&(r&=-65),i.left&&(r&=-129)),e.write_shift(1,r);for(var n=1;n<3;++n)e.write_shift(1,0);return fD({auto:1},e),e.write_shift(-4,-1),e.write_shift(-4,-1),Ase(t,e),e.slice(0,e.l)}function MWe(t){var i=Wd(t);return[i]}function IWe(t,i,e){return e==null&&(e=gt(8)),Cv(i,e)}function DWe(t){var i=Sv(t);return[i]}function PWe(t,i,e){return e==null&&(e=gt(4)),Tv(i,e)}function RWe(t){var i=Wd(t),e=t.read_shift(1);return[i,e,"b"]}function kWe(t,i,e){return e==null&&(e=gt(9)),Cv(i,e),e.write_shift(1,t.v?1:0),e}function FWe(t){var i=Sv(t),e=t.read_shift(1);return[i,e,"b"]}function OWe(t,i,e){return e==null&&(e=gt(5)),Tv(i,e),e.write_shift(1,t.v?1:0),e}function LWe(t){var i=Wd(t),e=t.read_shift(1);return[i,e,"e"]}function g6(t,i,e){return e==null&&(e=gt(9)),Cv(i,e),e.write_shift(1,t.v),e}function NWe(t){var i=Sv(t),e=t.read_shift(1);return[i,e,"e"]}function v6(t,i,e){return e==null&&(e=gt(8)),Tv(i,e),e.write_shift(1,t.v),e.write_shift(2,0),e.write_shift(1,0),e}function BWe(t){var i=Wd(t),e=t.read_shift(4);return[i,e,"s"]}function VWe(t,i,e){return e==null&&(e=gt(12)),Cv(i,e),e.write_shift(4,i.v),e}function zWe(t){var i=Sv(t),e=t.read_shift(4);return[i,e,"s"]}function UWe(t,i,e){return e==null&&(e=gt(8)),Tv(i,e),e.write_shift(4,i.v),e}function HWe(t){var i=Wd(t),e=Kx(t);return[i,e,"n"]}function GWe(t,i,e){return e==null&&(e=gt(16)),Cv(i,e),_v(t.v,e),e}function jWe(t){var i=Sv(t),e=Kx(t);return[i,e,"n"]}function WWe(t,i,e){return e==null&&(e=gt(12)),Tv(i,e),_v(t.v,e),e}function XWe(t){var i=Wd(t),e=Y6(t);return[i,e,"n"]}function YWe(t,i,e){return e==null&&(e=gt(12)),Cv(i,e),Mse(t.v,e),e}function $We(t){var i=Sv(t),e=Y6(t);return[i,e,"n"]}function QWe(t,i,e){return e==null&&(e=gt(8)),Tv(i,e),Mse(t.v,e),e}function KWe(t){var i=Wd(t),e=W6(t);return[i,e,"is"]}function ZWe(t){var i=Wd(t),e=ec(t);return[i,e,"str"]}function JWe(t,i,e){var r=t.v==null?"":String(t.v);return e==null&&(e=gt(12+4*t.v.length)),Cv(i,e),So(r,e),e.length>e.l?e.slice(0,e.l):e}function qWe(t){var i=Sv(t),e=ec(t);return[i,e,"str"]}function eXe(t,i,e){var r=t.v==null?"":String(t.v);return e==null&&(e=gt(8+4*r.length)),Tv(i,e),So(r,e),e.length>e.l?e.slice(0,e.l):e}function tXe(t,i,e){var r=t.l+i,n=Wd(t);n.r=e["!row"];var a=t.read_shift(1),s=[n,a,"b"];if(e.cellFormula){t.l+=2;var o=kD(t,r-t.l,e);s[3]=jx(o,null,n,e.supbooks,e)}else t.l=r;return s}function iXe(t,i,e){var r=t.l+i,n=Wd(t);n.r=e["!row"];var a=t.read_shift(1),s=[n,a,"e"];if(e.cellFormula){t.l+=2;var o=kD(t,r-t.l,e);s[3]=jx(o,null,n,e.supbooks,e)}else t.l=r;return s}function nXe(t,i,e){var r=t.l+i,n=Wd(t);n.r=e["!row"];var a=Kx(t),s=[n,a,"n"];if(e.cellFormula){t.l+=2;var o=kD(t,r-t.l,e);s[3]=jx(o,null,n,e.supbooks,e)}else t.l=r;return s}function rXe(t,i,e){var r=t.l+i,n=Wd(t);n.r=e["!row"];var a=ec(t),s=[n,a,"str"];if(e.cellFormula){t.l+=2;var o=kD(t,r-t.l,e);s[3]=jx(o,null,n,e.supbooks,e)}else t.l=r;return s}var sXe=Ev,aXe=Qx;function oXe(t,i){return i==null&&(i=gt(4)),i.write_shift(4,t),i}function lXe(t,i){var e=t.l+i,r=Ev(t,16),n=ID(t),a=ec(t),s=ec(t),o=ec(t);t.l=e;var u={rfx:r,relId:n,loc:a,display:o};return s&&(u.Tooltip=s),u}function cXe(t,i){var e=gt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Qx({s:oa(t[0]),e:oa(t[0])},e),X6("rId"+i,e);var r=t[1].Target.indexOf("#"),n=r==-1?"":t[1].Target.slice(r+1);return So(n||"",e),So(t[1].Tooltip||"",e),So("",e),e.slice(0,e.l)}function uXe(){}function dXe(t,i,e){var r=t.l+i,n=Ise(t,16),a=t.read_shift(1),s=[n];if(s[2]=a,e.cellFormula){var o=jje(t,r-t.l,e);s[1]=o}else t.l=r;return s}function hXe(t,i,e){var r=t.l+i,n=Ev(t,16),a=[n];if(e.cellFormula){var s=Xje(t,r-t.l,e);a[1]=s,t.l=r}else t.l=r;return a}function fXe(t,i,e){e==null&&(e=gt(18));var r=FD(t,i);e.write_shift(-4,t),e.write_shift(-4,t),e.write_shift(4,(r.width||10)*256),e.write_shift(4,0);var n=0;return i.hidden&&(n|=1),typeof r.width=="number"&&(n|=2),i.level&&(n|=i.level<<8),e.write_shift(2,n),e}var cae=["left","right","top","bottom","header","footer"];function pXe(t){var i={};return cae.forEach(function(e){i[e]=Kx(t,8)}),i}function mXe(t,i){return i==null&&(i=gt(6*8)),lae(t),cae.forEach(function(e){_v(t[e],i)}),i}function gXe(t){var i=t.read_shift(2);return t.l+=28,{RTL:i&32}}function vXe(t,i,e){e==null&&(e=gt(30));var r=924;return(((i||{}).Views||[])[0]||{}).RTL&&(r|=32),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,100),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(4,0),e}function yXe(t){var i=gt(24);return i.write_shift(4,4),i.write_shift(4,1),Qx(t,i),i}function xXe(t,i){return i==null&&(i=gt(16*4+2)),i.write_shift(2,t.password?Xse(t.password):0),i.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?i.write_shift(4,t[e[0]]!=null&&!t[e[0]]?1:0):i.write_shift(4,t[e[0]]!=null&&t[e[0]]?0:1)}),i}function bXe(){}function _Xe(){}function wXe(t,i,e,r,n,a,s,o){var u={r:e,c:r};if(i.c&&a["!comments"].push([ya(u),i.c]),i.v===void 0)return!1;var l="";switch(i.t){case"b":l=i.v?"1":"0";break;case"d":i=tc(i),i.z=i.z||Ks[14],i.v=xl(pu(i.v,o),o),i.t="n";break;case"n":case"e":l=""+i.v;break;default:l=i.v;break}switch(u.s=L0(n.cellXfs,i,n),i.l&&a["!links"].push([ya(u),i.l]),i.t){case"s":case"str":return n.bookSST?(l=Z6(n.Strings,i.v==null?"":String(i.v),n.revStrings),u.t="s",u.v=l,s?Nt(t,18,UWe(i,u)):Nt(t,7,VWe(i,u))):(u.t="str",s?Nt(t,17,eXe(i,u)):Nt(t,6,JWe(i,u))),!0;case"n":return i.v==(i.v|0)&&i.v>-1e3&&i.v<1e3?s?Nt(t,13,QWe(i,u)):Nt(t,2,YWe(i,u)):isNaN(i.v)?s?Nt(t,14,v6({t:"e",v:36},u)):Nt(t,3,g6({t:"e",v:36},u)):isFinite(i.v)?s?Nt(t,16,WWe(i,u)):Nt(t,5,GWe(i,u)):s?Nt(t,14,v6({t:"e",v:7},u)):Nt(t,3,g6({t:"e",v:7},u)),!0;case"b":return u.t="b",s?Nt(t,15,OWe(i,u)):Nt(t,4,kWe(i,u)),!0;case"e":return u.t="e",s?Nt(t,14,v6(i,u)):Nt(t,3,g6(i,u)),!0}return s?Nt(t,12,PWe(i,u)):Nt(t,1,IWe(i,u)),!0}function CXe(t,i,e,r,n){var a=Zs(i["!ref"]||"A1"),s,o="",u=[],l=(((n||{}).Workbook||{}).WBProps||{}).date1904;Nt(t,145);var c=i["!data"]!=null,h=a.e.r;i["!rows"]&&(h=Math.max(a.e.r,i["!rows"].length-1));for(var d=a.s.r;d<=h;++d){o=bs(d),wWe(t,i,a,d);var f=!1;if(d<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){d===a.s.r&&(u[m]=fs(m)),s=u[m]+o;var p=c?(i["!data"][d]||[])[m]:i[s];if(!p){f=!1;continue}f=wXe(t,p,d,m,r,i,f,l)}}Nt(t,146)}function SXe(t,i){!i||!i["!merges"]||(Nt(t,177,oXe(i["!merges"].length)),i["!merges"].forEach(function(e){Nt(t,176,aXe(e))}),Nt(t,178))}function TXe(t,i){!i||!i["!cols"]||(Nt(t,390),i["!cols"].forEach(function(e,r){e&&Nt(t,60,fXe(r,e))}),Nt(t,391))}function EXe(t,i){!i||!i["!ref"]||(Nt(t,648),Nt(t,649,yXe(Zs(i["!ref"]))),Nt(t,650))}function AXe(t,i,e){i["!links"].forEach(function(r){if(r[1].Target){var n=Wr(e,-1,r[1].Target.replace(/#[\s\S]*$/,""),Sr.HLINK);Nt(t,494,cXe(r,n))}}),delete i["!links"]}function MXe(t,i,e,r){if(i["!comments"].length>0){var n=Wr(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Sr.VML);Nt(t,551,X6("rId"+n)),i["!legacy"]=n}}function IXe(t,i,e,r){if(i["!autofilter"]){var n=i["!autofilter"],a=typeof n.ref=="string"?n.ref:ao(n.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var s=e.Workbook.Names,o=yl(a);o.s.r==o.e.r&&(o.e.r=yl(i["!ref"]).e.r,a=ao(o));for(var u=0;u<s.length;++u){var l=s[u];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref=A2(e.SheetNames[r])+"!"+E2(a);break}}u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:A2(e.SheetNames[r])+"!"+E2(a)}),Nt(t,161,Qx(Zs(a))),Nt(t,162)}}function DXe(t,i,e){Nt(t,133),Nt(t,137,vXe(i,e)),Nt(t,138),Nt(t,134)}function PXe(t,i){i["!protect"]&&Nt(t,535,xXe(i["!protect"]))}function RXe(t,i,e,r){var n=ql(),a=e.SheetNames[t],s=e.Sheets[a]||{},o=a;try{e&&e.Workbook&&(o=e.Workbook.Sheets[t].CodeName||o)}catch{}var u=Zs(s["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(i.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Nt(n,129),(e.vbaraw||s["!outline"])&&Nt(n,147,AWe(o,s["!outline"])),Nt(n,148,SWe(u)),DXe(n,s,e.Workbook),TXe(n,s,t,i,e),CXe(n,s,t,i,e),PXe(n,s),IXe(n,s,e,t),SXe(n,s),AXe(n,s,r),s["!margins"]&&Nt(n,476,mXe(s["!margins"])),(!i||i.ignoreEC||i.ignoreEC==null)&&EXe(n,s),MXe(n,s,t,r),Nt(n,130),n.end()}function kXe(t,i){t.l+=10;var e=ec(t,i-10);return{name:e}}var FXe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function OXe(t){return!t.Workbook||!t.Workbook.WBProps?"false":Kze(t.Workbook.WBProps.date1904)?"true":"false"}var LXe=":][*?/\\".split("");function uae(t,i){try{if(t=="")throw new Error("Sheet name cannot be blank");if(t.length>31)throw new Error("Sheet name cannot exceed 31 chars");if(t.charCodeAt(0)==39||t.charCodeAt(t.length-1)==39)throw new Error("Sheet name cannot start or end with apostrophe (')");if(t.toLowerCase()=="history")throw new Error("Sheet name cannot be 'History'");LXe.forEach(function(e){if(t.indexOf(e)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")})}catch(e){if(i)return!1;throw e}return!0}function NXe(t,i,e){t.forEach(function(r,n){uae(r);for(var a=0;a<n;++a)if(r==t[a])throw new Error("Duplicate Sheet Name: "+r);if(e){var s=i&&i[n]&&i[n].CodeName||r;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function BXe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var i=t.Workbook&&t.Workbook.Sheets||[];NXe(t.SheetNames,i,!!t.vbaraw);for(var e=0;e<t.SheetNames.length;++e)oWe(t.Sheets[t.SheetNames[e]],t.SheetNames[e],e);t.SheetNames.forEach(function(r,n){var a=t.Sheets[r];if(!(!a||!a["!autofilter"])){var s;t.Workbook||(t.Workbook={}),t.Workbook.Names||(t.Workbook.Names=[]),t.Workbook.Names.forEach(function(u){u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n&&(s=u)});var o=A2(r)+"!"+E2(a["!autofilter"].ref);s?s.Ref=o:t.Workbook.Names.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:o})}})}function VXe(t){var i=[oo];i[i.length]=ci("workbook",null,{xmlns:Wx[0],"xmlns:r":Wo.r});var e=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(FXe.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),i[i.length]=ci("workbookPr",null,r);var n=t.Workbook&&t.Workbook.Sheets||[],a=0;if(n&&n[0]&&n[0].Hidden){for(i[i.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!n[a]||!n[a].Hidden);++a);a==t.SheetNames.length&&(a=0),i[i.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',i[i.length]="</bookViews>"}for(i[i.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var s={name:Xn(t.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),n[a])switch(n[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}i[i.length]=ci("sheet",null,s)}return i[i.length]="</sheets>",e&&(i[i.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var u={name:o.Name};o.Comment&&(u.comment=o.Comment),o.Sheet!=null&&(u.localSheetId=""+o.Sheet),o.Hidden&&(u.hidden="1"),o.Ref&&(i[i.length]=ci("definedName",Xn(o.Ref),u))}),i[i.length]="</definedNames>"),i.length>2&&(i[i.length]="</workbook>",i[1]=i[1].replace("/>",">")),i.join("")}function zXe(t,i){var e={};return e.Hidden=t.read_shift(4),e.iTabID=t.read_shift(4),e.strRelID=S6(t,i-8),e.name=ec(t),e}function UXe(t,i){return i||(i=gt(127)),i.write_shift(4,t.Hidden),i.write_shift(4,t.iTabID),X6(t.strRelID,i),So(t.name.slice(0,31),i),i.length>i.l?i.slice(0,i.l):i}function HXe(t,i){var e={},r=t.read_shift(4);e.defaultThemeVersion=t.read_shift(4);var n=i>8?ec(t):"";return n.length>0&&(e.CodeName=n),e.autoCompressPictures=!!(r&65536),e.backupFile=!!(r&64),e.checkCompatibility=!!(r&4096),e.date1904=!!(r&1),e.filterPrivacy=!!(r&8),e.hidePivotFieldList=!!(r&1024),e.promptedSolutions=!!(r&16),e.publishItems=!!(r&2048),e.refreshAllConnections=!!(r&262144),e.saveExternalLinkValues=!!(r&128),e.showBorderUnselectedTables=!!(r&4),e.showInkAnnotation=!!(r&32),e.showObjects=["all","placeholders","none"][r>>13&3],e.showPivotChartFilter=!!(r&32768),e.updateLinks=["userSet","never","always"][r>>8&3],e}function GXe(t,i){i||(i=gt(72));var e=0;return t&&(t.date1904&&(e|=1),t.filterPrivacy&&(e|=8)),i.write_shift(4,e),i.write_shift(4,0),Ase(t&&t.CodeName||"ThisWorkbook",i),i.slice(0,i.l)}function jXe(t,i,e){var r=t.l+i,n=t.read_shift(4);t.l+=1;var a=t.read_shift(4),s=_Ue(t),o,u="";try{o=Wje(t,0,e);try{u=ID(t)}catch{}}catch{console.error("Could not parse defined name "+s)}n&32&&(s="_xlnm."+s),t.l=r;var l={Name:s,Ptg:o,Flags:n};return a<268435455&&(l.Sheet=a),u&&(l.Comment=u),l}function WXe(t,i){var e=gt(9),r=0,n=t.Name;kUe.indexOf(n)>-1&&(r|=32,n=n.slice(6)),e.write_shift(4,r),e.write_shift(1,0),e.write_shift(4,t.Sheet==null?4294967295:t.Sheet);var a=[e,So(n),nWe(t.Ref,i)];if(t.Comment)a.push(M2(t.Comment));else{var s=gt(4);s.write_shift(4,4294967295),a.push(s)}return ro(a)}function XXe(t,i){Nt(t,143);for(var e=0;e!=i.SheetNames.length;++e){var r=i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[e]&&i.Workbook.Sheets[e].Hidden||0,n={Hidden:r,iTabID:e+1,strRelID:"rId"+(e+1),name:i.SheetNames[e]};Nt(t,156,UXe(n))}Nt(t,144)}function YXe(t,i){i||(i=gt(127));for(var e=0;e!=4;++e)i.write_shift(4,0);return So("SheetJS",i),So(w2.version,i),So(w2.version,i),So("7262",i),i.length>i.l?i.slice(0,i.l):i}function $Xe(t,i){i||(i=gt(29)),i.write_shift(-4,0),i.write_shift(-4,460),i.write_shift(4,28800),i.write_shift(4,17600),i.write_shift(4,500),i.write_shift(4,t),i.write_shift(4,t);var e=120;return i.write_shift(1,e),i.length>i.l?i.slice(0,i.l):i}function QXe(t,i){if(!(!i.Workbook||!i.Workbook.Sheets)){for(var e=i.Workbook.Sheets,r=0,n=-1,a=-1;r<e.length;++r)!e[r]||!e[r].Hidden&&n==-1?n=r:e[r].Hidden==1&&a==-1&&(a=r);a>n||(Nt(t,135),Nt(t,158,$Xe(n)),Nt(t,136))}}function KXe(t,i){!i.Workbook||!i.Workbook.Names||i.Workbook.Names.forEach(function(e){try{if(e.Flags&14)return;Nt(t,39,WXe(e,i))}catch{console.error("Could not serialize defined name "+JSON.stringify(e))}})}function ZXe(t){var i=t.SheetNames.length,e=gt(12*i+28);e.write_shift(4,i+2),e.write_shift(4,0),e.write_shift(4,-2),e.write_shift(4,-2),e.write_shift(4,0),e.write_shift(4,-1),e.write_shift(4,-1);for(var r=0;r<i;++r)e.write_shift(4,0),e.write_shift(4,r),e.write_shift(4,r);return e}function JXe(t,i){Nt(t,353),Nt(t,357),Nt(t,362,ZXe(i,0)),Nt(t,354)}function qXe(t,i){var e=ql();return Nt(e,131),Nt(e,128,YXe()),Nt(e,153,GXe(t.Workbook&&t.Workbook.WBProps||null)),QXe(e,t,i),XXe(e,t,i),JXe(e,t),(t.Workbook||{}).Names&&KXe(e,t),Nt(e,132),e.end()}function eYe(t,i){var e=[];return t.Props&&e.push(BUe(t.Props,i)),t.Custprops&&e.push(VUe(t.Props,t.Custprops,i)),e.join("")}function tYe(t){return(((t||{}).Workbook||{}).WBProps||{}).date1904?'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><Date1904/></ExcelWorkbook>':""}function iYe(t,i){var e=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return i.cellXfs.forEach(function(r,n){var a=[];a.push(ci("NumberFormat",null,{"ss:Format":Xn(Ks[r.numFmtId])}));var s={"ss:ID":"s"+(21+n)};e.push(ci("Style",a.join(""),s))}),ci("Styles",e.join(""))}function dae(t){return ci("NamedRange",null,{"ss:Name":t.Name.slice(0,6)=="_xlnm."?t.Name.slice(6):t.Name,"ss:RefersTo":"="+PD(t.Ref,{r:0,c:0})})}function nYe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var i=t.Workbook.Names,e=[],r=0;r<i.length;++r){var n=i[r];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||e.push(dae(n)))}return ci("Names",e.join(""))}function rYe(t,i,e,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var n=r.Workbook.Names,a=[],s=0;s<n.length;++s){var o=n[s];o.Sheet==e&&(o.Name.match(/^_xlfn\./)||a.push(dae(o)))}return a.join("")}function sYe(t,i,e,r){if(!t)return"";var n=[];if(t["!margins"]&&(n.push("<PageSetup>"),t["!margins"].header&&n.push(ci("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&n.push(ci("Footer",null,{"x:Margin":t["!margins"].footer})),n.push(ci("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),n.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[e])if(r.Workbook.Sheets[e].Hidden)n.push(ci("Visible",r.Workbook.Sheets[e].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<e&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==e&&n.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),t["!protect"]&&(n.push(vl("ProtectContents","True")),t["!protect"].objects&&n.push(vl("ProtectObjects","True")),t["!protect"].scenarios&&n.push(vl("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?n.push(vl("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&n.push(vl("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&n.push("<"+s[1]+"/>")})),n.length==0?"":ci("WorksheetOptions",n.join(""),{xmlns:qu.x})}function aYe(t){return t.map(function(i){var e=Qze(i.t||""),r=ci("ss:Data",e,{xmlns:"http://www.w3.org/TR/REC-html40"}),n={};return i.a&&(n["ss:Author"]=i.a),t.hidden||(n["ss:ShowAlways"]="1"),ci("Comment",r,n)}).join("")}function oYe(t,i,e,r,n,a,s){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Xn(PD(t.f,s))),t.F&&t.F.slice(0,i.length)==i){var u=oa(t.F.slice(i.length+1));o["ss:ArrayRange"]="RC:R"+(u.r==s.r?"":"["+(u.r-s.r)+"]")+"C"+(u.c==s.c?"":"["+(u.c-s.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Xn(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Xn(t.l.Tooltip))),e["!merges"])for(var l=e["!merges"],c=0;c!=l.length;++c)l[c].s.c!=s.c||l[c].s.r!=s.r||(l[c].e.c>l[c].s.c&&(o["ss:MergeAcross"]=l[c].e.c-l[c].s.c),l[c].e.r>l[c].s.r&&(o["ss:MergeDown"]=l[c].e.r-l[c].s.r));var h="",d="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":h="Number",d=String(t.v);break;case"b":h="Boolean",d=t.v?"1":"0";break;case"e":h="Error",d=R0[t.v];break;case"d":h="DateTime",d=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Ks[14]);break;case"s":h="String",d=$ze(t.v||"");break}var f=L0(r.cellXfs,t,r);o["ss:StyleID"]="s"+(21+f),o["ss:Index"]=s.c+1;var m=t.v!=null?d:"",p=t.t=="z"?"":'<Data ss:Type="'+h+'">'+m+"</Data>";return(t.c||[]).length>0&&(p+=aYe(t.c)),ci("Cell",p,o)}function lYe(t,i){var e='<Row ss:Index="'+(t+1)+'"';return i&&(i.hpt&&!i.hpx&&(i.hpx=$se(i.hpt)),i.hpx&&(e+=' ss:AutoFitHeight="0" ss:Height="'+i.hpx+'"'),i.hidden&&(e+=' ss:Hidden="1"')),e+">"}function cYe(t,i,e,r){if(!t["!ref"])return"";var n=Zs(t["!ref"]),a=t["!merges"]||[],s=0,o=[];t["!cols"]&&t["!cols"].forEach(function(g,v){Q6(g);var y=!!g.width,x=FD(v,g),b={"ss:Index":v+1};y&&(b["ss:Width"]=mD(x.width)),g.hidden&&(b["ss:Hidden"]="1"),o.push(ci("Column",null,b))});for(var u=t["!data"]!=null,l=n.s.r;l<=n.e.r;++l){for(var c=[lYe(l,(t["!rows"]||[])[l])],h=n.s.c;h<=n.e.c;++h){var d=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>h)&&!(a[s].s.r>l)&&!(a[s].e.c<h)&&!(a[s].e.r<l)){(a[s].s.c!=h||a[s].s.r!=l)&&(d=!0);break}if(!d){var f={r:l,c:h},m=fs(h)+bs(l),p=u?(t["!data"][l]||[])[h]:t[m];c.push(oYe(p,m,t,i,e,r,f))}}c.push("</Row>"),c.length>2&&o.push(c.join(""))}return o.join("")}function uYe(t,i,e){var r=[],n=e.SheetNames[t],a=e.Sheets[n],s=a?rYe(a,i,t,e):"";return s.length>0&&r.push("<Names>"+s+"</Names>"),s=a?cYe(a,i,t,e):"",s.length>0&&r.push("<Table>"+s+"</Table>"),r.push(sYe(a,i,t,e)),a["!autofilter"]&&r.push('<AutoFilter x:Range="'+PD(E2(a["!autofilter"].ref),{r:0,c:0})+'" xmlns="urn:schemas-microsoft-com:office:excel"></AutoFilter>'),r.join("")}function dYe(t,i){i||(i={}),t.SSF||(t.SSF=tc(Ks)),t.SSF&&(TD(),SD(t.SSF),i.revssf=ED(t.SSF),i.revssf[t.SSF[65535]]=0,i.ssf=t.SSF,i.cellXfs=[],L0(i.cellXfs,{},{revssf:{General:0}}));var e=[];e.push(eYe(t,i)),e.push(tYe(t,i)),e.push(""),e.push("");for(var r=0;r<t.SheetNames.length;++r)e.push(ci("Worksheet",uYe(r,i,t),{"ss:Name":Xn(t.SheetNames[r])}));return e[2]=iYe(t,i),e[3]=nYe(t,i),oo+ci("Workbook",e.join(""),{xmlns:qu.ss,"xmlns:o":qu.o,"xmlns:x":qu.x,"xmlns:ss":qu.ss,"xmlns:dt":qu.dt,"xmlns:html":qu.html})}var y6={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function hYe(t,i){var e=[],r=[],n=[],a=0,s,o=wre(kre,"n"),u=wre(Fre,"n");if(t.Props)for(s=so(t.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?e:Object.prototype.hasOwnProperty.call(u,s[a])?r:n).push([s[a],t.Props[s[a]]]);if(t.Custprops)for(s=so(t.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?e:Object.prototype.hasOwnProperty.call(u,s[a])?r:n).push([s[a],t.Custprops[s[a]]]);var l=[];for(a=0;a<n.length;++a)Vse.indexOf(n[a][0])>-1||Lse.indexOf(n[a][0])>-1||n[a][1]!=null&&l.push(n[a]);r.length&&Fs.utils.cfb_add(i,"/SummaryInformation",Vre(r,y6.SI,u,Fre)),(e.length||l.length)&&Fs.utils.cfb_add(i,"/DocumentSummaryInformation",Vre(e,y6.DSI,o,kre,l.length?l:null,y6.UDI))}function fYe(t,i){var e=i||{},r=Fs.utils.cfb_new({root:"R"}),n="/Workbook";switch(e.bookType||"xls"){case"xls":e.bookType="biff8";case"xla":e.bookType||(e.bookType="xla");case"biff8":n="/Workbook",e.biff=8;break;case"biff5":n="/Book",e.biff=5;break;default:throw new Error("invalid type "+e.bookType+" for XLS CFB")}return Fs.utils.cfb_add(r,n,fae(t,e)),e.biff==8&&(t.Props||t.Custprops)&&hYe(t,r),e.biff==8&&t.vbaraw&&CGe(r,Fs.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var pYe={0:{f:bWe},1:{f:MWe},2:{f:XWe},3:{f:LWe},4:{f:RWe},5:{f:HWe},6:{f:ZWe},7:{f:BWe},8:{f:rXe},9:{f:nXe},10:{f:tXe},11:{f:iXe},12:{f:DWe},13:{f:$We},14:{f:NWe},15:{f:FWe},16:{f:jWe},17:{f:qWe},18:{f:zWe},19:{f:W6},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:jXe},40:{},42:{},43:{f:HHe},44:{f:zHe},45:{f:WHe},46:{f:YHe},47:{f:XHe},48:{},49:{f:pUe},50:{},51:{f:cGe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:yHe},62:{f:KWe},63:{f:gGe},64:{f:bXe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Zf,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:gXe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:EWe},148:{f:CWe,p:16},151:{f:uXe},152:{},153:{f:HXe},154:{},155:{},156:{f:zXe},157:{},158:{},159:{T:1,f:IHe},160:{T:-1},161:{T:1,f:Ev},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:sXe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:oGe},336:{T:-1},337:{f:hGe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:S6},357:{},358:{},359:{},360:{T:1},361:{},362:{f:fHe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:dXe},427:{f:hXe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:pXe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:TWe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:lXe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:S6},551:{f:ID},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:_Ge},633:{T:1},634:{T:-1},635:{T:1,f:xGe},636:{T:-1},637:{f:yUe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:kXe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:_Xe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Yt(t,i,e,r){var n=i;if(!isNaN(n)){var a=r||(e||[]).length||0,s=t.next(4);s.write_shift(2,n),s.write_shift(2,a),a>0&&H6(e)&&t.push(e)}}function mYe(t,i,e,r){var n=r||(e||[]).length||0;if(n<=8224)return Yt(t,i,e,n);var a=i;if(!isNaN(a)){for(var s=e.parts||[],o=0,u=0,l=0;l+(s[o]||8224)<=8224;)l+=s[o]||8224,o++;var c=t.next(4);for(c.write_shift(2,a),c.write_shift(2,l),t.push(e.slice(u,u+l)),u+=l;u<n;){for(c=t.next(4),c.write_shift(2,60),l=0;l+(s[o]||8224)<=8224;)l+=s[o]||8224,o++;c.write_shift(2,l),t.push(e.slice(u,u+l)),u+=l}}}function x6(t,i,e,r){var n=gt(9);return R2(n,t,i),zse(e,r||"b",n),n}function gYe(t,i,e){var r=gt(8+2*e.length);return R2(r,t,i),r.write_shift(1,e.length),r.write_shift(e.length,e,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function hae(t,i){i.forEach(function(e){var r=e[0].map(function(a){return a.t}).join("");if(r.length<=2048)return Yt(t,28,p6(r,e[1],e[2]));Yt(t,28,p6(r.slice(0,2048),e[1],e[2],r.length));for(var n=2048;n<r.length;n+=2048)Yt(t,28,p6(r.slice(n,Math.min(n+2048,r.length)),-1,-1,Math.min(2048,r.length-n)))})}function vYe(t,i,e,r,n,a){var s=0;i.z!=null&&(s=n._BIFF2FmtTable.indexOf(i.z),s==-1&&(n._BIFF2FmtTable.push(i.z),s=n._BIFF2FmtTable.length-1));var o=0;if(i.z!=null){for(;o<n.cellXfs.length&&n.cellXfs[o].numFmtId!=s;++o);o==n.cellXfs.length&&n.cellXfs.push({numFmtId:s})}if(i.v!=null)switch(i.t){case"d":case"n":var u=i.t=="d"?xl(pu(i.v,a),a):i.v;n.biff==2&&u==(u|0)&&u>=0&&u<65536?Yt(t,2,wHe(e,r,u,o,s)):isNaN(u)?Yt(t,5,x6(e,r,36,"e")):isFinite(u)?Yt(t,3,_He(e,r,u,o,s)):Yt(t,5,x6(e,r,7,"e"));return;case"b":case"e":Yt(t,5,x6(e,r,i.v,i.t));return;case"s":case"str":Yt(t,4,gYe(e,r,i.v==null?"":String(i.v).slice(0,255)));return}Yt(t,1,R2(null,e,r))}function yYe(t,i,e,r,n){var a=i["!data"]!=null,s=Zs(i["!ref"]||"A1"),o="",u=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383)}for(var l=(((n||{}).Workbook||{}).WBProps||{}).date1904,c=[],h=[],d=s.s.c;d<=s.e.c;++d)u[d]=fs(d);for(var f=s.s.r;f<=s.e.r;++f)for(a&&(c=i["!data"][f]||[]),o=bs(f),d=s.s.c;d<=s.e.c;++d){var m=a?c[d]:i[u[d]+o];m&&(vYe(t,m,f,d,r,l),m.c&&h.push([m.c,f,d]))}hae(t,h)}function xYe(t,i){for(var e=i||{},r=ql(),n=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==e.sheet&&(n=a);if(n==0&&e.sheet&&t.SheetNames[0]!=e.sheet)throw new Error("Sheet not found: "+e.sheet);Yt(r,e.biff==4?1033:e.biff==3?521:9,$6(t,16,e)),((t.Workbook||{}).WBProps||{}).date1904&&Yt(r,34,Zl(!0)),e.cellXfs=[{numFmtId:0}],e._BIFF2FmtTable=["General"],e._Fonts=[];var s=ql();return yYe(s,t.Sheets[t.SheetNames[n]],n,e,t),e._BIFF2FmtTable.forEach(function(o){e.biff<=3?Yt(r,30,aHe(o)):Yt(r,1054,oHe(o))}),e.cellXfs.forEach(function(o){switch(e.biff){case 2:Yt(r,67,cHe(o));break;case 3:Yt(r,579,jse(o));break;case 4:Yt(r,1091,uHe(o));break}}),delete e._BIFF2FmtTable,delete e.cellXfs,delete e._Fonts,r.push(s.end()),Yt(r,10),r.end()}var Lh=1,Gd=[];function bYe(){var t=gt(82+8*Gd.length);t.write_shift(2,15),t.write_shift(2,61440),t.write_shift(4,74+8*Gd.length);{t.write_shift(2,0),t.write_shift(2,61446),t.write_shift(4,16+8*Gd.length);{t.write_shift(4,Lh),t.write_shift(4,Gd.length+1);for(var i=0,e=0;e<Gd.length;++e)i+=Gd[e]&&Gd[e][1]||0;t.write_shift(4,i),t.write_shift(4,Gd.length)}Gd.forEach(function(r){t.write_shift(4,r[0]),t.write_shift(4,r[2])})}return t.write_shift(2,51),t.write_shift(2,61451),t.write_shift(4,18),t.write_shift(2,191),t.write_shift(4,524296),t.write_shift(2,385),t.write_shift(4,134217793),t.write_shift(2,448),t.write_shift(4,134217792),t.write_shift(2,64),t.write_shift(2,61726),t.write_shift(4,16),t.write_shift(4,134217741),t.write_shift(4,134217740),t.write_shift(4,134217751),t.write_shift(4,268435703),t}function _Ye(t,i){var e=[],r=0,n=ql(),a=Lh,s;i.forEach(function(u,l){var c="",h=u[0].map(function(x){return x.a&&!c&&(c=x.a),x.t}).join("");++Lh;{var d=gt(150);d.write_shift(2,15),d.write_shift(2,61444),d.write_shift(4,150),d.write_shift(2,3234),d.write_shift(2,61450),d.write_shift(4,8),d.write_shift(4,Lh),d.write_shift(4,2560),d.write_shift(2,227),d.write_shift(2,61451),d.write_shift(4,84),d.write_shift(2,128),d.write_shift(4,0),d.write_shift(2,139),d.write_shift(4,2),d.write_shift(2,191),d.write_shift(4,524296),d.write_shift(2,344),d.l+=4,d.write_shift(2,385),d.write_shift(4,134217808),d.write_shift(2,387),d.write_shift(4,134217808),d.write_shift(2,389),d.write_shift(4,268435700),d.write_shift(2,447),d.write_shift(4,1048592),d.write_shift(2,448),d.write_shift(4,134217809),d.write_shift(2,451),d.write_shift(4,268435700),d.write_shift(2,513),d.write_shift(4,134217809),d.write_shift(2,515),d.write_shift(4,268435700),d.write_shift(2,575),d.write_shift(4,196609),d.write_shift(2,959),d.write_shift(4,131072|(u[0].hidden?2:0)),d.l+=2,d.write_shift(2,61456),d.write_shift(4,18),d.write_shift(2,3),d.write_shift(2,u[2]+2),d.l+=2,d.write_shift(2,u[1]+1),d.l+=2,d.write_shift(2,u[2]+4),d.l+=2,d.write_shift(2,u[1]+5),d.l+=2,d.l+=2,d.write_shift(2,61457),d.l+=4,d.l=150,l==0?s=d:Yt(n,236,d)}r+=150;{var f=gt(52);f.write_shift(2,21),f.write_shift(2,18),f.write_shift(2,25),f.write_shift(2,Lh),f.write_shift(2,0),f.l=22,f.write_shift(2,13),f.write_shift(2,22),f.write_shift(4,1651663474),f.write_shift(4,2503426821),f.write_shift(4,2150634280),f.write_shift(4,1768515844+Lh*256),f.write_shift(2,0),f.write_shift(4,0),f.l+=4,Yt(n,93,f)}{var m=gt(8);m.l+=2,m.write_shift(2,61453),m.l+=4,Yt(n,236,m)}r+=8;{var p=gt(18);p.write_shift(2,18),p.l+=8,p.write_shift(2,h.length),p.write_shift(2,16),p.l+=4,Yt(n,438,p);{var g=gt(1+h.length);g.write_shift(1,0),g.write_shift(h.length,h,"sbcs"),Yt(n,60,g)}{var v=gt(16);v.l+=8,v.write_shift(2,h.length),v.l+=6,Yt(n,60,v)}}{var y=gt(12+c.length);y.write_shift(2,u[1]),y.write_shift(2,u[2]),y.write_shift(2,0|(u[0].hidden?0:2)),y.write_shift(2,Lh),y.write_shift(2,c.length),y.write_shift(1,0),y.write_shift(c.length,c,"sbcs"),y.l++,e.push(y)}});{var o=gt(80);o.write_shift(2,15),o.write_shift(2,61442),o.write_shift(4,r+o.length-8),o.write_shift(2,16),o.write_shift(2,61448),o.write_shift(4,8),o.write_shift(4,i.length+1),o.write_shift(4,Lh),o.write_shift(2,15),o.write_shift(2,61443),o.write_shift(4,r+48),o.write_shift(2,15),o.write_shift(2,61444),o.write_shift(4,40),o.write_shift(2,1),o.write_shift(2,61449),o.write_shift(4,16),o.l+=16,o.write_shift(2,2),o.write_shift(2,61450),o.write_shift(4,8),o.write_shift(4,a),o.write_shift(4,5),Yt(t,236,s?ro([o,s]):o)}t.push(n.end()),e.forEach(function(u){Yt(t,28,u)}),Gd.push([a,i.length+1,Lh]),++Lh}function wYe(t,i,e){Yt(t,49,iHe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},e))}function CYe(t,i,e){i&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)i[n]!=null&&Yt(t,1054,sHe(n,i[n],e))})}function SYe(t,i){var e=gt(19);e.write_shift(4,2151),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,1),e.write_shift(4,0),Yt(t,2151,e),e=gt(39),e.write_shift(4,2152),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(2,1),e.write_shift(4,4),e.write_shift(2,0),Gse(Zs(i["!ref"]||"A1"),e),e.write_shift(4,4),Yt(t,2152,e)}function TYe(t,i){for(var e=0;e<16;++e)Yt(t,224,Ure({numFmtId:0,style:!0},0,i));i.cellXfs.forEach(function(r){Yt(t,224,Ure(r,0,i))})}function EYe(t,i){for(var e=0;e<i["!links"].length;++e){var r=i["!links"][e];Yt(t,440,mHe(r)),r[1].Tooltip&&Yt(t,2048,gHe(r))}delete i["!links"]}function AYe(t,i){if(i){var e=0;i.forEach(function(r,n){++e<=256&&r&&Yt(t,125,xHe(FD(n,r),n))})}}function MYe(t,i,e,r,n,a){var s=16+L0(n.cellXfs,i,n);if(i.v==null&&!i.bf){Yt(t,513,wv(e,r,s));return}if(i.bf)Yt(t,6,Gje(i,e,r,n,s));else switch(i.t){case"d":case"n":var o=i.t=="d"?xl(pu(i.v,a),a):i.v;isNaN(o)?Yt(t,517,f6(e,r,36,s,n,"e")):isFinite(o)?Yt(t,515,hHe(e,r,o,s,n)):Yt(t,517,f6(e,r,7,s,n,"e"));break;case"b":case"e":Yt(t,517,f6(e,r,i.v,s,n,i.t));break;case"s":case"str":if(n.bookSST){var u=Z6(n.Strings,i.v==null?"":String(i.v),n.revStrings);Yt(t,253,nHe(e,r,u,s,n))}else Yt(t,516,rHe(e,r,(i.v==null?"":String(i.v)).slice(0,255),s,n));break;default:Yt(t,513,wv(e,r,s))}}function IYe(t,i,e){var r=ql(),n=e.SheetNames[t],a=e.Sheets[n]||{},s=(e||{}).Workbook||{},o=(s.Sheets||[])[t]||{},u=a["!data"]!=null,l=i.biff==8,c,h="",d=[],f=Zs(a["!ref"]||"A1"),m=l?65536:16384;if(f.e.c>255||f.e.r>=m){if(i.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,m-1)}Yt(r,2057,$6(e,16,i)),Yt(r,13,jd(1)),Yt(r,12,jd(100)),Yt(r,15,Zl(!0)),Yt(r,17,Zl(!1)),Yt(r,16,_v(.001)),Yt(r,95,Zl(!0)),Yt(r,42,Zl(!1)),Yt(r,43,Zl(!1)),Yt(r,130,jd(1)),Yt(r,128,dHe([0,0])),Yt(r,131,Zl(!1)),Yt(r,132,Zl(!1)),l&&AYe(r,a["!cols"]),Yt(r,512,lHe(f,i));var p=(((e||{}).Workbook||{}).WBProps||{}).date1904;l&&(a["!links"]=[]);for(var g=f.s.c;g<=f.e.c;++g)d[g]=fs(g);for(var v=[],y=[],x=f.s.r;x<=f.e.r;++x)for(u&&(y=a["!data"][x]||[]),h=bs(x),g=f.s.c;g<=f.e.c;++g){c=d[g]+h;var b=u?y[g]:a[c];b&&(MYe(r,b,x,g,i,p),l&&b.l&&a["!links"].push([c,b.l]),b.c&&v.push([b.c,x,g]))}var w=o.CodeName||o.name||n;return l?_Ye(r,v):hae(r,v),l&&Yt(r,574,tHe((s.Views||[])[0])),l&&(a["!merges"]||[]).length&&Yt(r,229,pHe(a["!merges"])),l&&EYe(r,a),Yt(r,442,Hse(w,i)),l&&SYe(r,a),Yt(r,10),r.end()}function DYe(t,i,e){var r=ql(),n=(t||{}).Workbook||{},a=n.Sheets||[],s=n.WBProps||{},o=e.biff==8,u=e.biff==5;if(Yt(r,2057,$6(t,5,e)),e.bookType=="xla"&&Yt(r,135),Yt(r,225,o?jd(1200):null),Yt(r,193,HUe(2)),u&&Yt(r,191),u&&Yt(r,192),Yt(r,226),Yt(r,92,ZUe("SheetJS",e)),Yt(r,66,jd(o?1200:1252)),o&&Yt(r,353,jd(0)),o&&Yt(r,448),Yt(r,317,bHe(t.SheetNames.length)),o&&t.vbaraw&&Yt(r,211),o&&t.vbaraw){var l=s.CodeName||"ThisWorkbook";Yt(r,442,Hse(l,e))}Yt(r,156,jd(17)),Yt(r,25,Zl(!1)),Yt(r,18,Zl(!1)),Yt(r,19,jd(0)),o&&Yt(r,431,Zl(!1)),o&&Yt(r,444,jd(0)),Yt(r,61,eHe(e)),Yt(r,64,Zl(!1)),Yt(r,141,jd(0)),Yt(r,34,Zl(OXe(t)=="true")),Yt(r,14,Zl(!0)),o&&Yt(r,439,Zl(!1)),Yt(r,218,jd(0)),wYe(r,t,e),CYe(r,t.SSF,e),TYe(r,e),o&&Yt(r,352,Zl(!1));var c=r.end(),h=ql();o&&Yt(h,140,vHe()),o&&Gd.length&&Yt(h,235,bYe()),o&&e.Strings&&mYe(h,252,qUe(e.Strings,e)),Yt(h,10);var d=h.end(),f=ql(),m=0,p=0;for(p=0;p<t.SheetNames.length;++p)m+=(o?12:11)+(o?2:1)*t.SheetNames[p].length;var g=c.length+m+d.length;for(p=0;p<t.SheetNames.length;++p){var v=a[p]||{};Yt(f,133,JUe({pos:g,hs:v.Hidden||0,dt:0,name:t.SheetNames[p]},e)),g+=i[p].length}var y=f.end();if(m!=y.length)throw new Error("BS8 "+m+" != "+y.length);var x=[];return c.length&&x.push(c),y.length&&x.push(y),d.length&&x.push(d),ro(x)}function PYe(t,i){var e=i||{},r=[];t&&!t.SSF&&(t.SSF=tc(Ks)),t&&t.SSF&&(TD(),SD(t.SSF),e.revssf=ED(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),Lh=1,Gd=[],e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,J6(e),e.cellXfs=[],L0(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var n=0;n<t.SheetNames.length;++n)r[r.length]=IYe(n,e,t);return r.unshift(DYe(t,r,e)),ro(r)}function fae(t,i){for(var e=0;e<=t.SheetNames.length;++e){var r=t.Sheets[t.SheetNames[e]];if(!(!r||!r["!ref"])){var n=yl(r["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[e]+"' extends beyond column IV (255).  Data may be lost.")}}var a=i||{};switch(a.biff||2){case 8:case 5:return PYe(t,i);case 4:case 3:case 2:return xYe(t,i)}throw new Error("invalid type "+a.bookType+" for BIFF")}function RYe(t,i,e,r){for(var n=t["!merges"]||[],a=[],s={},o=t["!data"]!=null,u=i.s.c;u<=i.e.c;++u){for(var l=0,c=0,h=0;h<n.length;++h)if(!(n[h].s.r>e||n[h].s.c>u)&&!(n[h].e.r<e||n[h].e.c<u)){if(n[h].s.r<e||n[h].s.c<u){l=-1;break}l=n[h].e.r-n[h].s.r+1,c=n[h].e.c-n[h].s.c+1;break}if(!(l<0)){var d=fs(u)+bs(e),f=o?(t["!data"][e]||[])[u]:t[d],m=f&&f.v!=null&&(f.h||c6(f.w||(am(f),f.w)||""))||"";s={},l>1&&(s.rowspan=l),c>1&&(s.colspan=c),r.editable?m='<span contenteditable="true">'+m+"</span>":f&&(s["data-t"]=f&&f.t||"z",f.v!=null&&(s["data-v"]=c6(f.v instanceof Date?f.v.toISOString():f.v)),f.z!=null&&(s["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+c6(f.l.Target)+'">'+m+"</a>")),s.id=(r.id||"sjs")+"-"+d,a.push(ci("td",m,s))}}var p="<tr>";return p+a.join("")+"</tr>"}var kYe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',FYe="</body></html>";function OYe(t,i,e){var r=[];return r.join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}function pae(t,i){var e=i||{},r=e.header!=null?e.header:kYe,n=e.footer!=null?e.footer:FYe,a=[r],s=yl(t["!ref"]||"A1");if(a.push(OYe(t,s,e)),t["!ref"])for(var o=s.s.r;o<=s.e.r;++o)a.push(RYe(t,s,o,e));return a.push("</table>"+n),a.join("")}function mae(t,i,e){var r=i.rows;if(!r)throw"Unsupported origin when "+i.tagName+" is not a TABLE";var n=e||{},a=t["!data"]!=null,s=0,o=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var u=typeof n.origin=="string"?oa(n.origin):n.origin;s=u.r,o=u.c}var l=Math.min(n.sheetRows||1e7,r.length),c={s:{r:0,c:0},e:{r:s,c:o}};if(t["!ref"]){var h=yl(t["!ref"]);c.s.r=Math.min(c.s.r,h.s.r),c.s.c=Math.min(c.s.c,h.s.c),c.e.r=Math.max(c.e.r,h.e.r),c.e.c=Math.max(c.e.c,h.e.c),s==-1&&(c.e.r=s=h.e.r+1)}var d=[],f=0,m=t["!rows"]||(t["!rows"]=[]),p=0,g=0,v=0,y=0,x=0,b=0;for(t["!cols"]||(t["!cols"]=[]);p<r.length&&g<l;++p){var w=r[p];if(Jre(w)){if(n.display)continue;m[g]={hidden:!0}}var C=w.cells;for(v=y=0;v<C.length;++v){var _=C[v];if(!(n.display&&Jre(_))){var S=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):Zze(_.innerHTML),T=_.getAttribute("data-z")||_.getAttribute("z");for(f=0;f<d.length;++f){var A=d[f];A.s.c==y+o&&A.s.r<g+s&&g+s<=A.e.r&&(y=A.e.c+1-o,f=-1)}b=+_.getAttribute("colspan")||1,((x=+_.getAttribute("rowspan")||1)>1||b>1)&&d.push({s:{r:g+s,c:y+o},e:{r:g+s+(x||1)-1,c:y+o+(b||1)-1}});var M={t:"s",v:S},I=_.getAttribute("data-t")||_.getAttribute("t")||"";S!=null&&(S.length==0?M.t=I||"z":n.raw||S.trim().length==0||I=="s"||(S==="TRUE"?M={t:"b",v:!0}:S==="FALSE"?M={t:"b",v:!1}:isNaN(nm(S))?isNaN(dD(S).getDate())||(M={t:"d",v:pu(S)},n.UTC&&(M.v=AD(M.v)),n.cellDates||(M={t:"n",v:xl(M.v)}),M.z=n.dateNF||Ks[14]):M={t:"n",v:nm(S)})),M.z===void 0&&T!=null&&(M.z=T);var D="",k=_.getElementsByTagName("A");if(k&&k.length)for(var G=0;G<k.length&&!(k[G].hasAttribute("href")&&(D=k[G].getAttribute("href"),D.charAt(0)!="#"));++G);D&&D.charAt(0)!="#"&&D.slice(0,11).toLowerCase()!="javascript:"&&(M.l={Target:D}),a?(t["!data"][g+s]||(t["!data"][g+s]=[]),t["!data"][g+s][y+o]=M):t[ya({c:y+o,r:g+s})]=M,c.e.c<y+o&&(c.e.c=y+o),y+=b}}++g}return d.length&&(t["!merges"]=(t["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,g-1+s),t["!ref"]=ao(c),g>=l&&(t["!fullref"]=ao((c.e.r=r.length-p+g-1+s,c))),t}function gae(t,i){var e=i||{},r={};return e.dense&&(r["!data"]=[]),mae(r,t,i)}function LYe(t,i){var e=Yx(gae(t,i),i);return e}function Jre(t){var i="",e=NYe(t);return e&&(i=e(t).getPropertyValue("display")),i||(i=t.style&&t.style.display),i==="none"}function NYe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var BYe=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),i="<office:document-styles "+T2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return oo+i}}();function VYe(t,i){var e="number",r="",n={"style:name":i},a="",s=0;t=t.replace(/"[$]"/g,"$");e:{if(t.indexOf(";")>-1&&(console.error("Unsupported ODS Style Map exported.  Using first branch of "+t),t=t.slice(0,t.indexOf(";"))),t=="@"){e="text",r="<number:text-content/>";break e}if(t.indexOf(/\$/)>-1&&(e="currency"),t[s]=='"'){for(a="";t[++s]!='"'||t[++s]=='"';)a+=t[s];--s,t[s+1]=="*"?(s++,r+="<number:fill-character>"+Xn(a.replace(/""/g,'"'))+"</number:fill-character>"):r+="<number:text>"+Xn(a.replace(/""/g,'"'))+"</number:text>",t=t.slice(s+1),s=0}var o=t.match(/# (\?+)\/(\?+)/);if(o){r+=ci("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":o[1].length,"number:max-denominator-value":Math.max(+o[1].replace(/./g,"9"),+o[2].replace(/./g,"9"))});break e}if(o=t.match(/# (\?+)\/(\d+)/)){r+=ci("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":o[1].length,"number:denominator-value":+o[2]});break e}if(o=t.match(/\b(\d+)(|\.\d+)%/)){e="percentage",r+=ci("number:number",null,{"number:decimal-places":o[2]&&o.length-1||0,"number:min-decimal-places":o[2]&&o.length-1||0,"number:min-integer-digits":o[1].length})+"<number:text>%</number:text>";break e}var u=!1;if(["y","m","d"].indexOf(t[0])>-1){e="date";t:for(;s<t.length;++s)switch(a=t[s].toLowerCase()){case"h":case"s":u=!0,--s;break t;case"m":i:for(var l=s+1;l<t.length;++l)switch(t[l]){case"y":case"d":break i;case"h":case"s":u=!0,--s;break t}case"y":case"d":for(;(t[++s]||"").toLowerCase()==a[0];)a+=a[0];switch(--s,a){case"y":case"yy":r+="<number:year/>";break;case"yyy":case"yyyy":r+='<number:year number:style="long"/>';break;case"mmmmm":console.error("ODS has no equivalent of format |mmmmm|");case"m":case"mm":case"mmm":case"mmmm":r+='<number:month number:style="'+(a.length%2?"short":"long")+'" number:textual="'+(a.length>=3?"true":"false")+'"/>';break;case"d":case"dd":r+='<number:day number:style="'+(a.length%2?"short":"long")+'"/>';break;case"ddd":case"dddd":r+='<number:day-of-week number:style="'+(a.length%2?"short":"long")+'"/>';break}break;case'"':for(;t[++s]!='"'||t[++s]=='"';)a+=t[s];--s,r+="<number:text>"+Xn(a.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"\\":a=t[++s],r+="<number:text>"+Xn(a)+"</number:text>";break;case"/":case":":r+="<number:text>"+Xn(a)+"</number:text>";break;default:console.error("unrecognized character "+a+" in ODF format "+t)}if(!u)break e;t=t.slice(s+1),s=0}if(t.match(/^\[?[hms]/)){for(e=="number"&&(e="time"),t.match(/\[/)&&(t=t.replace(/[\[\]]/g,""),n["number:truncate-on-overflow"]="false");s<t.length;++s)switch(a=t[s].toLowerCase()){case"h":case"m":case"s":for(;(t[++s]||"").toLowerCase()==a[0];)a+=a[0];switch(--s,a){case"h":case"hh":r+='<number:hours number:style="'+(a.length%2?"short":"long")+'"/>';break;case"m":case"mm":r+='<number:minutes number:style="'+(a.length%2?"short":"long")+'"/>';break;case"s":case"ss":if(t[s+1]==".")do a+=t[s+1],++s;while(t[s+1]=="0");r+='<number:seconds number:style="'+(a.match("ss")?"long":"short")+'"'+(a.match(/\./)?' number:decimal-places="'+(a.match(/0+/)||[""])[0].length+'"':"")+"/>";break}break;case'"':for(;t[++s]!='"'||t[++s]=='"';)a+=t[s];--s,r+="<number:text>"+Xn(a.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"/":case":":r+="<number:text>"+Xn(a)+"</number:text>";break;case"a":if(t.slice(s,s+3).toLowerCase()=="a/p"){r+="<number:am-pm/>",s+=2;break}if(t.slice(s,s+5).toLowerCase()=="am/pm"){r+="<number:am-pm/>",s+=4;break}default:console.error("unrecognized character "+a+" in ODF format "+t)}break e}if(t.indexOf(/\$/)>-1&&(e="currency"),t[0]=="$"&&(r+='<number:currency-symbol number:language="en" number:country="US">$</number:currency-symbol>',t=t.slice(1),s=0),s=0,t[s]=='"'){for(;t[++s]!='"'||t[++s]=='"';)a+=t[s];--s,t[s+1]=="*"?(s++,r+="<number:fill-character>"+Xn(a.replace(/""/g,'"'))+"</number:fill-character>"):r+="<number:text>"+Xn(a.replace(/""/g,'"'))+"</number:text>",t=t.slice(s+1),s=0}var c=t.match(/([#0][0#,]*)(\.[0#]*|)(E[+]?0*|)/i);if(!c||!c[0])console.error("Could not find numeric part of "+t);else{var h=c[1].replace(/,/g,"");r+="<number:"+(c[3]?"scientific-":"")+'number number:min-integer-digits="'+(h.indexOf("0")==-1?"0":h.length-h.indexOf("0"))+'"'+(c[0].indexOf(",")>-1?' number:grouping="true"':"")+(c[2]&&' number:decimal-places="'+(c[2].length-1)+'"'||' number:decimal-places="0"')+(c[3]&&c[3].indexOf("+")>-1?' number:forced-exponent-sign="true"':"")+(c[3]?' number:min-exponent-digits="'+c[3].match(/0+/)[0].length+'"':"")+"></number:"+(c[3]?"scientific-":"")+"number>",s=c.index+c[0].length}if(t[s]=='"'){for(a="";t[++s]!='"'||t[++s]=='"';)a+=t[s];--s,r+="<number:text>"+Xn(a.replace(/""/g,'"'))+"</number:text>"}}return r?ci("number:"+e+"-style",r,n):(console.error("Could not generate ODS number format for |"+t+"|"),"")}function qre(t,i,e){for(var r=[],n=0;n<t.length;++n){var a=t[n];a&&a.Sheet==(e==-1?null:e)&&r.push(a)}return r.length?`      <table:named-expressions>
`+r.map(function(s){var o=(e==-1?"$":"")+oae(s.Ref);return"        "+ci("table:named-range",null,{"table:name":s.Name,"table:cell-range-address":o,"table:base-cell-address":o.replace(/[\.][^\.]*$/,".$A$1")})}).join(`
`)+`
      </table:named-expressions>
`:""}var ese=function(){var t=function(n,a){return Xn(n).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,a?"<text:line-break/>":"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},i=`          <table:table-cell />
`,e=function(n,a,s,o,u,l){var c=[];c.push('      <table:table table:name="'+Xn(a.SheetNames[s])+`" table:style-name="ta1">
`);var h=0,d=0,f=yl(n["!ref"]||"A1"),m=n["!merges"]||[],p=0,g=n["!data"]!=null;if(n["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(n["!cols"][d]?' table:style-name="co'+n["!cols"][d].ods+'"':"")+`></table:table-column>
`);var v="",y=n["!rows"]||[];for(h=0;h<f.s.r;++h)v=y[h]?' table:style-name="ro'+y[h].ods+'"':"",c.push("        <table:table-row"+v+`></table:table-row>
`);for(;h<=f.e.r;++h){for(v=y[h]?' table:style-name="ro'+y[h].ods+'"':"",c.push("        <table:table-row"+v+`>
`),d=0;d<f.s.c;++d)c.push(i);for(;d<=f.e.c;++d){var x=!1,b={},w="";for(p=0;p!=m.length;++p)if(!(m[p].s.c>d)&&!(m[p].s.r>h)&&!(m[p].e.c<d)&&!(m[p].e.r<h)){(m[p].s.c!=d||m[p].s.r!=h)&&(x=!0),b["table:number-columns-spanned"]=m[p].e.c-m[p].s.c+1,b["table:number-rows-spanned"]=m[p].e.r-m[p].s.r+1;break}if(x){c.push(`          <table:covered-table-cell/>
`);continue}var C=ya({r:h,c:d}),_=g?(n["!data"][h]||[])[d]:n[C];if(_&&_.f&&(b["table:formula"]=Xn(aWe(_.f)),_.F&&_.F.slice(0,C.length)==C)){var S=yl(_.F);b["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,b["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!_){c.push(i);continue}switch(_.t){case"b":w=_.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=_.v?"true":"false";break;case"n":w=_.w||String(_.v||0),b["office:value-type"]="float",b["office:value"]=_.v||0;break;case"s":case"str":w=_.v==null?"":_.v,b["office:value-type"]="string";break;case"d":w=_.w||pu(_.v,l).toISOString(),b["office:value-type"]="date",b["office:date-value"]=pu(_.v,l).toISOString(),b["table:style-name"]="ce1";break;default:c.push(i);continue}var T=t(w);if(_.l&&_.l.Target){var A=_.l.Target;A=A.charAt(0)=="#"?"#"+oae(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),T=ci("text:a",T,{"xlink:href":A.replace(/&/g,"&amp;")})}u[_.z]&&(b["table:style-name"]="ce"+u[_.z].slice(1));var M=ci("text:p",T,{});if(_.c){for(var I="",D="",k={},G=0;G<_.c.length;++G)!I&&_.c[G].a&&(I=_.c[G].a),D+="<text:p>"+t(_.c[G].t)+"</text:p>";_.c.hidden||(k["office:display"]=!0),M=ci("office:annotation",D,k)+M}c.push("          "+ci("table:table-cell",M,b)+`
`)}c.push(`        </table:table-row>
`)}return(a.Workbook||{}).Names&&c.push(qre(a.Workbook.Names,a.SheetNames,s)),c.push(`      </table:table>
`),c.join("")},r=function(n,a){n.push(` <office:automatic-styles>
`);var s=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var h=0;h<c["!cols"].length;++h)if(c["!cols"][h]){var d=c["!cols"][h];if(d.width==null&&d.wpx==null&&d.wch==null)continue;Q6(d),d.ods=s;var f=c["!cols"][h].wpx+"px";n.push('  <style:style style:name="co'+s+`" style:family="table-column">
`),n.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),n.push(`  </style:style>
`),++s}}});var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var h=0;h<c["!rows"].length;++h)if(c["!rows"][h]){c["!rows"][h].ods=o;var d=c["!rows"][h].hpx+"px";n.push('  <style:style style:name="ro'+o+`" style:family="table-row">
`),n.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),n.push(`  </style:style>
`),++o}}}),n.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),n.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),n.push(`  </style:style>
`),n.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),n.push(`   <number:month number:style="long"/>
`),n.push(`   <number:text>/</number:text>
`),n.push(`   <number:day number:style="long"/>
`),n.push(`   <number:text>/</number:text>
`),n.push(`   <number:year/>
`),n.push(`  </number:date-style>
`);var u={},l=69;return a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c){var h=c["!data"]!=null;if(c["!ref"])for(var d=yl(c["!ref"]),f=0;f<=d.e.r;++f)for(var m=0;m<=d.e.c;++m){var p=h?(c["!data"][f]||[])[m]:c[ya({r:f,c:m})];if(!(!p||!p.z||p.z.toLowerCase()=="general")&&!u[p.z]){var g=VYe(p.z,"N"+l);g&&(u[p.z]="N"+l,++l,n.push(g+`
`))}}}}),n.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),so(u).forEach(function(c){n.push('<style:style style:name="ce'+u[c].slice(1)+'" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="'+u[c]+`"/>
`)}),n.push(` </office:automatic-styles>
`),u};return function(a,s){var o=[oo],u=T2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),l=T2({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});s.bookType=="fods"?(o.push("<office:document"+u+l+`>
`),o.push(Fse().replace(/<office:document-meta[^<>]*?>/,"").replace(/<\/office:document-meta>/,"")+`
`)):o.push("<office:document-content"+u+`>
`);var c=r(o,a);o.push(`  <office:body>
`),o.push(`    <office:spreadsheet>
`),((a.Workbook||{}).WBProps||{}).date1904&&o.push(`      <table:calculation-settings table:case-sensitive="false" table:search-criteria-must-apply-to-whole-cell="true" table:use-wildcards="true" table:use-regular-expressions="false" table:automatic-find-labels="false">
        <table:null-date table:date-value="1904-01-01"/>
      </table:calculation-settings>
`);for(var h=0;h!=a.SheetNames.length;++h)o.push(e(a.Sheets[a.SheetNames[h]],a,h,s,c,((a.Workbook||{}).WBProps||{}).date1904));return(a.Workbook||{}).Names&&o.push(qre(a.Workbook.Names,a.SheetNames,-1)),o.push(`    </office:spreadsheet>
`),o.push(`  </office:body>
`),s.bookType=="fods"?o.push("</office:document>"):o.push("</office:document-content>"),o.join("")}}();function vae(t,i){if(i.bookType=="fods")return ese(t,i);var e=F6(),r="",n=[],a=[];return r="mimetype",Wn(e,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Wn(e,r,ese(t,i)),n.push([r,"text/xml"]),a.push([r,"ContentFile"]),r="styles.xml",Wn(e,r,BYe(t,i)),n.push([r,"text/xml"]),a.push([r,"StylesFile"]),r="meta.xml",Wn(e,r,oo+Fse()),n.push([r,"text/xml"]),a.push([r,"MetadataFile"]),r="manifest.rdf",Wn(e,r,NUe(a)),n.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Wn(e,r,OUe(n)),e}var Dc=function(){try{return typeof Uint8Array>"u"||typeof Uint8Array.prototype.subarray>"u"?"slice":typeof Buffer<"u"?typeof Buffer.prototype.subarray>"u"?"slice":(typeof Buffer.from=="function"?Buffer.from([72,62]):new Buffer([72,62]))instanceof Uint8Array?"subarray":"slice":"subarray"}catch{return"slice"}}();function yD(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function I2(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Nx(xv(t))}function Ac(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Ju(tm(t))}function O0(t){for(var i=0,e=0;e<t.length;++e)i+=t[e].length;var r=new Uint8Array(i),n=0;for(e=0;e<t.length;++e){var a=t[e],s=a.length;if(s<250)for(var o=0;o<s;++o)r[n++]=a[o];else r.set(a,n),n+=s}return r}function zYe(t,i,e){var r=Math.floor(e==0?0:Math.LOG10E*Math.log(Math.abs(e)))+6176-16,n=e/Math.pow(10,r-6176);t[i+15]|=r>>7,t[i+14]|=(r&127)<<1;for(var a=0;n>=1;++a,n/=256)t[i+a]=n&255;t[i+15]|=e>=0?0:128}function D2(t,i){var e=i.l,r=t[e]&127;e:if(t[e++]>=128&&(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128)||(r+=(t[e]&127)*Math.pow(2,28),++e,t[e++]<128)||(r+=(t[e]&127)*Math.pow(2,35),++e,t[e++]<128)||(r+=(t[e]&127)*Math.pow(2,42),++e,t[e++]<128)))break e;return i.l=e,r}function Gi(t){var i=new Uint8Array(7);i[0]=t&127;var e=1;e:if(t>127){if(i[e-1]|=128,i[e]=t>>7&127,++e,t<=16383||(i[e-1]|=128,i[e]=t>>14&127,++e,t<=2097151)||(i[e-1]|=128,i[e]=t>>21&127,++e,t<=268435455)||(i[e-1]|=128,i[e]=t/256>>>21&127,++e,t<=34359738367)||(i[e-1]|=128,i[e]=t/65536>>>21&127,++e,t<=4398046511103))break e;i[e-1]|=128,i[e]=t/16777216>>>21&127,++e}return i[Dc](0,e)}function yae(t){for(var i={l:0},e=[];i.l<t.length;)e.push(D2(t,i));return e}function xae(t){return O0(t.map(function(i){return Gi(i)}))}function td(t){var i=0,e=t[i]&127;return t[i++]<128||(e|=(t[i]&127)<<7,t[i++]<128)||(e|=(t[i]&127)<<14,t[i++]<128)||(e|=(t[i]&127)<<21,t[i++]<128)||(e|=(t[i]&15)<<28),e}function tn(t){for(var i=[],e={l:0};e.l<t.length;){var r=e.l,n=D2(t,e),a=n&7;n=n/8|0;var s,o=e.l;switch(a){case 0:{for(;t[o++]>=128;);s=t[Dc](e.l,o),e.l=o}break;case 1:s=t[Dc](o,o+8),e.l=o+8;break;case 2:{var u=D2(t,e);s=t[Dc](e.l,e.l+u),e.l+=u}break;case 5:s=t[Dc](o,o+4),e.l=o+4;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(n," at offset ").concat(r))}var l={data:s,type:a};i[n]==null&&(i[n]=[]),i[n].push(l)}return i}function $i(t){var i=[];return t.forEach(function(e,r){r!=0&&e.forEach(function(n){n.data&&(i.push(Gi(r*8+n.type)),n.type==2&&i.push(Gi(n.data.length)),i.push(n.data))})}),O0(i)}function xD(t,i){return t?.map(function(e){return i(e.data)})||[]}function bD(t){for(var i,e=[],r={l:0};r.l<t.length;){var n=D2(t,r),a=tn(t[Dc](r.l,r.l+n));r.l+=n;var s={id:td(a[1][0].data),messages:[]};a[2].forEach(function(o){var u=tn(o.data),l=td(u[3][0].data);s.messages.push({meta:u,data:t[Dc](r.l,r.l+l)}),r.l+=l}),(i=a[3])!=null&&i[0]&&(s.merge=td(a[3][0].data)>>>0>0),e.push(s)}return e}function zx(t){var i=[];return t.forEach(function(e){var r=[[],[{data:Gi(e.id),type:0}],[]];e.merge!=null&&(r[3]=[{data:Gi(+!!e.merge),type:0}]);var n=[];e.messages.forEach(function(s){n.push(s.data),s.meta[3]=[{type:0,data:Gi(s.data.length)}],r[2].push({data:$i(s.meta),type:2})});var a=$i(r);i.push(Gi(a.length)),i.push(a),n.forEach(function(s){return i.push(s)})}),O0(i)}function UYe(t,i){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var e={l:0},r=D2(i,e),n=[],a=e.l;a<i.length;){var s=i[a]&3;if(s==0){var o=i[a++]>>2;if(o<60)++o;else{var u=o-59;o=i[a],u>1&&(o|=i[a+1]<<8),u>2&&(o|=i[a+2]<<16),u>3&&(o|=i[a+3]<<24),o>>>=0,o++,a+=u}n.push(i[Dc](a,a+o)),a+=o;continue}else{var l=0,c=0;if(s==1?(c=(i[a]>>2&7)+4,l=(i[a++]&224)<<3,l|=i[a++]):(c=(i[a++]>>2)+1,s==2?(l=i[a]|i[a+1]<<8,a+=2):(l=(i[a]|i[a+1]<<8|i[a+2]<<16|i[a+3]<<24)>>>0,a+=4)),l==0)throw new Error("Invalid offset 0");for(var h=n.length-1,d=l;h>=0&&d>=n[h].length;)d-=n[h].length,--h;if(h<0)if(d==0)d=n[h=0].length;else throw new Error("Invalid offset beyond length");if(c<d)n.push(n[h][Dc](n[h].length-d,n[h].length-d+c));else{for(d>0&&(n.push(n[h][Dc](n[h].length-d)),c-=d),++h;c>=n[h].length;)n.push(n[h]),c-=n[h].length,++h;c&&n.push(n[h][Dc](0,c))}n.length>25&&(n=[O0(n)])}}for(var f=0,m=0;m<n.length;++m)f+=n[m].length;if(f!=r)throw new Error("Unexpected length: ".concat(f," != ").concat(r));return n}function _D(t){Array.isArray(t)&&(t=new Uint8Array(t));for(var i=[],e=0;e<t.length;){var r=t[e++],n=t[e]|t[e+1]<<8|t[e+2]<<16;e+=3,i.push.apply(i,UYe(r,t[Dc](e,e+n))),e+=n}if(e!==t.length)throw new Error("data is not a valid framed stream!");return i.length==1?i[0]:O0(i)}function Ux(t){for(var i=[],e=0;e<t.length;){var r=Math.min(t.length-e,268435455),n=new Uint8Array(4);i.push(n);var a=Gi(r),s=a.length;i.push(a),r<=60?(s++,i.push(new Uint8Array([r-1<<2]))):r<=256?(s+=2,i.push(new Uint8Array([240,r-1&255]))):r<=65536?(s+=3,i.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(s+=4,i.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(s+=5,i.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),i.push(t[Dc](e,e+r)),s+=r,n[0]=0,n[1]=s&255,n[2]=s>>8&255,n[3]=s>>16&255,e+=r}return O0(i)}function b6(t,i){var e=new Uint8Array(32),r=yD(e),n=12,a=0;switch(e[0]=5,t.t){case"n":if(t.z&&bv(t.z)){e[1]=5,r.setFloat64(n,(Lx(t.v+1462).getTime()-Date.UTC(2001,0,1))/1e3,!0),a|=4,n+=8;break}else e[1]=2,zYe(e,n,t.v),a|=1,n+=16;break;case"b":e[1]=6,r.setFloat64(n,t.v?1:0,!0),a|=2,n+=8;break;case"s":{var s=t.v==null?"":String(t.v);if(t.l){var o=i.rsst.findIndex(function(l){var c;return l.v==s&&l.l==((c=t.l)==null?void 0:c.Target)});o==-1&&(i.rsst[o=i.rsst.length]={v:s,l:t.l.Target}),e[1]=9,r.setUint32(n,o,!0),a|=16,n+=4}else{var u=i.sst.indexOf(s);u==-1&&(i.sst[u=i.sst.length]=s),e[1]=3,r.setUint32(n,u,!0),a|=8,n+=4}}break;case"d":e[1]=5,r.setFloat64(n,(t.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),a|=4,n+=8;break;case"z":e[1]=0;break;default:throw"unsupported cell type "+t.t}return t.c&&(i.cmnt.push(HYe(t.c)),r.setUint32(n,i.cmnt.length-1,!0),a|=524288,n+=4),r.setUint32(8,a,!0),e[Dc](0,n)}function _6(t,i){var e=new Uint8Array(32),r=yD(e),n=12,a=0,s="";switch(e[0]=4,t.t){case"n":break;case"b":break;case"s":if(s=t.v==null?"":String(t.v),t.l){var o=i.rsst.findIndex(function(l){var c;return l.v==s&&l.l==((c=t.l)==null?void 0:c.Target)});o==-1&&(i.rsst[o=i.rsst.length]={v:s,l:t.l.Target}),e[1]=9,r.setUint32(n,o,!0),a|=512,n+=4}break;case"d":break;case"e":break;case"z":break;default:throw"unsupported cell type "+t.t}switch(t.c&&(r.setUint32(n,i.cmnt.length-1,!0),a|=4096,n+=4),t.t){case"n":e[1]=2,r.setFloat64(n,t.v,!0),a|=32,n+=8;break;case"b":e[1]=6,r.setFloat64(n,t.v?1:0,!0),a|=32,n+=8;break;case"s":if(s=t.v==null?"":String(t.v),!t.l){var u=i.sst.indexOf(s);u==-1&&(i.sst[u=i.sst.length]=s),e[1]=3,r.setUint32(n,u,!0),a|=16,n+=4}break;case"d":e[1]=5,r.setFloat64(n,(t.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),a|=64,n+=8;break;case"z":e[1]=0;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,a,!0),e[Dc](0,n)}function no(t){var i=tn(t);return td(i[1][0].data)}function Kl(t){return $i([[],[{type:0,data:Gi(t)}]])}function Ql(t,i){var e,r=(e=t.messages[0].meta[5])!=null&&e[0]?yae(t.messages[0].meta[5][0].data):[],n=r.indexOf(i);n==-1&&(r.push(i),t.messages[0].meta[5]=[{type:2,data:xae(r)}])}function em(t,i){var e,r=(e=t.messages[0].meta[5])!=null&&e[0]?yae(t.messages[0].meta[5][0].data):[];t.messages[0].meta[5]=[{type:2,data:xae(r.filter(function(n){return n!=i}))}]}function HYe(t){for(var i={a:"",t:"",replies:[]},e=0;e<t.length;++e)e==0?(i.a=t[e].a,i.t=t[e].t):i.replies.push({a:t[e].a,t:t[e].t});return i}function GYe(t,i,e){var r,n,a,s=[[],[{type:0,data:Gi(0)}],[{type:0,data:Gi(0)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:Gi(5)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:Gi(1)}]];if(!((r=s[6])!=null&&r[0])||!((n=s[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=0;if(s[7][0].data.length<2*t.length){var u=new Uint8Array(2*t.length);u.set(s[7][0].data),s[7][0].data=u}if(s[4][0].data.length<2*t.length){var l=new Uint8Array(2*t.length);l.set(s[4][0].data),s[4][0].data=l}for(var c=yD(s[7][0].data),h=0,d=[],f=yD(s[4][0].data),m=0,p=[],g=e?4:1,v=0;v<t.length;++v){if(t[v]==null||t[v].t=="z"&&!((a=t[v].c)!=null&&a.length)||t[v].t=="e"){c.setUint16(v*2,65535,!0),f.setUint16(v*2,65535);continue}c.setUint16(v*2,h/g,!0),f.setUint16(v*2,m/g,!0);var y,x;switch(t[v].t){case"d":if(t[v].v instanceof Date){y=b6(t[v],i),x=_6(t[v],i);break}y=b6(t[v],i),x=_6(t[v],i);break;case"s":case"n":case"b":case"z":y=b6(t[v],i),x=_6(t[v],i);break;default:throw new Error("Unsupported value "+t[v])}d.push(y),h+=y.length,p.push(x),m+=x.length,++o}for(s[2][0].data=Gi(o),s[5][0].data=Gi(5);v<s[7][0].data.length/2;++v)c.setUint16(v*2,65535,!0),f.setUint16(v*2,65535,!0);return s[6][0].data=O0(d),s[3][0].data=O0(p),s[8]=[{type:0,data:Gi(e?1:0)}],s}function A6(t,i){return{meta:[[],[{type:0,data:Gi(t)}]],data:i}}function $f(t,i){i.last||(i.last=927262);for(var e=i.last;e<2e6;++e)if(!i[e])return i[i.last=e]=t,e;throw new Error("Too many messages")}function jYe(t){var i={},e=[];return t.FileIndex.map(function(r,n){return[r,t.FullPaths[n]]}).forEach(function(r){var n=r[0],a=r[1];n.type==2&&n.name.match(/\.iwa/)&&n.content[0]==0&&bD(_D(n.content)).forEach(function(s){e.push(s.id),i[s.id]={deps:[],location:a,type:td(s.messages[0].meta[1][0].data)}})}),t.FileIndex.forEach(function(r){r.name.match(/\.iwa/)&&r.content[0]==0&&bD(_D(r.content)).forEach(function(n){n.messages.forEach(function(a){[5,6].forEach(function(s){a.meta[s]&&a.meta[s].forEach(function(o){i[n.id].deps.push(td(o.data))})})})})}),i}function nD(t,i,e){return $i([[],[{type:0,data:Gi(1)}],[],[{type:5,data:new Uint8Array(Float32Array.from([t/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([i/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([e/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([1]).buffer)}],[],[],[],[],[],[{type:0,data:Gi(1)}]])}function tse(t){switch(t){case 0:return nD(99,222,171);case 1:return nD(162,197,240);case 2:return nD(255,189,189)}return nD(Math.random()*255,Math.random()*255,Math.random()*255)}function WYe(t,i){if(!i||!i.numbers)throw new Error("Must pass a `numbers` option -- check the README");var e=Fs.read(i.numbers,{type:"base64"}),r=jYe(e),n=Qf(e,r,1);if(n==null)throw"Could not find message ".concat(1," in Numbers template");var a=xD(tn(n.messages[0].data)[1],no);if(a.length>1)throw new Error("Template NUMBERS file must have exactly one sheet");return t.SheetNames.forEach(function(s,o){o>=1&&(YYe(e,r,o+1),n=Qf(e,r,1),a=xD(tn(n.messages[0].data)[1],no)),$Ye(e,r,t.Sheets[s],s,o,a[o])}),e}function hs(t,i,e,r){var n=Fs.find(t,i[e].location);if(!n)throw"Could not find ".concat(i[e].location," in Numbers template");var a=bD(_D(n.content)),s=a.find(function(o){return o.id==e});r(s,a),n.content=Ux(zx(a)),n.size=n.content.length}function Qf(t,i,e){var r=Fs.find(t,i[e].location);if(!r)throw"Could not find ".concat(i[e].location," in Numbers template");var n=bD(_D(r.content)),a=n.find(function(s){return s.id==e});return a}function M6(t,i,e){t[3].push({type:2,data:$i([[],[{type:0,data:Gi(i)}],[{type:2,data:Ac(e.replace(/-[\s\S]*$/,""))}],[{type:2,data:Ac(e)}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Gi(0)}],[],[{type:0,data:Gi(0)}]])}),t[1]=[{type:0,data:Gi(Math.max(i+1,td(t[1][0].data)))}]}function mv(t,i,e,r,n,a){a||(a=$f({deps:[],location:"",type:i},n));var s="".concat(r,"-").concat(a,".iwa");n[a].location="Root Entry"+s,Fs.utils.cfb_add(t,s,Ux(zx([{id:a,messages:[A6(i,$i(e))]}])));var o=s.replace(/^[\/]/,"").replace(/^Index\//,"").replace(/\.iwa$/,"");return hs(t,n,2,function(u){var l=tn(u.messages[0].data);M6(l,a||0,o),u.messages[0].data=$i(l)}),a}function fu(t,i,e,r){var n=i[e].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),a=t[3].findIndex(function(o){var u,l,c=tn(o.data);return(u=c[3])!=null&&u[0]?I2(c[3][0].data)==n:!!((l=c[2])!=null&&l[0]&&I2(c[2][0].data)==n)}),s=tn(t[3][a].data);s[6]||(s[6]=[]),(Array.isArray(r)?r:[r]).forEach(function(o){s[6].push({type:2,data:$i([[],[{type:0,data:Gi(o)}]])})}),t[3][a].data=$i(s)}function XYe(t,i,e,r){var n=i[e].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),a=t[3].findIndex(function(o){var u,l,c=tn(o.data);return(u=c[3])!=null&&u[0]?I2(c[3][0].data)==n:!!((l=c[2])!=null&&l[0]&&I2(c[2][0].data)==n)}),s=tn(t[3][a].data);s[6]||(s[6]=[]),s[6]=s[6].filter(function(o){return td(tn(o.data)[1][0].data)!=r}),t[3][a].data=$i(s)}function YYe(t,i,e){var r=-1,n=-1,a={};hs(t,i,1,function(u,l){var c=tn(u.messages[0].data);r=no(tn(u.messages[0].data)[1][0].data),n=$f({deps:[1],location:i[r].location,type:2},i),a[r]=n,Ql(u,n),c[1].push({type:2,data:Kl(n)});var h=Qf(t,i,r);h.id=n,i[1].location==i[n].location?l.push(h):hs(t,i,n,function(d,f){return f.push(h)}),u.messages[0].data=$i(c)});var s=-1;hs(t,i,n,function(u,l){for(var c=tn(u.messages[0].data),h=3;h<=69;++h)delete c[h];var d=xD(c[2],no);d.forEach(function(m){return em(u,m)}),s=$f({deps:[n],location:i[d[0]].location,type:i[d[0]].type},i),Ql(u,s),a[d[0]]=s,c[2]=[{type:2,data:Kl(s)}];var f=Qf(t,i,d[0]);f.id=s,i[d[0]].location==i[n].location?l.push(f):(hs(t,i,2,function(m){var p=tn(m.messages[0].data);fu(p,i,n,s),m.messages[0].data=$i(p)}),hs(t,i,s,function(m,p){return p.push(f)})),u.messages[0].data=$i(c)});var o=-1;hs(t,i,s,function(u,l){for(var c=tn(u.messages[0].data),h=tn(c[1][0].data),d=3;d<=69;++d)delete h[d];var f=no(h[2][0].data);h[2][0].data=Kl(a[f]),c[1][0].data=$i(h);var m=no(c[2][0].data);em(u,m),o=$f({deps:[s],location:i[m].location,type:i[m].type},i),Ql(u,o),a[m]=o,c[2][0].data=Kl(o);var p=Qf(t,i,m);p.id=o,i[s].location==i[o].location?l.push(p):hs(t,i,o,function(g,v){return v.push(p)}),u.messages[0].data=$i(c)}),hs(t,i,o,function(u,l){var c,h,d=tn(u.messages[0].data),f=I2(d[1][0].data),m=f.replace(/-[A-Z0-9]*/,"-".concat(("0000"+e.toString(16)).slice(-4)));if(d[1][0].data=Ac(m),[12,13,29,31,32,33,39,44,47,81,82,84].forEach(function(w){return delete d[w]}),d[45]){var p=tn(d[45][0].data),g=no(p[1][0].data);em(u,g),delete d[45]}if(d[70]){var v=tn(d[70][0].data);(c=v[2])==null||c.forEach(function(w){var C=tn(w.data);[2,3].map(function(_){return C[_][0]}).forEach(function(_){var S=tn(_.data);if(S[8]){var T=no(S[8][0].data);em(u,T)}})}),delete d[70]}[46,30,34,35,36,38,48,49,60,61,62,63,64,71,72,73,74,75,85,86,87,88,89].forEach(function(w){if(d[w]){var C=no(d[w][0].data);delete d[w],em(u,C)}});var y=tn(d[4][0].data);{[2,4,5,6,11,12,13,15,16,17,18,19,20,21,22].forEach(function(w){var C;if((C=y[w])!=null&&C[0]){var _=no(y[w][0].data),S=$f({deps:[o],location:i[_].location,type:i[_].type},i);em(u,_),Ql(u,S),a[_]=S;var T=Qf(t,i,_);if(T.id=S,i[_].location==i[o].location)l.push(T);else{i[S].location=i[_].location.replace(_.toString(),S.toString()),i[S].location==i[_].location&&(i[S].location=i[S].location.replace(/\.iwa/,"-".concat(S,".iwa"))),Fs.utils.cfb_add(t,i[S].location,Ux(zx([T])));var A=i[S].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");hs(t,i,2,function(M){var I=tn(M.messages[0].data);M6(I,S,A),fu(I,i,o,S),M.messages[0].data=$i(I)})}y[w][0].data=Kl(S)}});var x=tn(y[1][0].data);(h=x[2])==null||h.forEach(function(w){var C=no(w.data),_=$f({deps:[o],location:i[C].location,type:i[C].type},i);em(u,C),Ql(u,_),a[C]=_;var S=Qf(t,i,C);if(S.id=_,i[C].location==i[o].location)l.push(S);else{i[_].location=i[C].location.replace(C.toString(),_.toString()),i[_].location==i[C].location&&(i[_].location=i[_].location.replace(/\.iwa/,"-".concat(_,".iwa"))),Fs.utils.cfb_add(t,i[_].location,Ux(zx([S])));var T=i[_].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");hs(t,i,2,function(A){var M=tn(A.messages[0].data);M6(M,_,T),fu(M,i,o,_),A.messages[0].data=$i(M)})}w.data=Kl(_)}),y[1][0].data=$i(x);var b=tn(y[3][0].data);b[1].forEach(function(w){var C=tn(w.data),_=no(C[2][0].data),S=a[_];if(!a[_]){S=$f({deps:[o],location:"",type:i[_].type},i),i[S].location="Root Entry/Index/Tables/Tile-".concat(S,".iwa"),a[_]=S;var T=Qf(t,i,_);T.id=S,em(u,_),Ql(u,S),Fs.utils.cfb_add(t,"/Index/Tables/Tile-".concat(S,".iwa"),Ux(zx([T]))),hs(t,i,2,function(A){var M=tn(A.messages[0].data);M[3].push({type:2,data:$i([[],[{type:0,data:Gi(S)}],[{type:2,data:Ac("Tables/Tile")}],[{type:2,data:Ac("Tables/Tile-".concat(S))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Gi(0)}],[],[{type:0,data:Gi(0)}]])}),M[1]=[{type:0,data:Gi(Math.max(S+1,td(M[1][0].data)))}],fu(M,i,o,S),A.messages[0].data=$i(M)})}C[2][0].data=Kl(S),w.data=$i(C)}),y[3][0].data=$i(b)}d[4][0].data=$i(y),u.messages[0].data=$i(d)})}function $Ye(t,i,e,r,n,a){var s=[];hs(t,i,a,function(l){var c=tn(l.messages[0].data);c[1]=[{type:2,data:Ac(r)}],s=xD(c[2],no),l.messages[0].data=$i(c)});var o=Qf(t,i,s[0]),u=no(tn(o.messages[0].data)[2][0].data);hs(t,i,u,function(l,c){return QYe(t,i,e,l,c,u)})}var ise=!0;function QYe(t,i,e,r,n,a){if(!e["!ref"])throw new Error("Cannot export empty sheet to NUMBERS");var s=yl(e["!ref"]);s.s.r=s.s.c=0;var o=!1;s.e.c>999&&(o=!0,s.e.c=999),s.e.r>999999&&(o=!0,s.e.r=999999),o&&console.error("Truncating to ".concat(ao(s)));var u=[];if(e["!data"])u=e["!data"];else{for(var l=[],c=0;c<=s.e.c;++c)l[c]=fs(c);for(var h=0;h<=s.e.r;++h){u[h]=[];var d=""+(h+1);for(c=0;c<=s.e.c;++c){var f=e[l[c]+d];f&&(u[h][c]=f)}}}var m={cmnt:[{a:"~54ee77S~",t:"... the people who are crazy enough to think they can change the world, are the ones who do."}],ferr:[],fmla:[],nfmt:[],ofmt:[],rsst:[{v:"~54ee77S~",l:"https://sheetjs.com/"}],sst:["~Sh33tJ5~"]},p=tn(r.messages[0].data);{p[6][0].data=Gi(s.e.r+1),p[7][0].data=Gi(s.e.c+1),delete p[46];var g=tn(p[4][0].data);{var v=no(tn(g[1][0].data)[2][0].data);hs(t,i,v,function(V,O){var F,X=tn(V.messages[0].data);if((F=X?.[2])!=null&&F[0])for(var ie=0;ie<u.length;++ie){var re=tn(X[2][0].data);re[1][0].data=Gi(ie),re[4][0].data=Gi(u[ie].length),X[2][ie]={type:X[2][0].type,data:$i(re)}}V.messages[0].data=$i(X)});var y=no(g[2][0].data);hs(t,i,y,function(V,O){for(var F=tn(V.messages[0].data),X=0;X<=s.e.c;++X){var ie=tn(F[2][0].data);ie[1][0].data=Gi(X),ie[4][0].data=Gi(s.e.r+1),F[2][X]={type:F[2][0].type,data:$i(ie)}}V.messages[0].data=$i(F)});var x=tn(g[9][0].data);x[1]=[];var b=tn(g[3][0].data);{var w=256;b[2]=[{type:0,data:Gi(w)}];var C=no(tn(b[1][0].data)[2][0].data),_=function(){var V=Qf(t,i,2),O=tn(V.messages[0].data),F=O[3].filter(function(X){return td(tn(X.data)[1][0].data)==C});return F?.length?td(tn(F[0].data)[12][0].data):0}();Fs.utils.cfb_del(t,i[C].location),hs(t,i,2,function(V){var O=tn(V.messages[0].data);O[3]=O[3].filter(function(F){return td(tn(F.data)[1][0].data)!=C}),XYe(O,i,a,C),V.messages[0].data=$i(O)}),em(r,C),b[1]=[];for(var S=Math.ceil((s.e.r+1)/w),T=0;T<S;++T){var A=$f({deps:[],location:"",type:6002},i);i[A].location="Root Entry/Index/Tables/Tile-".concat(A,".iwa");for(var M=[[],[{type:0,data:Gi(0)}],[{type:0,data:Gi(Math.min(s.e.r+1,(T+1)*w))}],[{type:0,data:Gi(0)}],[{type:0,data:Gi(Math.min((T+1)*w,s.e.r+1)-T*w)}],[],[{type:0,data:Gi(5)}],[{type:0,data:Gi(1)}],[{type:0,data:Gi(ise?1:0)}]],I=T*w;I<=Math.min(s.e.r,(T+1)*w-1);++I){var D=GYe(u[I],m,ise);D[1][0].data=Gi(I-T*w),M[5].push({data:$i(D),type:2})}b[1].push({type:2,data:$i([[],[{type:0,data:Gi(T)}],[{type:2,data:Kl(A)}]])});var k={id:A,messages:[A6(6002,$i(M))]},G=Ux(zx([k]));Fs.utils.cfb_add(t,"/Index/Tables/Tile-".concat(A,".iwa"),G),hs(t,i,2,function(V){var O=tn(V.messages[0].data);O[3].push({type:2,data:$i([[],[{type:0,data:Gi(A)}],[{type:2,data:Ac("Tables/Tile")}],[{type:2,data:Ac("Tables/Tile-".concat(A))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Gi(0)}],[],[{type:0,data:Gi(_)}]])}),O[1]=[{type:0,data:Gi(Math.max(A+1,td(O[1][0].data)))}],fu(O,i,a,A),V.messages[0].data=$i(O)}),Ql(r,A),x[1].push({type:2,data:$i([[],[{type:0,data:Gi(T*w)}],[{type:0,data:Gi(T)}]])})}}if(g[3][0].data=$i(b),g[9][0].data=$i(x),g[10]=[{type:2,data:new Uint8Array([])}],e["!merges"]){var R=$f({type:6144,deps:[a],location:i[a].location},i);n.push({id:R,messages:[A6(6144,$i([[],e["!merges"].map(function(V){return{type:2,data:$i([[],[{type:2,data:$i([[],[{type:5,data:new Uint8Array(new Uint16Array([V.s.r,V.s.c]).buffer)}]])}],[{type:2,data:$i([[],[{type:5,data:new Uint8Array(new Uint16Array([V.e.r-V.s.r+1,V.e.c-V.s.c+1]).buffer)}]])}]])}})]))]}),g[13]=[{type:2,data:Kl(R)}],hs(t,i,2,function(V){var O=tn(V.messages[0].data);fu(O,i,a,R),V.messages[0].data=$i(O)}),Ql(r,R)}else delete g[13];var H=no(g[4][0].data);hs(t,i,H,function(V){var O=tn(V.messages[0].data);O[3]=[],m.sst.forEach(function(F,X){X!=0&&O[3].push({type:2,data:$i([[],[{type:0,data:Gi(X)}],[{type:0,data:Gi(1)}],[{type:2,data:Ac(F)}]])})}),V.messages[0].data=$i(O)});var j=no(g[17][0].data);if(hs(t,i,j,function(V){var O=tn(V.messages[0].data);O[3]=[];var F=[904980,903835,903815,903845];m.rsst.forEach(function(X,ie){if(ie!=0){var re=[[],[{type:0,data:new Uint8Array([5])}],[],[{type:2,data:Ac(X.v)}]];re[10]=[{type:0,data:new Uint8Array([1])}],re[19]=[{type:2,data:new Uint8Array([10,6,8,0,18,2,101,110])}],re[5]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,155,149,55])}],re[2]=[{type:2,data:new Uint8Array([8,148,158,55])}],re[6]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],re[7]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,135,149,55])}],re[8]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,165,149,55])}],re[14]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],re[24]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}];var q=$f({deps:[],location:"",type:2001},i),ae=[];if(X.l){var ue=mv(t,2032,[[],[],[{type:2,data:Ac(X.l)}]],"/Index/Tables/DataList",i);re[11]=[];var me=[[],[]];me[1]||(me[1]=[]),me[1].push({type:2,data:$i([[],[{type:0,data:Gi(0)}],[{type:2,data:Kl(ue)}]])}),re[11][0]={type:2,data:$i(me)},ae.push(ue)}mv(t,2001,re,"/Index/Tables/DataList",i,q),hs(t,i,q,function(ke){F.forEach(function(ze){return Ql(ke,ze)}),ae.forEach(function(ze){return Ql(ke,ze)})});var be=mv(t,6218,[[],[{type:2,data:Kl(q)}],[],[{type:2,data:new Uint8Array([13,255,255,255,0,18,10,16,255,255,1,24,255,255,255,255,7])}]],"/Index/Tables/DataList",i);hs(t,i,be,function(ke){return Ql(ke,q)}),O[3].push({type:2,data:$i([[],[{type:0,data:Gi(ie)}],[{type:0,data:Gi(1)}],[],[],[],[],[],[],[{type:2,data:Kl(be)}]])}),Ql(V,be),hs(t,i,2,function(ke){var ze=tn(ke.messages[0].data);fu(ze,i,j,be),fu(ze,i,be,q),fu(ze,i,q,ae),fu(ze,i,q,F),ke.messages[0].data=$i(ze)})}}),V.messages[0].data=$i(O)}),m.cmnt.length>1){var Z=no(g[19][0].data),ee={},Y=0;hs(t,i,Z,function(V){var O=tn(V.messages[0].data);O[3]=[],m.cmnt.forEach(function(F,X){if(X!=0){var ie=[];F.replies&&F.replies.forEach(function(ae){ee[ae.a||""]||(ee[ae.a||""]=mv(t,212,[[],[{type:2,data:Ac(ae.a||"")}],[{type:2,data:tse(++Y)}],[],[{type:0,data:Gi(0)}]],"/Index/Tables/DataList",i));var ue=ee[ae.a||""],me=mv(t,3056,[[],[{type:2,data:Ac(ae.t||"")}],[{type:2,data:$i([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:Kl(ue)}]],"/Index/Tables/DataList",i);hs(t,i,me,function(be){return Ql(be,ue)}),ie.push(me),hs(t,i,2,function(be){var ke=tn(be.messages[0].data);fu(ke,i,me,ue),be.messages[0].data=$i(ke)})}),ee[F.a||""]||(ee[F.a||""]=mv(t,212,[[],[{type:2,data:Ac(F.a||"")}],[{type:2,data:tse(++Y)}],[],[{type:0,data:Gi(0)}]],"/Index/Tables/DataList",i));var re=ee[F.a||""],q=mv(t,3056,[[],[{type:2,data:Ac(F.t||"")}],[{type:2,data:$i([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:Kl(re)}],ie.map(function(ae){return{type:2,data:Kl(ae)}}),[{type:2,data:$i([[],[{type:0,data:Gi(X)}],[{type:0,data:Gi(0)}]])}]],"/Index/Tables/DataList",i);hs(t,i,q,function(ae){Ql(ae,re),ie.forEach(function(ue){return Ql(ae,ue)})}),O[3].push({type:2,data:$i([[],[{type:0,data:Gi(X)}],[{type:0,data:Gi(1)}],[],[],[],[],[],[],[],[{type:2,data:Kl(q)}]])}),Ql(V,q),hs(t,i,2,function(ae){var ue=tn(ae.messages[0].data);fu(ue,i,Z,q),fu(ue,i,q,re),ie.length&&fu(ue,i,q,ie),ae.messages[0].data=$i(ue)})}}),O[2][0].data=Gi(m.cmnt.length+1),V.messages[0].data=$i(O)})}}p[4][0].data=$i(g)}r.messages[0].data=$i(p)}function KYe(t){return function(e){for(var r=0;r!=t.length;++r){var n=t[r];e[n[0]]===void 0&&(e[n[0]]=n[1]),n[2]==="n"&&(e[n[0]]=Number(e[n[0]]))}}}function J6(t){KYe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function ZYe(t,i){t&&!t.SSF&&(t.SSF=tc(Ks)),t&&t.SSF&&(TD(),SD(t.SSF),i.revssf=ED(t.SSF),i.revssf[t.SSF[65535]]=0,i.ssf=t.SSF),i.rels={},i.wbrels={},i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,_2?i.revStrings=new Map:(i.revStrings={},i.revStrings.foo=[],delete i.revStrings.foo);var e="bin",r=!0,n=Pse();J6(i=i||{});var a=F6(),s="",o=0;if(i.cellXfs=[],L0(i.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Wn(a,s,Ose(t.Props,i)),n.coreprops.push(s),Wr(i.rels,2,s,Sr.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],l=0;l<t.SheetNames.length;++l)(t.Workbook.Sheets[l]||{}).Hidden!=2&&u.push(t.SheetNames[l]);t.Props.SheetNames=u}t.Props.Worksheets=t.Props.SheetNames.length,Wn(a,s,Nse(t.Props,i)),n.extprops.push(s),Wr(i.rels,3,s,Sr.EXT_PROPS),t.Custprops!==t.Props&&so(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Wn(a,s,Bse(t.Custprops,i)),n.custprops.push(s),Wr(i.rels,4,s,Sr.CUST_PROPS));var c=["SheetJ5"];for(i.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],f=(d||{})["!type"]||"sheet";switch(f){case"chart":default:s="xl/worksheets/sheet"+o+"."+e,Wn(a,s,RXe(o-1,i,t,h)),n.sheets.push(s),Wr(i.wbrels,-1,"worksheets/sheet"+o+"."+e,Sr.WS[0])}if(d){var m=d["!comments"],p=!1,g="";if(m&&m.length>0){var v=!1;m.forEach(function(x){x[1].forEach(function(b){b.T==!0&&(v=!0)})}),v&&(g="xl/threadedComments/threadedComment"+o+".xml",Wn(a,g,Jse(m,c,i)),n.threadedcomments.push(g),Wr(h,-1,"../threadedComments/threadedComment"+o+".xml",Sr.TCMNT)),g="xl/comments"+o+"."+e,Wn(a,g,wGe(m,i)),n.comments.push(g),Wr(h,-1,"../comments"+o+"."+e,Sr.CMNT),p=!0}d["!legacy"]&&p&&Wn(a,"xl/drawings/vmlDrawing"+o+".vml",Zse(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}h["!id"].rId1&&Wn(a,kse(s),Bx(h))}i.Strings!=null&&i.Strings.length>0&&(s="xl/sharedStrings."+e,Wn(a,s,RHe(i.Strings,i)),n.strs.push(s),Wr(i.wbrels,-1,"sharedStrings."+e,Sr.SST)),s="xl/workbook."+e,Wn(a,s,qXe(t,i)),n.workbooks.push(s),Wr(i.rels,1,s,Sr.WB),s="xl/theme/theme1.xml";var y=Kse(t.Themes,i);return Wn(a,s,y),n.themes.push(s),Wr(i.wbrels,-1,"theme/theme1.xml",Sr.THEME),s="xl/styles."+e,Wn(a,s,aGe(t,i)),n.styles.push(s),Wr(i.wbrels,-1,"styles."+e,Sr.STY),t.vbaraw&&r&&(s="xl/vbaProject.bin",Wn(a,s,t.vbaraw),n.vba.push(s),Wr(i.wbrels,-1,"vbaProject.bin",Sr.VBA)),s="xl/metadata."+e,Wn(a,s,pGe()),n.metadata.push(s),Wr(i.wbrels,-1,"metadata."+e,Sr.XLMETA),c.length>1&&(s="xl/persons/person.xml",Wn(a,s,qse(c,i)),n.people.push(s),Wr(i.wbrels,-1,"persons/person.xml",Sr.PEOPLE)),Wn(a,"[Content_Types].xml",Rse(n,i)),Wn(a,"_rels/.rels",Bx(i.rels)),Wn(a,"xl/_rels/workbook."+e+".rels",Bx(i.wbrels)),delete i.revssf,delete i.ssf,a}function JYe(t,i){t&&!t.SSF&&(t.SSF=tc(Ks)),t&&t.SSF&&(TD(),SD(t.SSF),i.revssf=ED(t.SSF),i.revssf[t.SSF[65535]]=0,i.ssf=t.SSF),i.rels={},i.wbrels={},i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,_2?i.revStrings=new Map:(i.revStrings={},i.revStrings.foo=[],delete i.revStrings.foo);var e="xml",r=SGe.indexOf(i.bookType)>-1,n=Pse();J6(i=i||{});var a=F6(),s="",o=0;if(i.cellXfs=[],L0(i.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Wn(a,s,Ose(t.Props,i)),n.coreprops.push(s),Wr(i.rels,2,s,Sr.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],l=0;l<t.SheetNames.length;++l)(t.Workbook.Sheets[l]||{}).Hidden!=2&&u.push(t.SheetNames[l]);t.Props.SheetNames=u}t.Props.Worksheets=t.Props.SheetNames.length,Wn(a,s,Nse(t.Props,i)),n.extprops.push(s),Wr(i.rels,3,s,Sr.EXT_PROPS),t.Custprops!==t.Props&&so(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Wn(a,s,Bse(t.Custprops,i)),n.custprops.push(s),Wr(i.rels,4,s,Sr.CUST_PROPS));var c=["SheetJ5"];for(i.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],f=(d||{})["!type"]||"sheet";switch(f){case"chart":default:s="xl/worksheets/sheet"+o+"."+e,Wn(a,s,xWe(o-1,i,t,h)),n.sheets.push(s),Wr(i.wbrels,-1,"worksheets/sheet"+o+"."+e,Sr.WS[0])}if(d){var m=d["!comments"],p=!1,g="";if(m&&m.length>0){var v=!1;m.forEach(function(y){y[1].forEach(function(x){x.T==!0&&(v=!0)})}),v&&(g="xl/threadedComments/threadedComment"+o+".xml",Wn(a,g,Jse(m,c,i)),n.threadedcomments.push(g),Wr(h,-1,"../threadedComments/threadedComment"+o+".xml",Sr.TCMNT)),g="xl/comments"+o+"."+e,Wn(a,g,yGe(m,i)),n.comments.push(g),Wr(h,-1,"../comments"+o+"."+e,Sr.CMNT),p=!0}d["!legacy"]&&p&&Wn(a,"xl/drawings/vmlDrawing"+o+".vml",Zse(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}h["!id"].rId1&&Wn(a,kse(s),Bx(h))}return i.Strings!=null&&i.Strings.length>0&&(s="xl/sharedStrings."+e,Wn(a,s,MHe(i.Strings,i)),n.strs.push(s),Wr(i.wbrels,-1,"sharedStrings."+e,Sr.SST)),s="xl/workbook."+e,Wn(a,s,VXe(t,i)),n.workbooks.push(s),Wr(i.rels,1,s,Sr.WB),s="xl/theme/theme1.xml",Wn(a,s,Kse(t.Themes,i)),n.themes.push(s),Wr(i.wbrels,-1,"theme/theme1.xml",Sr.THEME),s="xl/styles."+e,Wn(a,s,VHe(t,i)),n.styles.push(s),Wr(i.wbrels,-1,"styles."+e,Sr.STY),t.vbaraw&&r&&(s="xl/vbaProject.bin",Wn(a,s,t.vbaraw),n.vba.push(s),Wr(i.wbrels,-1,"vbaProject.bin",Sr.VBA)),s="xl/metadata."+e,Wn(a,s,mGe()),n.metadata.push(s),Wr(i.wbrels,-1,"metadata."+e,Sr.XLMETA),c.length>1&&(s="xl/persons/person.xml",Wn(a,s,qse(c,i)),n.people.push(s),Wr(i.wbrels,-1,"persons/person.xml",Sr.PEOPLE)),Wn(a,"[Content_Types].xml",Rse(n,i)),Wn(a,"_rels/.rels",Bx(i.rels)),Wn(a,"xl/_rels/workbook."+e+".rels",Bx(i.wbrels)),delete i.revssf,delete i.ssf,a}function qYe(t,i){var e="";switch((i||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":e=k0(t.slice(0,12));break;case"binary":e=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(i&&i.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}function bae(t,i){switch(i.type){case"base64":case"binary":break;case"buffer":case"array":i.type="";break;case"file":return P2(i.file,Fs.write(t,{type:ns?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+i.bookType+"' files");default:throw new Error("Unrecognized type "+i.type)}return Fs.write(t,i)}function e$e(t,i){switch(i.bookType){case"ods":return vae(t,i);case"numbers":return WYe(t,i);case"xlsb":return ZYe(t,i);default:return JYe(t,i)}}function t$e(t,i){var e=tc(i||{}),r=e$e(t,e);return i$e(r,e)}function i$e(t,i){var e={},r=ns?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(i.compression&&(e.compression="DEFLATE"),i.password)e.type=r;else switch(i.type){case"base64":e.type="base64";break;case"binary":e.type="string";break;case"string":throw new Error("'string' output type invalid for '"+i.bookType+"' files");case"buffer":case"file":e.type=r;break;default:throw new Error("Unrecognized type "+i.type)}var n=t.FullPaths?Fs.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[e.type]||e.type,compression:!!i.compression}):t.generate(e);if(typeof Deno<"u"&&typeof n=="string"){if(i.type=="binary"||i.type=="base64")return n;n=new Uint8Array(CD(n))}return i.password&&typeof encrypt_agile<"u"?bae(encrypt_agile(n,i.password),i):i.type==="file"?P2(i.file,n):i.type=="string"?Nx(n):n}function n$e(t,i){var e=i||{},r=fYe(t,e);return bae(r,e)}function Yf(t,i,e){e||(e="");var r=e+t;switch(i.type){case"base64":return aD(tm(r));case"binary":return tm(r);case"string":return t;case"file":return P2(i.file,r,"utf8");case"buffer":return ns?Jf(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Yf(r,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+i.type)}function r$e(t,i){switch(i.type){case"base64":return rze(t);case"binary":return t;case"string":return t;case"file":return P2(i.file,t,"binary");case"buffer":return ns?Jf(t,"binary"):t.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+i.type)}function rD(t,i){switch(i.type){case"string":case"base64":case"binary":for(var e="",r=0;r<t.length;++r)e+=String.fromCharCode(t[r]);return i.type=="base64"?aD(e):i.type=="string"?Nx(e):e;case"file":return P2(i.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+i.type)}}function q6(t,i){ize(),BXe(t);var e=tc(i||{});if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),e.type=="array"){e.type="binary";var r=q6(t,e);return e.type="array",CD(r)}var n=0;if(e.sheet&&(typeof e.sheet=="number"?n=e.sheet:n=t.SheetNames.indexOf(e.sheet),!t.SheetNames[n]))throw new Error("Sheet not found: "+e.sheet+" : "+typeof e.sheet);switch(e.bookType||"xlsb"){case"xml":case"xlml":return Yf(dYe(t,e),e);case"slk":case"sylk":return Yf(SHe.from_sheet(t.Sheets[t.SheetNames[n]],e,t),e);case"htm":case"html":return Yf(pae(t.Sheets[t.SheetNames[n]],e),e);case"txt":return r$e(_ae(t.Sheets[t.SheetNames[n]],e),e);case"csv":return Yf(eB(t.Sheets[t.SheetNames[n]],e),e,"\uFEFF");case"dif":return Yf(THe.from_sheet(t.Sheets[t.SheetNames[n]],e),e);case"dbf":return rD(CHe.from_sheet(t.Sheets[t.SheetNames[n]],e),e);case"prn":return Yf(EHe.from_sheet(t.Sheets[t.SheetNames[n]],e),e);case"rtf":return Yf(FHe(t.Sheets[t.SheetNames[n]],e),e);case"eth":return Yf(Wse.from_sheet(t.Sheets[t.SheetNames[n]],e),e);case"fods":return Yf(vae(t,e),e);case"wk1":return rD(Gre.sheet_to_wk1(t.Sheets[t.SheetNames[n]],e),e);case"wk3":return rD(Gre.book_to_wk3(t,e),e);case"biff2":e.biff||(e.biff=2);case"biff3":e.biff||(e.biff=3);case"biff4":return e.biff||(e.biff=4),rD(fae(t,e),e);case"biff5":e.biff||(e.biff=5);case"biff8":case"xla":case"xls":return e.biff||(e.biff=8),n$e(t,e);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return t$e(t,e);default:throw new Error("Unrecognized bookType |"+e.bookType+"|")}}function s$e(t,i,e,r,n,a,s){var o=bs(e),u=s.defval,l=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),c=!0,h=t["!data"]!=null,d=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:e,enumerable:!1})}catch{d.__rowNum__=e}else d.__rowNum__=e;if(!h||t["!data"][e])for(var f=i.s.c;f<=i.e.c;++f){var m=h?(t["!data"][e]||[])[f]:t[r[f]+o];if(m==null||m.t===void 0){if(u===void 0)continue;a[f]!=null&&(d[a[f]]=u);continue}var p=m.v;switch(m.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"b":case"n":if(!m.z||!bv(m.z)||(p=Lx(p),typeof p=="number"))break;case"d":s&&(s.UTC||s.raw===!1)||(p=Gx(new Date(p)));break;default:throw new Error("unrecognized type "+m.t)}if(a[f]!=null){if(p==null)if(m.t=="e"&&p===null)d[a[f]]=null;else if(u!==void 0)d[a[f]]=u;else if(l&&p===null)d[a[f]]=null;else continue;else d[a[f]]=(m.t==="n"&&typeof s.rawNumbers=="boolean"?s.rawNumbers:l)?p:am(m,p,s);p!=null&&(c=!1)}}return{row:d,isempty:c}}function I6(t,i){if(t==null||t["!ref"]==null)return[];var e={t:"n",v:0},r=0,n=1,a=[],s=0,o="",u={s:{r:0,c:0},e:{r:0,c:0}},l=i||{},c=l.range!=null?l.range:t["!ref"];switch(l.header===1?r=1:l.header==="A"?r=2:Array.isArray(l.header)?r=3:l.header==null&&(r=0),typeof c){case"string":u=Zs(c);break;case"number":u=Zs(t["!ref"]),u.s.r=c;break;default:u=c}r>0&&(n=0);var h=bs(u.s.r),d=[],f=[],m=0,p=0,g=t["!data"]!=null,v=u.s.r,y=0,x={};g&&!t["!data"][v]&&(t["!data"][v]=[]);var b=l.skipHidden&&t["!cols"]||[],w=l.skipHidden&&t["!rows"]||[];for(y=u.s.c;y<=u.e.c;++y)if(!(b[y]||{}).hidden)switch(d[y]=fs(y),e=g?t["!data"][v][y]:t[d[y]+h],r){case 1:a[y]=y-u.s.c;break;case 2:a[y]=d[y];break;case 3:a[y]=l.header[y-u.s.c];break;default:if(e==null&&(e={w:"__EMPTY",t:"s"}),o=s=am(e,null,l),p=x[s]||0,!p)x[s]=1;else{do o=s+"_"+p++;while(x[o]);x[s]=p,x[o]=1}a[y]=o}for(v=u.s.r+n;v<=u.e.r;++v)if(!(w[v]||{}).hidden){var C=s$e(t,u,v,d,r,a,l);(C.isempty===!1||(r===1?l.blankrows!==!1:l.blankrows))&&(f[m++]=C.row)}return f.length=m,f}var nse=/"/g;function a$e(t,i,e,r,n,a,s,o){for(var u=!0,l=[],c="",h=bs(e),d=t["!data"]!=null,f=d&&t["!data"][e]||[],m=i.s.c;m<=i.e.c;++m)if(r[m]){var p=d?f[m]:t[r[m]+h];if(p==null)c="";else if(p.v!=null){u=!1,c=""+(o.rawNumbers&&p.t=="n"?p.v:am(p,null,o));for(var g=0,v=0;g!==c.length;++g)if((v=c.charCodeAt(g))===n||v===a||v===34||o.forceQuotes){c='"'+c.replace(nse,'""')+'"';break}c=="ID"&&(c='"ID"')}else p.f!=null&&!p.F?(u=!1,c="="+p.f,c.indexOf(",")>=0&&(c='"'+c.replace(nse,'""')+'"')):c="";l.push(c)}if(o.strip)for(;l[l.length-1]==="";)--l.length;return o.blankrows===!1&&u?null:l.join(s)}function eB(t,i){var e=[],r=i??{};if(t==null||t["!ref"]==null)return"";for(var n=Zs(t["!ref"]),a=r.FS!==void 0?r.FS:",",s=a.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,u=o.charCodeAt(0),l="",c=[],h=r.skipHidden&&t["!cols"]||[],d=r.skipHidden&&t["!rows"]||[],f=n.s.c;f<=n.e.c;++f)(h[f]||{}).hidden||(c[f]=fs(f));for(var m=0,p=n.s.r;p<=n.e.r;++p)(d[p]||{}).hidden||(l=a$e(t,n,p,c,s,u,a,r),l!=null&&(l||r.blankrows!==!1)&&e.push((m++?o:"")+l));return e.join("")}function _ae(t,i){i||(i={}),i.FS="	",i.RS=`
`;var e=eB(t,i);if(typeof Rr>"u"||i.type=="string")return e;var r=Rr.utils.encode(1200,e,"str");return"\xFF\xFE"+r}function o$e(t){var i="",e,r="";if(t==null||t["!ref"]==null)return[];var n=Zs(t["!ref"]),a="",s=[],o,u=[],l=t["!data"]!=null;for(o=n.s.c;o<=n.e.c;++o)s[o]=fs(o);for(var c=n.s.r;c<=n.e.r;++c)for(a=bs(c),o=n.s.c;o<=n.e.c;++o)if(i=s[o]+a,e=l?(t["!data"][c]||[])[o]:t[i],r="",e!==void 0){if(e.F!=null){if(i=e.F,!e.f)continue;r=e.f,i.indexOf(":")==-1&&(i=i+":"+i)}if(e.f!=null)r=e.f;else{if(e.t=="z")continue;if(e.t=="n"&&e.v!=null)r=""+e.v;else if(e.t=="b")r=e.v?"TRUE":"FALSE";else if(e.w!==void 0)r="'"+e.w;else{if(e.v===void 0)continue;e.t=="s"?r="'"+e.v:r=""+e.v}}u[u.length]=i+"="+r}return u}function wae(t,i,e){var r=e||{},n=t?t["!data"]!=null:r.dense;Kf!=null&&n==null&&(n=Kf);var a=+!r.skipHeader,s=t||{};!t&&n&&(s["!data"]=[]);var o=0,u=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?oa(r.origin):r.origin;o=l.r,u=l.c}var c={s:{c:0,r:0},e:{c:u,r:o+i.length-1+a}};if(s["!ref"]){var h=Zs(s["!ref"]);c.e.c=Math.max(c.e.c,h.e.c),c.e.r=Math.max(c.e.r,h.e.r),o==-1&&(o=h.e.r+1,c.e.r=o+i.length-1+a)}else o==-1&&(o=0,c.e.r=i.length-1+a);var d=r.header||[],f=0,m=[];i.forEach(function(g,v){n&&!s["!data"][o+v+a]&&(s["!data"][o+v+a]=[]),n&&(m=s["!data"][o+v+a]),so(g).forEach(function(y){(f=d.indexOf(y))==-1&&(d[f=d.length]=y);var x=g[y],b="z",w="",C=n?"":fs(u+f)+bs(o+v+a),_=n?m[u+f]:s[C];x&&typeof x=="object"&&!(x instanceof Date)?n?m[u+f]=x:s[C]=x:(typeof x=="number"?b="n":typeof x=="boolean"?b="b":typeof x=="string"?b="s":x instanceof Date?(b="d",r.UTC||(x=AD(x)),r.cellDates||(b="n",x=xl(x)),w=_!=null&&_.z&&bv(_.z)?_.z:r.dateNF||Ks[14]):x===null&&r.nullError&&(b="e",x=0),_?(_.t=b,_.v=x,delete _.w,delete _.R,w&&(_.z=w)):n?m[u+f]=_={t:b,v:x}:s[C]=_={t:b,v:x},w&&(_.z=w))})}),c.e.c=Math.max(c.e.c,u+d.length-1);var p=bs(o);if(n&&!s["!data"][o]&&(s["!data"][o]=[]),a)for(f=0;f<d.length;++f)n?s["!data"][o][f+u]={t:"s",v:d[f]}:s[fs(f+u)+p]={t:"s",v:d[f]};return s["!ref"]=ao(c),s}function l$e(t,i){return wae(null,t,i)}function wD(t,i,e){if(typeof i=="string"){if(t["!data"]!=null){var r=oa(i);return t["!data"][r.r]||(t["!data"][r.r]=[]),t["!data"][r.r][r.c]||(t["!data"][r.r][r.c]={t:"z"})}return t[i]||(t[i]={t:"z"})}return typeof i!="number"?wD(t,ya(i)):wD(t,fs(e||0)+bs(i))}function c$e(t,i){if(typeof i=="number"){if(i>=0&&t.SheetNames.length>i)return i;throw new Error("Cannot find sheet # "+i)}else if(typeof i=="string"){var e=t.SheetNames.indexOf(i);if(e>-1)return e;throw new Error("Cannot find sheet name |"+i+"|")}else throw new Error("Cannot find sheet |"+i+"|")}function u$e(t,i){var e={SheetNames:[],Sheets:{}};return t&&tB(e,t,i||"Sheet1"),e}function tB(t,i,e,r){var n=1;if(!e)for(;n<=65535&&t.SheetNames.indexOf(e="Sheet"+n)!=-1;++n,e=void 0);if(!e||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(e)>=0&&e.length<32){var a=e.match(/\d+$/);n=a&&+a[0]||0;var s=a&&e.slice(0,a.index)||e;for(++n;n<=65535&&t.SheetNames.indexOf(e=s+n)!=-1;++n);}if(uae(e),t.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return t.SheetNames.push(e),t.Sheets[e]=i,e}function d$e(t,i,e){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=c$e(t,i);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}t.Workbook.Sheets[r].Hidden=e}function h$e(t,i){return t.z=i,t}function Cae(t,i,e){return i?(t.l={Target:i},e&&(t.l.Tooltip=e)):delete t.l,t}function f$e(t,i,e){return Cae(t,"#"+i,e)}function p$e(t,i,e){t.c||(t.c=[]),t.c.push({t:i,a:e||"SheetJS"})}function m$e(t,i,e,r){for(var n=typeof i!="string"?i:Zs(i),a=typeof i=="string"?i:ao(i),s=n.s.r;s<=n.e.r;++s)for(var o=n.s.c;o<=n.e.c;++o){var u=wD(t,s,o);u.t="n",u.F=a,delete u.v,s==n.s.r&&o==n.s.c&&(u.f=e,r&&(u.D=!0))}var l=yl(t["!ref"]);return l.s.r>n.s.r&&(l.s.r=n.s.r),l.s.c>n.s.c&&(l.s.c=n.s.c),l.e.r<n.e.r&&(l.e.r=n.e.r),l.e.c<n.e.c&&(l.e.c=n.e.c),t["!ref"]=ao(l),t}var Sae={encode_col:fs,encode_row:bs,encode_cell:ya,encode_range:ao,decode_col:j6,decode_row:G6,split_cell:hUe,decode_cell:oa,decode_range:yl,format_cell:am,sheet_new:fUe,sheet_add_aoa:Ese,sheet_add_json:wae,sheet_add_dom:mae,aoa_to_sheet:$x,json_to_sheet:l$e,table_to_sheet:gae,table_to_book:LYe,sheet_to_csv:eB,sheet_to_txt:_ae,sheet_to_json:I6,sheet_to_html:pae,sheet_to_formulae:o$e,sheet_to_row_object_array:I6,sheet_get_cell:wD,book_new:u$e,book_append_sheet:tB,book_set_sheet_visibility:d$e,cell_set_number_format:h$e,cell_set_hyperlink:Cae,cell_set_internal_link:f$e,cell_add_comment:p$e,sheet_set_array_formula:m$e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var fCt=w2.version;var v$e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",y$e=".xlsx",Eae=(()=>{class t{constructor(){}exportAsExcelFile(e,r){let a={Sheets:{data:Sae.json_to_sheet(e)},SheetNames:["data"]},s=q6(a,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(s,r)}saveAsExcelFile(e,r){let n=new Blob([e],{type:v$e});Tae.saveAs(n,r+"_export_"+new Date().getTime()+y$e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var b$e=["*",[["mat-toolbar-row"]]],_$e=["*","mat-toolbar-row"],w$e=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=_t({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return t})(),Aae=(()=>{class t{_elementRef=le(Pt);_platform=le(In);_document=le(Di);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ke({type:t,selectors:[["mat-toolbar"]],contentQueries:function(r,n,a){if(r&1&&Fi(a,w$e,5),r&2){let s;yt(s=xt())&&(n._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,n){r&2&&(cs(n.color?"mat-"+n.color:""),Ut("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",n._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:_$e,decls:2,vars:0,template:function(r,n){r&1&&(zi(b$e),$t(0),$t(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}"],encapsulation:2,changeDetection:0})}return t})();var Mae=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si,Si]})}return t})();function S$e(t,i){if(t&1){let e=Ye();B(0,"button",22),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.navigate(n))}),J(1),U()}if(t&2){let e=i.$implicit;K(),vt(e.name)}}function T$e(t,i){if(t&1){let e=Ye();B(0,"button",22),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.setFhirServer(n))}),J(1),U()}if(t&2){let e=i.$implicit;K(),vt(e.name)}}function E$e(t,i){if(t&1){let e=Ye();B(0,"button",22),we("click",function(){let n=Me(e).$implicit,a=pe(2);return Ie(a.setEdition(n))}),J(1),U()}if(t&2){let e=i.$implicit;K(),vt(e.resource.version)}}function A$e(t,i){if(t&1&&(Ni(0),B(1,"button",23),J(2),U(),B(3,"mat-menu",null,5)(5,"span",19),J(6,"Versions / Releases"),U(),Te(7,E$e,2,1,"button",18),U(),Bi()),t&2){let e=i.$implicit,r=hi(4);K(),oe("matMenuTriggerFor",r),K(),vt(e.editionName),K(5),oe("ngForOf",e.editions)}}function M$e(t,i){if(t&1){let e=Ye();B(0,"button",22),we("click",function(){let n=Me(e).$implicit,a=pe();return Ie(a.setLanguage(n))}),J(1),U()}if(t&2){let e=i.$implicit;K(),vt(e)}}function I$e(t,i){if(t&1){let e=Ye();B(0,"button",22),we("click",function(){let n=Me(e).$implicit,a=pe(2);return Ie(a.navigate(n))}),J(1),U()}if(t&2){let e=i.$implicit;K(),vt(e.name)}}function D$e(t,i){if(t&1){let e=Ye();B(0,"button",22),we("click",function(){let n=Me(e).$implicit,a=pe(2);return Ie(a.setFhirServer(n))}),J(1),U()}if(t&2){let e=i.$implicit;K(),vt(e.name)}}function P$e(t,i){if(t&1){let e=Ye();B(0,"button",22),we("click",function(){let n=Me(e).$implicit,a=pe(3);return Ie(a.setEdition(n))}),J(1),U()}if(t&2){let e=i.$implicit;K(),vt(e.resource.version)}}function R$e(t,i){if(t&1&&(Ni(0),B(1,"button",23),J(2),U(),B(3,"mat-menu",null,5)(5,"span",19),J(6,"Versions / Releases"),U(),Te(7,P$e,2,1,"button",18),U(),Bi()),t&2){let e=i.$implicit,r=hi(4);K(),oe("matMenuTriggerFor",r),K(),vt(e.editionName),K(5),oe("ngForOf",e.editions)}}function k$e(t,i){t&1&&(B(0,"p",34),J(1,"Selected Language Refset"),U())}function F$e(t,i){if(t&1&&(B(0,"p",34),J(1),U()),t&2){let e=pe(2);K(),vt(e.selectedLanRefsetConcept.display)}}function O$e(t,i){if(t&1&&(B(0,"p",34),J(1),U()),t&2){let e=pe(2);K(),vt(e.selectedLanRefsetConcept.code)}}function L$e(t,i){t&1&&(B(0,"p",34),J(1,"Selected Language Context"),U())}function N$e(t,i){if(t&1&&(B(0,"p",34),J(1),U()),t&2){let e=pe(2);K(),vt(e.selectedLanguageContext.name)}}function B$e(t,i){if(t&1){let e=Ye();B(0,"button",22),we("click",function(){let n=Me(e).$implicit,a=pe(2);return Ie(a.setLanguage(n))}),J(1),U()}if(t&2){let e=i.$implicit;K(),vt(e)}}function V$e(t,i){if(t&1){let e=Ye();B(0,"button",22),we("click",function(){let n=Me(e).$implicit,a=pe(2);return Ie(a.setLanguageRefset(n))}),J(1),U()}if(t&2){let e=i.$implicit;K(),vt(e.display)}}function z$e(t,i){if(t&1){let e=Ye();B(0,"button",22),we("click",function(){let n=Me(e).$implicit,a=pe(2);return Ie(a.setContext(n))}),J(1),U()}if(t&2){let e=i.$implicit;K(),vt(e.name)}}function U$e(t,i){if(t&1){let e=Ye();B(0,"mat-toolbar")(1,"button",24),we("click",function(){Me(e),pe();let n=hi(2);return Ie(n.toggle())}),B(2,"mat-icon"),J(3,"menu"),U()(),B(4,"a",25),we("click",function(){Me(e);let n=pe();return Ie(n.navigate({url:"home",type:"internal"}))}),He(5,"img",26),U(),B(6,"span",27),J(7,"SNOMED CT Implementation Demos"),U(),B(8,"span",28),J(9,"Implementation Demos"),U(),He(10,"span",29),B(11,"button",30),J(12,"Select Demonstrator"),U(),B(13,"mat-menu",17,6),Te(15,I$e,2,1,"button",18),U(),B(16,"button",31),J(17),U(),B(18,"mat-menu",null,7),Te(20,D$e,2,1,"button",18),U(),B(21,"button",31),J(22),U(),B(23,"mat-menu",17,8)(25,"span",19),J(26,"Editions"),U(),Te(27,R$e,8,3,"ng-container",20),U(),B(28,"button",31),J(29),U(),B(30,"mat-menu",null,9),Te(32,k$e,2,0,"p",32)(33,F$e,2,1,"p",32)(34,O$e,2,1,"p",32)(35,L$e,2,0,"p",32)(36,N$e,2,1,"p",32),B(37,"button",23),J(38,"Language Codes"),U(),B(39,"button",23),J(40,"Language Refsets"),U(),B(41,"button",23),J(42,"Language Contexts"),U(),B(43,"button",22),we("click",function(){Me(e);let n=pe();return Ie(n.openLanguageDialog())}),J(44,"Advanced config"),U()(),B(45,"mat-menu",null,10),Te(47,B$e,2,1,"button",18),U(),B(48,"mat-menu",null,11),Te(50,V$e,2,1,"button",18),U(),B(51,"mat-menu",null,12),Te(53,z$e,2,1,"button",18),U(),B(54,"a",33)(55,"mat-icon"),J(56,"info"),U()()()}if(t&2){let e=hi(14),r=hi(19),n=hi(24),a=hi(31),s=hi(46),o=hi(49),u=hi(52),l=pe();K(11),oe("matMenuTriggerFor",e),K(4),oe("ngForOf",l.demos),K(),oe("matMenuTriggerFor",r),K(),It("FHIR Server: ",l.selectedServer.name,""),K(3),oe("ngForOf",l.fhirServers),K(),oe("matMenuTriggerFor",n),K(),vt(l.selectedEdition),K(5),oe("ngForOf",l.editionsDetails),K(),oe("matMenuTriggerFor",a),K(),It(" ",l.selectedLanguageDisplayLabel," "),K(3),oe("ngIf",l.selectedLanRefsetConcept&&!l.selectedLanguageContext),K(),oe("ngIf",l.selectedLanRefsetConcept&&!l.selectedLanguageContext),K(),oe("ngIf",l.selectedLanRefsetConcept&&!l.selectedLanguageContext),K(),oe("ngIf",l.selectedLanguageContext),K(),oe("ngIf",l.selectedLanguageContext),K(),oe("matMenuTriggerFor",s),K(2),oe("matMenuTriggerFor",o),K(2),oe("matMenuTriggerFor",u),K(6),oe("ngForOf",l.languages),K(3),oe("ngForOf",l.languageRefsets),K(3),oe("ngForOf",l.filteredLanguageMetadata.contexts)}}var Iae=(()=>{class t{constructor(e,r,n,a,s,o,u,l,c){this.codingSpecService=e,this.excelService=r,this.terminologyService=n,this.router=a,this.menuService=s,this.dialog=o,this.cdRef=u,this.http=l,this.activatedRoute=c,this.title="sct-implementation-demonstrator",this.bindingsForExport=[],this.editions=[],this.editionsDetails=[],this.languages=["da","de","en","es","et","fi","fr","nl","no","sv"],this.languageRefsets=[],this.languageMetadata={},this.filteredLanguageMetadata={},this.selectedEdition="Edition",this.selectedLanguage="en",this.selectedLanRefsetConcept=null,this.selectedLanguageContext=null,this.selectedLanguageDisplayLabel="Language",this.fhirServers=[{name:"SNOMED Dev IS",url:"https://dev-is-browser.ihtsdotools.org/fhir"},{name:"SNOMED Public",url:"https://snowstorm.ihtsdotools.org/fhir"},{name:"SNOMED Dev 2",url:"https://snowstorm-temp.kaicode.io/fhir"},{name:"SNOMED Lite Demo",url:"https://snowstorm-lite.nw.r.appspot.com/fhir"},{name:"LOINC Ontology Server",url:"https://browser.loincsnomed.org/fhir"},{name:"Ontoserver",url:"https://r4.ontoserver.csiro.au/fhir"},{name:"SNOMED Dev 1",url:"https://dev-browser.ihtsdotools.org/fhir"},{name:"Implementation Demo",url:"https://implementation-demo.snomedtools.org/fhir"}],this.selectedServer=this.fhirServers[1],this.embeddedMode=!1,this.demos=[],this.updateCodeSystemOptionsTrigger$=new mt,this.router.events.subscribe(h=>{h instanceof Md&&gtag("config","G-7SK998GPMX",{page_path:h.urlAfterRedirects})})}ngOnInit(){this.demos=this.menuService.getDemos(),this.bindingsForExport=[];let e=this.codingSpecService.getCodingSpec();for(let r of e)for(let n of r.bindings)this.bindingsForExport.push({section:r.title,title:n.title,ecl:n.ecl.replace(/\s\s+/g," ")});this.updateCodeSystemOptionsTrigger$.pipe(Mn(r=>this.terminologyService.getCodeSystems().pipe(Ur(n=>(console.error("Failed to update code systems:",n),ui(null))),Jn(n=>{if(!n)return;this.editionsDetails=[],this.editions=n.entry?.filter(o=>o.resource?.url?.includes("snomed.info"))||[];let a=new Set;this.editions.forEach(o=>{a.add(o.resource.title)}),a.forEach(o=>{this.editionsDetails.push({editionName:o,editions:this.editions.filter(u=>u.resource?.title?.includes(o)).sort(this.compare)})});let s=this.editionsDetails.findIndex(o=>o.editionName==="International Edition");r?this.editions.forEach(o=>{o.resource.version===r&&this.setEdition(o)}):s>=0?this.setEdition(this.editionsDetails[s].editions[0]):this.editions.length>0&&this.setEdition(this.editions[0])})))).subscribe(),this.activatedRoute.queryParams.pipe().subscribe(r=>{r.embedded==="true"?this.embeddedMode=!0:this.embeddedMode=!1,r.edition&&this.updateCodeSystemOptions(r.edition)}),this.terminologyService.lang$.subscribe(r=>{this.selectedLanguage=r,this.updateSelectedLabguageLabel()}),this.terminologyService.languageRefsetConcept$.subscribe(r=>{this.selectedLanRefsetConcept=r,this.updateSelectedLabguageLabel()}),this.terminologyService.context$.subscribe(r=>{this.selectedLanguageContext=r,this.updateSelectedLabguageLabel()}),this.terminologyService.fhirUrlParam$.subscribe(r=>{this.editions?.length>0&&(this.editions.forEach(n=>{n.resource.version===r&&(this.selectedEdition=n.resource.title?.replace("SNOMED CT release ",""))}),this.setupLanguageMetadata())}),this.terminologyService.snowstormFhirBase$.subscribe(r=>{this.fhirServers?.length>0&&this.fhirServers.forEach(n=>{n.url===r&&(this.selectedServer=n,this.cdRef.detectChanges(),this.updateCodeSystemOptions())})}),this.setFhirServer(this.selectedServer),this.http.get("https://raw.githubusercontent.com/IHTSDO/snomedct-language-metadata/refs/heads/main/national-language-metadata.json").subscribe(r=>{this.languageMetadata=r,this.setupLanguageMetadata()})}setupLanguageMetadata(){let e=this.terminologyService.getFhirUrlParam();if(e.includes("/version/")){let r=e.split("/");r.pop(),r.pop(),e=r.join("/")}this.filteredLanguageMetadata=this.languageMetadata.editions.find(r=>r.moduleUri===e),this.filteredLanguageMetadata||(this.filteredLanguageMetadata={contexts:[]}),this.filteredLanguageMetadata.contexts.push({name:"US English",languageDialects:"en-X-900000000000509007"}),this.setContext(this.filteredLanguageMetadata.contexts[0])}updateSelectedLabguageLabel(){let e=this.terminologyService.getComputedLanguageContext();if(e&&typeof e=="string")if(!e.includes("-X-"))this.selectedLanguageDisplayLabel=e;else{let r=e.split("-X-");this.selectedLanguageDisplayLabel=r[0]+"*"}else e&&typeof e=="object"&&(this.selectedLanguageDisplayLabel=e.name);this.cdRef.detectChanges()}setContext(e){this.terminologyService.setContext(e)}navigate(e){e.type==="internal"?this.router.navigate([e.url],{queryParams:e.queryParams}):this.openInNewTab(e.url)}openInNewTab(e){window.open(e,"_blank")}updateCodeSystemOptions(e){this.updateCodeSystemOptionsTrigger$.next(e)}compare(e,r){return e.resource.date<r.resource.date?1:e.resource.date>r.resource.date?-1:0}setFhirServer(e){this.selectedServer=e,this.terminologyService.setSnowstormFhirBase(e.url),this.selectedEdition="Edition",this.editions=[],this.editionsDetails=[]}setEdition(e){this.selectedEdition=e.resource.title?.replace("SNOMED CT release ",""),this.terminologyService.setFhirUrlParam(e.resource.version),this.updateLanguageRefsets()}updateLanguageRefsets(){this.languageRefsets=[],this.terminologyService.getLanguageRefsets().subscribe(e=>{this.languageRefsets=e?.expansion?.contains,this.languageRefsets.sort((r,n)=>r.display.length>n.display.length?1:-1)})}setLanguageRefset(e){this.terminologyService.setLanguageRefsetConcept(e)}setLanguage(e){e!="en"&&(e+=", en"),this.selectedLanguage=e,this.terminologyService.setLang(e)}openLanguageDialog(){this.dialog.open(ore,{width:"800px",disableClose:!1,data:{languageCodes:this.languages,languageRefsets:this.languageRefsets,selectedLanguage:this.selectedLanguage,selectedLanRefsetConcept:this.selectedLanRefsetConcept}}).afterClosed().subscribe(r=>{console.log("Dialog was closed. Result:",r)})}static{this.\u0275fac=function(r){return new(r||t)(je(cre),je(Eae),je(An),je(xo),je(VI),je(Yu),je(ki),je(Ms),je(Va))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-root"]],standalone:!1,decls:28,vars:12,consts:[["drawer",""],["demosMenuN","matMenu"],["serverMenuN","matMenu"],["editionsMenuN","matMenu"],["menuN","matMenu"],["sub_menu","matMenu"],["demosMenu","matMenu"],["serverMenu","matMenu"],["editionsMenu","matMenu"],["menu","matMenu"],["langCodes","matMenu"],["langRefsets","matMenu"],["langContexts","matMenu"],["autosize","",1,"example-container"],["mode","over",1,"example-sidenav"],[1,"flex","flex-col","justify-center"],["mat-button","",3,"matMenuTriggerFor"],[1,"wide-menu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"ml-4"],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-icon-button","","id","menu-button",3,"click"],["href","javascript:void(0)",3,"click"],["src","assets/img/small_logo.png","id","logo"],["id","title"],["id","short-title"],[1,"example-spacer"],["mat-flat-button","","color","accent",1,"bar-button",3,"matMenuTriggerFor"],["mat-flat-button","","color","primary",1,"bar-button",3,"matMenuTriggerFor"],["class","menu-text",4,"ngIf"],["mat-flat-button","","href","https://github.com/IHTSDO/sct-implementation-demonstrator","target","_blank","color","primary","id","info-button"],[1,"menu-text"]],template:function(r,n){if(r&1&&(B(0,"mat-drawer-container",13)(1,"mat-drawer",14,0)(3,"div",15)(4,"button",16),J(5,"Select Demonstrator"),U(),B(6,"mat-menu",17,1),Te(8,S$e,2,1,"button",18),U(),B(9,"button",16),J(10),U(),B(11,"mat-menu",null,2),Te(13,T$e,2,1,"button",18),U(),B(14,"button",16),J(15),U(),B(16,"mat-menu",17,3)(18,"span",19),J(19,"Editions"),U(),Te(20,A$e,8,3,"ng-container",20),U(),B(21,"button",16),J(22),U(),B(23,"mat-menu",null,4),Te(25,M$e,2,1,"button",18),U()()(),Te(26,U$e,57,21,"mat-toolbar",21),He(27,"router-outlet"),U()),r&2){let a=hi(7),s=hi(12),o=hi(17),u=hi(24);K(4),oe("matMenuTriggerFor",a),K(4),oe("ngForOf",n.demos),K(),oe("matMenuTriggerFor",s),K(),It("FHIR Server: ",n.selectedServer.name,""),K(3),oe("ngForOf",n.fhirServers),K(),oe("matMenuTriggerFor",o),K(),It("Edition: ",n.selectedEdition,""),K(5),oe("ngForOf",n.editionsDetails),K(),oe("matMenuTriggerFor",u),K(),It("Language: ",n.selectedLanguage,""),K(3),oe("ngForOf",n.languages),K(),oe("ngIf",!n.embeddedMode)}},dependencies:[qi,Xi,m3,Aae,ZG,ln,Zn,pn,ys,Ps,ra,h2,f2],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:#434a55;color:#fff;font-size:1.8rem;font-weight:700}button[_ngcontent-%COMP%]{font-weight:700;font-size:medium}.bar-button[_ngcontent-%COMP%]{margin-left:15px}#title[_ngcontent-%COMP%]{margin-left:15px;font-size:1.4rem}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}a[_ngcontent-%COMP%]{margin-left:15px}  .mat-mdc-menu-panel{max-width:fit-content!important;overflow-x:hidden!important}.mat-mdc-unelevated-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%], .mat-mdc-raised-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%], .mat-mdc-outlined-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{margin:0!important}#demo-selector[_ngcontent-%COMP%]{margin:5px 15px;padding:10px}#menu-button[_ngcontent-%COMP%], #short-title[_ngcontent-%COMP%]{display:none}#logo[_ngcontent-%COMP%]{height:4rem}.menu-text[_ngcontent-%COMP%]{width:100%;text-align:center}@media (max-width: 768px){#title[_ngcontent-%COMP%]{display:none}#short-title[_ngcontent-%COMP%]{display:block;margin-left:15px;font-size:.9rem}#logo[_ngcontent-%COMP%]{height:3.5rem}#info-button[_ngcontent-%COMP%]{display:none}}@media (max-width: 1200px){.bar-button[_ngcontent-%COMP%]{display:none}#menu-button[_ngcontent-%COMP%]{display:block}}"]})}}return t})();function Dae(t){return new Xt(3e3,!1)}function H$e(){return new Xt(3100,!1)}function G$e(){return new Xt(3101,!1)}function j$e(t){return new Xt(3001,!1)}function W$e(t){return new Xt(3003,!1)}function X$e(t){return new Xt(3004,!1)}function Y$e(t,i){return new Xt(3005,!1)}function $$e(){return new Xt(3006,!1)}function Q$e(){return new Xt(3007,!1)}function K$e(t,i){return new Xt(3008,!1)}function Z$e(t){return new Xt(3002,!1)}function J$e(t,i,e,r,n){return new Xt(3010,!1)}function q$e(){return new Xt(3011,!1)}function eQe(){return new Xt(3012,!1)}function tQe(){return new Xt(3200,!1)}function iQe(){return new Xt(3202,!1)}function nQe(){return new Xt(3013,!1)}function rQe(t){return new Xt(3014,!1)}function sQe(t){return new Xt(3015,!1)}function aQe(t){return new Xt(3016,!1)}function oQe(t,i){return new Xt(3404,!1)}function lQe(t){return new Xt(3502,!1)}function cQe(t){return new Xt(3503,!1)}function uQe(){return new Xt(3300,!1)}function dQe(t){return new Xt(3504,!1)}function hQe(t){return new Xt(3301,!1)}function fQe(t,i){return new Xt(3302,!1)}function pQe(t){return new Xt(3303,!1)}function mQe(t,i){return new Xt(3400,!1)}function gQe(t){return new Xt(3401,!1)}function vQe(t){return new Xt(3402,!1)}function yQe(t,i){return new Xt(3505,!1)}function N0(t){switch(t.length){case 0:return new Xm;case 1:return t[0];default:return new T_(t)}}function jae(t,i,e=new Map,r=new Map){let n=[],a=[],s=-1,o=null;if(i.forEach(u=>{let l=u.get("offset"),c=l==s,h=c&&o||new Map;u.forEach((d,f)=>{let m=f,p=d;if(f!=="offset")switch(m=t.normalizePropertyName(m,n),p){case vE:p=e.get(f);break;case vf:p=r.get(f);break;default:p=t.normalizeStyleValue(f,m,p,n);break}h.set(m,p)}),c||a.push(h),o=h,s=l}),n.length)throw lQe(n);return a}function CB(t,i,e,r){switch(i){case"start":t.onStart(()=>r(e&&iB(e,"start",t)));break;case"done":t.onDone(()=>r(e&&iB(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&iB(e,"destroy",t)));break}}function iB(t,i,e){let r=e.totalTime,n=!!e.disabled,a=SB(t.element,t.triggerName,t.fromState,t.toState,i||t.phaseName,r??t.totalTime,n),s=t._data;return s!=null&&(a._data=s),a}function SB(t,i,e,r,n="",a=0,s){return{element:t,triggerName:i,fromState:e,toState:r,phaseName:n,totalTime:a,disabled:!!s}}function nd(t,i,e){let r=t.get(i);return r||t.set(i,r=e),r}function Pae(t){let i=t.indexOf(":"),e=t.substring(1,i),r=t.slice(i+1);return[e,r]}var xQe=typeof document>"u"?null:document.documentElement;function TB(t){let i=t.parentNode||t.host||null;return i===xQe?null:i}function bQe(t){return t.substring(1,6)=="ebkit"}var Av=null,Rae=!1;function _Qe(t){Av||(Av=wQe()||{},Rae=Av.style?"WebkitAppearance"in Av.style:!1);let i=!0;return Av.style&&!bQe(t)&&(i=t in Av.style,!i&&Rae&&(i="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Av.style)),i}function wQe(){return typeof document<"u"?document.body:null}function Wae(t,i){for(;i;){if(i===t)return!0;i=TB(i)}return!1}function Xae(t,i,e){if(e)return Array.from(t.querySelectorAll(i));let r=t.querySelector(i);return r?[r]:[]}var EB=(()=>{class t{validateStyleProperty(e){return _Qe(e)}containsElement(e,r){return Wae(e,r)}getParentElement(e){return TB(e)}query(e,r,n){return Xae(e,r,n)}computeStyle(e,r,n){return n||""}animate(e,r,n,a,s,o=[],u){return new Xm(n,a)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})(),Dv=class{static NOOP=new EB},Pv=class{};var CQe=1e3,Yae="{{",SQe="}}",$ae="ng-enter",lB="ng-leave",OD="ng-trigger",zD=".ng-trigger",kae="ng-animating",cB=".ng-animating";function om(t){if(typeof t=="number")return t;let i=t.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:uB(parseFloat(i[1]),i[2])}function uB(t,i){switch(i){case"s":return t*CQe;default:return t}}function UD(t,i,e){return t.hasOwnProperty("duration")?t:TQe(t,i,e)}function TQe(t,i,e){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,a=0,s="";if(typeof t=="string"){let o=t.match(r);if(o===null)return i.push(Dae(t)),{duration:0,delay:0,easing:""};n=uB(parseFloat(o[1]),o[2]);let u=o[3];u!=null&&(a=uB(parseFloat(u),o[4]));let l=o[5];l&&(s=l)}else n=t;if(!e){let o=!1,u=i.length;n<0&&(i.push(H$e()),o=!0),a<0&&(i.push(G$e()),o=!0),o&&i.splice(u,0,Dae(t))}return{duration:n,delay:a,easing:s}}function EQe(t){return t.length?t[0]instanceof Map?t:t.map(i=>new Map(Object.entries(i))):[]}function qf(t,i,e){i.forEach((r,n)=>{let a=AB(n);e&&!e.has(n)&&e.set(n,t.style[a]),t.style[a]=r})}function Iv(t,i){i.forEach((e,r)=>{let n=AB(r);t.style[n]=""})}function F2(t){return Array.isArray(t)?t.length==1?t[0]:qG(t):t}function AQe(t,i,e){let r=i.params||{},n=Qae(t);n.length&&n.forEach(a=>{r.hasOwnProperty(a)||e.push(j$e(a))})}var dB=new RegExp(`${Yae}\\s*(.+?)\\s*${SQe}`,"g");function Qae(t){let i=[];if(typeof t=="string"){let e;for(;e=dB.exec(t);)i.push(e[1]);dB.lastIndex=0}return i}function L2(t,i,e){let r=`${t}`,n=r.replace(dB,(a,s)=>{let o=i[s];return o==null&&(e.push(W$e(s)),o=""),o.toString()});return n==r?t:n}var MQe=/-+([a-z0-9])/g;function AB(t){return t.replace(MQe,(...i)=>i[1].toUpperCase())}function IQe(t,i){return t===0||i===0}function DQe(t,i,e){if(e.size&&i.length){let r=i[0],n=[];if(e.forEach((a,s)=>{r.has(s)||n.push(s),r.set(s,a)}),n.length)for(let a=1;a<i.length;a++){let s=i[a];n.forEach(o=>s.set(o,MB(t,o)))}}return i}function id(t,i,e){switch(i.type){case En.Trigger:return t.visitTrigger(i,e);case En.State:return t.visitState(i,e);case En.Transition:return t.visitTransition(i,e);case En.Sequence:return t.visitSequence(i,e);case En.Group:return t.visitGroup(i,e);case En.Animate:return t.visitAnimate(i,e);case En.Keyframes:return t.visitKeyframes(i,e);case En.Style:return t.visitStyle(i,e);case En.Reference:return t.visitReference(i,e);case En.AnimateChild:return t.visitAnimateChild(i,e);case En.AnimateRef:return t.visitAnimateRef(i,e);case En.Query:return t.visitQuery(i,e);case En.Stagger:return t.visitStagger(i,e);default:throw X$e(i.type)}}function MB(t,i){return window.getComputedStyle(t)[i]}var PQe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),HD=class extends Pv{normalizePropertyName(i,e){return AB(i)}normalizeStyleValue(i,e,r,n){let a="",s=r.toString().trim();if(PQe.has(e)&&r!==0&&r!=="0")if(typeof r=="number")a="px";else{let o=r.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&o[1].length==0&&n.push(Y$e(i,r))}return s+a}};var GD="*";function RQe(t,i){let e=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>kQe(r,e,i)):e.push(t),e}function kQe(t,i,e){if(t[0]==":"){let u=FQe(t,e);if(typeof u=="function"){i.push(u);return}t=u}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return e.push(sQe(t)),i;let n=r[1],a=r[2],s=r[3];i.push(Fae(n,s));let o=n==GD&&s==GD;a[0]=="<"&&!o&&i.push(Fae(s,n))}function FQe(t,i){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return i.push(aQe(t)),"* => *"}}var LD=new Set(["true","1"]),ND=new Set(["false","0"]);function Fae(t,i){let e=LD.has(t)||ND.has(t),r=LD.has(i)||ND.has(i);return(n,a)=>{let s=t==GD||t==n,o=i==GD||i==a;return!s&&e&&typeof n=="boolean"&&(s=n?LD.has(t):ND.has(t)),!o&&r&&typeof a=="boolean"&&(o=a?LD.has(i):ND.has(i)),s&&o}}var Kae=":self",OQe=new RegExp(`s*${Kae}s*,?`,"g");function Zae(t,i,e,r){return new hB(t).build(i,e,r)}var Oae="",hB=class{_driver;constructor(i){this._driver=i}build(i,e,r){let n=new fB(e);return this._resetContextStyleTimingState(n),id(this,F2(i),n)}_resetContextStyleTimingState(i){i.currentQuerySelector=Oae,i.collectedStyles=new Map,i.collectedStyles.set(Oae,new Map),i.currentTime=0}visitTrigger(i,e){let r=e.queryCount=0,n=e.depCount=0,a=[],s=[];return i.name.charAt(0)=="@"&&e.errors.push($$e()),i.definitions.forEach(o=>{if(this._resetContextStyleTimingState(e),o.type==En.State){let u=o,l=u.name;l.toString().split(/\s*,\s*/).forEach(c=>{u.name=c,a.push(this.visitState(u,e))}),u.name=l}else if(o.type==En.Transition){let u=this.visitTransition(o,e);r+=u.queryCount,n+=u.depCount,s.push(u)}else e.errors.push(Q$e())}),{type:En.Trigger,name:i.name,states:a,transitions:s,queryCount:r,depCount:n,options:null}}visitState(i,e){let r=this.visitStyle(i.styles,e),n=i.options&&i.options.params||null;if(r.containsDynamicStyles){let a=new Set,s=n||{};r.styles.forEach(o=>{o instanceof Map&&o.forEach(u=>{Qae(u).forEach(l=>{s.hasOwnProperty(l)||a.add(l)})})}),a.size&&e.errors.push(K$e(i.name,[...a.values()]))}return{type:En.State,name:i.name,style:r,options:n?{params:n}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;let r=id(this,F2(i.animation),e),n=RQe(i.expr,e.errors);return{type:En.Transition,matchers:n,animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Mv(i.options)}}visitSequence(i,e){return{type:En.Sequence,steps:i.steps.map(r=>id(this,r,e)),options:Mv(i.options)}}visitGroup(i,e){let r=e.currentTime,n=0,a=i.steps.map(s=>{e.currentTime=r;let o=id(this,s,e);return n=Math.max(n,e.currentTime),o});return e.currentTime=n,{type:En.Group,steps:a,options:Mv(i.options)}}visitAnimate(i,e){let r=VQe(i.timings,e.errors);e.currentAnimateTimings=r;let n,a=i.styles?i.styles:Oi({});if(a.type==En.Keyframes)n=this.visitKeyframes(a,e);else{let s=i.styles,o=!1;if(!s){o=!0;let l={};r.easing&&(l.easing=r.easing),s=Oi(l)}e.currentTime+=r.duration+r.delay;let u=this.visitStyle(s,e);u.isEmptyStep=o,n=u}return e.currentAnimateTimings=null,{type:En.Animate,timings:r,style:n,options:null}}visitStyle(i,e){let r=this._makeStyleAst(i,e);return this._validateStyleAst(r,e),r}_makeStyleAst(i,e){let r=[],n=Array.isArray(i.styles)?i.styles:[i.styles];for(let o of n)typeof o=="string"?o===vf?r.push(o):e.errors.push(Z$e(o)):r.push(new Map(Object.entries(o)));let a=!1,s=null;return r.forEach(o=>{if(o instanceof Map&&(o.has("easing")&&(s=o.get("easing"),o.delete("easing")),!a)){for(let u of o.values())if(u.toString().indexOf(Yae)>=0){a=!0;break}}}),{type:En.Style,styles:r,easing:s,offset:i.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(i,e){let r=e.currentAnimateTimings,n=e.currentTime,a=e.currentTime;r&&a>0&&(a-=r.duration+r.delay),i.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,u)=>{let l=e.collectedStyles.get(e.currentQuerySelector),c=l.get(u),h=!0;c&&(a!=n&&a>=c.startTime&&n<=c.endTime&&(e.errors.push(J$e(u,c.startTime,c.endTime,a,n)),h=!1),a=c.startTime),h&&l.set(u,{startTime:a,endTime:n}),e.options&&AQe(o,e.options,e.errors)})})}visitKeyframes(i,e){let r={type:En.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(q$e()),r;let n=1,a=0,s=[],o=!1,u=!1,l=0,c=i.steps.map(v=>{let y=this._makeStyleAst(v,e),x=y.offset!=null?y.offset:BQe(y.styles),b=0;return x!=null&&(a++,b=y.offset=x),u=u||b<0||b>1,o=o||b<l,l=b,s.push(b),y});u&&e.errors.push(eQe()),o&&e.errors.push(tQe());let h=i.steps.length,d=0;a>0&&a<h?e.errors.push(iQe()):a==0&&(d=n/(h-1));let f=h-1,m=e.currentTime,p=e.currentAnimateTimings,g=p.duration;return c.forEach((v,y)=>{let x=d>0?y==f?1:d*y:s[y],b=x*g;e.currentTime=m+p.delay+b,p.duration=b,this._validateStyleAst(v,e),v.offset=x,r.styles.push(v)}),r}visitReference(i,e){return{type:En.Reference,animation:id(this,F2(i.animation),e),options:Mv(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:En.AnimateChild,options:Mv(i.options)}}visitAnimateRef(i,e){return{type:En.AnimateRef,animation:this.visitReference(i.animation,e),options:Mv(i.options)}}visitQuery(i,e){let r=e.currentQuerySelector,n=i.options||{};e.queryCount++,e.currentQuery=i;let[a,s]=LQe(i.selector);e.currentQuerySelector=r.length?r+" "+a:a,nd(e.collectedStyles,e.currentQuerySelector,new Map);let o=id(this,F2(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:En.Query,selector:a,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:o,originalSelector:i.selector,options:Mv(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(nQe());let r=i.timings==="full"?{duration:0,delay:0,easing:"full"}:UD(i.timings,e.errors,!0);return{type:En.Stagger,animation:id(this,F2(i.animation),e),timings:r,options:null}}};function LQe(t){let i=!!t.split(/\s*,\s*/).find(e=>e==Kae);return i&&(t=t.replace(OQe,"")),t=t.replace(/@\*/g,zD).replace(/@\w+/g,e=>zD+"-"+e.slice(1)).replace(/:animating/g,cB),[t,i]}function NQe(t){return t?ht({},t):null}var fB=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(i){this.errors=i}};function BQe(t){if(typeof t=="string")return null;let i=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){let r=e;i=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let e=t;i=parseFloat(e.get("offset")),e.delete("offset")}return i}function VQe(t,i){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let a=UD(t,i).duration;return nB(a,0,"")}let e=t;if(e.split(/\s+/).some(a=>a.charAt(0)=="{"&&a.charAt(1)=="{")){let a=nB(0,0,"");return a.dynamic=!0,a.strValue=e,a}let n=UD(e,i);return nB(n.duration,n.delay,n.easing)}function Mv(t){return t?(t=ht({},t),t.params&&(t.params=NQe(t.params))):t={},t}function nB(t,i,e){return{duration:t,delay:i,easing:e}}function IB(t,i,e,r,n,a,s=null,o=!1){return{type:1,element:t,keyframes:i,preStyleProps:e,postStyleProps:r,duration:n,delay:a,totalTime:n+a,easing:s,subTimeline:o}}var N2=class{_map=new Map;get(i){return this._map.get(i)||[]}append(i,e){let r=this._map.get(i);r||this._map.set(i,r=[]),r.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}},zQe=1,UQe=":enter",HQe=new RegExp(UQe,"g"),GQe=":leave",jQe=new RegExp(GQe,"g");function Jae(t,i,e,r,n,a=new Map,s=new Map,o,u,l=[]){return new pB().buildKeyframes(t,i,e,r,n,a,s,o,u,l)}var pB=class{buildKeyframes(i,e,r,n,a,s,o,u,l,c=[]){l=l||new N2;let h=new mB(i,e,l,n,a,c,[]);h.options=u;let d=u.delay?om(u.delay):0;h.currentTimeline.delayNextStep(d),h.currentTimeline.setStyles([s],null,h.errors,u),id(this,r,h);let f=h.timelines.filter(m=>m.containsAnimation());if(f.length&&o.size){let m;for(let p=f.length-1;p>=0;p--){let g=f[p];if(g.element===e){m=g;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([o],null,h.errors,u)}return f.length?f.map(m=>m.buildKeyframes()):[IB(e,[],[],[],0,d,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){let r=e.subInstructions.get(e.element);if(r){let n=e.createSubContext(i.options),a=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,n,n.options);a!=s&&e.transformIntoNewTimeline(s)}e.previousNode=i}visitAnimateRef(i,e){let r=e.createSubContext(i.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,r),this.visitReference(i.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,r){for(let n of i){let a=n?.delay;if(a){let s=typeof a=="number"?a:om(L2(a,n?.params??{},e.errors));r.delayNextStep(s)}}}_visitSubInstructions(i,e,r){let a=e.currentTimeline.currentTime,s=r.duration!=null?om(r.duration):null,o=r.delay!=null?om(r.delay):null;return s!==0&&i.forEach(u=>{let l=e.appendInstructionToTimeline(u,s,o);a=Math.max(a,l.duration+l.delay)}),a}visitReference(i,e){e.updateOptions(i.options,!0),id(this,i.animation,e),e.previousNode=i}visitSequence(i,e){let r=e.subContextCount,n=e,a=i.options;if(a&&(a.params||a.delay)&&(n=e.createSubContext(a),n.transformIntoNewTimeline(),a.delay!=null)){n.previousNode.type==En.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=jD);let s=om(a.delay);n.delayNextStep(s)}i.steps.length&&(i.steps.forEach(s=>id(this,s,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>r&&n.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){let r=[],n=e.currentTimeline.currentTime,a=i.options&&i.options.delay?om(i.options.delay):0;i.steps.forEach(s=>{let o=e.createSubContext(i.options);a&&o.delayNextStep(a),id(this,s,o),n=Math.max(n,o.currentTimeline.currentTime),r.push(o.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(n),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){let r=i.strValue,n=e.params?L2(r,e.params,e.errors):r;return UD(n,e.errors)}else return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){let r=e.currentAnimateTimings=this._visitTiming(i.timings,e),n=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),n.snapshotCurrentStyles());let a=i.style;a.type==En.Keyframes?this.visitKeyframes(a,e):(e.incrementTime(r.duration),this.visitStyle(a,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){let r=e.currentTimeline,n=e.currentAnimateTimings;!n&&r.hasCurrentStyleProperties()&&r.forwardFrame();let a=n&&n.easing||i.easing;i.isEmptyStep?r.applyEmptyStep(a):r.setStyles(i.styles,a,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){let r=e.currentAnimateTimings,n=e.currentTimeline.duration,a=r.duration,o=e.createSubContext().currentTimeline;o.easing=r.easing,i.styles.forEach(u=>{let l=u.offset||0;o.forwardTime(l*a),o.setStyles(u.styles,u.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(n+a),e.previousNode=i}visitQuery(i,e){let r=e.currentTimeline.currentTime,n=i.options||{},a=n.delay?om(n.delay):0;a&&(e.previousNode.type===En.Style||r==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=jD);let s=r,o=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=o.length;let u=null;o.forEach((l,c)=>{e.currentQueryIndex=c;let h=e.createSubContext(i.options,l);a&&h.delayNextStep(a),l===e.element&&(u=h.currentTimeline),id(this,i.animation,h),h.currentTimeline.applyStylesToKeyframe();let d=h.currentTimeline.currentTime;s=Math.max(s,d)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){let r=e.parentContext,n=e.currentTimeline,a=i.timings,s=Math.abs(a.duration),o=s*(e.currentQueryTotal-1),u=s*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":u=o-u;break;case"full":u=r.currentStaggerTime;break}let c=e.currentTimeline;u&&c.delayNextStep(u);let h=c.currentTime;id(this,i.animation,e),e.previousNode=i,r.currentStaggerTime=n.currentTime-h+(n.startTime-r.currentTimeline.startTime)}},jD={},mB=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=jD;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(i,e,r,n,a,s,o,u){this._driver=i,this.element=e,this.subInstructions=r,this._enterClassName=n,this._leaveClassName=a,this.errors=s,this.timelines=o,this.currentTimeline=u||new WD(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;let r=i,n=this.options;r.duration!=null&&(n.duration=om(r.duration)),r.delay!=null&&(n.delay=om(r.delay));let a=r.params;if(a){let s=n.params;s||(s=this.options.params={}),Object.keys(a).forEach(o=>{(!e||!s.hasOwnProperty(o))&&(s[o]=L2(a[o],s,this.errors))})}}_copyOptions(){let i={};if(this.options){let e=this.options.params;if(e){let r=i.params={};Object.keys(e).forEach(n=>{r[n]=e[n]})}}return i}createSubContext(i=null,e,r){let n=e||this.element,a=new t(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(i),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(i){return this.previousNode=jD,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,r){let n={duration:e??i.duration,delay:this.currentTimeline.currentTime+(r??0)+i.delay,easing:""},a=new gB(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,n,i.stretchStartingKeyframe);return this.timelines.push(a),n}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,r,n,a,s){let o=[];if(n&&o.push(this.element),i.length>0){i=i.replace(HQe,"."+this._enterClassName),i=i.replace(jQe,"."+this._leaveClassName);let u=r!=1,l=this._driver.query(this.element,i,u);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),o.push(...l)}return!a&&o.length==0&&s.push(rQe(e)),o}},WD=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(i,e,r,n){this._driver=i,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=n,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new t(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=zQe,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||vf),this._currentKeyframe.set(e,vf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,r,n){e&&this._previousKeyframe.set("easing",e);let a=n&&n.params||{},s=WQe(i,this._globalTimelineStyles);for(let[o,u]of s){let l=L2(u,a,r);this._pendingStyles.set(o,l),this._localTimelineStyles.has(o)||this._backFill.set(o,this._globalTimelineStyles.get(o)??vf),this._updateStyle(o,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,r)=>{let n=this._styleSummary.get(r);(!n||e.time>n.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,e=new Set,r=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((o,u)=>{let l=new Map([...this._backFill,...o]);l.forEach((c,h)=>{c===vE?i.add(h):c===vf&&e.add(h)}),r||l.set("offset",u/this.duration),n.push(l)});let a=[...i.values()],s=[...e.values()];if(r){let o=n[0],u=new Map(o);o.set("offset",0),u.set("offset",1),n=[o,u]}return IB(this.element,n,a,s,this.duration,this.startTime,this.easing,!1)}},gB=class extends WD{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(i,e,r,n,a,s,o=!1){super(i,e,s.delay),this.keyframes=r,this.preStyleProps=n,this.postStyleProps=a,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:r,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){let a=[],s=r+e,o=e/s,u=new Map(i[0]);u.set("offset",0),a.push(u);let l=new Map(i[0]);l.set("offset",Lae(o)),a.push(l);let c=i.length-1;for(let h=1;h<=c;h++){let d=new Map(i[h]),f=d.get("offset"),m=e+f*r;d.set("offset",Lae(m/s)),a.push(d)}r=s,e=0,n="",i=a}return IB(this.element,i,this.preStyleProps,this.postStyleProps,r,e,n,!0)}};function Lae(t,i=3){let e=Math.pow(10,i-1);return Math.round(t*e)/e}function WQe(t,i){let e=new Map,r;return t.forEach(n=>{if(n==="*"){r??=i.keys();for(let a of r)e.set(a,vf)}else for(let[a,s]of n)e.set(a,s)}),e}function Nae(t,i,e,r,n,a,s,o,u,l,c,h,d){return{type:0,element:t,triggerName:i,isRemovalTransition:n,fromState:e,fromStyles:a,toState:r,toStyles:s,timelines:o,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:d}}var rB={},XD=class{_triggerName;ast;_stateStyles;constructor(i,e,r){this._triggerName=i,this.ast=e,this._stateStyles=r}match(i,e,r,n){return XQe(this.ast.matchers,i,e,r,n)}buildStyles(i,e,r){let n=this._stateStyles.get("*");return i!==void 0&&(n=this._stateStyles.get(i?.toString())||n),n?n.buildStyles(e,r):new Map}build(i,e,r,n,a,s,o,u,l,c){let h=[],d=this.ast.options&&this.ast.options.params||rB,f=o&&o.params||rB,m=this.buildStyles(r,f,h),p=u&&u.params||rB,g=this.buildStyles(n,p,h),v=new Set,y=new Map,x=new Map,b=n==="void",w={params:qae(p,d),delay:this.ast.options?.delay},C=c?[]:Jae(i,e,this.ast.animation,a,s,m,g,w,l,h),_=0;return C.forEach(S=>{_=Math.max(S.duration+S.delay,_)}),h.length?Nae(e,this._triggerName,r,n,b,m,g,[],[],y,x,_,h):(C.forEach(S=>{let T=S.element,A=nd(y,T,new Set);S.preStyleProps.forEach(I=>A.add(I));let M=nd(x,T,new Set);S.postStyleProps.forEach(I=>M.add(I)),T!==e&&v.add(T)}),Nae(e,this._triggerName,r,n,b,m,g,C,[...v.values()],y,x,_))}};function XQe(t,i,e,r,n){return t.some(a=>a(i,e,r,n))}function qae(t,i){let e=ht({},i);return Object.entries(t).forEach(([r,n])=>{n!=null&&(e[r]=n)}),e}var vB=class{styles;defaultParams;normalizer;constructor(i,e,r){this.styles=i,this.defaultParams=e,this.normalizer=r}buildStyles(i,e){let r=new Map,n=qae(i,this.defaultParams);return this.styles.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,o)=>{s&&(s=L2(s,n,e));let u=this.normalizer.normalizePropertyName(o,e);s=this.normalizer.normalizeStyleValue(o,u,s,e),r.set(o,s)})}),r}};function YQe(t,i,e){return new yB(t,i,e)}var yB=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(i,e,r){this.name=i,this.ast=e,this._normalizer=r,e.states.forEach(n=>{let a=n.options&&n.options.params||{};this.states.set(n.name,new vB(n.style,a,r))}),Bae(this.states,"true","1"),Bae(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new XD(i,n,this.states))}),this.fallbackTransition=$Qe(i,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,r,n){return this.transitionFactories.find(s=>s.match(i,e,r,n))||null}matchStyles(i,e,r){return this.fallbackTransition.buildStyles(i,e,r)}};function $Qe(t,i,e){let r=[(s,o)=>!0],n={type:En.Sequence,steps:[],options:null},a={type:En.Transition,animation:n,matchers:r,options:null,queryCount:0,depCount:0};return new XD(t,a,i)}function Bae(t,i,e){t.has(i)?t.has(e)||t.set(e,t.get(i)):t.has(e)&&t.set(i,t.get(e))}var QQe=new N2,xB=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(i,e,r){this.bodyNode=i,this._driver=e,this._normalizer=r}register(i,e){let r=[],n=[],a=Zae(this._driver,e,r,n);if(r.length)throw cQe(r);this._animations.set(i,a)}_buildPlayer(i,e,r){let n=i.element,a=jae(this._normalizer,i.keyframes,e,r);return this._driver.animate(n,a,i.duration,i.delay,i.easing,[],!0)}create(i,e,r={}){let n=[],a=this._animations.get(i),s,o=new Map;if(a?(s=Jae(this._driver,e,a,$ae,lB,new Map,new Map,r,QQe,n),s.forEach(c=>{let h=nd(o,c.element,new Map);c.postStyleProps.forEach(d=>h.set(d,null))})):(n.push(uQe()),s=[]),n.length)throw dQe(n);o.forEach((c,h)=>{c.forEach((d,f)=>{c.set(f,this._driver.computeStyle(h,f,vf))})});let u=s.map(c=>{let h=o.get(c.element);return this._buildPlayer(c,new Map,h)}),l=N0(u);return this._playersById.set(i,l),l.onDestroy(()=>this.destroy(i)),this.players.push(l),l}destroy(i){let e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);let r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(i){let e=this._playersById.get(i);if(!e)throw hQe(i);return e}listen(i,e,r,n){let a=SB(e,"","","");return CB(this._getPlayer(i),r,a,n),()=>{}}command(i,e,r,n){if(r=="register"){this.register(i,n[0]);return}if(r=="create"){let s=n[0]||{};this.create(i,e,s);return}let a=this._getPlayer(i);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(i);break}}},Vae="ng-animate-queued",KQe=".ng-animate-queued",sB="ng-animate-disabled",ZQe=".ng-animate-disabled",JQe="ng-star-inserted",qQe=".ng-star-inserted",eKe=[],eoe={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tKe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vh="__ng_removed",B2=class{namespaceId;value;options;get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;let r=i&&i.hasOwnProperty("value"),n=r?i.value:i;if(this.value=nKe(n),r){let a=i,{value:s}=a,o=d5(a,["value"]);this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){let e=i.params;if(e){let r=this.options.params;Object.keys(e).forEach(n=>{r[n]==null&&(r[n]=e[n])})}}},O2="void",aB=new B2(O2),bB=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(i,e,r){this.id=i,this.hostElement=e,this._engine=r,this._hostClassName="ng-tns-"+i,Xd(e,this._hostClassName)}listen(i,e,r,n){if(!this._triggers.has(e))throw fQe(r,e);if(r==null||r.length==0)throw pQe(e);if(!rKe(r))throw mQe(r,e);let a=nd(this._elementListeners,i,[]),s={name:e,phase:r,callback:n};a.push(s);let o=nd(this._engine.statesByElement,i,new Map);return o.has(e)||(Xd(i,OD),Xd(i,OD+"-"+e),o.set(e,aB)),()=>{this._engine.afterFlush(()=>{let u=a.indexOf(s);u>=0&&a.splice(u,1),this._triggers.has(e)||o.delete(e)})}}register(i,e){return this._triggers.has(i)?!1:(this._triggers.set(i,e),!0)}_getTrigger(i){let e=this._triggers.get(i);if(!e)throw gQe(i);return e}trigger(i,e,r,n=!0){let a=this._getTrigger(e),s=new V2(this.id,e,i),o=this._engine.statesByElement.get(i);o||(Xd(i,OD),Xd(i,OD+"-"+e),this._engine.statesByElement.set(i,o=new Map));let u=o.get(e),l=new B2(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),o.set(e,l),u||(u=aB),!(l.value===O2)&&u.value===l.value){if(!oKe(u.params,l.params)){let p=[],g=a.matchStyles(u.value,u.params,p),v=a.matchStyles(l.value,l.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(()=>{Iv(i,g),qf(i,v)})}return}let d=nd(this._engine.playersByElement,i,[]);d.forEach(p=>{p.namespaceId==this.id&&p.triggerName==e&&p.queued&&p.destroy()});let f=a.matchTransition(u.value,l.value,i,l.params),m=!1;if(!f){if(!n)return;f=a.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:f,fromState:u,toState:l,player:s,isFallbackTransition:m}),m||(Xd(i,Vae),s.onStart(()=>{Zx(i,Vae)})),s.onDone(()=>{let p=this.players.indexOf(s);p>=0&&this.players.splice(p,1);let g=this._engine.playersByElement.get(i);if(g){let v=g.indexOf(s);v>=0&&g.splice(v,1)}}),this.players.push(s),d.push(s),s}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(n=>n.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let e=this._engine.playersByElement.get(i);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){let r=this._engine.driver.query(i,zD,!0);r.forEach(n=>{if(n[Vh])return;let a=this._engine.fetchNamespacesByElement(n);a.size?a.forEach(s=>s.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(i,e,r,n){let a=this._engine.statesByElement.get(i),s=new Map;if(a){let o=[];if(a.forEach((u,l)=>{if(s.set(l,u.value),this._triggers.has(l)){let c=this.trigger(i,l,O2,n);c&&o.push(c)}}),o.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,s),r&&N0(o).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){let e=this._elementListeners.get(i),r=this._engine.statesByElement.get(i);if(e&&r){let n=new Set;e.forEach(a=>{let s=a.name;if(n.has(s))return;n.add(s);let u=this._triggers.get(s).fallbackTransition,l=r.get(s)||aB,c=new B2(O2),h=new V2(this.id,s,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:s,transition:u,fromState:l,toState:c,player:h,isFallbackTransition:!0})})}}removeNode(i,e){let r=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let n=!1;if(r.totalAnimations){let a=r.players.length?r.playersByQueriedElement.get(i):[];if(a&&a.length)n=!0;else{let s=i;for(;s=s.parentNode;)if(r.statesByElement.get(s)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(i),n)r.markElementAsRemoved(this.id,i,!1,e);else{let a=i[Vh];(!a||a===eoe)&&(r.afterFlush(()=>this.clearElementCache(i)),r.destroyInnerAnimations(i),r._onRemovalComplete(i,e))}}insertNode(i,e){Xd(i,this._hostClassName)}drainQueuedTransitions(i){let e=[];return this._queue.forEach(r=>{let n=r.player;if(n.destroyed)return;let a=r.element,s=this._elementListeners.get(a);s&&s.forEach(o=>{if(o.name==r.triggerName){let u=SB(a,r.triggerName,r.fromState.value,r.toState.value);u._data=i,CB(r.player,o.phase,u,o.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(r)}),this._queue=[],e.sort((r,n)=>{let a=r.transition.ast.depCount,s=n.transition.ast.depCount;return a==0||s==0?a-s:this._engine.driver.containsElement(r.element,n.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}},_B=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(i,e)=>{};_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,r){this.bodyNode=i,this.driver=e,this._normalizer=r}get queuedPlayers(){let i=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&i.push(r)})}),i}createNamespace(i,e){let r=new bB(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[i]=r}_balanceNamespaceList(i,e){let r=this._namespaceList,n=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,o=this.driver.getParentElement(e);for(;o;){let u=n.get(o);if(u){let l=r.indexOf(u);r.splice(l+1,0,i),s=!0;break}o=this.driver.getParentElement(o)}s||r.unshift(i)}else r.push(i);return n.set(e,i),i}register(i,e){let r=this._namespaceLookup[i];return r||(r=this.createNamespace(i,e)),r}registerTrigger(i,e,r){let n=this._namespaceLookup[i];n&&n.register(e,r)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(i);this.namespacesByHostElement.delete(r.hostElement);let n=this._namespaceList.indexOf(r);n>=0&&this._namespaceList.splice(n,1),r.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let e=new Set,r=this.statesByElement.get(i);if(r){for(let n of r.values())if(n.namespaceId){let a=this._fetchNamespace(n.namespaceId);a&&e.add(a)}}return e}trigger(i,e,r,n){if(BD(e)){let a=this._fetchNamespace(i);if(a)return a.trigger(e,r,n),!0}return!1}insertNode(i,e,r,n){if(!BD(e))return;let a=e[Vh];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(i){let s=this._fetchNamespace(i);s&&s.insertNode(e,r)}n&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Xd(i,sB)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Zx(i,sB))}removeNode(i,e,r){if(BD(e)){let n=i?this._fetchNamespace(i):null;n?n.removeNode(e,r):this.markElementAsRemoved(i,e,!1,r);let a=this.namespacesByHostElement.get(e);a&&a.id!==i&&a.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(i,e,r,n,a){this.collectedLeaveElements.push(e),e[Vh]={namespaceId:i,setForRemoval:n,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(i,e,r,n,a){return BD(e)?this._fetchNamespace(i).listen(e,r,n,a):()=>{}}_buildInstruction(i,e,r,n,a){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,r,n,i.fromState.options,i.toState.options,e,a)}destroyInnerAnimations(i){let e=this.driver.query(i,zD,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(i,cB,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(i){let e=this.playersByElement.get(i);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(i){let e=this.playersByQueriedElement.get(i);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return N0(this.players).onDone(()=>i());i()})}processLeaveNode(i){let e=i[Vh];if(e&&e.setForRemoval){if(i[Vh]=eoe,e.namespaceId){this.destroyInnerAnimations(i);let r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(sB)&&this.markElementAsDisabled(i,!1),this.driver.query(i,ZQe,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,n)=>this._balanceNamespaceList(r,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let n=this.collectedEnterElements[r];Xd(n,JQe)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{e=this._flushAnimations(r,i)}finally{for(let n=0;n<r.length;n++)r[n]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let n=this.collectedLeaveElements[r];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],e.length?N0(e).onDone(()=>{r.forEach(n=>n())}):r.forEach(n=>n())}}reportError(i){throw vQe(i)}_flushAnimations(i,e){let r=new N2,n=[],a=new Map,s=[],o=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(R=>{c.add(R);let H=this.driver.query(R,KQe,!0);for(let j=0;j<H.length;j++)c.add(H[j])});let h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=Hae(d,this.collectedEnterElements),m=new Map,p=0;f.forEach((R,H)=>{let j=$ae+p++;m.set(H,j),R.forEach(Z=>Xd(Z,j))});let g=[],v=new Set,y=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){let H=this.collectedLeaveElements[R],j=H[Vh];j&&j.setForRemoval&&(g.push(H),v.add(H),j.hasAnimation?this.driver.query(H,qQe,!0).forEach(Z=>v.add(Z)):y.add(H))}let x=new Map,b=Hae(d,Array.from(v));b.forEach((R,H)=>{let j=lB+p++;x.set(H,j),R.forEach(Z=>Xd(Z,j))}),i.push(()=>{f.forEach((R,H)=>{let j=m.get(H);R.forEach(Z=>Zx(Z,j))}),b.forEach((R,H)=>{let j=x.get(H);R.forEach(Z=>Zx(Z,j))}),g.forEach(R=>{this.processLeaveNode(R)})});let w=[],C=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(e).forEach(j=>{let Z=j.player,ee=j.element;if(w.push(Z),this.collectedEnterElements.length){let re=ee[Vh];if(re&&re.setForMove){if(re.previousTriggersValues&&re.previousTriggersValues.has(j.triggerName)){let q=re.previousTriggersValues.get(j.triggerName),ae=this.statesByElement.get(j.element);if(ae&&ae.has(j.triggerName)){let ue=ae.get(j.triggerName);ue.value=q,ae.set(j.triggerName,ue)}}Z.destroy();return}}let Y=!h||!this.driver.containsElement(h,ee),V=x.get(ee),O=m.get(ee),F=this._buildInstruction(j,r,O,V,Y);if(F.errors&&F.errors.length){C.push(F);return}if(Y){Z.onStart(()=>Iv(ee,F.fromStyles)),Z.onDestroy(()=>qf(ee,F.toStyles)),n.push(Z);return}if(j.isFallbackTransition){Z.onStart(()=>Iv(ee,F.fromStyles)),Z.onDestroy(()=>qf(ee,F.toStyles)),n.push(Z);return}let X=[];F.timelines.forEach(re=>{re.stretchStartingKeyframe=!0,this.disabledNodes.has(re.element)||X.push(re)}),F.timelines=X,r.append(ee,F.timelines);let ie={instruction:F,player:Z,element:ee};s.push(ie),F.queriedElements.forEach(re=>nd(o,re,[]).push(Z)),F.preStyleProps.forEach((re,q)=>{if(re.size){let ae=u.get(q);ae||u.set(q,ae=new Set),re.forEach((ue,me)=>ae.add(me))}}),F.postStyleProps.forEach((re,q)=>{let ae=l.get(q);ae||l.set(q,ae=new Set),re.forEach((ue,me)=>ae.add(me))})});if(C.length){let R=[];C.forEach(H=>{R.push(yQe(H.triggerName,H.errors))}),w.forEach(H=>H.destroy()),this.reportError(R)}let _=new Map,S=new Map;s.forEach(R=>{let H=R.element;r.has(H)&&(S.set(H,H),this._beforeAnimationBuild(R.player.namespaceId,R.instruction,_))}),n.forEach(R=>{let H=R.element;this._getPreviousPlayers(H,!1,R.namespaceId,R.triggerName,null).forEach(Z=>{nd(_,H,[]).push(Z),Z.destroy()})});let T=g.filter(R=>Gae(R,u,l)),A=new Map;Uae(A,this.driver,y,l,vf).forEach(R=>{Gae(R,u,l)&&T.push(R)});let I=new Map;f.forEach((R,H)=>{Uae(I,this.driver,new Set(R),u,vE)}),T.forEach(R=>{let H=A.get(R),j=I.get(R);A.set(R,new Map([...H?.entries()??[],...j?.entries()??[]]))});let D=[],k=[],G={};s.forEach(R=>{let{element:H,player:j,instruction:Z}=R;if(r.has(H)){if(c.has(H)){j.onDestroy(()=>qf(H,Z.toStyles)),j.disabled=!0,j.overrideTotalTime(Z.totalTime),n.push(j);return}let ee=G;if(S.size>1){let V=H,O=[];for(;V=V.parentNode;){let F=S.get(V);if(F){ee=F;break}O.push(V)}O.forEach(F=>S.set(F,ee))}let Y=this._buildAnimation(j.namespaceId,Z,_,a,I,A);if(j.setRealPlayer(Y),ee===G)D.push(j);else{let V=this.playersByElement.get(ee);V&&V.length&&(j.parentPlayer=N0(V)),n.push(j)}}else Iv(H,Z.fromStyles),j.onDestroy(()=>qf(H,Z.toStyles)),k.push(j),c.has(H)&&n.push(j)}),k.forEach(R=>{let H=a.get(R.element);if(H&&H.length){let j=N0(H);R.setRealPlayer(j)}}),n.forEach(R=>{R.parentPlayer?R.syncPlayerEvents(R.parentPlayer):R.destroy()});for(let R=0;R<g.length;R++){let H=g[R],j=H[Vh];if(Zx(H,lB),j&&j.hasAnimation)continue;let Z=[];if(o.size){let Y=o.get(H);Y&&Y.length&&Z.push(...Y);let V=this.driver.query(H,cB,!0);for(let O=0;O<V.length;O++){let F=o.get(V[O]);F&&F.length&&Z.push(...F)}}let ee=Z.filter(Y=>!Y.destroyed);ee.length?sKe(this,H,ee):this.processLeaveNode(H)}return g.length=0,D.forEach(R=>{this.players.push(R),R.onDone(()=>{R.destroy();let H=this.players.indexOf(R);this.players.splice(H,1)}),R.play()}),D}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,r,n,a){let s=[];if(e){let o=this.playersByQueriedElement.get(i);o&&(s=o)}else{let o=this.playersByElement.get(i);if(o){let u=!a||a==O2;o.forEach(l=>{l.queued||!u&&l.triggerName!=n||s.push(l)})}}return(r||n)&&(s=s.filter(o=>!(r&&r!=o.namespaceId||n&&n!=o.triggerName))),s}_beforeAnimationBuild(i,e,r){let n=e.triggerName,a=e.element,s=e.isRemovalTransition?void 0:i,o=e.isRemovalTransition?void 0:n;for(let u of e.timelines){let l=u.element,c=l!==a,h=nd(r,l,[]);this._getPreviousPlayers(l,c,s,o,e.toState).forEach(f=>{let m=f.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),f.destroy(),h.push(f)})}Iv(a,e.fromStyles)}_buildAnimation(i,e,r,n,a,s){let o=e.triggerName,u=e.element,l=[],c=new Set,h=new Set,d=e.timelines.map(m=>{let p=m.element;c.add(p);let g=p[Vh];if(g&&g.removedBeforeQueried)return new Xm(m.duration,m.delay);let v=p!==u,y=aKe((r.get(p)||eKe).map(_=>_.getRealPlayer())).filter(_=>{let S=_;return S.element?S.element===p:!1}),x=a.get(p),b=s.get(p),w=jae(this._normalizer,m.keyframes,x,b),C=this._buildPlayer(m,w,y);if(m.subTimeline&&n&&h.add(p),v){let _=new V2(i,o,p);_.setRealPlayer(C),l.push(_)}return C});l.forEach(m=>{nd(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>iKe(this.playersByQueriedElement,m.element,m))}),c.forEach(m=>Xd(m,kae));let f=N0(d);return f.onDestroy(()=>{c.forEach(m=>Zx(m,kae)),qf(u,e.toStyles)}),h.forEach(m=>{nd(n,m,[]).push(f)}),f}_buildPlayer(i,e,r){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,r):new Xm(i.duration,i.delay)}},V2=class{namespaceId;triggerName;element;_player=new Xm;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(i,e,r){this.namespaceId=i,this.triggerName=e,this.element=r}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,r)=>{e.forEach(n=>CB(i,r,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){let e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){nd(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let e=this._player;e.triggerCallback&&e.triggerCallback(i)}};function iKe(t,i,e){let r=t.get(i);if(r){if(r.length){let n=r.indexOf(e);r.splice(n,1)}r.length==0&&t.delete(i)}return r}function nKe(t){return t??null}function BD(t){return t&&t.nodeType===1}function rKe(t){return t=="start"||t=="done"}function zae(t,i){let e=t.style.display;return t.style.display=i??"none",e}function Uae(t,i,e,r,n){let a=[];e.forEach(u=>a.push(zae(u)));let s=[];r.forEach((u,l)=>{let c=new Map;u.forEach(h=>{let d=i.computeStyle(l,h,n);c.set(h,d),(!d||d.length==0)&&(l[Vh]=tKe,s.push(l))}),t.set(l,c)});let o=0;return e.forEach(u=>zae(u,a[o++])),s}function Hae(t,i){let e=new Map;if(t.forEach(o=>e.set(o,[])),i.length==0)return e;let r=1,n=new Set(i),a=new Map;function s(o){if(!o)return r;let u=a.get(o);if(u)return u;let l=o.parentNode;return e.has(l)?u=l:n.has(l)?u=r:u=s(l),a.set(o,u),u}return i.forEach(o=>{let u=s(o);u!==r&&e.get(u).push(o)}),e}function Xd(t,i){t.classList?.add(i)}function Zx(t,i){t.classList?.remove(i)}function sKe(t,i,e){N0(e).onDone(()=>t.processLeaveNode(i))}function aKe(t){let i=[];return toe(t,i),i}function toe(t,i){for(let e=0;e<t.length;e++){let r=t[e];r instanceof T_?toe(r.players,i):i.push(r)}}function oKe(t,i){let e=Object.keys(t),r=Object.keys(i);if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++){let a=e[n];if(!i.hasOwnProperty(a)||t[a]!==i[a])return!1}return!0}function Gae(t,i,e){let r=e.get(t);if(!r)return!1;let n=i.get(t);return n?r.forEach(a=>n.add(a)):i.set(t,r),e.delete(t),!0}var Jx=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(i,e)=>{};constructor(i,e,r){this._driver=e,this._normalizer=r,this._transitionEngine=new _B(i.body,e,r),this._timelineEngine=new xB(i.body,e,r),this._transitionEngine.onRemovalComplete=(n,a)=>this.onRemovalComplete(n,a)}registerTrigger(i,e,r,n,a){let s=i+"-"+n,o=this._triggerCache[s];if(!o){let u=[],l=[],c=Zae(this._driver,a,u,l);if(u.length)throw oQe(n,u);o=YQe(n,c,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,n,o)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,r,n){this._transitionEngine.insertNode(i,e,r,n)}onRemove(i,e,r){this._transitionEngine.removeNode(i,e,r)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,r,n){if(r.charAt(0)=="@"){let[a,s]=Pae(r),o=n;this._timelineEngine.command(a,e,s,o)}else this._transitionEngine.trigger(i,e,r,n)}listen(i,e,r,n,a){if(r.charAt(0)=="@"){let[s,o]=Pae(r);return this._timelineEngine.listen(s,e,o,a)}return this._transitionEngine.listen(i,e,r,n,a)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}};function lKe(t,i){let e=null,r=null;return Array.isArray(i)&&i.length?(e=oB(i[0]),i.length>1&&(r=oB(i[i.length-1]))):i instanceof Map&&(e=oB(i)),e||r?new cKe(t,e,r):null}var cKe=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,r,n){this._element=e,this._startStyles=r,this._endStyles=n;let a=t.initialStylesByElement.get(e);a||t.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&qf(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qf(this._element,this._initialStyles),this._endStyles&&(qf(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Iv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Iv(this._element,this._endStyles),this._endStyles=null),qf(this._element,this._initialStyles),this._state=3)}}return t})();function oB(t){let i=null;return t.forEach((e,r)=>{uKe(r)&&(i=i||new Map,i.set(r,e))}),i}function uKe(t){return t==="display"||t==="position"}var YD=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(i,e,r,n){this.element=i,this.keyframes=e,this.options=r,this._specialStyles=n,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){let e=[];return i.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(i,e,r){return i.animate(this._convertKeyframesToObject(e),r)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,n)=>{n!=="offset"&&i.set(n,this._finished?r:MB(this.element,n))}),this.currentSnapshot=i}triggerCallback(i){let e=i==="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},$D=class{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,e){return Wae(i,e)}getParentElement(i){return TB(i)}query(i,e,r){return Xae(i,e,r)}computeStyle(i,e,r){return MB(i,e)}animate(i,e,r,n,a,s=[]){let o=n==0?"both":"forwards",u={duration:r,delay:n,fill:o};a&&(u.easing=a);let l=new Map,c=s.filter(f=>f instanceof YD);IQe(r,n)&&c.forEach(f=>{f.currentSnapshot.forEach((m,p)=>l.set(p,m))});let h=EQe(e).map(f=>new Map(f));h=DQe(i,h,l);let d=lKe(i,h);return new YD(i,h,u,d)}};var VD="@",ioe="@.disabled",QD=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(i,e,r,n){this.namespaceId=i,this.delegate=e,this.engine=r,this._onDestroy=n}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,r,n=!0){this.delegate.insertBefore(i,e,r),this.engine.onInsert(this.namespaceId,e,i,n)}removeChild(i,e,r){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,r,n){this.delegate.setAttribute(i,e,r,n)}removeAttribute(i,e,r){this.delegate.removeAttribute(i,e,r)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,r,n){this.delegate.setStyle(i,e,r,n)}removeStyle(i,e,r){this.delegate.removeStyle(i,e,r)}setProperty(i,e,r){e.charAt(0)==VD&&e==ioe?this.disableAnimations(i,!!r):this.delegate.setProperty(i,e,r)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,r,n){return this.delegate.listen(i,e,r,n)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}},wB=class extends QD{factory;constructor(i,e,r,n,a){super(e,r,n,a),this.factory=i,this.namespaceId=e}setProperty(i,e,r){e.charAt(0)==VD?e.charAt(1)=="."&&e==ioe?(r=r===void 0?!0:!!r,this.disableAnimations(i,r)):this.engine.process(this.namespaceId,i,e.slice(1),r):this.delegate.setProperty(i,e,r)}listen(i,e,r,n){if(e.charAt(0)==VD){let a=dKe(i),s=e.slice(1),o="";return s.charAt(0)!=VD&&([s,o]=hKe(s)),this.engine.listen(this.namespaceId,a,s,o,u=>{let l=u._data||-1;this.factory.scheduleListenerCallback(l,r,u)})}return this.delegate.listen(i,e,r,n)}};function dKe(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function hKe(t){let i=t.indexOf("."),e=t.substring(0,i),r=t.slice(i+1);return[e,r]}var KD=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(i,e,r){this.delegate=i,this.engine=e,this._zone=r,e.onRemovalComplete=(n,a)=>{a?.removeChild(null,n)}}createRenderer(i,e){let r="",n=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){let l=this._rendererCache,c=l.get(n);if(!c){let h=()=>l.delete(n);c=new QD(r,n,this.engine,h),l.set(n,c)}return c}let a=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,i);let o=l=>{Array.isArray(l)?l.forEach(o):this.engine.registerTrigger(a,s,i,l.name,l)};return e.data.animation.forEach(o),new wB(this,s,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,e,r){if(i>=0&&i<this._microtaskId){this._zone.run(()=>e(r));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(a=>{let[s,o]=a;s(o)}),this._animationCallbacksBuffer=[]})}),n.push([e,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(i){this.engine.flush(),this.delegate.componentReplaced?.(i)}};var pKe=(()=>{class t extends Jx{constructor(e,r,n){super(e,r,n)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||t)(yi(Di),yi(Dv),yi(Pv))};static \u0275prov=wt({token:t,factory:t.\u0275fac})}return t})();function mKe(){return new HD}function gKe(t,i,e){return new KD(t,i,e)}var roe=[{provide:Pv,useFactory:mKe},{provide:Jx,useClass:pKe},{provide:Dl,useFactory:gKe,deps:[ET,Jx,ri]}],noe=[{provide:Dv,useFactory:()=>new $D},{provide:Un,useValue:"BrowserAnimations"},...roe],vKe=[{provide:Dv,useClass:EB},{provide:Un,useValue:"NoopAnimations"},...roe],soe=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?vKe:noe}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({providers:noe,imports:[MT]})}return t})();var aoe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Gt({imports:[Si,Uu]})}return t})();var yKe="firebase",xKe="10.14.1";a0(yKe,xKe,"app");var ooe={apiKey:"AIzaSyAFjiIuMBA1IpTrw__WdkQiK5PKht4_go8",authDomain:"snoguess-e4d1c.firebaseapp.com",projectId:"snoguess-e4d1c",storageBucket:"snoguess-e4d1c.appspot.com",messagingSenderId:"289449411190",appId:"1:289449411190:web:49ff68411f9e5148f11557"};var DEt=EF(ooe),loe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=jt({type:t,bootstrap:[Iae]})}static{this.\u0275inj=Gt({providers:[wH(CH())],imports:[MT,OW,ire,soe,vX,Mae,Wm,CE,Cj,mj,cY,Vg,wW,TE,AW,YE,FW,Ej,Fj,qE,U_,w1,UW,NX,WX,EX,uA,are,iY,U_,Yne,aoe,zne,qne,HX,rY]})}}return t})();RH().bootstrapModule(loe).catch(t=>console.error(t));

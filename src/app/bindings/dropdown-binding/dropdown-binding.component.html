<mat-form-field appearance="fill">
  <mat-label>{{ binding.title }}</mat-label>

  <mat-select
    [(ngModel)]="selectedOptions"
    [multiple]="binding.type === 'Select (Multiple)'"
    (selectionChange)="notify()"
    >

    <!-- Search line appears only when more than 5 choices -->
    @if (showSearch) {
      <mat-option>
        <ngx-mat-select-search
          [formControl]="searchCtrl"
          placeholderLabel="Searchâ€¦"
          noEntriesFoundLabel="No matches found"
        ></ngx-mat-select-search>
      </mat-option>
    }

    <!-- regular options list -->
    @for (item of filteredOptions; track item) {
      <mat-option
        [value]="item"
        >
        {{ item.display }}
      </mat-option>
    }
  </mat-select>

  <mat-hint>{{ binding.note }}</mat-hint>
</mat-form-field>

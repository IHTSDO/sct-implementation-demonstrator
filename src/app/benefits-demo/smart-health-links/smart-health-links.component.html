<div class="smart-health-links-page">
  <div class="header">
    <h1>Smart Health Links</h1>
    <p>Static demo for generating SHLinks and downloadable QR codes from FHIR JSON resources in assets/data.</p>
  </div>

  <div class="table-card">
    <table class="links-table">
      <thead>
        <tr>
          <th>Label</th>
          <th>Source JSON</th>
          <th>Manifest</th>
          <th>QR Preview</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        @for (item of links; track item.id) {
          <tr>
            <td>{{ item.label }}</td>
            <td><code>{{ item.sourceFile }}</code></td>
            <td><code>{{ item.manifestFile }}</code></td>
            <td>
              <img
                class="qr-preview"
                [src]="item.qrPreviewDataUrl || ''"
                [alt]="'QR preview for ' + item.label"
                loading="lazy"
              />
            </td>
            <td>
              <div class="actions">
                <button mat-stroked-button color="primary" (click)="copyShLink(item)">Copy SHLink</button>
                <button mat-flat-button color="primary" (click)="downloadQr(item, 'svg')">Download SVG</button>
                <button mat-flat-button color="accent" (click)="downloadQr(item, 'png')">Download PNG</button>
              </div>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>

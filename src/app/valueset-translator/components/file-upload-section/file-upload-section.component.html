<!-- File Upload Section -->
<div class="upload-section">
  <h3 class="upload-title">
    <mat-icon>cloud_upload</mat-icon>
    Upload Data
  </h3>
  <div class="input-method-buttons">
    <button 
      mat-raised-button 
      color="primary" 
      class="input-method-button"
      (click)="fileInput.click()"
      *ngIf="!showEclInput"
    >
      <mat-icon>upload_file</mat-icon>
      <span>Choose File (Excel/CSV/TSV/TXT/JSON)</span>
    </button>
    <button 
      mat-raised-button 
      [color]="showEclInput ? 'accent' : 'primary'"
      class="input-method-button"
      (click)="onEclInputToggle()"
    >
      <mat-icon>code</mat-icon>
      <span>{{ showEclInput ? 'Cancel ECL' : 'Enter ECL Expression' }}</span>
    </button>
  </div>
  <input
    type="file"
    (change)="onFileSelected($event)"
    accept=".xlsx,.xls,.csv,.tsv,.txt,.json"
    #fileInput
    style="display: none"
  />
  <span *ngIf="file" class="file-name">{{ file.name }}</span>
  
  <!-- File Type Notices -->
  <div *ngIf="getFileTypeNotice()" class="file-type-notice" [ngClass]="'notice-' + getFileTypeColor()">
    <mat-icon [color]="getFileTypeColor()">{{ getFileTypeIcon() }}</mat-icon>
    <span>{{ getFileTypeNotice() }}</span>
  </div>
</div>

<!-- ECL Input Section -->
<div *ngIf="showEclInput" class="ecl-input-section">
  <h3 class="ecl-title">
    <mat-icon>code</mat-icon>
    ECL Expression
  </h3>
  <div class="ecl-content">
    <mat-form-field appearance="fill" class="ecl-textarea">
      <mat-label>Enter ECL Expression</mat-label>
      <textarea 
        matInput 
        [value]="eclExpression"
        (input)="onEclExpressionChange($event.target.value)"
        placeholder="Enter your ECL expression here..."
        rows="4"
      ></textarea>
    </mat-form-field>
    <button
      mat-raised-button
      color="primary"
      class="ecl-button"
      (click)="onEclExpand()"
      [disabled]="!eclExpression.trim()"
    >
      <mat-icon>expand_more</mat-icon>
      <span>Expand ECL</span>
    </button>
  </div>
</div>
